/*! For license information please see main.0ee30c0f.js.LICENSE.txt */
(()=>{var e={551:(e,t,i)=>{"use strict";i.d(t,{r4:()=>l});var n=i(612),r=new Int16Array(286),s=new Uint8Array(286),o=new Int16Array(30),a=new Uint8Array(30),l=function(){function e(t){this.pendingBuffer=new Uint8Array(65536),this.pendingBufLength=0,this.pendingBufCache=0,this.pendingBufBitsInCache=0,this.bufferPosition=0,this.extraBits=0,this.currentHash=0,this.matchStart=0,this.matchLength=0,this.matchPrevAvail=!1,this.blockStart=0,this.stringStart=0,this.lookAhead=0,this.totalBytesIn=0,this.inputOffset=0,this.inputEnd=0,this.windowSize=32768,this.windowMask=this.windowSize-1,this.hashSize=32768,this.hashMask=this.hashSize-1,this.hashShift=Math.floor(17/3),this.maxDist=this.windowSize-262,this.checkSum=1,this.noWrap=!1,e.isHuffmanTreeInitiated||(e.initHuffmanTree(),e.isHuffmanTreeInitiated=!0),this.treeLiteral=new h(this,286,257,15),this.treeDistances=new h(this,30,1,15),this.treeCodeLengths=new h(this,19,4,7),this.arrDistances=new Uint16Array(16384),this.arrLiterals=new Uint8Array(16384),this.stream=[],this.dataWindow=new Uint8Array(2*this.windowSize),this.hashHead=new Int16Array(this.hashSize),this.hashPrevious=new Int16Array(this.windowSize),this.blockStart=this.stringStart=1,this.noWrap=t,t||this.writeZLibHeader()}return Object.defineProperty(e.prototype,"compressedData",{get:function(){return this.stream},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getCompressedString",{get:function(){var e="";if(void 0!==this.stream)for(var t=0;t<this.stream.length;t++)e+=String.fromCharCode.apply(null,this.stream[t]);return e},enumerable:!0,configurable:!0}),e.prototype.write=function(e,t,i){if(void 0===e||null===e)throw new Error("ArgumentException: data cannot null or undefined");var r=t+i;if(0>t||t>r||r>e.length)throw new Error("ArgumentOutOfRangeException: Offset or length is incorrect");if("string"===typeof e){var s=new n.W(!1);s.type="Utf8",r=t+(e=new Uint8Array(s.getBytes(e,0,e.length))).length}for(this.inputBuffer=e,this.inputOffset=t,this.inputEnd=r,this.noWrap||(this.checkSum=c.checksumUpdate(this.checkSum,this.inputBuffer,this.inputOffset,r));this.inputEnd!==this.inputOffset||0!==this.pendingBufLength;)this.pendingBufferFlush(),this.compressData(!1)},e.prototype.writeZLibHeader=function(){var e=30720;e|=64,e+=31-e%31,this.pendingBufferWriteShortBytes(e)},e.prototype.pendingBufferWriteShortBytes=function(e){this.pendingBuffer[this.pendingBufLength++]=e>>8,this.pendingBuffer[this.pendingBufLength++]=e},e.prototype.compressData=function(e){var t;do{this.fillWindow();var i=e&&this.inputEnd===this.inputOffset;t=this.compressSlow(i,e)}while(0===this.pendingBufLength&&t);return t},e.prototype.compressSlow=function(e,t){if(this.lookAhead<262&&!e)return!1;for(;this.lookAhead>=262||e;){if(0===this.lookAhead)return this.lookAheadCompleted(t);this.stringStart>=2*this.windowSize-262&&this.slideWindow();var i=this.matchStart,n=this.matchLength;if(this.lookAhead>=3&&this.discardMatch(),n>=3&&this.matchLength<=n?n=this.matchPreviousBest(i,n):this.matchPreviousAvailable(),this.bufferPosition>=16384)return this.huffmanIsFull(t)}return!0},e.prototype.discardMatch=function(){var e=this.insertString();0!==e&&this.stringStart-e<=this.maxDist&&this.findLongestMatch(e)&&this.matchLength<=5&&3===this.matchLength&&this.stringStart-this.matchStart>4096&&(this.matchLength=2)},e.prototype.matchPreviousAvailable=function(){this.matchPrevAvail&&this.huffmanTallyLit(255&this.dataWindow[this.stringStart-1]),this.matchPrevAvail=!0,this.stringStart++,this.lookAhead--},e.prototype.matchPreviousBest=function(e,t){this.huffmanTallyDist(this.stringStart-1-e,t),t-=2;do{this.stringStart++,this.lookAhead--,this.lookAhead>=3&&this.insertString()}while(--t>0);return this.stringStart++,this.lookAhead--,this.matchPrevAvail=!1,this.matchLength=2,t},e.prototype.lookAheadCompleted=function(e){return this.matchPrevAvail&&this.huffmanTallyLit(255&this.dataWindow[this.stringStart-1]),this.matchPrevAvail=!1,this.huffmanFlushBlock(this.dataWindow,this.blockStart,this.stringStart-this.blockStart,e),this.blockStart=this.stringStart,!1},e.prototype.huffmanIsFull=function(e){var t=this.stringStart-this.blockStart;this.matchPrevAvail&&t--;var i=e&&0===this.lookAhead&&!this.matchPrevAvail;return this.huffmanFlushBlock(this.dataWindow,this.blockStart,t,i),this.blockStart+=t,!i},e.prototype.fillWindow=function(){for(this.stringStart>=this.windowSize+this.maxDist&&this.slideWindow();this.lookAhead<262&&this.inputOffset<this.inputEnd;){var e=2*this.windowSize-this.lookAhead-this.stringStart;e>this.inputEnd-this.inputOffset&&(e=this.inputEnd-this.inputOffset),this.dataWindow.set(this.inputBuffer.subarray(this.inputOffset,this.inputOffset+e),this.stringStart+this.lookAhead),this.inputOffset+=e,this.totalBytesIn+=e,this.lookAhead+=e}this.lookAhead>=3&&this.updateHash()},e.prototype.slideWindow=function(){this.dataWindow.set(this.dataWindow.subarray(this.windowSize,this.windowSize+this.windowSize),0),this.matchStart-=this.windowSize,this.stringStart-=this.windowSize,this.blockStart-=this.windowSize;for(var e=0;e<this.hashSize;++e){var t=65535&this.hashHead[e];this.hashHead[e]=t>=this.windowSize?t-this.windowSize:0}for(e=0;e<this.windowSize;e++){t=65535&this.hashPrevious[e];this.hashPrevious[e]=t>=this.windowSize?t-this.windowSize:0}},e.prototype.insertString=function(){var e,t=(this.currentHash<<this.hashShift^this.dataWindow[this.stringStart+2])&this.hashMask;return this.hashPrevious[this.stringStart&this.windowMask]=e=this.hashHead[t],this.hashHead[t]=this.stringStart,this.currentHash=t,65535&e},e.prototype.findLongestMatch=function(e){var t,i=4096,n=258,r=this.stringStart,s=this.stringStart+this.matchLength,o=Math.max(this.matchLength,2),a=Math.max(this.stringStart-this.maxDist,0),l=this.stringStart+258-1,h=this.dataWindow[s-1],c=this.dataWindow[s],u=this.dataWindow;o>=32&&(i>>=2),n>this.lookAhead&&(n=this.lookAhead);do{if(u[e+o]===c&&u[e+o-1]===h&&u[e]===u[r]&&u[e+1]===u[r+1]){for(t=e+2,r+=2;u[++r]===u[++t]&&u[++r]===u[++t]&&u[++r]===u[++t]&&u[++r]===u[++t]&&u[++r]===u[++t]&&u[++r]===u[++t]&&u[++r]===u[++t]&&u[++r]===u[++t]&&r<l;);if(r>s){if(this.matchStart=e,s=r,(o=r-this.stringStart)>=n)break;h=u[s-1],c=u[s]}r=this.stringStart}}while((e=65535&this.hashPrevious[e&this.windowMask])>a&&0!==--i);return this.matchLength=Math.min(o,this.lookAhead),this.matchLength>=3},e.prototype.updateHash=function(){this.currentHash=this.dataWindow[this.stringStart]<<this.hashShift^this.dataWindow[this.stringStart+1]},e.prototype.huffmanTallyLit=function(e){return this.arrDistances[this.bufferPosition]=0,this.arrLiterals[this.bufferPosition++]=e,this.treeLiteral.codeFrequencies[e]++,this.bufferPosition>=16384},e.prototype.huffmanTallyDist=function(e,t){this.arrDistances[this.bufferPosition]=e,this.arrLiterals[this.bufferPosition++]=t-3;var i=this.huffmanLengthCode(t-3);this.treeLiteral.codeFrequencies[i]++,i>=265&&i<285&&(this.extraBits+=Math.floor((i-261)/4));var n=this.huffmanDistanceCode(e-1);return this.treeDistances.codeFrequencies[n]++,n>=4&&(this.extraBits+=Math.floor(n/2-1)),this.bufferPosition>=16384},e.prototype.huffmanFlushBlock=function(e,t,i,n){this.treeLiteral.codeFrequencies[256]++,this.treeLiteral.buildTree(),this.treeDistances.buildTree(),this.treeLiteral.calculateBLFreq(this.treeCodeLengths),this.treeDistances.calculateBLFreq(this.treeCodeLengths),this.treeCodeLengths.buildTree();for(var l=4,c=18;c>l;c--)this.treeCodeLengths.codeLengths[h.huffCodeLengthOrders[c]]>0&&(l=c+1);var u=14+3*l+this.treeCodeLengths.getEncodedLength()+this.treeLiteral.getEncodedLength()+this.treeDistances.getEncodedLength()+this.extraBits,p=this.extraBits;for(c=0;c<286;c++)p+=this.treeLiteral.codeFrequencies[c]*s[c];for(c=0;c<30;c++)p+=this.treeDistances.codeFrequencies[c]*a[c];u>=p&&(u=p),t>=0&&i+4<u>>3?this.huffmanFlushStoredBlock(e,t,i,n):u==p?(this.pendingBufferWriteBits(2+(n?1:0),3),this.treeLiteral.setStaticCodes(r,s),this.treeDistances.setStaticCodes(o,a),this.huffmanCompressBlock(),this.huffmanReset()):(this.pendingBufferWriteBits(4+(n?1:0),3),this.huffmanSendAllTrees(l),this.huffmanCompressBlock(),this.huffmanReset())},e.prototype.huffmanFlushStoredBlock=function(e,t,i,n){this.pendingBufferWriteBits(0+(n?1:0),3),this.pendingBufferAlignToByte(),this.pendingBufferWriteShort(i),this.pendingBufferWriteShort(~i),this.pendingBufferWriteByteBlock(e,t,i),this.huffmanReset()},e.prototype.huffmanLengthCode=function(e){if(255===e)return 285;for(var t=257;e>=8;)t+=4,e>>=1;return t+e},e.prototype.huffmanDistanceCode=function(e){for(var t=0;e>=4;)t+=2,e>>=1;return t+e},e.prototype.huffmanSendAllTrees=function(e){this.treeCodeLengths.buildCodes(),this.treeLiteral.buildCodes(),this.treeDistances.buildCodes(),this.pendingBufferWriteBits(this.treeLiteral.treeLength-257,5),this.pendingBufferWriteBits(this.treeDistances.treeLength-1,5),this.pendingBufferWriteBits(e-4,4);for(var t=0;t<e;t++)this.pendingBufferWriteBits(this.treeCodeLengths.codeLengths[h.huffCodeLengthOrders[t]],3);this.treeLiteral.writeTree(this.treeCodeLengths),this.treeDistances.writeTree(this.treeCodeLengths)},e.prototype.huffmanReset=function(){this.bufferPosition=0,this.extraBits=0,this.treeLiteral.reset(),this.treeDistances.reset(),this.treeCodeLengths.reset()},e.prototype.huffmanCompressBlock=function(){for(var e=0;e<this.bufferPosition;e++){var t=255&this.arrLiterals[e],i=this.arrDistances[e];if(0!==i--){var n=this.huffmanLengthCode(t);this.treeLiteral.writeCodeToStream(n);var r=Math.floor((n-261)/4);r>0&&r<=5&&this.pendingBufferWriteBits(t&(1<<r)-1,r);var s=this.huffmanDistanceCode(i);this.treeDistances.writeCodeToStream(s),(r=Math.floor(s/2-1))>0&&this.pendingBufferWriteBits(i&(1<<r)-1,r)}else this.treeLiteral.writeCodeToStream(t)}this.treeLiteral.writeCodeToStream(256)},e.prototype.pendingBufferWriteBits=function(e,t){var i=new Uint32Array(1);i[0]=this.pendingBufCache|e<<this.pendingBufBitsInCache,this.pendingBufCache=i[0],this.pendingBufBitsInCache+=t,this.pendingBufferFlushBits()},e.prototype.pendingBufferFlush=function(e){if(this.pendingBufferFlushBits(),this.pendingBufLength>0){var t=new Uint8Array(this.pendingBufLength);t.set(this.pendingBuffer.subarray(0,this.pendingBufLength),0),this.stream.push(t)}this.pendingBufLength=0},e.prototype.pendingBufferFlushBits=function(){for(var e=0;this.pendingBufBitsInCache>=8&&this.pendingBufLength<65536;)this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache,this.pendingBufCache>>=8,this.pendingBufBitsInCache-=8,e++;return e},e.prototype.pendingBufferWriteByteBlock=function(e,t,i){var n=e.subarray(t,t+i);this.pendingBuffer.set(n,this.pendingBufLength),this.pendingBufLength+=i},e.prototype.pendingBufferWriteShort=function(e){this.pendingBuffer[this.pendingBufLength++]=e,this.pendingBuffer[this.pendingBufLength++]=e>>8},e.prototype.pendingBufferAlignToByte=function(){this.pendingBufBitsInCache>0&&(this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache),this.pendingBufCache=0,this.pendingBufBitsInCache=0},e.initHuffmanTree=function(){for(var e=0;e<144;)r[e]=h.bitReverse(48+e<<8),s[e++]=8;for(;e<256;)r[e]=h.bitReverse(256+e<<7),s[e++]=9;for(;e<280;)r[e]=h.bitReverse(-256+e<<9),s[e++]=7;for(;e<286;)r[e]=h.bitReverse(-88+e<<8),s[e++]=8;for(e=0;e<30;e++)o[e]=h.bitReverse(e<<11),a[e]=5},e.prototype.close=function(){do{this.pendingBufferFlush(!0),this.compressData(!0)||(this.pendingBufferFlush(!0),this.pendingBufferAlignToByte(),this.noWrap||(this.pendingBufferWriteShortBytes(this.checkSum>>16),this.pendingBufferWriteShortBytes(65535&this.checkSum)),this.pendingBufferFlush(!0))}while(this.inputEnd!==this.inputOffset||0!==this.pendingBufLength)},e.prototype.destroy=function(){this.stream=[],this.stream=void 0,this.pendingBuffer=void 0,this.treeLiteral=void 0,this.treeDistances=void 0,this.treeCodeLengths=void 0,this.arrLiterals=void 0,this.arrDistances=void 0,this.hashHead=void 0,this.hashPrevious=void 0,this.dataWindow=void 0,this.inputBuffer=void 0,this.pendingBufLength=void 0,this.pendingBufCache=void 0,this.pendingBufBitsInCache=void 0,this.bufferPosition=void 0,this.extraBits=void 0,this.currentHash=void 0,this.matchStart=void 0,this.matchLength=void 0,this.matchPrevAvail=void 0,this.blockStart=void 0,this.stringStart=void 0,this.lookAhead=void 0,this.totalBytesIn=void 0,this.inputOffset=void 0,this.inputEnd=void 0,this.windowSize=void 0,this.windowMask=void 0,this.hashSize=void 0,this.hashMask=void 0,this.hashShift=void 0,this.maxDist=void 0,this.checkSum=void 0,this.noWrap=void 0},e.isHuffmanTreeInitiated=!1,e}(),h=function(){function e(e,t,i,n){this.writer=e,this.codeMinCount=i,this.maxLength=n,this.codeFrequency=new Uint16Array(t),this.lengthCount=new Int32Array(n)}return Object.defineProperty(e.prototype,"treeLength",{get:function(){return this.codeCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"codeLengths",{get:function(){return this.codeLength},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"codeFrequencies",{get:function(){return this.codeFrequency},enumerable:!0,configurable:!0}),e.prototype.setStaticCodes=function(e,t){var i=new Int16Array(e.length);i.set(e,0),this.codes=i;var n=new Uint8Array(t.length);n.set(t,0),this.codeLength=n},e.prototype.reset=function(){for(var e=0;e<this.codeFrequency.length;e++)this.codeFrequency[e]=0;this.codes=void 0,this.codeLength=void 0},e.prototype.writeCodeToStream=function(e){this.writer.pendingBufferWriteBits(65535&this.codes[e],this.codeLength[e])},e.prototype.buildCodes=function(){var t=new Int32Array(this.maxLength);this.codes=new Int16Array(this.codeCount);for(var i=0,n=0;n<this.maxLength;n++)t[n]=i,i+=this.lengthCount[n]<<15-n;for(var r=0;r<this.codeCount;r++){var s=this.codeLength[r];s>0&&(this.codes[r]=e.bitReverse(t[s-1]),t[s-1]+=1<<16-s)}},e.bitReverse=function(t){return e.reverseBits[15&t]<<12|e.reverseBits[t>>4&15]<<8|e.reverseBits[t>>8&15]<<4|e.reverseBits[t>>12]},e.prototype.getEncodedLength=function(){for(var e=0,t=0;t<this.codeFrequency.length;t++)e+=this.codeFrequency[t]*this.codeLength[t];return e},e.prototype.calculateBLFreq=function(e){for(var t,i,n,r=-1,s=0;s<this.codeCount;){n=1;var o=this.codeLength[s];for(0===o?(t=138,i=3):(t=6,i=3,r!==o&&(e.codeFrequency[o]++,n=0)),r=o,s++;s<this.codeCount&&r===this.codeLength[s]&&(s++,!(++n>=t)););n<i?e.codeFrequency[r]+=n:0!==r?e.codeFrequency[16]++:n<=10?e.codeFrequency[17]++:e.codeFrequency[18]++}},e.prototype.writeTree=function(e){for(var t,i,n,r=-1,s=0;s<this.codeCount;){n=1;var o=this.codeLength[s];for(0===o?(t=138,i=3):(t=6,i=3,r!==o&&(e.writeCodeToStream(o),n=0)),r=o,s++;s<this.codeCount&&r===this.codeLength[s]&&(s++,!(++n>=t)););if(n<i)for(;n-- >0;)e.writeCodeToStream(r);else 0!==r?(e.writeCodeToStream(16),this.writer.pendingBufferWriteBits(n-3,2)):n<=10?(e.writeCodeToStream(17),this.writer.pendingBufferWriteBits(n-3,3)):(e.writeCodeToStream(18),this.writer.pendingBufferWriteBits(n-11,7))}},e.prototype.buildTree=function(){for(var e=this.codeFrequency.length,t=new Int32Array(e),i=0,n=0,r=0;r<e;r++){var s=this.codeFrequency[r];if(0!==s){for(var o=i++,a=0;o>0&&this.codeFrequency[t[a=Math.floor((o-1)/2)]]>s;)t[o]=t[a],o=a;t[o]=r,n=r}}for(;i<2;)t[i++]=n<2?++n:0;this.codeCount=Math.max(n+1,this.codeMinCount);for(var l=i,h=new Int32Array(4*i-2),c=new Int32Array(2*i-1),u=0;u<i;u++){var p=t[u],d=2*u;h[d]=p,h[d+1]=-1,c[u]=this.codeFrequency[p]<<8,t[u]=u}this.constructHuffmanTree(t,i,c,l,h),this.buildLength(h)},e.prototype.constructHuffmanTree=function(e,t,i,n,r){do{for(var s=e[0],o=e[--t],a=i[o],l=0,h=1;h<t;)h+1<t&&i[e[h]]>i[e[h+1]]&&h++,e[l]=e[h],h=2*(l=h)+1;for(;(h=l)>0&&i[e[l=Math.floor((h-1)/2)]]>a;)e[h]=e[l];e[h]=o;var c=e[0];r[2*(o=n++)]=s,r[2*o+1]=c;var u=Math.min(255&i[s],255&i[c]);for(i[o]=a=i[s]+i[c]-u+1,l=0,h=1;h<t;)h+1<t&&i[e[h]]>i[e[h+1]]&&h++,e[l]=e[h],h=2*(l=h)+1;for(;(h=l)>0&&i[e[l=Math.floor((h-1)/2)]]>a;)e[h]=e[l];e[h]=o}while(t>1)},e.prototype.buildLength=function(e){this.codeLength=new Uint8Array(this.codeFrequency.length);for(var t=Math.floor(e.length/2),i=Math.floor((t+1)/2),n=0,r=0;r<this.maxLength;r++)this.lengthCount[r]=0;if(0!==(n=this.calculateOptimalCodeLength(e,n,t))){var s=this.maxLength-1;do{for(;0===this.lengthCount[--s];);do{this.lengthCount[s]--,this.lengthCount[++s]++,n-=1<<this.maxLength-1-s}while(n>0&&s<this.maxLength-1)}while(n>0);this.recreateTree(e,n,i)}},e.prototype.recreateTree=function(e,t,i){this.lengthCount[this.maxLength-1]+=t,this.lengthCount[this.maxLength-2]-=t;for(var n=2*i,r=this.maxLength;0!==r;r--)for(var s=this.lengthCount[r-1];s>0;){var o=2*e[n++];-1===e[o+1]&&(this.codeLength[e[o]]=r,s--)}},e.prototype.calculateOptimalCodeLength=function(e,t,i){var n=new Int32Array(i);n[i-1]=0;for(var r=i-1;r>=0;r--){var s=2*r+1;if(-1!==e[s]){(o=n[r]+1)>this.maxLength&&(o=this.maxLength,t++),n[e[s-1]]=n[e[s]]=o}else{var o=n[r];this.lengthCount[o-1]++,this.codeLength[e[s-1]]=n[r]}}return t},e.reverseBits=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],e.huffCodeLengthOrders=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],e}(),c=function(){function e(){}return e.checksumUpdate=function(t,i,n,r){var s=new Uint32Array(1);s[0]=t;for(var o=s[0],a=s[0]=65535&o,l=s[0]=o>>e.checkSumBitOffset;r>0;){var h=Math.min(r,e.checksumIterationCount);for(r-=h;--h>=0;)l+=a+=s[0]=255&i[n++];a%=e.checksumBase,l%=e.checksumBase}return o=l<<e.checkSumBitOffset|a},e.checkSumBitOffset=16,e.checksumBase=65521,e.checksumIterationCount=3800,e}()},612:(e,t,i)=>{"use strict";i.d(t,{W:()=>n,d:()=>r});var n=function(){function e(e){this.emitBOM=!0,this.encodingType="Ansi",this.initBOM(e)}return Object.defineProperty(e.prototype,"includeBom",{get:function(){return this.emitBOM},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.encodingType},set:function(e){this.encodingType=e},enumerable:!0,configurable:!0}),e.prototype.initBOM=function(e){this.emitBOM=void 0===e||null===e||e},e.prototype.getByteCount=function(e){return r(e,"string"),""===e?this.utf8Len(e.charCodeAt(0)):(null!==this.type&&void 0!==this.type||(this.type="Ansi"),this.getByteCountInternal(e,0,e.length))},e.prototype.utf8Len=function(e){return e<=127?1:e<=2047?2:e<=65535?3:e<=2097151?4:0},e.prototype.isHighSurrogate=function(e){return e>=55296&&e<=56319},e.prototype.toCodepoint=function(e,t){return((e=(1023&e)<<10)|1023&t)+65536},e.prototype.getByteCountInternal=function(e,t,i){var n=0;if("Utf8"===this.encodingType||"Unicode"===this.encodingType){for(var r="Utf8"===this.encodingType,s=0;s<i;s++){var o=e.charCodeAt(r?t:t++);if(this.isHighSurrogate(o))if(r){var a=o,l=e.charCodeAt(++t);n+=this.utf8Len(this.toCodepoint(a,l))}else n+=4,++s;else n+=r?this.utf8Len(o):2;r&&t++}return n}return n=i},e.prototype.getBytes=function(e,t,i){if(r(e,"string"),r(t,"charIndex"),r(i,"charCount"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: charIndex or charCount is less than zero");if(e.length-t<i)throw new RangeError("Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string");if(""===e)return new ArrayBuffer(0);null!==this.type&&void 0!==this.type||(this.type="Ansi");var n=this.getByteCountInternal(e,t,i);switch(this.type){case"Utf8":return this.getBytesOfUtf8Encoding(n,e,t,i);case"Unicode":return this.getBytesOfUnicodeEncoding(n,e,t,i);default:return this.getBytesOfAnsiEncoding(n,e,t,i)}},e.prototype.getString=function(e,t,i){if(r(e,"bytes"),r(t,"index"),r(i,"count"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: index or count is less than zero");if(e.byteLength-t<i)throw new RangeError("Argument Out Of Range Exception: index and count do not denote a valid range in bytes");if(0===e.byteLength||0===i)return"";null!==this.type&&void 0!==this.type||(this.type="Ansi");var n="",s=new Uint8Array(e);switch(this.type){case"Utf8":return this.getStringOfUtf8Encoding(s,t,i);case"Unicode":var o=new Uint16Array(e);return n=this.getStringofUnicodeEncoding(o,t,i);default:for(var a=t,l=0;l<i;l++){var h=s[a];n+=String.fromCharCode(h),a++}return n}},e.prototype.getBytesOfAnsiEncoding=function(e,t,i,n){for(var r=new ArrayBuffer(e),s=new Uint8Array(r),o=0,a=0;a<n;a++){var l=t.charCodeAt(i++);s[o]=l<2048?l:63,o++}return r},e.prototype.getBytesOfUtf8Encoding=function(e,t,i,n){for(var r=new ArrayBuffer(e),s=new Uint8Array(r),o=i,a=0,l=0;l<n;l++){var h=t.charCodeAt(o);h<=127?s[a]=h:h<2048?(s[a]=192|h>>6,s[++a]=128|63&h):h<55296||h>=57344?(s[a]=224|h>>12,s[++a]=128|h>>6&63,s[++a]=128|63&h):(s[a]=239,s[++a]=191,s[++a]=189),++a,++o}return r},e.prototype.getBytesOfUnicodeEncoding=function(e,t,i,n){for(var r=new ArrayBuffer(e),s=new Uint16Array(r),o=0;o<n;o++){var a=t.charCodeAt(o);s[o]=a}return r},e.prototype.getStringOfUtf8Encoding=function(e,t,i){for(var n=0,r=t,s="";n<i;n++){for(var o=e[r++];r>e.length;)return s;o>127&&(o>191&&o<224&&r<i?o=(31&o)<<6|63&e[r]:o>223&&o<240&&r<e.byteLength?o=(15&o)<<12|(63&e[r])<<6|63&e[++r]:o>239&&o<248&&r<e.byteLength&&(o=(7&o)<<18|(63&e[r])<<12|(63&e[++r])<<6|63&e[++r]),++r),s+=String.fromCharCode(o)}return s},e.prototype.getStringofUnicodeEncoding=function(e,t,i){if(i>e.length)throw new RangeError("ArgumentOutOfRange_Count");for(var n=new Uint16Array(i),r=0;r<i&&r<e.length;r++)n[r]=e[t++];return String.fromCharCode.apply(null,n)},e.prototype.destroy=function(){this.emitBOM=void 0,this.encodingType=void 0},e}();function r(e,t){if(null===e||void 0===e)throw new Error("ArgumentException: "+t+" cannot be null or undefined")}},864:(e,t,i)=>{"use strict";i.d(t,{e:()=>n});var n=function(){function e(){}return e.save=function(e,t){if(null===e||void 0===e||""===e)throw new Error("ArgumentException: fileName cannot be undefined, null or empty");var i=e.substring(e.lastIndexOf(".")+1,e.length),n=this.getMimeType(i);if(""!==n&&(t=new Blob([t],{type:n})),this.isMicrosoftBrowser)navigator.msSaveBlob(t,e);else{var r=document.createElementNS("http://www.w3.org/1999/xhtml","a");this.saveInternal(e,i,t,r,"download"in r)}},e.saveInternal=function(e,t,i,n,r){if(r){n.download=e;var s=window.URL.createObjectURL(i);n.href=s;var o=document.createEvent("MouseEvent");o.initEvent("click",!0,!0),n.dispatchEvent(o),setTimeout((function(){window.URL.revokeObjectURL(s),s=void 0}))}else if("docx"!==t&&"xlsx"!==t){var a=window.URL.createObjectURL(i);window.open(a,"_blank")||(window.location.href=a)}else{var l=new FileReader;l.onloadend=function(){window.open(l.result,"_blank")||(window.location.href=l.result)},l.readAsDataURL(i)}},e.getMimeType=function(e){var t="";switch(e){case"html":t="text/html";break;case"pdf":t="application/pdf";break;case"docx":t="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case"xlsx":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"txt":t="text/plain"}return t},e}()},643:(e,t,i)=>{"use strict";var n,r,s,o,a,l,h,c,u,p,d,f,g,m,y,v,b,M,S,w,_,I,N,C,x,D,T,A,j,E,k,z,L,O,P,R,F,B,V,U,H,W,Y,Q,q,G,K,X,J;i.r(t),i.d(t,{BaseException:()=>xn,DataFormat:()=>N,Dictionary:()=>Wn,FormatError:()=>Dn,ParserEndOfFileException:()=>Tn,Pdf3DAnnotation:()=>At,PdfAngleMeasurementAnnotation:()=>wt,PdfAnnotation:()=>dt,PdfAnnotationBorder:()=>Yt,PdfAnnotationCaption:()=>Ut,PdfAnnotationCollection:()=>Kt,PdfAnnotationExportSettings:()=>fs,PdfAnnotationFlag:()=>n,PdfAnnotationIntent:()=>_,PdfAnnotationLineEndingStyle:()=>Ht,PdfAnnotationState:()=>M,PdfAnnotationStateModel:()=>S,PdfAppearance:()=>ut,PdfAttachmentAnnotation:()=>Tt,PdfAttachmentIcon:()=>w,PdfBitmap:()=>bs,PdfBlendMode:()=>O,PdfBookmark:()=>as,PdfBookmarkBase:()=>os,PdfBorderEffect:()=>Qt,PdfBorderEffectStyle:()=>l,PdfBorderStyle:()=>a,PdfBrush:()=>oi,PdfButtonField:()=>nt,PdfCheckBoxField:()=>rt,PdfCheckBoxStyle:()=>y,PdfCircleAnnotation:()=>mt,PdfCircleMeasurementType:()=>g,PdfCjkFontFamily:()=>ge,PdfCjkStandardFont:()=>Ye,PdfComboBoxField:()=>at,PdfComment:()=>ft,PdfCrossReferenceType:()=>c,PdfDashStyle:()=>R,PdfDestination:()=>Zt,PdfDestinationMode:()=>I,PdfDocument:()=>ds,PdfDocumentLinkAnnotation:()=>xt,PdfEllipseAnnotation:()=>yt,PdfField:()=>tt,PdfFileLinkAnnotation:()=>Nt,PdfFileStructure:()=>ps,PdfFillMode:()=>P,PdfFont:()=>He,PdfFontFamily:()=>fe,PdfFontStyle:()=>de,PdfForm:()=>Yr,PdfFormFieldExportSettings:()=>gs,PdfFormFieldVisibility:()=>d,PdfFormFieldsTabOrder:()=>C,PdfFreeTextAnnotation:()=>Lt,PdfGraphics:()=>ti,PdfGraphicsState:()=>ri,PdfHighlightMode:()=>u,PdfImage:()=>ei,PdfInkAnnotation:()=>_t,PdfInteractiveBorder:()=>Wt,PdfLineAnnotation:()=>gt,PdfLineCap:()=>F,PdfLineCaptionType:()=>o,PdfLineEndingStyle:()=>r,PdfLineIntent:()=>s,PdfLineJoin:()=>B,PdfListBoxField:()=>lt,PdfListField:()=>ot,PdfListFieldItem:()=>Vt,PdfMeasurementUnit:()=>f,PdfNamedDestination:()=>ls,PdfPage:()=>Jt,PdfPageOrientation:()=>k,PdfPen:()=>ai,PdfPermissionFlag:()=>E,PdfPolyLineAnnotation:()=>St,PdfPolygonAnnotation:()=>Mt,PdfPopupAnnotation:()=>It,PdfPopupAnnotationCollection:()=>Xt,PdfPopupIcon:()=>b,PdfPredictorStream:()=>yr,PdfRadioButtonListField:()=>st,PdfRadioButtonListItem:()=>Bt,PdfRectangleAnnotation:()=>bt,PdfRedactionAnnotation:()=>Ot,PdfRichMediaAnnotation:()=>Pt,PdfRotationAngle:()=>h,PdfRubberStampAnnotation:()=>kt,PdfRubberStampAnnotationIcon:()=>m,PdfSignatureField:()=>ht,PdfSoundAnnotation:()=>zt,PdfSquareAnnotation:()=>vt,PdfStandardFont:()=>We,PdfStateItem:()=>Ft,PdfStringFormat:()=>ee,PdfSubSuperScript:()=>L,PdfTemplate:()=>$,PdfTextAlignment:()=>p,PdfTextBoxField:()=>it,PdfTextDirection:()=>z,PdfTextMarkupAnnotation:()=>jt,PdfTextMarkupAnnotationType:()=>v,PdfTextStyle:()=>J,PdfTextWebLinkAnnotation:()=>Dt,PdfTrueTypeFont:()=>Qe,PdfUriAnnotation:()=>Ct,PdfVerticalAlignment:()=>Z,PdfWatermarkAnnotation:()=>Et,PdfWidgetAnnotation:()=>Rt,_AdvancedEncryption:()=>jr,_AdvancedEncryption128Cipher:()=>Lr,_AdvancedEncryption256Cipher:()=>Or,_AdvancedEncryptionBaseCipher:()=>zr,_ArabicShape:()=>Re,_ArabicShapeRenderer:()=>Pe,_BasicEncryption:()=>Ar,_Bidirectional:()=>Fe,_BigEndianWriter:()=>Le,_Cipher:()=>Er,_CipherTransform:()=>Rr,_CjkDifferentWidth:()=>he,_CjkSameWidth:()=>le,_CjkWidth:()=>ae,_CjkWidthTable:()=>oe,_ContentLexer:()=>ir,_ContentParser:()=>tr,_EncryptionKey:()=>Tr,_ExportHelper:()=>Jr,_FdfDocument:()=>ns,_FdfHelper:()=>rs,_FieldFlag:()=>T,_FontDescriptorFlag:()=>U,_FontStructure:()=>$r,_ImageDecoder:()=>ys,_ImageFormat:()=>K,_JsonDocument:()=>ts,_LineInfo:()=>pe,_LineType:()=>te,_Linearization:()=>wr,_MD5:()=>Nr,_Matrix:()=>ni,_Namespace:()=>qr,_NormalCipherFour:()=>kr,_NullCipher:()=>Pr,_PaintParameter:()=>qt,_PathPointType:()=>Xe,_PdfAnnotationType:()=>x,_PdfBaseStream:()=>Jn,_PdfCatalog:()=>gr,_PdfCheckFieldState:()=>j,_PdfCjkFontDescriptorFactory:()=>Ke,_PdfCjkStandardFontMetricsFactory:()=>Ge,_PdfCommand:()=>Bn,_PdfContentStream:()=>$n,_PdfCrossReference:()=>Br,_PdfDecodeStream:()=>sr,_PdfDecryptStream:()=>ar,_PdfDefaultAppearance:()=>ct,_PdfDictionary:()=>Yn,_PdfEncryptor:()=>Ir,_PdfFlateStream:()=>fr,_PdfFontMetrics:()=>ne,_PdfGraphicsUnit:()=>D,_PdfLexicalOperator:()=>Mr,_PdfName:()=>Fn,_PdfNamedDestinationCollection:()=>hs,_PdfNull:()=>Qn,_PdfNullStream:()=>er,_PdfPaddings:()=>ms,_PdfParser:()=>Sr,_PdfPath:()=>Ze,_PdfRecord:()=>nr,_PdfReference:()=>Vn,_PdfReferenceSet:()=>Un,_PdfReferenceSetCache:()=>Hn,_PdfStandardFontMetricsFactory:()=>qe,_PdfStream:()=>Zn,_PdfStreamWriter:()=>$t,_PdfStringLayoutResult:()=>ue,_PdfStringLayouter:()=>ce,_PdfTransformationMatrix:()=>ii,_PdfUnitConvertor:()=>li,_PdfWordWrapType:()=>V,_RtlCharacters:()=>Be,_RtlRenderer:()=>Ve,_Sha256:()=>Cr,_Sha512:()=>xr,_SignatureFlag:()=>A,_StandardWidthTable:()=>se,_StringTokenizer:()=>me,_TextRenderingMode:()=>$e,_TokenType:()=>X,_TrueTypeAppleCmapSubTable:()=>Ce,_TrueTypeCmapEncoding:()=>W,_TrueTypeCmapFormat:()=>H,_TrueTypeCmapSubTable:()=>Ne,_TrueTypeCmapTable:()=>Ie,_TrueTypeCompositeGlyphFlag:()=>G,_TrueTypeGlyph:()=>Ee,_TrueTypeGlyphHeader:()=>ze,_TrueTypeHeadTable:()=>_e,_TrueTypeHorizontalHeaderTable:()=>we,_TrueTypeLocaTable:()=>ke,_TrueTypeLongHorMetric:()=>je,_TrueTypeMacintoshEncodingID:()=>q,_TrueTypeMetrics:()=>Ae,_TrueTypeMicrosoftCmapSubTable:()=>Se,_TrueTypeMicrosoftEncodingID:()=>Q,_TrueTypeNameRecord:()=>Te,_TrueTypeNameTable:()=>Me,_TrueTypeOS2Table:()=>ve,_TrueTypePlatformID:()=>Y,_TrueTypePostTable:()=>be,_TrueTypeReader:()=>De,_TrueTypeTableInfo:()=>ye,_TrueTypeTrimmedCmapSubTable:()=>xe,_UnicodeLine:()=>Je,_UnicodeTrueTypeFont:()=>Oe,_WidthTable:()=>re,_Word64:()=>Dr,_XfdfDocument:()=>Zr,_XmlAttribute:()=>Kr,_XmlDocument:()=>us,_XmlElement:()=>Gr,_XmlWriter:()=>Qr,_addProcSet:()=>Yi,_annotationFlagsToString:()=>pi,_areArrayEqual:()=>yi,_areNotEqual:()=>bi,_byteArrayToHexString:()=>wi,_bytesToString:()=>Mi,_calculateBounds:()=>Ai,_checkComment:()=>wn,_checkField:()=>Xi,_checkInkPoints:()=>Ln,_checkReview:()=>Sn,_checkRotation:()=>ci,_clearPrimitiveCaches:()=>qn,_convertStringToBytes:()=>mi,_convertToColor:()=>zi,_decode:()=>Ci,_defaultToString:()=>An,_encode:()=>xi,_encodeValue:()=>bn,_escapePdfName:()=>qi,_findPage:()=>Ki,_floatToString:()=>Wi,_fromRectangle:()=>Ei,_getBezierArc:()=>Gi,_getColorValue:()=>$i,_getCommentsOrReview:()=>Mn,_getFontStyle:()=>En,_getInheritableProperty:()=>Di,_getItemValue:()=>Ji,_getLatinCharacter:()=>vn,_getNewGuidString:()=>Qi,_getPageIndex:()=>ui,_getSpecialCharacter:()=>yn,_getStateTemplate:()=>Zi,_getUpdatedBounds:()=>ki,_hexStringToByteArray:()=>_i,_hexStringToString:()=>Ii,_isCommand:()=>Kn,_isName:()=>Gn,_isWhiteSpace:()=>Ni,_mapAnnotationIntent:()=>gn,_mapAnnotationState:()=>un,_mapAnnotationStateModel:()=>dn,_mapAttachmentIcon:()=>fn,_mapBlendMode:()=>Hi,_mapBorderEffectStyle:()=>Pi,_mapBorderStyle:()=>Oi,_mapFont:()=>kn,_mapGraphicsUnit:()=>an,_mapHighlightMode:()=>Bi,_mapLineEndingStyle:()=>Fi,_mapMarkupAnnotationType:()=>sn,_mapMeasurementUnit:()=>rn,_mapPopupIcon:()=>hn,_mapRubberStampIcon:()=>ln,_numberToString:()=>vi,_obtainFontDetails:()=>jn,_parseColor:()=>Li,_parseRectangle:()=>Ti,_removeDuplicateFromResources:()=>Nn,_removeDuplicateReference:()=>In,_removeReferences:()=>Cn,_reverseMapAnnotationState:()=>cn,_reverseMapAnnotationStateModel:()=>pn,_reverseMapBlendMode:()=>Ui,_reverseMapEndingStyle:()=>Ri,_reverseMapHighlightMode:()=>Vi,_reverseMapPdfFontStyle:()=>mn,_reverseMarkupAnnotationType:()=>on,_setMatrix:()=>en,_stringToAnnotationFlags:()=>di,_stringToBytes:()=>gi,_stringToPdfString:()=>fi,_stringToStyle:()=>nn,_stringToUnicodeArray:()=>Si,_styleToString:()=>tn,_toRectangle:()=>ji,_tryParseFontStream:()=>zn,_updateVisibility:()=>_n}),function(e){e[e.default=0]="default",e[e.invisible=1]="invisible",e[e.hidden=2]="hidden",e[e.print=4]="print",e[e.noZoom=8]="noZoom",e[e.noRotate=16]="noRotate",e[e.noView=32]="noView",e[e.readOnly=64]="readOnly",e[e.locked=128]="locked",e[e.toggleNoView=256]="toggleNoView"}(n||(n={})),function(e){e[e.none=0]="none",e[e.openArrow=1]="openArrow",e[e.closedArrow=2]="closedArrow",e[e.rOpenArrow=3]="rOpenArrow",e[e.rClosedArrow=4]="rClosedArrow",e[e.butt=5]="butt",e[e.diamond=6]="diamond",e[e.circle=7]="circle",e[e.square=8]="square",e[e.slash=9]="slash"}(r||(r={})),function(e){e[e.lineArrow=0]="lineArrow",e[e.lineDimension=1]="lineDimension"}(s||(s={})),function(e){e[e.inline=0]="inline",e[e.top=1]="top"}(o||(o={})),function(e){e[e.solid=0]="solid",e[e.dashed=1]="dashed",e[e.beveled=2]="beveled",e[e.inset=3]="inset",e[e.underline=4]="underline",e[e.dot=5]="dot"}(a||(a={})),function(e){e[e.solid=0]="solid",e[e.cloudy=1]="cloudy"}(l||(l={})),function(e){e[e.angle0=0]="angle0",e[e.angle90=1]="angle90",e[e.angle180=2]="angle180",e[e.angle270=3]="angle270"}(h||(h={})),function(e){e[e.table=0]="table",e[e.stream=1]="stream"}(c||(c={})),function(e){e[e.noHighlighting=0]="noHighlighting",e[e.invert=1]="invert",e[e.outline=2]="outline",e[e.push=3]="push"}(u||(u={})),function(e){e[e.left=0]="left",e[e.center=1]="center",e[e.right=2]="right",e[e.justify=3]="justify"}(p||(p={})),function(e){e[e.visible=0]="visible",e[e.hidden=1]="hidden",e[e.visibleNotPrintable=2]="visibleNotPrintable",e[e.hiddenPrintable=3]="hiddenPrintable"}(d||(d={})),function(e){e[e.inch=0]="inch",e[e.pica=1]="pica",e[e.point=3]="point",e[e.centimeter=4]="centimeter",e[e.millimeter=6]="millimeter"}(f||(f={})),function(e){e[e.diameter=0]="diameter",e[e.radius=1]="radius"}(g||(g={})),function(e){e[e.approved=0]="approved",e[e.asIs=1]="asIs",e[e.confidential=2]="confidential",e[e.departmental=3]="departmental",e[e.draft=4]="draft",e[e.experimental=5]="experimental",e[e.expired=6]="expired",e[e.final=7]="final",e[e.forComment=8]="forComment",e[e.forPublicRelease=9]="forPublicRelease",e[e.notApproved=10]="notApproved",e[e.notForPublicRelease=11]="notForPublicRelease",e[e.sold=12]="sold",e[e.topSecret=13]="topSecret",e[e.completed=14]="completed",e[e.void=15]="void",e[e.informationOnly=16]="informationOnly",e[e.preliminaryResults=17]="preliminaryResults"}(m||(m={})),function(e){e[e.check=0]="check",e[e.circle=1]="circle",e[e.cross=2]="cross",e[e.diamond=3]="diamond",e[e.square=4]="square",e[e.star=5]="star"}(y||(y={})),function(e){e[e.highlight=0]="highlight",e[e.underline=1]="underline",e[e.squiggly=2]="squiggly",e[e.strikeOut=3]="strikeOut"}(v||(v={})),function(e){e[e.note=0]="note",e[e.comment=1]="comment",e[e.help=2]="help",e[e.insert=3]="insert",e[e.key=4]="key",e[e.newParagraph=5]="newParagraph",e[e.paragraph=6]="paragraph"}(b||(b={})),function(e){e[e.none=0]="none",e[e.accepted=1]="accepted",e[e.rejected=2]="rejected",e[e.cancel=3]="cancel",e[e.completed=4]="completed",e[e.marked=5]="marked",e[e.unmarked=6]="unmarked",e[e.unknown=7]="unknown"}(M||(M={})),function(e){e[e.none=0]="none",e[e.marked=1]="marked",e[e.review=2]="review"}(S||(S={})),function(e){e[e.pushPin=0]="pushPin",e[e.tag=1]="tag",e[e.graph=2]="graph",e[e.paperClip=3]="paperClip"}(w||(w={})),function(e){e[e.none=0]="none",e[e.freeTextCallout=1]="freeTextCallout",e[e.freeTextTypeWriter=2]="freeTextTypeWriter"}(_||(_={})),function(e){e[e.location=0]="location",e[e.fitToPage=1]="fitToPage",e[e.fitR=2]="fitR",e[e.fitH=3]="fitH"}(I||(I={})),function(e){e[e.fdf=0]="fdf",e[e.xfdf=1]="xfdf",e[e.json=2]="json",e[e.xml=3]="xml"}(N||(N={})),function(e){e[e.none=0]="none",e[e.row=1]="row",e[e.column=2]="column",e[e.structure=3]="structure",e[e.manual=4]="manual",e[e.widget=5]="widget"}(C||(C={})),function(e){e[e.highlight=0]="highlight",e[e.underline=1]="underline",e[e.strikeOut=2]="strikeOut",e[e.squiggly=3]="squiggly",e[e.redactionAnnotation=4]="redactionAnnotation",e[e.textAnnotation=5]="textAnnotation",e[e.linkAnnotation=6]="linkAnnotation",e[e.documentLinkAnnotation=7]="documentLinkAnnotation",e[e.uriAnnotation=8]="uriAnnotation",e[e.fileLinkAnnotation=9]="fileLinkAnnotation",e[e.freeTextAnnotation=10]="freeTextAnnotation",e[e.lineAnnotation=11]="lineAnnotation",e[e.circleAnnotation=12]="circleAnnotation",e[e.ellipseAnnotation=13]="ellipseAnnotation",e[e.squareAnnotation=14]="squareAnnotation",e[e.rectangleAnnotation=15]="rectangleAnnotation",e[e.polygonAnnotation=16]="polygonAnnotation",e[e.polyLineAnnotation=17]="polyLineAnnotation",e[e.textMarkupAnnotation=18]="textMarkupAnnotation",e[e.caretAnnotation=19]="caretAnnotation",e[e.rubberStampAnnotation=20]="rubberStampAnnotation",e[e.popupAnnotation=21]="popupAnnotation",e[e.fileAttachmentAnnotation=22]="fileAttachmentAnnotation",e[e.soundAnnotation=23]="soundAnnotation",e[e.movieAnnotation=24]="movieAnnotation",e[e.screenAnnotation=25]="screenAnnotation",e[e.widgetAnnotation=26]="widgetAnnotation",e[e.printerMarkAnnotation=27]="printerMarkAnnotation",e[e.trapNetworkAnnotation=28]="trapNetworkAnnotation",e[e.watermarkAnnotation=29]="watermarkAnnotation",e[e.textWebLinkAnnotation=30]="textWebLinkAnnotation",e[e.inkAnnotation=31]="inkAnnotation",e[e.richMediaAnnotation=32]="richMediaAnnotation",e[e.angleMeasurementAnnotation=33]="angleMeasurementAnnotation",e[e.null=34]="null"}(x||(x={})),function(e){e[e.centimeter=0]="centimeter",e[e.pica=1]="pica",e[e.pixel=2]="pixel",e[e.point=3]="point",e[e.inch=4]="inch",e[e.document=5]="document",e[e.millimeter=6]="millimeter"}(D||(D={})),function(e){e[e.default=0]="default",e[e.readOnly=1]="readOnly",e[e.required=2]="required",e[e.noExport=4]="noExport",e[e.multiLine=4096]="multiLine",e[e.password=8192]="password",e[e.fileSelect=1048576]="fileSelect",e[e.doNotSpellCheck=4194304]="doNotSpellCheck",e[e.doNotScroll=8388608]="doNotScroll",e[e.comb=16777216]="comb",e[e.richText=33554432]="richText",e[e.noToggleToOff=16384]="noToggleToOff",e[e.radio=32768]="radio",e[e.pushButton=65536]="pushButton",e[e.radiosInUnison=33554432]="radiosInUnison",e[e.combo=131072]="combo",e[e.edit=262144]="edit",e[e.sort=524288]="sort",e[e.multiSelect=2097152]="multiSelect",e[e.commitOnSelectChange=67108864]="commitOnSelectChange"}(T||(T={})),function(e){e[e.none=0]="none",e[e.signatureExists=1]="signatureExists",e[e.appendOnly=2]="appendOnly"}(A||(A={})),function(e){e[e.unchecked=0]="unchecked",e[e.checked=1]="checked",e[e.pressedUnchecked=2]="pressedUnchecked",e[e.pressedChecked=3]="pressedChecked"}(j||(j={})),function(e){e[e.default=0]="default",e[e.print=4]="print",e[e.editContent=8]="editContent",e[e.copyContent=16]="copyContent",e[e.editAnnotations=32]="editAnnotations",e[e.fillFields=256]="fillFields",e[e.accessibilityCopyContent=512]="accessibilityCopyContent",e[e.assembleDocument=1024]="assembleDocument",e[e.fullQualityPrint=2048]="fullQualityPrint"}(E||(E={})),function(e){e[e.portrait=0]="portrait",e[e.landscape=1]="landscape"}(k||(k={})),function(e){e[e.none=0]="none",e[e.leftToRight=1]="leftToRight",e[e.rightToLeft=2]="rightToLeft"}(z||(z={})),function(e){e[e.none=0]="none",e[e.superScript=1]="superScript",e[e.subScript=2]="subScript"}(L||(L={})),function(e){e[e.normal=0]="normal",e[e.multiply=1]="multiply",e[e.screen=2]="screen",e[e.overlay=3]="overlay",e[e.darken=4]="darken",e[e.lighten=5]="lighten",e[e.colorDodge=6]="colorDodge",e[e.colorBurn=7]="colorBurn",e[e.hardLight=8]="hardLight",e[e.softLight=9]="softLight",e[e.difference=10]="difference",e[e.exclusion=11]="exclusion",e[e.hue=12]="hue",e[e.saturation=13]="saturation",e[e.color=14]="color",e[e.luminosity=15]="luminosity"}(O||(O={})),function(e){e[e.winding=0]="winding",e[e.alternate=1]="alternate"}(P||(P={})),function(e){e[e.solid=0]="solid",e[e.dash=1]="dash",e[e.dot=2]="dot",e[e.dashDot=3]="dashDot",e[e.dashDotDot=4]="dashDotDot",e[e.custom=5]="custom"}(R||(R={})),function(e){e[e.flat=0]="flat",e[e.round=1]="round",e[e.square=2]="square"}(F||(F={})),function(e){e[e.miter=0]="miter",e[e.round=1]="round",e[e.bevel=2]="bevel"}(B||(B={})),function(e){e[e.none=0]="none",e[e.word=1]="word",e[e.wordOnly=2]="wordOnly",e[e.character=3]="character"}(V||(V={})),function(e){e[e.fixedPitch=1]="fixedPitch",e[e.serif=2]="serif",e[e.symbolic=4]="symbolic",e[e.script=8]="script",e[e.nonSymbolic=32]="nonSymbolic",e[e.italic=64]="italic",e[e.forceBold=262144]="forceBold"}(U||(U={})),function(e){e[e.apple=0]="apple",e[e.microsoft=4]="microsoft",e[e.trimmed=6]="trimmed"}(H||(H={})),function(e){e[e.unknown=0]="unknown",e[e.symbol=1]="symbol",e[e.unicode=2]="unicode",e[e.macintosh=3]="macintosh"}(W||(W={})),function(e){e[e.appleUnicode=0]="appleUnicode",e[e.macintosh=1]="macintosh",e[e.iSO=2]="iSO",e[e.microsoft=3]="microsoft"}(Y||(Y={})),function(e){e[e[void 0]=0]="undefined",e[e.unicode=1]="unicode"}(Q||(Q={})),function(e){e[e.roman=0]="roman",e[e.japanese=1]="japanese",e[e.chinese=2]="chinese"}(q||(q={})),function(e){e[e.Arg1And2AreWords=1]="Arg1And2AreWords",e[e.ArgsAreXyValues=2]="ArgsAreXyValues",e[e.RoundXyToGrid=4]="RoundXyToGrid",e[e.WeHaveScale=8]="WeHaveScale",e[e.Reserved=16]="Reserved",e[e.MoreComponents=32]="MoreComponents",e[e.WeHaveAnXyScale=64]="WeHaveAnXyScale",e[e.WeHaveTwoByTwo=128]="WeHaveTwoByTwo",e[e.WeHaveInstructions=256]="WeHaveInstructions",e[e.UseMyMetrics=512]="UseMyMetrics"}(G||(G={})),function(e){e[e.unknown=0]="unknown",e[e.bmp=1]="bmp",e[e.emf=2]="emf",e[e.gif=3]="gif",e[e.jpeg=4]="jpeg",e[e.png=5]="png",e[e.wmf=6]="wmf",e[e.icon=7]="icon"}(K||(K={})),function(e){e[e.none=0]="none",e[e.comment=1]="comment",e[e.number=2]="number",e[e.real=3]="real",e[e.string=4]="string",e[e.hexString=5]="hexString",e[e.unicodeString=6]="unicodeString",e[e.unicodeHexString=7]="unicodeHexString",e[e.name=8]="name",e[e.operator=9]="operator",e[e.beginArray=10]="beginArray",e[e.endArray=11]="endArray",e[e.eof=12]="eof"}(X||(X={})),function(e){e[e.regular=0]="regular",e[e.italic=1]="italic",e[e.bold=2]="bold"}(J||(J={}));var Z,$=function(){function e(e,t){if(this._crossReference=t,e instanceof Jn){this._content=e,this._content.dictionary.has("Type")&&this._content.dictionary.has("Subtype")||this._initialize();var i=this._content.dictionary.getArray("BBox");if(i&&i.length>3){var n=ji(i);this._size=[n.width,n.height]}this._isReadOnly=!0}else this._size=[e[2],e[3]],this._content=new $n([]),this._content.dictionary._crossReference=this._crossReference,this._initialize(),this._content.dictionary.set("BBox",[e[0],e[1],e[0]+e[2],e[1]+e[3]]);this._writeTransformation=!0}return Object.defineProperty(e.prototype,"graphics",{get:function(){return this._isReadOnly?null:("undefined"===typeof this._g&&(this._g=new ti(this._size,this._content,this._crossReference,this),this._writeTransformation&&this._g._initializeCoordinates(),this._g._isTemplateGraphics=!0),this._g)},enumerable:!0,configurable:!0}),e.prototype._initialize=function(){this._content.dictionary.set("Type",Fn.get("XObject")),this._content.dictionary.set("Subtype",Fn.get("Form"))},e}(),ee=function(){function e(e,t){this.horizontalScalingFactor=100,this.rightToLeft=!1,this._wordWrapType=V.word,this.lineLimit=!0,"undefined"!==typeof e&&(this.alignment=e),this.lineAlignment="undefined"!==typeof t?t:Z.top,this.characterSpacing=0,this.wordSpacing=0,this.lineSpacing=0,this.clipPath=!1,this.firstLineIndent=0,this._internalParagraphIndent=0,this.measureTrailingSpaces=!1,this.noClip=!1}return Object.defineProperty(e.prototype,"paragraphIndent",{get:function(){return this._internalParagraphIndent},set:function(e){this._internalParagraphIndent=e,this.firstLineIndent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subSuperScript",{get:function(){return"undefined"===typeof this._pdfSubSuperScript||null===this._pdfSubSuperScript?L.none:this._pdfSubSuperScript},set:function(e){this._pdfSubSuperScript=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_wordWrap",{get:function(){return this._wordWrapType},set:function(e){this._wordWrapType=e},enumerable:!0,configurable:!0}),e}();!function(e){e[e.top=0]="top",e[e.middle=1]="middle",e[e.bottom=2]="bottom"}(Z||(Z={}));var te,ie=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ne=function(){function e(){this._lineGap=0}return e.prototype._getAscent=function(e){return.001*this._ascent*this._getSize(e)},e.prototype._getDescent=function(e){return.001*this._descent*this._getSize(e)},e.prototype._getLineGap=function(e){return.001*this._lineGap*this._getSize(e)},e.prototype._getHeight=function(e){for(var t=["cambria","candara","constantia","corbel","cariadings"],i=[],n=0;n<t.length;n++)i.push(t[Number.parseInt(n.toString(),10)]);return this._getDescent(e)<0?this._getAscent(e)-this._getDescent(e)+this._getLineGap(e):this._getAscent(e)+this._getDescent(e)+this._getLineGap(e)},e.prototype._getSize=function(e){var t=this._size;if(null!==e&&"undefined"!==typeof e)switch(e.subSuperScript){case L.subScript:t/=this._subScriptSizeFactor;break;case L.superScript:t/=this._superscriptSizeFactor}return t},e}(),re=function(){},se=function(e){function t(t){var i=e.call(this)||this;return i.widths=t,i}return ie(t,e),t.prototype._itemAt=function(e){if(e<0||e>=this.widths.length)throw new Error("The character is not supported by the font.");return this.widths[Number.parseInt(e.toString(),10)]},t.prototype._toArray=function(){return this.widths},t}(re),oe=function(e){function t(t){var i=e.call(this)||this;return i._defaultWidth=t,i.widths=[],i}return ie(t,e),t.prototype._itemAt=function(e){var t=this._defaultWidth;return this.widths.forEach((function(i){e>=i._from&&e<=i._to&&(t=i._itemAt(e))})),t},t.prototype._toArray=function(){var e=[];return this.widths.forEach((function(t){t._appendToArray(e)})),e},t.prototype._add=function(e){this.widths.push(e)},t}(re),ae=function(){},le=function(e){function t(t,i,n){var r=e.call(this)||this;return r._widthFrom=t,r._widthTo=i,r._width=n,r}return ie(t,e),Object.defineProperty(t.prototype,"_from",{get:function(){return this._widthFrom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_to",{get:function(){return this._widthTo},enumerable:!0,configurable:!0}),t.prototype._itemAt=function(e){if(e<this._from||e>this._to)throw new Error("Index is out of range.");return this._width},t.prototype._appendToArray=function(e){e.push(this._from,this._to,this._width)},t}(ae),he=function(e){function t(t,i){var n=e.call(this)||this;return n._widthFrom=t,n._widths=i,n}return ie(t,e),Object.defineProperty(t.prototype,"_from",{get:function(){return this._widthFrom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_to",{get:function(){return this._widthFrom+this._widths.length-1},enumerable:!0,configurable:!0}),t.prototype._itemAt=function(e){if(e<this._widthFrom||e>this._to)throw new Error("Index is out of range.");return this._widths[Number.parseInt(e.toString(),10)]},t.prototype._appendToArray=function(e){e.push(this._from),e.forEach((function(t){e.push(t)}))},t}(ae),ce=function(){function e(){}return e.prototype._layout=function(e,t,i,n){this._initialize(e,t,i,n);var r=this._doLayout();return this._clear(),r},e.prototype._initialize=function(e,t,i,n){this._font=t,this._format=i,this._size=n,this._rectangle=[0,0,n[0],n[1]],this._reader=new me(e),this._pageHeight=0},e.prototype._clear=function(){this._font=null,this._format=null,this._reader._close(),this._reader=null},e.prototype._doLayout=function(){for(var e=new ue,t=new ue,i=[],n=this._reader._peekLine(),r=this._getLineIndent(!0);null!==n;){if("undefined"!==typeof(t=this._layoutLine(n,r))&&null!==t){var s=0,o=this._copyToResult(e,t,i,s),a=o.success;if(s=o.flag,!a){this._reader._read(s);break}}this._reader._readLine(),n=this._reader._peekLine(),r=this._getLineIndent(!1)}return this._finalizeResult(e,i),e},e.prototype._getLineIndent=function(e){var t=0;return this._format&&(t=e?this._format.firstLineIndent:this._format.paragraphIndent,t=this._size[0]>0?Math.min(this._size[0],t):t),t},e.prototype._getLineHeight=function(){var e=this._font._metrics._getHeight();return this._format&&0!==this._format.lineSpacing&&(e=this._format.lineSpacing+this._font._metrics._getHeight()),e},e.prototype._getLineWidth=function(e){return this._font.getLineWidth(e,this._format)},e.prototype._layoutLine=function(e,t){var i=new ue;i._lineHeight=this._getLineHeight();var n=[],r=this._size[0],s=this._getLineWidth(e)+t,o=te.firstParagraphLine,a=!0;if(r<=0||Math.round(s)<=Math.round(r))this._addToLineResult(i,n,e,s,te.newLineBreak|o);else{var l="",h="";s=t;var c=t,u=new me(e),p=u._peekWord();for(p.length!==u._length&&" "===p&&(h+=p,l+=p,u._position+=1,p=u._peekWord());null!==p;){h+=p;var d=this._getLineWidth(h.toString())+c;if(" "===h.toString()&&(h="",d=0),d>r){if(this._getWrapType()===V.none)break;if(h.length===p.length){if(this._getWrapType()===V.wordOnly){i._remainder=e.substring(u._position);break}if(1===h.length){l+=p;break}a=!1,h="",p=u._peek().toString();continue}if(this._getLineWidth(p.toString())>r?"undefined"!==typeof this._format&&null!==this._format&&(this._format._wordWrap=V.character):"undefined"!==typeof this._format&&null!==this._format&&(this._format._wordWrap=V.word),this._getWrapType()===V.character&&a)a=!1,h="",h+=l.toString(),p=u._peek().toString();else{var f=l.toString();" "!==f&&this._addToLineResult(i,n,f,s,te.layoutBreak|o),h="",l="",s=0,c=0,d=0,o=te.none,p=a?p:u._peekWord(),a=!0}}else l+=p,s=d,a?(u._readWord(),p=u._peekWord()):(u._read(),p=u._peek().toString())}l.length>0&&this._addToLineResult(i,n,l.toString(),s,te.newLineBreak|te.lastParagraphLine),u._close()}i._layoutLines=[];for(var g=0;g<n.length;g++)i._layoutLines.push(n[g]);return n=[],i},e.prototype._addToLineResult=function(e,t,i,n,r){var s=new pe;s._text=i,s._width=n,s._lineType=r,t.push(s);var o=e._actualSize;o[1]=o[1]+this._getLineHeight(),o[0]=Math.max(o[0],n),e._size=o},e.prototype._copyToResult=function(e,t,i,n){var r=!0,s=this._format&&!this._format.lineLimit,o=e._actualSize[1],a=this._size[1];if(this._pageHeight>0&&a+this._rectangle[1]>this._pageHeight&&(a=this._rectangle[1]-this._pageHeight,a=Math.max(a,-a)),n=0,null!==t._lines)for(var l=0,h=t._lines.length;l<h;l++){var c=o+t._lineHeight;if(!(c<=a||a<=0||s)){r=!1;break}var u=t._lines[l];n+=u._text.length,u=this._trimLine(u,0===i.length),i.push(u);var p=e._actualSize;p[0]=Math.max(p[0],u._width),e._size=p,o=c}return o!==e._size[1]&&(e._size=[e._actualSize[0],o]),{success:r,flag:n}},e.prototype._finalizeResult=function(e,t){e._layoutLines=[];for(var i=0;i<t.length;i++)e._layoutLines.push(t[i]);e._lineHeight=this._getLineHeight(),this._reader._end||(e._remainder=this._reader._readToEnd()),t=[]},e.prototype._trimLine=function(e,t){var i=e._text.trim(),n=e._width;return i.length!==e._text.length&&(n=this._getLineWidth(i),(e._lineType&te.firstParagraphLine)>0&&(n+=this._getLineIndent(t))),e._text=i,e._width=n,e},e.prototype._getWrapType=function(){return null!==this._format&&"undefined"!==typeof this._format?this._format._wordWrap:V.word},e}(),ue=function(){function e(){}return Object.defineProperty(e.prototype,"_actualSize",{get:function(){return"undefined"===typeof this._size&&(this._size=[0,0]),this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_lines",{get:function(){return this._layoutLines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_empty",{get:function(){return null==this._layoutLines||0===this._layoutLines.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_lineCount",{get:function(){return this._empty?0:this._layoutLines.length},enumerable:!0,configurable:!0}),e}(),pe=function(){};!function(e){e[e.none=0]="none",e[e.newLineBreak=1]="newLineBreak",e[e.layoutBreak=2]="layoutBreak",e[e.firstParagraphLine=4]="firstParagraphLine",e[e.lastParagraphLine=8]="lastParagraphLine"}(te||(te={}));var de,fe,ge,me=function(){function e(e){if(this._position=0,"undefined"===typeof e||null===e)throw new Error("ArgumentNullException:text");this._text=e}return Object.defineProperty(e.prototype,"_length",{get:function(){return this._text.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_end",{get:function(){return this._position===this._text.length},enumerable:!0,configurable:!0}),e.prototype._readLine=function(){for(var e=this._position;e<this._length;){var t=this._text[e],i=void 0;switch(t){case"\r":case"\n":return i=this._text.substring(this._position,e),this._position=e+1,"\r"===t&&this._position<this._length&&"\n"===this._text[this._position]&&this._position++,i}e++}if(e>this._position){var n=this._text.substring(this._position,e);return this._position=e,n}return null},e.prototype._peekLine=function(){var e=this._position,t=this._readLine();return this._position=e,t},e.prototype._readWord=function(){for(var e=this._position;e<this._length;){var t=this._text[e],i=void 0;switch(t){case"\r":case"\n":return i=this._text.substring(this._position,e-this._position),this._position=e+1,"\r"===t&&this._position<this._length&&"\n"===this._text[this._position]&&this._position++,i;case" ":case"\t":return e===this._position&&e++,i=this._text.substring(this._position,e),this._position=e,i}e++}if(e>this._position){var n=this._text.substring(this._position,e);return this._position=e,n}return null},e.prototype._peekWord=function(){var e=this._position,t=this._readWord();return this._position=e,t},e.prototype._read=function(e){if("undefined"===typeof e){var t="0";return this._end||(t=this._text[this._position],this._position++),t}for(var i=0,n="";!this._end&&i<e;)n+=this._read(),i++;return n},e.prototype._peek=function(){return this._end?"0":this._text[this._position]},e.prototype._close=function(){this._text=null},e.prototype._readToEnd=function(){var e;return e=0===this._position?this._text:this._text.substring(this._position),this._position=this._length,e},e._whiteSpace=" ",e._tab="\t",e._spaces=[e._whiteSpace,e._tab],e}(),ye=function(){function e(){}return Object.defineProperty(e.prototype,"_empty",{get:function(){return this._offset===this._length&&this._length===this._checksum&&0===this._checksum},enumerable:!0,configurable:!0}),e}(),ve=function(){},be=function(){},Me=function(){},Se=function(){},we=function(){},_e=function(){},Ie=function(){},Ne=function(){},Ce=function(){},xe=function(){},De=function(){function e(e){this._int32Size=4,this._isFont=!1,this._isMacTtf=!1,this._isMacFont=!1,this._missedGlyphs=0,this._tableNames=["cvt ","fpgm","glyf","head","hhea","hmtx","loca","maxp","prep"],this._entrySelectors=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4],this._fontData=e,this._initialize()}return Object.defineProperty(e.prototype,"macintosh",{get:function(){return null!==this._macintoshDictionary&&"undefined"!==typeof this._macintoshDictionary||(this._macintoshDictionary=new Wn),this._macintoshDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_microsoft",{get:function(){return null!==this._microsoftDictionary&&"undefined"!==typeof this._microsoftDictionary||(this._microsoftDictionary=new Wn),this._microsoftDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_macintoshGlyphs",{get:function(){return null!==this._internalMacintoshGlyphs&&"undefined"!==typeof this._internalMacintoshGlyphs||(this._internalMacintoshGlyphs=new Wn),this._internalMacintoshGlyphs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_microsoftGlyphs",{get:function(){return null!==this._internalMicrosoftGlyphs&&"undefined"!==typeof this._internalMicrosoftGlyphs||(this._internalMicrosoftGlyphs=new Wn),this._internalMicrosoftGlyphs},enumerable:!0,configurable:!0}),e.prototype._initialize=function(){"undefined"!==typeof this._metrics&&null!==this._metrics||(this._metrics=new Ae),this._readFontDictionary();var e=this._readNameTable(),t=this._readHeadTable();this._initializeFontName(e),this._metrics._macStyle=t._macStyle},e.prototype._readFontDictionary=function(){this._offset=0,this._check();var e=this._readInt16(this._offset);this._readInt16(this._offset),this._readInt16(this._offset),this._readInt16(this._offset),"undefined"!==typeof this._tableDirectory&&null!==this._tableDirectory||(this._tableDirectory=new Wn);for(var t=0;t<e;++t){var i=new ye,n=this._readString(this._int32Size);i._checksum=this._readInt32(this._offset),i._offset=this._readInt32(this._offset),i._length=this._readInt32(this._offset),this._tableDirectory.setValue(n,i)}this._lowestPosition=this._offset,this._isFont||this._fixOffsets()},e.prototype._fixOffsets=function(){for(var e=Number.MAX_VALUE,t=this._tableDirectory.keys(),i=0;i<t.length;i++){var n=(o=this._tableDirectory.getValue(t[Number.parseInt(i.toString(),10)]))._offset;if(e>n&&(e=n)<=this._lowestPosition)break}var r=e-this._lowestPosition;if(0!==r){var s=new Wn;for(i=0;i<t.length;i++){var o;(o=this._tableDirectory.getValue(t[Number.parseInt(i.toString(),10)]))._offset-=r,s.setValue(t[Number.parseInt(i.toString(),10)],o)}this._tableDirectory=s}},e.prototype._check=function(){var e=this._readInt32(this._offset);if(this._isMacTtf=1953658213===e,65536!==e&&1953658213!==e&&1330926671!==e){if(this._isFont=!0,this._offset=0,"ttcf"!==this._readString(4))throw new Error("Can not read TTF font data");if(this._offset+=4,this._readInt32(this._offset)<0)throw new Error("Can not read TTF font data");this._offset=this._readInt32(this._offset),e=this._readInt32(this._offset)}return e},e.prototype._readNameTable=function(){var e=this._getTable("name");"undefined"!==typeof e._offset&&null!==e._offset&&(this._offset=e._offset);var t=new Me;t._formatSelector=this._readUInt16(this._offset),t._recordsCount=this._readUInt16(this._offset),t._offset=this._readUInt16(this._offset),t._nameRecords=[];for(var i=this._offset,n=0;n<t._recordsCount;n++){this._offset=i;var r=new Te;r._platformID=this._readUInt16(this._offset),r._encodingID=this._readUInt16(this._offset),r._languageID=this._readUInt16(this._offset),r._nameID=this._readUInt16(this._offset),r._length=this._readUInt16(this._offset),r._offset=this._readUInt16(this._offset),this._offset=e._offset+t._offset+r._offset;var s=0===r._platformID||3===r._platformID;r._name=this._readString(r._length,s),t._nameRecords[Number.parseInt(n.toString(),10)]=r,i+=12}return t},e.prototype._readHeadTable=function(){var e=this._getTable("head");"undefined"!==typeof e._offset&&null!==e._offset&&(this._offset=e._offset);var t=new _e;return t._version=this._readFixed(this._offset),t._fontRevision=this._readFixed(this._offset),t._checkSumAdjustment=this._readUInt32(this._offset),t._magicNumber=this._readUInt32(this._offset),t._flags=this._readUInt16(this._offset),t._unitsPerEm=this._readUInt16(this._offset),t._created=this._readInt64(this._offset),t._modified=this._readInt64(this._offset),t._xMin=this._readInt16(this._offset),t._yMin=this._readInt16(this._offset),t._xMax=this._readInt16(this._offset),t._yMax=this._readInt16(this._offset),t._macStyle=this._readUInt16(this._offset),t._lowestReadableSize=this._readUInt16(this._offset),t._fontDirectionHint=this._readInt16(this._offset),t._indexToLocalFormat=this._readInt16(this._offset),t._glyphDataFormat=this._readInt16(this._offset),t},e.prototype._readHorizontalHeaderTable=function(){var e=this._getTable("hhea");"undefined"!==typeof e._offset&&null!==e._offset&&(this._offset=e._offset);var t=new we;return t._version=this._readFixed(this._offset),t._ascender=this._readInt16(this._offset),t._descender=this._readInt16(this._offset),t._lineGap=this._readInt16(this._offset),t._advanceWidthMax=this._readUInt16(this._offset),t._minLeftSideBearing=this._readInt16(this._offset),t._minRightSideBearing=this._readInt16(this._offset),t._xMaxExtent=this._readInt16(this._offset),t._caretSlopeRise=this._readInt16(this._offset),t._caretSlopeRun=this._readInt16(this._offset),this._offset+=10,t._metricDataFormat=this._readInt16(this._offset),t._numberOfHMetrics=this._readUInt16(this._offset),t},e.prototype._readOS2Table=function(){var e=this._getTable("OS/2");"undefined"!==typeof e._offset&&null!==e._offset&&(this._offset=e._offset);var t=new ve;return t._version=this._readUInt16(this._offset),t._xAvgCharWidth=this._readInt16(this._offset),t._usWeightClass=this._readUInt16(this._offset),t._usWidthClass=this._readUInt16(this._offset),t._fsType=this._readInt16(this._offset),t._ySubscriptXSize=this._readInt16(this._offset),t._ySubscriptYSize=this._readInt16(this._offset),t._ySubscriptXOffset=this._readInt16(this._offset),t._ySubscriptYOffset=this._readInt16(this._offset),t._ySuperscriptXSize=this._readInt16(this._offset),t._ySuperscriptYSize=this._readInt16(this._offset),t._ySuperscriptXOffset=this._readInt16(this._offset),t._ySuperscriptYOffset=this._readInt16(this._offset),t._yStrikeoutSize=this._readInt16(this._offset),t._yStrikeoutPosition=this._readInt16(this._offset),t._sFamilyClass=this._readInt16(this._offset),t._panose=this._readBytes(10),t._ulUnicodeRange1=this._readUInt32(this._offset),t._ulUnicodeRange2=this._readUInt32(this._offset),t._ulUnicodeRange3=this._readUInt32(this._offset),t._ulUnicodeRange4=this._readUInt32(this._offset),t._vendorIdentifier=this._readBytes(4),t._fsSelection=this._readUInt16(this._offset),t._usFirstCharIndex=this._readUInt16(this._offset),t._usLastCharIndex=this._readUInt16(this._offset),t._sTypoAscender=this._readInt16(this._offset),t._sTypoDescender=this._readInt16(this._offset),t._sTypoLineGap=this._readInt16(this._offset),t._usWinAscent=this._readUInt16(this._offset),t._usWinDescent=this._readUInt16(this._offset),t._ulCodePageRange1=this._readUInt32(this._offset),t._ulCodePageRange2=this._readUInt32(this._offset),t._version>1?(t._sxHeight=this._readInt16(this._offset),t._sCapHeight=this._readInt16(this._offset),t._usDefaultChar=this._readUInt16(this._offset),t._usBreakChar=this._readUInt16(this._offset),t._usMaxContext=this._readUInt16(this._offset)):(t._sxHeight=0,t._sCapHeight=0,t._usDefaultChar=0,t._usBreakChar=0,t._usMaxContext=0),t},e.prototype._readPostTable=function(){var e=this._getTable("post");"undefined"!==typeof e._offset&&null!==e._offset&&(this._offset=e._offset);var t=new be;return t._formatType=this._readFixed(this._offset),t._italicAngle=this._readFixed(this._offset),t._underlinePosition=this._readInt16(this._offset),t._underlineThickness=this._readInt16(this._offset),t._isFixedPitch=this._readUInt32(this._offset),t._minType42=this._readUInt32(this._offset),t._maxType42=this._readUInt32(this._offset),t._minType1=this._readUInt32(this._offset),t._maxType1=this._readUInt32(this._offset),t},e.prototype._readWidthTable=function(e,t){var i=this._getTable("hmtx");"undefined"!==typeof i._offset&&null!==i._offset&&(this._offset=i._offset);for(var n=[],r=0;r<e;r++){var s=new je;s._advanceWidth=this._readUInt16(this._offset),s._lsb=this._readInt16(this._offset);var o=1e3*s._advanceWidth/t;n.push(Math.floor(o))}return n},e.prototype._readCmapTable=function(){var e=this._getTable("cmap");"undefined"!==typeof e._offset&&null!==e._offset&&(this._offset=e._offset);var t=new Ie;t._version=this._readUInt16(this._offset),t._tablesCount=this._readUInt16(this._offset);for(var i=this._offset,n=[],r=0;r<t._tablesCount;r++){this._offset=i;var s=new Ne;s._platformID=this._readUInt16(this._offset),s._encodingID=this._readUInt16(this._offset),s._offset=this._readUInt32(this._offset),i=this._offset,this._readCmapSubTable(s),n[Number.parseInt(r.toString(),10)]=s}return n},e.prototype._readCmapSubTable=function(e){var t=this._getTable("cmap");this._offset=t._offset+e._offset;var i=this._readUInt16(this._offset),n=this._getCmapEncoding(e._platformID,e._encodingID);if(n!==W.unknown)switch(i){case H.apple:this._readAppleCmapTable(e,n);break;case H.microsoft:this._readMicrosoftCmapTable(e,n);break;case H.trimmed:this._readTrimmedCmapTable(e,n)}},e.prototype._readAppleCmapTable=function(e,t){var i=this._getTable("cmap");this._offset=i._offset+e._offset;var n=new Ce;n._format=this._readUInt16(this._offset),n._length=this._readUInt16(this._offset),n._version=this._readUInt16(this._offset),null!==this._maxMacIndex&&"undefined"!==typeof this._maxMacIndex||(this._maxMacIndex=0);for(var r=0;r<256;++r){var s=new Ee;s._index=this._readByte(this._offset),s._width=this._getWidth(s._index),s._charCode=r,this.macintosh.setValue(r,s),this._addGlyph(s,t),this._maxMacIndex=Math.max(r,this._maxMacIndex)}},e.prototype._readMicrosoftCmapTable=function(e,t){var i=this._getTable("cmap");this._offset=i._offset+e._offset;var n=t===W.unicode?this._microsoft:this.macintosh,r=new Se;r._format=this._readUInt16(this._offset),r._length=this._readUInt16(this._offset),r._version=this._readUInt16(this._offset),r._segCountX2=this._readUInt16(this._offset),r._searchRange=this._readUInt16(this._offset),r._entrySelector=this._readUInt16(this._offset),r._rangeShift=this._readUInt16(this._offset);var s=r._segCountX2/2;r._endCount=this._readUShortArray(s),r._reservedPad=this._readUInt16(this._offset),r._startCount=this._readUShortArray(s),r._idDelta=this._readUShortArray(s),r._idRangeOffset=this._readUShortArray(s);var o=r._length/2-8-4*s;r._glyphID=this._readUShortArray(o);for(var a=0,l=0,h=0;h<s;h++)for(var c=r._startCount[Number.parseInt(h.toString(),10)];c<=r._endCount[Number.parseInt(h.toString(),10)]&&65535!==c;c++){if(0===r._idRangeOffset[Number.parseInt(h.toString(),10)])a=c+r._idDelta[Number.parseInt(h.toString(),10)]&65535;else{if((l=h+r._idRangeOffset[Number.parseInt(h.toString(),10)]/2-s+c-r._startCount[Number.parseInt(h.toString(),10)])>=r._glyphID.length)continue;a=r._glyphID[Number.parseInt(l.toString(),10)]+r._idDelta[Number.parseInt(h.toString(),10)]&65535}var u=new Ee;u._index=a,u._width=this._getWidth(u._index);var p=t===W.symbol&&61440===(65280&c)?255&c:c;u._charCode=p,n.setValue(p,u),this._addGlyph(u,t)}},e.prototype._readTrimmedCmapTable=function(e,t){var i=this._getTable("cmap");this._offset=i._offset+e._offset;var n=new xe;n._format=this._readUInt16(this._offset),n._length=this._readUInt16(this._offset),n._version=this._readUInt16(this._offset),n._firstCode=this._readUInt16(this._offset),n._entryCount=this._readUInt16(this._offset);for(var r=0;r<n._entryCount;++r){var s=new Ee;s._index=this._readUInt16(this._offset),s._width=this._getWidth(s._index),s._charCode=r+n._firstCode,this.macintosh.setValue(r,s),this._addGlyph(s,t),this._maxMacIndex=Math.max(r,this._maxMacIndex)}},e.prototype._initializeFontName=function(e){for(var t=0;t<e._recordsCount;t++){var i=e._nameRecords[Number.parseInt(t.toString(),10)];if(1===i._nameID?this._metrics._fontFamily=i._name:6===i._nameID&&(this._metrics._postScriptName=i._name),null!==this._metrics._fontFamily&&"undefined"!==this._metrics._fontFamily&&null!==this._metrics._postScriptName&&"undefined"!==this._metrics._postScriptName)break}},e.prototype._getTable=function(e){var t,i=new ye;return this._tableDirectory.containsKey(e)&&(t=this._tableDirectory.getValue(e)),null!==t&&"undefined"!==typeof t&&(i=t),i},e.prototype._getWidth=function(e){return e=e<this._width.length?e:this._width.length-1,this._width[Number.parseInt(e.toString(),10)]},e.prototype._getCmapEncoding=function(e,t){var i=W.unknown;return e===Y.microsoft&&t===Q.undefined?i=W.symbol:e===Y.microsoft&&t===Q.unicode?i=W.unicode:e===Y.macintosh&&t===q.roman&&(i=W.macintosh),i},e.prototype._addGlyph=function(e,t){var i=null;switch(t){case W.unicode:i=this._microsoftGlyphs;break;case W.macintosh:case W.symbol:i=this._macintoshGlyphs}i.setValue(e._index,e)},e.prototype._initializeMetrics=function(e,t,i,n,r,s){this._initializeFontName(e);for(var o=!1,a=0;a<s.length;a++){var l=s[Number.parseInt(a.toString(),10)];if(this._getCmapEncoding(l._platformID,l._encodingID)===W.symbol){o=!0;break}}this._metrics._isSymbol=o,this._metrics._macStyle=t._macStyle,this._metrics._isFixedPitch=0!==r._isFixedPitch,this._metrics._italicAngle=r._italicAngle;var h=1e3/t._unitsPerEm;this._metrics._winAscent=n._sTypoAscender*h,this._metrics._macAscent=i._ascender*h,this._metrics._capHeight=0!==n._sCapHeight?n._sCapHeight:.7*t._unitsPerEm*h,this._metrics._winDescent=n._sTypoDescender*h,this._metrics._macDescent=i._descender*h,this._metrics._leading=(n._sTypoAscender-n._sTypoDescender+n._sTypoLineGap)*h,this._metrics._lineGap=Math.ceil(i._lineGap*h);var c=t._xMin*h,u=Math.ceil(this._metrics._macAscent+this._metrics._lineGap),p=t._xMax*h,d=this._metrics._macDescent;this._metrics._fontBox=[c,u,p,d],this._metrics._stemV=80,this._metrics._widthTable=this._updateWidth(),this._metrics._contains=this._tableDirectory.containsKey("CFF"),this._metrics._subScriptSizeFactor=t._unitsPerEm/n._ySubscriptYSize,this._metrics._superscriptSizeFactor=t._unitsPerEm/n._ySuperscriptYSize},e.prototype._updateWidth=function(){var e=[];if(this._metrics._isSymbol)for(var t=0;t<256;t++){var i=this._getGlyph(String.fromCharCode(Number.parseInt(t.toString(),10)));e[Number.parseInt(t.toString(),10)]=i._empty?0:i._width}else{var n=[],r=String.fromCharCode(32);for(t=0;t<256;t++){n[0]=Number.parseInt(t.toString(),10);var s=this._getString(n,0,n.length),o=s.length>0?s[0]:"?";(i=this._getGlyph(o))._empty?(i=this._getGlyph(r),e[Number.parseInt(t.toString(),10)]=i._empty?0:i._width):e[Number.parseInt(t.toString(),10)]=i._width}}return e},e.prototype._getDefaultGlyph=function(){return this._getGlyph(me._whiteSpace)},e.prototype._getString=function(e,t,i){for(var n="",r=0;r<i;r++)n+=String.fromCharCode(e[r+t]);return n},e.prototype._setOffset=function(e){this._offset=e},e.prototype._readFontProgram=function(e){var t=this._getGlyphChars(e),i=this._readLocaTable(this._bIsLocaShort);t&&t._size()<e._size()&&(this._missedGlyphs=e._size()-t._size()),this._updateGlyphChars(t,i);var n=this._generateGlyphTable(t,i,null,null),r=n.glyphTableSize,s=n.newLocaTable,o=n.newGlyphTable,a=this._updateLocaTable(s,this._bIsLocaShort),l=a.newLocaSize,h=a.newLocaUpdated;return this._getFontProgram(h,o,r,l)},e.prototype._generateGlyphTable=function(e,t,i,n){i=[];var r=e.keys();r.sort((function(e,t){return e-t}));for(var s=0,o=0;o<r.length;o++){var a=r[Number.parseInt(o.toString(),10)];t._offsets.length>0&&(s+=t._offsets[a+1]-t._offsets[Number.parseInt(a.toString(),10)])}var l=this._align(s);n=[];for(o=0;o<l;o++)n.push(0);var h=0,c=0,u=this._getTable("glyf");for(o=0;o<t._offsets.length;o++)if(i.push(h),c<r.length&&r[Number.parseInt(c.toString(),10)]===o){++c,i[Number.parseInt(o.toString(),10)]=h;var p=t._offsets[Number.parseInt(o.toString(),10)],d=t._offsets[o+1]-p;if(d>0)this._offset=u._offset+p,n=this._read(n,h,d).buffer,h+=d}return{glyphTableSize:s,newLocaTable:i,newGlyphTable:n}},e.prototype._readLocaTable=function(e){var t=this._getTable("loca");this._offset=t._offset;var i=new ke,n=[];if(e){var r=t._length/2;n=[];for(var s=0;s<r;s++)n[Number.parseInt(s.toString(),10)]=2*this._readUInt16(this._offset)}else{r=t._length/4;n=[];for(s=0;s<r;s++)n[Number.parseInt(s.toString(),10)]=this._readUInt32(this._offset)}return i._offsets=n,i},e.prototype._updateGlyphChars=function(e,t){e.containsKey(0)||e.setValue(0,0);for(var i=new Wn,n=e.keys(),r=0;r<n.length;r++)i.setValue(n[Number.parseInt(r.toString(),10)],e.getValue(n[Number.parseInt(r.toString(),10)]));for(r=0;r<n.length;r++){var s=n[Number.parseInt(r.toString(),10)];this._processCompositeGlyph(e,s,t)}},e.prototype._processCompositeGlyph=function(e,t,i){if(t<i._offsets.length-1){var n=i._offsets[Number.parseInt(t.toString(),10)];if(n!==i._offsets[t+1]){var r=this._getTable("glyf");this._offset=r._offset+n;var s=new ze;if(s.numberOfContours=this._readInt16(this._offset),s.xMin=this._readInt16(this._offset),s.yMin=this._readInt16(this._offset),s.xMax=this._readInt16(this._offset),s.yMax=this._readInt16(this._offset),s.numberOfContours<0)for(var o=0;;){var a=this._readUInt16(this._offset),l=this._readUInt16(this._offset);if(e.containsKey(l)||e.setValue(l,0),0===(a&G.MoreComponents))break;o=0!==(a&G.Arg1And2AreWords)?4:2,0!==(a&G.WeHaveScale)?o+=2:0!==(a&G.WeHaveAnXyScale)?o+=4:0!==(a&G.WeHaveTwoByTwo)&&(o+=8),this._offset+=o}}}},e.prototype._updateLocaTable=function(e,t){for(var i=t?2*e.length:4*e.length,n=this._align(i),r=new Le(n),s=0;s<e.length;s++){var o=e[Number.parseInt(s.toString(),10)];t?(o/=2,r._writeShort(o)):r._writeInt(o)}return{newLocaUpdated:r._data,newLocaSize:i}},e.prototype._align=function(e){return e+3&-4},e.prototype._getFontProgram=function(e,t,i,n){var r=this._getFontProgramLength(e,t,0),s=r.fontProgramLength,o=r.table,a=new Le(s);a._writeInt(65536),a._writeShort(o);var l=this._entrySelectors[Number.parseInt(o.toString(),10)];return a._writeShort(16*(1<<(31&l))),a._writeShort(l),a._writeShort(16*(o-(1<<(31&l)))),this._writeCheckSums(a,o,e,t,i,n),this._writeGlyphs(a,e,t),a._data},e.prototype._getFontProgramLength=function(e,t,i){var n=0;if(null!==e&&"undefined"!==typeof e&&e.length>0&&null!==t&&"undefined"!==typeof t&&t.length>0){i=2;for(var r=this._tableNames,s=0;s<r.length;s++){var o=r[Number.parseInt(s.toString(),10)];if("glyf"!==o&&"loca"!==o){var a=this._getTable(o);a._empty||(++i,n+=this._align(a._length))}}n+=e.length,n+=t.length,n+=16*i+12}return{fontProgramLength:n,table:i}},e.prototype._getGlyphChars=function(e){var t=new Wn;if(null!==e&&"undefined"!==typeof e)for(var i=e.keys(),n=0;n<i.length;n++){var r=i[Number.parseInt(n.toString(),10)],s=this._getGlyph(r);s._empty||t.setValue(s._index,r.charCodeAt(0))}return t},e.prototype._writeCheckSums=function(e,t,i,n,r,s){if(null!==e&&"undefined"!==typeof e&&null!==i&&"undefined"!==typeof i&&i.length>0&&null!==n&&"undefined"!==typeof n&&n.length>0)for(var o=this._tableNames,a=16*t+12,l=0,h=0;h<o.length;h++){var c=o[Number.parseInt(h.toString(),10)],u=this._getTable(c);if(!u._empty){if(e._writeString(c),"glyf"===c){var p=this._calculateCheckSum(n);e._writeInt(p),l=r}else if("loca"===c){p=this._calculateCheckSum(i);e._writeInt(p),l=s}else e._writeInt(u._checksum),l=u._length;e._writeUInt(a),e._writeUInt(l),a+=this._align(l)}}},e.prototype._calculateCheckSum=function(e){var t=0,i=0,n=0,r=0,s=0,o=0;if(null!==e&&"undefined"!==typeof e&&e.length>0){for(var a=0;a<(e.length+1)/4;a++)s+=255&e[t++],r+=255&e[t++],n+=255&e[t++],i+=255&e[t++];o=i,o+=n<<8,o+=r<<16,o+=s<<24}return o},e.prototype._writeGlyphs=function(e,t,i){if(null!==e&&"undefined"!==typeof e&&null!==t&&"undefined"!==typeof t&&t.length>0&&null!==i&&"undefined"!==typeof i&&i.length>0)for(var n=this._tableNames,r=0;r<n.length;r++){var s=n[Number.parseInt(r.toString(),10)],o=this._getTable(s);if(!o._empty)if("glyf"===s)e._writeBytes(i);else if("loca"===s)e._writeBytes(t);else{for(var a=this._align(o._length),l=[],h=0;h<a;h++)l.push(0);this._offset=o._offset;var c=this._read(l,0,o._length);e._writeBytes(c.buffer)}}},e.prototype._read=function(e,t,i){var n=0;if(null!==e&&"undefined"!==typeof e&&e.length>0){var r=0;do{for(var s=0;s<i-n&&this._offset+s<this._fontData.length;s++)e[t+s]=this._fontData[this._offset+s];r=i-n,this._offset+=r,n+=r}while(n<i)}return{buffer:e,written:n}},e.prototype._createInternals=function(){this._metrics=new Ae;var e=this._readNameTable(),t=this._readHeadTable();this._bIsLocaShort=0===t._indexToLocalFormat;var i=this._readHorizontalHeaderTable(),n=this._readOS2Table(),r=this._readPostTable();this._width=this._readWidthTable(i._numberOfHMetrics,t._unitsPerEm);var s=this._readCmapTable();this._initializeMetrics(e,t,i,n,r,s)},e.prototype._getGlyph=function(e){if("number"===typeof e){var t=null;return this._metrics._isSymbol||null==this._microsoftGlyphs?this._metrics._isSymbol&&null!=this._macintoshGlyphs&&this._macintoshGlyphs.containsKey(e)&&(t=this._macintoshGlyphs.getValue(e)):this._microsoftGlyphs.containsKey(e)&&(t=this._microsoftGlyphs.getValue(e)),null!=t?t:this._getDefaultGlyph()}var i=null,n=e.charCodeAt(0);return this._metrics._isSymbol||null===this._microsoft?(this._metrics._isSymbol&&null!==this.macintosh||this._isMacFont)&&(0!==this._maxMacIndex?n%=this._maxMacIndex+1:n=61440===(65280&n)?255&n:n,this.macintosh.containsKey(n)&&(i=this.macintosh.getValue(n),this._isFontPresent=!0)):this._microsoft.containsKey(n)?(i=this._microsoft.getValue(n),n!==me._whiteSpace.charCodeAt(0)&&(this._isFontPresent=!0)):n!==me._whiteSpace.charCodeAt(0)&&(this._isFontPresent=!1),e===me._whiteSpace&&null===i&&(i=new Ee),null!==i?i:this._getDefaultGlyph()},e.prototype._readString=function(e,t){if("undefined"===typeof t||null===t)return this._readString(e,!1);var i="";if(t)for(var n=0;n<e;n++)n%2!==0&&(i+=String.fromCharCode(this._fontData[this._offset])),this._offset+=1;else for(n=0;n<e;n++)i+=String.fromCharCode(this._fontData[this._offset]),this._offset+=1;return i},e.prototype._readFixed=function(e){return this._readInt16(e)+this._readInt16(e+2)/16384},e.prototype._readInt32=function(e){var t=this._fontData[Number.parseInt(e.toString(),10)+3],i=this._fontData[Number.parseInt(e.toString(),10)+2],n=this._fontData[Number.parseInt(e.toString(),10)+1],r=this._fontData[Number.parseInt(e.toString(),10)];return this._offset+=4,t+(i<<8)+(n<<16)+(r<<24)},e.prototype._readUInt32=function(e){var t=this._fontData[Number.parseInt(e.toString(),10)+3],i=this._fontData[Number.parseInt(e.toString(),10)+2],n=this._fontData[Number.parseInt(e.toString(),10)+1],r=this._fontData[Number.parseInt(e.toString(),10)];return this._offset+=4,t|i<<8|n<<16|r<<24},e.prototype._readInt16=function(e){var t=(this._fontData[Number.parseInt(e.toString(),10)]<<8)+this._fontData[Number.parseInt(e.toString(),10)+1];return t=32768&t?t-65536:t,this._offset+=2,t},e.prototype._readInt64=function(e){var t=this._readInt32(e+4),i=4294967296*this._readInt32(e)+t;return t<0&&(i+=4294967296),i},e.prototype._readUInt16=function(e){var t=this._fontData[Number.parseInt(e.toString(),10)]<<8|this._fontData[Number.parseInt(e.toString(),10)+1];return this._offset+=2,t},e.prototype._readUShortArray=function(e){for(var t=[],i=0;i<e;i++)t[Number.parseInt(i.toString(),10)]=this._readUInt16(this._offset);return t},e.prototype._readBytes=function(e){for(var t=[],i=0;i<e;i++)t.push(this._fontData[Number.parseInt(this._offset.toString(),10)]),this._offset+=1;return t},e.prototype._readByte=function(e){var t=this._fontData[Number.parseInt(e.toString(),10)];return this._offset+=1,t},e.prototype._getCharacterWidth=function(e){var t=this._getGlyph(e);return(t=t._empty?this._getDefaultGlyph():t)._empty?0:t._width},e.prototype._convertString=function(e){var t="";if(null!==e&&void 0!==e&&e.length>0)for(var i=0;i<e.length;i++){var n=e[Number.parseInt(i.toString(),10)],r=this._getGlyph(n);r._empty||(t+=String.fromCharCode(r._index))}return t},e}(),Te=function(){},Ae=function(){function e(){}return Object.defineProperty(e.prototype,"_isItalic",{get:function(){return 0!==(2&this._macStyle)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isBold",{get:function(){return 0!==(1&this._macStyle)},enumerable:!0,configurable:!0}),e}(),je=function(){},Ee=function(){function e(){}return Object.defineProperty(e.prototype,"_empty",{get:function(){return this._index===this._width&&this._width===this._charCode&&0===this._charCode},enumerable:!0,configurable:!0}),e}(),ke=function(){},ze=function(){},Le=function(){function e(e){this.int32Size=4,this.int16Size=2,this.int64Size=8,this._bufferLength=e,this._buffer=[]}return Object.defineProperty(e.prototype,"_data",{get:function(){if(this._buffer.length<this._bufferLength)for(var e=this._bufferLength-this._buffer.length,t=0;t<e;t++)this._buffer.push(0);return this._buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_position",{get:function(){return"undefined"!==typeof this._internalPosition&&null!==this._internalPosition||(this._internalPosition=0),this._internalPosition},enumerable:!0,configurable:!0}),e.prototype._writeShort=function(e){var t=[(65280&e)>>8,255&e];this._flush(t)},e.prototype._writeInt=function(e){var t=[(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e];this._flush(t)},e.prototype._writeUInt=function(e){var t=[(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e];this._flush(t)},e.prototype._writeString=function(e){if(null!==e&&"undefined"!==typeof e){for(var t=[],i=0;i<e.length;i++)t.push(e.charCodeAt(i));this._flush(t)}},e.prototype._writeBytes=function(e){this._flush(e)},e.prototype._flush=function(e){if(null!==e&&"undefined"!==typeof e){for(var t=this._position,i=0;i<e.length;i++)this._buffer[Number.parseInt(t.toString(),10)]=e[Number.parseInt(i.toString(),10)],t++;this._internalPosition+=e.length}},e}(),Oe=function(){function e(e,t){if(this._nameString="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this._isEmbedFont=!1,this._cmapPrefix="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\r\n/CIDSystemInfo << /Registry (Adobe)/Ordering (UCS)/Supplement 0>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 beginCodeSpacerange\r\n",this._cmapEndCodeSpaceRange="endCodeSpacerange\r\n",this._cmapBeginRange="beginbfrange\r\n",this._cmapEndRange="endbfrange\r\n",this._cmapSuffix="endbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend end\r\n",null===e||"undefined"===typeof e)throw new Error("ArgumentNullException:base64String");this._fontSize=t,this._fontString=e,this._Initialize()}return e.prototype._beginSave=function(){this._descendantFontBeginSave(),this._cmapBeginSave(),this._fontDictionaryBeginSave(),this._fontProgramBeginSave(),this._fontDescriptor&&(this._fontDescriptor.update("FontFile2",this._fontProgram),this._fontDescriptor._updated=!0,this._fontDescriptor._isFont=!0)},e.prototype._descendantFontBeginSave=function(){if(null!==this._usedChars&&"undefined"!==typeof this._usedChars&&this._usedChars._size()>0){var e=this._getDescendantWidth();null!==e&&this._descendantFont.set("W",e)}},e.prototype._fontDictionaryBeginSave=function(){null!==this._usedChars&&"undefined"!==typeof this._usedChars&&this._usedChars._size()>0&&this._fontDictionary.update("ToUnicode",this._cmap)},e.prototype._Initialize=function(){var e=Ci(this._fontString);this._fontData=e,this._ttfReader=new De(this._fontData),this._ttfMetrics=this._ttfReader._metrics},e.prototype._createInternals=function(){this._fontDictionary=new Yn,this._descendantFont=new Yn,this._metrics=new ne,this._ttfReader._createInternals(),this._usedChars=null;var e=[];this._fontProgram=new Zn(e,new Yn),this._cmap=new Zn(e,new Yn),this._ttfMetrics=this._ttfReader._metrics,this._initializeMetrics(),this._subsetName=this._getFontName(),this._createDescendantFont(),this._createFontDictionary()},e.prototype._getInternals=function(){return this._fontDictionary},e.prototype._initializeMetrics=function(){var e=this._ttfReader._metrics;this._metrics._ascent=e._macAscent,this._metrics._descent=e._macDescent,this._metrics._height=e._macAscent-e._macDescent+e._lineGap,this._metrics._name=e._fontFamily,this._metrics._postScriptName=e._postScriptName,this._metrics._size=this._fontSize,this._metrics._widthTable=new se(e._widthTable),this._metrics._lineGap=e._lineGap,this._metrics._subScriptSizeFactor=e._subScriptSizeFactor,this._metrics._superscriptSizeFactor=e._superscriptSizeFactor,this._metrics._isBold=e._isBold},e.prototype._getFontName=function(){for(var e="",t=0;t<6;t++){var i=Math.floor(26*Math.random())+0;e+=this._nameString[Number.parseInt(i.toString(),10)]}return e+="+",(e+=this._ttfReader._metrics._postScriptName).toString()},e.prototype._createDescendantFont=function(){this._descendantFont=new Yn,this._descendantFont._updated=!0,this._descendantFont.set("Type",new Fn("Font")),this._descendantFont.set("Subtype",new Fn("CIDFontType2")),this._descendantFont.set("BaseFont",new Fn(this._subsetName)),this._descendantFont.set("CIDToGIDMap",new Fn("Identity")),this._descendantFont.set("DW",1e3),this._fontDescriptor=this._createFontDescriptor(),this._descendantFont.set("FontDescriptor",this._fontDescriptor);var e=this._createSystemInfo();this._descendantFont.set("CIDSystemInfo",e),this._descendantFont._isFont=!0},e.prototype._createFontDescriptor=function(){var e=new Yn,t=this._ttfReader._metrics;return e.set("Type",new Fn("FontDescriptor")),e.set("FontName",new Fn(this._subsetName)),e.set("Flags",this._getDescriptorFlags()),e.set("FontBBox",this._getBoundBox()),e.set("MissingWidth",t._widthTable[32]),e.set("StemV",t._stemV),e.set("ItalicAngle",t._italicAngle),e.set("CapHeight",t._capHeight),e.set("Ascent",t._winAscent),e.set("Descent",t._winDescent),e.set("Leading",t._leading),e.set("AvgWidth",t._widthTable[32]),e.set("MaxWidth",t._widthTable[32]),e.set("XHeight",0),e.set("StemH",0),e._updated=!0,e},e.prototype._generateFontProgram=function(){var e;this._usedChars=null===this._usedChars||"undefined"===typeof this._usedChars?new Wn:this._usedChars,this._ttfReader._setOffset(0),e=this._ttfReader._readFontProgram(this._usedChars),this._fontProgram._clearStream(),this._fontProgram._writeBytes(e)},e.prototype._getBoundBox=function(){var e=this._ttfReader._metrics._fontBox,t=Math.abs(e[2]-e[0]),i=Math.abs(e[1]-e[3]);return[e[0],e[3],t,i]},e.prototype._cmapBeginSave=function(){this._generateCmap()},e.prototype._fontProgramBeginSave=function(){this._generateFontProgram()},e.prototype._toHexString=function(e,t){var i=e.toString(16);return t&&(i=i.toUpperCase()),"<0000".substring(0,5-i.length)+i+">"},e.prototype._generateCmap=function(){if(null!==this._usedChars&&"undefined"!==typeof this._usedChars&&this._usedChars._size()>0){var e=this._ttfReader._getGlyphChars(this._usedChars);if(e._size()>0){var t=e.keys().sort(),i=t[0],n=t[t.length-1],r=this._toHexString(i,!1)+this._toHexString(n,!1)+"\r\n",s="";s+=this._cmapPrefix,s+=r,s+=this._cmapEndCodeSpaceRange;for(var o=0,a=0;a<t.length;a++){0===o&&(0!==a&&(s+=this._cmapEndRange),s+=o=Math.min(100,t.length-a),s+=" ",s+=this._cmapBeginRange),o-=1;var l=t[Number.parseInt(a.toString(),10)];s+=this._toHexString(l,!0)+this._toHexString(l,!0),s+=this._toHexString(e.getValue(l),!0)+"\n"}s+=this._cmapSuffix,this._cmap._clearStream(),this._cmap._write(s)}}},e.prototype._createFontDictionary=function(){this._fontDictionary._updated=!0,this._fontDictionary.set("Type",Fn.get("Font")),this._fontDictionary.set("Subtype",Fn.get("Type0")),this._fontDictionary.set("BaseFont",new Fn(this._subsetName)),this._fontDictionary.set("Encoding",Fn.get("Identity-H")),this._fontDictionary.set("DescendantFonts",this._descendantFont),this._fontDictionary._isFont=!0,this._fontDictionary._currentObj=this},e.prototype._createSystemInfo=function(){var e=new Yn;return e._updated=!0,e.set("Registry","Adobe"),e.set("Ordering","Identity"),e.set("Supplement",0),e},e.prototype._getDescriptorFlags=function(){var e=0,t=this._ttfReader._metrics;return t._isFixedPitch&&(e|=U.fixedPitch),t._isSymbol?e|=U.symbolic:e|=U.nonSymbolic,t._isItalic&&(e|=U.italic),t._isBold&&(e|=U.forceBold),e},e.prototype._getCharacterWidth=function(e){return this._ttfReader._getCharacterWidth(e)},e.prototype._setSymbols=function(e){if(null!==e&&"undefined"!==typeof e){null!==this._usedChars&&"undefined"!==typeof this._usedChars||(this._usedChars=new Wn);for(var t=0;t<e.length;t++){var i=e[Number.parseInt(t.toString(),10)];this._usedChars.setValue(i,String.fromCharCode(0))}}},e.prototype._getDescendantWidth=function(){var e=new Array;if(null!==this._usedChars&&"undefined"!==typeof this._usedChars&&this._usedChars._size()>0){for(var t=[],i=this._usedChars.keys(),n=0;n<i.length;n++){var r=i[Number.parseInt(n.toString(),10)],s=this._ttfReader._getGlyph(r);t.push(s)}t.sort((function(e,t){return e._index-t._index}));var o=0,a=0,l=!1,h=new Array;for(n=0;n<t.length;n++){s=t[Number.parseInt(n.toString(),10)];l||(l=!0,o=s._index,a=s._index-1),(a+1!==s._index||n+1===t.length)&&t.length>1&&(e.push(Number(o)),0!==n&&e.push(h),o=s._index,h=new Array),h.push(Number(s._width)),n+1===t.length&&(e.push(Number(o)),e.push(h)),a=s._index}}return e},e}(),Pe=function(){function e(){this._arabicCharTable=[["\u0621","\ufe80"],["\u0622","\ufe81","\ufe82"],["\u0623","\ufe83","\ufe84"],["\u0624","\ufe85","\ufe86"],["\u0625","\ufe87","\ufe88"],["\u0626","\ufe89","\ufe8a","\ufe8b","\ufe8c"],["\u0627","\ufe8d","\ufe8e"],["\u0628","\ufe8f","\ufe90","\ufe91","\ufe92"],["\u0629","\ufe93","\ufe94"],["\u062a","\ufe95","\ufe96","\ufe97","\ufe98"],["\u062b","\ufe99","\ufe9a","\ufe9b","\ufe9c"],["\u062c","\ufe9d","\ufe9e","\ufe9f","\ufea0"],["\u062d","\ufea1","\ufea2","\ufea3","\ufea4"],["\u062e","\ufea5","\ufea6","\ufea7","\ufea8"],["\u062f","\ufea9","\ufeaa"],["\u0630","\ufeab","\ufeac"],["\u0631","\ufead","\ufeae"],["\u0632","\ufeaf","\ufeb0"],["\u0633","\ufeb1","\ufeb2","\ufeb3","\ufeb4"],["\u0634","\ufeb5","\ufeb6","\ufeb7","\ufeb8"],["\u0635","\ufeb9","\ufeba","\ufebb","\ufebc"],["\u0636","\ufebd","\ufebe","\ufebf","\ufec0"],["\u0637","\ufec1","\ufec2","\ufec3","\ufec4"],["\u0638","\ufec5","\ufec6","\ufec7","\ufec8"],["\u0639","\ufec9","\ufeca","\ufecb","\ufecc"],["\u063a","\ufecd","\ufece","\ufecf","\ufed0"],["\u0640","\u0640","\u0640","\u0640","\u0640"],["\u0641","\ufed1","\ufed2","\ufed3","\ufed4"],["\u0642","\ufed5","\ufed6","\ufed7","\ufed8"],["\u0643","\ufed9","\ufeda","\ufedb","\ufedc"],["\u0644","\ufedd","\ufede","\ufedf","\ufee0"],["\u0645","\ufee1","\ufee2","\ufee3","\ufee4"],["\u0646","\ufee5","\ufee6","\ufee7","\ufee8"],["\u0647","\ufee9","\ufeea","\ufeeb","\ufeec"],["\u0648","\ufeed","\ufeee"],["\u0649","\ufeef","\ufef0","\ufbe8","\ufbe9"],["\u064a","\ufef1","\ufef2","\ufef3","\ufef4"],["\u0671","\ufb50","\ufb51"],["\u0679","\ufb66","\ufb67","\ufb68","\ufb69"],["\u067a","\ufb5e","\ufb5f","\ufb60","\ufb61"],["\u067b","\ufb52","\ufb53","\ufb54","\ufb55"],["\u067e","\ufb56","\ufb57","\ufb58","\ufb59"],["\u067f","\ufb62","\ufb63","\ufb64","\ufb65"],["\u0680","\ufb5a","\ufb5b","\ufb5c","\ufb5d"],["\u0683","\ufb76","\ufb77","\ufb78","\ufb79"],["\u0684","\ufb72","\ufb73","\ufb74","\ufb75"],["\u0686","\ufb7a","\ufb7b","\ufb7c","\ufb7d"],["\u0687","\ufb7e","\ufb7f","\ufb80","\ufb81"],["\u0688","\ufb88","\ufb89"],["\u068c","\ufb84","\ufb85"],["\u068d","\ufb82","\ufb83"],["\u068e","\ufb86","\ufb87"],["\u0691","\ufb8c","\ufb8d"],["\u0698","\ufb8a","\ufb8b"],["\u06a4","\ufb6a","\ufb6b","\ufb6c","\ufb6d"],["\u06a6","\ufb6e","\ufb6f","\ufb70","\ufb71"],["\u06a9","\ufb8e","\ufb8f","\ufb90","\ufb91"],["\u06ad","\ufbd3","\ufbd4","\ufbd5","\ufbd6"],["\u06af","\ufb92","\ufb93","\ufb94","\ufb95"],["\u06b1","\ufb9a","\ufb9b","\ufb9c","\ufb9d"],["\u06b3","\ufb96","\ufb97","\ufb98","\ufb99"],["\u06ba","\ufb9e","\ufb9f"],["\u06bb","\ufba0","\ufba1","\ufba2","\ufba3"],["\u06be","\ufbaa","\ufbab","\ufbac","\ufbad"],["\u06c0","\ufba4","\ufba5"],["\u06c1","\ufba6","\ufba7","\ufba8","\ufba9"],["\u06c5","\ufbe0","\ufbe1"],["\u06c6","\ufbd9","\ufbda"],["\u06c7","\ufbd7","\ufbd8"],["\u06c8","\ufbdb","\ufbdc"],["\u06c9","\ufbe2","\ufbe3"],["\u06cb","\ufbde","\ufbdf"],["\u06cc","\ufbfc","\ufbfd","\ufbfe","\ufbff"],["\u06d0","\ufbe4","\ufbe5","\ufbe6","\ufbe7"],["\u06d2","\ufbae","\ufbaf"],["\u06d3","\ufbb0","\ufbb1"]],this._alef="\u0627",this._alefHamza="\u0623",this._alefHamzaBelow="\u0625",this._alefMadda="\u0622",this._lam="\u0644",this._hamza="\u0621",this._zeroWidthJoiner="\u200d",this._hamzaAbove="\u0654",this._hamzaBelow="\u0655",this._wawHamza="\u0624",this._yehHamza="\u0626",this._waw="\u0648",this._alefsura="\u0649",this._yeh="\u064a",this._farsiYeh="\u06cc",this._shadda="\u0651",this._madda="\u0653",this._lwa="\ufefb",this._lwawh="\ufef7",this._lwawhb="\ufef9",this._lwawm="\ufef5",this._bwhb="\u06d3",this._fathatan="\u064b",this._superalef="\u0670",this._vowel=1,this._arabicMapTable=new Map;for(var e=0;e<this._arabicCharTable.length;e++)this._arabicMapTable.set(this._arabicCharTable[Number.parseInt(e.toString(),10)][0],this._arabicCharTable[Number.parseInt(e.toString(),10)])}return e.prototype._getCharacterShape=function(e,t){if(e>=this._hamza&&e<=this._bwhb){if(this._arabicMapTable.get(e))return this._arabicMapTable.get(e)[t+1]}else if(e>=this._lwawm&&e<=this._lwa)return e;return e},e.prototype._shape=function(e){for(var t="",i="",n=0;n<e.length;n++){var r=e[Number.parseInt(n.toString(),10)];if(r>="\u0600"&&r<="\u06ff")i+=r;else{if(i.length>0)t+=this._doShape(i.toString(),0),i="";t+=r}}i.length>0&&(t+=this._doShape(i.toString(),0));return t.toString()},e.prototype._doShape=function(e,t){for(var i="",n=0,r=0,s="",o=new Re,a=new Re;r<e.length;)if(s=e[r++],0===this._ligature(s,a)){var l=this._getShapeCount(s);n=1===l?0:2,o._shapes>2&&(n+=1),n%=a._shapes,a._shapeValue=this._getCharacterShape(a._shapeValue,n),i=this._append(i,o,t),o=a,(a=new Re)._shapeValue=s,a._shapes=l,a._shapeLigature++}return n=o._shapes>2?1:0,n%=a._shapes,a._shapeValue=this._getCharacterShape(a._shapeValue,n),i=this._append(i,o,t),(i=this._append(i,a,t)).toString()},e.prototype._append=function(e,t,i){return""!==t._shapeValue&&(e+=t._shapeValue,t._shapeLigature-=1,""!==t._shapeType&&(0===(i&this._vowel)?(e+=t._shapeType,t._shapeLigature-=1):t._shapeLigature-=1),""!==t._shapeVowel&&(0===(i&this._vowel)?(e+=t._shapeVowel,t._shapeLigature-=1):t._shapeLigature-=1)),e},e.prototype._ligature=function(e,t){if(""!==t._shapeValue){var i=0;if(e>=this._fathatan&&e<=this._hamzaBelow||e===this._superalef){if(i=1,""!==t._shapeVowel&&e!==this._shadda&&(i=2),e===this._shadda){if(""!==t._shapeType)return 0;t._shapeType=this._shadda}else e===this._hamzaBelow?t._shapeValue===this._alef?(t._shapeValue=this._alefHamzaBelow,i=2):t._shapeValue===this._lwa?(t._shapeValue=this._lwawhb,i=2):t._shapeType=this._hamzaBelow:e===this._hamzaAbove?t._shapeValue===this._alef?(t._shapeValue=this._alefHamza,i=2):t._shapeValue===this._lwa?(t._shapeValue=this._lwawh,i=2):t._shapeValue===this._waw?(t._shapeValue=this._wawHamza,i=2):t._shapeValue===this._yeh||t._shapeValue===this._alefsura||t._shapeValue===this._farsiYeh?(t._shapeValue=this._yehHamza,i=2):t._shapeType=this._hamzaAbove:e===this._madda?t._shapeValue===this._alef&&(t._shapeValue=this._alefMadda,i=2):t._shapeVowel=e;return 1===i&&t._shapeLigature++,i}return""!==t._shapeVowel?0:(t._shapeValue===this._lam&&(e===this._alef?(t._shapeValue=this._lwa,t._shapes=2,i=3):e===this._alefHamza?(t._shapeValue=this._lwawh,t._shapes=2,i=3):e===this._alefHamzaBelow?(t._shapeValue=this._lwawhb,t._shapes=2,i=3):e===this._alefMadda&&(t._shapeValue=this._lwawm,t._shapes=2,i=3)),i)}return 0},e.prototype._getShapeCount=function(e){if(e>=this._hamza&&e<=this._bwhb&&!(e>=this._fathatan&&e<=this._hamzaBelow||e===this._superalef)){if(this._arabicMapTable.get(e))return this._arabicMapTable.get(e).length-1}else if(e===this._zeroWidthJoiner)return 4;return 1},e}(),Re=function(){this._shapeValue="",this._shapeType="",this._shapeVowel="",this._shapeLigature=0,this._shapes=1},Fe=function(){function e(){this._indexes=[],this._indexLevels=[],this._mirroringShape=new Wn,this._update()}return e.prototype._doMirrorShaping=function(e){for(var t=[],i=0;i<e.length;i++)if(1===(1&this._indexLevels[Number.parseInt(i.toString(),10)])&&this._mirroringShape.containsKey(e[Number.parseInt(i.toString(),10)].charCodeAt(0))){var n=e[Number.parseInt(i.toString(),10)].charCodeAt(0);t[Number.parseInt(i.toString(),10)]=String.fromCharCode(this._mirroringShape.getValue(n))}else t[Number.parseInt(i.toString(),10)]=e[Number.parseInt(i.toString(),10)].toString();for(var r="",s=0;s<t.length;s++)r+=t[Number.parseInt(s.toString(),10)];return r},e.prototype._getLogicalToVisualString=function(e,t){var i=new Be;this._indexLevels=i._getVisualOrder(e,t),this._setDefaultIndexLevel(),this._doOrder(0,this._indexLevels.length-1);for(var n=this._doMirrorShaping(e),r="",s=0;s<this._indexes.length;s++){var o=this._indexes[Number.parseInt(s.toString(),10)];r+=n[Number.parseInt(o.toString(),10)]}return r.toString()},e.prototype._setDefaultIndexLevel=function(){for(var e=0;e<this._indexLevels.length;e++)this._indexes[Number.parseInt(e.toString(),10)]=e},e.prototype._doOrder=function(e,t){for(var i=this._indexLevels[Number.parseInt(e.toString(),10)],n=i,r=i,s=i,o=e+1;o<=t;++o){var a=this._indexLevels[Number.parseInt(o.toString(),10)];a>i?i=a:a<n&&(n=a),r&=a,s|=a}if(0!==(1&s))if(1!==(1&r))for(n|=1;i>=n;){for(var l=e;;){for(;l<=t&&!(this._indexLevels[Number.parseInt(l.toString(),10)]>=i);)l+=1;if(l>t)break;for(var h=l+1;h<=t&&!(this._indexLevels[Number.parseInt(h.toString(),10)]<i);)h+=1;this._reArrange(l,h),l=h+1}i-=1}else this._reArrange(e,t+1)},e.prototype._reArrange=function(e,t){var i=(e+t)/2;for(--t;e<i;++e,--t){var n=this._indexes[Number.parseInt(e.toString(),10)];this._indexes[Number.parseInt(e.toString(),10)]=this._indexes[Number.parseInt(t.toString(),10)],this._indexes[Number.parseInt(t.toString(),10)]=n}},e.prototype._update=function(){this._mirroringShape.setValue(40,41),this._mirroringShape.setValue(41,40),this._mirroringShape.setValue(60,62),this._mirroringShape.setValue(62,60),this._mirroringShape.setValue(91,93),this._mirroringShape.setValue(93,91),this._mirroringShape.setValue(123,125),this._mirroringShape.setValue(125,123),this._mirroringShape.setValue(171,187),this._mirroringShape.setValue(187,171),this._mirroringShape.setValue(8249,8250),this._mirroringShape.setValue(8250,8249),this._mirroringShape.setValue(8261,8262),this._mirroringShape.setValue(8262,8261),this._mirroringShape.setValue(8317,8318),this._mirroringShape.setValue(8318,8317),this._mirroringShape.setValue(8333,8334),this._mirroringShape.setValue(8334,8333),this._mirroringShape.setValue(8712,8715),this._mirroringShape.setValue(8713,8716),this._mirroringShape.setValue(8714,8717),this._mirroringShape.setValue(8715,8712),this._mirroringShape.setValue(8716,8713),this._mirroringShape.setValue(8717,8714),this._mirroringShape.setValue(8725,10741),this._mirroringShape.setValue(8764,8765),this._mirroringShape.setValue(8765,8764),this._mirroringShape.setValue(8771,8909),this._mirroringShape.setValue(8786,8787),this._mirroringShape.setValue(8787,8786),this._mirroringShape.setValue(8788,8789),this._mirroringShape.setValue(8789,8788),this._mirroringShape.setValue(8804,8805),this._mirroringShape.setValue(8805,8804),this._mirroringShape.setValue(8806,8807),this._mirroringShape.setValue(8807,8806),this._mirroringShape.setValue(8808,8809),this._mirroringShape.setValue(8809,8808),this._mirroringShape.setValue(8810,8811),this._mirroringShape.setValue(8811,8810),this._mirroringShape.setValue(8814,8815),this._mirroringShape.setValue(8815,8814),this._mirroringShape.setValue(8816,8817),this._mirroringShape.setValue(8817,8816),this._mirroringShape.setValue(8818,8819),this._mirroringShape.setValue(8819,8818),this._mirroringShape.setValue(8820,8821),this._mirroringShape.setValue(8821,8820),this._mirroringShape.setValue(8822,8823),this._mirroringShape.setValue(8823,8822),this._mirroringShape.setValue(8824,8825),this._mirroringShape.setValue(8825,8824),this._mirroringShape.setValue(8826,8827),this._mirroringShape.setValue(8827,8826),this._mirroringShape.setValue(8828,8829),this._mirroringShape.setValue(8829,8828),this._mirroringShape.setValue(8830,8831),this._mirroringShape.setValue(8831,8830),this._mirroringShape.setValue(8832,8833),this._mirroringShape.setValue(8833,8832),this._mirroringShape.setValue(8834,8835),this._mirroringShape.setValue(8835,8834),this._mirroringShape.setValue(8836,8837),this._mirroringShape.setValue(8837,8836),this._mirroringShape.setValue(8838,8839),this._mirroringShape.setValue(8839,8838),this._mirroringShape.setValue(8840,8841),this._mirroringShape.setValue(8841,8840),this._mirroringShape.setValue(8842,8843),this._mirroringShape.setValue(8843,8842),this._mirroringShape.setValue(8847,8848),this._mirroringShape.setValue(8848,8847),this._mirroringShape.setValue(8849,8850),this._mirroringShape.setValue(8850,8849),this._mirroringShape.setValue(8856,10680),this._mirroringShape.setValue(8866,8867),this._mirroringShape.setValue(8867,8866),this._mirroringShape.setValue(8870,10974),this._mirroringShape.setValue(8872,10980),this._mirroringShape.setValue(8873,10979),this._mirroringShape.setValue(8875,10981),this._mirroringShape.setValue(8880,8881),this._mirroringShape.setValue(8881,8880),this._mirroringShape.setValue(8882,8883),this._mirroringShape.setValue(8883,8882),this._mirroringShape.setValue(8884,8885),this._mirroringShape.setValue(8885,8884),this._mirroringShape.setValue(8886,8887),this._mirroringShape.setValue(8887,8886),this._mirroringShape.setValue(8905,8906),this._mirroringShape.setValue(8906,8905),this._mirroringShape.setValue(8907,8908),this._mirroringShape.setValue(8908,8907),this._mirroringShape.setValue(8909,8771),this._mirroringShape.setValue(8912,8913),this._mirroringShape.setValue(8913,8912),this._mirroringShape.setValue(8918,8919),this._mirroringShape.setValue(8919,8918),this._mirroringShape.setValue(8920,8921),this._mirroringShape.setValue(8921,8920),this._mirroringShape.setValue(8922,8923),this._mirroringShape.setValue(8923,8922),this._mirroringShape.setValue(8924,8925),this._mirroringShape.setValue(8925,8924),this._mirroringShape.setValue(8926,8927),this._mirroringShape.setValue(8927,8926),this._mirroringShape.setValue(8928,8929),this._mirroringShape.setValue(8929,8928),this._mirroringShape.setValue(8930,8931),this._mirroringShape.setValue(8931,8930),this._mirroringShape.setValue(8932,8933),this._mirroringShape.setValue(8933,8932),this._mirroringShape.setValue(8934,8935),this._mirroringShape.setValue(8935,8934),this._mirroringShape.setValue(8936,8937),this._mirroringShape.setValue(8937,8936),this._mirroringShape.setValue(8938,8939),this._mirroringShape.setValue(8939,8938),this._mirroringShape.setValue(8940,8941),this._mirroringShape.setValue(8941,8940),this._mirroringShape.setValue(8944,8945),this._mirroringShape.setValue(8945,8944),this._mirroringShape.setValue(8946,8954),this._mirroringShape.setValue(8947,8955),this._mirroringShape.setValue(8948,8956),this._mirroringShape.setValue(8950,8957),this._mirroringShape.setValue(8951,8958),this._mirroringShape.setValue(8954,8946),this._mirroringShape.setValue(8955,8947),this._mirroringShape.setValue(8956,8948),this._mirroringShape.setValue(8957,8950),this._mirroringShape.setValue(8958,8951),this._mirroringShape.setValue(8968,8969),this._mirroringShape.setValue(8969,8968),this._mirroringShape.setValue(8970,8971),this._mirroringShape.setValue(8971,8970),this._mirroringShape.setValue(9001,9002),this._mirroringShape.setValue(9002,9001),this._mirroringShape.setValue(10088,10089),this._mirroringShape.setValue(10089,10088),this._mirroringShape.setValue(10090,10091),this._mirroringShape.setValue(10091,10090),this._mirroringShape.setValue(10092,10093),this._mirroringShape.setValue(10093,10092),this._mirroringShape.setValue(10094,10095),this._mirroringShape.setValue(10095,10094),this._mirroringShape.setValue(10096,10097),this._mirroringShape.setValue(10097,10096),this._mirroringShape.setValue(10098,10099),this._mirroringShape.setValue(10099,10098),this._mirroringShape.setValue(10100,10101),this._mirroringShape.setValue(10101,10100),this._mirroringShape.setValue(10197,10198),this._mirroringShape.setValue(10198,10197),this._mirroringShape.setValue(10205,10206),this._mirroringShape.setValue(10206,10205),this._mirroringShape.setValue(10210,10211),this._mirroringShape.setValue(10211,10210),this._mirroringShape.setValue(10212,10213),this._mirroringShape.setValue(10213,10212),this._mirroringShape.setValue(10214,10215),this._mirroringShape.setValue(10215,10214),this._mirroringShape.setValue(10216,10217),this._mirroringShape.setValue(10217,10216),this._mirroringShape.setValue(10218,10219),this._mirroringShape.setValue(10219,10218),this._mirroringShape.setValue(10627,10628),this._mirroringShape.setValue(10628,10627),this._mirroringShape.setValue(10629,10630),this._mirroringShape.setValue(10630,10629),this._mirroringShape.setValue(10631,10632),this._mirroringShape.setValue(10632,10631),this._mirroringShape.setValue(10633,10634),this._mirroringShape.setValue(10634,10633),this._mirroringShape.setValue(10635,10636),this._mirroringShape.setValue(10636,10635),this._mirroringShape.setValue(10637,10640),this._mirroringShape.setValue(10638,10639),this._mirroringShape.setValue(10639,10638),this._mirroringShape.setValue(10640,10637),this._mirroringShape.setValue(10641,10642),this._mirroringShape.setValue(10642,10641),this._mirroringShape.setValue(10643,10644),this._mirroringShape.setValue(10644,10643),this._mirroringShape.setValue(10645,10646),this._mirroringShape.setValue(10646,10645),this._mirroringShape.setValue(10647,10648),this._mirroringShape.setValue(10648,10647),this._mirroringShape.setValue(10680,8856),this._mirroringShape.setValue(10688,10689),this._mirroringShape.setValue(10689,10688),this._mirroringShape.setValue(10692,10693),this._mirroringShape.setValue(10693,10692),this._mirroringShape.setValue(10703,10704),this._mirroringShape.setValue(10704,10703),this._mirroringShape.setValue(10705,10706),this._mirroringShape.setValue(10706,10705),this._mirroringShape.setValue(10708,10709),this._mirroringShape.setValue(10709,10708),this._mirroringShape.setValue(10712,10713),this._mirroringShape.setValue(10713,10712),this._mirroringShape.setValue(10714,10715),this._mirroringShape.setValue(10715,10714),this._mirroringShape.setValue(10741,8725),this._mirroringShape.setValue(10744,10745),this._mirroringShape.setValue(10745,10744),this._mirroringShape.setValue(10748,10749),this._mirroringShape.setValue(10749,10748),this._mirroringShape.setValue(10795,10796),this._mirroringShape.setValue(10796,10795),this._mirroringShape.setValue(10797,10796),this._mirroringShape.setValue(10798,10797),this._mirroringShape.setValue(10804,10805),this._mirroringShape.setValue(10805,10804),this._mirroringShape.setValue(10812,10813),this._mirroringShape.setValue(10813,10812),this._mirroringShape.setValue(10852,10853),this._mirroringShape.setValue(10853,10852),this._mirroringShape.setValue(10873,10874),this._mirroringShape.setValue(10874,10873),this._mirroringShape.setValue(10877,10878),this._mirroringShape.setValue(10878,10877),this._mirroringShape.setValue(10879,10880),this._mirroringShape.setValue(10880,10879),this._mirroringShape.setValue(10881,10882),this._mirroringShape.setValue(10882,10881),this._mirroringShape.setValue(10883,10884),this._mirroringShape.setValue(10884,10883),this._mirroringShape.setValue(10891,10892),this._mirroringShape.setValue(10892,10891),this._mirroringShape.setValue(10897,10898),this._mirroringShape.setValue(10898,10897),this._mirroringShape.setValue(10899,10900),this._mirroringShape.setValue(10900,10899),this._mirroringShape.setValue(10901,10902),this._mirroringShape.setValue(10902,10901),this._mirroringShape.setValue(10903,10904),this._mirroringShape.setValue(10904,10903),this._mirroringShape.setValue(10905,10906),this._mirroringShape.setValue(10906,10905),this._mirroringShape.setValue(10907,10908),this._mirroringShape.setValue(10908,10907),this._mirroringShape.setValue(10913,10914),this._mirroringShape.setValue(10914,10913),this._mirroringShape.setValue(10918,10919),this._mirroringShape.setValue(10919,10918),this._mirroringShape.setValue(10920,10921),this._mirroringShape.setValue(10921,10920),this._mirroringShape.setValue(10922,10923),this._mirroringShape.setValue(10923,10922),this._mirroringShape.setValue(10924,10925),this._mirroringShape.setValue(10925,10924),this._mirroringShape.setValue(10927,10928),this._mirroringShape.setValue(10928,10927),this._mirroringShape.setValue(10931,10932),this._mirroringShape.setValue(10932,10931),this._mirroringShape.setValue(10939,10940),this._mirroringShape.setValue(10940,10939),this._mirroringShape.setValue(10941,10942),this._mirroringShape.setValue(10942,10941),this._mirroringShape.setValue(10943,10944),this._mirroringShape.setValue(10944,10943),this._mirroringShape.setValue(10945,10946),this._mirroringShape.setValue(10946,10945),this._mirroringShape.setValue(10947,10948),this._mirroringShape.setValue(10948,10947),this._mirroringShape.setValue(10949,10950),this._mirroringShape.setValue(10950,10949),this._mirroringShape.setValue(10957,10958),this._mirroringShape.setValue(10958,10957),this._mirroringShape.setValue(10959,10960),this._mirroringShape.setValue(10960,10959),this._mirroringShape.setValue(10961,10962),this._mirroringShape.setValue(10962,10961),this._mirroringShape.setValue(10963,10964),this._mirroringShape.setValue(10964,10963),this._mirroringShape.setValue(10965,10966),this._mirroringShape.setValue(10966,10965),this._mirroringShape.setValue(10974,8870),this._mirroringShape.setValue(10979,8873),this._mirroringShape.setValue(10980,8872),this._mirroringShape.setValue(10981,8875),this._mirroringShape.setValue(10988,10989),this._mirroringShape.setValue(10989,10988),this._mirroringShape.setValue(10999,11e3),this._mirroringShape.setValue(11e3,10999),this._mirroringShape.setValue(11001,11002),this._mirroringShape.setValue(11002,11001),this._mirroringShape.setValue(12296,12297),this._mirroringShape.setValue(12297,12296),this._mirroringShape.setValue(12298,12299),this._mirroringShape.setValue(12299,12298),this._mirroringShape.setValue(12300,12301),this._mirroringShape.setValue(12301,12300),this._mirroringShape.setValue(12302,12303),this._mirroringShape.setValue(12303,12302),this._mirroringShape.setValue(12304,12305),this._mirroringShape.setValue(12305,12304),this._mirroringShape.setValue(12308,12309),this._mirroringShape.setValue(12309,12308),this._mirroringShape.setValue(12310,12311),this._mirroringShape.setValue(12311,12310),this._mirroringShape.setValue(12312,12313),this._mirroringShape.setValue(12313,12312),this._mirroringShape.setValue(12314,12315),this._mirroringShape.setValue(12315,12314),this._mirroringShape.setValue(65288,65289),this._mirroringShape.setValue(65289,65288),this._mirroringShape.setValue(65308,65310),this._mirroringShape.setValue(65310,65308),this._mirroringShape.setValue(65339,65341),this._mirroringShape.setValue(65341,65339),this._mirroringShape.setValue(65371,65373),this._mirroringShape.setValue(65373,65371),this._mirroringShape.setValue(65375,65376),this._mirroringShape.setValue(65376,65375),this._mirroringShape.setValue(65378,65379),this._mirroringShape.setValue(65379,65378)},e}(),Be=function(){function e(){this._type=[],this._textOrder=-1,this._rtlCharacterTypes=new Array(65536),this.L=0,this.lre=1,this.lro=2,this.R=3,this.AL=4,this.rle=5,this.rlo=6,this.pdf=7,this.EN=8,this.ES=9,this.ET=10,this.AN=11,this.CS=12,this.nsm=13,this.BN=14,this.B=15,this.S=16,this.WS=17,this.ON=18,this._charTypes=[this.L,this.EN,this.BN,this.ES,this.ES,this.S,this.ET,this.ET,this.B,this.AN,this.AN,this.S,this.CS,this.CS,this.WS,this.nsm,this.nsm,this.B,this.BN,27,this.BN,28,30,this.B,31,31,this.S,32,32,this.WS,33,34,this.ON,35,37,this.ET,38,42,this.ON,43,43,this.ET,44,44,this.CS,45,45,this.ET,46,46,this.CS,47,47,this.CS,48,57,this.EN,58,58,this.CS,59,64,this.ON,65,90,this.L,91,96,this.ON,97,122,this.L,123,126,this.ON,127,132,this.BN,133,133,this.B,134,159,this.BN,160,160,this.CS,161,161,this.ON,162,165,this.ET,166,169,this.ON,170,170,this.L,171,175,this.ON,176,177,this.ET,178,179,this.EN,180,180,this.ON,181,181,this.L,182,184,this.ON,185,185,this.EN,186,186,this.L,187,191,this.ON,192,214,this.L,215,215,this.ON,216,246,this.L,247,247,this.ON,248,696,this.L,697,698,this.ON,699,705,this.L,706,719,this.ON,720,721,this.L,722,735,this.ON,736,740,this.L,741,749,this.ON,750,750,this.L,751,767,this.ON,768,855,this.nsm,856,860,this.L,861,879,this.nsm,880,883,this.L,884,885,this.ON,886,893,this.L,894,894,this.ON,895,899,this.L,900,901,this.ON,902,902,this.L,903,903,this.ON,904,1013,this.L,1014,1014,this.ON,1015,1154,this.L,1155,1158,this.nsm,1159,1159,this.L,1160,1161,this.nsm,1162,1417,this.L,1418,1418,this.ON,1419,1424,this.L,1425,1441,this.nsm,1442,1442,this.L,1443,1465,this.nsm,1466,1466,this.L,1467,1469,this.nsm,1470,1470,this.R,1471,1471,this.nsm,1472,1472,this.R,1473,1474,this.nsm,1475,1475,this.R,1476,1476,this.nsm,1477,1487,this.L,1488,1514,this.R,1515,1519,this.L,1520,1524,this.R,1525,1535,this.L,1536,1539,this.AL,1540,1547,this.L,1548,1548,this.CS,1549,1549,this.AL,1550,1551,this.ON,1552,1557,this.nsm,1558,1562,this.L,1563,1563,this.AL,1564,1566,this.L,1567,1567,this.AL,1568,1568,this.L,1569,1594,this.AL,1595,1599,this.L,1600,1610,this.AL,1611,1624,this.nsm,1625,1631,this.L,1632,1641,this.AN,1642,1642,this.ET,1643,1644,this.AN,1645,1647,this.AL,1648,1648,this.nsm,1649,1749,this.AL,1750,1756,this.nsm,1757,1757,this.AL,1758,1764,this.nsm,1765,1766,this.AL,1767,1768,this.nsm,1769,1769,this.ON,1770,1773,this.nsm,1774,1775,this.AL,1776,1785,this.EN,1786,1805,this.AL,1806,1806,this.L,1807,1807,this.BN,1808,1808,this.AL,1809,1809,this.nsm,1810,1839,this.AL,1840,1866,this.nsm,1867,1868,this.L,1869,1871,this.AL,1872,1919,this.L,1920,1957,this.AL,1958,1968,this.nsm,1969,1969,this.AL,1970,2304,this.L,2305,2306,this.nsm,2307,2363,this.L,2364,2364,this.nsm,2365,2368,this.L,2369,2376,this.nsm,2377,2380,this.L,2381,2381,this.nsm,2382,2384,this.L,2385,2388,this.nsm,2389,2401,this.L,2402,2403,this.nsm,2404,2432,this.L,2433,2433,this.nsm,2434,2491,this.L,2492,2492,this.nsm,2493,2496,this.L,2497,2500,this.nsm,2501,2508,this.L,2509,2509,this.nsm,2510,2529,this.L,2530,2531,this.nsm,2532,2545,this.L,2546,2547,this.ET,2548,2560,this.L,2561,2562,this.nsm,2563,2619,this.L,2620,2620,this.nsm,2621,2624,this.L,2625,2626,this.nsm,2627,2630,this.L,2631,2632,this.nsm,2633,2634,this.L,2635,2637,this.nsm,2638,2671,this.L,2672,2673,this.nsm,2674,2688,this.L,2689,2690,this.nsm,2691,2747,this.L,2748,2748,this.nsm,2749,2752,this.L,2753,2757,this.nsm,2758,2758,this.L,2759,2760,this.nsm,2761,2764,this.L,2765,2765,this.nsm,2766,2785,this.L,2786,2787,this.nsm,2788,2800,this.L,2801,2801,this.ET,2802,2816,this.L,2817,2817,this.nsm,2818,2875,this.L,2876,2876,this.nsm,2877,2878,this.L,2879,2879,this.nsm,2880,2880,this.L,2881,2883,this.nsm,2884,2892,this.L,2893,2893,this.nsm,2894,2901,this.L,2902,2902,this.nsm,2903,2945,this.L,2946,2946,this.nsm,2947,3007,this.L,3008,3008,this.nsm,3009,3020,this.L,3021,3021,this.nsm,3022,3058,this.L,3059,3064,this.ON,3065,3065,this.ET,3066,3066,this.ON,3067,3133,this.L,3134,3136,this.nsm,3137,3141,this.L,3142,3144,this.nsm,3145,3145,this.L,3146,3149,this.nsm,3150,3156,this.L,3157,3158,this.nsm,3159,3259,this.L,3260,3260,this.nsm,3261,3275,this.L,3276,3277,this.nsm,3278,3392,this.L,3393,3395,this.nsm,3396,3404,this.L,3405,3405,this.nsm,3406,3529,this.L,3530,3530,this.nsm,3531,3537,this.L,3538,3540,this.nsm,3541,3541,this.L,3542,3542,this.nsm,3543,3632,this.L,3633,3633,this.nsm,3634,3635,this.L,3636,3642,this.nsm,3643,3646,this.L,3647,3647,this.ET,3648,3654,this.L,3655,3662,this.nsm,3663,3760,this.L,3761,3761,this.nsm,3762,3763,this.L,3764,3769,this.nsm,3770,3770,this.L,3771,3772,this.nsm,3773,3783,this.L,3784,3789,this.nsm,3790,3863,this.L,3864,3865,this.nsm,3866,3892,this.L,3893,3893,this.nsm,3894,3894,this.L,3895,3895,this.nsm,3896,3896,this.L,3897,3897,this.nsm,3898,3901,this.ON,3902,3952,this.L,3953,3966,this.nsm,3967,3967,this.L,3968,3972,this.nsm,3973,3973,this.L,3974,3975,this.nsm,3976,3983,this.L,3984,3991,this.nsm,3992,3992,this.L,3993,4028,this.nsm,4029,4037,this.L,4038,4038,this.nsm,4039,4140,this.L,4141,4144,this.nsm,4145,4145,this.L,4146,4146,this.nsm,4147,4149,this.L,4150,4151,this.nsm,4152,4152,this.L,4153,4153,this.nsm,4154,4183,this.L,4184,4185,this.nsm,4186,5759,this.L,5760,5760,this.WS,5761,5786,this.L,5787,5788,this.ON,5789,5905,this.L,5906,5908,this.nsm,5909,5937,this.L,5938,5940,this.nsm,5941,5969,this.L,5970,5971,this.nsm,5972,6001,this.L,6002,6003,this.nsm,6004,6070,this.L,6071,6077,this.nsm,6078,6085,this.L,6086,6086,this.nsm,6087,6088,this.L,6089,6099,this.nsm,6100,6106,this.L,6107,6107,this.ET,6108,6108,this.L,6109,6109,this.nsm,6110,6127,this.L,6128,6137,this.ON,6138,6143,this.L,6144,6154,this.ON,6155,6157,this.nsm,6158,6158,this.WS,6159,6312,this.L,6313,6313,this.nsm,6314,6431,this.L,6432,6434,this.nsm,6435,6438,this.L,6439,6443,this.nsm,6444,6449,this.L,6450,6450,this.nsm,6451,6456,this.L,6457,6459,this.nsm,6460,6463,this.L,6464,6464,this.ON,6465,6467,this.L,6468,6469,this.ON,6470,6623,this.L,6624,6655,this.ON,6656,8124,this.L,8125,8125,this.ON,8126,8126,this.L,8127,8129,this.ON,8130,8140,this.L,8141,8143,this.ON,8144,8156,this.L,8157,8159,this.ON,8160,8172,this.L,8173,8175,this.ON,8176,8188,this.L,8189,8190,this.ON,8191,8191,this.L,8192,8202,this.WS,8203,8205,this.BN,8206,8206,this.L,8207,8207,this.R,8208,8231,this.ON,8232,8232,this.WS,8233,8233,this.B,8234,8234,this.lre,8235,8235,this.rle,8236,8236,this.pdf,8237,8237,this.lro,8238,8238,this.rlo,8239,8239,this.WS,8240,8244,this.ET,8245,8276,this.ON,8277,8278,this.L,8279,8279,this.ON,8280,8286,this.L,8287,8287,this.WS,8288,8291,this.BN,8292,8297,this.L,8298,8303,this.BN,8304,8304,this.EN,8305,8307,this.L,8308,8313,this.EN,8314,8315,this.ET,8316,8318,this.ON,8319,8319,this.L,8320,8329,this.EN,8330,8331,this.ET,8332,8334,this.ON,8335,8351,this.L,8352,8369,this.ET,8370,8399,this.L,8400,8426,this.nsm,8427,8447,this.L,8448,8449,this.ON,8450,8450,this.L,8451,8454,this.ON,8455,8455,this.L,8456,8457,this.ON,8458,8467,this.L,8468,8468,this.ON,8469,8469,this.L,8470,8472,this.ON,8473,8477,this.L,8478,8483,this.ON,8484,8484,this.L,8485,8485,this.ON,8486,8486,this.L,8487,8487,this.ON,8488,8488,this.L,8489,8489,this.ON,8490,8493,this.L,8494,8494,this.ET,8495,8497,this.L,8498,8498,this.ON,8499,8505,this.L,8506,8507,this.ON,8508,8511,this.L,8512,8516,this.ON,8517,8521,this.L,8522,8523,this.ON,8524,8530,this.L,8531,8543,this.ON,8544,8591,this.L,8592,8721,this.ON,8722,8723,this.ET,8724,9013,this.ON,9014,9082,this.L,9083,9108,this.ON,9109,9109,this.L,9110,9168,this.ON,9169,9215,this.L,9216,9254,this.ON,9255,9279,this.L,9280,9290,this.ON,9291,9311,this.L,9312,9371,this.EN,9372,9449,this.L,9450,9450,this.EN,9451,9751,this.ON,9752,9752,this.L,9753,9853,this.ON,9854,9855,this.L,9856,9873,this.ON,9874,9887,this.L,9888,9889,this.ON,9890,9984,this.L,9985,9988,this.ON,9989,9989,this.L,9990,9993,this.ON,9994,9995,this.L,9996,10023,this.ON,10024,10024,this.L,10025,10059,this.ON,10060,10060,this.L,10061,10061,this.ON,10062,10062,this.L,10063,10066,this.ON,10067,10069,this.L,10070,10070,this.ON,10071,10071,this.L,10072,10078,this.ON,10079,10080,this.L,10081,10132,this.ON,10133,10135,this.L,10136,10159,this.ON,10160,10160,this.L,10161,10174,this.ON,10175,10191,this.L,10192,10219,this.ON,10220,10223,this.L,10224,11021,this.ON,11022,11903,this.L,11904,11929,this.ON,11930,11930,this.L,11931,12019,this.ON,12020,12031,this.L,12032,12245,this.ON,12246,12271,this.L,12272,12283,this.ON,12284,12287,this.L,12288,12288,this.WS,12289,12292,this.ON,12293,12295,this.L,12296,12320,this.ON,12321,12329,this.L,12330,12335,this.nsm,12336,12336,this.ON,12337,12341,this.L,12342,12343,this.ON,12344,12348,this.L,12349,12351,this.ON,12352,12440,this.L,12441,12442,this.nsm,12443,12444,this.ON,12445,12447,this.L,12448,12448,this.ON,12449,12538,this.L,12539,12539,this.ON,12540,12828,this.L,12829,12830,this.ON,12831,12879,this.L,12880,12895,this.ON,12896,12923,this.L,12924,12925,this.ON,12926,12976,this.L,12977,12991,this.ON,12992,13003,this.L,13004,13007,this.ON,13008,13174,this.L,13175,13178,this.ON,13179,13277,this.L,13278,13279,this.ON,13280,13310,this.L,13311,13311,this.ON,13312,19903,this.L,19904,19967,this.ON,19968,42127,this.L,42128,42182,this.ON,42183,64284,this.L,64285,64285,this.R,64286,64286,this.nsm,64287,64296,this.R,64297,64297,this.ET,64298,64310,this.R,64311,64311,this.L,64312,64316,this.R,64317,64317,this.L,64318,64318,this.R,64319,64319,this.L,64320,64321,this.R,64322,64322,this.L,64323,64324,this.R,64325,64325,this.L,64326,64335,this.R,64336,64433,this.AL,64434,64466,this.L,64467,64829,this.AL,64830,64831,this.ON,64832,64847,this.L,64848,64911,this.AL,64912,64913,this.L,64914,64967,this.AL,64968,65007,this.L,65008,65020,this.AL,65021,65021,this.ON,65022,65023,this.L,65024,65039,this.nsm,65040,65055,this.L,65056,65059,this.nsm,65060,65071,this.L,65072,65103,this.ON,65104,65104,this.CS,65105,65105,this.ON,65106,65106,this.CS,65107,65107,this.L,65108,65108,this.ON,65109,65109,this.CS,65110,65118,this.ON,65119,65119,this.ET,65120,65121,this.ON,65122,65123,this.ET,65124,65126,this.ON,65127,65127,this.L,65128,65128,this.ON,65129,65130,this.ET,65131,65131,this.ON,65132,65135,this.L,65136,65140,this.AL,65141,65141,this.L,65142,65276,this.AL,65277,65278,this.L,65279,65279,this.BN,65280,65280,this.L,65281,65282,this.ON,65283,65285,this.ET,65286,65290,this.ON,65291,65291,this.ET,65292,65292,this.CS,65293,65293,this.ET,65294,65294,this.CS,65295,65295,this.ES,65296,65305,this.EN,65306,65306,this.CS,65307,65312,this.ON,65313,65338,this.L,65339,65344,this.ON,65345,65370,this.L,65371,65381,this.ON,65382,65503,this.L,65504,65505,this.ET,65506,65508,this.ON,65509,65510,this.ET,65511,65511,this.L,65512,65518,this.ON,65519,65528,this.L,65529,65531,this.BN,65532,65533,this.ON,65534,65535,this.L];for(var e=0;e<this._charTypes.length;++e)for(var t=this._charTypes[Number.parseInt(e.toString(),10)],i=this._charTypes[++e],n=this._charTypes[++e];t<=i;)this._rtlCharacterTypes[t++]=n}return e.prototype._getVisualOrder=function(e,t){this._type=this._getCharacterCode(e),this._textOrder=t?this.lre:this.L,this._doVisualOrder();for(var i=[],n=0;n<this._levels.length;n++)i[Number.parseInt(n.toString(),10)]=this._levels[Number.parseInt(n.toString(),10)];return i},e.prototype._getCharacterCode=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[Number.parseInt(i.toString(),10)].charCodeAt(0);t[Number.parseInt(i.toString(),10)]=this._rtlCharacterTypes[Number.parseInt(n.toString(),10)]}return t},e.prototype._setDefaultLevels=function(){for(var e=0;e<this._length;e++)this._levels[Number.parseInt(e.toString(),10)]=this._textOrder},e.prototype._setLevels=function(){this._setDefaultLevels();for(var e=0;e<this._length;++e){var t=this._levels[Number.parseInt(e.toString(),10)];this._levels[Number.parseInt(e.toString(),10)]=t}},e.prototype._updateLevels=function(e,t,i){if(0===(1&t))for(var n=e;n<i;++n)this._result[Number.parseInt(n.toString(),10)]===this.R?this._levels[Number.parseInt(n.toString(),10)]+=1:this._result[Number.parseInt(n.toString(),10)]!==this.L&&(this._levels[Number.parseInt(n.toString(),10)]+=2);else for(n=e;n<i;++n)this._result[Number.parseInt(n.toString(),10)]!==this.R&&(this._levels[Number.parseInt(n.toString(),10)]+=1)},e.prototype._doVisualOrder=function(){this._length=this._type.length,this._result=this._type,this._levels=[],this._setLevels(),this._length=this._getEmbeddedCharactersLength();for(var e=this._textOrder,t=0;t<this._length;){for(var i=this._levels[Number.parseInt(t.toString(),10)],n=0===(1&Math.max(e,i))?this.L:this.R,r=t+1;r<this._length&&this._levels[Number.parseInt(r.toString(),10)]===i;)++r;var s=r<this._length?this._levels[Number.parseInt(r.toString(),10)]:this._textOrder,o=0===(1&Math.max(s,i))?this.L:this.R;this._check(t,r,i,n,o),this._updateLevels(t,i,r),e=i,t=r}this._checkEmbeddedCharacters(this._length)},e.prototype._getEmbeddedCharactersLength=function(){for(var e=0,t=0;t<this._length;++t)this._type[Number.parseInt(t.toString(),10)]!==this.lre&&this._type[Number.parseInt(t.toString(),10)]!==this.rle&&this._type[Number.parseInt(t.toString(),10)]!==this.lro&&this._type[Number.parseInt(t.toString(),10)]!==this.rlo&&this._type[Number.parseInt(t.toString(),10)]!==this.pdf&&this._type[Number.parseInt(t.toString(),10)]!==this.BN&&(this._result[Number.parseInt(e.toString(),10)]=this._result[Number.parseInt(t.toString(),10)],this._levels[Number.parseInt(e.toString(),10)]=this._levels[Number.parseInt(t.toString(),10)],e++);return e},e.prototype._checkEmbeddedCharacters=function(e){for(var t=this._type.length-1;t>=0;--t)this._type[Number.parseInt(t.toString(),10)]===this.lre||this._type[Number.parseInt(t.toString(),10)]===this.rle||this._type[Number.parseInt(t.toString(),10)]===this.lro||this._type[Number.parseInt(t.toString(),10)]===this.rlo||this._type[Number.parseInt(t.toString(),10)]===this.pdf||this._type[Number.parseInt(t.toString(),10)]===this.BN?(this._result[Number.parseInt(t.toString(),10)]=this._type[Number.parseInt(t.toString(),10)],this._levels[Number.parseInt(t.toString(),10)]=-1):(e-=1,this._result[Number.parseInt(t.toString(),10)]=this._result[Number.parseInt(e.toString(),10)],this._levels[Number.parseInt(t.toString(),10)]=this._levels[Number.parseInt(e.toString(),10)]);for(t=0;t<this._type.length;t++)-1===this._levels[Number.parseInt(t.toString(),10)]&&(this._levels[Number.parseInt(t.toString(),10)]=this._levels[t-1])},e.prototype._check=function(e,t,i,n,r){for(var s=n,o=e;o<t;++o)this._result[Number.parseInt(o.toString(),10)]===this.nsm?this._result[Number.parseInt(o.toString(),10)]=s:s=this._result[Number.parseInt(o.toString(),10)];this._checkEuropeanDigits(e,t,i,n,r)},e.prototype._checkEuropeanDigits=function(e,t,i,n,r){for(var s=e;s<t;++s)if(this._result[Number.parseInt(s.toString(),10)]===this.EN)for(var o=s-1;o>=e;--o)if(this._result[Number.parseInt(o.toString(),10)]===this.L||this._result[Number.parseInt(o.toString(),10)]===this.R||this._result[Number.parseInt(o.toString(),10)]===this.AL){this._result[Number.parseInt(o.toString(),10)]===this.AL&&(this._result[Number.parseInt(s.toString(),10)]=this.AN);break}this._checkArabicCharacters(e,t,i,n,r)},e.prototype._checkArabicCharacters=function(e,t,i,n,r){for(var s=e;s<t;++s)this._result[Number.parseInt(s.toString(),10)]===this.AL&&(this._result[Number.parseInt(s.toString(),10)]=this.R);this._checkEuropeanNumberSeparator(e,t,i,n,r)},e.prototype._checkEuropeanNumberSeparator=function(e,t,i,n,r){for(var s=e+1;s<t-1;++s)if(this._result[Number.parseInt(s.toString(),10)]===this.ES||this._result[Number.parseInt(s.toString(),10)]===this.CS){var o=this._result[s-1],a=this._result[s+1];o===this.EN&&a===this.EN?this._result[Number.parseInt(s.toString(),10)]=this.EN:this._result[Number.parseInt(s.toString(),10)]===this.CS&&o===this.AN&&a===this.AN&&(this._result[Number.parseInt(s.toString(),10)]=this.AN)}this._checkEuropeanNumberTerminator(e,t,i,n,r)},e.prototype._checkEuropeanNumberTerminator=function(e,t,i,n,r){for(var s=e;s<t;++s)if(this._result[Number.parseInt(s.toString(),10)]===this.ET){var o=s,a=[];a.push(this.ET);var l=this._getLength(o,t,a),h=o===e?n:this._result[o-1];h!==this.EN&&(h=l===t?r:this._result[Number.parseInt(l.toString(),10)]),s=l}this._checkOtherNeutrals(e,t,i,n,r)},e.prototype._checkOtherNeutrals=function(e,t,i,n,r){for(var s=e;s<t;++s)this._result[Number.parseInt(s.toString(),10)]!==this.ES&&this._result[Number.parseInt(s.toString(),10)]!==this.ET&&this._result[Number.parseInt(s.toString(),10)]!==this.CS||(this._result[Number.parseInt(s.toString(),10)]=this.ON);this._checkOtherCharacters(e,t,i,n,r)},e.prototype._checkOtherCharacters=function(e,t,i,n,r){for(var s=e;s<t;++s)if(this._result[Number.parseInt(s.toString(),10)]===this.EN){for(var o=n,a=s-1;a>=e;--a)if(this._result[Number.parseInt(a.toString(),10)]===this.L||this._result[Number.parseInt(a.toString(),10)]===this.R){o=this._result[Number.parseInt(a.toString(),10)];break}o===this.L&&(this._result[Number.parseInt(s.toString(),10)]=this.L)}this._checkCharacters(e,t,i,n,r)},e.prototype._getLength=function(e,t,i){for(--e;++e<t;){for(var n=this._result[Number.parseInt(e.toString(),10)],r=0;r<i.length;++r)n===i[Number.parseInt(r.toString(),10)]&&(e=this._getLength(++e,t,i));return e}return t},e.prototype._checkCharacters=function(e,t,i,n,r){for(var s=e;s<t;++s)if(this._result[Number.parseInt(s.toString(),10)]===this.WS||this._result[Number.parseInt(s.toString(),10)]===this.ON||this._result[Number.parseInt(s.toString(),10)]===this.B||this._result[Number.parseInt(s.toString(),10)]===this.S){var o=s,a=[this.B,this.S,this.WS,this.ON],l=this._getLength(o,t,a),h=0,c=0,u=0;o===e?h=n:((h=this._result[o-1])===this.AN||h===this.EN)&&(h=this.R),l===t?c=r:(c=this._result[Number.parseInt(l.toString(),10)])===this.AN&&(c=this.R),u=h===c?h:0===(1&i)?this.L:this.R;for(var p=o;p<l;++p)this._result[Number.parseInt(p.toString(),10)]=u;s=l}},e}(),Ve=function(){function e(){this._openBracket="(",this._closeBracket=")"}return e.prototype._layout=function(e,t,i,n,r){var s=[];return null!==t&&"undefined"!==typeof t&&null!==e&&"undefined"!==typeof e&&(t._isUnicode?s=this._customLayout(e,i,r,t,n):(s=[])[0]=e),s},e.prototype._splitLayout=function(e,t,i,n,r){var s=[];if(null!==t&&"undefined"!==typeof t&&null!==e&&"undefined"!==typeof e){s=this._customSplitLayout(e,t,i,n,r)}return s},e.prototype._getGlyphIndex=function(e,t,i){if(i=[],null!==t&&"undefined"!==typeof t&&null!==e&&"undefined"!==typeof e){if(0===e.length)return{_result:!1,_glyphIndex:i};var n=(new Pe)._shape(e),r=t._fontInternal._ttfReader;i=[n.length];for(var s=0,o=0,a=n.length;o<a;o++){var l=n[Number.parseInt(o.toString(),10)],h=r._getGlyph(l);null!==h&&"undefined"!==typeof h&&(i[s++]=h._index)}}var c=new Je;return c._result=!0,c._glyphIndex=i,c},e.prototype._customLayout=function(e,t,i,n,r){if(null===r||"undefined"===typeof r){var s=null;if(null!==e&&"undefined"!==typeof e)if(null!==i&&"undefined"!==typeof i&&i.textDirection!==z.none)s=(new Fe)._getLogicalToVisualString(e,t);return s}var o="";s=[];if(null!==e&&"undefined"!==typeof e&&null!==n&&"undefined"!==typeof n){if(null!==i&&"undefined"!==typeof i&&i.textDirection!==z.none){var a=(new Pe)._shape(e);o=this._customLayout(a,t,i)}if(r){for(var l=o.split(""),h=l.length,c=0;c<h;c++)l[Number.parseInt(c.toString(),10)]=this._addCharacter(n,l[Number.parseInt(c.toString(),10)]);s=l}else(s=[])[0]=this._addCharacter(n,o)}return s},e.prototype._addCharacter=function(e,t){if(null!==e&&"undefined"!==typeof e&&null!==t&&"undefined"!==typeof t){var i=e._fontInternal._ttfReader;e._setSymbols(t),t=Mi(Si(t=i._convertString(t)))}return t},e.prototype._customSplitLayout=function(e,t,i,n,r){var s=[];null!==e&&"undefined"!==typeof e&&(s=this._customLayout(e,i,r).split(""));return s},e}(),Ue=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),He=function(){function e(e,t){"number"===typeof e&&"undefined"===typeof t?this._size=e:(this._size=e,this._style=t)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(e){this._style=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUnderline",{get:function(){return(this.style&de.underline)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStrikeout",{get:function(){return(this.style&de.strikeout)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_metrics",{get:function(){return this._fontMetrics},set:function(e){this._fontMetrics=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBold",{get:function(){return(this.style&de.bold)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isItalic",{get:function(){return(this.style&de.italic)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._metrics._getHeight()},enumerable:!0,configurable:!0}),e.prototype._setInternals=function(e){if(null==e)throw new Error("ArgumentNullException:internals");this._pdfFontInternals=e},e.prototype._getCharacterCount=function(e,t){if("string"===typeof t){var i=0,n=0;for(n=e.indexOf(t,n);-1!==n;)i++,n++,n=e.indexOf(t,n);return i}for(var r=0,s=0;s<e.length;s++)-1!==t.indexOf(e[Number.parseInt(s.toString(),10)])&&r++;return r},e.prototype.measureString=function(e,t,i,n,r){if("string"===typeof e&&"undefined"===typeof t)return this.measureString(e,null);if("string"===typeof e&&(t instanceof ee||null==t)&&"undefined"===typeof i&&"undefined"===typeof n){var s=t;return this.measureString(e,s,0,0)}if("string"===typeof e&&(t instanceof ee||null==t)&&"number"===typeof i&&"number"===typeof n){s=t;return this.measureString(e,0,s,i,n)}if("string"===typeof e&&"number"===typeof t&&(i instanceof ee||null==i)&&"number"===typeof n&&"number"===typeof r){var o=[t,0],a=i;return this.measureString(e,o,a,n,r)}s=t,a=i;var l=(new ce)._layout(e,this,a,s);return n=e.length,r=l._empty?0:l._lines.length,l._actualSize},e.prototype._applyFormatSettings=function(e,t,i){var n=i;return"undefined"!==typeof t&&null!==t&&i>0&&(0!==t.characterSpacing&&(n+=(e.length-1)*t.characterSpacing),0!==t.wordSpacing&&(n+=this._getCharacterCount(e,[" ","\t"])*t.wordSpacing)),n},e}(),We=function(e){function t(t,i,n){var r=e.call(this,i,"undefined"===typeof n?de.regular:n)||this;return r._fontFamily=t,r._checkStyle(),r._initializeInternals(),r}return Ue(t,e),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},enumerable:!0,configurable:!0}),t.prototype._checkStyle=function(){this._fontFamily!==fe.symbol&&this._fontFamily!==fe.zapfDingbats||(this._style&=~(de.bold|de.italic))},t.prototype.getLineWidth=function(e,t){for(var i=0,n=0,r=e.length;n<r;n++)i+=this._getCharacterWidthInternal(e[Number.parseInt(n.toString(),10)]);return i*=.001*this._metrics._size,i=this._applyFormatSettings(e,t,i)},t.prototype._initializeInternals=function(){this._metrics=qe._getMetrics(this._fontFamily,this._style,this._size),this._dictionary=this._createInternals()},t.prototype._createInternals=function(){var e=new Yn;return e._updated=!0,e.set("Type",Fn.get("Font")),e.set("Subtype",Fn.get("Type1")),e.set("BaseFont",new Fn(this._metrics._postScriptName)),this._fontFamily!==fe.symbol&&this._fontFamily!==fe.zapfDingbats&&e.set("Encoding",new Fn("WinAnsiEncoding")),e},t.prototype._getCharacterWidthInternal=function(e){var t=0;return t=e.charCodeAt(0),"0"!==this._metrics._name&&"1"!==this._metrics._name&&"2"!==this._metrics._name&&"3"!==this._metrics._name&&"4"!==this._metrics._name||(t-=32),t=t>=0&&128!==t?t:0,this._metrics._widthTable._itemAt(t)},t}(He),Ye=function(e){function t(t,i,n){var r=e.call(this,i,"undefined"===typeof n?de.regular:n)||this;return r._fontFamily=t,r._size=i,r._initializeInternals(),r}return Ue(t,e),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},enumerable:!0,configurable:!0}),t.prototype._initializeInternals=function(){this._metrics=Ge._getMetrics(this._fontFamily,this._style,this._size),this._dictionary=this._createInternals()},t.prototype._createInternals=function(){var e=new Yn;return e._updated=!0,e.set("Type",Fn.get("Font")),e.set("Subtype",Fn.get("Type0")),e.set("BaseFont",new Fn(this._metrics._postScriptName)),e.set("Encoding",this._getEncoding(this._fontFamily)),e.set("DescendantFonts",this._getDescendantFont()),e},t.prototype._getEncoding=function(e){var t="Unknown";switch(e){case ge.hanyangSystemsGothicMedium:case ge.hanyangSystemsShinMyeongJoMedium:t="UniKS-UCS2-H";break;case ge.heiseiKakuGothicW5:case ge.heiseiMinchoW3:t="UniJIS-UCS2-H";break;case ge.monotypeHeiMedium:case ge.monotypeSungLight:t="UniCNS-UCS2-H";break;case ge.sinoTypeSongLight:t="UniGB-UCS2-H"}return new Fn(t)},t.prototype._getDescendantFont=function(){var e=new Yn;return e._updated=!0,e.set("Type",Fn.get("Font")),e.set("Subtype",Fn.get("CIDFontType2")),e.set("BaseFont",new Fn(this._metrics._postScriptName)),e.set("DW",this._metrics._widthTable._defaultWidth),e.set("W",this._metrics._widthTable._toArray()),e.set("FontDescriptor",Ke._getFontDescriptor(this._fontFamily,this._style,this._metrics)),e.set("CIDSystemInfo",this._getSystemInformation()),[e]},t.prototype._getSystemInformation=function(){var e=new Yn;switch(e._updated=!0,e.set("Registry","Adobe"),this._fontFamily){case ge.hanyangSystemsGothicMedium:case ge.hanyangSystemsShinMyeongJoMedium:e.set("Ordering","Korea1"),e.set("Supplement",1);break;case ge.heiseiKakuGothicW5:case ge.heiseiMinchoW3:e.set("Ordering","Japan1"),e.set("Supplement",2);break;case ge.monotypeHeiMedium:case ge.monotypeSungLight:e.set("Ordering","CNS1"),e.set("Supplement","0");break;case ge.sinoTypeSongLight:e.set("Ordering","GB1"),e.set("Supplement",2)}return e},t.prototype.getLineWidth=function(e,t){for(var i=0,n=0;n<e.length;n++)i+=this._getCharacterWidthInternal(e.charCodeAt(n));return i*=.001*this._metrics._size,i=this._applyFormatSettings(e,t,i)},t.prototype._getCharacterWidthInternal=function(e){return e=e>=0?e:0,this._metrics._widthTable._itemAt(e)},t}(He),Qe=function(e){function t(t,i,n){var r=e.call(this,i,"undefined"===typeof n?de.regular:n)||this;return r._isEmbedFont=!1,r._isUnicode=!0,void 0!==n?r._createFontInternal(t,n):r._createFontInternal(t,de.regular),r}return Ue(t,e),Object.defineProperty(t.prototype,"isUnicode",{get:function(){return this._isUnicode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmbed",{get:function(){return this._isEmbedFont},enumerable:!0,configurable:!0}),t.prototype._createFontInternal=function(e,t){this._fontInternal=new Oe(e,this._size),this._calculateStyle(t),this._initializeInternals()},t.prototype._calculateStyle=function(e){var t=this._fontInternal._ttfMetrics._macStyle;0!==(e&de.underline)&&(t|=de.underline),0!==(e&de.strikeout)&&(t|=de.strikeout),this.style=t},t.prototype._initializeInternals=function(){var e;this._fontInternal instanceof Oe&&(this._fontInternal._isEmbed=this._isEmbedFont),this._fontInternal._createInternals(),e=this._fontInternal._getInternals(),this._metrics=this._fontInternal._metrics,this._metrics._isUnicodeFont=!0,this._setInternals(e)},t.prototype.getLineWidth=function(e,t){var i=0;if(null!==t&&"undefined"!==typeof t&&t.textDirection!==z.none)i=this._getUnicodeLineWidth(e,i);else for(var n=0,r=e.length;n<r;n++)i+=this._getCharacterWidthInternal(e[Number.parseInt(n.toString(),10)]);return i*=.001*this._metrics._size,i=this._applyFormatSettings(e,t,i)},t.prototype._getUnicodeLineWidth=function(e,t){t=0;var i,n=[],r=(new Ve)._getGlyphIndex(e,this,n);if(i=r._result,n=r._glyphIndex,i&&null!==n)for(var s=this._fontInternal._ttfReader,o=0,a=n.length;o<a;o++){var l=n[Number.parseInt(o.toString(),10)],h=s._getGlyph(l);null!==h&&"undefined"!==typeof h&&(t+=h._width)}return t},t.prototype._getCharacterWidth=function(e,t){var i=this._fontInternal._getCharacterWidth(e);return i*=.001*this._metrics._getSize(t)},t.prototype._setSymbols=function(e){var t=this._fontInternal;null!==t&&"undefined"!==typeof t&&t._setSymbols(e)},t.prototype._getCharacterWidthInternal=function(e){var t=0;return t=e.charCodeAt(0),"0"!==this._metrics._name&&"1"!==this._metrics._name&&"2"!==this._metrics._name&&"3"!==this._metrics._name&&"4"!==this._metrics._name||(t-=32),t=t>=0&&128!==t?t:0,this._metrics._widthTable._itemAt(t)},t}(He),qe=function(){function e(){}return e._getMetrics=function(e,t,i){var n=null;switch(e){case fe.helvetica:n=this._getHelveticaMetrics(t,i);break;case fe.courier:n=this._getCourierMetrics(t,i);break;case fe.timesRoman:n=this._getTimesMetrics(t,i);break;case fe.symbol:n=this._getSymbolMetrics(i);break;case fe.zapfDingbats:n=this._getZapfDingbatsMetrics(i);break;default:n=this._getHelveticaMetrics(t,i)}return n._name=e.toString(),n._subScriptSizeFactor=this._subSuperScriptFactor,n._superscriptSizeFactor=this._subSuperScriptFactor,n},e._getHelveticaMetrics=function(e,t){var i=new ne;return(e&de.bold)>0&&(e&de.italic)>0?(i._ascent=this._helveticaBoldItalicAscent,i._descent=this._helveticaBoldItalicDescent,i._postScriptName=this._helveticaBoldItalicName,i._size=t,i._widthTable=new se(this._arialBoldWidth),i._height=i._ascent-i._descent):(e&de.bold)>0?(i._ascent=this._helveticaBoldAscent,i._descent=this._helveticaBoldDescent,i._postScriptName=this._helveticaBoldName,i._size=t,i._widthTable=new se(this._arialBoldWidth),i._height=i._ascent-i._descent):(e&de.italic)>0?(i._ascent=this._helveticaItalicAscent,i._descent=this._helveticaItalicDescent,i._postScriptName=this._helveticaItalicName,i._size=t,i._widthTable=new se(this._arialWidth),i._height=i._ascent-i._descent):(i._ascent=this._helveticaAscent,i._descent=this._helveticaDescent,i._postScriptName=this._helveticaName,i._size=t,i._widthTable=new se(this._arialWidth),i._height=i._ascent-i._descent),i},e._getCourierMetrics=function(e,t){var i=new ne;return(e&de.bold)>0&&(e&de.italic)>0?(i._ascent=this._courierBoldItalicAscent,i._descent=this._courierBoldItalicDescent,i._postScriptName=this._courierBoldItalicName,i._size=t,i._widthTable=new se(this._fixedWidth),i._height=i._ascent-i._descent):(e&de.bold)>0?(i._ascent=this._courierBoldAscent,i._descent=this._courierBoldDescent,i._postScriptName=this._courierBoldName,i._size=t,i._widthTable=new se(this._fixedWidth),i._height=i._ascent-i._descent):(e&de.italic)>0?(i._ascent=this._courierItalicAscent,i._descent=this._courierItalicDescent,i._postScriptName=this._courierItalicName,i._size=t,i._widthTable=new se(this._fixedWidth),i._height=i._ascent-i._descent):(i._ascent=this._courierAscent,i._descent=this._courierDescent,i._postScriptName=this._courierName,i._size=t,i._widthTable=new se(this._fixedWidth),i._height=i._ascent-i._descent),i},e._getTimesMetrics=function(e,t){var i=new ne;return(e&de.bold)>0&&(e&de.italic)>0?(i._ascent=this._timesBoldItalicAscent,i._descent=this._timesBoldItalicDescent,i._postScriptName=this._timesBoldItalicName,i._size=t,i._widthTable=new se(this._timesRomanBoldItalicWidths),i._height=i._ascent-i._descent):(e&de.bold)>0?(i._ascent=this._timesBoldAscent,i._descent=this._timesBoldDescent,i._postScriptName=this._timesBoldName,i._size=t,i._widthTable=new se(this._timesRomanBoldWidth),i._height=i._ascent-i._descent):(e&de.italic)>0?(i._ascent=this._timesItalicAscent,i._descent=this._timesItalicDescent,i._postScriptName=this._timesItalicName,i._size=t,i._widthTable=new se(this._timesRomanItalicWidth),i._height=i._ascent-i._descent):(i._ascent=this._timesAscent,i._descent=this._timesDescent,i._postScriptName=this._timesName,i._size=t,i._widthTable=new se(this._timesRomanWidth),i._height=i._ascent-i._descent),i},e._getSymbolMetrics=function(e){var t=new ne;return t._ascent=this._symbolAscent,t._descent=this._symbolDescent,t._postScriptName=this._symbolName,t._size=e,t._widthTable=new se(this._symbolWidth),t._height=t._ascent-t._descent,t},e._getZapfDingbatsMetrics=function(e){var t=new ne;return t._ascent=this._zapfDingbatsAscent,t._descent=this._zapfDingbatsDescent,t._postScriptName=this._zapfDingbatsName,t._size=e,t._widthTable=new se(this._zapfDingbatsWidth),t._height=t._ascent-t._descent,t},e._subSuperScriptFactor=1.52,e._helveticaAscent=931,e._helveticaDescent=-225,e._helveticaName="Helvetica",e._helveticaBoldAscent=962,e._helveticaBoldDescent=-228,e._helveticaBoldName="Helvetica-Bold",e._helveticaItalicAscent=931,e._helveticaItalicDescent=-225,e._helveticaItalicName="Helvetica-Oblique",e._helveticaBoldItalicAscent=962,e._helveticaBoldItalicDescent=-228,e._helveticaBoldItalicName="Helvetica-BoldOblique",e._courierAscent=805,e._courierDescent=-250,e._courierName="Courier",e._courierBoldAscent=801,e._courierBoldDescent=-250,e._courierBoldName="Courier-Bold",e._courierItalicAscent=805,e._courierItalicDescent=-250,e._courierItalicName="Courier-Oblique",e._courierBoldItalicAscent=801,e._courierBoldItalicDescent=-250,e._courierBoldItalicName="Courier-BoldOblique",e._timesAscent=898,e._timesDescent=-218,e._timesName="Times-Roman",e._timesBoldAscent=935,e._timesBoldDescent=-218,e._timesBoldName="Times-Bold",e._timesItalicAscent=883,e._timesItalicDescent=-217,e._timesItalicName="Times-Italic",e._timesBoldItalicAscent=921,e._timesBoldItalicDescent=-218,e._timesBoldItalicName="Times-BoldItalic",e._symbolAscent=1010,e._symbolDescent=-293,e._symbolName="Symbol",e._zapfDingbatsAscent=820,e._zapfDingbatsDescent=-143,e._zapfDingbatsName="ZapfDingbats",e._arialWidth=[278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,0,556,0,222,556,333,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,222,222,333,333,350,556,1e3,333,1e3,500,333,944,0,500,667,0,333,556,556,556,556,260,556,333,737,370,556,584,0,737,333,400,584,333,333,333,556,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,584,611,556,556,556,556,500,556,500],e._arialBoldWidth=[278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,0,556,0,278,556,500,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,278,278,500,500,350,556,1e3,333,1e3,556,333,944,0,500,667,0,333,556,556,556,556,280,556,333,737,370,556,584,0,737,333,400,584,333,333,333,611,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,584,611,611,611,611,611,556,611,556],e._fixedWidth=[600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600],e._timesRomanWidth=[250,333,408,500,500,833,778,180,333,333,500,564,250,333,250,278,500,500,500,500,500,500,500,500,500,500,278,278,564,564,564,444,921,722,667,667,722,611,556,722,722,333,389,722,611,889,722,722,556,722,667,556,611,722,722,944,722,722,611,333,278,333,469,500,333,444,500,444,500,444,333,500,500,278,278,500,278,778,500,500,500,500,333,389,278,500,500,722,500,500,444,480,200,480,541,0,500,0,333,500,444,1e3,500,500,333,1e3,556,333,889,0,611,0,0,333,333,444,444,350,500,1e3,333,980,389,333,722,0,444,722,0,333,500,500,500,500,200,500,333,760,276,500,564,0,760,333,400,564,300,300,333,500,453,250,333,300,310,500,750,750,750,444,722,722,722,722,722,722,889,667,611,611,611,611,333,333,333,333,722,722,722,722,722,722,722,564,722,722,722,722,722,722,556,500,444,444,444,444,444,444,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,564,500,500,500,500,500,500,500,500],e._timesRomanBoldWidth=[250,333,555,500,500,1e3,833,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,930,722,667,722,722,667,611,778,778,389,500,778,667,944,722,778,611,778,722,556,667,722,722,1e3,722,722,667,333,278,333,581,500,333,500,556,444,556,444,333,500,556,278,333,556,278,833,556,500,556,556,444,389,333,556,500,722,500,500,444,394,220,394,520,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,1e3,0,667,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,444,722,0,333,500,500,500,500,220,500,333,747,300,500,570,0,747,333,400,570,300,300,333,556,540,250,333,300,330,500,750,750,750,500,722,722,722,722,722,722,1e3,722,667,667,667,667,389,389,389,389,722,722,778,778,778,778,778,570,778,722,722,722,722,722,611,556,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,500,556,500],e._timesRomanItalicWidth=[250,333,420,500,500,833,778,214,333,333,500,675,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,675,675,675,500,920,611,611,667,722,611,611,722,722,333,444,667,556,833,667,722,611,722,611,500,556,722,611,833,611,556,556,389,278,389,422,500,333,500,500,444,500,444,278,500,500,278,278,444,278,722,500,500,500,500,389,389,278,500,444,667,444,444,389,400,275,400,541,0,500,0,333,500,556,889,500,500,333,1e3,500,333,944,0,556,0,0,333,333,556,556,350,500,889,333,980,389,333,667,0,389,556,0,389,500,500,500,500,275,500,333,760,276,500,675,0,760,333,400,675,300,300,333,500,523,250,333,300,310,500,750,750,750,500,611,611,611,611,611,611,889,667,611,611,611,611,333,333,333,333,722,667,722,722,722,722,722,675,722,722,722,722,722,556,611,500,500,500,500,500,500,500,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,675,500,500,500,500,500,444,500,444],e._timesRomanBoldItalicWidths=[250,389,555,500,500,833,778,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,832,667,667,667,722,667,667,722,778,389,500,667,611,889,722,722,611,722,667,556,611,722,667,889,667,611,611,333,278,333,570,500,333,500,500,444,500,444,333,500,556,278,278,500,278,778,556,500,500,500,389,389,278,556,444,667,500,444,389,348,220,348,570,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,944,0,611,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,389,611,0,389,500,500,500,500,220,500,333,747,266,500,606,0,747,333,400,570,300,300,333,576,500,250,333,300,300,500,750,750,750,500,667,667,667,667,667,667,944,667,667,667,667,667,389,389,389,389,722,722,722,722,722,722,722,570,722,722,722,722,722,611,611,500,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,444,500,444],e._symbolWidth=[250,333,713,500,549,833,778,439,333,333,500,549,250,549,250,278,500,500,500,500,500,500,500,500,500,500,278,278,549,549,549,444,549,722,667,722,612,611,763,603,722,333,631,722,686,889,722,722,768,741,556,592,611,690,439,768,645,795,611,333,863,333,658,500,500,631,549,549,494,439,521,411,603,329,603,549,549,576,521,549,549,521,549,603,439,576,713,686,493,686,494,480,200,480,549,750,620,247,549,167,713,500,753,753,753,753,1042,987,603,987,603,400,549,411,549,549,713,494,460,549,549,549,549,1e3,603,1e3,658,823,686,795,987,768,768,823,768,768,713,713,713,713,713,713,713,768,713,790,790,890,823,549,250,713,603,603,1042,987,603,987,603,494,329,790,790,786,713,384,384,384,384,384,384,494,494,494,494,329,274,686,686,686,384,384,384,384,384,384,494,494,494,-1],e._zapfDingbatsWidth=[278,974,961,974,980,719,789,790,791,690,960,939,549,855,911,933,911,945,974,755,846,762,761,571,677,763,760,759,754,494,552,537,577,692,786,788,788,790,793,794,816,823,789,841,823,833,816,831,923,744,723,749,790,792,695,776,768,792,759,707,708,682,701,826,815,789,789,707,687,696,689,786,787,713,791,785,791,873,761,762,762,759,759,892,892,788,784,438,138,277,415,392,392,668,668,390,390,317,317,276,276,509,509,410,410,234,234,334,334,732,544,544,910,667,760,760,776,595,694,626,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,894,838,1016,458,748,924,748,918,927,928,928,834,873,828,924,924,917,930,931,463,883,836,836,867,867,696,696,874,874,760,946,771,865,771,888,967,888,831,873,927,970,918],e}(),Ge=function(){function e(){}return e._getHanyangSystemsGothicMedium=function(e,t){var i=new ne,n=new oe(1e3);return n._add(new le(1,127,500)),n._add(new le(8094,8190,500)),i._widthTable=n,i._ascent=880,i._descent=-120,i._size=t,i._height=i._ascent-i._descent,0!==(e&de.bold)&&0!==(e&de.italic)?i._postScriptName="HYGoThic-Medium,BoldItalic":0!==(e&de.bold)?i._postScriptName="HYGoThic-Medium,Bold":0!==(e&de.italic)?i._postScriptName="HYGoThic-Medium,Italic":i._postScriptName="HYGoThic-Medium",i},e._getHanyangSystemsShinMyeongJoMedium=function(e,t){var i=new ne,n=new oe(1e3);return n._add(new le(1,95,500)),n._add(new le(8094,8190,500)),i._widthTable=n,i._ascent=880,i._descent=-120,i._size=t,i._height=i._ascent-i._descent,0!==(e&de.bold)&&0!==(e&de.italic)?i._postScriptName="HYSMyeongJo-Medium,BoldItalic":0!==(e&de.bold)?i._postScriptName="HYSMyeongJo-Medium,Bold":0!==(e&de.italic)?i._postScriptName="HYSMyeongJo-Medium,Italic":i._postScriptName="HYSMyeongJo-Medium",i},e._getHeiseiKakuGothicW5=function(e,t){var i=new ne,n=new oe(1e3);return n._add(new le(1,95,500)),n._add(new le(231,632,500)),i._widthTable=n,i._ascent=857,i._descent=-125,i._size=t,i._height=i._ascent-i._descent,0!==(e&de.bold)&&0!==(e&de.italic)?i._postScriptName="HeiseiKakuGo-W5,BoldItalic":0!==(e&de.bold)?i._postScriptName="HeiseiKakuGo-W5,Bold":0!==(e&de.italic)?i._postScriptName="HeiseiKakuGo-W5,Italic":i._postScriptName="HeiseiKakuGo-W5",i},e._getHeiseiMinchoW3=function(e,t){var i=new ne,n=new oe(1e3);return n._add(new le(1,95,500)),n._add(new le(231,632,500)),i._widthTable=n,i._ascent=857,i._descent=-143,i._size=t,i._height=i._ascent-i._descent,0!==(e&de.bold)&&0!==(e&de.italic)?i._postScriptName="HeiseiMin-W3,BoldItalic":0!==(e&de.bold)?i._postScriptName="HeiseiMin-W3,Bold":0!==(e&de.italic)?i._postScriptName="HeiseiMin-W3,Italic":i._postScriptName="HeiseiMin-W3",i},e._getMonotypeHeiMedium=function(e,t){var i=new ne,n=new oe(1e3);return n._add(new le(1,95,500)),n._add(new le(13648,13742,500)),i._widthTable=n,i._ascent=880,i._descent=-120,i._size=t,i._height=i._ascent-i._descent,0!==(e&de.bold)&&0!==(e&de.italic)?i._postScriptName="MHei-Medium,BoldItalic":0!==(e&de.bold)?i._postScriptName="MHei-Medium,Bold":0!==(e&de.italic)?i._postScriptName="MHei-Medium,Italic":i._postScriptName="MHei-Medium",i},e._getMonotypeSungLight=function(e,t){var i=new ne,n=new oe(1e3);return n._add(new le(1,95,500)),n._add(new le(13648,13742,500)),i._widthTable=n,i._ascent=880,i._descent=-120,i._size=t,i._height=i._ascent-i._descent,0!==(e&de.bold)&&0!==(e&de.italic)?i._postScriptName="MSung-Light,BoldItalic":0!==(e&de.bold)?i._postScriptName="MSung-Light,Bold":0!==(e&de.italic)?i._postScriptName="MSung-Light,Italic":i._postScriptName="MSung-Light",i},e._getSinoTypeSongLight=function(e,t){var i=new ne,n=new oe(1e3);return n._add(new le(1,95,500)),n._add(new le(814,939,500)),n._add(new he(7712,[500])),n._add(new he(7716,[500])),i._ascent=880,i._descent=-120,i._size=t,i._height=i._ascent-i._descent,0!==(e&de.bold)&&0!==(e&de.italic)?i._postScriptName="STSong-Light,BoldItalic":0!==(e&de.bold)?i._postScriptName="STSong-Light,Bold":0!==(e&de.italic)?i._postScriptName="STSong-Light,Italic":i._postScriptName="STSong-Light",i._widthTable=n,i},e._getMetrics=function(e,t,i){var n;switch(e){case ge.hanyangSystemsGothicMedium:(n=this._getHanyangSystemsGothicMedium(t,i))._name="HanyangSystemsGothicMedium";break;case ge.hanyangSystemsShinMyeongJoMedium:(n=this._getHanyangSystemsShinMyeongJoMedium(t,i))._name="HanyangSystemsShinMyeongJoMedium";break;case ge.heiseiKakuGothicW5:(n=this._getHeiseiKakuGothicW5(t,i))._name="HeiseiKakuGothicW5";break;case ge.heiseiMinchoW3:(n=this._getHeiseiMinchoW3(t,i))._name="HeiseiMinchoW3";break;case ge.monotypeHeiMedium:(n=this._getMonotypeHeiMedium(t,i))._name="MonotypeHeiMedium";break;case ge.monotypeSungLight:(n=this._getMonotypeSungLight(t,i))._name="MonotypeSungLight";break;case ge.sinoTypeSongLight:(n=this._getSinoTypeSongLight(t,i))._name="SinoTypeSongLight"}return n._subScriptSizeFactor=this._subSuperScriptFactor,n._superscriptSizeFactor=this._subSuperScriptFactor,n},e._subSuperScriptFactor=1.52,e}(),Ke=function(){function e(){}return e._fillMonotypeSungLight=function(e,t,i){this._fillFontBox(e,{x:-160,y:-249,width:1175,height:1137}),this._fillKnownInformation(e,t,i),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",1e3),e.set("MaxWidth",1e3),e.set("CapHeight",880),e.set("XHeight",616),e.set("Leading",250)},e._fillHeiseiKakuGothicW5=function(e,t,i,n){(t&(de.italic|de.bold))!==de.italic?this._fillFontBox(e,{x:-92,y:-250,width:1102,height:1172}):this._fillFontBox(e,{x:-92,y:-250,width:1102,height:1932}),this._fillKnownInformation(e,i,n),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",689),e.set("MaxWidth",1e3),e.set("CapHeight",718),e.set("XHeight",500),e.set("Leading",250)},e._fillHanyangSystemsShinMyeongJoMedium=function(e,t,i){this._fillFontBox(e,{x:0,y:-148,width:1001,height:1028}),this._fillKnownInformation(e,t,i),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",1e3),e.set("MaxWidth",1e3),e.set("CapHeight",880),e.set("XHeight",616),e.set("Leading",250)},e._fillHeiseiMinchoW3=function(e,t,i){this._fillFontBox(e,{x:-123,y:-257,width:1124,height:1167}),this._fillKnownInformation(e,t,i),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",702),e.set("MaxWidth",1e3),e.set("CapHeight",718),e.set("XHeight",500),e.set("Leading",250)},e._fillSinoTypeSongLight=function(e,t,i){this._fillFontBox(e,{x:-25,y:-254,width:1025,height:1134}),this._fillKnownInformation(e,t,i),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",1e3),e.set("MaxWidth",1e3),e.set("CapHeight",880),e.set("XHeight",616),e.set("Leading",250)},e._fillMonotypeHeiMedium=function(e,t,i){this._fillFontBox(e,{x:-45,y:-250,width:1060,height:1137}),this._fillKnownInformation(e,t,i),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",1e3),e.set("MaxWidth",1e3),e.set("CapHeight",880),e.set("XHeight",616),e.set("Leading",250)},e._fillHanyangSystemsGothicMedium=function(e,t,i){this._fillFontBox(e,{x:-6,y:-145,width:1009,height:1025}),this._fillKnownInformation(e,t,i),e.set("Flags",4),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",1e3),e.set("MaxWidth",1e3),e.set("CapHeight",880),e.set("XHeight",616),e.set("Leading",250)},e._fillFontBox=function(e,t){e.set("FontBBox",Ei(t))},e._fillKnownInformation=function(e,t,i){switch(e.set("FontName",Fn.get(i._postScriptName)),e.set("Type",Fn.get("FontDescriptor")),e.set("ItalicAngle",0),e.set("MissingWidth",i._widthTable._defaultWidth),e.set("Ascent",i._ascent),e.set("Descent",i._descent),t){case ge.monotypeHeiMedium:case ge.hanyangSystemsGothicMedium:case ge.heiseiKakuGothicW5:e.set("Flags",4);break;case ge.sinoTypeSongLight:case ge.monotypeSungLight:case ge.hanyangSystemsShinMyeongJoMedium:case ge.heiseiMinchoW3:e.set("Flags",6)}},e._getFontDescriptor=function(e,t,i){var n=new Yn;switch(n._updated=!0,e){case ge.hanyangSystemsGothicMedium:this._fillHanyangSystemsGothicMedium(n,e,i);break;case ge.hanyangSystemsShinMyeongJoMedium:this._fillHanyangSystemsShinMyeongJoMedium(n,e,i);break;case ge.heiseiKakuGothicW5:this._fillHeiseiKakuGothicW5(n,t,e,i);break;case ge.heiseiMinchoW3:this._fillHeiseiMinchoW3(n,e,i);break;case ge.monotypeHeiMedium:this._fillMonotypeHeiMedium(n,e,i);break;case ge.monotypeSungLight:this._fillMonotypeSungLight(n,e,i);break;case ge.sinoTypeSongLight:this._fillSinoTypeSongLight(n,e,i)}return n},e}();!function(e){e[e.regular=0]="regular",e[e.bold=1]="bold",e[e.italic=2]="italic",e[e.underline=4]="underline",e[e.strikeout=8]="strikeout"}(de||(de={})),function(e){e[e.helvetica=0]="helvetica",e[e.courier=1]="courier",e[e.timesRoman=2]="timesRoman",e[e.symbol=3]="symbol",e[e.zapfDingbats=4]="zapfDingbats"}(fe||(fe={})),function(e){e[e.heiseiKakuGothicW5=0]="heiseiKakuGothicW5",e[e.heiseiMinchoW3=1]="heiseiMinchoW3",e[e.hanyangSystemsGothicMedium=2]="hanyangSystemsGothicMedium",e[e.hanyangSystemsShinMyeongJoMedium=3]="hanyangSystemsShinMyeongJoMedium",e[e.monotypeHeiMedium=4]="monotypeHeiMedium",e[e.monotypeSungLight=5]="monotypeSungLight",e[e.sinoTypeSongLight=6]="sinoTypeSongLight"}(ge||(ge={}));var Xe,Je=function(){this._result=!1,this._glyphIndex=[]},Ze=function(){function e(){this._isRoundedRectangle=!1,this._fillMode=P.winding,this._points=[],this._pathTypes=[],this._isStart=!0}return Object.defineProperty(e.prototype,"_lastPoint",{get:function(){var e=[0,0],t=this._points.length;return this._points.length>0&&(e[0]=this._points[t-1][0],e[1]=this._points[t-1][0]),e},enumerable:!0,configurable:!0}),e.prototype._addLine=function(e,t,i,n){this._addPoints([e,t,i,n],Xe.line)},e.prototype._addLines=function(e){var t=e[0];if(1===e.length)this._addPoint(e[0],Xe.line);else for(var i=1;i<e.length;i++){var n=e[Number.parseInt(i.toString(),10)];this._addLine(t[0],t[1],n[0],n[1]),t=n}},e.prototype._addPoints=function(e,t,i,n){for(var r="undefined"!==typeof i?i:0,s="undefined"!==typeof n?n:e.length,o=r;o<s;o++){var a=[e[Number.parseInt(o.toString(),10)],e[o+1]];o===r?0===this._points.length||this._isStart?(this._addPoint(a,Xe.start),this._isStart=!1):!this._isRoundedRectangle||a[0]===this._lastPoint[0]&&a[1]===this._lastPoint[1]?a[0]!==this._lastPoint[0]&&a[1]!==this._lastPoint[1]&&this._addPoint(a,Xe.line):this._addPoint(a,Xe.line):this._addPoint(a,t),o++}},e.prototype._addPoint=function(e,t){this._points.push(e),this._pathTypes.push(t)},e.prototype._addArc=function(e,t,i,n,r,s){for(var o=Gi(e,t,e+i,t+n,r,s),a=0;a<o.length;++a){var l=[o[Number.parseInt(a.toString(),10)],o[++a],o[++a],o[++a],o[++a],o[++a],o[++a],o[++a]];this._addPoints(l,Xe.bezier)}},e.prototype._addRectangle=function(e,t,i,n){this._startFigure(),this._addPoints([e,t,e+i,t,e+i,t+n,e,t+n],Xe.line),this._closeFigure()},e.prototype._addPolygon=function(e){var t=[];e.forEach((function(e){t.push(e[0],e[1])})),this._startFigure(),this._addPoints(t,Xe.line),this._closeFigure()},e.prototype._addEllipse=function(e,t,i,n){this._startFigure(),this._addArc(e,t,i,n,0,360),this._closeFigure()},e.prototype._addBezierPoints=function(e){if(e.length<4)throw Error("Incorrect size of array points");var t=0,i=e[Number.parseInt(t.toString(),10)];for(t++;t+3<=e.length;){var n=e[Number.parseInt(t.toString(),10)];t++;var r=e[Number.parseInt(t.toString(),10)];t++;var s=e[Number.parseInt(t.toString(),10)];t++,this._addBezier(i[0],i[1],n[0],n[1],r[0],r[1],s[0],s[1]),i=s}},e.prototype._addBezier=function(e,t,i,n,r,s,o,a){var l=[];l.push(e),l.push(t),l.push(i),l.push(n),l.push(r),l.push(s),l.push(o),l.push(a),this._addPoints(l,Xe.bezier)},e.prototype._closeFigure=function(e){if("undefined"!==typeof e){var t=this._pathTypes[Number.parseInt(e.toString(),10)];t|=Xe.closePath,this._pathTypes[Number.parseInt(e.toString(),10)]=t}else this._points.length>0&&this._closeFigure(this._points.length-1),this._startFigure()},e.prototype._startFigure=function(){this._isStart=!0},e.prototype._getBounds=function(){var e=[0,0,0,0];if(this._points.length>0){for(var t=this._points[0][0],i=this._points[0][0],n=this._points[0][1],r=this._points[0][1],s=1;s<this._points.length;++s){var o=this._points[Number.parseInt(s.toString(),10)];t=Math.min(o[0],t),i=Math.max(o[0],i),n=Math.min(o[1],n),r=Math.max(o[1],r)}e=[t,n,i-t,r-n]}return e},e}();!function(e){e[e.start=0]="start",e[e.line=1]="line",e[e.bezier=3]="bezier",e[e.pathTypeMask=7]="pathTypeMask",e[e.dashMode=16]="dashMode",e[e.pathMarker=32]="pathMarker",e[e.closePath=128]="closePath"}(Xe||(Xe={}));var $e,et=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tt=function(){function e(){this._visible=!0,this._defaultFont=new We(fe.helvetica,8),this._appearanceFont=new We(fe.helvetica,10,de.regular),this._defaultItemFont=new We(fe.timesRoman,12),this._flatten=!1,this._hasData=!1,this._circleCaptionFont=new We(fe.helvetica,8,de.regular)}return Object.defineProperty(e.prototype,"itemsCount",{get:function(){return this._kids?this._kids.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"form",{get:function(){return this._form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){if("undefined"===typeof this._name){var e=Di(this._dictionary,"T",!1,!1,"Parent");e&&e.length>0&&(1===e.length?this._name=e[0]:this._name=e.join("."))}return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualName",{get:function(){if("undefined"===typeof this._actualName&&this._dictionary.has("T")){var e=this._dictionary.get("T");e&&"string"===typeof e&&(this._actualName=e)}return this._actualName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mappingName",{get:function(){if("undefined"===typeof this._mappingName&&this._dictionary.has("TM")){var e=this._dictionary.get("TM");e&&"string"===typeof e&&(this._mappingName=e)}return this._mappingName},set:function(e){"undefined"!==typeof this.mappingName&&this._mappingName===e||(this._mappingName=e,this._dictionary.update("TM",e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toolTip",{get:function(){if("undefined"===typeof this._alternateName&&this._dictionary.has("TU")){var e=this._dictionary.get("TU");e&&"string"===typeof e&&(this._alternateName=e)}return this._alternateName},set:function(e){"undefined"!==typeof this.toolTip&&this._alternateName===e||(this._alternateName=e,this._dictionary.update("TU",e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibility",{get:function(){var e;if(this._isLoaded){e=d.visible;var t=this.itemAt(this._defaultIndex),i=n.default;if(t&&t._hasFlags)i=t.flags;else{if(!this._dictionary.has("F"))return d.visibleNotPrintable;i=this._dictionary.get("F")}var r=3;switch((i&n.hidden)===n.hidden&&(r=0),(i&n.noView)===n.noView&&(r=1),(i&n.print)!==n.print&&(r&=2),r){case 0:e=d.hidden;break;case 1:e=d.hiddenPrintable;break;case 2:e=d.visibleNotPrintable;break;case 3:e=d.visible}}else"undefined"===typeof this._visibility&&(this._visibility=d.visible),e=this._visibility;return e},set:function(e){var t=this.itemAt(this._defaultIndex);if(this._isLoaded)!t||t._hasFlags&&this.visibility===e?this._dictionary.has("F")&&this.visibility===e||(_n(this._dictionary,e),this._dictionary._updated=!0):(_n(t._dictionary,e),this._dictionary._updated=!0);else if(this.visibility!==e)switch(this._visibility=e,e){case d.hidden:t.flags=n.hidden;break;case d.hiddenPrintable:t.flags=n.noView|n.print;break;case d.visible:t.flags=n.print;break;case d.visibleNotPrintable:t.flags=n.default}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){var e,t=this.itemAt(this._defaultIndex);return t&&(t._page=this.page),t&&t.bounds?e=t.bounds:this._dictionary.has("Rect")&&(e=Ai(this._dictionary,this.page)),"undefined"!==typeof e&&null!==e||(e={x:0,y:0,width:0,height:0}),e},set:function(e){if(0===e.x&&0===e.y&&0===e.width&&0===e.height)throw new Error("Cannot set empty bounds");var t=this.itemAt(this._defaultIndex);this._isLoaded&&("undefined"===typeof t||this._dictionary.has("Rect"))?this._dictionary.update("Rect",ki([e.x,e.y,e.width,e.height],this.page)):(t._page=this.page,t.bounds=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){var e,t=this.itemAt(this._defaultIndex);if(t&&"undefined"!==typeof t.rotate)e=t.rotate;else if(this._dictionary.has("R"))e=this._dictionary.get("R");else for(var i=0;i<this._kidsCount&&"undefined"===typeof e;i++)i!==this._defaultIndex&&(t=this.itemAt(i))&&"undefined"!==typeof t.rotate&&(e=t.rotate);return"undefined"===typeof e&&(e=0),e},set:function(e){var t=this.itemAt(this._defaultIndex);t?t.rotate=e:this._dictionary.has("R")&&this._dictionary.get("R")===e||this._dictionary.update("R",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){var e,t=this.itemAt(this._defaultIndex);return t&&t.color?e=t.color:this._defaultAppearance&&(e=this._da.color),e},set:function(e){var t=this.itemAt(this._defaultIndex);if(t&&t.color)t.color=e;else{var i=!1;this._defaultAppearance||(this._da=new ct(""),i=!0),(i||this._da.color!==e)&&(this._da.color=e,this._dictionary.update("DA",this._da.toString()))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backColor",{get:function(){var e,t=this.itemAt(this._defaultIndex);if(t&&t.backColor)e=t.backColor;else if(this._mkDictionary){var i=this._mkDictionary;if(i&&i.has("BG")){var n=i.getArray("BG");n&&(e=Li(n))}}return"undefined"!==typeof e&&null!==e||(e=[255,255,255]),e},set:function(e){var t=this.itemAt(this._defaultIndex);if(t&&t.backColor!==e)t.backColor=e;else{var i=this._mkDictionary;if("undefined"===typeof i){var n=new Yn(this._crossReference);n.update("BG",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]),this._dictionary.update("MK",n)}else i.has("BG")&&Li(i.getArray("BG"))===e||(i.update("BG",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]),this._dictionary._updated=!0)}this._backColorSet=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){var e,t=this.itemAt(this._defaultIndex);if(t&&t.borderColor)e=t.borderColor;else if(this._mkDictionary){var i=this._mkDictionary;if(i&&i.has("BC")){var n=i.getArray("BC");n&&(e=Li(n))}}return"undefined"!==typeof e&&null!==e||(e=[0,0,0]),e},set:function(e){var t=this.itemAt(this._defaultIndex);if(t&&t.borderColor!==e)t.borderColor=e;else{var i=this._mkDictionary;if("undefined"===typeof i){var n=new Yn(this._crossReference);n.update("BC",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]),this._dictionary.update("MK",n)}else i.has("BC")&&Li(i.getArray("BC"))===e||(i.update("BC",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]),this._dictionary._updated=!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{get:function(){return 0!==(this._fieldFlags&T.readOnly)},set:function(e){e?this._fieldFlags|=T.readOnly:(this._fieldFlags===T.readOnly&&(this._fieldFlags|=T.default),this._fieldFlags&=~T.readOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return 0!==(this._fieldFlags&T.required)},set:function(e){e?this._fieldFlags|=T.required:this._fieldFlags&=~T.required},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){if(this._isLoaded){var e=this.itemAt(this._defaultIndex),t=n.default;return e&&e._hasFlags?t=e.flags:this._dictionary.has("F")&&(t=this._dictionary.get("F")),t!==n.hidden}return this._visible},set:function(e){this._isLoaded||this._visible===e||e||(this._visible=e,this.itemAt(this._defaultIndex).flags=n.hidden)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){var e,t=this.itemAt(this._defaultIndex);if(t&&t._dictionary.has("BS"))e=t.border;else if(e=new Wt,this instanceof nt||(e._width=0),e._dictionary=this._dictionary,this._dictionary.has("BS")){var i=this._dictionary.get("BS");if(i){if(i.has("W")&&(e._width=i.get("W")),i.has("S")){var n=i.get("S");if(n)switch(n.name){case"D":e._style=a.dashed;break;case"B":e._style=a.beveled;break;case"I":e._style=a.inset;break;case"U":e._style=a.underline;break;default:e._style=a.solid}}i.has("D")&&(e._dash=i.getArray("D"))}}return e},set:function(e){var t=this.itemAt(this._defaultIndex);t?this._updateBorder(t._dictionary,e):this._updateBorder(this._dictionary,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationAngle",{get:function(){var e=h.angle0,t=this.itemAt(this._defaultIndex);return t&&(e=t.rotationAngle),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"export",{get:function(){return!(0!==(this._fieldFlags&T.noExport))},set:function(e){e?this._fieldFlags&=~T.noExport:this._fieldFlags|=T.noExport},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){var e;if(this.page._pageDictionary.has("Annots")&&(e=this.page._pageDictionary.get("Annots")),this._kids&&this._kids.length>0)for(var t=0;t<this._kids.length;t++){var i=this._kids[Number.parseInt(t.toString(),10)];if(i)if(this.page._pageDictionary.has("Annots"))if(e)if(-1!==(n=e.indexOf(i)))return n}else if(this._dictionary.has("Subtype")&&"Widget"===this._dictionary.get("Subtype").name){var n;if(this._ref)if(e)if(-1!==(n=e.indexOf(this._ref)))return n}return-1},set:function(e){this._tabIndex=e;var t=this.page;if(t&&(this.form._tabOrder===C.manual||t.tabOrder===C.manual)&&t._pageDictionary.has("Annots")){var i=t._pageDictionary.get("Annots"),n=new Kt(i,this._crossReference,t);t._annotations=n;var r=i.indexOf(this._ref);r<0&&(r=this._annotationIndex);var s=t.annotations._reArrange(this._ref,this._tabIndex,r);t._pageDictionary.update("Annots",s),t._pageDictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){if(!this._page){var e,t=this.itemAt(this._defaultIndex),i="undefined"!==typeof t?t._dictionary:this._dictionary;this._crossReference&&(e=this._crossReference._document);var n=void 0;if(i.has("P")){var r=i.getRaw("P");if(r&&e)for(var s=0;s<e.pageCount;s++){var o=e.getPage(s);if(o&&o._ref===r){n=o;break}}}if(!n&&e){var a="undefined"!==typeof t?t._ref:this._ref;if(!n&&a&&(n=Ki(e,a)),!n&&this._kids&&this._kids.length>0)for(s=0;s<this._kids.length&&!(n=Ki(e,this._kids[Number.parseInt(s.toString(),10)]));s++);}this._page=n}return this._page},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flatten",{get:function(){return this._flatten},set:function(e){this._flatten=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_grayBrush",{get:function(){return this._gray||(this._gray=new oi([128,128,128])),this._gray},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_silverBrush",{get:function(){return this._silver||(this._silver=new oi([198,198,198])),this._silver},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_whiteBrush",{get:function(){return this._white||(this._white=new oi([255,255,255])),this._white},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_blackBrush",{get:function(){return this._black||(this._black=new oi([0,0,0])),this._black},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_kidsCount",{get:function(){return this._kids?this._kids.length:0},enumerable:!0,configurable:!0}),e.prototype.itemAt=function(e){var t;if(e>=0&&e<this._kidsCount)if(this._parsedItems.has(e))t=this._parsedItems.get(e);else{var i=void 0,n=this._kids[Number.parseInt(e.toString(),10)];n&&n instanceof Vn&&(i=this._crossReference._fetch(n)),i&&((t=Rt._load(i,this._crossReference))._ref=n,this._parsedItems.set(e,t))}return t},e.prototype.setAppearance=function(e){this._setAppearance=e},e.prototype.getValue=function(e){var t;if(!this._dictionary.has(e))throw new Error("PdfException: "+e+" is not found");var i=this._dictionary.get(e);if(i instanceof Fn)t=i.name;else{if("string"!==typeof i)throw new Error("PdfException: "+e+" is not found");t=i}return t},e.prototype.setValue=function(e,t){e&&""!==e&&t&&""!==t&&this._dictionary.update(e,t)},e.prototype.removeItemAt=function(e){if(this._dictionary.has("Kids")&&this.itemsCount>0){var t=this.itemAt(e);if(t&&t._ref){var i=t._getPage();if(i&&i._removeAnnotation(t._ref),this._kids.splice(e,1),this._dictionary.set("Kids",this._kids),this._dictionary._updated=!0,this._parsedItems.delete(e),this._parsedItems.size>0){var n=new Map;this._parsedItems.forEach((function(t,i){i>e?n.set(i-1,t):n.set(i,t)})),this._parsedItems=n}}}},e.prototype.removeItem=function(e){if(e&&e._ref){var t=this._kids.indexOf(e._ref);-1!==t&&this.removeItemAt(t)}},Object.defineProperty(e.prototype,"_fieldFlags",{get:function(){return"undefined"===typeof this._flags&&(this._flags=Di(this._dictionary,"Ff",!1,!0,"Parent"),"undefined"===typeof this._flags&&(this._flags=T.default)),this._flags},set:function(e){this._fieldFlags!==e&&(this._flags=e,this._dictionary.update("Ff",e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_defaultAppearance",{get:function(){if("undefined"===typeof this._da){var e=Di(this._dictionary,"DA",!1,!0,"Parent");e&&""!==e&&(this._da=new ct(e))}return this._da},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_mkDictionary",{get:function(){var e;return this._dictionary.has("MK")&&(e=this._dictionary.get("MK")),e},enumerable:!0,configurable:!0}),e.prototype._updateBorder=function(e,t){var i,n=!1;e.has("BS")?i=e.get("BS"):(i=new Yn(this._crossReference),e.update("BS",i),n=!0),"undefined"!==typeof t.width?(i.update("W",t.width),e._updated=!0):n&&i.update("W",0),"undefined"!==typeof t.style?(i.update("S",Oi(t.style)),e._updated=!0):n&&i.update("S",Oi(a.solid)),"undefined"!==typeof t.dash&&(i.update("D",t.dash),e._updated=!0)},e.prototype._checkFieldFlag=function(e){var t=e.get("F");return"undefined"!==typeof t&&6===t},e.prototype._initializeFont=function(e){this._font=e;var t,i,n=this._crossReference._document;n&&(t=n.form._dictionary.has("DR")?n.form._dictionary.get("DR"):new Yn(this._crossReference));var r=!1;if(t.has("Font")){var s=t.getRaw("Font");s&&s instanceof Vn?(r=!0,i=this._crossReference._fetch(s)):s instanceof Yn&&(i=s)}i||(i=new Yn(this._crossReference),t.update("Font",i));var o=Fn.get(Qi()),a=this._crossReference._getNextReference();e instanceof Qe?this._font._pdfFontInternals&&this._crossReference._cacheMap.set(a,this._font._pdfFontInternals):this._font._dictionary&&this._crossReference._cacheMap.set(a,this._font._dictionary),i.update(o.name,a),t._updated=!0,n.form._dictionary.update("DR",t),n.form._dictionary._updated=!0,this._fontName=o.name;var l=new ct;if(l.fontName=this._fontName,l.fontSize=this._font._size,l.color=this.color?this.color:[0,0,0],this._dictionary.has("Kids"))for(var h=this._dictionary.getArray("Kids"),c=0;c<h.length;c++){h[Number.parseInt(c.toString(),10)].update("DA",l.toString())}else this._dictionary.has("Subtype")&&"Widget"===this._dictionary.get("Subtype").name&&this._dictionary.update("DA",l.toString());r&&(t._updated=!0)},e.prototype._drawRectangularControl=function(e,t){switch(e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.backBrush),this._drawBorder(e,t.bounds,t.borderPen,t.borderStyle,t.borderWidth),t.borderStyle){case a.inset:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,this._grayBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,this._silverBrush);break;case a.beveled:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,this._whiteBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,t.shadowBrush)}},e.prototype._drawBorder=function(e,t,i,n,r){i&&r>0&&(n===a.underline?e.drawLine(i,t[0],t[0]+t[3]-r/2,t[0]+t[2],t[1]+t[3]-r/2):e.drawRectangle(t[0]+r/2,t[1]+r/2,t[2]-r,t[3]-r,i))},e.prototype._drawLeftTopShadow=function(e,t,i,n){var r=new Ze,s=[];s.push([t[0]+i,t[1]+i]),s.push([t[0]+i,t[1]+t[3]-i]),s.push([t[0]+2*i,t[1]+t[3]-2*i]),s.push([t[0]+2*i,t[1]+2*i]),s.push([t[0]+t[2]-2*i,t[1]+2*i]),s.push([t[0]+t[2]-i,t[1]+i]),r._addPolygon(s),e._drawPath(r,null,n)},e.prototype._drawRightBottomShadow=function(e,t,i,n){var r=new Ze,s=[];s.push([t[0]+i,t[1]+t[3]-i]),s.push([t[0]+2*i,t[1]+t[3]-2*i]),s.push([t[0]+t[2]-2*i,t[1]+t[3]-2*i]),s.push([t[0]+t[2]-2*i,t[1]+2*i]),s.push([t[0]+t[2]-i,t[1]+i]),s.push([t[0]+t[2]-i,t[1]+t[3]-i]),r._addPolygon(s),e._drawPath(r,null,n)},e.prototype._drawRadioButton=function(e,t,i,n){if("l"===i){var r=t.bounds;switch(n){case j.checked:case j.unchecked:e.drawEllipse(r[0],r[1],r[2],r[3],t.backBrush);break;case j.pressedChecked:case j.pressedUnchecked:t.borderStyle===a.beveled||t.borderStyle===a.underline?e.drawEllipse(r[0],r[1],r[2],r[3],t.backBrush):e.drawEllipse(r[0],r[1],r[2],r[3],t.shadowBrush)}if(this._drawRoundBorder(e,r,t.borderPen,t.borderWidth),this._drawRoundShadow(e,t,n),n===j.checked||n===j.pressedChecked){var s=[r[0]+t.borderWidth/2,r[1]+t.borderWidth/2,r[2]-t.borderWidth,r[3]-t.borderWidth];e.drawEllipse(s[0]+s[2]/4,s[1]+s[2]/4,s[2]-s[2]/2,s[3]-s[2]/2,t.foreBrush)}}else this._drawCheckBox(e,t,i,n)},e.prototype._drawRoundBorder=function(e,t,i,n){0===t[0]&&0===t[1]&&0===t[2]&&0===t[3]||e.drawEllipse(t[0]+n/2,t[1]+n/2,t[2]-n,t[3]-n,i)},e.prototype._drawRoundShadow=function(e,t,i){var n,r,s=t.borderWidth,o=-1.5*s,l=t.bounds[0]+o,h=t.bounds[1]+o,c=t.bounds[2]+2*o,u=t.bounds[3]+2*o,p=t.shadowBrush._color;switch(t.borderStyle){case a.beveled:switch(i){case j.pressedChecked:case j.pressedUnchecked:n=new ai(p,s),r=new ai([255,255,255],s);break;case j.checked:case j.unchecked:n=new ai([255,255,255],s),r=new ai(p,s)}break;case a.inset:switch(i){case j.pressedChecked:case j.pressedUnchecked:n=new ai([0,0,0],s),r=new ai([0,0,0],s);break;case j.checked:case j.unchecked:n=new ai([128,128,128],s),r=new ai([192,192,192],s)}}n&&r&&(e.drawArc(l,h,c,u,135,180,n),e.drawArc(l,h,c,u,-45,180,r))},e.prototype._drawCheckBox=function(e,t,i,n,r){switch(n){case j.unchecked:case j.checked:t.borderPen&&e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.backBrush);break;case j.pressedChecked:case j.pressedUnchecked:t.borderStyle===a.beveled||t.borderStyle===a.underline?t.borderPen&&e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.backBrush):t.borderPen&&e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.shadowBrush)}var s=t.bounds;if(this._drawBorder(e,t.bounds,t.borderPen,t.borderStyle,t.borderWidth),n===j.pressedChecked||n===j.pressedUnchecked)switch(t.borderStyle){case a.inset:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,this._blackBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,this._whiteBrush);break;case a.beveled:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,t.shadowBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,this._whiteBrush)}else switch(t.borderStyle){case a.inset:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,this._grayBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,this._silverBrush);break;case a.beveled:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,this._whiteBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,t.shadowBrush)}var o=0,l=0;switch(n){case j.pressedChecked:case j.checked:if(r)r=new We(fe.zapfDingbats,r._size);else{var c=t.borderStyle===a.beveled||t.borderStyle===a.inset,u=t.borderWidth;c&&(u*=2);var d=Math.max(c?2*t.borderWidth:t.borderWidth,1),f=Math.min(u,d),g=(l=t.bounds[2]>t.bounds[3]?t.bounds[3]:t.bounds[2])-2*f;r=new We(fe.zapfDingbats,g),t.bounds[2]>t.bounds[3]&&(o=(t.bounds[3]-r._metrics._getHeight())/2)}if(0===l&&(l=t.bounds[3]),t.pageRotationAngle!==h.angle0||t.rotationAngle>0){var m=e.save(),y=e._size;if(t.pageRotationAngle!==h.angle0)if(t.pageRotationAngle===h.angle90){e.translateTransform(y[1],0),e.rotateTransform(90);var v=y[1]-(s[0]+s[2]);s=[s[1],v,s[3],s[2]]}else if(t.pageRotationAngle===h.angle180){e.translateTransform(y[0],y[1]),e.rotateTransform(-180),s=[y[0]-(s[0]+s[2]),v=y[1]-(s[1]+s[3]),s[2],s[3]]}else if(t.pageRotationAngle===h.angle270){e.translateTransform(0,y[0]),e.rotateTransform(270),s=[y[0]-(s[1]+s[3]),v=s[0],s[3],s[2]]}if(t.rotationAngle>0){if(90===t.rotationAngle)if(t.pageRotationAngle===h.angle90)e.translateTransform(0,y[1]),e.rotateTransform(-90),s=[y[1]-(s[1]+s[3]),v=s[0],s[3],s[2]];else if(s[2]>s[3])e.translateTransform(0,y[1]),e.rotateTransform(-90),s=[t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]];else{var b=s[0];s[0]=-(s[1]+s[3]),s[1]=b;var M=s[3];s[3]=s[2]>r._metrics._getHeight()?s[2]:r._metrics._getHeight(),s[2]=M,e.rotateTransform(-90),s=[s[0],s[1],s[2],s[3]]}else if(270===t.rotationAngle){e.translateTransform(y[0],0),e.rotateTransform(-270),s=[s[1],v=y[0]-(s[0]+s[2]),s[3],s[2]]}else if(180===t.rotationAngle){e.translateTransform(y[0],y[1]),e.rotateTransform(-180),s=[y[0]-(s[0]+s[2]),v=y[1]-(s[1]+s[3]),s[2],s[3]]}e.drawString(i,r,[s[0],s[1]-o,s[2],s[3]],null,t.foreBrush,new ee(p.center,Z.middle)),e.restore(m)}else e.drawString(i,r,[s[0],s[1]-o,s[2],s[3]],null,t.foreBrush,new ee(p.center,Z.middle));break}}},e.prototype._addToKid=function(e){this._dictionary.has("Kids")?this._kids=this._dictionary.get("Kids"):(this._kids=[],this._dictionary.update("Kids",this._kids),this._parsedItems=new Map);var t=this._kidsCount;e._index=t,this._kids.push(e._ref),this._parsedItems.set(t,e)},e.prototype._drawTemplate=function(e,t,i){if(e&&t){var n=t.graphics;n.save(),t.rotation===h.angle90?(n.translateTransform(n._size[0],n._size[1]),n.rotateTransform(90)):t.rotation===h.angle180?(n.translateTransform(n._size[0],n._size[1]),n.rotateTransform(-180)):t.rotation===h.angle270&&(n.translateTransform(n._size[0],n._size[1]),n.rotateTransform(270)),n._sw._setTextRenderingMode($e.fill),n._drawTemplate(e,i),n.restore()}},e.prototype._addToOptions=function(e,t){t instanceof lt&&t._listValues.push(e._text),t._options.push([e._value,e._text]),t._dictionary.set("Opt",t._options),t._dictionary._updated=!0,!e._isFont&&e._pdfFont&&this._initializeFont(e._pdfFont)},e.prototype._addAppearance=function(e,t,i){var n=new Yn;e.has("AP")?(n=e.get("AP"),In(e.get("AP"),this._crossReference,i)):(n=new Yn(this._crossReference),e.update("AP",n));var r=this._crossReference._getNextReference();this._crossReference._cacheMap.set(r,t._content),n.update(i,r)},e.prototype._rotateTextBox=function(e,t,i){var n=[0,0,0,0];return i===h.angle180?n=[t[0]-(e[0]+e[2]),t[1]-(e[1]+e[3]),e[2],e[3]]:i===h.angle270?n=[e[1],t[0]-(e[0]+e[2]),e[3],e[2]]:i===h.angle90&&(n=[t[1]-(e[1]+e[3]),e[0],e[3],e[2]]),n},e.prototype._checkIndex=function(e,t){if(e<0||0!==e&&e>=t)throw Error("Index out of range.")},e.prototype._getAppearanceStateValue=function(){var e;if(this._dictionary.has("Kids"))for(var t=0;t<this._kidsCount;t++){var i=this.itemAt(t);if(i&&i._dictionary&&i._dictionary.has("AS"))if((n=i._dictionary.get("AS"))&&"Off"!==n.name){e=n.name;break}}else if(this._dictionary.has("AS")){var n;(n=this._dictionary.get("AS"))&&"Off"!==n.name&&(e=n.name)}return e},e.prototype._getTextAlignment=function(){if(null===this._textAlignment||"undefined"===typeof this._textAlignment)if(this._isLoaded){var e=this.itemAt(this._defaultIndex);e&&e._dictionary&&e._dictionary.has("Q")?this._textAlignment=e._dictionary.get("Q"):this._dictionary.has("Q")?this._textAlignment=this._dictionary.get("Q"):this._textAlignment=p.left}else this._textAlignment=p.left;return this._textAlignment},e.prototype._setTextAlignment=function(e){var t=this.itemAt(this._defaultIndex);this._isLoaded&&!this.readOnly&&(t&&t._dictionary?t._dictionary.update("Q",e):this._dictionary.update("Q",e)),this._isLoaded||this._textAlignment===e||(t&&t._dictionary?t._dictionary.update("Q",e):this._dictionary&&this._dictionary.update("Q",e)),this._textAlignment=e,this._stringFormat=new ee(e,Z.middle)},e}(),it=function(e){function t(t,i,n){var r=e.call(this)||this;return r._autoResizeText=!1,t&&i&&n&&r._initialize(t,i,n),r}return et(t,e),t._load=function(e,i,n,r){var s=new t;return s._isLoaded=!0,s._form=e,s._dictionary=i,s._crossReference=n,s._ref=r,s._dictionary.has("Kids")&&(s._kids=s._dictionary.get("Kids")),s._defaultIndex=0,s._parsedItems=new Map,s},Object.defineProperty(t.prototype,"text",{get:function(){if("undefined"===typeof this._text)if(this._isLoaded){var e=Di(this._dictionary,"V",!1,!0,"Parent");if(e)this._text=e;else{var t=this.itemAt(this._defaultIndex);t&&(e=t._dictionary.get("V"))&&(this._text=e)}}else this._text="";return this._text},set:function(e){if(this._isLoaded){if(!this.readOnly){this._dictionary.has("V")&&this._dictionary.get("V")===e||this._dictionary.update("V",e);var t=this.itemAt(this._defaultIndex);!t||t._dictionary.has("V")&&t._dictionary.get("V")===e||t._dictionary.update("V",e)}}else this._text!==e&&(this._dictionary.update("V",e),this._text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return this._getTextAlignment()},set:function(e){this._textAlignment!==e&&this._setTextAlignment(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultValue",{get:function(){if("undefined"===typeof this._defaultValue){var e=Di(this._dictionary,"DV",!1,!0,"Parent");e&&(this._defaultValue=e)}return this._defaultValue},set:function(e){e!==this.defaultValue&&(this._dictionary.update("DV",e),this._defaultValue=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiLine",{get:function(){return 0!==(this._fieldFlags&T.multiLine)},set:function(e){e?this._fieldFlags|=T.multiLine:this._fieldFlags&=~T.multiLine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"password",{get:function(){return 0!==(this._fieldFlags&T.password)},set:function(e){e?this._fieldFlags|=T.password:this._fieldFlags&=~T.password},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){return!(0!==(this._fieldFlags&T.doNotScroll))},set:function(e){e?this._fieldFlags&=~T.doNotScroll:this._fieldFlags|=T.doNotScroll},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spellCheck",{get:function(){return!(0!==(this._fieldFlags&T.doNotSpellCheck))},set:function(e){e?this._fieldFlags&=~T.doNotSpellCheck:this._fieldFlags|=T.doNotSpellCheck},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"insertSpaces",{get:function(){var e=this._fieldFlags;return 0!==(T.comb&e)&&0===(e&T.multiLine)&&0===(e&T.password)&&0===(e&T.fileSelect)},set:function(e){e?this._fieldFlags|=T.comb:this._fieldFlags&=~T.comb},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlightMode",{get:function(){var e,t=this.itemAt(this._defaultIndex);if(t&&"undefined"!==typeof t.highlightMode)e=t.highlightMode;else if(this._dictionary.has("H")){e=Bi(this._dictionary.get("H").name)}return"undefined"!==typeof e?e:u.noHighlighting},set:function(e){var t=this.itemAt(this._defaultIndex);!t||"undefined"!==typeof t.highlightMode&&t.highlightMode===e?this._dictionary.has("H")&&Bi(this._dictionary.get("H"))===e||this._dictionary.update("H",Vi(e)):t.highlightMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){if("undefined"===typeof this._maxLength){var e=Di(this._dictionary,"MaxLen",!1,!0,"Parent");this._maxLength="undefined"!==typeof e&&Number.isInteger(e)?e:0}return this._maxLength},set:function(e){this.maxLength!==e&&(this._dictionary.update("MaxLen",e),this._maxLength=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAutoResizeText",{get:function(){return this._autoResizeText},set:function(e){this._autoResizeText=e;var t=this.itemAt(this._defaultIndex);t&&(t._isAutoResize=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){if(this._font)return this._font;var e=this.itemAt(this._defaultIndex);return this._font=jn(this._form,e,this),this._font},set:function(e){e&&e instanceof He&&(this._font=e,this._initializeFont(e))},enumerable:!0,configurable:!0}),t.prototype._initialize=function(e,t,i){this._crossReference=e._crossReference,this._page=e,this._name=t,this._text="",this._defaultValue="",this._defaultIndex=0,this._spellCheck=!1,this._insertSpaces=!1,this._multiline=!1,this._password=!1,this._scrollable=!1,this._dictionary=new Yn(this._crossReference),this._ref=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary.objId=this._ref.toString(),this._dictionary.update("FT",Fn.get("Tx")),this._dictionary.update("T",t),this._fieldFlags|=T.doNotSpellCheck,this._initializeFont(this._defaultFont),this._createItem(i)},t.prototype._createItem=function(e){var t=new Rt;t._create(this._page,e,this),t.textAlignment=p.left,this._stringFormat=new ee(t.textAlignment,Z.middle),t._dictionary.update("MK",new Yn(this._crossReference)),t._mkDictionary.update("BC",[0,0,0]),t._mkDictionary.update("BG",[1,1,1]),t._mkDictionary.update("CA",this.actualName),this._addToKid(t)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),e||this._setAppearance||this._form._setAppearance){var t=this._kidsCount;if(this._isLoaded)if(t>0)for(var i=0;i<t;i++){(n=this.itemAt(i))&&this._postProcess(e,n)}else(e||this._form._setAppearance||this._setAppearance)&&!this._checkFieldFlag(this._dictionary)&&this._postProcess(e);else if(e||this._form._setAppearance||this._setAppearance)for(i=0;i<t;i++){var n;if((n=this.itemAt(i))&&!this._checkFieldFlag(n._dictionary)){var r=this._createAppearance(e,n);e?this._drawTemplate(r,n._page,{x:n.bounds.x,y:n.bounds.y,width:r._size[0],height:r._size[1]}):this._addAppearance(n._dictionary,r,"N"),n._dictionary._updated=!e}}e&&(this._dictionary._updated=!1)}},t.prototype._postProcess=function(e,t){var i,n,r=t||this;if(this._form._setAppearance||this._setAppearance||e&&!r._dictionary.has("AP"))i=this._createAppearance(e,r);else if(r._dictionary.has("AP")){var s=void 0,o=r._dictionary.get("AP");if(o&&o.has("N")){s=o.get("N");var a=o.getRaw("N");a&&(s.reference=a),s&&(i=new $(s,this._crossReference))}}if(i)if(e){var l=r instanceof Rt?r._getPage():r.page;if(l){var c=l.graphics;c.save(),l.rotation===h.angle90?(c.translateTransform(c._size[0],c._size[1]),c.rotateTransform(90)):l.rotation===h.angle180?(c.translateTransform(c._size[0],c._size[1]),c.rotateTransform(-180)):l.rotation===h.angle270&&(c.translateTransform(c._size[0],c._size[1]),c.rotateTransform(270)),n={x:r.bounds.x,y:r.bounds.y,width:i._size[0],height:i._size[1]},c._drawTemplate(i,n),c.restore()}r._dictionary._updated=!1}else this._addAppearance(r._dictionary,i,"N")},t.prototype._createAppearance=function(e,t){var i=t.bounds,n=new $([0,0,i.width,i.height],this._crossReference);en(n,null),n._writeTransformation=!1;var r=n.graphics,s=new qt;s.bounds=[0,0,i.width,i.height];var o=t.backColor;e&&(s.backBrush=new oi(o)),s.foreBrush=new oi(t.color);var a=t.border;s.borderPen=new ai(t.borderColor,a.width),s.borderStyle=a.style,s.borderWidth=a.width;var l=[o[0]-64,o[1]-64,o[2]-64],h=[l[0]>=0?l[0]:0,l[1]>=0?l[1]:0,l[2]>=0?l[2]:0];s.shadowBrush=new oi(h),s.rotationAngle=t.rotate,s.insertSpaces=this.insertSpaces;var c=this.text;if(null!==c&&"undefined"!==typeof c||(c=""),this.password){for(var u="",d=0;d<c.length;d++)u+="*";c=u}return s.required=this.required,this.required||(r._sw._beginMarkupSequence("Tx"),r._initializeCoordinates()),"undefined"!==typeof this._font&&null!==this._font||(this._font=this._defaultFont),"undefined"!==typeof this._stringFormat&&null!==this._stringFormat||("undefined"===typeof this.textAlignment||null===this.textAlignment?this._stringFormat=new ee(this.textAlignment,Z.middle):this._stringFormat=new ee(p.left,Z.middle)),this._drawTextBox(r,s,c,this._font,this._stringFormat,this.multiLine,this.scrollable,this.maxLength),this.required||r._sw._endMarkupSequence(),n},t.prototype._drawTextBox=function(e,t,i,n,r,s,o,l){if("undefined"!==typeof l)if(t.insertSpaces){var c=0;if("undefined"!==typeof l&&l>0){c=t.bounds[2]/l,e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.borderPen,t.backBrush);for(var u=i,d=0;d<l;d++){if(r.alignment===p.right)i=l-u.length<=d?u[d-(l-u.length)]:"";else if(r.alignment===p.center&&u.length<l){var f=l/2-Math.ceil(u.length/2);i=d>=f&&d<f+u.length?u[d-f]:""}else i=u.length>d?u[Number.parseInt(d.toString(),10)]:"";t.bounds[2]=c,r.alignment=p.center,this._drawTextBox(e,t,i,n,r,s,o),t.bounds[0]=t.bounds[0]+c,t.borderWidth&&e.drawLine(t.borderPen,t.bounds[0],t.bounds[1],t.bounds[0],t.bounds[1]+t.bounds[3])}}else this._drawTextBox(e,t,i,n,r,s,o)}else this._drawTextBox(e,t,i,n,r,s,o);else{e._isTemplateGraphics&&t.required&&(e.save(),e._initializeCoordinates()),t.insertSpaces||this._drawRectangularControl(e,t),e._isTemplateGraphics&&t.required&&(e.restore(),e.save(),e._sw._beginMarkupSequence("Tx"),e._initializeCoordinates());var g=t.bounds;if(t.borderStyle===a.beveled||t.borderStyle===a.inset?(g[0]=g[0]+4*t.borderWidth,g[2]=g[2]-8*t.borderWidth):(g[0]=g[0]+2*t.borderWidth,g[2]=g[2]-4*t.borderWidth),s){var m=("undefined"===typeof r||null===r||0===r.lineSpacing?n._metrics._getHeight():r.lineSpacing)-n._metrics._getAscent(r);i.indexOf("\n"),0===g[0]&&1===g[1]&&(g[1]=-(g[1]-m)),t.isAutoFontSize&&0!==t.borderWidth&&(g[1]=g[1]+2.5*t.borderWidth)}if(e._page&&"undefined"!==typeof e._page.rotation&&e._page.rotation!==h.angle0||t.rotationAngle>0){var y=e.save();if("undefined"!==typeof t.pageRotationAngle&&t.pageRotationAngle!==h.angle0)if(t.pageRotationAngle===h.angle90){e.translateTransform(e._size[1],0),e.rotateTransform(90);var v=e._size[1]-(g[0]+g[2]);g=[g[1],v,g[3],g[2]]}else if(t.pageRotationAngle===h.angle180){e.translateTransform(e._size[0],e._size[1]),e.rotateTransform(-180),g=[e._size[0]-(g[0]+g[2]),v=e._size[1]-(g[1]+g[3]),g[2],g[3]]}else if(t.pageRotationAngle===h.angle270){e.translateTransform(0,e._size[0]),e.rotateTransform(270),g=[e._size[0]-(g[1]+g[3]),v=g[0],g[3],g[2]]}if(t.rotationAngle)if(90===t.rotationAngle)if(t.pageRotationAngle===h.angle90)e.translateTransform(0,e._size[1]),e.rotateTransform(-90),g=[e._size[1]-(g[1]+g[3]),v=g[0],g[3],g[2]];else if(g[2]>g[3])e.translateTransform(0,e._size[1]),e.rotateTransform(-90),g=[t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]];else{var b=g[0];g[0]=-(g[1]+g[3]),g[1]=b;var M=g[3];g[3]=g[2]>n._metrics._getHeight()?g[2]:n._metrics._getHeight(),g[2]=M,e.rotateTransform(-90)}else if(270===t.rotationAngle){e.translateTransform(e._size[0],0),e.rotateTransform(-270),g=[g[1],v=e._size[0]-(g[0]+g[2]),g[3],g[2]]}else if(180===t.rotationAngle){e.translateTransform(e._size[0],e._size[1]),e.rotateTransform(-180),g=[e._size[0]-(g[0]+g[2]),v=e._size[1]-(g[1]+g[3]),g[2],g[3]]}e.drawString(i,n,g,null,t.foreBrush,r),e.restore(y)}else e.drawString(i,n,g,null,t.foreBrush,r);e._isTemplateGraphics&&t.required&&(e._sw._endMarkupSequence(),e.restore())}},t}(tt),nt=function(e){function t(t,i,n){var r=e.call(this)||this;return t&&i&&n&&r._initialize(t,i,n),r}return et(t,e),Object.defineProperty(t.prototype,"text",{get:function(){if(this._isLoaded){if("undefined"===typeof this._text){var e=this.itemAt(this._defaultIndex);e&&e._mkDictionary&&e._mkDictionary.has("CA")?this._text=e._mkDictionary.get("CA"):this._mkDictionary&&this._mkDictionary.has("CA")&&(this._text=this._mkDictionary.get("CA"))}if("undefined"===typeof this._text){var t=Di(this._dictionary,"V",!1,!0,"Parent");t&&(this._text=t)}}return"undefined"===typeof this._text&&(this._text=""),this._text},set:function(e){this._isLoaded&&!this.readOnly&&((t=this.itemAt(this._defaultIndex))&&t._dictionary?this._assignText(t._dictionary,e):this._assignText(this._dictionary,e));if(!this._isLoaded&&this._text!==e){var t=this.itemAt(this._defaultIndex);this._assignText(t._dictionary,e),this._text=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return this._getTextAlignment()},set:function(e){this._textAlignment!==e&&this._setTextAlignment(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlightMode",{get:function(){var e,t=this.itemAt(this._defaultIndex);if(t&&"undefined"!==typeof t.highlightMode)e=t.highlightMode;else if(this._dictionary.has("H")){e=Bi(this._dictionary.get("H").name)}return"undefined"!==typeof e?e:u.invert},set:function(e){var t=this.itemAt(this._defaultIndex);!t||"undefined"!==typeof t.highlightMode&&t.highlightMode===e?this._dictionary.has("H")&&Bi(this._dictionary.get("H"))===e||this._dictionary.update("H",Vi(e)):t.highlightMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){if(this._font)return this._font;var e=this.itemAt(this._defaultIndex);return this._font=jn(this._form,e,this),this._font},set:function(e){e&&e instanceof He&&(this._font=e,this._initializeFont(e))},enumerable:!0,configurable:!0}),t.prototype._assignText=function(e,t){var i;e.has("MK")?i=e.get("MK"):(i=new Yn(this._crossReference),e.set("MK",i)),i.update("CA",t),e._updated=!0},t._load=function(e,i,n,r){var s=new t;return s._isLoaded=!0,s._form=e,s._dictionary=i,s._crossReference=n,s._ref=r,s._dictionary.has("Kids")&&(s._kids=s._dictionary.get("Kids")),s._defaultIndex=0,s._parsedItems=new Map,s},t.prototype._initialize=function(e,t,i){this._crossReference=e._crossReference,this._page=e,this._name=t,this._defaultIndex=0,this._dictionary=new Yn(this._crossReference),this._ref=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary.objId=this._ref.toString(),this._dictionary.update("FT",Fn.get("Btn")),this._dictionary.update("T",t),this._fieldFlags|=T.pushButton,this._initializeFont(this._defaultFont),this._createItem(i)},t.prototype._createItem=function(e){var t=new Rt;t._create(this._page,e,this),t.textAlignment=p.center,this._stringFormat=new ee(t.textAlignment,Z.middle),t._dictionary.update("MK",new Yn(this._crossReference)),t._mkDictionary.update("BC",[0,0,0]),t._mkDictionary.update("BG",[.827451,.827451,.827451]),t._mkDictionary.update("CA","undefined"!==typeof this._name&&null!==this._name?this._name:this._actualName),this._addToKid(t)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),e||this._setAppearance||this._form._setAppearance){var t=this._kidsCount;if(this._isLoaded)if(t>0)for(var i=0;i<t;i++){(n=this.itemAt(i))&&this._postProcess(e,n)}else(e||this._form._setAppearance||this._setAppearance)&&!this._checkFieldFlag(this._dictionary)&&this._postProcess(e);else if(e||this._form._setAppearance||this._setAppearance)for(i=0;i<t;i++){var n;if((n=this.itemAt(i))&&!this._checkFieldFlag(n._dictionary)){var r=this._createAppearance(n);if(e)this._drawTemplate(r,n._getPage(),{x:n.bounds.x,y:n.bounds.y,width:r._size[0],height:r._size[1]});else{this._addAppearance(n._dictionary,r,"N");var s=this._createAppearance(n,!0);s&&this._addAppearance(n._dictionary,s,"D")}n._dictionary._updated=!e}}e&&(this._dictionary._updated=!1)}},t.prototype._postProcess=function(e,t){var i,n,r=t||this;if(this._form._setAppearance||this._setAppearance||e&&!r._dictionary.has("AP"))i=this._createAppearance(r);else if(r._dictionary.has("AP")){var s=void 0,o=r._dictionary.get("AP");if(o&&o.has("N")){s=o.get("N");var a=o.getRaw("N");a&&(s.reference=a),s&&(i=new $(s,this._crossReference))}}if(i)if(e){var l=r instanceof Rt?r._getPage():r.page;if(l){var c=l.graphics;c.save(),l.rotation===h.angle90?(c.translateTransform(c._size[0],c._size[1]),c.rotateTransform(90)):l.rotation===h.angle180?(c.translateTransform(c._size[0],c._size[1]),c.rotateTransform(-180)):l.rotation===h.angle270&&(c.translateTransform(c._size[0],c._size[1]),c.rotateTransform(270)),n={x:r.bounds.x,y:r.bounds.y,width:i._size[0],height:i._size[1]},c._drawTemplate(i,n),c.restore()}r._dictionary._updated=!1}else this._addAppearance(r._dictionary,i,"N")},t.prototype._createAppearance=function(e,t){void 0===t&&(t=!1);var i=e.bounds,n=new $([0,0,i.width,i.height],this._crossReference),r=new qt;r.bounds=[0,0,i.width,i.height];var s=e.backColor;r.backBrush=new oi(s),r.foreBrush=new oi(e.color);var o=e.border;r.borderPen=new ai(e.borderColor,o.width),r.borderStyle=o.style,r.borderWidth=o.width;var a=[s[0]-64,s[1]-64,s[2]-64],l=[a[0]>=0?a[0]:0,a[1]>=0?a[1]:0,a[2]>=0?a[2]:0];return r.shadowBrush=new oi(l),r.rotationAngle=e.rotate,"undefined"!==typeof this._font&&null!==this._font||(this._font=this._defaultFont),t?this._drawPressedButton(n.graphics,r,this.text,this._font,this._stringFormat):this._drawButton(n.graphics,r,this.text,this._font,this._stringFormat),n},t.prototype._drawButton=function(e,t,i,n,r){this._drawRectangularControl(e,t);var s=t.bounds;if(e._page&&"undefined"!==typeof e._page.rotation&&e._page.rotation!==h.angle0||t.rotationAngle>0){var o=e.save();if("undefined"!==typeof t.pageRotationAngle&&t.pageRotationAngle!==h.angle0)if(t.pageRotationAngle===h.angle90){e.translateTransform(e._size[1],0),e.rotateTransform(90);var a=e._size[1]-(s[0]+s[2]);s=[s[1],a,s[3],s[2]]}else if(t.pageRotationAngle===h.angle180){e.translateTransform(e._size[0],e._size[1]),e.rotateTransform(-180),s=[e._size[0]-(s[0]+s[2]),a=e._size[1]-(s[1]+s[3]),s[2],s[3]]}else if(t.pageRotationAngle===h.angle270){e.translateTransform(0,e._size[0]),e.rotateTransform(270),s=[e._size[0]-(s[1]+s[3]),a=s[0],s[3],s[2]]}if(t.rotationAngle)if(90===t.rotationAngle)if(t.pageRotationAngle===h.angle90)e.translateTransform(0,e._size[1]),e.rotateTransform(-90),s=[e._size[1]-(s[1]+s[3]),a=s[0],s[3],s[2]];else if(s[2]>s[3])e.translateTransform(0,e._size[1]),e.rotateTransform(-90),s=[t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]];else{var l=s[0];s[0]=-(s[1]+s[3]),s[1]=l;var c=s[3];s[3]=s[2]>n._metrics._getHeight()?s[2]:n._metrics._getHeight(),s[2]=c,e.rotateTransform(-90)}else if(270===t.rotationAngle){e.translateTransform(e._size[0],0),e.rotateTransform(-270),s=[s[1],a=e._size[0]-(s[0]+s[2]),s[3],s[2]]}else if(180===t.rotationAngle){e.translateTransform(e._size[0],e._size[1]),e.rotateTransform(-180),s=[e._size[0]-(s[0]+s[2]),a=e._size[1]-(s[1]+s[3]),s[2],s[3]]}e.drawString(i,n,s,null,t.foreBrush,r),e.restore(o)}else e.drawString(i,n,s,null,t.foreBrush,r)},t.prototype._drawPressedButton=function(e,t,i,n,r){if(t.borderStyle===a.inset)e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.shadowBrush);else e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.backBrush);this._drawBorder(e,t.bounds,t.borderPen,t.borderStyle,t.borderWidth);var s=[t.borderWidth,t.borderWidth,t.bounds[2]-t.borderWidth,t.bounds[3]-t.borderWidth];switch(e.drawString(i,n,s,null,t.foreBrush,r),t.borderStyle){case a.inset:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,this._grayBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,this._silverBrush);break;case a.beveled:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,t.shadowBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,this._whiteBrush);break;default:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,t.shadowBrush)}},t}(tt),rt=function(e){function t(t,i,n){var r=e.call(this)||this;return n&&t&&i&&r._initialize(n,t,i),r}return et(t,e),t._load=function(e,i,n,r){var s=new t;if(s._isLoaded=!0,s._form=e,s._dictionary=i,s._crossReference=n,s._ref=r,s._defaultIndex=0,s._parsedItems=new Map,s._dictionary.has("Kids"))s._kids=s._dictionary.get("Kids");else{var o=Ft._load(i,n,s);o._isLoaded=!0,o._ref=r,s._parsedItems.set(0,o)}return s},t.prototype.itemAt=function(e){if(e<0||0!==e&&e>=this._kidsCount)throw Error("Index out of range.");var t;if(this._parsedItems.has(e))t=this._parsedItems.get(e);else{var i=void 0;if(e>=0&&this._kids&&this._kids.length>0&&e<this._kids.length){var n=this._kids[Number.parseInt(e.toString(),10)];n&&n instanceof Vn&&(i=this._crossReference._fetch(n)),i&&((t=Ft._load(i,this._crossReference,this))._isLoaded=!0,t._ref=n,this._parsedItems.set(e,t))}}return t},Object.defineProperty(t.prototype,"font",{get:function(){if(this._font)return this._font;var e=this.itemAt(this._defaultIndex);return this._font=jn(this._form,e,this),this._font},set:function(e){e&&e instanceof He&&(this._font=e,this._initializeFont(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._kidsCount>0?this.itemAt(this._defaultIndex).checked:Xi(this._dictionary)},set:function(e){if(this.checked!==e){if(this._kidsCount>0&&(this.itemAt(this._defaultIndex).checked=e),e)if(this._isLoaded){var t=Ji(this._kidsCount>0?this.itemAt(this._defaultIndex)._dictionary:this._dictionary);this._dictionary.update("V",Fn.get(t)),this._dictionary.update("AS",Fn.get(t))}else this._dictionary.update("V",Fn.get("Yes")),this._dictionary.update("AS",Fn.get("Yes"));else this._dictionary.has("V")&&delete this._dictionary._map.V,this._dictionary.has("AS")&&delete this._dictionary._map.AS;this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return this._getTextAlignment()},set:function(e){this._textAlignment!==e&&this._setTextAlignment(e)},enumerable:!0,configurable:!0}),t.prototype._initialize=function(e,t,i){this._crossReference=e._crossReference,this._page=e,this._name=t,this._defaultIndex=0,this._dictionary=new Yn(this._crossReference),this._ref=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary.objId=this._ref.toString(),this._dictionary.update("FT",Fn.get("Btn")),this._dictionary.update("T",t),this._createItem(i)},t.prototype._createItem=function(e){var t=new Ft;t._create(this._page,e,this),t.textAlignment=p.center,this._stringFormat=new ee(t.textAlignment,Z.middle),t._dictionary.update("MK",new Yn(this._crossReference)),t._mkDictionary.update("BC",[0,0,0]),t._mkDictionary.update("BG",[1,1,1]),t.style=y.check,t._dictionary.update("DA","/TiRo 0 Tf 0 0 0 rg"),this._addToKid(t)},t.prototype._doPostProcess=function(e){void 0===e&&(e=!1);var t=this._kidsCount;if(this._isLoaded)if(t>0)for(var i=0;i<t;i++){if(o=this.itemAt(i)){if(!this._checkFieldFlag(o._dictionary))if(e){var n=void 0,r=o.checked?j.checked:j.unchecked;n=this._setAppearance||this._form._setAppearance||!o._dictionary.has("AP")?this._createAppearance(o,r):Zi(r,this),this._drawTemplate(n,o._getPage(),o.bounds)}else(this._setAppearance||this._form._setAppearance||!o._isLoaded)&&(o._postProcess(o.checked?"Yes":"Off"),this._drawAppearance(o));o._dictionary._updated=!e}}else{var s=this.checked?j.checked:j.unchecked;this._drawTemplate(Zi(s,this),this.page,this.bounds)}else for(i=0;i<t;i++){var o;if(o=this.itemAt(i)){r=o.checked?j.checked:j.unchecked;if(o._postProcess(o.checked?"Yes":"Off"),e){n=this._createAppearance(o,r);this._drawTemplate(n,o._getPage(),o.bounds)}else this._drawAppearance(o);o._dictionary._updated=!e}}this._dictionary._updated=!e},t.prototype._createAppearance=function(e,t){var i=e.bounds,n=new qt;n.bounds=[0,0,i.width,i.height];var r=e.backColor;n.backBrush=new oi(r),n.foreBrush=new oi(e.color);var s=e.border;n.borderPen=new ai(e.borderColor,s.width),n.borderStyle=s.style,n.borderWidth=s.width;var o=[r[0]-64,r[1]-64,r[2]-64],a=[o[0]>=0?o[0]:0,o[1]>=0?o[1]:0,o[2]>=0?o[2]:0];n.shadowBrush=new oi(a),n.rotationAngle=e.rotate;var l=new $(n.bounds,this._crossReference),h=l.graphics;return this._drawCheckBox(h,n,tn(e._style),t),l},t.prototype._drawAppearance=function(e){var t=new Yn;if(e._dictionary.has("AP"))(t=e._dictionary.get("AP"))&&(t.has("N")&&Cn(t.get("N"),this._crossReference,"Yes","Off"),t.has("D")&&Cn(t.get("D"),this._crossReference,"Yes","Off")),In(t,this._crossReference,"N"),In(t,this._crossReference,"D");else{var i=this._crossReference._getNextReference();t=new Yn(this._crossReference),this._crossReference._cacheMap.set(i,t),e._dictionary.update("AP",i)}var n=this._createAppearance(e,j.checked),r=this._crossReference._getNextReference();this._crossReference._cacheMap.set(r,n._content);var s=this._createAppearance(e,j.unchecked),o=this._crossReference._getNextReference();this._crossReference._cacheMap.set(o,s._content);var a=new Yn(this._crossReference);a.update("Yes",r),a.update("Off",o);var l=this._crossReference._getNextReference();this._crossReference._cacheMap.set(l,a),t.update("N",l);var h=this._createAppearance(e,j.pressedChecked),c=this._crossReference._getNextReference();this._crossReference._cacheMap.set(c,h._content);var u=this._createAppearance(e,j.pressedUnchecked),p=this._crossReference._getNextReference();this._crossReference._cacheMap.set(p,u._content);var d=new Yn(this._crossReference);d.update("Yes",c),d.update("Off",p);var f=this._crossReference._getNextReference();this._crossReference._cacheMap.set(f,d),t.update("D",f),e._dictionary._updated=!0},t}(tt),st=function(e){function t(t,i){var n=e.call(this)||this;return n._selectedIndex=-1,t&&i&&n._initialize(t,i),n}return et(t,e),t._load=function(e,i,n,r){var s=new t;return s._isLoaded=!0,s._form=e,s._dictionary=i,s._crossReference=n,s._ref=r,s._dictionary.has("Kids")&&(s._kids=s._dictionary.get("Kids")),s._defaultIndex=0,s._parsedItems=new Map,s._kidsCount>0&&s._retrieveOptionValue(),s},Object.defineProperty(t.prototype,"checked",{get:function(){var e=!1;return this._kidsCount>0&&(e=this.itemAt(this._defaultIndex).checked),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._isLoaded&&-1===this._selectedIndex&&(this._selectedIndex=this._obtainSelectedIndex()),this._selectedIndex},set:function(e){if(this.selectedIndex!==e){this._selectedIndex=e;for(var t=0;t<this._kidsCount;t++){var i=this.itemAt(t);if(t===e){i._dictionary.update("AS",Fn.get(i.value));var n=Fn.get(i.value);this._dictionary.update("V",n),this._dictionary.update("DV",n)}else i._dictionary.update("AS",Fn.get("Off"))}}},enumerable:!0,configurable:!0}),t.prototype.itemAt=function(e){if(e<0||0!==e&&e>=this._kidsCount)throw Error("Index out of range.");var t;if(this._parsedItems.has(e))t=this._parsedItems.get(e);else{var i=void 0;if(e>=0&&this._kids&&this._kids.length>0&&e<this._kids.length){var n=this._kids[Number.parseInt(e.toString(),10)];n&&n instanceof Vn&&(i=this._crossReference._fetch(n)),i&&((t=Bt._load(i,this._crossReference,this))._ref=n,t._index=e,this._parsedItems.set(e,t))}}return t},t.prototype.add=function(e,t){return e instanceof Bt?(e._field=this,e._dictionary.update("Parent",this._ref),e._setField(this),this._kidsCount):new Bt(e,t,this)},t.prototype.removeItemAt=function(e){var t=this.itemAt(e);if(t&&t._ref){var i=t._getPage();if(i&&i._removeAnnotation(t._ref),this._kids.splice(e,1),this._dictionary.set("Kids",this._kids),this._dictionary._updated=!0,this._parsedItems.delete(e),this._parsedItems.size>0){var n=new Map;this._parsedItems.forEach((function(t,i){i>e?n.set(i-1,t):n.set(i,t)})),this._parsedItems=n}if(this._dictionary.has("Opt")){var r=this._dictionary.getArray("Opt");r&&r.length>0&&(r.splice(e,1),this._dictionary.set("Opt",r))}}},t.prototype.removeItem=function(e){if(e&&e._ref){var t=this._kids.indexOf(e._ref);-1!==t&&this.removeItemAt(t)}},t.prototype._initialize=function(e,t){this._defaultIndex=0,this._crossReference=e._crossReference,this._page=e,this._name=t,this._dictionary=new Yn(this._crossReference),this._ref=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary.objId=this._ref.toString(),this._dictionary.update("FT",Fn.get("Btn")),this._dictionary.update("T",t),this._parsedItems=new Map,this._fieldFlags|=T.radio},t.prototype._retrieveOptionValue=function(){if(this._dictionary.has("Opt")){var e=this._dictionary.getArray("Opt");if(e&&e.length>0)for(var t=this._kidsCount,i=e.length<=t?e.length:t,n=0;n<i;n++)e[Number.parseInt(n.toString(),10)]&&(this.itemAt(n)._optionValue=e[Number.parseInt(n.toString(),10)])}},t.prototype._obtainSelectedIndex=function(){for(var e=-1,t=0;t<this._kidsCount;++t){var i=this.itemAt(t);if(i){var n=Di(i._dictionary,"V",!1,!0,"Parent");if(n&&i._dictionary.has("AS")){var r=i._dictionary.get("AS");if(r&&"off"!==r.name.toLowerCase())if(n instanceof Fn&&"off"!==n.name.toLowerCase()){if(r.name===n.name||i._optionValue===n.name){e=t;break}}else if("string"===typeof n&&"off"!==n.toLowerCase()&&(r.name===n||i._optionValue===n)){e=t;break}}}}return e},t.prototype._doPostProcess=function(e){void 0===e&&(e=!1);var t=this._kidsCount;if(this._isLoaded)if(t>0)for(var i=0;i<t;i++){if((o=this.itemAt(i))&&!this._checkFieldFlag(o._dictionary)){if(e){var n=void 0,r=this.selectedIndex===i?j.checked:j.unchecked;n=this._setAppearance||this._form._setAppearance||!o._dictionary.has("AP")?this._createAppearance(o,r):Zi(r,this),this._drawTemplate(n,o._getPage(),o.bounds)}else(this._setAppearance||this._form._setAppearance||!o._isLoaded)&&(o._postProcess(this.selectedIndex===i?o.value:"Off"),this._drawAppearance(o));o._dictionary._updated=!e}}else{var s=-1!==this.selectedIndex?j.checked:j.unchecked;this._drawTemplate(Zi(s,this),this.page,this.bounds)}else for(i=0;i<t;i++){var o=this.itemAt(i);r=this.selectedIndex===i?j.checked:j.unchecked;if(o._dictionary.update("AS",Fn.get(this.selectedIndex===i?o.value:"Off")),e){n=this._createAppearance(o,r);this._drawTemplate(n,o._getPage(),o.bounds)}else o._postProcess(this.selectedIndex===i?o.value:"Off"),this._drawAppearance(o);o._dictionary._updated=!e}this._dictionary._updated=!e},t.prototype._createAppearance=function(e,t){var i=e.bounds,n=new qt;n.bounds=[0,0,i.width,i.height];var r=e.backColor;n.backBrush=new oi(r),n.foreBrush=new oi(e.color);var s=e.border;n.borderPen=new ai(e.borderColor,s.width),n.borderStyle=s.style,n.borderWidth=s.width;var o=[r[0]-64,r[1]-64,r[2]-64],a=[o[0]>=0?o[0]:0,o[1]>=0?o[1]:0,o[2]>=0?o[2]:0];n.shadowBrush=new oi(a),n.rotationAngle=e.rotate;var l=new $(n.bounds,this._crossReference),h=l.graphics;return this._drawRadioButton(h,n,tn(e.style),t),l},t.prototype._drawAppearance=function(e){var t=new Yn;if(e._dictionary.has("AP"))(t=e._dictionary.get("AP"))&&(t.has("N")&&Cn(t.get("N"),this._crossReference,e.value,"Off"),t.has("D")&&Cn(t.get("D"),this._crossReference,e.value,"Off")),In(t,this._crossReference,"N"),In(t,this._crossReference,"D");else{var i=this._crossReference._getNextReference();t=new Yn(this._crossReference),this._crossReference._cacheMap.set(i,t),e._dictionary.update("AP",i)}var n=this._createAppearance(e,j.checked),r=this._crossReference._getNextReference();this._crossReference._cacheMap.set(r,n._content);var s=this._createAppearance(e,j.unchecked),o=this._crossReference._getNextReference();this._crossReference._cacheMap.set(o,s._content);var a=new Yn(this._crossReference);a.update(e.value,r),a.update("Off",o);var l=this._crossReference._getNextReference();this._crossReference._cacheMap.set(l,a),t.update("N",l);var h=this._createAppearance(e,j.pressedChecked),c=this._crossReference._getNextReference();this._crossReference._cacheMap.set(c,h._content);var u=this._createAppearance(e,j.pressedUnchecked),p=this._crossReference._getNextReference();this._crossReference._cacheMap.set(p,u._content);var d=new Yn(this._crossReference);d.update(e.value,c),d.update("Off",p);var f=this._crossReference._getNextReference();this._crossReference._cacheMap.set(f,d),t.update("D",f),e._dictionary._updated=!0},t}(tt),ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return et(t,e),Object.defineProperty(t.prototype,"itemsCount",{get:function(){return this._options.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){var e,t=this.itemAt(this._defaultIndex);return t&&(t._page=this.page),t&&t.bounds?e=t.bounds:this._dictionary.has("Rect")&&(e=Ai(this._dictionary,this.page)),e||(this._bounds?this._bounds:e)},set:function(e){if(0===e.x&&0===e.y&&0===e.width&&0===e.height)throw new Error("Cannot set empty bounds");var t=this.itemAt(this._defaultIndex);this._isLoaded?"undefined"===typeof t||this._dictionary.has("Rect")?this._dictionary.update("Rect",ki([e.x,e.y,e.width,e.height],this.page)):(t._page=this.page,t.bounds=e):t?(t._page=this.page,t.bounds=e):this._bounds=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){var e=this._dictionary.get("I");return"undefined"===typeof e?[]:1===e.length?e[0]:e},set:function(e){var t=this,i=this._options.length;if("number"===typeof e)this._checkIndex(e,i),this._dictionary.update("I",[e]),this._dictionary.update("V",[this._options[Number.parseInt(e.toString(),10)][0]]);else{var n=[];e.forEach((function(e){t._checkIndex(e,i),n.push(t._options[Number.parseInt(e.toString(),10)][0])})),this._dictionary.update("I",e),this._dictionary.update("V",n)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){var e,t=this,i=[];this._dictionary.has("V")&&("undefined"!==typeof(e=this._dictionary.getArray("V"))&&(Array.isArray(e)?e.forEach((function(e){i.push(e)})):"string"===typeof e&&i.push(e)));0===i.length&&this._dictionary.has("I")&&((e=this._dictionary.get("I"))&&e.length>0&&e.forEach((function(e){i.push(t._options[Number.parseInt(e.toString(),10)][0])})));return 1===i.length?i[0]:i},set:function(e){var t=this;if("string"===typeof e){var i=this._tryGetIndex(e);-1!==i&&(this._dictionary.update("I",[i]),this._dictionary.update("V",[e]))}else{var n=[],r=[];e.forEach((function(e){var i=t._tryGetIndex(e);-1!==i&&(r.push(i),n.push(e))})),n.length>0&&(this._dictionary.update("I",r),this._dictionary.update("V",n))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiSelect",{get:function(){return this._isLoaded?0!==(this._fieldFlags&T.multiSelect):this._multiSelect},set:function(e){this.multiSelect!==e&&(this._multiSelect=e,e?this._fieldFlags|=T.multiSelect:this._fieldFlags&=~T.multiSelect)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this._isLoaded?0!==(this._fieldFlags&T.edit):this._editable},set:function(e){this._editable!==e&&(this._editable=e,e?this._fieldFlags|=T.edit:this._fieldFlags&=~T.edit)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){if(this._font)return this._font;var e=this.itemAt(this._defaultIndex);return this._font=jn(this._form,e,this),this._font},set:function(e){e&&e instanceof He&&(this._font=e,this._initializeFont(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return this._getTextAlignment()},set:function(e){this._textAlignment!==e&&this._setTextAlignment(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_options",{get:function(){return this._optionArray||(this._dictionary.has("Opt")?this._optionArray=this._dictionary.getArray("Opt"):(this._optionArray=[],this._dictionary.update("Opt",this._optionArray))),this._optionArray},enumerable:!0,configurable:!0}),t.prototype.itemAt=function(e){var t;if(e<this._kidsCount)if(this._parsedItems.has(e))t=this._parsedItems.get(e);else{var i=void 0;(n=this._kids[Number.parseInt(e.toString(),10)])&&n instanceof Vn&&(i=this._crossReference._fetch(n)),i&&((t=Vt._load(i,this._crossReference,this))._index=e,t._ref=n,this._options&&this._options.length>0&&e<this._options.length?t._text=this._options[Number.parseInt(e.toString(),10)][1]:t._text="",this._parsedItems.set(e,t))}else if(this._parsedItems.has(e))t=this._parsedItems.get(e);else if(this._kidsCount>0&&this._kids&&this._kids.length>0){i=void 0;var n=void 0;(n=1===this._kidsCount?this._kids[0]:this._kids[Number.parseInt(e.toString(),10)])&&n instanceof Vn&&(i=this._crossReference._fetch(n)),i&&((t=Vt._load(i,this._crossReference,this))._index=e,t._ref=n,this._options&&this._options.length>0&&e<this._options.length?t._text=this._options[Number.parseInt(e.toString(),10)][1]:t._text="",this._parsedItems.set(e,t))}return t},t.prototype.addItem=function(e){return this._addToOptions(e,this),this._listValues.length-1},t.prototype.removeItemAt=function(e){var t=this.itemAt(e);if(t&&t._ref){if(this._parsedItems.delete(e),this._parsedItems.size>0){var i=new Map;this._parsedItems.forEach((function(t,n){n>e?i.set(n-1,t):i.set(n,t)})),this._parsedItems=i}if(this._dictionary.has("Opt")){var n=this._options;n&&n.length>0&&(n.splice(e,1),this._dictionary.set("Opt",n),this._optionArray=n,this._dictionary._updated=!0)}}},t.prototype.removeItem=function(e){if(e&&e.text){for(var t=void 0,i=0;i<this.itemsCount;i++){var n=this.itemAt(i);if(n&&e===n&&n.text===e.text){t=i;break}}-1!==t&&this.removeItemAt(t)}},t.prototype._initialize=function(e,t,i){this._defaultIndex=0,this._crossReference=e._crossReference,this._page=e,this._name=t,this._dictionary=new Yn(this._crossReference),this._ref=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary.objId=this._ref.toString(),this._dictionary.update("FT",Fn.get("Ch")),this._dictionary.update("T",t),this._parsedItems=new Map,this._listValues=[],this._kids=[],this.bounds=i,this._addEmptyWidget()},t.prototype._obtainFont=function(e){var t="",i=1;if(e&&(e._dictionary.has("DS")||e._dictionary.has("DA"))){if(e._dictionary.has("DS"))for(var n=e._dictionary.get("DS").split(";"),r=0;r<n.length;r++){var s=n[Number.parseInt(r.toString(),10)].split(":");if(-1!==n[Number.parseInt(r.toString(),10)].indexOf("font-family"))t=s[1];else if(-1!==n[Number.parseInt(r.toString(),10)].indexOf("font-size"))s[1].endsWith("pt")&&(i=Number.parseFloat(s[1].replace("pt","")));else if(-1===n[Number.parseInt(r.toString(),10)].indexOf("font-style")&&-1!==n[Number.parseInt(r.toString(),10)].indexOf("font")){for(var o=s[1].split(" "),a=0;a<o.length;a++)""===o[Number.parseInt(a.toString(),10)]||o[Number.parseInt(a.toString(),10)].endsWith("pt")||(t+=o[Number.parseInt(a.toString(),10)]+" "),o[Number.parseInt(a.toString(),10)].endsWith("pt")&&(i=Number.parseFloat(o[Number.parseInt(a.toString(),10)].replace("pt","")));for(;" "!==t&&t.endsWith(" ");)t=t.substring(0,t.length-2);-1!==t.indexOf(",")&&(t=t.split(",")[0])}}else{var l=e._dictionary.get("DA");if(l&&""!==l&&-1!==l.indexOf("Tf")){var h=l.split(" ");for(r=0;r<h.length;r++)if(-1!==h[Number.parseInt(r.toString(),10)].indexOf("Tf")){for(t=h[r-2];""!==t&&t.length>1&&"/"===t[0];)t=t.substring(1);i=Number.parseFloat(h[r-1])}var c=0;if(0===i){var u=new We(fe.helvetica,c);null!==u&&(c=this._getFontHeight(u._fontFamily),(Number.isNaN(c)||0===c)&&(c=12),u._size=c,i=c)}}}switch(t=t.trim()){case"Helv":default:this._font=new We(fe.helvetica,i,de.regular);break;case"Courier":case"Cour":this._font=new We(fe.courier,i,de.regular);break;case"Symb":this._font=new We(fe.symbol,i,de.regular);break;case"TiRo":this._font=new We(fe.timesRoman,i,de.regular);break;case"ZaDb":this._font=new We(fe.zapfDingbats,i,de.regular)}}return this._font},t.prototype._obtainSelectedValue=function(){var e=this,t=[];if(this._dictionary.has("V")){var i=this._dictionary.get("V"),n=this._dictionary.getArray("V");null!==i&&"undefined"!==typeof i&&("string"===typeof i?t.push(i):Array.isArray(i)&&n.forEach((function(e){t.push(e)})))}else{var r=this._dictionary.get("I");null!==r&&"undefined"!==typeof r&&r.length>0&&r[0]>-1&&this._options&&this._options.length>0&&r.forEach((function(i){t.push(e._options[Number.parseInt(i.toString(),10)][0])}))}return t},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),e||this._setAppearance||this._form._setAppearance){var t=this._kidsCount;if(this._kids&&this._kids.length>0)if(t>1)for(var i=0;i<t;i++){if((r=this.itemAt(i))&&!this._checkFieldFlag(r._dictionary)){var n=this._createAppearance(r);if(e)(s=r._getPage())&&this._drawTemplate(n,s,r.bounds);else this._addAppearance(r._dictionary,n,"N");r._dictionary._updated=!e}}else{var r=this.itemAt(0);n=this._createAppearance();if(e)(s=this.page)&&this._drawTemplate(n,s,this.bounds);else this._addAppearance(r._dictionary,n,"N");r._dictionary._updated=!e}else if(this._dictionary){var s;n=this._createAppearance();if(e)(s=this.page)&&this._drawTemplate(n,s,this.bounds);else this._addAppearance(this._dictionary,n,"N")}this._dictionary._updated=!e}},t.prototype._tryGetIndex=function(e){var t=-1;if(this._options&&this._options.length>0)for(var i=0;i<this._options.length;i++)if(e===this._options[Number.parseInt(i.toString(),10)][0]){t=i;break}return t},t.prototype._addEmptyWidget=function(){var e=new Rt;e._create(this._page,this.bounds,this),this._addToKid(e),e._dictionary.update("MK",new Yn(this._crossReference)),e._mkDictionary.update("BC",[0,0,0]),e._mkDictionary.update("BG",[1,1,1]),e._dictionary.update("DA","/TiRo 0 Tf 0 0 0 rg")},t}(tt),at=function(e){function t(t,i,n){var r=e.call(this)||this;return t&&i&&n&&(r._initialize(t,i,n),r._fieldFlags|=T.combo),r}return et(t,e),Object.defineProperty(t.prototype,"_isAutoFontSize",{get:function(){var e=!1;if(this._isLoaded&&this._form){var t=this._form._dictionary;if(t&&t.has("DA")){var i=t.get("DA");if(i){var n=new ct(i);if(0===n.fontSize)if(this._kids&&this._kids.length>0){var r=!1;if(this._dictionary.has("DA")&&(i=this._dictionary.get("DA"))&&(n=new ct(i))&&n.fontSize>0&&(r=!0),!r)for(var s=0;s<this._kids.length;s++){var o=void 0,a=this._kids[Number.parseInt(s.toString(),10)];if(a&&a instanceof Vn&&(o=this._crossReference._fetch(a)),o)if(o.has("DA")){var l=0;(i=o.get("DA"))&&(n=new ct(i))&&(l=n.fontSize),0===l&&(e=!0)}else e=!0}}else if(this._dictionary.has("DA")){l=0;(i=this._dictionary.get("DA"))&&(n=new ct(i))&&(l=n.fontSize),0===l&&(e=!0)}else e=!0}}}return e},enumerable:!0,configurable:!0}),t._load=function(e,i,n,r){var s=new t;s._isLoaded=!0,s._form=e,s._dictionary=i,s._crossReference=n,s._ref=r,s._dictionary.has("Kids")&&(s._kids=s._dictionary.get("Kids"));var o=s._dictionary.getArray("Opt");return null!==o&&"undefined"!==typeof o&&(s._listValues=new Array(o.length)),s._defaultIndex=0,s._parsedItems=new Map,s._kidsCount>0&&s._retrieveOptionValue(),s},t.prototype._retrieveOptionValue=function(){if(this._dictionary.has("Opt")){var e=this._dictionary.getArray("Opt");if(e&&e.length>0)for(var t=this._kidsCount,i=e.length<=t?e.length:t,n=0;n<i;n++){var r=e[Number.parseInt(n.toString(),10)][1];r&&(this.itemAt(n)._text=r||"")}}},t.prototype._createAppearance=function(e){var t=new qt;if(e){var i=e.bounds,n=e._getPage();e._isLoaded&&n&&"undefined"!==typeof n.rotation&&n.rotation!==h.angle0?t.bounds=this._rotateTextBox([i.x,i.y,i.width,i.height],n.size,n.rotation):t.bounds=[0,0,i.width,i.height];var r=e.backColor;t.backBrush=new oi(r),t.foreBrush=new oi(e.color);var s=e.border;t.borderPen=new ai(e.borderColor,s.width),t.borderStyle=s.style,t.borderWidth=s.width;var o=[(c=[r[0]-64,r[1]-64,r[2]-64])[0]>=0?c[0]:0,c[1]>=0?c[1]:0,c[2]>=0?c[2]:0];t.shadowBrush=new oi(o),t.rotationAngle=e.rotate;var a="undefined"!==typeof e.textAlignment?e.textAlignment:p.left,l=this.multiSelect?Z.top:Z.middle;t.stringFormat=new ee(a,l)}else{(i=this.bounds)&&(this._isLoaded&&this.page&&"undefined"!==typeof this.page.rotation&&this.page.rotation!==h.angle0?t.bounds=this._rotateTextBox([i.x,i.y,i.width,i.height],this.page.size,this.page.rotation):t.bounds=[0,0,i.width,i.height]);r=this.backColor;t.backBrush=new oi(r),t.foreBrush=new oi(this.color);s=this.border;t.borderPen=new ai(this.borderColor,s.width),t.borderStyle=s.style,t.borderWidth=s.width;var c;o=[(c=[r[0]-64,r[1]-64,r[2]-64])[0]>=0?c[0]:0,c[1]>=0?c[1]:0,c[2]>=0?c[2]:0];t.shadowBrush=new oi(o),t.rotationAngle=this.rotationAngle;a="undefined"!==typeof this.textAlignment?this.textAlignment:p.left,l=this.multiSelect?Z.top:Z.middle;t.stringFormat=new ee(a,l)}t.required=this.required,null!==t.bounds&&"undefined"!==typeof t.bounds||(t.bounds=[0,0,0,0]);var u=new $(t.bounds,this._crossReference),d=u.graphics;if(d._sw._clear(),this.required||(d._sw._beginMarkupSequence("Tx"),d._initializeCoordinates()),this._isLoaded){var f=void 0;e&&(f=this._obtainFont(e)),"undefined"!==typeof f&&null!==f||(f=this._appearanceFont),this._drawComboBox(d,t,f,t.stringFormat)}else this._font||(this._font=new We(fe.timesRoman,this._getFontHeight(fe.helvetica))),this._drawComboBox(d,t,this._font,t.stringFormat);return this.required||d._sw._endMarkupSequence(),u},t.prototype._drawComboBox=function(e,t,i,n){e._isTemplateGraphics&&t.required&&(e.save(),e._initializeCoordinates()),this._drawRectangularControl(e,t),e._isTemplateGraphics&&t.required&&(e.restore(),e.save(),e._sw._beginMarkupSequence("Tx"),e._initializeCoordinates());var r=this._options,s=this._dictionary.get("I"),o=-1;if(s&&s.length>0&&(o=s[0]),o>=0&&o<r.length){var l=r[Number.parseInt(o.toString(),10)],h=[0,0],c=t.borderWidth,u=2*c,p=t.borderStyle===a.inset||t.borderStyle===a.beveled;p?(h[0]=2*u,h[1]=2*c):(h[0]=u+2,h[1]=1*c+1);var d=t.foreBrush,f=t.bounds,g=f[2]-u,m=f;if(m[3]-=p?u:c,e.setClip(m,P.winding),0===t.rotationAngle){var y=f[0]+c;p&&(y+=c,g-=u),d=new oi([153,193,218]),e.drawRectangle(y,h[1],g,f[3],d),d=new oi([0,0,0])}var v=void 0;if(v=l&&Array.isArray(l)?l[1]?l[1]:l[0]:l){var b=[h[0],h[1],g-h[0],f[3]];if(t.rotationAngle>0){var M=e.save();if(90===t.rotationAngle)e.translateTransform(0,e._size[1]),e.rotateTransform(-90),m=[e._size[1]-(m[1]+m[3]),m[0],m[3]+m[2],m[2]];else if(270===t.rotationAngle){e.translateTransform(e._size[0],0),e.rotateTransform(-270),m=[m[1],e._size[0]-(m[0]+m[2]),m[3]+m[2],m[2]]}else if(180===t.rotationAngle){e.translateTransform(e._size[0],e._size[1]),e.rotateTransform(-180),m=[e._size[0]-(m[0]+m[2]),e._size[1]-(m[1]+m[3]),m[2],m[3]]}y=f[0]+c;p&&(y+=c,g-=u),d=new oi([153,193,218]),e.drawRectangle(y,h[1],g,f[3],d),d=new oi([0,0,0]),e.drawString(v,i,b,null,d,n),e.restore(M)}else e.drawString(v,i,b,null,d,n)}}e._isTemplateGraphics&&t.required&&(e._sw._endMarkupSequence(),e.restore())},t.prototype._getFontHeight=function(e){var t,i,n,r,s,o=this._dictionary.get("I"),a=this.border.width;if(this._isLoaded){i=new We(e,12),n=new ee(p.center,Z.middle),r=this._dictionary.getArray("Opt"),s=this.bounds;var l=[];if(o&&o.length>0)o.forEach((function(e){l.push(i.measureString(r[Number.parseInt(e.toString(),10)][1],[0,0],n,0,0)[0])}));else if(r.length>0)for(var h=i.measureString(r[0][1],[0,0],n,0,0)[0],c=1;c<r.length;++c){var u=i.measureString(r[Number.parseInt(c.toString(),10)][1],[0,0],n,0,0)[0];h=Math.max(h,u),l.push(h)}t=l.length>0?12*(s.width-4*a)/l.sort()[l.length-1]:12}else{if(t=0,!(o&&o.length>0))return t;i=new We(e,12),n=new ee(p.center,Z.middle),r=this._dictionary.getArray("Opt");u=i.measureString(r[o[0]][1],[0,0],n,0,0)[0];s=this.bounds,t=u?12*(s.width-4*a)/u:12}var d=0;if(o&&o.length>0){if(12!==t){i=new We(e,t);var f=r[o[0]][1],g=i.measureString(f,[0,0],n,0,0);if(g[0]>s.width||g[1]>s.height){u=s.width-4*a;var m=s.height-4*a,y=.248;for(c=1;c<=s.height;c++){i._size=c;var v=i.measureString(f,[0,0],n,0,0);if(v[0]>s.width||v[1]>m){d=c;do{d-=.001,i._size=d;var b=i.getLineWidth(f,n);if(d<y){i._size=y;break}if(v=i.measureString(f,[0,0],n,0,0),b<u&&v[1]<m){i._size=d;break}}while(d>y);t=d;break}}}}}else t>12&&(t=12);return t},t}(ot),lt=function(e){function t(t,i,n){var r=e.call(this)||this;return t&&i&&n&&r._initialize(t,i,n),r}return et(t,e),t._load=function(e,i,n,r){var s=new t;s._isLoaded=!0,s._form=e,s._dictionary=i,s._crossReference=n,s._ref=r,s._dictionary.has("Kids")&&(s._kids=s._dictionary.get("Kids"));var o=s._dictionary.getArray("Opt");return null!==o&&"undefined"!==typeof o&&(s._listValues=new Array(o.length)),s._defaultIndex=0,s._parsedItems=new Map,s._kidsCount>0&&s._retrieveOptionValue(),s},t.prototype._retrieveOptionValue=function(){if(this._dictionary.has("Opt")){var e=this._dictionary.getArray("Opt");if(e&&e.length>0)for(var t=this._dictionary.get("I"),i=0;i<e.length;i++)"undefined"!==typeof t&&null!==t?(this._listValues[Number.parseInt(i.toString(),10)]=e[Number.parseInt(i.toString(),10)][1],i===t?(this.itemAt(i)._text=this._listValues[Number.parseInt(i.toString(),10)],this._selectedIndex=i):this.itemAt(i)._text=this._listValues[Number.parseInt(i.toString(),10)]):this.itemAt(i)._text=""}},t.prototype._createAppearance=function(e){var t=new qt;if(e){var i=e.bounds,n=e._getPage();e._isLoaded&&n&&"undefined"!==typeof n.rotation&&n.rotation!==h.angle0?t.bounds=this._rotateTextBox([i.x,i.y,i.width,i.height],n.size,n.rotation):t.bounds=[0,0,i.width,i.height];var r=e.backColor;t.backBrush=new oi(r),t.foreBrush=new oi(e.color);var s=e.border;t.borderPen=new ai(e.borderColor,s.width),t.borderStyle=s.style,t.borderWidth=s.width;var o=[(c=[r[0]-64,r[1]-64,r[2]-64])[0]>=0?c[0]:0,c[1]>=0?c[1]:0,c[2]>=0?c[2]:0];t.shadowBrush=new oi(o),t.rotationAngle=e.rotate;var a="undefined"!==typeof e.textAlignment?e.textAlignment:p.left,l=this.multiSelect?Z.top:Z.middle;t.stringFormat=new ee(a,l)}else{i=this.bounds;this._isLoaded&&this.page&&"undefined"!==typeof this.page.rotation&&this.page.rotation!==h.angle0?t.bounds=this._rotateTextBox([i.x,i.y,i.width,i.height],this.page.size,this.page.rotation):t.bounds=[0,0,i.width,i.height];r=this.backColor;t.backBrush=new oi(r),t.foreBrush=new oi(this.color);s=this.border;t.borderPen=new ai(this.borderColor,s.width),t.borderStyle=s.style,t.borderWidth=s.width;var c;o=[(c=[r[0]-64,r[1]-64,r[2]-64])[0]>=0?c[0]:0,c[1]>=0?c[1]:0,c[2]>=0?c[2]:0];t.shadowBrush=new oi(o),t.rotationAngle=this.rotationAngle;a="undefined"!==typeof this.textAlignment?this.textAlignment:p.left,l=this.multiSelect?Z.top:Z.middle;t.stringFormat=new ee(a,l)}t.required=this.required;var u=new $(t.bounds,this._crossReference),d=u.graphics;if(d._sw._clear(),this.required||(d._sw._beginMarkupSequence("Tx"),d._initializeCoordinates()),this._isLoaded){var f=this._obtainFont(e);("undefined"===typeof f||null===f||!this._isLoaded&&1===f.size)&&(f=this._appearanceFont),this._drawListBox(d,t,f,t.stringFormat)}else this._font||(this._font=this._defaultItemFont),this._drawListBox(d,t,this._font,t.stringFormat);return this.required||d._sw._endMarkupSequence(),u},t.prototype._drawListBox=function(e,t,i,n){e._isTemplateGraphics&&t.required&&(e.save(),e._initializeCoordinates()),this._drawRectangularControl(e,t),e._isTemplateGraphics&&t.required&&(e.restore(),e.save(),e._sw._beginMarkupSequence("Tx"),e._initializeCoordinates());for(var r=this._options,s=function(s){var l=r[Number.parseInt(s.toString(),10)],h=[],c=t.borderWidth,u=2*c,p=t.borderStyle===a.inset||t.borderStyle===a.beveled;p?(h.push(2*u),h.push((s+2)*c+i._metrics._getHeight()*s)):(h.push(u+2),h.push((s+1)*c+i._metrics._getHeight()*s+1));var d=t.foreBrush,f=t.bounds,g=f[2]-u,m=f;m[3]-=p?u:c,e.setClip(m,P.winding);var y=!1,v=o._dictionary.get("I");if(null!==v&&"undefined"!==typeof v&&v.length>0&&v.forEach((function(e){y=y||e===s})),0===t.rotationAngle&&y){var b=f[0]+c;p&&(b+=c,g-=u),d=new oi([153,193,218]),e.drawRectangle(b,h[1],g,i._metrics._getHeight(),d),d=new oi([0,0,0])}var M=l[1]?l[1]:l[0],S=[h[0],h[1],g-h[0],i._metrics._getHeight()];if(t.rotationAngle>0){var w=e.save();if(90===t.rotationAngle)e.translateTransform(0,e._size[1]),e.rotateTransform(-90),m=[b=e._size[1]-(m[1]+m[3]),m[0],m[3]+m[2],m[2]];else if(270===t.rotationAngle){e.translateTransform(e._size[0],0),e.rotateTransform(-270),m=[b=m[1],e._size[0]-(m[0]+m[2]),m[3]+m[2],m[2]]}else if(180===t.rotationAngle){e.translateTransform(e._size[0],e._size[1]),e.rotateTransform(-180),m=[b=e._size[0]-(m[0]+m[2]),e._size[1]-(m[1]+m[3]),m[2],m[3]]}if(y){b=f[0]+c;p&&(b+=c,g-=u),d=new oi([153,193,218]),e.drawRectangle(b,h[1],g,i._metrics._getHeight(),d),d=new oi([0,0,0])}e.drawString(M,i,S,null,d,n),e.restore(w)}else e.drawString(M,i,S,null,d,n)},o=this,l=0;l<r.length;++l)s(l);e._isTemplateGraphics&&t.required&&(e._sw._endMarkupSequence(),e.restore())},t.prototype._getFontHeight=function(e){var t=new We(e,12,de.regular),i=new ee(p.left,Z.middle),n=0;if(this._listValues.length>0){for(var r=t.measureString(this._listValues[0],[0,0],i,0,0)[0],s=1;s<this._listValues.length;++s){var o=t.measureString(this._listValues[Number.parseInt(s.toString(),10)],[0,0],i,0,0)[0];r=r>o?r:o}n=(n=12*(this.bounds.width-4*this.border.width)/r)>12?12:n}return n},t}(ot),ht=function(e){function t(t,i,n){var r=e.call(this)||this;return r._isSigned=!1,t&&i&&n&&r._initialize(t,i,n),r}return et(t,e),Object.defineProperty(t.prototype,"isSigned",{get:function(){return this._isSigned||this._checkSigned(),this._isSigned},enumerable:!0,configurable:!0}),t._load=function(e,i,n,r){var s=new t;return s._isLoaded=!0,s._form=e,s._dictionary=i,s._crossReference=n,s._ref=r,s._dictionary.has("Kids")&&(s._kids=s._dictionary.get("Kids")),s._defaultIndex=0,s._parsedItems=new Map,s},t.prototype._initialize=function(e,t,i){this._crossReference=e._crossReference,this._page=e,this._name=t,this._dictionary=new Yn(this._crossReference),this._ref=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary.objId=this._ref.toString(),this._dictionary.update("FT",Fn.get("Sig")),this._dictionary.update("T",t),this._defaultIndex=0,this._initializeFont(this._defaultFont),this._createItem(i)},t.prototype._createItem=function(e){var t=new Rt;t._create(this._page,e,this),t._dictionary.update("MK",new Yn(this._crossReference)),t._mkDictionary.update("BC",[0,0,0]),t._mkDictionary.update("BG",[1,1,1]),t._dictionary.update("DA",this._fontName+" 8 Tf 0 0 0 rg"),this._addToKid(t)},t.prototype._doPostProcess=function(e){void 0===e&&(e=!1);var t,i=this._setAppearance||this._form._setAppearance;if(!this._isLoaded&&(e||i)&&(t=this._kidsCount)>0)for(var n=0;n<t;n++){if((o=this.itemAt(n))&&o._dictionary&&(i||e&&!o._dictionary.has("AP"))){var r=this._createAppearance(o,e);this._addAppearance(o._dictionary,r,"N")}}if(e)if((t=this._kidsCount)>0){var s=void 0;for(n=0;n<t;n++){var o;if((o=this.itemAt(n))&&o._dictionary){var a=o._getPage();a&&(s||0!==n||(s=this._getItemTemplate(o._dictionary)),this._flattenSignature(o._dictionary,a,o.bounds,s))}}}else this._flattenSignature(this._dictionary,this.page,this.bounds)},t.prototype._createAppearance=function(e,t){var i=e.bounds,n=new $([0,0,i.width,i.height],this._crossReference);en(n,null),n._writeTransformation=!1;var r=n.graphics,s=new qt;s.bounds=[0,0,i.width,i.height];var o=e.backColor;t&&(s.backBrush=new oi(o)),s.foreBrush=new oi(e.color);var a=e.border;s.borderPen=new ai(e.borderColor,a.width),s.borderStyle=a.style,s.borderWidth=a.width;var l=[o[0]-64,o[1]-64,o[2]-64],h=[l[0]>=0?l[0]:0,l[1]>=0?l[1]:0,l[2]>=0?l[2]:0];return s.shadowBrush=new oi(h),s.rotationAngle=e.rotate,r.save(),r._initializeCoordinates(),this._drawRectangularControl(r,s),r.restore(),n},t.prototype._flattenSignature=function(e,t,i,n){var r;if(e.has("AP")){var s=e.get("AP");if(s&&s.has("N")){var o=s.get("N"),a=s.getRaw("N");if(a&&o&&(o.reference=a),o&&(r=n||new $(o,this._crossReference))&&t){var l=(c=t.graphics).save();t.rotation!==h.angle0?c._drawTemplate(r,this._calculateTemplateBounds(i,t,r,c)):c._drawTemplate(r,i),c.restore(l)}}}else if(n&&t){var c;l=(c=t.graphics).save();t.rotation!==h.angle0?c._drawTemplate(r,this._calculateTemplateBounds(i,t,r,c)):c._drawTemplate(r,i),c.restore(l)}},t.prototype._calculateTemplateBounds=function(e,t,i,n){var r=e.x,s=e.y;if(t){var o=this._obtainGraphicsRotation(n._matrix);90===o?(n.translateTransform(i._size[1],0),n.rotateTransform(90),r=e.x,s=-(t._size[1]-e.y-e.height)):180===o?(n.translateTransform(i._size[0],i._size[1]),n.rotateTransform(180),r=-(t._size[0]-(e.x+i._size[0])),s=-(t._size[1]-e.y-i._size[1])):270===o&&(n.translateTransform(0,i._size[0]),n.rotateTransform(270),r=-(t._size[0]-e.x-e.width),s=e.y)}return{x:r,y:s,width:e.width,height:e.height}},t.prototype._obtainGraphicsRotation=function(e){var t=Math.round(180*Math.atan2(e._matrix._elements[2],e._matrix._elements[0])/Math.PI);switch(t){case-90:t=90;break;case-180:t=180;break;case 90:t=270}return t},t.prototype._getItemTemplate=function(e){var t;if(e.has("AP")){var i=e.get("AP");if(i&&i.has("N")){var n=i.get("N"),r=i.getRaw("N");r&&(n.reference=r),n&&(t=new $(n,this._crossReference))}}return t},t.prototype._checkSigned=function(){if(this._dictionary&&this._dictionary.has("V")){var e=this._dictionary.get("V");null!==e&&"undefined"!==typeof e&&e.size>0&&(this._isSigned=!0)}},t}(tt),ct=function(){function e(e){var t,i="",n=0;if(e&&"string"===typeof e&&""!==e)for(var r=e.split(" "),s=0;s<r.length;s++)switch(r[Number.parseInt(s.toString(),10)]){case"g":t=[Number.parseFloat(r[s-1])];break;case"rg":t=[Number.parseFloat(r[s-3]),Number.parseFloat(r[s-2]),Number.parseFloat(r[s-1])];break;case"k":t=[Number.parseFloat(r[s-4]),Number.parseFloat(r[s-3]),Number.parseFloat(r[s-2]),Number.parseFloat(r[s-1])];break;case"Tf":n=Number.parseFloat(r[s-1]),(i=r[s-2].substring(1)).includes("#2C")&&i.replace("#2C",",")}this.fontName=i,this.fontSize=n,this.color="undefined"!==typeof t?Li(t):[0,0,0]}return e.prototype.toString=function(){var e=[Number.parseFloat((this.color[0]/255).toFixed(3)),Number.parseFloat((this.color[1]/255).toFixed(3)),Number.parseFloat((this.color[2]/255).toFixed(3))];return"/"+this.fontName+" "+this.fontSize+" Tf "+e[0].toString()+" "+e[1].toString()+" "+e[2].toString()+" rg"},e}(),ut=function(){function e(e,t){this._dictionary=new Yn,this._annotations=e,this._crossReference=e._crossReference,"undefined"!==typeof t&&(this._bounds=t),this._initialize()}return Object.defineProperty(e.prototype,"normal",{get:function(){return!this._templateNormal&&this._dictionary.has("AP")&&(this._templateNormal=this._dictionary.get("N")),this._templateNormal},set:function(e){e&&(this._templateNormal=e,this._dictionary.set("N",this._templateNormal))},enumerable:!0,configurable:!0}),e.prototype._initialize=function(){this.normal=new $(this._bounds,this._crossReference)},e}(),pt=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),dt=function(){function e(){this._isImported=!1,this._isLoaded=!1,this._setAppearance=!1,this._isExport=!1,this._opacity=1,this._isAllRotation=!0,this._flatten=!1,this._hasData=!1,this._popUpFont=new We(fe.helvetica,10.5),this._authorBoldFont=new We(fe.helvetica,10.5,de.bold),this._lineCaptionFont=new We(fe.helvetica,10,de.regular),this._circleCaptionFont=new We(fe.helvetica,8,de.regular)}return Object.defineProperty(e.prototype,"author",{get:function(){var e;"undefined"===typeof this._author&&this._dictionary.has("Author")&&((e=this._dictionary.get("Author"))&&(this._author=e));"undefined"===typeof this._author&&this._dictionary.has("T")&&((e=this._dictionary.get("T"))&&(this._author=e));return this._author},set:function(e){if(this._isLoaded&&"string"===typeof e&&e!==this.author){var t=!1;this._dictionary.has("T")&&(this._dictionary.update("T",e),this._author=e,t=!0),this._dictionary.has("Author")&&(this._dictionary.update("Author",e),this._author=e,t=!0),t||(this._dictionary.update("T",e),this._author=e)}this._isLoaded||"string"!==typeof e||this._dictionary.update("T",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){if("undefined"===typeof this._border){var e,t=new Yt;if(t._dictionary=this._dictionary,this._dictionary.has("Border"))(e=this._dictionary.getArray("Border"))&&e.length>=3&&(t._hRadius=e[0],t._vRadius=e[1],t._width=e[2]);if(this._dictionary.has("BS"))if(e=this._dictionary.get("BS")){if(e.has("W")){var i=e.get("W");"undefined"===typeof i||Number.isNaN(i)||(t._width=i)}if(e.has("S")){var n=e.get("S");if(n)switch(n.name){case"D":t._style=a.dashed;break;case"B":t._style=a.beveled;break;case"I":t._style=a.inset;break;case"U":t._style=a.underline;break;default:t._style=a.solid}}if(e.has("D")){var r=e.getArray("D");r&&(t._dash=r)}}this._border=t}return this._border},set:function(e){var t,i,n,r,s,o=this.border;if((!this._isLoaded||"undefined"!==typeof e.width&&o.width!==e.width)&&(t=e.width),(!this._isLoaded||"undefined"!==typeof e.hRadius&&o.hRadius!==e.hRadius)&&(i=e.hRadius),(!this._isLoaded||"undefined"!==typeof e.vRadius&&o.vRadius!==e.vRadius)&&(n=e.vRadius),(!this._isLoaded||"undefined"!==typeof e.style&&o.style!==e.style)&&(r=e.style),"undefined"!==typeof e.dash&&o.dash!==e.dash&&(s=e.dash),!this._isWidget&&(this._dictionary.has("Border")||t||n||i)&&(this._border._hRadius="undefined"!==typeof i?i:o.hRadius,this._border._vRadius="undefined"!==typeof n?n:o.vRadius,this._border._width="undefined"!==typeof t?t:o.width,this._dictionary.update("Border",[this._border.hRadius,this._border.vRadius,this._border.width])),this._dictionary.has("BS")||t||r||s){this._border._width="undefined"!==typeof t?t:o.width,this._border._style="undefined"!==typeof r?r:o.style,this._border._dash="undefined"!==typeof s?s:o.dash;var a=this._dictionary.has("BS")?this._dictionary.get("BS"):new Yn(this._crossReference);a.update("Type",Fn.get("Border")),a.update("W",this._border.width),a.update("S",Oi(this._border.style)),"undefined"!==typeof this._border.dash&&a.update("D",this._border.dash),this._dictionary.update("BS",a),this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return"undefined"===typeof this._annotFlags&&(this._annotFlags=n.default,this._dictionary.has("F")&&(this._annotFlags=this._dictionary.get("F"))),this._annotFlags},set:function(e){"undefined"!==typeof e&&e!==this._annotFlags&&(this._annotFlags=e,this._dictionary.update("F",e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return"undefined"===typeof this._color&&this._dictionary.has("C")&&(this._color=Li(this._dictionary.getArray("C"))),this._color},set:function(e){if("undefined"!==typeof e&&3===e.length){var t=this.color;this._isLoaded&&"undefined"!==typeof t&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this._color=e,this._dictionary.update("C",[Number.parseFloat((e[0]/255).toFixed(7)),Number.parseFloat((e[1]/255).toFixed(7)),Number.parseFloat((e[2]/255).toFixed(7))]))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerColor",{get:function(){return"undefined"===typeof this._innerColor&&this._dictionary.has("IC")&&(this._innerColor=Li(this._dictionary.getArray("IC"))),this._innerColor},set:function(e){if("undefined"!==typeof e&&3===e.length){var t=this.innerColor;this._isLoaded&&"undefined"!==typeof t&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this._innerColor=e,this._dictionary.update("IC",[Number.parseFloat((e[0]/255).toFixed(7)),Number.parseFloat((e[1]/255).toFixed(7)),Number.parseFloat((e[2]/255).toFixed(7))]))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"creationDate",{get:function(){if(("undefined"===typeof this._creationDate||null===this._creationDate)&&this._dictionary.has("CreationDate")){var e=this._dictionary.get("CreationDate");null!==e&&"string"===typeof e&&(this._creationDate=this._stringToDate(e))}return this._creationDate},set:function(e){this._creationDate=e,this._dictionary.update("CreationDate",this._dateToString(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modifiedDate",{get:function(){if("undefined"===typeof this._modifiedDate||null===this._modifiedDate){var e=void 0;this._dictionary.has("ModDate")?e=this._dictionary.get("ModDate"):this._dictionary.has("M")&&(e=this._dictionary.get("M")),null!==e&&"string"===typeof e&&(this._modifiedDate=this._stringToDate(e))}return this._modifiedDate},set:function(e){this._modifiedDate=e,this._dictionary.update("M",this._dateToString(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return this._isLoaded&&(this._bounds=Ai(this._dictionary,this._page)),this._bounds},set:function(e){if(e)if(this._isBounds=!0,this._isLoaded){if(e.x!==this.bounds.x||e.y!==this.bounds.y||e.width!==this.bounds.width||e.height!==this.bounds.height){var t=this._page.size;if(t){var i=t[1]-(e.y+e.height),n=i+e.height;this._dictionary.update("Rect",[e.x,i,e.x+e.width,n]),this._bounds=e}}}else this._bounds=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){if("undefined"===typeof this._caption){var e=new Ut;if(e._dictionary=this._dictionary,this._dictionary.has("Cap")&&(e._cap=this._dictionary.get("Cap")),this._dictionary.has("CP")){var t=this._dictionary.get("CP");t&&(e._type="Top"===t.name?o.top:o.inline)}this._dictionary.has("CO")&&(e._offset=this._dictionary.getArray("CO")),this._caption=e}return this._caption},set:function(e){var t=this.caption;e&&(this._isLoaded&&e.cap===t.cap||(this._caption.cap=e.cap),this._isLoaded&&e.type===t.type||(this._caption.type=e.type),this._isLoaded&&e.offset===t.offset||(this._caption.offset=e.offset))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){if(this._dictionary.has("CA")){var e=this._dictionary.get("CA");"undefined"!==typeof e&&(this._opacity=e)}return this._opacity},set:function(e){"undefined"===typeof e||Number.isNaN(e)||(e>=0&&e<=1?(this._dictionary.update("CA",e),this._opacity=e):e<0?this._dictionary.update("CA",0):this._dictionary.update("CA",1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subject",{get:function(){return"undefined"===typeof this._subject&&(this._subject=this._dictionary.get("Subject","Subj")),this._subject},set:function(e){if("string"===typeof e){var t=!1;this._dictionary.has("Subj")&&(this._dictionary.update("Subj",e),this._subject=e,t=!0),t&&!this._dictionary.has("Subject")||(this._dictionary.update("Subject",e),this._subject=e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return"undefined"===typeof this._name&&this._dictionary.has("NM")&&(this._name=this._dictionary.get("NM")),this._name},set:function(e){"string"===typeof e&&(this._dictionary.update("NM",e),this._name=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return"undefined"===typeof this._text&&this._dictionary.has("Contents")&&(this._text=this._dictionary.get("Contents")),this._text},set:function(e){"string"===typeof e&&(this._text=this._dictionary.get("Contents"),e!==this._text&&(this._dictionary.update("Contents",e),this._text=e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationAngle",{get:function(){return"undefined"===typeof this._rotate&&this._dictionary.has("Rotate")&&(this._rotate=this._dictionary.get("Rotate")/90),null!==this._rotate&&"undefined"!==typeof this._rotate||(this._rotate=h.angle0),this._rotate},set:function(e){var t=this.rotationAngle;"undefined"!==typeof e&&"undefined"!==typeof t&&(e=(e+t)%4),this._dictionary.update("Rotate",90*e),this._rotate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){var e=this._getRotationAngle();return e<0&&(e=360+e),e>=360&&(e=360-e),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flattenPopups",{get:function(){return this._isFlattenPopups},set:function(e){"undefined"!==typeof e&&(this._isFlattenPopups=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flatten",{get:function(){return this._flatten},set:function(e){this._flatten=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_hasFlags",{get:function(){return this._dictionary.has("F")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_degreeToRadian",{get:function(){return"undefined"===typeof this._ratio&&(this._ratio=Math.PI/180),this._ratio},enumerable:!0,configurable:!0}),e.prototype.setAppearance=function(e){this._setAppearance=e,e&&(this._dictionary._updated=!0)},e.prototype.getValues=function(e){var t=[];if(!this._dictionary.has(e))throw new Error("PdfException: "+e+" is not found");var i=this._dictionary.get(e);if(Array.isArray(i)){i=this._dictionary.getArray(e);for(var n=0;n<i.length;n++){var r=i[Number.parseInt(n.toString(),10)];r instanceof Fn?t.push(r.name):"string"===typeof r?t.push(r):"number"===typeof r&&t.push(r.toString())}}else if(i instanceof Fn)t.push(i.name);else{if("string"!==typeof i)throw new Error("PdfException: "+e+" is not found");t.push(i)}return t},e.prototype.setValues=function(e,t){e&&""!==e&&t&&""!==t&&this._dictionary.update(e,t)},e.prototype._initialize=function(e,t){this._page=e,this._crossReference=e._crossReference,t&&(this._dictionary=t),this._isLoaded||(this._dictionary.set("P",this._page._ref),this._dictionary.assignXref(this._crossReference))},e.prototype._getRotationAngle=function(){var e=0;return this._dictionary.has("Rotate")?e=this._dictionary.get("Rotate"):this._dictionary.has("Rotation")&&(e=this._dictionary.get("Rotation")),e},e.prototype._getBoundsValue=function(e){var t=e.length,i=[],n=[];if(e&&t>0){for(var r=[],s=0;s<e.length;s++){var o=e[Number.parseInt(s.toString(),10)];r.push(o)}var a=0,l=0;for(s=0;s<r.length;s++)s%2===0?(i[Number.parseInt(a.toString(),10)]=r[Number.parseInt(s.toString(),10)],a++):(n[Number.parseInt(l.toString(),10)]=r[Number.parseInt(s.toString(),10)],l++)}return i.sort((function(e,t){return e>t?1:-1})),n.sort((function(e,t){return e>t?1:-1})),{x:i[0],y:n[0],width:i[i.length-1]-i[0],height:n[n.length-1]-n[0]}},e.prototype._validateTemplateMatrix=function(e,t){var i=!1,n=!0;if(null===t||"undefined"===typeof t){if(e&&e.has("Matrix")){if((c=e.getArray("Matrix"))&&c.length>3&&"undefined"!==typeof c[0]&&"undefined"!==typeof c[1]&&"undefined"!==typeof c[2]&&"undefined"!==typeof c[3]&&1===c[0]&&0===c[1]&&0===c[2]&&1===c[3]){i=!0;var r=0,s=0,o=0,a=0;c.length>4&&(o=-c[4],c.length>5&&(a=-c[5]));var l=void 0;this._dictionary.has("Rect")&&(l=this._dictionary.getArray("Rect"))&&l.length>1&&(r=l[0],s=l[1]),r===o&&s===a||0!==o||0!==a||(this._locationDisplaced=!0)}}else i=!0;return i}var h=this.bounds;if(e&&e.has("Matrix")){var c,u=e.getArray("BBox");if((c=e.getArray("Matrix"))&&u&&c.length>3&&u.length>2&&"undefined"!==typeof c[0]&&"undefined"!==typeof c[1]&&"undefined"!==typeof c[2]&&"undefined"!==typeof c[3]&&1===c[0]&&0===c[1]&&0===c[2]&&1===c[3]&&"undefined"!==typeof u[0]&&"undefined"!==typeof u[1]&&"undefined"!==typeof u[2]&&"undefined"!==typeof u[3]&&(u[0]!==-c[4]&&u[1]!==-c[5]||0===u[0]&&0===-c[4])){var p=this._page.graphics,d=p.save();"undefined"!==typeof this.opacity&&this._opacity<1&&p.setTransparency(this._opacity),h.x-=u[0],h.y+=u[1],p._drawTemplate(t,h),p.restore(d),this._removeAnnotationFromPage(this._page,this),n=!1}}return n},e.prototype._flattenAnnotationTemplate=function(e,t){var i=this._page.graphics,n=this.bounds;if(this._type===x.lineAnnotation&&!this._dictionary.has("AP"))if(n=ji([this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height]),this._page){var r=this._page.size,s=this._page.mediaBox,o=this._page.cropBox;o&&Array.isArray(o)&&4===o.length&&this._page._pageDictionary.has("CropBox")?0===o[0]&&0===o[1]&&r[0]!==o[2]&&r[1]!==o[3]||n.x===o[0]?n.y=r[1]-(n.y+n.height):(n.x-=o[0],n.y=o[3]-(n.y+n.height)):s&&Array.isArray(s)&&4===s.length&&this._page._pageDictionary.has("MediaBox")&&(s[0]>0||s[1]>0||r[0]===s[2]||r[1]===s[3])?(n.x-=s[0],n.y=s[3]-(n.y+n.height)):n.y=r[1]-(n.y+n.height)}else n.y=n.y+n.height;if("undefined"!==typeof n&&null!==n){var a=i.save();if(this._page._needInitializeGraphics=!0,this._type===x.rubberStampAnnotation){var l=!0;if(this._dictionary.has("AP")){var c=this._dictionary.get("AP");if(c&&c.has("N")){var u=c.get("N");if(this.rotate===h.angle270&&this._page.rotation===h.angle270&&u.dictionary.has("Matrix"))(f=u.dictionary.getArray("Matrix"))&&6===f.length&&0===f[4]&&0!==f[5]&&(l=!1)}!t&&this.rotate!==h.angle180&&l&&(e._isAnnotationTemplate=!0,e._needScale=!0)}}t||this._type===x.rubberStampAnnotation||(e._isAnnotationTemplate=!0,e._needScale=!0),"undefined"!==typeof this.opacity&&this._opacity<1&&i.setTransparency(this._opacity);var p=this._calculateTemplateBounds(n,this._page,e,t,i);if(this._type===x.rubberStampAnnotation){var d;r=void 0;this.rotate===h.angle0?(r=[p.width,p.height],d=[p.x,p.y]):(r=e._size,d=[p.x,p.y]);var f,g=!1;if(this.rotate!==h.angle0&&e._content)if(e._content.dictionary.has("Matrix"))(f=e._content.dictionary.getArray("Matrix"))&&6===f.length&&0===f[4]&&0!==f[5]&&(g=!0);var m=e._size[0]>0?p.width/e._size[0]:1,y=e._size[1]>0?p.height/e._size[1]:1;l=!(1===m&&1===y);this.rotate!==h.angle0&&g&&(this.rotate===h.angle90?this._page.rotation===h.angle270?!l||0===p.x&&0===p.y?(d[0]+=r[1],d[1]+=r[0]-r[1]+(r[0]-r[1])):(d[0]+=r[0]-r[1],d[1]+=r[0]):l||(d[0]+=r[1]):this.rotate===h.angle270?this._page.rotation===h.angle270?l&&e._isAnnotationTemplate?d[1]=p.y-p.width:l&&(d[1]+=r[0]-r[1]):l||0===p.x&&0===p.y?d[1]+=-(r[0]-r[1]):d[1]+=-r[0]:this.rotate===h.angle180&&(d[0]+=r[0],d[1]+=-r[1]))}i._drawTemplate(e,p),i.restore(a)}this._removeAnnotationFromPage(this._page,this)},e.prototype._calculateTemplateBounds=function(e,t,i,n,r){var s=e,o=e.x,a=e.y,l=e.width,c=e.height;if(!n){var u=this._dictionary.getArray("Rect");u&&(s=ji(u))}if("undefined"!==typeof t){var p=this._obtainGraphicsRotation(r._matrix);if(90===p)r.translateTransform(i._size[1],0),r.rotateTransform(90),n||"undefined"!==typeof this._rotate&&this._rotate===h.angle180?(o=e.x,a=this._locationDisplaced?t._origin&&0!==t._o[1]?e.y+e.height:-(t.size[1]-(e.height+e.y)+(e.height-i._size[1])):-(t.size[1]-e.y-e.height)):(o=e.x,a=-(t.size[1]-(e.height+e.y)+(e.width-i._size[1])),l=e.height,c=e.width);else if(180===p)r.translateTransform(i._size[0],i._size[1]),r.rotateTransform(180),n?(o=-(t.size[0]-(e.x+e.width)),a=-(t.size[1]-e.y-e.height)):(o=-(t.size[0]-(e.x+i._size[0])),a=-(t.size[1]-e.y-i._size[1]),"undefined"===typeof this.rotationAngle||this._rotate!==h.angle90&&this._rotate!==h.angle270||(a=-(t.size[1]-e.y-i._size[1])-(e.width-e.height),l=e.height,c=e.width));else if(270===p)if(r.translateTransform(0,i._size[0]),r.rotateTransform(270),n||"undefined"!==typeof this.rotationAngle&&this._rotate===h.angle180)o=-(t.size[0]-e.x-e.width),a=e.y;else{o=-(t.size[0]-s.x-i._size[0]);var d=i._content.dictionary.getArray("Matrix"),f=i._content.dictionary.getArray("BBox");a=d&&f&&d[5]!==f[2]?e.y-(e.height-e.width):e.y+e.height-e.width,l=e.height,c=e.width}else 0===p&&(n||"undefined"===typeof this.rotationAngle||this.rotationAngle!==h.angle90&&this.rotationAngle!==h.angle270||(o=e.x,a=e.y+e.height-e.width,l=e.height,c=e.width))}return{x:o,y:a,width:l,height:c}},e.prototype._obtainGraphicsRotation=function(e){var t=Math.atan2(e._matrix._elements[2],e._matrix._elements[0]),i=Math.round(180*t/Math.PI);switch(i){case-90:i=90;break;case-180:i=180;break;case 90:i=270}return i},e.prototype._removeAnnotationFromPage=function(e,t){var i=[];e._pageDictionary&&e._pageDictionary.has("Annots")&&(i=e._pageDictionary.get("Annots")),t._dictionary.set("P",e._ref);var n=i.indexOf(t._ref);-1!==n&&(i.splice(n,1),this._crossReference._cacheMap.has(t._ref)&&this._crossReference._cacheMap.delete(t._ref)),e._pageDictionary.set("Annots",i)},e.prototype._removeAnnotation=function(e,t){e&&t&&(this._removeAnnotationFromPage(e,t),e._pageDictionary._updated=!0)},e.prototype._drawCloudStyle=function(e,t,i,n,r,s,o){if(this._isClockWise(s)){for(var a=[],l=s.length-1;l>=0;l--)a.push(s[Number.parseInt(l.toString(),10)]);s=a}var h=[],c=2*n*r,u=s[s.length-1];for(l=0;l<s.length;l++){var p=s[Number.parseInt(l.toString(),10)],d=p[0]-u[0],f=p[1]-u[1],g=Math.sqrt(d*d+f*f);d/=g,f/=g;for(var m=0;m+.1*c<g;m+=c){var y=new Gt;y.point=[u[0]+m*d,u[1]+m*f],h.push(y)}u=p}var v=h[h.length-1];for(l=0;l<h.length;l++){var b=h[Number.parseInt(l.toString(),10)],M=this._getIntersectionDegrees(v.point,b.point,n);v.endAngle=M[0],b.startAngle=M[1],v=b}var S=new Ze;for(l=0;l<h.length;l++){var w=(D=h[Number.parseInt(l.toString(),10)]).startAngle%360,_=D.endAngle%360,I=0;if(w>0&&_<0)I=180-w+(180-(_<0?-_:_));else if(w<0&&_>0)I=-w+_;else if(w>0&&_>0){I=w>_?360-(w-_):_-w}else if(w<0&&_<0){I=w>_?360-(w-_):-(w+-_)}I<0&&(I=-I),D.endAngle=I,S._addArc(D.point[0]-n,D.point[1]-n,2*n,2*n,w,I)}S._closeFigure();var N,C=[];if(o)for(l=0;l<S._points.length;l++)C.push([S._points[Number.parseInt(l.toString(),10)][0],-S._points[Number.parseInt(l.toString(),10)][1]]);o?((N=new Ze)._points=C,N._pathTypes=S._pathTypes):((N=new Ze)._points=S._points,N._pathTypes=S._pathTypes),null!==t&&e._drawPath(N,null,t);var x=180/(3*Math.PI);S=new Ze;for(l=0;l<h.length;l++){var D=h[Number.parseInt(l.toString(),10)];S._addArc(D.point[0]-n,D.point[1]-n,2*n,2*n,D.startAngle,D.endAngle+x)}if(S._closeFigure(),C=[],o)for(l=0;l<S._points.length;l++)C.push([S._points[Number.parseInt(l.toString(),10)][0],-S._points[Number.parseInt(l.toString(),10)][1]]);o?((N=new Ze)._points=C,N._pathTypes=S._pathTypes):((N=new Ze)._points=S._points,N._pathTypes=S._pathTypes),e._drawPath(N,i,null)},e.prototype._isClockWise=function(e){for(var t=0,i=0;i<e.length;i++){var n=e[Number.parseInt(i.toString(),10)],r=e[(i+1)%e.length];t+=(r[0]-n[0])*(r[1]+n[1])}return t>0},e.prototype._getIntersectionDegrees=function(e,t,i){var n=t[0]-e[0],r=t[1]-e[1],s=.5*Math.sqrt(n*n+r*r)/i;s<-1?s=-1:s>1&&(s=1);var o=Math.atan2(r,n),a=Math.acos(s);return[(o-a)*(180/Math.PI),(Math.PI+o+a)*(180/Math.PI)]},e.prototype._obtainStyle=function(e,t,i,n){var r=this.border.dash;if(r&&r.length>0){for(var s=[],o=!1,h=0;h<r.length;h++)s[Number.parseInt(h.toString(),10)]=r[Number.parseInt(h.toString(),10)],s[Number.parseInt(h.toString(),10)]>0&&(o=!0);o&&this.border.style===a.dashed&&(e._dashStyle=R.dash,e._dashPattern=s)}if(n)if(n instanceof qt){var c;if(!this._isBounds&&this._dictionary.has("RD"))(c=this._dictionary.getArray("RD"))&&(t[0]=t[0]+c[0],t[1]=t[1]+i+c[1],t[2]=t[2]-(c[0]+c[2]),t[3]=t[3]-(c[1]+c[3]));else t[0]=t[0]+i,t[1]=t[1]+i,t[2]=t[2]-this.border.width,t[3]=t[3]-this.border.width;n.bounds=t}else if(0!==n.intensity&&n.style===l.cloudy){var u=5*n.intensity;t[0]=t[0]+u+i,t[1]=t[1]+u+i,t[2]=t[2]-2*u-2*i,t[3]=t[3]-2*u-2*i}else t[0]=t[0]+i,t[1]=t[1]+i,t[2]=t[2]-this.border.width,t[3]=this.bounds.height-this.border.width;else!this._isBounds&&this._dictionary.has("RD")?(c=this._dictionary.getArray("RD"))&&(t[0]=t[0]+c[0],t[1]=t[1]+i+c[1],t[2]=t[2]-2*c[2],t[3]=t[3]-this.border.width,t[3]=t[3]-2*c[3]):(t[1]=t[1]+i,t[3]=this.bounds.height-this.border.width);return t},e.prototype._createRectangleAppearance=function(e){var t=this.border.width,i=this._dictionary.getArray("RD");if(!i&&0!==e.intensity&&e.style===l.cloudy){var n={x:this.bounds.x-5*e.intensity-t/2,y:this.bounds.y-5*e.intensity-t/2,width:this.bounds.width+10*e.intensity+t,height:this.bounds.height+10*e.intensity+t};i=[(r=5*e.intensity)+t/2,r+t/2,r+t/2,r+t/2],this._dictionary.set("RD",i),this.bounds=n}if(!this._isBounds&&i){n={x:this.bounds.x+i[0],y:this.bounds.y+i[1],width:this.bounds.width-2*i[2],height:this.bounds.height-2*i[3]};if(0!==e.intensity&&e.style===l.cloudy){n.x=n.x-5*e.intensity-t/2,n.y=n.y-5*e.intensity-t/2,n.width=n.width+10*e.intensity+t,n.height=n.height+10*e.intensity+t;var r=5*e.intensity;this._dictionary.set("RD",[r+t/2,r+t/2,r+t/2,r+t/2])}else delete this._dictionary._map.RD;this.bounds=n}var s=t/2,o=[0,0,this.bounds.width,this.bounds.height],a=new $(o,this._crossReference);en(a,this._getRotationAngle()),0!==e.intensity&&e.style===l.cloudy&&(a._writeTransformation=!1);var h=a.graphics,c=new qt;this.innerColor&&(c.backBrush=new oi(this._innerColor)),t>0&&this.color&&(c.borderPen=new ai(this._color,t)),this.color&&(c.foreBrush=new oi(this._color));var u=this._obtainStyle(c.borderPen,o,s,e);return"undefined"!==typeof this.opacity&&this._opacity<1&&(h.save(),h.setTransparency(this._opacity)),0!==e.intensity&&e.style===l.cloudy?this._drawRectangleAppearance(u,h,c,e.intensity):h.drawRectangle(u[0],u[1],u[2],u[3],c.borderPen,c.backBrush),"undefined"!==typeof this.opacity&&this._opacity<1&&h.restore(),a},e.prototype._drawRectangleAppearance=function(e,t,i,n){var r=new Ze;r._addRectangle(e[0],e[1],e[2],e[3]);var s=4.25*n;if(s>0){for(var o=[],a=0;a<r._points.length;a++){var l=[r._points[Number.parseInt(a.toString(),10)][0],-r._points[Number.parseInt(a.toString(),10)][1]];o.push(l)}(r=new Ze)._addPolygon(o),this._drawCloudStyle(t,i.backBrush,i.borderPen,s,.833,r._points,!1)}else t.drawRectangle(e[0],e[1],e[2],e[3],i.borderPen,i.backBrush)},e.prototype._createCircleAppearance=function(){var e=[0,0,this.bounds.width,this.bounds.height],t=new $(e,this._crossReference);en(t,this._getRotationAngle()),this._dictionary.has("BE")&&(t._writeTransformation=!1);var i=t.graphics,n=this.border.width,r=new ai(this.color,n),s=new qt;this.innerColor&&(s.backBrush=new oi(this._innerColor)),n>0&&(s.borderPen=r),this.color&&(s.foreBrush=new oi(this._color)),s.borderWidth=n;var o=n/2,a=this._obtainStyle(r,e,o);return"undefined"!==typeof this.opacity&&this._opacity<1&&(i.save(),i.setTransparency(this._opacity)),this._dictionary.has("BE")?this._drawCircleAppearance(a,o,i,s):i.drawEllipse(a[0]+o,a[1],a[2]-n,a[3],s.borderPen,s.backBrush),"undefined"!==typeof this._opacity&&this._opacity<1&&i.restore(),t},e.prototype._drawCircleAppearance=function(e,t,i,n){var r=0;if(this._dictionary.has("RD")){var s=this._dictionary.getArray("RD");s&&s.length>0&&(r=s[0])}if(r>0){var o=[e[0]+t,-e[1]-e[3],e[2]-this.border.width,e[3]],a=o[0],l=o[1],h=o[0]+o[2],c=o[1]+o[3],u=[];u.push([h,c]),u.push([a,c]),u.push([a,l]),u.push([h,l]);var p=[];p.push([h,l+o[3]/2]),p.push([a+o[2]/2,c]),p.push([a,l+o[3]/2]),p.push([a+o[2]/2,l]);var d=[];d.push([a+o[2]/2,c]),d.push([a,l+o[3]/2]),d.push([a+o[2]/2,l]),d.push([h,l+o[3]/2]);for(var f=[],g=0;g<u.length;g++)this._createBezier(p[Number.parseInt(g.toString(),10)],u[Number.parseInt(g.toString(),10)],d[Number.parseInt(g.toString(),10)],f);this._drawCloudStyle(i,n.backBrush,n.borderPen,r,.833,f,!1)}else i.drawEllipse(e[0]+t,-e[1],e[2]-this.border.width,-e[3],n.borderPen,n.backBrush)},e.prototype._createBezier=function(e,t,i,n){n.push(e),this._populateBezierPoints(e,t,i,0,n),n.push(i)},e.prototype._populateBezierPoints=function(e,t,i,n,r){if(n<2){var s=this._midPoint(e,t),o=this._midPoint(t,i),a=this._midPoint(s,o);n++,this._populateBezierPoints(e,s,a,n,r),r.push(a),this._populateBezierPoints(a,o,i,n,r)}},e.prototype._midPoint=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]},e.prototype._getAngle=function(e){var t=e[0],i=e[1],n=e[2],r=e[3],s=0;if(n-t===0)s=r>i?90:270;else{var o=(r-i)/(n-t);s=Math.atan(o)*(180/Math.PI),(n-t<0||r-i<0)&&(s+=180),n-t>0&&r-i<0&&(s-=180),s<0&&(s+=360)}return s},e.prototype._getAxisValue=function(e,t,i){return[e[0]+Math.cos(t*this._degreeToRadian)*i,e[1]+Math.sin(t*this._degreeToRadian)*i]},e.prototype._drawLineEndStyle=function(e,t,i,n,s,o,a,l){var h,c,u,p,d,f,g,m;switch(o){case r.square:t.drawRectangle(e[0]-3*a,-(e[1]+3*a),6*a,6*a,n,s);break;case r.circle:t.drawEllipse(e[0]-3*a,-(e[1]+3*a),6*a,6*a,n,s);break;case r.openArrow:h=l?30:150,c=9*a,u=this._getAxisValue(e,i,l?a:-a),p=this._getAxisValue(u,i+h,c),d=this._getAxisValue(u,i-h,c),(m=new Ze)._pen=n,m._addLine(u[0],-u[1],p[0],-p[1]),m._addLine(u[0],-u[1],d[0],-d[1]),t._stateControl(n,null,null),t._buildUpPath(m._points,m._pathTypes),t._drawGraphicsPath(n,null,m._fillMode,!1);break;case r.closedArrow:h=l?30:150,c=9*a,u=this._getAxisValue(e,i,l?a:-a),p=this._getAxisValue(u,i+h,c),d=this._getAxisValue(u,i-h,c),t.drawPolygon([[u[0],-u[1]],[p[0],-p[1]],[d[0],-d[1]]],n,s);break;case r.rOpenArrow:h=l?150:30,c=9*a,u=this._getAxisValue(e,i,l?-a:a),p=this._getAxisValue(u,i+h,c),d=this._getAxisValue(u,i-h,c),(m=new Ze)._pen=n,m._addLine(u[0],-u[1],p[0],-p[1]),m._addLine(u[0],-u[1],d[0],-d[1]),t._stateControl(n,null,null),t._buildUpPath(m._points,m._pathTypes),t._drawGraphicsPath(n,null,m._fillMode,!1);break;case r.rClosedArrow:h=l?150:30,c=9*a,u=this._getAxisValue(e,i,l?-a:a),p=this._getAxisValue(u,i+h,c),d=this._getAxisValue(u,i-h,c),t.drawPolygon([[u[0],-u[1]],[p[0],-p[1]],[d[0],-d[1]]],n,s);break;case r.slash:c=9*a,p=this._getAxisValue(u,i+60,c),d=this._getAxisValue(u,i-120,c),t.drawLine(n,e[0],-e[1],p[0],-p[1]),t.drawLine(n,e[0],-e[1],d[0],-d[1]);break;case r.diamond:c=3*a,p=this._getAxisValue(e,180,c),d=this._getAxisValue(e,90,c),f=this._getAxisValue(e,0,c),g=this._getAxisValue(e,-90,c),t.drawPolygon([[p[0],-p[1]],[d[0],-d[1]],[f[0],-f[1]],[g[0],-g[1]]],n,s);break;case r.butt:c=3*a,p=this._getAxisValue(e,i+90,c),d=this._getAxisValue(e,i-90,c),t.drawLine(n,p[0],-p[1],d[0],-d[1])}},e.prototype._drawLineStyle=function(e,t,i,n,r,s,o,a){0===a&&(a=1,r=null),this._drawLineEndStyle(e,i,n,r,s,o.begin,a,!0),this._drawLineEndStyle(t,i,n,r,s,o.end,a,!1)},e.prototype._obtainFontDetails=function(){var e,t="",i=de.regular;if(this._dictionary.has("DS")||this._dictionary.has("DA")){var n=void 0;if(this._dictionary.has("DS"))for(var r=this._dictionary.get("DS").split(";"),s=0;s<r.length;s++){var o=r[Number.parseInt(s.toString(),10)].split(":");if(-1!==r[Number.parseInt(s.toString(),10)].indexOf("font-family"))t=o[1];else if(-1!==r[Number.parseInt(s.toString(),10)].indexOf("font-size"))o[1].endsWith("pt")&&(e=Number.parseFloat(o[1].replace("pt","")));else if(-1!==r[Number.parseInt(s.toString(),10)].indexOf("font-style")||-1!==r[Number.parseInt(s.toString(),10)].indexOf("style"))n=r[Number.parseInt(s.toString(),10)];else if(-1!==r[Number.parseInt(s.toString(),10)].indexOf("font")){for(var a=o[1].split(" "),l=0;l<a.length;l++)""===a[Number.parseInt(l.toString(),10)]||a[Number.parseInt(l.toString(),10)].endsWith("pt")||(t+=a[Number.parseInt(l.toString(),10)]+" "),a[Number.parseInt(l.toString(),10)].endsWith("pt")&&(e=Number.parseFloat(a[Number.parseInt(l.toString(),10)].replace("pt","")));for(;" "!==t&&t.endsWith(" ");)t=t.substring(0,t.length-1);-1!==t.indexOf(",")&&(t=t.split(",")[0])}}else{var h=this._dictionary.get("DA");if(h&&""!==h&&-1!==h.indexOf("Tf")){var c=h.split(" ");for(s=0;s<c.length;s++)if(-1!==c[Number.parseInt(s.toString(),10)].indexOf("Tf")){for(t=c[s-2];""!==t&&t.length>1&&"/"===t[0];)t=t.substring(1);e=Number.parseFloat(c[s-1])}}}if(n&&""!==n){var u=void 0;n.includes(":")?u=n.split(":"):n.includes(",")&&(u=n.split(",")),u&&u.forEach((function(e){switch(e.toLowerCase()){case"bold":i|=de.bold;break;case"italic":i|=de.italic;break;case"strikeout":i|=de.strikeout;break;case"underline":i|=de.underline}}))}t&&(t=t.trim())}return{name:t,size:e,style:i}},e.prototype._obtainFont=function(){var e=this._obtainFontDetails();return kn(e.name,e.size,e.style,this)},e.prototype._getEqualPdfGraphicsUnit=function(e,t){var i;switch(e){case f.inch:i=D.inch,t="in";break;case f.centimeter:i=D.centimeter,t="cm";break;case f.millimeter:i=D.millimeter,t="mm";break;case f.pica:i=D.pica,t="p";break;case f.point:i=D.point,t="pt";break;default:i=D.inch,t="in"}return{graphicsUnit:i,unitString:t}},e.prototype._createMeasureDictionary=function(e){var t=new Yn;t.set("C",1),t.set("D",100),t.set("F",Fn.get("D")),t.set("RD","."),t.set("RT",""),t.set("SS",""),t.set("U",e);var i=new Yn;i.set("C",1),i.set("D",100),i.set("F",Fn.get("D")),i.set("RD","."),i.set("RT",""),i.set("SS",""),i.set("U","sq "+e);var n=new Yn;"in"===e?n.set("C",.0138889):"cm"===e?n.set("C",.0352778):"mm"===e?n.set("C",.352778):"pt"===e?n.set("C",1):"p"===e&&n.set("C",.0833333),n.set("D",100),n.set("F",Fn.get("D")),n.set("RD","."),n.set("RT",""),n.set("SS",""),n.set("U",e);var r=new Yn;return r.set("A",[i]),r.set("D",[t]),r.set("R","1 "+e+" = 1 "+e),r.set("Type",Fn.get("Measure")),r.set("X",[n]),r},e.prototype._colorToHex=function(e){return e?"#"+this._componentToHex(e[0])+this._componentToHex(e[1])+this._componentToHex(e[2]):"#"+this._componentToHex(0)+this._componentToHex(0)+this._componentToHex(0)},e.prototype._componentToHex=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},e.prototype._getRotatedBounds=function(e,t){if(e.width>0&&e.height>0){var i=new ii;i._rotate(t);var n=[];n.push([e.x,e.y]),n.push([e.x+e.width,e.y]),n.push([e.x+e.width,e.y+e.height]),n.push([e.x,e.y+e.height]);for(var r=0;r<n.length;r++)n[Number.parseInt(r.toString(),10)]=i._matrix._transform(n[Number.parseInt(r.toString(),10)]);var s=new Ze;s._addRectangle(e.x,e.y,e.width,e.height);for(r=0;r<4;r++)s._points[Number.parseInt(r.toString(),10)]=n[Number.parseInt(r.toString(),10)];var o=n[0][0],a=n[3][0],l=n[0][1],h=n[3][1];for(r=0;r<4;r++)n[Number.parseInt(r.toString(),10)][0]<o&&(o=n[Number.parseInt(r.toString(),10)][0]),n[Number.parseInt(r.toString(),10)][0]>a&&(a=n[Number.parseInt(r.toString(),10)][0]),n[Number.parseInt(r.toString(),10)][1]<l&&(l=n[Number.parseInt(r.toString(),10)][1]),n[Number.parseInt(r.toString(),10)][1]>h&&(h=n[Number.parseInt(r.toString(),10)][1]);return{x:e.x,y:e.y,width:a-o,height:h-l}}return e},e.prototype._flattenPopUp=function(){this._flattenPop(this._page,this.color,this.bounds,this.border,this.author,this.subject,this.text)},e.prototype._flattenPop=function(e,t,i,n,r,s,o){var a,l=i,h=[(a=e.size)[0]-180,l.y+142<a[1]?l.y:a[1]-142,180,142];if(this._dictionary.has("Popup")&&this._dictionary.get("Popup")){var c=this._dictionary.getArray("Rect");if(c&&4===c.length){var u=c[0],p=c[1];h=[u,p,c[2]-u,c[3]-p]}}"undefined"===typeof t&&(t=[0,0,0]);var d=new oi(t),f=n.width/2,g=new ai([0,0,0],1),m=0,y=new oi(this._getForeColor(t));if("undefined"!==typeof r&&null!==r&&""!==r)m=this._drawAuthor(r,s,h,d,y,e,m,n);else if("undefined"!==typeof s&&null!==s&&""!==s){var v=[h[0]+f,h[1]+f,h[2]-n.width,40];this._saveGraphics(e,O.hardLight),e.graphics.drawRectangle(v[0],v[1],v[2],v[3],g,d),e.graphics.restore();var b=[v[0]+11,v[1],v[2],v[3]/2];b=[b[0],b[1]+b[3]-2,b[2],v[3]/2],this._saveGraphics(e,O.normal),this._drawSubject(s,b,e),e.graphics.restore(),m=40}else{this._saveGraphics(e,O.hardLight);v=[h[0]+f,h[1]+f,h[2]-n.width,20];e.graphics.drawRectangle(v[0],v[1],v[2],v[3],g,d),m=20,e.graphics.restore()}var M=[h[0]+f,h[1]+f+m,h[2]-n.width,h[3]-(m+n.width)];this._saveGraphics(e,O.hardLight),e.graphics.drawRectangle(M[0],M[1],M[2],M[3],new ai([0,0,0],1),new oi([255,255,255])),M[0]+=11,M[1]+=5,M[2]-=22,e.graphics.restore(),this._saveGraphics(e,O.normal),"undefined"!==typeof o&&null!==o&&""!==o&&e.graphics.drawString(o,this._popUpFont,M,null,new oi([0,0,0]),null),e.graphics.restore()},e.prototype._flattenLoadedPopUp=function(){var e="";this._dictionary.has("Contents")&&(e=this._dictionary.get("Contents"));var t=this.author,i=this.subject,n=new ai([0,0,0],1);if(this._dictionary.has("Popup")){var r=this._getRectangleBoundsValue();"undefined"===typeof this.color&&(this.color=[0,0,0]);var s=new oi(this.color),o=this.border.width/2,a=0,l=new oi(this._getForeColor(this.color));if("undefined"!==typeof this.author&&null!==this.author&&""!==this.author)a=this._drawAuthor(this.author,this.subject,r,s,l,this._page,a,this.border);else if("undefined"!==typeof this.subject&&null!==this.subject&&""!==this.subject){var h=[r[0]+o,r[1]+o,r[2]-this.border.width,40];this._saveGraphics(this._page,O.hardLight),this._page.graphics.drawRectangle(h[0],h[1],h[2],h[3],n,s),this._page.graphics.restore();var c=[h[0]+11,h[1],h[2],h[3]/2];c=[c[0],c[1]+c[3]-2,c[2],h[3]/2],this._saveGraphics(this._page,O.normal),this._drawSubject(this.subject,c,this._page),a=40,this._page.graphics.restore()}else{this._saveGraphics(this._page,O.hardLight);h=[r[0]+o,r[1]+o,r[2]-this.border.width,20];this._page.graphics.drawRectangle(h[0],h[1],h[2],h[3],n,s),a=20,this._page.graphics.restore()}this._saveGraphics(this._page,O.hardLight);var u=[r[0]+o,r[1]+o+a,r[2]-this.border.width,r[3]-(a+this.border.width)];this._page.graphics.drawRectangle(u[0],u[1],u[2],u[3],n,new oi([255,255,255])),u[0]+=11,u[1]+=5,u[2]-=22,this._page.graphics.restore(),this._saveGraphics(this._page,O.normal),this._page.graphics.restore(),"undefined"!==typeof e&&null!==e&&""!==e&&this._page.graphics.drawString(e,this._popUpFont,u,null,new oi([0,0,0]),null),this._page.graphics.restore(),this._removeAnnotationFromPage(this._page,this)}else this._flattenPop(this._page,this.color,this.bounds,this.border,t,i,e),this._removeAnnotationFromPage(this._page,this)},e.prototype._getRectangleBoundsValue=function(){if(this._dictionary.has("Popup")){var e=this._dictionary.get("Popup").getArray("Rect");return null!==e?(null!==this._page?0===e[1]&&0===e[3]?e[1]=e[1]+e[3]:e[1]=this._page._size[1]-(e[1]+e[3]):e[1]=e[1]-e[3],e):[0,0,0,0]}return[0,0,0,0]},e.prototype._getForeColor=function(e){return(e[0]+e[1]+e[2])/3>128?[0,0,0]:[255,255,255]},e.prototype._drawAuthor=function(e,t,i,n,r,s,o,a){var l=this.border.width/2,h=new ai([0,0,0],1),c=new ee(p.left,Z.middle),u=[i[0]+l,i[1]+l,i[2]-a.width,20];if("undefined"!==typeof t&&null!==t&&""!==t){u[3]+=20,o=u[3],this._saveGraphics(s,O.hardLight),s.graphics.drawRectangle(u[0],u[1],u[2],u[3],h,n),s.graphics.restore();var d=[u[0]+11,u[1],u[2],u[3]/2];this._saveGraphics(this._page,O.normal),s.graphics.drawString(e,this._authorBoldFont,d,null,r,c),d=[d[0],d[1]+d[3]-2,d[2],u[3]/2],this._drawSubject(t,d,s),s.graphics.restore()}else{this._saveGraphics(s,O.hardLight),s.graphics.drawRectangle(u[0],u[1],u[2],u[3],h,n),s.graphics.restore();d=[u[0]+11,u[1],u[2],u[3]];this._saveGraphics(s,O.normal),s.graphics.drawString(e,this._popUpFont,d,null,r,c),o=u[3],s.graphics.restore()}return o},e.prototype._drawSubject=function(e,t,i){var n=new ee(p.left,Z.middle);i.graphics.drawString(e,this._authorBoldFont,t,null,new oi([0,0,0]),n)},e.prototype._saveGraphics=function(e,t){e.graphics.save(),e.graphics.setTransparency(.8,.8,t)},e.prototype._getBorderColorString=function(e){return(e[0]/255).toFixed(3)+" "+(e[1]/255).toFixed(3)+" "+(e[2]/255).toFixed(3)+" rg "},e.prototype._stringToDate=function(e){var t=new Date;if("D"===e[0]&&":"===e[1]){var i=e.substring(2,6),n=e.substring(6,8),r=e.substring(8,10),s=e.substring(10,12),o=e.substring(12,14),a=e.substring(14,16),l=0;if(23===e.length){var h=e.substring(16,22);if("+05'30'"!==h){var c=h[0],u=h.substring(1,3),p=h.substring(4,6);l=5.5-("-"===c?-1:1)*(parseInt(u,10)+parseInt(p,10)/60)}}t=new Date(i+"-"+n+"-"+r+"T"+s+":"+o+":"+a),0!==l&&t.setTime(t.getTime()+60*l*60*1e3)}else if(-1!==e.indexOf("/")){var d=e.split("/");i=d[2].split(" ")[0];"10"!==(n=d[0])&&"11"!==n&&"12"!==n&&(n="0"+n);r=d[1],s=d[2].split(" ")[1].split(":")[0],o=d[2].split(" ")[1].split(":")[1],a=d[2].split(" ")[1].split(":")[2];t=new Date(i+"-"+n+"-"+r+"T"+s+":"+o+":"+a)}else t=new Date(e);return t},e.prototype._dateToString=function(e){var t=(e.getMonth()+1).toString();"10"!==t&&"11"!==t&&"12"!==t&&(t="0"+t);var i=e.getDate().toString();Number.parseInt(i)<10&&(i="0"+i);var n=e.getHours().toString();Number.parseInt(n)<10&&(n="0"+n);var r=e.getMinutes().toString();Number.parseInt(r)<10&&(r="0"+r);var s=e.getSeconds().toString();return Number.parseInt(s)<10&&(s="0"+s),"D:"+e.getFullYear().toString()+t+i+n+r+s+"+05'30'"},e.prototype._obtainNativeRectangle=function(){var e,t=[this._bounds.x,this._bounds.y,this.bounds.x+this._bounds.width,this.bounds.y+this._bounds.height];if(this._page){var i=this._page.size;t[1]=i[1]-t[3];var n=this._page.cropBox;if(n&&bi(n,[0,0,0,0]))e=n;else{var r=this._page.mediaBox;r&&bi(r,[0,0,0,0])&&(e=r)}e&&e.length>2&&(0!==e[0]||0!==e[1])&&(t[0]+=e[0],t[1]+=e[1])}return t},e}(),ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pt(t,e),Object.defineProperty(t.prototype,"comments",{get:function(){return this._comments?this._comments:this._comments=new Xt(this,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reviewHistory",{get:function(){return this._reviewHistory?this._reviewHistory:this._reviewHistory=new Xt(this,!0)},enumerable:!0,configurable:!0}),t}(dt),gt=function(e){function t(t){var i=e.call(this)||this;return i._unit=f.centimeter,i._unitString="",i._dictionary=new Yn,i._dictionary.update("Type",Fn.get("Annot")),i._dictionary.update("Subtype",Fn.get("Line")),"undefined"!==typeof t&&(i.linePoints=t),i._type=x.lineAnnotation,i}return pt(t,e),Object.defineProperty(t.prototype,"linePoints",{get:function(){if("undefined"===typeof this._linePoints&&this._dictionary.has("L")){var e=this._dictionary.getArray("L");e&&(this._linePoints=e)}return this._linePoints},set:function(e){if(Array.isArray(e)&&("undefined"===typeof this._linePoints||bi(e,this._linePoints))){if(4!==e.length)throw new Error("Line points length should be 4.");this._dictionary.update("L",e),this._linePoints=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leaderExt",{get:function(){if("undefined"===typeof this._leaderExt&&this._dictionary.has("LLE")){var e=this._dictionary.get("LLE");"undefined"!==typeof e&&e>=0&&(this._leaderExt=e)}return this._leaderExt},set:function(e){if(!Number.isNaN(e)){if(!(e>=0))throw new Error("LeaderExt should be non negative number");this._dictionary.update("LLE",e),this._leaderExt=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leaderLine",{get:function(){if("undefined"===typeof this._leaderLine&&this._dictionary.has("LL")){var e=this._dictionary.get("LL");"undefined"!==typeof e&&(this._leaderLine=e)}return this._leaderLine},set:function(e){Number.isNaN(e)||0===this.leaderExt||(this._dictionary.update("LL",e),this._leaderLine=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineEndingStyle",{get:function(){if("undefined"===typeof this._lineEndingStyle){var e=new Ht;if(e._dictionary=this._dictionary,this._dictionary.has("LE")){var t=this._dictionary.getArray("LE");t&&Array.isArray(t)&&(e._begin=Fi(t[0].name),e._end=Fi(t[1].name))}this._lineEndingStyle=e}return this._lineEndingStyle},set:function(e){var t=this.lineEndingStyle;t.begin===e.begin&&t.end===e.end||(t.begin=e.begin,t.end=e.end)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leaderOffset",{get:function(){if("undefined"===typeof this._leaderOffset&&this._dictionary.has("LLO")){var e=this._dictionary.get("LLO");"undefined"!==typeof e&&e>=0&&(this._leaderOffset=e)}return this._leaderOffset},set:function(e){Number.isNaN(e)||(this._dictionary.update("LLO",e),this._leaderOffset=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineIntent",{get:function(){if("undefined"===typeof this._lineIntent&&this._dictionary.has("IT")){var e=this._dictionary.get("IT");e&&(this._lineIntent="LineDimension"===e.name?s.lineDimension:s.lineArrow)}return this._lineIntent},set:function(e){"undefined"!==typeof e&&e!==this.lineIntent&&(this._lineIntent=e,this._dictionary.update("IT",Fn.get(e===s.lineDimension?"LineDimension":"LineArrow")))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measure",{get:function(){return"undefined"===typeof this._measure&&(this._measure=this._dictionary.has("Measure")),this._measure},set:function(e){e&&(this._isLoaded||(this._measure=e,this.caption.cap=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unit",{get:function(){if("undefined"===typeof this._unit&&(this._unit=f.centimeter,this._dictionary.has("Contents"))){var e=this._dictionary.get("Contents");this._unitString=e.substring(e.length-2),this._unit=rn(this._unitString)}return this._unit},set:function(e){this._measure&&(this._isLoaded||"undefined"===typeof e||(this._unit=e))},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if("undefined"===typeof this.linePoints||null===this.linePoints)throw new Error("Line points cannot be null or undefined");var t;if(this._dictionary.has("Cap")||this._dictionary.set("Cap",!1),this._dictionary.has("CP")||this._dictionary.set("CP",Fn.get("Inline")),this._dictionary.has("LE")||(this.lineEndingStyle=new Ht),this._dictionary.has("LL")||(this.leaderLine=0),this._dictionary.has("LLE")||(this.leaderExt=0),this._dictionary.has("C")||(this.color=[0,0,0]),this._dictionary.has("BS"))t=this.border.width;else{var i=new Yn(this._crossReference);i.set("Type",Fn.get("Border")),this._dictionary.set("BS",i)}if("undefined"===typeof t&&(t=1),this._measure)this._appearanceTemplate=this._createLineMeasureAppearance(e);else{this._setAppearance&&(this._appearanceTemplate=this._createAppearance());var n=this._obtainLineBounds(),r={x:n[0],y:n[1],width:n[2],height:n[3]};this._bounds=r;var s=[this._bounds.x,this._bounds.y,this._bounds.x+this._bounds.width,this._bounds.y+this._bounds.height];this._dictionary.update("Rect",s)}},t.prototype._doPostProcess=function(e){var t,i;(void 0===e&&(e=!1),this._isLoaded)?((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._dictionary.has("Measure")?this._appearanceTemplate=this._createLineMeasureAppearance(e):this._appearanceTemplate=this._createAppearance()),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((o=t.getRaw("N"))&&(i.reference=o),this._appearanceTemplate=new $(i,this._crossReference))):(this._postProcess(e),this._appearanceTemplate||e&&(this._dictionary.has("AP")?(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((o=t.getRaw("N"))&&(i.reference=o),this._appearanceTemplate=new $(i,this._crossReference)):this._appearanceTemplate=this._createAppearance()));if("undefined"!==typeof this.flattenPopups&&this.flattenPopups&&!this.measure&&(this._isLoaded&&!this._dictionary.has("Measure")?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var n=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);this._flattenAnnotationTemplate(this._appearanceTemplate,n)}if(!e&&this._setAppearance&&!this.measure){var r=void 0;if(this._dictionary.has("AP"))r=this._dictionary.get("AP");else{var s=this._crossReference._getNextReference();r=new Yn(this._crossReference),this._crossReference._cacheMap.set(s,r),this._dictionary.update("AP",s)}In(r,this._crossReference,"N");var o=this._crossReference._getNextReference();this._crossReference._cacheMap.set(o,this._appearanceTemplate._content),r.update("N",o)}},t.prototype._createLineMeasureAppearance=function(e){for(var t=[0,0,0,0],i=this._convertToUnit(),n=this._obtainLinePoints(),s=[],a=0;a<n.length;a+=2)s.push([n[Number.parseInt(a.toString(),10)],n[a+1]]);var l=new Ze;l._points=s,l._pathTypes=[0,1];var h=l._getBounds();this._bounds={x:h[0],y:h[1],width:h[2],height:h[3]};var c,u=new ai("undefined"!==typeof this.color?this._color:[0,0,0],this.border.width);this.innerColor&&(c=new oi(this._innerColor)),t=this._obtainLineBounds();var d=new $(t,this._crossReference);en(d,this._getRotationAngle());var f=new qt;d._writeTransformation=!1;var g=d.graphics;f.borderPen=u,f.backBrush=c,f.foreBrush=new oi(this.color);var m=this._obtainLinePoints(),y=this._obtainFont();if(("undefined"===typeof y||null===y||!this._isLoaded&&1===y.size)&&(y=this._lineCaptionFont,this._pdfFont=y),"undefined"!==typeof m&&4===m.length){var v=new ee(p.center,Z.middle),b=y.measureString(i.toFixed(2)+" "+this._unitString,[0,0],v,0,0),M=this._getAngle(this._linePoints),S=0,w=0;this.leaderLine<0?(S=-this.leaderLine,w=M+180):(S=this.leaderLine,w=M);var _="undefined"!==typeof this.leaderOffset?S+this.leaderOffset:S,I=this._getAxisValue([this._linePoints[0],this._linePoints[1]],w+90,_),N=this._getAxisValue([this._linePoints[2],this._linePoints[3]],w+90,_),C=Math.sqrt(Math.pow(N[0]-I[0],2)+Math.pow(N[1]-I[1],2)),x=C/2-(b[0]/2+this.border.width),D=this._getAxisValue(I,M,x),T=this._getAxisValue(N,M+180,x),A=this.lineEndingStyle.begin===r.openArrow||this.lineEndingStyle.begin===r.closedArrow?this._getAxisValue(I,M,this.border.width):I,j=this.lineEndingStyle.end===r.openArrow||this.lineEndingStyle.end===r.closedArrow?this._getAxisValue(N,M,-this.border.width):N,E=void 0;this.opacity&&this._opacity<1&&(E=g.save(),g.setTransparency(this._opacity)),this.caption.type===o.top||!this.caption.cap&&this.caption.type===o.inline?g.drawLine(u,A[0],-A[1],j[0],-j[1]):(g.drawLine(u,A[0],-A[1],D[0],-D[1]),g.drawLine(u,j[0],-j[1],T[0],-T[1])),this.opacity&&this._opacity<1&&g.restore(E),this._drawLineStyle(I,N,g,M,u,c,this.lineEndingStyle,this.border.width);var k="undefined"!==typeof this.leaderExt?this._leaderExt:0,z=this._getAxisValue(I,w+90,k);g.drawLine(u,I[0],-I[1],z[0],-z[1]);var L=this._getAxisValue(N,w+90,k);g.drawLine(u,N[0],-N[1],L[0],-L[1]);var O=this._getAxisValue(I,w-90,S);g.drawLine(u,I[0],-I[1],O[0],-O[1]);var P=this._getAxisValue(N,w-90,S);g.drawLine(u,N[0],-N[1],P[0],-P[1]);var R=C/2,F=this._getAxisValue(I,M,R),B=void 0,V=y._metrics._getHeight();B=this.caption.type===o.top?this._getAxisValue(F,M+90,V):this._getAxisValue(F,M+90,V/2),g.translateTransform(B[0],-B[1]),g.rotateTransform(-M),g.drawString(i.toFixed(2)+" "+this._unitString,y,[-b[0]/2,0,0,0],null,f.foreBrush),g.restore()}if("undefined"!==typeof e&&!e||!this._isLoaded){d._content.dictionary._updated=!0;var U=this._crossReference._getNextReference();this._crossReference._cacheMap.set(U,d._content),d._content.reference=U;var H=[this.bounds.x,this.bounds.y+this.bounds.height,this.bounds.width,this.bounds.height],W=this._page.size;H[1]=W[1]-(this.bounds.y+this.bounds.height),this._isBounds&&!this.measure?(t=H,this._dictionary.update("Rect",[H[0],H[1],H[2],H[3]])):this._dictionary.update("Rect",[t[0],t[1],t[2],t[3]]);var Y="font:"+y._metrics._postScriptName+" "+y._size+"pt; color:"+this._colorToHex(this.color);if(this._dictionary.update("DS",Y),"undefined"!==typeof e&&!e){this._dictionary.has("AP")&&In(this._dictionary.get("AP"),this._crossReference,"N");var Q=new Yn;Q.set("N",U),Q._updated=!0,this._dictionary.set("AP",Q);var q=this._createMeasureDictionary(this._unitString),G=this._crossReference._getNextReference();this._crossReference._cacheMap.set(G,q),q._updated=!0,this._dictionary.has("Measure")&&In(this._dictionary,this._crossReference,"Measure"),this._dictionary.update("Measure",G)}var K=[];if(K.push(Fn.get(Ri(this.lineEndingStyle.begin))),K.push(Fn.get(Ri(this.lineEndingStyle.end))),this._dictionary.update("LE",K),null===this._linePoints)throw new Error("LinePoints cannot be null");this._dictionary.update("L",this._linePoints),this._dictionary.update("C",[Number.parseFloat((this.color[0]/255).toFixed(3)),Number.parseFloat((this.color[1]/255).toFixed(3)),Number.parseFloat((this.color[2]/255).toFixed(3))]);_=this._dictionary.has("LLO")?this.leaderOffset:0;this._dictionary.update("Subtype",new Fn("Line")),this._text&&""!==this._text?this._dictionary.update("Contents",this._text+" "+i.toFixed(2)+" "+this._unitString):this._dictionary.update("Contents",i.toFixed(2)+" "+this._unitString),this._dictionary.update("IT",new Fn("LineDimension")),this._dictionary.update("LLE",this.leaderExt),this._dictionary.update("LLO",_),this._dictionary.update("LL",this.leaderLine),this._dictionary.update("CP",Fn.get(this.caption.type===o.top?"Top":"Inline")),this._dictionary.update("Cap",this.caption.cap);var X=[t[0],t[1],t[0]+t[2],t[1]+t[3]];this._dictionary.update("Rect",X),this._bounds={x:X[0],y:X[1],width:X[2],height:X[3]}}return d},t.prototype._calculateAngle=function(e,t,i,n){return-Math.atan2(n-t,i-e)*(180/Math.PI)},t.prototype._calculateLineBounds=function(e,t,i,n,r,s){var o={x:0,y:0,width:0,height:0};if(e&&4===e.length){var a=this._getAngle(e),l=0,h=0;i<0?(l=-i,h=a+180):(l=i,h=a);var c=[e[0],e[1]],u=[e[2],e[3]];if(0!==n){var p=this._getAxisValue(c,h+90,n),d=this._getAxisValue(u,h+90,n);e[0]=p[0],e[1]=p[1],e[2]=d[0],e[3]=d[1]}var f=this._getAxisValue(c,h+90,l+n),g=this._getAxisValue(u,h+90,l+n),m=this._getAxisValue(c,h+90,t+l+n),y=this._getAxisValue(u,h+90,t+l+n),v=this._getLinePoint(r.begin,s),b=this._getLinePoint(r.end,s),M=[],S=[];h>=45&&h<=135||h>=225&&h<=315?(M[0]=v.y,S[0]=v.x,M[1]=b.y,S[1]=b.x):(M[0]=v.x,S[0]=v.y,M[1]=b.x,S[1]=b.y);var w=Math.max(M[0],M[1]),_=Math.max(S[0],S[1]);0===w&&(w=1),0===_&&(_=1),f[0]===Math.min(f[0],g[0])?(f[0]-=w*s,g[0]+=w*s,f[0]=Math.min(f[0],e[0]),f[0]=Math.min(f[0],m[0]),g[0]=Math.max(g[0],e[2]),g[0]=Math.max(g[0],y[0])):(f[0]+=w*s,g[0]-=w*s,f[0]=Math.max(f[0],e[0]),f[0]=Math.max(f[0],m[0]),g[0]=Math.min(g[0],e[2]),g[0]=Math.min(g[0],y[0])),f[1]===Math.min(f[1],g[1])?(f[1]-=_*s,g[1]+=_*s,f[1]=Math.min(f[1],e[1]),f[1]=Math.min(f[1],m[1]),g[1]=Math.max(g[1],e[3]),g[1]=Math.max(g[1],y[1])):(f[1]+=_*s,g[1]-=_*s,f[1]=Math.max(f[1],e[1]),f[1]=Math.max(f[1],m[1]),g[1]=Math.min(g[1],e[3]),g[1]=Math.min(g[1],y[1])),o=this._getBounds([{x:f[0],y:f[1]},{x:g[0],y:g[1]}])}return o},t.prototype._getLinePoint=function(e,t){var i={x:0,y:0};if(e)switch(e){case r.square:case r.circle:case r.diamond:i.x=3,i.y=3;break;case r.openArrow:case r.closedArrow:i.x=1,i.y=5;break;case r.rOpenArrow:case r.rClosedArrow:i.x=9+t/2,i.y=5+t/2;break;case r.slash:i.x=5,i.y=9;break;case r.butt:i.x=1,i.y=3;break;default:i.x=0,i.y=0}return i},t.prototype._getBounds=function(e){var t={x:0,y:0,width:0,height:0};if(e.length>0){for(var i=e[0].x,n=e[0].x,r=e[0].y,s=e[0].y,o=1;o<e.length;++o){var a=e[Number.parseInt(o.toString(),10)];i=Math.min(a.x,i),n=Math.max(a.x,n),r=Math.min(a.y,r),s=Math.max(a.y,s)}t.x=i,t.y=r,t.width=n-i,t.height=s-r}return t},t.prototype._obtainLineBounds=function(){var e=this.bounds;if("undefined"!==typeof this.linePoints&&4===this._linePoints.length){var t=this._dictionary.has("LLO")?this.leaderOffset:0,i=this._dictionary.has("LLE")?this.leaderExt:0,n=this._dictionary.has("LL")?this.leaderLine:0;e={x:(e=this._calculateLineBounds(this._linePoints,i,n,t,this.lineEndingStyle,this.border.width)).x-8,y:e.y-8,width:e.width+16,height:e.height+16}}return[e.x,e.y,e.width,e.height]},t.prototype._createAppearance=function(){var e=new $(this._obtainLineBounds(),this._crossReference),t=new qt;en(e,this._getRotationAngle()),e._writeTransformation=!1;var i=e.graphics,n=new ai("undefined"!==typeof this.color?this._color:[0,0,0],this.border.width);this.border.style===a.dashed?n._dashStyle=R.dash:this.border.style===a.dot&&(n._dashStyle=R.dot),t.borderPen=n,t.foreBrush=new oi(this.color);var s=new oi("undefined"!==typeof this.innerColor?this._innerColor:[0,0,0]),l=this._obtainFont();("undefined"===typeof l||null===l||!this._isLoaded&&1===l.size)&&(l=this._lineCaptionFont,this._pdfFont=l),this.text||this._dictionary.has("Contents")||(this.text=this.subject);var h=new ee(p.center,Z.middle),c=l.measureString(this.text?this.text:"",[0,0],h,0,0)[0];if("undefined"!==typeof this.linePoints&&4===this._linePoints.length){var u=this._getAngle(this._linePoints),d=0,f=0;this.leaderLine<0?(d=-this.leaderLine,f=u+180):(d=this.leaderLine,f=u);var g="undefined"!==typeof this.leaderOffset?d+this.leaderOffset:d,m=this._getAxisValue([this._linePoints[0],this._linePoints[1]],f+90,g),y=this._getAxisValue([this._linePoints[2],this._linePoints[3]],f+90,g),v=Math.sqrt(Math.pow(y[0]-m[0],2)+Math.pow(y[1]-m[1],2)),b=v/2-(c/2+this.border.width),M=this._getAxisValue(m,u,b),S=this._getAxisValue(y,u+180,b),w=this.lineEndingStyle.begin===r.openArrow||this.lineEndingStyle.begin===r.closedArrow?this._getAxisValue(m,u,this.border.width):m,_=this.lineEndingStyle.end===r.openArrow||this.lineEndingStyle.end===r.closedArrow?this._getAxisValue(y,u,-this.border.width):y;if(this.opacity&&this._opacity<1){var I=i.save();i.setTransparency(this._opacity),this._drawLine(i,n,w,_,M,S),i.restore(I)}else this._drawLine(i,n,w,_,M,S);this._drawLineStyle(m,y,i,u,n,s,this.lineEndingStyle,this.border.width);var N="undefined"!==typeof this.leaderExt?this._leaderExt:0,C=this._getAxisValue(m,f+90,N);i.drawLine(n,m[0],-m[1],C[0],-C[1]);var x=this._getAxisValue(y,f+90,N);i.drawLine(n,y[0],-y[1],x[0],-x[1]);var D=this._getAxisValue(m,f-90,d);i.drawLine(n,m[0],-m[1],D[0],-D[1]);var T=this._getAxisValue(y,f-90,d);i.drawLine(n,y[0],-y[1],T[0],-T[1]);var A=v/2,j=this._getAxisValue(m,u,A),E=void 0,k=l._metrics._getHeight();E=this.caption.type===o.top?this._dictionary.has("Measure")?this._getAxisValue(j,u+90,2*k):this._getAxisValue(j,u+90,k):this._dictionary.has("Measure")?this._getAxisValue(j,u+90,k/2*3):this._getAxisValue(j,u+90,k/2),i.translateTransform(E[0],-E[1]),i.rotateTransform(-u),this.caption.cap&&i.drawString(this.text,l,[-c/2,0,0,0],null,t.foreBrush),i.restore();var z=this._obtainLineBounds(),L=Ei({x:z[0],y:z[1],width:z[2],height:z[3]});this.bounds={x:L[0],y:L[1],width:L[2],height:L[3]}}return e},t.prototype._drawLine=function(e,t,i,n,r,s){"undefined"===typeof this.text||""===this._text||this.caption.type===o.top||!this.caption.cap&&this.caption.type===o.inline?e.drawLine(t,i[0],-i[1],n[0],-n[1]):(e.drawLine(t,i[0],-i[1],r[0],-r[1]),e.drawLine(t,n[0],-n[1],s[0],-s[1]))},t.prototype._convertToUnit=function(){for(var e=this._obtainLinePoints(),t=new Array(e.length/2),i=0,n=0;n<e.length;n+=2)t[Number.parseInt(i.toString(),10)]=[e[Number.parseInt(n.toString(),10)],e[n+1]],i++;var r=Math.sqrt(Math.pow(t[1][0]-t[0][0],2)+Math.pow(t[1][1]-t[0][1],2)),s=this._getEqualPdfGraphicsUnit(this._unit,this._unitString);return this._unitString=s.unitString,(new li)._convertUnits(r,D.point,s.graphicsUnit)},t.prototype._obtainLinePoints=function(){var e=[];if(this.linePoints)for(var t=0;t<this._linePoints.length;t++)e[Number.parseInt(t.toString(),10)]=this._linePoints[Number.parseInt(t.toString(),10)];return e},t}(ft),mt=function(e){function t(t,i,n,r){var s=e.call(this)||this;return s._unit=f.centimeter,s._measureType=g.diameter,s._unitString="",s._dictionary=new Yn,s._dictionary.update("Type",Fn.get("Annot")),s._dictionary.update("Subtype",Fn.get("Circle")),"undefined"!==typeof t&&"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&(s.bounds={x:t,y:i,width:n,height:r}),s._type=x.circleAnnotation,s}return pt(t,e),Object.defineProperty(t.prototype,"measure",{get:function(){return"undefined"===typeof this._measure&&this._dictionary.has("Measure")&&(this._measure=this._dictionary.get("Measure")),this._measure},set:function(e){e&&(this._isLoaded||(this._measure=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unit",{get:function(){if("undefined"===typeof this._unit&&(this._unit=f.centimeter,this._dictionary.has("Contents"))){var e=this._dictionary.get("Contents");this._unitString=e.substring(e.length-2),this._unit=rn(this._unitString)}return this._unit},set:function(e){this._measure&&(this._isLoaded||"undefined"===typeof e||(this._unit=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measureType",{get:function(){if(this._dictionary.has("Contents")){var e=this._dictionary.get("Contents");this._unitString=e.substring(e.length-2),this._unit=rn(this._unitString);var t=e.substring(0,e.length-2);(new li)._convertUnits(this.bounds.width/2,D.point,an(this._unitString)).toString()===t?this._measureType=g.radius:this._measureType=g.diameter}return this._measureType},set:function(e){this._measure&&(this._isLoaded||"undefined"===typeof e||(this._measureType=e))},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var t;if(this._dictionary.has("BS"))t=this.border.width;else{var i=new Yn(this._crossReference);i.set("Type",Fn.get("Border")),this._dictionary.set("BS",i)}if(this._dictionary.has("C")||(this.color=[0,0,0]),"undefined"===typeof t&&(t=1),this._measure)this._appearanceTemplate=this._createCircleMeasureAppearance(e);else{(this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createCircleAppearance());var n=this._page.size,r=[this.bounds.x,n[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];this._dictionary.update("Rect",[r[0],r[1],r[0]+r[2],r[1]+r[3]])}},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._dictionary.has("Measure")?this._appearanceTemplate=this._createCircleMeasureAppearance(e):this._appearanceTemplate=this._createCircleAppearance()),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else this._appearanceTemplate=this._createCircleAppearance();if("undefined"!==typeof this.flattenPopups&&this.flattenPopups&&!this.measure&&(this._isLoaded&&!this._dictionary.has("Measure")?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var r=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);this._flattenAnnotationTemplate(this._appearanceTemplate,r)}if(!e&&this._setAppearance&&!this.measure){var s=void 0;if(this._dictionary.has("AP"))s=this._dictionary.get("AP");else{var o=this._crossReference._getNextReference();s=new Yn(this._crossReference),this._crossReference._cacheMap.set(o,s),this._dictionary.update("AP",o)}In(s,this._crossReference,"N");n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),s.update("N",n)}},t.prototype._createCircleMeasureAppearance=function(e){var t=this.border.width,i=this._obtainFont();("undefined"===typeof i||null===i||!this._isLoaded&&1===i.size)&&(i=this._circleCaptionFont,this._pdfFont=i);var n=this._convertToUnit(),r=new ee(p.center,Z.middle),s=n.toFixed(2)+" "+this._unitString,o=i.measureString(s,[0,0],r,0,0),a=new ai(this.color,t),l=[this.bounds.x,this.bounds.y+this.bounds.height,this.bounds.width,this.bounds.height];l[1]=l[1]-l[3];var h=new $(l,this._crossReference),c=new qt;h._writeTransformation=!1;var u=h.graphics,d=t/2;c.borderPen=a,this.innerColor&&(c.backBrush=new oi(this._innerColor)),c.foreBrush=new oi(this.color);var f=[l[0],-l[1]-l[3],l[2],l[3]];if(u.save(),u.drawEllipse(f[0]+d,f[1]+d,f[2]-t,f[3]-t,new ai(this.color,this.border.width)),this._measureType===g.diameter){u.save(),u.translateTransform(l[0],-l[1]);var m=l[3]/2-o[0]/2;u.drawLine(c.borderPen,0,-l[3]/2,l[0]+l[2],-l[3]/2),u.translateTransform(m,-l[3]/2-i._metrics._getHeight()),u.drawString(n.toFixed(2)+" "+this._unitString,i,[0,0,0,0],null,c.foreBrush),u.restore()}else{u.save(),u.translateTransform(l[0],-l[1]);m=l[2]/2+(l[2]/4-o[0]/2);u.drawLine(c.borderPen,l[2]/2,-l[3]/2,l[0]+l[2],-l[3]/2),u.translateTransform(m,-l[3]/2-i._metrics._getHeight()),u.drawString(n.toFixed(2)+" "+this._unitString,i,[0,0,0,0],null,c.foreBrush),u.restore()}if(u.restore(),"undefined"!==typeof e&&!e||!this._isLoaded){this._dictionary.has("AP")&&In(this._dictionary.get("AP"),this._crossReference,"N");var y=new Yn;u._template._content.dictionary._updated=!0;var v=this._crossReference._getNextReference();this._crossReference._cacheMap.set(v,u._template._content),u._template._content.reference=v,y.set("N",v),y._updated=!0,this._dictionary.set("AP",y);var b=this._page.size,M=[this.bounds.x,b[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];this._isBounds&&(l=M),this._dictionary.update("Rect",[M[0],M[1],M[0]+M[2],M[1]+M[3]]),this._dictionary.has("Measure")&&In(this._dictionary,this._crossReference,"Measure");var S=this._createMeasureDictionary(this._unitString),w=this._crossReference._getNextReference();this._crossReference._cacheMap.set(w,S),S._updated=!0,this._dictionary.update("Measure",w),this._dictionary.update("Subtype",new Fn("Circle")),this._text&&""!==this._text?this._dictionary.update("Contents",this._text+" "+n.toFixed(2)+" "+this._unitString):this._dictionary.update("Contents",n.toFixed(2)+" "+this._unitString);var _="font:"+i._metrics._postScriptName+" "+i._size+"pt; color:"+this._colorToHex(this.color);this._dictionary.update("DS",_)}return h},t.prototype._convertToUnit=function(){var e=new li,t=this._getEqualPdfGraphicsUnit(this._unit,this._unitString);this._unitString=t.unitString;var i=e._convertUnits(this.bounds.width/2,D.point,t.graphicsUnit);return this._measureType===g.diameter&&(i*=2),i},t}(ft),yt=function(e){function t(t,i,n,r){var s=e.call(this)||this;return s._dictionary=new Yn,s._dictionary.update("Type",Fn.get("Annot")),s._dictionary.update("Subtype",Fn.get("Circle")),"undefined"!==typeof t&&"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&(s.bounds={x:t,y:i,width:n,height:r}),s._type=x.ellipseAnnotation,s}return pt(t,e),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var t;if(this._dictionary.has("BS"))t=this.border.width;else{var i=new Yn(this._crossReference);i.set("Type",Fn.get("Border")),this._dictionary.set("BS",i)}this._dictionary.has("C")||(this.color=[0,0,0]),"undefined"===typeof t&&(t=1),(this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createCircleAppearance());var n=this._page.size,r=[this.bounds.x,n[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];this._dictionary.update("Rect",[r[0],r[1],r[0]+r[2],r[1]+r[3]])},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createCircleAppearance()),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else this._appearanceTemplate=this._createCircleAppearance();if("undefined"!==typeof this.flattenPopups&&this.flattenPopups&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var r=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);this._flattenAnnotationTemplate(this._appearanceTemplate,r)}if(!e&&this._setAppearance){var s=void 0;if(this._dictionary.has("AP"))s=this._dictionary.get("AP");else{var o=this._crossReference._getNextReference();s=new Yn(this._crossReference),this._crossReference._cacheMap.set(o,s),this._dictionary.update("AP",o)}In(s,this._crossReference,"N");n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),s.update("N",n)}},t}(ft),vt=function(e){function t(t,i,n,r){var s=e.call(this)||this;return s._unit=f.centimeter,s._dictionary=new Yn,s._dictionary.update("Type",Fn.get("Annot")),s._dictionary.update("Subtype",Fn.get("Square")),"undefined"!==typeof t&&"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&(s.bounds={x:t,y:i,width:n,height:r}),s._type=x.squareAnnotation,s}return pt(t,e),Object.defineProperty(t.prototype,"borderEffect",{get:function(){if("undefined"===typeof this._borderEffect){var e=new Qt;if(e._dictionary=this._dictionary,this._dictionary.has("BE")){var t=this._dictionary.get("BE");e._intensity=t.get("I"),e._style=Pi(t.get("S").name)}this._borderEffect=e}return this._borderEffect},set:function(e){"undefined"!==typeof e&&(this._borderEffect=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measure",{get:function(){return"undefined"===typeof this._measure&&this._dictionary.has("Measure")&&(this._measure=this._dictionary.get("Measure")),this._measure},set:function(e){"undefined"!==typeof e&&(this._isLoaded||(this._measure=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unit",{get:function(){if("undefined"===typeof this._unit&&(this._unit=f.centimeter,this._dictionary.has("Contents"))){var e=this._dictionary.get("Contents");this._unitString=e.substring(e.length-2),this._unit=rn(this._unitString)}return this._unit},set:function(e){this._measure&&(this._isLoaded||"undefined"===typeof e||(this._unit=e))},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var t;this._dictionary.has("BS")?t=this.border.width:((i=new Yn(this._crossReference)).set("Type",Fn.get("Border")),this._dictionary.set("BS",i));if(this._dictionary.has("C")||(this.color=[0,0,0]),"undefined"===typeof t&&(t=1),this._measure)this._appearanceTemplate=this._createSquareMeasureAppearance(e);else{(this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createRectangleAppearance(this.borderEffect));var i,n=this._page.size,r=[this.bounds.x,n[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];if(this._dictionary.update("Rect",[r[0],r[1],r[0]+r[2],r[1]+r[3]]),"undefined"===typeof this._intensity&&"undefined"!==typeof this._borderEffect&&this._borderEffect.style===l.cloudy)(i=new Yn(this._crossReference)).set("I",this.borderEffect._intensity),this.borderEffect._style===l.cloudy&&i.set("S",Fn.get("C")),this._dictionary.update("BE",i)}},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._dictionary.has("Measure")?this._appearanceTemplate=this._createSquareMeasureAppearance(e):this._appearanceTemplate=this._createRectangleAppearance(this.borderEffect)),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else this._appearanceTemplate=this._createRectangleAppearance(this.borderEffect);if("undefined"!==typeof this.flattenPopups&&this.flattenPopups&&!this.measure&&(this._isLoaded&&!this._dictionary.has("Measure")?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var r=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);this._flattenAnnotationTemplate(this._appearanceTemplate,r)}if(!e&&this._setAppearance&&!this.measure){var s=void 0;if(this._dictionary.has("AP"))s=this._dictionary.get("AP");else{var o=this._crossReference._getNextReference();s=new Yn(this._crossReference),this._crossReference._cacheMap.set(o,s),this._dictionary.update("AP",o)}In(s,this._crossReference,"N");n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),s.update("N",n)}},t.prototype._createSquareMeasureAppearance=function(e){var t=this.border.width,i=this._obtainFont();("undefined"===typeof i||null===i||!this._isLoaded&&1===i.size)&&(i=this._circleCaptionFont,this._pdfFont=i);var n,r=this._calculateAreaOfSquare(),s=new ee(p.center,Z.middle),o=r.toFixed(2)+" sq "+this._unitString,a=i.measureString(o,[0,0],s,0,0),l=new ai(this.color,t);this.innerColor&&(n=new oi(this._innerColor));var h=[this.bounds.x,this.bounds.y+this.bounds.height,this.bounds.width,this.bounds.height],c=[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height],u=new ut(this,c);h[1]=h[1]-h[3],u.normal=new $(h,this._crossReference);var d=u.normal,f=new qt;d._writeTransformation=!1;var g=u.normal.graphics,m=t/2;f.borderPen=l,f.backBrush=n,f.foreBrush=new oi(this.color);var y=[h[0],-h[1]-h[3],h[2],h[3]];g.drawRectangle(y[0]+m,y[1]+m,y[2]-t,y[3]-t,new ai(this.color,this.border.width)),g.save(),g.translateTransform(h[0],-h[1]);var v=h[2]/2-a[0]/2,b=h[3]/2-a[1]/2;if(g.translateTransform(v,-b-i._metrics._getHeight()),g.drawString(r.toFixed(2)+" sq "+this._unitString,i,[0,0,0,0],null,f.foreBrush),g.restore(),"undefined"!==typeof e&&!e||!this._isLoaded){this._dictionary.has("AP")&&In(this._dictionary.get("AP"),this._crossReference,"N");var M=new Yn,S=g._template._content;S.dictionary._updated=!0;var w=this._crossReference._getNextReference();this._crossReference._cacheMap.set(w,S),g._template._content.reference=w,M.set("N",w),M._updated=!0,this._dictionary.set("AP",M);var _=[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height],I=this._page.size;_[1]=I[1]-(this.bounds.y+this.bounds.height),_[2]=this.bounds.x+this.bounds.width,_[3]=I[1]-this.bounds.y,this._isBounds&&(h=_),this._dictionary.update("Rect",[_[0],_[1],_[2],_[3]]),this._dictionary.has("Measure")&&In(this._dictionary,this._crossReference,"Measure");var N=this._crossReference._getNextReference(),C=this._createMeasureDictionary(this._unitString);this._crossReference._cacheMap.set(N,C),C._updated=!0,this._dictionary.update("Measure",N);var x="font:"+i._metrics._postScriptName+" "+i._size+"pt; color:"+this._colorToHex(this.color);this._dictionary.update("DS",x),this._text&&""!==this._text?this._dictionary.update("Contents",this._text+" "+r.toFixed(2)+" sq "+this._unitString):this._dictionary.update("Contents",r.toFixed(2)+" sq "+this._unitString),this._dictionary.update("Subject","Area Measurement"),"undefined"===typeof this.subject&&this._dictionary.update("Subject","Area Measurement"),this._dictionary.update("MeasurementTypes",129),this._dictionary.update("Subtype",new Fn("Square")),this._dictionary.update("IT",new Fn("SquareDimension"));var D=this._dictionary.getArray("Rect"),T=new Array(2*D.length);T[0]=D[0],T[1]=D[3],T[2]=D[0],T[3]=D[1],T[4]=D[2],T[5]=D[1],T[6]=D[2],T[7]=D[3],this._dictionary.update("Vertices",T)}return d},t.prototype._calculateAreaOfSquare=function(){var e,t,i=new li;if(this.bounds.width===this.bounds.height){t=this._getEqualPdfGraphicsUnit(this._unit,this._unitString),this._unitString=t.unitString,e=(n=i._convertUnits(this.bounds.width,D.point,t.graphicsUnit))*n}else{t=this._getEqualPdfGraphicsUnit(this._unit,this._unitString),this._unitString=t.unitString;var n=i._convertUnits(this.bounds.width,D.point,t.graphicsUnit);t=this._getEqualPdfGraphicsUnit(this._unit,this._unitString),this._unitString=t.unitString,e=n*i._convertUnits(this.bounds.height,D.point,t.graphicsUnit)}return e},t}(ft),bt=function(e){function t(t,i,n,r){var s=e.call(this)||this;return s._dictionary=new Yn,s._dictionary.update("Type",Fn.get("Annot")),s._dictionary.update("Subtype",Fn.get("Square")),"undefined"!==typeof t&&"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&(s.bounds={x:t,y:i,width:n,height:r}),s._type=x.rectangleAnnotation,s}return pt(t,e),Object.defineProperty(t.prototype,"borderEffect",{get:function(){if("undefined"===typeof this._borderEffect){var e=new Qt;if(e._dictionary=this._dictionary,this._dictionary.has("BE")){var t=this._dictionary.get("BE");e._intensity=t.get("I"),e._style=Pi(t.get("S").name)}this._borderEffect=e}return this._borderEffect},set:function(e){"undefined"!==typeof e&&(this._borderEffect=e)},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var t;this._dictionary.has("BS")?t=this.border.width:((i=new Yn(this._crossReference)).set("Type",Fn.get("Border")),this._dictionary.set("BS",i));this._dictionary.has("C")||(this.color=[0,0,0]),"undefined"===typeof t&&(t=1),(this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createRectangleAppearance(this.borderEffect));var i,n=this._page.size,r=[this.bounds.x,n[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];(this._dictionary.update("Rect",[r[0],r[1],r[0]+r[2],r[1]+r[3]]),"undefined"===typeof this._intensity&&"undefined"!==typeof this._borderEffect&&this._borderEffect.style===l.cloudy)&&((i=new Yn(this._crossReference)).set("I",this.borderEffect._intensity),this.borderEffect._style===l.cloudy&&i.set("S",Fn.get("C")),this._dictionary.update("BE",i))},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createRectangleAppearance(this.borderEffect)),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else this._appearanceTemplate=this._createRectangleAppearance(this.borderEffect);if("undefined"!==typeof this.flattenPopups&&this.flattenPopups&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var r=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);(r&&this._page.rotation!==h.angle0||this._isValidTemplateMatrix(this._appearanceTemplate._content.dictionary,this.bounds,this._appearanceTemplate))&&this._flattenAnnotationTemplate(this._appearanceTemplate,r)}if(!e&&this._setAppearance){var s=void 0;if(this._dictionary.has("AP"))s=this._dictionary.get("AP");else{var o=this._crossReference._getNextReference();s=new Yn(this._crossReference),this._crossReference._cacheMap.set(o,s),this._dictionary.update("AP",o)}In(s,this._crossReference,"N");n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),s.update("N",n)}},t.prototype._isValidTemplateMatrix=function(e,t,i){var n=!0,r=t;if(e&&e.has("Matrix")){var s=e.getArray("BBox"),o=e.getArray("Matrix");if(o&&s&&o.length>3&&s.length>2&&"undefined"!==typeof o[0]&&"undefined"!==typeof o[1]&&"undefined"!==typeof o[2]&&"undefined"!==typeof o[3]&&1===o[0]&&0===o[1]&&0===o[2]&&1===o[3]&&"undefined"!==typeof s[0]&&"undefined"!==typeof s[1]&&"undefined"!==typeof s[2]&&"undefined"!==typeof s[3]&&(Math.round(s[0])!==Math.round(-o[4])&&Math.round(s[1])!==Math.round(-o[5])||0===s[0]&&0===Math.round(-o[4]))){var a=this._page.graphics,l=a.save();"undefined"!==typeof this.opacity&&this._opacity<1&&a.setTransparency(this._opacity),r.x-=s[0],r.y+=s[1],a._drawTemplate(i,r),a.restore(l),this._removeAnnotationFromPage(this._page,this),n=!1}}return n},t}(ft),Mt=function(e){function t(t){var i=e.call(this)||this;return i._dictionary=new Yn,i._dictionary.update("Type",Fn.get("Annot")),i._dictionary.update("Subtype",Fn.get("Polygon")),"undefined"!==typeof t&&(i._points=t),i._type=x.polygonAnnotation,i}return pt(t,e),Object.defineProperty(t.prototype,"borderEffect",{get:function(){if("undefined"===typeof this._borderEffect){var e=new Qt;if(e._dictionary=this._dictionary,this._dictionary.has("BE")){var t=this._dictionary.get("BE");e._intensity=t.get("I"),e._style=Pi(t.get("S").name)}this._borderEffect=e}return this._borderEffect},set:function(e){"undefined"!==typeof e&&(this._borderEffect=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineExtension",{get:function(){if("undefined"===typeof this._lineExtension&&this._dictionary.has("LLE")){var e=this._dictionary.get("LLE");"undefined"!==typeof e&&e>=0&&(this._lineExtension=e)}return this._lineExtension},set:function(e){if(!Number.isNaN(e)){if(!(e>=0))throw new Error("LineExtension should be non negative number");this._dictionary.update("LLE",e),this._lineExtension=e}},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if("undefined"===typeof this._points||null===this._points)throw new Error("Points cannot be null or undefined");var t;(this._dictionary.has("LLE")||(this.lineExtension=0),this._dictionary.has("C")||(this.color=[0,0,0]),this._dictionary.has("BS"))?t=this.border.width:((s=new Yn(this._crossReference)).set("Type",Fn.get("Border")),this._dictionary.set("BS",s));"undefined"===typeof t&&(t=1);for(var i=[],n=0;n<this._points.length;n++){var r=this._points[Number.parseInt(n.toString(),10)];i.push(r)}i[0]===i[i.length-2]&&i[1]===i[i.length-1]||(i[i.length]=this._points[0],i[i.length]=this._points[1]),this._points=i;var s,o=this._getBoundsValue(this._points),a=[o.x,o.y,o.x+o.width,o.y+o.height];(this._dictionary.update("Rect",a),this._dictionary.update("LLE",this._lineExtension),(this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createPolygonAppearance(e)),this._dictionary.update("Vertices",this._points),"undefined"===typeof this._intensity&&"undefined"!==typeof this._borderEffect&&this._borderEffect.style===l.cloudy)&&((s=new Yn(this._crossReference)).set("I",this.borderEffect._intensity),this.borderEffect._style===l.cloudy&&s.set("S",Fn.get("C")),this._dictionary.update("BE",s))},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createPolygonAppearance(e)),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else this._appearanceTemplate=this._createPolygonAppearance(e);if("undefined"!==typeof this.flattenPopups&&this.flattenPopups&&this._isLoaded&&this._flattenLoadedPopUp(),e)if(this._appearanceTemplate){var r=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var s=this._appearanceTemplate._content.dictionary.getArray("BBox");s&&s.length>=2&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-s[0],-s[1]])}this._flattenAnnotationTemplate(this._appearanceTemplate,r)}else this._removeAnnotationFromPage(this._page,this);if(!e&&this._setAppearance){var o=void 0;if(this._dictionary.has("AP"))o=this._dictionary.get("AP");else{var a=this._crossReference._getNextReference();o=new Yn(this._crossReference),this._crossReference._cacheMap.set(a,o),this._dictionary.update("AP",a)}In(o,this._crossReference,"N");n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),o.update("N",n)}},t.prototype._createPolygonAppearance=function(e){if("undefined"!==typeof e&&e){var t=void 0;this.color&&this.border.width>0&&(t=new ai(this.color,this.border.width));var i=void 0;this.innerColor&&(i=new oi(this.innerColor));var n=this._page.graphics;if(t||i){var r=void 0;if("undefined"!==typeof this.opacity&&this._opacity<1&&(r=n.save(),n.setTransparency(this._opacity)),0!==this.borderEffect.intensity&&this.borderEffect.style===l.cloudy){var s=4*this.borderEffect.intensity+.5*this.border.width;(p=new Ze)._addPolygon(this._getLinePoints()),this._drawCloudStyle(n,i,t,s,.833,p._points,!1)}else n.drawPolygon(this._getLinePoints(),t,i);"undefined"!==typeof this.opacity&&this._opacity<1&&n.restore(r)}return n._template}var o=void 0,a={x:0,y:0,width:0,height:0};"undefined"===typeof this._points&&this._dictionary.has("Vertices")?(this._points=this._dictionary.get("Vertices"),o=this._getBoundsValue(this._points)):o=this._getBoundsValue(this._points),"undefined"!==typeof this._borderEffect&&"undefined"!==typeof this.borderEffect.intensity&&0!==this.borderEffect.intensity&&this._borderEffect.style===l.cloudy?(a.x=o.x-5*this.borderEffect.intensity-this.border.width,a.y=o.y-5*this.borderEffect.intensity-this.border.width,a.width=o.width+10*this.borderEffect.intensity+2*this.border.width,a.height=o.height+10*this.borderEffect.intensity+2*this.border.width):(a.x=o.x-this.border.width,a.y=o.y-this.border.width,a.width=o.width+2*this.border.width,a.height=o.height+2*this.border.width);var h=new ut(this,[a.x,a.y,a.width,a.height]);h.normal=new $([a.x,a.y,a.width,a.height],this._crossReference);var c=h.normal;en(c,this._getRotationAngle()),c._writeTransformation=!1;n=h.normal.graphics;var u=new qt;if(this.innerColor&&(u.backBrush=new oi(this._innerColor)),this.border.width>0&&this.color&&(u.borderPen=new ai(this._color,this.border.width)),this.color&&(u.foreBrush=new oi(this._color)),"undefined"!==typeof this.opacity&&this._opacity<1?(n.save(),n.setTransparency(this._opacity)):n.save(),0!==this.borderEffect.intensity&&this.borderEffect.style===l.cloudy){var p;s=4*this.borderEffect.intensity+.5*this.border.width;(p=new Ze)._addPolygon(this._getLinePoints()),this._drawCloudStyle(n,u.backBrush,u.borderPen,s,.833,p._points,!1)}else n.drawPolygon(this._getLinePoints(),u.borderPen,u.backBrush);return"undefined"!==typeof this.opacity&&this._opacity<1&&n.restore(),n.restore(),this._isBounds&&(c._content.dictionary._updated=!0,this._dictionary.update("LLE",this.lineExtension),this._dictionary.update("Vertices",this._points)),this._dictionary.update("Rect",[a.x,a.y,a.x+a.width,a.y+a.height]),c},t.prototype._getLinePoints=function(){var e,t=this._page.size,i=t[1],n=t[0];if(this._dictionary.has("Vertices")&&!this._isBounds){var r=void 0;this._page._pageDictionary.has("Rotate")&&(r=this._page._pageDictionary.get("Rotate")),this._page.rotation&&(this._page.rotation===h.angle90?r=90:this._page.rotation===h.angle180?r=180:this._page.rotation===h.angle270&&(r=270));var s=this._dictionary.getArray("Vertices");if(s){var o=[];s.forEach((function(e){o.push(e)})),e=[];for(var a=0;a<o.length;a+=2)e.push([o[Number.parseInt(a.toString(),10)],i-o[a+1]]);if(r)if(270===r)for(var l=0;l<e.length;l++){var c=e[Number.parseInt(l.toString(),10)][0];e[Number.parseInt(l.toString(),10)][0]=e[Number.parseInt(l.toString(),10)][1],e[Number.parseInt(l.toString(),10)][1]=n-c}else if(90===r)for(l=0;l<e.length;l++){c=e[Number.parseInt(l.toString(),10)][0];0!==this._page._origin[1]?e[Number.parseInt(l.toString(),10)][0]=i-(e[Number.parseInt(l.toString(),10)][1]-i):e[Number.parseInt(l.toString(),10)][0]=i-e[Number.parseInt(l.toString(),10)][1],e[Number.parseInt(l.toString(),10)][1]=c}else if(180===r)for(l=0;l<e.length;l++){c=e[Number.parseInt(l.toString(),10)][0];e[Number.parseInt(l.toString(),10)][0]=n-c,e[Number.parseInt(l.toString(),10)][1]=i-e[Number.parseInt(l.toString(),10)][1]}}}else if(null!==this._points){var u=[];this._points.forEach((function(e){u.push(e)})),e=[];for(a=0;a<this._points.length;a+=2)this.flatten?e.push([u[Number.parseInt(a.toString(),10)],i-u[a+1]]):e.push([u[Number.parseInt(a.toString(),10)],-u[a+1]])}return e},t}(ft),St=function(e){function t(t){var i=e.call(this)||this;return i._beginLine=r.none,i._endLine=r.none,i._dictionary=new Yn,i._dictionary.update("Type",Fn.get("Annot")),i._dictionary.update("Subtype",Fn.get("PolyLine")),"undefined"!==typeof t&&(i._points=t),i._type=x.polyLineAnnotation,i}return pt(t,e),Object.defineProperty(t.prototype,"beginLineStyle",{get:function(){if(this._dictionary.has("LE")){var e=this._dictionary.getArray("LE");e&&Array.isArray(e)&&(this._beginLine=Fi(e[0].name))}return this._beginLine},set:function(e){if(e!==this._beginLine&&(this._beginLine=e,this._dictionary)){var t=[];t.push(Fn.get(Ri(e))),t.push(Fn.get(Ri(this.endLineStyle))),this._dictionary.update("LE",t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLineStyle",{get:function(){if(this._dictionary.has("LE")){var e=this._dictionary.getArray("LE");e&&Array.isArray(e)&&(this._endLine=Fi(e[1].name))}return this._endLine},set:function(e){if(e!==this._endLine&&(this._endLine=e,this._dictionary)){var t=[];t.push(Fn.get(Ri(this.beginLineStyle))),t.push(Fn.get(Ri(e))),this._dictionary.update("LE",t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineExtension",{get:function(){if("undefined"===typeof this._lineExtension&&this._dictionary.has("LLE")){var e=this._dictionary.get("LLE");"undefined"!==typeof e&&e>=0&&(this._lineExtension=e)}return this._lineExtension},set:function(e){if(!Number.isNaN(e)){if(!(e>=0))throw new Error("LineExtension should be non negative number");this._dictionary.update("LLE",e),this._lineExtension=e}},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if("undefined"===typeof this._points||null===this._points)throw new Error("Points cannot be null or undefined");var t;if(this._dictionary.has("LLE")||(this.lineExtension=0),this._dictionary.has("C")||(this.color=[0,0,0]),this._dictionary.has("BS"))t=this.border.width;else{var i=new Yn(this._crossReference);i.set("Type",Fn.get("Border")),this._dictionary.set("BS",i)}"undefined"===typeof t&&(t=1);var n=this._getLinePoints(),r=[];r.push(0);for(var s=1;s<n.length;s++)r.push(1);this._polylinePoints=n,this._pathTypes=r;var o=new Ze;o._points=n,o._pathTypes=r,this._dictionary.update("Vertices",this._points);var a=[];a.push(Fn.get(Ri(this.beginLineStyle))),a.push(Fn.get(Ri(this.endLineStyle))),this._dictionary.update("LE",a),this._dictionary.update("LLE",this._lineExtension);var l=this._getBoundsValue(this._points),h=[l.x,l.y,l.x+l.width,l.y+l.height];this._dictionary.update("Rect",h),(this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createPolyLineAppearance(e))},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createPolyLineAppearance(e)),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else this._appearanceTemplate=this._createPolyLineAppearance(e);if("undefined"!==typeof this.flattenPopups&&this.flattenPopups&&this._isLoaded&&this._flattenLoadedPopUp(),e)if(this._appearanceTemplate){var r=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var s=this._appearanceTemplate._content.dictionary.getArray("BBox");s&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-s[0],-s[1]])}this._flattenAnnotationTemplate(this._appearanceTemplate,r)}else this._removeAnnotationFromPage(this._page,this);if(!e&&this._setAppearance){var o=void 0;if(this._dictionary.has("AP"))o=this._dictionary.get("AP");else{var a=this._crossReference._getNextReference();o=new Yn(this._crossReference),this._crossReference._cacheMap.set(a,o),this._dictionary.update("AP",a)}In(o,this._crossReference,"N");n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),o.update("N",n)}},t.prototype._createPolyLineAppearance=function(e){if("undefined"!==typeof e&&e){var t=void 0;this.color&&this.border.width>0&&(t=new ai(this.color,this.border.width));var i=this._page.graphics;if(t){var n=void 0;"undefined"!==typeof this.opacity&&this._opacity<1&&(n=i.save(),i.setTransparency(this._opacity));var r=this._getLinePoints(),s=[];if(s.push(0),r&&r.length>0){for(var o=1;o<r.length;o++)s.push(1);(p=new Ze)._points=r,p._pathTypes=s,i._drawPath(p,t),"undefined"!==typeof this.opacity&&this._opacity<1&&i.restore(n)}}return i._template}var a=void 0,l={x:0,y:0,width:0,height:0};"undefined"===typeof this._points&&this._dictionary.has("Vertices")?(this._points=this._dictionary.get("Vertices"),a=this._getBoundsValue(this._points)):a=this._getBoundsValue(this._points),l.x=a.x-this.border.width,l.y=a.y-this.border.width,l.width=a.width+2*this.border.width,l.height=a.height+2*this.border.width;var h=new ut(this,[l.x,l.y,l.width,l.height]);h.normal=new $([l.x,l.y,l.width,l.height],this._crossReference);var c=h.normal;en(c,this._getRotationAngle()),c._writeTransformation=!1;i=h.normal.graphics;var u=new qt;this.innerColor&&(u.backBrush=new oi(this._innerColor)),this.border.width>0&&this.color&&(u.borderPen=new ai(this._color,this.border.width)),this.color&&(u.foreBrush=new oi(this._color)),"undefined"!==typeof this.opacity&&this._opacity<1?(i.save(),i.setTransparency(this._opacity)):i.save();var p=new Ze;if("undefined"!==typeof this._polylinePoints&&null!==this._polylinePoints?p._points=this._polylinePoints:p._points=this._getLinePoints(),"undefined"!==typeof this._pathTypes&&null!==this._polylinePoints)p._pathTypes=this._pathTypes;else{this._pathTypes=[],this._pathTypes.push(0);for(o=1;o<p._points.length;o++)this._pathTypes.push(1);p._pathTypes=this._pathTypes}if(i._drawPath(p,u.borderPen,u.backBrush),"undefined"!==typeof this.opacity&&this._opacity<1&&i.restore(),i.restore(),this._isBounds){c._content.dictionary._updated=!0;var d=[];d.push(Fn.get(Ri(this.beginLineStyle))),d.push(Fn.get(Ri(this.endLineStyle))),this._dictionary.update("LE",d),this._dictionary.update("LLE",this.lineExtension),this._dictionary.update("Vertices",this._points)}return this._dictionary.update("Rect",[l.x,l.y,l.x+l.width,l.y+l.height]),c},t.prototype._getLinePoints=function(){var e,t=this._page.size[1];if(this._dictionary.has("Vertices")&&!this._isBounds){var i=this._dictionary.getArray("Vertices");if(i){e=[];for(var n=0;n<i.length;n+=2)e.push([i[Number.parseInt(n.toString(),10)],t-i[n+1]])}}else if(this._points){var r=[];this._points.forEach((function(e){r.push(e)})),e=[];for(n=0;n<r.length;n+=2)this.flatten?e.push([r[Number.parseInt(n.toString(),10)],t-r[n+1]]):e.push([r[Number.parseInt(n.toString(),10)],-r[n+1]])}return e},t}(ft),wt=function(e){function t(t){var i=e.call(this)||this;if(i._linePoints=[],i._firstIntersectionPoint=[0,0],i._secondIntersectionPoint=[0,0],i._dictionary=new Yn,i._dictionary.update("Type",Fn.get("Annot")),i._dictionary.update("Subtype",Fn.get("PolyLine")),"undefined"!==typeof t&&t.length>0){if(t.length>6)throw new Error("Points length should not be greater than 3");i._pointArray=t;for(var n=0;n<t.length;n++)i._linePoints.push(t[Number.parseInt(n.toString(),10)][0]),i._linePoints.push(t[Number.parseInt(n.toString(),10)][1])}return i._type=x.angleMeasurementAnnotation,i}return pt(t,e),Object.defineProperty(t.prototype,"measure",{get:function(){return"undefined"===typeof this._measure&&this._dictionary.has("Measure")&&(this._measure=this._dictionary.get("Measure")),this._measure},set:function(e){e&&!this._isLoaded&&(this._measure=e,this.caption.cap=!0)},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if(!this._pointArray)throw new Error("Points cannot be null or undefined");var e;if(this._dictionary.has("BS"))e=this.border.width;else{var t=new Yn(this._crossReference);t.set("Type",Fn.get("Border")),this._dictionary.set("BS",t)}this._dictionary.has("C")||(this.color=[0,0,0]),"undefined"===typeof e&&(e=1),this._appearanceTemplate=this._createAngleMeasureAppearance()},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if(!e&&this._setAppearance&&(this._appearanceTemplate=this._createAngleMeasureAppearance()),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else if(this._postProcess(),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else this._appearanceTemplate=this._createAngleMeasureAppearance();if(e&&this._appearanceTemplate){var r=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var s=this._appearanceTemplate._content.dictionary.getArray("BBox");s&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-s[0],-s[1]])}this._flattenAnnotationTemplate(this._appearanceTemplate,r)}},t.prototype._createAngleMeasureAppearance=function(){var e=this.border.width,t=this._obtainFont();("undefined"===typeof t||null===t||!this._isLoaded&&1===t.size)&&(t=this._circleCaptionFont,this._pdfFont=t);var i=new ee(p.center,Z.middle),n=this._calculateAngle()*(180/Math.PI);n<0&&(n=-n),n>180&&(n=360-n),this._dictionary.update("Vertices",this._linePoints);var r="font:"+t._metrics._postScriptName+" "+t._size+"pt; color:"+this._colorToHex(this.color);this._dictionary.update("DS",r),(this.text===" "+n.toFixed(2)+"\xb0"||this.text)&&this._dictionary.update("Contents",this.text),"undefined"===typeof this.subject&&this._dictionary.update("Subject","Angle Measurement"),this._dictionary.update("MeasurementTypes",1152),this._dictionary.update("Subtype",new Fn("PolyLine")),this._dictionary.update("IT",new Fn("PolyLineAngle"));var s=new Yn,o=[],l=[],h=[],c=[],u=[];s.set("Type",Fn.get("measureDictionary")),s.set("R","1 in = 1 in"),s.set("Subtype","RL"),s.set("TargetUnitConversion",.1388889);var d=new Yn;d.set("U","in"),d.set("Type","NumberFormat"),d.set("C",1),d.set("D",1),d.set("SS",""),o.push(d);var f=new Yn;f.set("U","\xb0"),f.set("Type","NumberFormat"),f.set("C",1),f.set("D",1),f.set("FD",!0),f.set("SS",""),l.push(f);var g=new Yn;g.set("U","sq in"),g.set("Type","NumberFormat"),g.set("C",1),g.set("D",1),g.set("FD",!0),g.set("SS",""),h.push(g);var m=new Yn;m.set("U","cu in"),m.set("Type","NumberFormat"),m.set("C",1),m.set("D",1),m.set("FD",!0),m.set("SS",""),u.push(m);var y=new Yn;y.set("U","in"),y.set("Type","NumberFormat"),y.set("C",1),y.set("D",1),y.set("SS",""),c.push(y),s.set("D",o),s.set("T",l),s.set("A",h),s.set("X",c),s.set("V",u),this._dictionary.has("Measure")&&In(this._dictionary,this._crossReference,"Measure");var v=this._crossReference._getNextReference();this._crossReference._cacheMap.set(v,s),s._updated=!0,this._dictionary.update("Measure",v);var b=[0,0,0,0],M=this._getAngleBoundsValue(),S=this._obtainLinePoints(),w=[];w.push(0);for(var _=1;_<S.length;_++)w.push(1);(new Ze)._addRectangle(S[1][0]-this._radius,-(S[1][1]+this._radius),2*this._radius,2*this._radius);var I=t.measureString(n.toString()+"\xb0",[0,0],i,0,0),N=[(this._firstIntersectionPoint[0]+this._secondIntersectionPoint[0])/2,(this._firstIntersectionPoint[1]+this._secondIntersectionPoint[1])/2],C=[S[1][0],-S[1][1]],x=S[1][0]+this._radius*Math.cos((this._startAngle+this._sweepAngle/2)*(Math.PI/180)),D=S[1][1]+this._radius*Math.sin((this._startAngle+this._sweepAngle/2)*(Math.PI/180)),T=[N[0],N[1]],A=T[0]-C[0],j=T[1]-C[1],E=Math.atan2(j,A)*(180/Math.PI),k=!1,z=!1,L=!1,O=!1;E>0?E<45?z=!0:E>=45&&E<135?L=!0:k=!0:0===(E=-E)?(new Ze)._addRectangle(M[0],M[1],M[2],M[3]):E<45?z=!0:E>=45&&E<135?O=!0:k=!0,0===b[0]&&0===b[1]&&0===b[2]&&0===b[3]&&(b=M,this.bounds={x:M[0],y:M[1],width:M[2],height:M[3]});var P=new Ze;P._pathTypes=w,P._points=S,this._dictionary.set("Rect",[b[0],b[1],b[0]+b[2],b[1]+b[3]]);var F=new ut(this,M);F.normal=new $(b,this._crossReference);var B=F.normal;B._writeTransformation=!1;var V=F.normal.graphics,U=e/2,H=new ai(this._color,U);this.border.style===a.dashed&&(H._dashStyle=R.dash);var W=new oi(this._color);V.save(),P._addArc(S[1][0]-this._radius,S[1][1]-this._radius,2*this._radius,2*this._radius,this._startAngle,this._sweepAngle),V._drawPath(P,H),L?V.drawString(n.toString()+"\xb0",t,[x-I[0]/2,-(-D+t._metrics._getHeight()+2),0,0],null,W):z?V.drawString(n.toString()+"\xb0",t,[x+2,-(-D+t._metrics._getHeight()/2),0,0],null,W):k?V.drawString(n.toString()+"\xb0",t,[x-I[0]-2,-(-D+t._metrics._getHeight()/2),0,0],null,W):O&&V.drawString(n.toString()+"\xb0",t,[x-I[0]/2,D+2,0,0],null,W),V.restore(),V._template._content.dictionary._updated=!0;var Y=this._crossReference._getNextReference();this._crossReference._cacheMap.set(Y,V._template._content),V._template._content.reference=Y,this._dictionary.has("AP")&&In(this._dictionary.get("AP"),this._crossReference,"N");var Q=new Yn;return Q.set("N",Y),Q._updated=!0,this._dictionary.set("AP",Q),B},t.prototype._getAngleBoundsValue=function(){for(var e=this._obtainLinePoints(),t=0;t<e.length;t++)e[Number.parseInt(t.toString(),10)][1]=-e[Number.parseInt(t.toString(),10)][1];var i=new Ze;return i._points=e,i._pathTypes=[0,1,1],i._getBounds()},t.prototype._obtainLinePoints=function(){var e,t;if(this._linePoints){e=new Array(this._linePoints.length);for(var i=0;i<this._linePoints.length;i++)e[Number.parseInt(i.toString(),10)]=this._linePoints[Number.parseInt(i.toString(),10)];t=new Array(e.length/2);for(var n=0,r=0;r<e.length;r+=2)t[Number.parseInt(n.toString(),10)]=[e[Number.parseInt(r.toString(),10)],-e[r+1]],n++}return t},t.prototype._calculateAngle=function(){var e=[0,0];"undefined"!==typeof this._linePoints&&0===this._linePoints.length&&this._isLoaded&&this._dictionary.has("Vertices")&&(this._linePoints=this._dictionary.get("Vertices"));for(var t=0;t<this._linePoints.length;t++)e[Number.parseInt(t.toString(),10)]=this._linePoints[Number.parseInt(t.toString(),10)];for(var i=[],n=0;n<e.length;n+=2)i.push([e[Number.parseInt(n.toString(),10)],e[n+1]]);var r=i[0],s=i[1],o=i[2],a=Math.sqrt(Math.pow(s[0]-r[0],2)+Math.pow(s[1]-r[1],2)),l=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2));this._radius=Math.min(a,l)/4;var h,c,u=new Ze;u._points=i,u._pathTypes=[0,1,1];var p=this._findLineCircleIntersectionPoints(s[0],s[1],this._radius,r,s,h,c);h=p.first,c=p.second,0===this._firstIntersectionPoint[0]&&0===this._firstIntersectionPoint[1]&&(this._firstIntersectionPoint=c),h=[0,0],c=[0,0],h=(p=this._findLineCircleIntersectionPoints(s[0],s[1],this._radius,o,s,h,c)).first,c=p.second,0===this._secondIntersectionPoint[0]&&0===this._secondIntersectionPoint[1]&&(this._secondIntersectionPoint=c);var d=this._firstIntersectionPoint[0]-s[0],f=this._firstIntersectionPoint[1]-s[1],g=Math.atan2(f,d)*(180/Math.PI);d=this._secondIntersectionPoint[0]-s[0],f=this._secondIntersectionPoint[1]-s[1];var m=Math.atan2(f,d)*(180/Math.PI);return m=m>0?m=360-m:-m,180===(g=g>0?g=360-g:-g)&&0===m?(this._startAngle=g,this._sweepAngle=180):0===g&&180===m?(this._startAngle=m,this._sweepAngle=180):g<180?g>m?(this._startAngle=m,this._sweepAngle=g-m):g+180<m?(this._startAngle=m,this._sweepAngle=360-m+g):(this._startAngle=g,this._sweepAngle=m-g):g<m?(this._startAngle=g,this._sweepAngle=m-g):g-180>m?(this._startAngle=g,this._sweepAngle=360-g+m):(this._startAngle=m,this._sweepAngle=g-m),Math.atan2(o[0]-s[0],o[1]-s[1])-Math.atan2(r[0]-s[0],r[1]-s[1])},t.prototype._findLineCircleIntersectionPoints=function(e,t,i,n,r,s,o){var a=r[0]-n[0],l=r[1]-n[1],h=a*a+l*l,c=2*(a*(n[0]-e)+l*(n[1]-t)),u=c*c-4*h*((n[0]-e)*(n[0]-e)+(n[1]-t)*(n[1]-t)-i*i);if(h<=1e-7||u<0)s=[Number.NaN,Number.NaN],o=[Number.NaN,Number.NaN];else if(0===u){var p=-c/(2*h);s=[n[0]+p*a,n[1]+p*l],o=[Number.NaN,Number.NaN]}else{p=(-c+Math.sqrt(u))/(2*h);s=[n[0]+p*a,n[1]+p*l],p=(-c-Math.sqrt(u))/(2*h),o=[n[0]+p*a,n[1]+p*l]}return{first:s,second:o}},t}(ft),_t=function(e){function t(t,i){var n=e.call(this)||this;return n._inkPointsCollection=[],n._previousCollection=[],n._isModified=!1,n._dictionary=new Yn,n._dictionary.update("Type",Fn.get("Annot")),n._dictionary.update("Subtype",Fn.get("Ink")),"undefined"!==typeof t&&(n._points=t,n.bounds={x:t[0],y:t[1],width:t[2],height:t[3]}),"undefined"!==typeof i&&(n._linePoints=i),n._type=x.inkAnnotation,n}return pt(t,e),Object.defineProperty(t.prototype,"inkPointsCollection",{get:function(){if(0===this._inkPointsCollection.length&&this._dictionary.has("InkList")){var e=this._dictionary.get("InkList");Array.isArray(e)&&e.length>0&&(this._inkPointsCollection=e)}return this._inkPointsCollection},set:function(e){Array.isArray(e)&&e.length>0&&e!==this._inkPointsCollection&&(this._inkPointsCollection=e,this._isModified=!0,this._isLoaded&&this._dictionary.update("InkList",e))},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if("undefined"===typeof this._points||null===this._points)throw new Error("Points cannot be null or undefined");var e;this._dictionary.has("BS")?e=this.border.width:((s=new Yn(this._crossReference)).set("Type",Fn.get("Border")),this._dictionary.set("BS",s));this._dictionary.has("C")||(this.color=[0,0,0]),"undefined"===typeof e&&(e=1);var t=this._addInkPoints(),i=[t[0],t[1],t[0]+t[2],t[1]+t[3]];if(this._dictionary.update("Rect",i),this._setAppearance){var n=new ut(this,t);n.normal=new $(t,this._crossReference);var r=n.normal;en(r,this._getRotationAngle()),r._writeTransformation=!1,this._appearanceTemplate=this._createInkAppearance(r),this._dictionary.has("AP")&&In(this._dictionary.get("AP"),this._crossReference,"N");var s=new Yn;this._appearanceTemplate._content.dictionary._updated=!0;var o=this._crossReference._getNextReference();this._crossReference._cacheMap.set(o,this._appearanceTemplate._content),this._appearanceTemplate._content.reference=o,s.set("N",o),s._updated=!0,this._dictionary.set("AP",s)}},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isFlatten=e,this._isLoaded){if(this._setAppearance||e&&!this._dictionary.has("AP")){0===this._inkPointsCollection.length&&(this._inkPointsCollection=this._obtainInkListCollection());var t=this._getInkBoundsValue();if(en(s=new $(t,this._crossReference),this._getRotationAngle()),s._writeTransformation=!1,this._appearanceTemplate=this._createInkAppearance(s),this._dictionary.update("Rect",[t[0],t[1],t[0]+t[2],t[1]+t[3]]),!e){this._dictionary.has("AP")&&In(this._dictionary.get("AP"),this._crossReference,"N");var i=new Yn;this._appearanceTemplate._content.dictionary._updated=!0;var n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),this._appearanceTemplate._content.reference=n,i.set("N",n),i._updated=!0,this._dictionary.set("AP",i)}}if(!this._appearanceTemplate&&e&&this._dictionary.has("AP"))if((i=this._dictionary.get("AP"))&&i.has("N")){var r=i.get("N");n=i.getRaw("N");r&&(n&&(r.reference=n),this._appearanceTemplate=new $(r,this._crossReference))}}else if(this._postProcess(),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((i=this._dictionary.get("AP"))&&i.has("N")){r=i.get("N"),n=i.getRaw("N");r&&(n&&(r.reference=n),this._appearanceTemplate=new $(r,this._crossReference))}}else{0===this._inkPointsCollection.length&&(this._inkPointsCollection=this._obtainInkListCollection());var s;t=this._getInkBoundsValue();en(s=new $(t,this._crossReference),this._getRotationAngle()),s._writeTransformation=!1,this._appearanceTemplate=this._createInkAppearance(s),this._dictionary.update("Rect",[t[0],t[1],t[0]+t[2],t[1]+t[3]])}if("undefined"!==typeof this.flattenPopups&&this.flattenPopups&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate&&null!==this._appearanceTemplate._size&&"undefined"!==typeof this._appearanceTemplate._size){var o=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var a=this._appearanceTemplate._content.dictionary.getArray("BBox");a&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-a[0],-a[1]])}this._flattenAnnotationTemplate(this._appearanceTemplate,o)}},t.prototype._createInkAppearance=function(e){var t=e.graphics;if(null!==this._inkPointsCollection&&this._inkPointsCollection.length>0&&null!==this.color&&"undefined"!==typeof this._color){for(var i=0;i<this._inkPointsCollection.length;i++)if(this._inkPointsCollection[Number.parseInt(i.toString(),10)].length%2===0){var n=this._inkPointsCollection[Number.parseInt(i.toString(),10)];if(2===n.length)n=[n[0]-.5,n[1]-.5,n[0]+.5,n[1]+.5];for(var r=new Array(n.length/2),s=0,o=0;o<n.length;o+=2)r[Number.parseInt(s.toString(),10)]=[n[Number.parseInt(o.toString(),10)],n[o+1]],s++;var a=s+2*s-2,l=new Array(a),h=[],c=[],u=this._getControlPoints(r,h,c);h=u.controlP1,c=u.controlP2;for(var p=0,d=0;d<a-1;d+=3)l[Number.parseInt(d.toString(),10)]=r[Number.parseInt(p.toString(),10)],l[d+1]=h[Number.parseInt(p.toString(),10)],l[d+2]=c[Number.parseInt(p.toString(),10)],p++;if(l[a-1]=r[r.length-1],null!==l){for(var f=l,g=0;g<f.length;g++){var m=f[Number.parseInt(g.toString(),10)];f[Number.parseInt(g.toString(),10)]=[m[0],-m[1]]}var y=new Ze,v=null;if(2===r.length){var b=r[1][0]-r[0][0],M=r[1][1]-r[0][1];y._addEllipse(r[0][0]+.5,-(r[0][1]+M+.5),b,M),(v=new Ze)._pathTypes=y._pathTypes,v._points=y._points}else y._addBezierPoints(f),(v=new Ze)._pathTypes=y._pathTypes,v._points=f;var S=new ai(this.color,this.border.width);if("undefined"!==typeof this.opacity&&this._opacity<1){var w=t.save();t.setTransparency(this._opacity),this._isLoaded&&(S._lineCap=F.round),t._drawPath(v,S),t.restore(w)}else t._drawPath(v,S)}}this._isFlatten&&(this.bounds={x:this.bounds.x,y:this._page.size[1]-(this.bounds.y+this.bounds.height),width:this.bounds.width,height:this.bounds.height})}return e},t.prototype._getControlPoints=function(e,t,i){if(null===e)throw new Error("pointCollection");var n=e.length-1;if(n<1)throw new Error("At least two knot PointFs required pointCollection");1===n&&(i=[[2*(t=[[(2*e[0][0]+e[1][0])/3,(2*e[0][1]+e[1][1])/3]])[0][0]-e[0][0],2*t[0][1]-e[0][1]]]);for(var r=[],s=1;s<n-1;++s)r[Number.parseInt(s.toString(),10)]=4*e[Number.parseInt(s.toString(),10)][0]+2*e[s+1][0];r[0]=e[0][0]+2*e[1][0],r[n-1]=(8*e[n-1][0]+e[Number.parseInt(n.toString(),10)][0])/2;var o=this._getSingleControlPoint(r);for(s=1;s<n-1;++s)r[Number.parseInt(s.toString(),10)]=4*e[Number.parseInt(s.toString(),10)][1]+2*e[s+1][1];r[0]=e[0][1]+2*e[1][1],r[n-1]=(8*e[n-1][1]+e[Number.parseInt(n.toString(),10)][1])/2;var a=this._getSingleControlPoint(r);t=new Array(n),i=new Array(n);for(s=0;s<n;++s)if(t[Number.parseInt(s.toString(),10)]=[o[Number.parseInt(s.toString(),10)],a[Number.parseInt(s.toString(),10)]],s<n-1)i[Number.parseInt(s.toString(),10)]=[2*e[s+1][0]-o[s+1],2*e[s+1][1]-a[s+1]];else{var l=(e[Number.parseInt(n.toString(),10)][0]+o[n-1])/2,h=(e[Number.parseInt(n.toString(),10)][1]+a[n-1])/2;i[Number.parseInt(s.toString(),10)]=[l,h]}return{controlP1:t,controlP2:i}},t.prototype._getSingleControlPoint=function(e){var t=e.length,i=[],n=[],r=2;i[0]=e[0]/r;for(var s=1;s<t;s++)n[Number.parseInt(s.toString(),10)]=1/r,r=(s<t-1?4:3.5)-n[Number.parseInt(s.toString(),10)],i[Number.parseInt(s.toString(),10)]=(e[Number.parseInt(s.toString(),10)]-i[s-1])/r;for(s=1;s<t;s++)i[t-s-1]-=n[t-s]*i[t-s];return i},t.prototype._addInkPoints=function(){var e=this,t=[];null===this._linePoints||0!==this._previousCollection.length&&!this._isModified||(this._inkPointsCollection.unshift(this._linePoints),this._isModified=!1);var i=Ln(this._inkPointsCollection,this._previousCollection);if(null!==this._inkPointsCollection&&!i){for(var n=0;n<this._inkPointsCollection.length;n++){var r=this._inkPointsCollection[Number.parseInt(n.toString(),10)];t.push(r)}this._dictionary.update("InkList",t)}return this._inkPointsCollection.length>0&&this._inkPointsCollection.forEach((function(t){e._previousCollection.push(t)})),this._getInkBoundsValue()},t.prototype._getInkBoundsValue=function(){var e=[0,0,0,0];this._points&&(this.bounds={x:this._points[0],y:this._points[1],width:this._points[2],height:this._points[3]}),e=[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height];var t=this.border.width;if(null!==this._inkPointsCollection&&this._inkPointsCollection.length>0){for(var i=[],n=0;n<this._inkPointsCollection.length;n++){var r=this._inkPointsCollection[Number.parseInt(n.toString(),10)];if(null!==r&&r.length%2===0)for(var s=0;s<r.length;s++)i.push(r[Number.parseInt(s.toString(),10)])}var o=!1;this._isLoaded||2!==i.length||(o=!0,i.push(i[0]+1),i.push(i[1]+1));var a=new Array(i.length/2),l=0;for(s=0;s<i.length;s+=2)a[Number.parseInt(l.toString(),10)]=[i[Number.parseInt(s.toString(),10)],i[s+1]],l++;if(this._isLoaded)if(a.length>0){var h=0,c=0,u=0,p=0,d=!0;for(n=0;n<a.length;n++){var f=a[Number.parseInt(n.toString(),10)];d?(h=f[0],c=f[1],d=!1):(f[0]<h?h=f[0]:f[0]>u&&(u=f[0]),f[1]<c?c=f[1]:f[1]>p&&(p=f[1]))}e=[h,c,u-h,p-c],this.bounds={x:e[0],y:e[1],width:e[2],height:e[3]},(this._isFlatten||this._setAppearance)&&(e[0]=this.bounds.x-t,e[1]=this.bounds.y-t,e[2]=this.bounds.width+2*t,e[3]=this.bounds.height+2*t)}else e=this._points?this._points:a.length>0?this._dictionary.get("Rect"):[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height];else e=this._calculateInkBounds(a,e,t,o);this.bounds={x:e[0],y:e[1],width:e[2],height:e[3]}}return e},t.prototype._calculateInkBounds=function(e,t,i,n){if(e.length>5){for(var r=0,s=0,o=0,a=0,l=!0,h=0;h<e.length;h++){var c=e[Number.parseInt(h.toString(),10)];l?(r=c[0],s=c[1],o=c[0],a=c[1],l=!1):(c[0]<r?r=c[0]:c[0]>o&&(o=c[0]),c[1]<s?s=c[1]:c[1]>a&&(a=c[1]))}if(t[2]<o&&(o=t[2]),t[3]<a&&(a=t[3]),t=[r,s,o,a],this._isFlatten||this._setAppearance){var u=n?2:3;t[0]=t[0]-i,t[1]=t[1]-i,t[2]=t[2]+u*i,t[3]=t[3]+u*i}}else t="undefined"===typeof this._points&&e.length>0?this._dictionary.get("Rect"):this._points;return t},t.prototype._obtainInkListCollection=function(){var e=[];if(this._dictionary.has("InkList"))for(var t=this._dictionary.getArray("InkList"),i=[],n=0;n<t.length;n++){for(var r=t[Number.parseInt(n.toString(),10)],s=0;s<r.length;s++)i.push(r[Number.parseInt(s.toString(),10)]);e.push(i)}return e},t}(ft),It=function(e){function t(t,i,n,r,s){var o=e.call(this)||this;return o._icon=b.note,o._iconString="",o._stateModel=S.none,o._state=M.none,o._open=!1,o._isReview=!1,o._isComment=!1,o._dictionary=new Yn,o._dictionary.update("Type",Fn.get("Annot")),o._dictionary.update("Subtype",Fn.get("Text")),"undefined"!==typeof t&&(o.text=t),"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&"undefined"!==typeof s&&(o.bounds={x:i,y:n,width:r,height:s}),o._type=x.popupAnnotation,o}return pt(t,e),Object.defineProperty(t.prototype,"open",{get:function(){return this._dictionary.has("Open")&&(this._open=this._dictionary.get("Open")),this._open},set:function(e){"undefined"!==typeof e&&(this._open=e,this._dictionary.update("Open",this._open))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this._dictionary.has("Name")&&(this._icon=hn(this._dictionary.get("Name").name)),this._icon},set:function(e){"undefined"!==typeof e&&(this._icon=e,this._dictionary.update("Name",Fn.get(this._obtainIconName(this._icon))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateModel",{get:function(){return this._dictionary.has("StateModel")&&(this._stateModel=dn(this._dictionary.get("StateModel"))),this._stateModel},set:function(e){"undefined"!==typeof e&&(this._stateModel=e,this._dictionary.update("StateModel",pn(this._stateModel)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._dictionary.has("State")&&(this._state=un(this._dictionary.get("State"))),this._state},set:function(e){"undefined"!==typeof e&&(this._state=e,this._dictionary.update("State",cn(this._state)))},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),i.has("IRT")&&(n._isReview=Sn(i),n._isReview||(n._isComment=wn(i))),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){var e;("undefined"!==typeof this.bounds&&null!==this.bounds||(this._bounds={x:0,y:0,width:0,height:0}),this._dictionary.has("BS"))?e=this.border.width:((i=new Yn(this._crossReference)).set("Type",Fn.get("Border")),this._dictionary.set("BS",i));"undefined"===typeof e&&(e=1);var t=[this.bounds.x,this.bounds.y,this.bounds.x+this.bounds.width,this.bounds.y+this.bounds.height];if(this._dictionary.update("Rect",t),this._setAppearance&&(this._appearanceTemplate=this._createPopupAppearance(),this._appearanceTemplate)){this._dictionary.has("AP")&&In(this._dictionary.get("AP"),this._crossReference,"N");var i=new Yn;this._appearanceTemplate._content.dictionary._updated=!0;var n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),this._appearanceTemplate._content.reference=n,i.set("N",n),i._updated=!0,this._dictionary.set("AP",i)}var r=this._page.size,s=[this.bounds.x,r[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];this._dictionary.update("Rect",[s[0],s[1],s[0]+s[2],s[1]+s[3]])},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if(!this._appearanceTemplate&&this._isFlattenPopups&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");if(i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference)),null!==this._appearanceTemplate){var r=this._page.graphics.save();this.opacity<1&&this._page.graphics.setTransparency(this.opacity),this._page.graphics._drawTemplate(this._appearanceTemplate,this.bounds),this._page.graphics.restore(r)}}}else if(this._postProcess(),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))}}else this._appearanceTemplate=this._createPopupAppearance();"undefined"!==typeof this.flattenPopups&&this.flattenPopups&&this.flatten&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._removeAnnotation(this._page,this)},t.prototype._createPopupAppearance=function(){var e;if(this._dictionary.has("Name")&&"Comment"===this._dictionary.get("Name").name&&this._dictionary.has("Rect")){var t=[0,0,this.bounds.width,this.bounds.height];en(e=new $(t,this._crossReference),this._getRotationAngle());var i=e.graphics;if(null!==this._dictionary.getArray("Rect")){var n=new ai([0,0,0],.3),r=new oi(this.color),s=new ai([255,255,255],1),o=new Array;o.push([6,8]),o.push([9,8]),o.push([4,12]);var a=new Ze;0===this.color[0]&&0===this.color[0]&&0===this.color[0]&&(r=new oi([255,215,0])),i.save();var l=new $([0,0,15,14],this._crossReference);l.graphics.drawRectangle(0,0,15,14,n,r),l.graphics.drawPolygon(o,n,new oi([255,255,255])),a._addEllipse(2,2,11,8),l.graphics._drawPath(a,n,new oi([255,255,255])),l.graphics.drawArc(2,2,11,8,108,12.7,s),l.graphics.drawLine(n,4,12,6.5,10),i._drawTemplate(l,{x:0,y:0,width:this.bounds.width,height:this.bounds.height}),i.restore()}}return e},t.prototype._obtainIconName=function(e){switch(e){case b.note:this._iconString="Note";break;case b.comment:this._iconString="Comment";break;case b.help:this._iconString="Help";break;case b.insert:this._iconString="Insert";break;case b.key:this._iconString="Key";break;case b.newParagraph:this._iconString="NewParagraph";break;case b.paragraph:this._iconString="Paragraph"}return this._iconString},t}(ft),Nt=function(e){function t(t,i,n,r,s){var o=e.call(this)||this;return o._dictionary=new Yn,o._dictionary.update("Type",Fn.get("Annot")),o._dictionary.update("Subtype",Fn.get("Link")),"undefined"!==typeof t&&"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&(o.bounds={x:t,y:i,width:n,height:r}),"undefined"!==typeof s&&null!==s&&(o._fileName=s),o._type=x.fileLinkAnnotation,o}return pt(t,e),Object.defineProperty(t.prototype,"action",{get:function(){if("undefined"===typeof this._action&&this._dictionary.has("A")){var e=this._dictionary.get("A");if(e&&e.has("Next")){var t=e.get("Next");if(Array.isArray(t))for(var i=0;i<t.length;i++){var n=t[Number.parseInt(i.toString(),10)];if(n&&n instanceof Vn){var r=this._crossReference._fetch(n);r.has("JS")&&(this._action=r.get("JS"))}}}}return this._action},set:function(e){if(this._isLoaded||"string"!==typeof e||(this._action=e),this._isLoaded&&"string"===typeof e&&this.action!==e&&this._dictionary.has("A")){var t=this._dictionary.get("A");if(t&&t.has("Next")){var i=t.get("Next");if(Array.isArray(i))for(var n=0;n<i.length;n++){var r=i[Number.parseInt(n.toString(),10)];if(r&&r instanceof Vn){var s=this._crossReference._fetch(r);s.has("JS")&&(s.update("JS",e),this._action=e,this._dictionary._updated=!0)}}}}},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var e;if(this._dictionary.has("BS"))e=this.border.width;else{var t=new Yn(this._crossReference);t.set("Type",Fn.get("Border")),this._dictionary.set("BS",t)}"undefined"===typeof e&&(e=1),this._addAction();var i=this._page.size,n=[this.bounds.x,i[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];this._dictionary.update("Rect",[n[0],n[1],n[0]+n[2],n[1]+n[3]])},t.prototype._addAction=function(){var e=this;if(this._dictionary.has("A")){var t=this._dictionary.get("A");if(t){if("undefined"!==typeof this._action&&null!==this._action&&t.has("Next")){var i=t.get("Next");Array.isArray(i)&&i.length>0&&i.forEach((function(t){t&&t instanceof Vn&&t._isNew&&e._crossReference._cacheMap.delete(t)}))}t.has("F")&&In(t,this._crossReference,"F")}In(this._dictionary,this._crossReference,"A")}var n=new Yn;n.set("Type",Fn.get("Action")),n.set("S",Fn.get("Launch"));var r=new Yn;if(r.set("Type",Fn.get("Filespec")),r.set("UF",this._fileName),"undefined"!==typeof this._action&&null!==this._action){var s=new Yn;s.set("Type",Fn.get("Action")),s.set("S",Fn.get("JavaScript")),s.set("JS",this._action);var o=this._crossReference._getNextReference();this._crossReference._cacheMap.set(o,s),s._updated=!0,n.set("Next",[o])}var a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,r),r._updated=!0,n.set("F",a),n._updated=!0,this._dictionary.set("A",n)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isLoaded||this._postProcess(),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var r=new $(t,this._crossReference),s=this._validateTemplateMatrix(r._content.dictionary);this._flattenAnnotationTemplate(r,s)}else this._removeAnnotation(this._page,this)}},t}(dt),Ct=function(e){function t(t,i,n,r,s){var o=e.call(this)||this;return o._dictionary=new Yn,o._dictionary.update("Type",Fn.get("Annot")),o._dictionary.update("Subtype",Fn.get("Link")),"undefined"!==typeof t&&"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&(o.bounds={x:t,y:i,width:n,height:r}),"undefined"!==typeof s&&null!==s&&(o._uri=s),o._type=x.uriAnnotation,o}return pt(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){if("undefined"===typeof this._uri&&this._dictionary.has("A")){var e=this._dictionary.get("A");e.has("URI")&&(this._uri=e.get("URI"))}return this._uri},set:function(e){if("string"===typeof e)if(this._isLoaded&&this._dictionary.has("A")&&e!==this.uri){var t=this._dictionary.get("A");t.has("URI")&&(this._uri=e,t.update("URI",e),this._dictionary._updated=!0)}else this._uri=e},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var e;if(this._dictionary.has("BS"))e=this.border.width;else{var t=new Yn(this._crossReference);t.set("Type",Fn.get("Border")),this._dictionary.set("BS",t)}"undefined"===typeof e&&(e=1),this._addAction();var i=this._page.size,n=[this.bounds.x,i[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];this._dictionary.update("Rect",[n[0],n[1],n[0]+n[2],n[1]+n[3]])},t.prototype._addAction=function(){var e=new Yn;e.set("Type",Fn.get("Action")),e.set("S",Fn.get("URI")),"undefined"!==typeof this._uri&&e.set("URI",this._uri),e._updated=!0,this._dictionary.set("A",e),this._dictionary.update("Border",[this.border.hRadius,this.border.vRadius,this.border.width])},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isLoaded||this._postProcess(),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var r=new $(t,this._crossReference),s=this._validateTemplateMatrix(r._content.dictionary);this._flattenAnnotationTemplate(r,s)}else this._removeAnnotation(this._page,this)}},t}(dt),xt=function(e){function t(t,i,n,r){var s=e.call(this)||this;return s._dictionary=new Yn,s._dictionary.update("Type",Fn.get("Annot")),s._dictionary.update("Subtype",Fn.get("Link")),"undefined"!==typeof t&&"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&(s.bounds={x:t,y:i,width:n,height:r}),s._type=x.documentLinkAnnotation,s}return pt(t,e),Object.defineProperty(t.prototype,"destination",{get:function(){return this._isLoaded&&(this.destination=this._obtainDestination()),this._destination},set:function(e){null!==e&&(this._destination=e)},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");this._addDocument();var e=this._page.size,t=[this.bounds.x,e[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];this._dictionary.update("Rect",[t[0],t[1],t[0]+t[2],t[1]+t[3]])},t.prototype._obtainDestination=function(){if(this._dictionary.has("Dest")){var e=this._dictionary.get("Dest"),t=void 0;if(e[0]instanceof Vn&&(t=e[0]),("undefined"===typeof t||null===t)&&"number"===typeof e[0]){var i=e[0];if(h=this._crossReference._document.getPage(i))if("XYZ"===(g=e[1]).name){var n=e[2],r=e[3],s=e[4],o="undefined"!==typeof r&&null!==r?h.size[1]-r:0,a="undefined"!==typeof n&&null!==n?n:0;this._destination=new Zt(h,[a,o]),"undefined"!==typeof s&&null!==s&&(this._destination.zoom=s),("undefined"===typeof n&&null===n||"undefined"===typeof r&&null===r||"undefined"===typeof s&&null===s)&&this._destination._setValidation(!1)}else this._destination=new Zt(h),this._destination.mode=I.fitToPage}if(t){var l=ui(this._crossReference._document,this._crossReference._fetch(t)),h=this._crossReference._document.getPage(l);if(e[1]instanceof Fn)if(g=e[1])if("XYZ"===g.name){n=e[2];var c=e[3];s=e[4],o="undefined"!==typeof c&&null!==c?h.size[1]-c:0,a="undefined"!==typeof n&&null!==n?n:0;this._destination=new Zt(h,[a,o]),"undefined"!==typeof s&&null!==s&&(this._destination.zoom=s),("undefined"===typeof n&&null===n||"undefined"===typeof c&&null===c||"undefined"===typeof s&&null===s)&&this._destination._setValidation(!1)}else h&&"Fit"===g.name&&(this._destination=new Zt(h),this._destination.mode=I.fitToPage)}}else if(this._dictionary.has("A")&&!this._destination){var u=this._dictionary.get("A");if(u.has("D")){var p=u.get("D");if(p){var d=this._crossReference._fetch(p),f=void 0;if(Array.isArray(d)&&(f=d),f&&f[0]instanceof Vn){var g,m=this._crossReference._document;l=ui(m,this._crossReference._fetch(f[0]));if(h=m.getPage(l))if("FitBH"===(g=f[1]).name||"FitH"===g.name){var y=f[2];o="undefined"!==typeof y&&null!==y?h.size[1]-y:0;this._destination=new Zt(h,[0,o]),"undefined"!==typeof y&&null!==y||this._destination._setValidation(!1)}else if("XYZ"===g.name){n=f[2];var v=f[3];s=f[4],o="undefined"!==typeof v&&null!==v?h.size[1]-v:0,a="undefined"!==typeof n&&null!==n?n:0;this._destination=new Zt(h,[a,o]),"undefined"!==typeof s&&null!==s&&(this._destination.zoom=s),("undefined"!==typeof n&&null!==n||"undefined"!==typeof v&&null!==v||"undefined"!==typeof s&&null!==s)&&this._destination._setValidation(!1)}else if("FitR"===g.name){if(6===f.length){n=f[2];var b=f[3],M=f[4],S=f[5];this._destination=new Zt(h,[n,b,M,S])}}else"Fit"===g.name&&(this._destination=new Zt(h),this._destination.mode=I.fitToPage)}}}}return this._destination},t.prototype._addDocument=function(){this.destination&&this._dictionary.set("Dest",this.destination._array)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isLoaded||this._postProcess(),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var r=new $(t,this._crossReference),s=this._validateTemplateMatrix(r._content.dictionary);this._flattenAnnotationTemplate(r,s)}else this._removeAnnotation(this._page,this)}},t}(dt),Dt=function(e){function t(t,i,n,r,s,o,a,l){var h=e.call(this)||this;return h._isActionAdded=!1,h._dictionary=new Yn,h._dictionary.update("Type",Fn.get("Annot")),h._dictionary.update("Subtype",Fn.get("Link")),"undefined"!==typeof t&&"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&(h.bounds={x:t,y:i,width:n,height:r}),h._textWebLink="undefined"!==typeof l&&null!==l?l:"","undefined"!==typeof s&&null!==s&&(h._brush=new oi(s)),"undefined"!==typeof o&&null!==o&&(h._pen=new ai(o,a||1)),h._type=x.textWebLinkAnnotation,h}return pt(t,e),Object.defineProperty(t.prototype,"font",{get:function(){return this._font},set:function(e){this._font=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){if("undefined"===typeof this._url&&this._dictionary.has("A")){var e=this._dictionary.get("A");e.has("URI")&&(this._url=e.get("URI"))}return this._url},set:function(e){if("string"===typeof e)if(this._isLoaded&&this._dictionary.has("A")){var t=this._dictionary._get("A"),i=this._dictionary.get("A");i&&i.has("URI")&&(this._url=e,i.update("URI",e),t instanceof Vn||(this._dictionary._updated=i._updated))}else this._url=e},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");this._isActionAdded||(this._addAction(),this._isActionAdded=!0);var e=this._page.size,t=[this.bounds.x,e[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];this._dictionary.update("Rect",[t[0],t[1],t[0]+t[2],t[1]+t[3]])},t.prototype._addAction=function(){var e=[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height];"undefined"!==typeof this.font&&null!==this.font||(this.font=this._lineCaptionFont);var t=new ee(p.left,Z.top);this._page.graphics.drawString(this._textWebLink,this.font,e,this._pen,this._brush,t);var i=new Yn;i.set("Type",Fn.get("Action")),i.set("S",Fn.get("URI")),"undefined"!==typeof this._url&&i.set("URI",this._url),i._updated=!0,this._dictionary.set("A",i),this._dictionary.update("Border",[0,0,0])},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isLoaded||this._postProcess(),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var r=new $(t,this._crossReference),s=this._validateTemplateMatrix(r._content.dictionary);this._flattenAnnotationTemplate(r,s)}else this._removeAnnotation(this._page,this)}},t}(dt),Tt=function(e){function t(t,i,n,r,s,o){var a=e.call(this)||this;return a._icon=w.pushPin,a._iconString="",a._dictionary=new Yn,a._dictionary.update("Type",Fn.get("Annot")),a._dictionary.update("Subtype",Fn.get("FileAttachment")),"undefined"!==typeof t&&"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&(a.bounds={x:t,y:i,width:n,height:r}),"undefined"!==typeof s&&(a._fileName=s),a._stream=new Zn("string"===typeof o?Ci(o):o),a._type=x.fileAttachmentAnnotation,a}return pt(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this._dictionary.has("Name")&&(this._icon=fn(this._dictionary.get("Name").name)),this._icon},set:function(e){"undefined"!==typeof e&&(this._icon=e,this._dictionary.update("Name",Fn.get(this._obtainIconName(this._icon))))},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var e=this._page.size,t=[this.bounds.x,e[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];this._dictionary.update("Rect",[t[0],t[1],t[0]+t[2],t[1]+t[3]]),this._addAttachment()},t.prototype._addAttachment=function(){if(this._dictionary.has("FS")){var e=this._dictionary.get("FS");if(e&&e.has("EF")){var t=e.get("EF");t&&t.has("F")&&In(t,this._crossReference,"F")}In(this._dictionary,this._crossReference,"FS")}var i=new Yn;i.set("Type",Fn.get("Filespec")),i.set("Desc",this._fileName),i.set("F",this._fileName),i.set("UF",this._fileName);var n=new Yn;n.set("Type",Fn.get("EmbeddedFile"));var r=new Yn,s=new Date;r.set("CreationDate",s.toTimeString()),r.set("ModDate",(new Date).toTimeString()),r.set("Size",this._stream.length),n.set("Params",r),this._stream.dictionary=new Yn,this._stream.dictionary=n,n._crossReference=this._crossReference;var o=[this._crossReference._newLine.charCodeAt(0),this._crossReference._newLine.charCodeAt(1),37,80,68,70,45];n._crossReference._writeObject(this._stream,o);var a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,this._stream),n._updated=!0;var l=new Yn;l.set("F",a),i.set("EF",l);var h=this._crossReference._getNextReference();this._crossReference._cacheMap.set(h,i),i._updated=!0,this._dictionary.update("FS",h)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isLoaded||this._postProcess(),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var r=new $(t,this._crossReference),s=this._validateTemplateMatrix(r._content.dictionary);this._flattenAnnotationTemplate(r,s)}else this._removeAnnotation(this._page,this)}},t.prototype._obtainIconName=function(e){switch(e){case w.pushPin:this._iconString="PushPin";break;case w.tag:this._iconString="Tag";break;case w.graph:this._iconString="Graph";break;case w.paperClip:this._iconString="Paperclip"}return this._iconString},t}(ft),At=function(e){function t(){var t=e.call(this)||this;return t._type=x.movieAnnotation,t}return pt(t,e),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var r=new $(t,this._crossReference),s=this._validateTemplateMatrix(r._content.dictionary);this._flattenAnnotationTemplate(r,s)}else this._removeAnnotation(this._page,this)}},t}(dt),jt=function(e){function t(t,i,n,r,s){var o=e.call(this)||this;return o._textMarkupType=v.highlight,o._quadPoints=new Array(8),o._boundsCollection=[],o._dictionary=new Yn,o._dictionary.update("Type",Fn.get("Annot")),"undefined"!==typeof t&&(o._text=t),"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&"undefined"!==typeof s&&(o.bounds={x:i,y:n,width:r,height:s},o._boundsCollection.push([o.bounds.x,o.bounds.y,o.bounds.width,o.bounds.height])),o._type=x.textMarkupAnnotation,o}return pt(t,e),Object.defineProperty(t.prototype,"textMarkUpColor",{get:function(){return"undefined"===typeof this._textMarkUpColor&&this._dictionary.has("C")&&(this._textMarkUpColor=Li(this._dictionary.getArray("C"))),this._textMarkUpColor},set:function(e){if("undefined"!==typeof e&&3===e.length){var t=this.color;this._isLoaded&&"undefined"!==typeof t&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this._color=e,this._textMarkUpColor=e,this._dictionary.update("C",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textMarkupType",{get:function(){if(this._dictionary.has("Subtype")){var e=this._dictionary.get("Subtype");this._textMarkupType=sn(e.name)}return this._textMarkupType},set:function(e){"undefined"!==typeof e&&(this._textMarkupType=e,this._dictionary.update("Subtype",Fn.get(on(e))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boundsCollection",{get:function(){if(this._isLoaded){var e=[];if(this._dictionary.has("QuadPoints")){var t=this._dictionary.getArray("QuadPoints");if(t&&t.length>0)for(var i=t.length/8,n=0;n<i;n++){var r=t[4+8*n]-t[8*n],s=t[5+8*n]-t[1+8*n],o=Math.sqrt(r*r+s*s);r=t[6+8*n]-t[4+8*n],s=t[7+8*n]-t[5+8*n];var a=Math.sqrt(r*r+s*s),l=[t[8*n],this._page.size[1]-t[1+8*n],a,o];e.push(l)}}return e}return this._boundsCollection},set:function(e){if(!this._isLoaded&&"undefined"!==typeof e)if(this._boundsCollection.length>0){this._quadPoints=new Array(8+8*e.length);for(var t=0;t<e.length;t++)this._boundsCollection.push(e[Number.parseInt(t.toString(),10)])}else this._quadPoints=new Array(8),this._boundsCollection=e;if(this._isLoaded&&"undefined"!==typeof e){var i=!1;if(this.boundsCollection.length===e.length){for(t=0;t<e.length;t++)for(var n=e[Number.parseInt(t.toString(),10)],r=0;r<n.length;r++)if(e[Number.parseInt(t.toString(),10)][Number.parseInt(r.toString(),10)]!==this.boundsCollection[Number.parseInt(t.toString(),10)][Number.parseInt(r.toString(),10)]){i=!0;break}}else i=!0;if(i){this._quadPoints=new Array(8*e.length);var s=this._page.size[1];for(t=0;t<e.length;t++)this._quadPoints[0+8*Number.parseInt(t.toString(),10)]=e[Number.parseInt(t.toString(),10)][0],this._quadPoints[1+8*Number.parseInt(t.toString(),10)]=s-e[Number.parseInt(t.toString(),10)][1],this._quadPoints[2+8*Number.parseInt(t.toString(),10)]=e[Number.parseInt(t.toString(),10)][0]+e[Number.parseInt(t.toString(),10)][2],this._quadPoints[3+8*Number.parseInt(t.toString(),10)]=s-e[Number.parseInt(t.toString(),10)][1],this._quadPoints[4+8*Number.parseInt(t.toString(),10)]=e[Number.parseInt(t.toString(),10)][0],this._quadPoints[5+8*Number.parseInt(t.toString(),10)]=this._quadPoints[1+8*t]-e[Number.parseInt(t.toString(),10)][3],this._quadPoints[6+8*Number.parseInt(t.toString(),10)]=e[Number.parseInt(t.toString(),10)][0]+e[Number.parseInt(t.toString(),10)][2],this._quadPoints[7+8*Number.parseInt(t.toString(),10)]=this._quadPoints[5+8*Number.parseInt(t.toString(),10)];this._dictionary.update("QuadPoints",this._quadPoints)}}},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var e;this._dictionary.has("BS")?e=this.border.width:((r=new Yn(this._crossReference)).set("Type",Fn.get("Border")),r.set("W",this.border.width),this._dictionary.set("BS",r));"undefined"===typeof e&&(e=1);var t=this._page.size;this._setQuadPoints(t);var i=[this.bounds.x,t[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];if(this._dictionary.update("Subtype",Fn.get(on(this._textMarkupType))),this._dictionary.update("Rect",[i[0],i[1],i[0]+i[2],i[1]+i[3]]),this._setAppearance){if(this._appearanceTemplate=this._createMarkupAppearance(),!this._isLoaded&&this._boundsCollection.length>1){var n=this._obtainNativeRectangle();this._dictionary.update("Rect",[n[0],n[1],n[0]+n[2],n[1]+n[3]])}this._dictionary.has("AP")&&In(this._dictionary.get("AP"),this._crossReference,"N");var r=new Yn;this._appearanceTemplate._content.dictionary._updated=!0;var s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,this._appearanceTemplate._content),this._appearanceTemplate._content.reference=s,r.set("N",s),r._updated=!0,this._dictionary.set("AP",r)}"undefined"!==typeof this._text&&null!==this._text&&this._dictionary.set("Contents",this._text)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createMarkupAppearance(),!e)){this._dictionary.has("AP")&&In(this._dictionary.get("AP"),this._crossReference,"N");var t=new Yn;this._appearanceTemplate._content.dictionary._updated=!0;var i=this._crossReference._getNextReference();this._crossReference._cacheMap.set(i,this._appearanceTemplate._content),this._appearanceTemplate._content.reference=i,t.set("N",i),t._updated=!0,this._dictionary.set("AP",t)}if(!this._appearanceTemplate&&e&&this._dictionary.has("AP"))if((t=this._dictionary.get("AP"))&&t.has("N"))if(n=t.get("N"))(i=t.getRaw("N"))&&(n.reference=i),this._appearanceTemplate=new $(n,this._crossReference)}else{var n;if(this._postProcess(),!this._appearanceTemplate)if(e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N"))if(n=t.get("N"))(i=t.getRaw("N"))&&(n.reference=i),this._appearanceTemplate=new $(n,this._crossReference)}else this._appearanceTemplate=this._createMarkupAppearance()}if("undefined"!==typeof this.flattenPopups&&this.flattenPopups&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var r=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")&&!this._isLoaded){var s=this._appearanceTemplate._content.dictionary.getArray("BBox");s&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-s[0],-s[1]])}(r&&"undefined"!==typeof this._page.rotation&&this._page.rotation!==h.angle0||r&&this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary,this._appearanceTemplate)||!this._dictionary.has("AP")&&this._appearanceTemplate)&&this._flattenAnnotationTemplate(this._appearanceTemplate,r)}},t.prototype._createMarkupAppearance=function(){var e,t,i=0;if(this.boundsCollection.length>1){for(var n=new Ze,r=0;r<this.boundsCollection.length;r++){(w=[])[0]=this.boundsCollection[Number.parseInt(r.toString(),10)][0],w[1]=this.boundsCollection[Number.parseInt(r.toString(),10)][1],w[2]=this.boundsCollection[Number.parseInt(r.toString(),10)][2],w[3]=this.boundsCollection[Number.parseInt(r.toString(),10)][3],n._addRectangle(w[0],w[1],w[2],w[3])}t={x:(u=n._getBounds())[0],y:u[1],width:u[2],height:u[3]},this.bounds=t,e=t.width,i=t.height}else if(this._dictionary.has("QuadPoints")){var s=this._dictionary.get("QuadPoints");if(null!==this._quadPoints)for(r=0;r<s.length/8;r++)if(this._isLoaded){for(var o=new Array,a=0,l=0;l<s.length;){var h=s[Number.parseInt(l.toString(),10)],c=s[l+1];o[Number.parseInt(a.toString(),10)]=[h,c],l+=2,a++}var u,p=new Ze;p._addLines(o),e=(t={x:(u=p._getBounds())[0],y:u[1],width:u[2],height:u[3]}).width,i=t.height}else{var d=Math.floor(s[4+8*r])-Math.floor(s[0+8*r]),f=Math.floor(s[5+8*r])-Math.floor(s[1+8*r]);i=Math.sqrt(d*d+f*f),d=Math.floor(s[6+8*r])-Math.floor(s[4+8*r]),f=Math.floor(s[7+8*r])-Math.floor(s[5+8*r]),e=Math.sqrt(d*d+f*f),this.bounds={x:this.bounds.x,y:this.bounds.y,width:e,height:i}}}var g=new $([0,0,e,i],this._crossReference);en(g,this._getRotationAngle());var m=g.graphics;if("undefined"!==typeof this.opacity&&m.setTransparency(this.opacity,this.opacity,O.multiply),this.textMarkUpColor){var y=new ai(this.textMarkUpColor,this.border.width),b=new oi(this.textMarkUpColor),M=(h=0,c=0,0),S=0;if(this.boundsCollection.length>1)for(r=0;r<this.boundsCollection.length;r++){var w;(w=[])[0]=this.boundsCollection[Number.parseInt(r.toString(),10)][0],w[1]=this.boundsCollection[Number.parseInt(r.toString(),10)][1],w[2]=this.boundsCollection[Number.parseInt(r.toString(),10)][2],w[3]=this.boundsCollection[Number.parseInt(r.toString(),10)][3],this.textMarkupType===v.highlight?m.drawRectangle(w[0]-t.x,w[1]-t.y,w[2],w[3],b):this.textMarkupType===v.underline?(h=w[0]-t.x,c=w[1]-t.y+(w[3]-w[3]/2/3),M=w[2]+(w[0]-t.x),S=w[1]-t.y+(w[3]-w[3]/2/3),m.drawLine(y,h,c,M,S)):this.textMarkupType===v.strikeOut?(h=w[0]-t.x,c=w[1]-t.y+(w[3]-w[3]/2),M=w[2]+(w[0]-t.x),S=w[1]-t.y+(w[3]-w[3]/2),m.drawLine(y,h,c,M,S)):this.textMarkupType===v.squiggly&&(y._width=.02*w[3],m.save(),m.translateTransform(w[0]-t.x,w[1]-t.y),m.setClip([0,0,w[2],w[3]]),m._drawPath(this._drawSquiggly(w[2],w[3]),y),m.restore())}else this.textMarkupType===v.highlight?m.drawRectangle(0,0,e,i,b):this.textMarkupType===v.underline?m.drawLine(y,0,i-i/2/3,e,i-i/2/3):this.textMarkupType===v.strikeOut?m.drawLine(y,0,i/2,e,i/2):this.textMarkupType===v.squiggly&&(y._width=.02*i,m._drawPath(this._drawSquiggly(Math.round(e),Math.round(i)),y)),this._isLoaded&&this._dictionary.update("Rect",[t.x,t.y,t.x+t.width,t.y+t.height])}return g},t.prototype._drawSquiggly=function(e,t){(Math.floor(e)%2!==0||Math.round(e)>e)&&(e=Math.floor(e)+1);for(var i=new Ze,n=new Array,r=Math.ceil(e/t*16),s=e/(r/2),o=parseFloat((.6*(s+s)).toFixed(2)),a=o,l=0,h=0;h<r;h++){var c=[l,parseFloat((t-o+a-.02*t).toFixed(2))];n.push(c),a=0===a?o:0,l+=s}return i._addLines(n),i},t.prototype._setQuadPoints=function(e){var t=[],i=e[1];this._boundsCollection[0]=[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height];for(var n=this._quadPoints.length/8,r=0;r<n;r++){var s=this._boundsCollection[Number.parseInt(r.toString(),10)][0],o=this._boundsCollection[Number.parseInt(r.toString(),10)][1];t[0+8*r]=s,t[1+8*r]=i-o,t[2+8*r]=s+this._boundsCollection[Number.parseInt(r.toString(),10)][2],t[3+8*r]=i-o,t[4+8*r]=s,t[5+8*r]=t[1+8*r]-this._boundsCollection[Number.parseInt(r.toString(),10)][3],t[6+8*r]=s+this._boundsCollection[Number.parseInt(r.toString(),10)][2],t[7+8*r]=t[5+8*r]}this._points=t,this._dictionary.set("QuadPoints",this._points)},t}(ft),Et=function(e){function t(t,i,n,r,s){var o=e.call(this)||this;return o._watermarkText="",o._dictionary=new Yn,o._dictionary.update("Type",Fn.get("Annot")),o._dictionary.update("Subtype",Fn.get("Watermark")),"undefined"!==typeof t&&(o._watermarkText=t,o.text=t),"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&"undefined"!==typeof s&&(o.bounds={x:i,y:n,width:r,height:s}),o._type=x.watermarkAnnotation,o}return pt(t,e),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var e;if(this._dictionary.has("BS"))e=this.border.width;else{var t=new Yn(this._crossReference);t.set("Type",Fn.get("Border")),this._dictionary.set("BS",t)}"undefined"===typeof e&&(e=1),"undefined"===typeof this.color&&(this.color=[0,0,0]),this._appearanceTemplate=this._createWatermarkAppearance();var i=this._page.size,n=[this.bounds.x,i[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];this._dictionary.update("Rect",[n[0],n[1],n[0]+n[2],n[1]+n[3]]),"undefined"!==typeof this.opacity&&1!==this._opacity&&this._dictionary.set("CA",this._opacity)},t.prototype._createWatermarkAppearance=function(){var e=this._obtainFont();("undefined"===typeof e||null===e||!this._isLoaded&&1===e.size)&&(e=this._lineCaptionFont,this._pdfFont=e),this._rotateAngle=this._getRotationAngle(),("undefined"!==typeof this.rotationAngle&&this._rotate!==h.angle0||this._rotateAngle!==h.angle0)&&(0===this._rotateAngle&&(this._rotateAngle=90*this.rotationAngle),this.bounds=this._getRotatedBounds(this.bounds,this._rotateAngle));var t=[0,0,this.bounds.width,this.bounds.height],i=new ut(this,t);i.normal=new $(t,this._crossReference);var n=i.normal;en(n,this._rotateAngle);var r,s=i.normal.graphics,o=this.border.width/2,a=new ee(p.left,Z.top),l=new ai(this.color,o);this.innerColor&&(r=new oi(this._innerColor)),this._isLoaded?(this._dictionary.has("Contents")&&(this._watermarkText=this._dictionary.get("Contents")),this._dictionary.update("Contents",this._watermarkText)):this._dictionary.update("Contents",this._watermarkText),"undefined"!==typeof this._watermarkText&&s.drawString(this._watermarkText,e,[0,0,0,0],l,r,a),this._dictionary.has("AP")&&In(this._dictionary.get("AP"),this._crossReference,"N");var c=new Yn;s._template._content.dictionary._updated=!0;var u=this._crossReference._getNextReference();return this._crossReference._cacheMap.set(u,s._template._content),s._template._content.reference=u,c.set("N",u),c._updated=!0,this._dictionary.set("AP",c),n},t.prototype._doPostProcess=function(e){var t,i,n;(void 0===e&&(e=!1),this._isLoaded)?(e||(this._appearanceTemplate=this._createWatermarkAppearance()),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((n=t.getRaw("N"))&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference))):(this._postProcess(),this._appearanceTemplate||e&&(this._dictionary.has("AP")?(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((n=t.getRaw("N"))&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference)):this._appearanceTemplate=this._createWatermarkAppearance()));if(e&&this._appearanceTemplate){var r=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var s=this._appearanceTemplate._content.dictionary.getArray("BBox");s&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-s[0],-s[1]])}this._flattenAnnotationTemplate(this._appearanceTemplate,r)}},t}(dt),kt=function(e){function t(t,i,n,r){var s=e.call(this)||this;return s._icon=m.draft,s._stampWidth=0,s._iconString="",s.rotateAngle=0,s._stampAppearanceFont=new We(fe.helvetica,20,de.italic|de.bold),s._dictionary=new Yn,s._dictionary.update("Type",Fn.get("Annot")),s._dictionary.update("Subtype",Fn.get("Stamp")),"undefined"!==typeof t&&"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&(s.bounds={x:t,y:i,width:n,height:r}),s._type=x.rubberStampAnnotation,s}return pt(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this._dictionary.has("Name")&&(this._icon=ln(this._dictionary.get("Name").name)),this._icon},set:function(e){"undefined"!==typeof e&&(this._icon=e,this._dictionary.update("Name",Fn.get("#"+this._obtainIconName(this._icon))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appearance",{get:function(){if(this._isLoaded)return null;if("undefined"===typeof this._appearance){var e=[0,0,this.bounds.width,this.bounds.height];this._appearance=new ut(this,e),this._appearance.normal=new $(e,this._crossReference)}return this._appearance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_innerTemplateBounds",{get:function(){var e;return this._isLoaded&&((e=this._obtainInnerBounds()).x=this.bounds.x,e.y=this.bounds.y),e},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){var e;if(this._dictionary.has("BS"))e=this.border.width;else{var t=new Yn(this._crossReference);t.set("Type",Fn.get("Border")),this._dictionary.set("BS",t)}"undefined"===typeof e&&(e=1),this._appearanceTemplate=this._createRubberStampAppearance()},t.prototype._transformBBox=function(e,t){var i=[],n=[],r=this._transformPoint(e.x,e.height,t);i[0]=r[0],n[0]=r[1];var s=this._transformPoint(e.width,e.y,t);i[1]=s[0],n[1]=s[1];var o=this._transformPoint(e.x,e.y,t);i[2]=o[0],n[2]=o[1];var a=this._transformPoint(e.width,e.height,t);return i[3]=a[0],n[3]=a[1],[this._minValue(i),this._minValue(n),this._maxValue(i),this._maxValue(n)]},t.prototype._transformPoint=function(e,t,i){var n=[];return n[0]=e*i[0]+t*i[2]+i[4],n[1]=e*i[1]+t*i[3]+i[5],n},t.prototype._minValue=function(e){for(var t=e[0],i=1;i<e.length;i++)e[Number.parseInt(i.toString(),10)]<t&&(t=e[Number.parseInt(i.toString(),10)]);return t},t.prototype._maxValue=function(e){for(var t=e[0],i=1;i<e.length;i++)e[Number.parseInt(i.toString(),10)]>t&&(t=e[Number.parseInt(i.toString(),10)]);return t},t.prototype._doPostProcess=function(e){void 0===e&&(e=!1);var t,i,n=!1;if(this._isLoaded&&(this._setAppearance||e||this._isExport)){if((!e&&!this._isExport||this._setAppearance)&&(this._appearanceTemplate=this._createRubberStampAppearance()),!this._appearanceTemplate&&(this._isExport||e)&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))){var r;(r=t.getRaw("N"))&&(i.reference=r);var s=!1;if(this._type===x.rubberStampAnnotation){var o=!1,a=void 0,l=void 0;if(i&&((o=this._page.rotation===h.angle0&&this.rotateAngle===h.angle0)||(o=this._page.rotation!==h.angle0&&this.rotateAngle===h.angle0)),this._appearanceTemplate=new $(i,this._crossReference),s=!0,n=!!o){var c=i.dictionary.getArray("Matrix");if(c){for(var u=[],p=0;p<c.length;p++){var d=c[Number.parseInt(p.toString(),10)];u[Number.parseInt(p.toString(),10)]=d}var f=i.dictionary.getArray("BBox");if(f&&f.length>3){l=ji(f);var g=this._transformBBox(l,u);a=[g[2],g[3]],this._appearanceTemplate._size=a}else a=[l.width,l.height]}}else a=[l.width,l.height]}s||(this._appearanceTemplate=new $(i,this._crossReference))}}else this._isImported&&this._dictionary.has("AP")||this._postProcess(),this._appearanceTemplate||!e&&!this._isImported||(this._dictionary.has("AP")?(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((r=t.getRaw("N"))&&(i.reference=r),this._appearanceTemplate=new $(i,this._crossReference)):this._appearanceTemplate=this._createRubberStampAppearance());if("undefined"!==typeof this.flattenPopups&&this.flattenPopups&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var m=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var y=this._appearanceTemplate._content.dictionary.getArray("BBox");y&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-y[0],-y[1]])}n?this._flattenAnnotationTemplate(this._appearanceTemplate,n):this._flattenAnnotationTemplate(this._appearanceTemplate,m)}},t.prototype._createRubberStampAppearance=function(){var e,t=[0,0,this.bounds.width,this.bounds.height];this._appearance?(e=this._appearance,this._dictionary.has("Name")||this._dictionary.update("Name",Fn.get("#23CustomStamp"))):(this._iconString=this._obtainIconName(this._icon),this._dictionary.update("Name",Fn.get("#23"+this._iconString)),(e=new ut(this,t)).normal=new $(t,this._crossReference));var i=e.normal;"undefined"===typeof this._rotate||this._rotate===h.angle0&&0===this._getRotationAngle()||(this.rotateAngle=this._getRotationAngle(),0===this.rotateAngle&&(this.rotateAngle=90*this.rotationAngle),this.bounds=this._getRotatedBounds(this.bounds,this.rotateAngle)),en(i,this.rotateAngle),this._appearance||this._drawStampAppearance(i),this._dictionary.has("AP")&&In(this._dictionary.get("AP"),this._crossReference,"N");var n=new Yn;i._content.dictionary._updated=!0;var r=this._crossReference._getNextReference();this._crossReference._cacheMap.set(r,i._content),i._content.reference=r,n.set("N",r),n._updated=!0,this._dictionary.set("AP",n),this._dictionary.set("Border",[this.border.hRadius,this.border.vRadius,this.border.width]);var s=this._page.size,o=[this.bounds.x,this.bounds.y+this.bounds.height,this.bounds.width,this.bounds.height];return o[1]=s[1]-(this.bounds.y+this.bounds.height),this._dictionary.set("Rect",[o[0],o[1],o[0]+o[2],o[1]+o[3]]),i},t.prototype._drawStampAppearance=function(e){var t=new ee;t.alignment=p.center,t.lineAlignment=Z.middle;var i=new oi(this._obtainBackGroundColor()),n=new ai(this._obtainBorderColor(),this.border.width),r=e.graphics;r.save(),r.scaleTransform(e._size[0]/(this._stampWidth+4),e._size[1]/28);var s=this._stampAppearanceFont;this._drawRubberStamp(r,n,i,s,t),r.restore()},t.prototype._obtainIconName=function(e){switch(e){case m.approved:this._iconString="Approved",this._stampWidth=126;break;case m.asIs:this._iconString="AsIs",this._stampWidth=75;break;case m.confidential:this._iconString="Confidential",this._stampWidth=166;break;case m.departmental:this._iconString="Departmental",this._stampWidth=186;break;case m.draft:this._iconString="Draft",this._stampWidth=90;break;case m.experimental:this._iconString="Experimental",this._stampWidth=176;break;case m.expired:this._iconString="Expired",this._stampWidth=116;break;case m.final:this._iconString="Final",this._stampWidth=90;break;case m.forComment:this._iconString="ForComment",this._stampWidth=166;break;case m.forPublicRelease:this._iconString="ForPublicRelease",this._stampWidth=240;break;case m.notApproved:this._iconString="NotApproved",this._stampWidth=186;break;case m.notForPublicRelease:this._iconString="NotForPublicRelease",this._stampWidth=290;break;case m.sold:this._iconString="Sold",this._stampWidth=75;break;case m.topSecret:this._iconString="TopSecret",this._stampWidth=146;break;case m.completed:this._iconString="Completed",this._stampWidth=136;break;case m.void:this._iconString="Void",this._stampWidth=75;break;case m.informationOnly:this._iconString="InformationOnly",this._stampWidth=230;break;case m.preliminaryResults:this._iconString="PreliminaryResults",this._stampWidth=260}return this._iconString},t.prototype._obtainBackGroundColor=function(){return this._icon===m.notApproved||this._icon===m.void?[251,222,221]:this._icon===m.approved||this._icon===m.final||this._icon===m.completed?[229,238,222]:[219,227,240]},t.prototype._obtainBorderColor=function(){return this._icon===m.notApproved||this._icon===m.void?[151,23,15]:this._icon===m.approved||this._icon===m.final||this._icon===m.completed?[73,110,38]:[24,37,100]},t.prototype._drawRubberStamp=function(e,t,i,n,r){e.drawRoundedRectangle(2,1,this._stampWidth,26,3,t,i);var s=new oi(this._obtainBorderColor());e.drawString(this._iconString.toUpperCase(),n,[this._stampWidth/2+1,15,0,0],null,s,r)},t.prototype._obtainInnerBounds=function(){var e={x:0,y:0,width:0,height:0};if(this._dictionary&&this._dictionary.has("AP")){var t=this._dictionary.get("AP");if(t&&t.has("N")){var i=t.get("N");if(i&&"undefined"!==typeof i.dictionary){var n=i.dictionary;if(n.has("BBox")){var r=n.getArray("BBox");r&&4===r.length&&(e=ji(r))}}}}return e},t}(ft),zt=function(e){function t(){var t=e.call(this)||this;return t._type=x.soundAnnotation,t}return pt(t,e),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var r=new $(t,this._crossReference),s=this._validateTemplateMatrix(r._content.dictionary);this._flattenAnnotationTemplate(r,s)}else this._removeAnnotation(this._page,this)}},t}(ft),Lt=function(e){function t(t,i,n,r){var s=e.call(this)||this;return s._intentString="",s._markUpFont=new We(fe.helvetica,7,de.regular),s._textAlignment=p.left,s._cropBoxValueX=0,s._cropBoxValueY=0,s._dictionary=new Yn,s._dictionary.update("Type",Fn.get("Annot")),s._dictionary.update("Subtype",Fn.get("FreeText")),"undefined"!==typeof t&&"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&(s.bounds={x:t,y:i,width:n,height:r}),s._type=x.freeTextAnnotation,s}return pt(t,e),Object.defineProperty(t.prototype,"calloutLines",{get:function(){return"undefined"===typeof this._calloutLines&&(this._calloutLines=this._getCalloutLinePoints()),this._calloutLines},set:function(e){this._isLoaded||(this._calloutLines=e);var t=!1;if(this._isLoaded&&e.length>=2)if(this._calloutLines.length===e.length){for(var i=0;i<e.length;i++)for(var n=e[Number.parseInt(i.toString(),10)],r=0;r<n.length;r++)if(e[Number.parseInt(i.toString(),10)][Number.parseInt(r.toString(),10)]!==this._calloutLines[Number.parseInt(i.toString(),10)][Number.parseInt(r.toString(),10)]){t=!0;break}}else t=!0;if(t){var s=this._page.size[1],o=[];for(i=0;i<e.length&&i<e.length;i++)o.push(e[Number.parseInt(i.toString(),10)][0]+this._cropBoxValueX),o.push(s+this._cropBoxValueY-e[Number.parseInt(i.toString(),10)][1]);this._calloutLines=e,this._dictionary.update("CL",o)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineEndingStyle",{get:function(){return this._lineEndingStyle=this._obtainLineEndingStyle(),this._lineEndingStyle},set:function(e){"undefined"!==typeof e&&this._dictionary.update("LE",Fn.get(Ri(e))),this._lineEndingStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textMarkUpColor",{get:function(){if("undefined"===typeof this._textMarkUpColor){var e=void 0;if(this._dictionary.has("TextColor"))return this._textMarkUpColor=Li(this._dictionary.getArray("TextColor")),this._textMarkUpColor;if(this._dictionary.has("DS"))for(var t=this._dictionary.get("DS").split(";"),i=0;i<t.length;i++)if(-1!==t[Number.parseInt(i.toString(),10)].indexOf("color"))return(e=t[Number.parseInt(i.toString(),10)].split(":")[1]).startsWith("#")&&(e=e.substring(1)),this._textMarkUpColor=zi(e),this._textMarkUpColor;!this._textMarkUpColor&&this._dictionary.has("RC")}return this._textMarkUpColor},set:function(e){if("undefined"!==typeof e&&3===e.length){this._textMarkUpColor=e;var t="font:"+this.font._metrics._postScriptName+" "+this.font._size+"pt;style:"+mn(this.font._style)+";color:"+this._colorToHex(e);this._dictionary.update("DS",t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return this._dictionary.has("Q")&&(this._textAlignment=this._dictionary.get("Q")),this._textAlignment},set:function(e){this._textAlignment!==e&&this._dictionary.update("Q",e),this._textAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this._font||(this._font=this._obtainFont(),(null===this._font||"undefined"===typeof this._font||!this._isLoaded&&1===this._font.size)&&(this._font=this._markUpFont)),this._font},set:function(e){this._font=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){return"undefined"===typeof this._borderColor&&this._dictionary.has("DA")&&(this._borderColor=this._obtainColor()),this._borderColor},set:function(e){"undefined"!==typeof e&&3===e.length&&(this._borderColor=e,this._dictionary.update("DA",this._getBorderColorString(this.borderColor)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"annotationIntent",{get:function(){return this._dictionary.has("IT")?this._annotationIntent=gn(this._dictionary.get("IT").name):this._annotationIntent=_.none,this._annotationIntent},set:function(e){"undefined"!==typeof e&&(this._annotationIntent=e,e===_.none?this._dictionary.update("Subj","Text Box"):this._dictionary.update("IT",Fn.get(this._obtainAnnotationIntent(this._annotationIntent))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_mkDictionary",{get:function(){var e;return this._dictionary.has("MK")&&(e=this._dictionary.get("MK")),e},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._setPaddings=function(e){this._paddings=e},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var t;if(this._dictionary.has("BS"))t=this.border.width;else{var i=new Yn(this._crossReference);i.set("Type",Fn.get("Border")),this._dictionary.set("BS",i)}if("undefined"===typeof t&&(t=1),this._updateCropBoxValues(),(e||this._setAppearance)&&(this._appearanceTemplate=this._createAppearance()),!e){var n=this._page.size,r=[this.bounds.x,n[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];this._dictionary.update("Rect",[r[0],r[1],r[0]+r[2],r[1]+r[3]]),this._saveFreeTextDictionary()}},t.prototype._updateCropBoxValues=function(){if(this._page){var e=void 0;this._page._pageDictionary.has("CropBox")?e=this._page._pageDictionary.getArray("CropBox"):this._page._pageDictionary.has("MediaBox")&&(e=this._page._pageDictionary.getArray("MediaBox")),e&&(this._cropBoxValueX=e[0],this._cropBoxValueY=e[1])}},t.prototype._doPostProcess=function(e){var t,i;(void 0===e&&(e=!1),this._isLoaded)?((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createAppearance()),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((a=t.getRaw("N"))&&(i.reference=a),this._appearanceTemplate=new $(i,this._crossReference))):(this._postProcess(e),!this._appearanceTemplate&&e&&(this._dictionary.has("AP")?(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((a=t.getRaw("N"))&&(i.reference=a),this._appearanceTemplate=new $(i,this._crossReference)):this._appearanceTemplate=this._createAppearance()));if("undefined"!==typeof this.flattenPopups&&this.flattenPopups&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var n=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")&&!this._isLoaded){var r=this._appearanceTemplate._content.dictionary.getArray("BBox");r&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-r[0],-r[1]])}(n&&"undefined"!==typeof this._page.rotation&&this._page.rotation!==h.angle0||this._appearanceTemplate&&!this._dictionary.has("AP")||this._dictionary.has("AP")&&this._isValidTemplateMatrix(this._appearanceTemplate._content.dictionary,this.bounds,this._appearanceTemplate))&&this._flattenAnnotationTemplate(this._appearanceTemplate,n)}if(!e&&this._setAppearance){var s=void 0;if(this._dictionary.has("AP"))s=this._dictionary.get("AP");else{var o=this._crossReference._getNextReference();s=new Yn(this._crossReference),this._crossReference._cacheMap.set(o,s),this._dictionary.update("AP",o)}In(s,this._crossReference,"N");var a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,this._appearanceTemplate._content),s.update("N",a)}},t.prototype._isValidTemplateMatrix=function(e,t,i){var n=!0,r=t;if(e&&e.has("Matrix")){var s=e.getArray("BBox"),o=e.getArray("Matrix");if(o&&s&&o.length>3&&s.length>2&&"undefined"!==typeof o[0]&&"undefined"!==typeof o[1]&&"undefined"!==typeof o[2]&&"undefined"!==typeof o[3]&&1===o[0]&&0===o[1]&&0===o[2]&&1===o[3]&&"undefined"!==typeof s[0]&&"undefined"!==typeof s[1]&&"undefined"!==typeof s[2]&&"undefined"!==typeof s[3]&&(Math.round(s[0])!==Math.round(-o[4])&&Math.round(s[1])!==Math.round(-o[5])||0===s[0]&&0===Math.round(-o[4]))){var a=this._page.graphics,l=a.save();"undefined"!==typeof this.opacity&&this._opacity<1&&a.setTransparency(this._opacity),r.x-=s[0],r.y+=s[1],a._drawTemplate(i,r),a.restore(l),this._removeAnnotationFromPage(this._page,this),n=!1}}return n},t.prototype._createAppearance=function(){var e,t=this.border.width/2,i=this._obtainAppearanceBounds(),n=this.rotate;0!==n&&90!==n&&180!==n&&270!==n||(this._isAllRotation=!1),en(e=n>0&&this._isAllRotation?new $([0,0,i[2],i[3]],this._crossReference):new $(i,this._crossReference),this._getRotationAngle());var s=new qt,o=this._obtainText();e._writeTransformation=!1;var a=e.graphics,l=this._obtainTextAlignment(),c=this._obtainColor(),u=new ai(c,this.border.width);this.border.width>0&&(s.borderPen=u);var p=this._obtainStyle(u,i,t,s);if(this.color&&(s.foreBrush=new oi(this._color)),this.textMarkUpColor&&(s.backBrush=new oi(this._textMarkUpColor)),s.borderWidth=this.border.width,this.calloutLines&&this._calloutLines.length>=2){if(this._drawCallOuts(a,u),this._isLoaded&&"undefined"===typeof this._lineEndingStyle&&(this._lineEndingStyle=this.lineEndingStyle),this._lineEndingStyle!==r.none){var d=this._obtainLinePoints(),f=this._getAngle(d),g=this._getAxisValue([d[2],d[3]],90,0);this._drawLineEndStyle(g,a,f,u,s.foreBrush,this.lineEndingStyle,this.border.width,!1)}(p=this._dictionary.has("RD")?[p[0],-p[1],p[2],-p[3]]:[this.bounds.x,-(this._page.size[1]-(this.bounds.y+this.bounds.height)),this.bounds.width,-this.bounds.height])[0]=p[0]+this._cropBoxValueX,p[1]=p[1]-this._cropBoxValueY,this._calculateRectangle(p),s.bounds=p}else p=[p[0],-p[1],p[2],-p[3]],s.bounds=p;for(var m=this._obtainAppearanceBounds(),y=[p[0]-m[0],-p[1]-m[1],p[2]-m[2],-p[1]-m[1]-p[3]-m[3]],v=0;v<y.length;v++)y[Number.parseInt(v.toString(),10)]<0&&(y[Number.parseInt(v.toString(),10)]=-y[Number.parseInt(v.toString(),10)]);this._dictionary.update("RD",y),this.opacity&&this._opacity<1&&(a.save(),a.setTransparency(this._opacity)),this.rotationAngle&&this._rotate!==h.angle0&&a.save(),this._drawFreeTextRectangle(a,s,p,l),this._drawFreeMarkUpText(a,s,p,o,l),this.opacity&&this._opacity<1&&a.restore(),this.rotationAngle&&this._rotate!==h.angle0&&a.restore();var b=this._obtainAppearanceBounds();return this._dictionary.set("Rect",[b[0],b[1],b[0]+b[2],b[1]+b[3]]),e},t.prototype._calculateRectangle=function(e){for(var t=this._obtainAppearanceBounds(),i=[e[0]-t[0],-e[1]-t[1],e[2]-t[2],-e[1]-t[1]-e[3]-t[3]],n=0;n<4;n++)i[Number.parseInt(n.toString(),10)]<0&&(i[Number.parseInt(n.toString(),10)]=-i[Number.parseInt(n.toString(),10)]);this._dictionary.set("RD",i)},t.prototype._obtainAnnotationIntent=function(e){switch(e){case _.freeTextCallout:this._intentString="FreeTextCallout";break;case _.freeTextTypeWriter:this._intentString="FreeTextTypeWriter"}return this._intentString},t.prototype._obtainFont=function(){var e=this._obtainFontDetails();return!e.size&&this._dictionary.has("RC"),kn(e.name,e.size,e.style,this)},t.prototype._drawFreeMarkUpText=function(e,t,i,n,r){var s=!1,o=this.rotate;if(this.rotationAngle!==h.angle90||this._isAllRotation?this.rotationAngle!==h.angle180||this._isAllRotation?this.rotationAngle!==h.angle270||this._isAllRotation?0!==o||this._isAllRotation||(i=[i[0],i[1]+i[3],i[2],i[3]]):i=[i[1]+i[3],-(i[0]+i[2]),-i[3],i[2]]:i=[-(i[0]+i[2]),-i[3],i[2],-i[3]]:i=[-i[1],i[0],-i[3],i[2]],("undefined"===typeof this._font||null===this._font||!this._isLoaded&&1===this._font.size)&&(this._font=this._markUpFont),o>0&&this._isAllRotation){s=!0;var a=this.bounds,l=new ee(p.center,Z.middle),c=this._font.measureString(n,[0,0],l,0,0);o>0&&o<=91?e.translateTransform(c[1],-a.height):o>91&&o<=181?e.translateTransform(a.width-c[1],-(a.height-c[1])):o>181&&o<=271?e.translateTransform(a.width-c[1],-c[1]):o>271&&o<360&&e.translateTransform(c[1],-c[1]),e.rotateTransform(o),t.bounds=[0,0,t.bounds[2],t.bounds[3]]}var u=[i[0],i[1],i[2],i[3]];if(this._paddings&&!this._isLoaded){var d=this._paddings._left,f=this._paddings._top,g=this._paddings._right+this._paddings._left,m=this._paddings._top+this._paddings._bottom;if(t.borderWidth>0){i=[i[0]+(t.borderWidth+d),i[1]+(t.borderWidth+f),i[2]-(2*t.borderWidth+g),i[3]>0?i[3]-(2*t.borderWidth+m):-i[3]-(2*t.borderWidth+m)]}else{i=[i[0]+d,i[1]+f,i[2]-g,i[3]>0?i[3]-m:-i[3]-m]}}else t.borderWidth>0&&(i=[i[0]+1.5*t.borderWidth,i[1]+1.5*t.borderWidth,i[2]-3*t.borderWidth,i[3]>0?i[3]-3*t.borderWidth:-i[3]-3*t.borderWidth]);var y=this._font._metrics._getHeight()>(i[3]>0?i[3]:-i[3]),v=this._font._metrics._getHeight()<=(u[3]>0?u[3]:-u[3]),b=y&&v;this._drawFreeTextAnnotation(e,t,n,this._font,b?u:i,!0,r,s)},t.prototype._drawFreeTextRectangle=function(e,t,i,n){if(this._dictionary.has("BE")){for(var r=0;r<i.length;r++)i[Number.parseInt(r.toString(),10)]<0&&(i[Number.parseInt(r.toString(),10)]=-i[Number.parseInt(r.toString(),10)]);this._drawAppearance(e,t,i),this.rotationAngle!==h.angle90||this._isAllRotation?this.rotationAngle!==h.angle180||this._isAllRotation?this.rotationAngle!==h.angle270||this._isAllRotation||e.rotateTransform(-270):e.rotateTransform(-180):e.rotateTransform(-90)}else this.rotationAngle!==h.angle90||this._isAllRotation?this.rotationAngle!==h.angle180||this._isAllRotation?this.rotationAngle!==h.angle270||this._isAllRotation||(e.rotateTransform(-270),t.bounds=[i[1]+i[3],-i[0],-i[3],-i[2]]):(e.rotateTransform(-180),t.bounds=[-(i[2]+i[0]),-(i[3]+i[1]),i[2],i[3]]):(e.rotateTransform(-90),t.bounds=[-i[1],i[2]+i[0]-i[3],-i[2]]),this._drawFreeTextAnnotation(e,t,"",this._font,t.bounds,!1,n,!1)},t.prototype._drawAppearance=function(e,t,i){var n=new Ze;if(n._addRectangle(i[0],i[1],i[2],i[3]),this._dictionary.has("BE")){var r=this._dictionary.get("BE");if(r&&r.has("I")){var s=1===r.get("I")?4:9;this._drawCloudStyle(e,t.foreBrush,t.borderPen,s,.833,n._points,!0)}}},t.prototype._drawFreeTextAnnotation=function(e,t,i,n,r,s,o,a){if(s){var l=new ee;l.lineAlignment=Z.top,l.alignment=o,l.lineSpacing=0,a?e.drawString(i,n,t.bounds,null,t.backBrush,l):e.drawString(i,n,r,null,t.backBrush,l)}else e.drawRectangle(r[0],r[1],r[2],r[3],t.borderPen,t.foreBrush)},t.prototype._getCalloutLinePoints=function(){if(this._dictionary.has("CL")){var e=this._dictionary.getArray("CL");if(e){this._calloutLines=[];for(var t=0;t<e.length;t+=2){var i=[e[Number.parseInt(t.toString(),10)],this._page.size[1]-e[t+1]];this._calloutLines.push(i)}}}return this._calloutLines},t.prototype._obtainAppearanceBounds=function(){var e=[0,0,0,0];if(this.calloutLines&&this._calloutLines.length>0){for(var t=new Ze,i=[],n=2===this._calloutLines.length?2:3,s=0;s<n;s++)i.push([0,0]);if(this._calloutLines.length>=2){this._obtainCallOutsNative();for(s=0;s<this._calloutLines.length&&s<3;s++)i[Number.parseInt(s.toString(),10)]=[this._calloutsClone[Number.parseInt(s.toString(),10)][0],this._calloutsClone[Number.parseInt(s.toString(),10)][1]]}i.length>0&&(this.lineEndingStyle!==r.none&&this._expandAppearance(i),t._addLines(i)),t._addRectangle(this.bounds.x-2,this._page.size[1]-(this.bounds.y+this.bounds.height)-2,this.bounds.width+4,this.bounds.height+4),e=t._getBounds()}else e=[this.bounds.x,this._page.size[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];return e},t.prototype._obtainCallOutsNative=function(){if(this.calloutLines&&this._calloutLines.length>0){var e=this._page.size;this._calloutsClone=[];for(var t=0;t<this._calloutLines.length;t++)this._calloutsClone.push([this._calloutLines[Number.parseInt(t.toString(),10)][0],e[1]-this._calloutLines[Number.parseInt(t.toString(),10)][1]])}},t.prototype._obtainLinePoints=function(){var e=this._page.size[1];return[this.calloutLines[1][0],e-this.calloutLines[1][1],this.calloutLines[0][0],e-this.calloutLines[0][1]]},t.prototype._obtainLineEndingStyle=function(){var e=r.square;return this._dictionary.has("LE")&&(e=Fi(this._dictionary.get("LE").name,e)),e},t.prototype._obtainText=function(){var e="";if(this._dictionary.has("Contents")){var t=this._dictionary.get("Contents");return t&&(e=t),e&&""!==e&&(this._text=e),e}return this._dictionary.has("RC")?e=this._rcText:e},t.prototype._obtainTextAlignment=function(){var e,t=p.left;this._dictionary.has("Q")?"undefined"!==typeof(i=this._dictionary.get("Q"))&&(t=i,e=!0):this._dictionary.has("RC");if(!e&&this._dictionary.has("DS"))for(var i,n=(i=this._dictionary.get("DS")).split(";"),r=0;r<n.length;r++)if(-1!==n[Number.parseInt(r.toString(),10)].indexOf("text-align"))switch(n[Number.parseInt(r.toString(),10)]){case"left":t=p.left;break;case"right":t=p.right;break;case"center":t=p.center;break;case"justify":t=p.justify}return t},t.prototype._obtainColor=function(){var e;if(this._isLoaded)if(this._dictionary.has("DA")){var t=this._dictionary.get("DA");Array.isArray(t)&&t.length>0?e=[t[0],t[1],t[2]]:"string"===typeof t&&(this._da=new ct(t),e=this._da.color)}else if(this._dictionary.has("MK")){var i=this._mkDictionary;i&&i.has("BC")&&(e=Li(i.getArray("BC")))}else e=[0,0,0];else e=this._borderColor?this._borderColor:[0,0,0];return e},t.prototype._expandAppearance=function(e){var t=e[0][1],i=e[0][0];t>this.bounds.y?this.lineEndingStyle!==r.openArrow&&(e[0][1]-=11*this.border.width):e[0][1]+=11*this.border.width,i<=this.bounds.x?e[0][0]-=11*this.border.width:e[0][0]+=11*this.border.width},t.prototype._drawCallOuts=function(e,t){for(var i=new Ze,n=[],r=2===this._calloutLines.length?2:3,s=0;s<r;s++)n.push([0,0]);if(this._calloutLines.length>=2){this._obtainCallOutsNative();for(s=0;s<this._calloutLines.length&&s<3;s++)n[Number.parseInt(s.toString(),10)]=[this._calloutsClone[Number.parseInt(s.toString(),10)][0],-this._calloutsClone[Number.parseInt(s.toString(),10)][1]]}n.length>0&&i._addLines(n),e._drawPath(i,t)},t.prototype._saveFreeTextDictionary=function(){("undefined"===typeof this.font||null===this.font||!this._isLoaded&&1===this.font.size)&&(this.font=this._markUpFont),this._dictionary.update("Contents",this.text),this._isLoaded&&(this._textAlignment=this.textAlignment),this._dictionary.update("Q",this._textAlignment),this.annotationIntent===_.none?this._dictionary.update("Subj","Text Box"):this._dictionary.update("IT",Fn.get(this._obtainAnnotationIntent(this._annotationIntent)));var e="font:"+this.font._metrics._postScriptName+" "+this.font._size+"pt;style:"+mn(this.font._style)+";color:"+this._colorToHex(this.textMarkUpColor);this._dictionary.update("DS",e),this._dictionary.update("DA",this._getBorderColorString(this.borderColor?this._borderColor:[0,0,0]));if(this._dictionary.update("RC",'<?xml version="1.0"?><body xmlns="http://www.w3.org/1999/xhtml"><p dir="ltr">'+(this.text?this._getXmlFormattedString(this.text):"")+"</p></body>"),this._calloutLines&&this._calloutLines.length>=2){for(var t=this._page.size[1],i=[],n=0;n<this._calloutLines.length&&n<3;n++)i.push(this._calloutLines[Number.parseInt(n.toString(),10)][0]+this._cropBoxValueX),i.push(t+this._cropBoxValueY-this._calloutLines[Number.parseInt(n.toString(),10)][1]);this._dictionary.update("CL",i)}if(this._setAppearance){var r=this._obtainAppearanceBounds();this._dictionary.update("Rect",[r[0],r[1],r[0]+r[2],r[1]+r[3]])}},t.prototype._getXmlFormattedString=function(e){return e=(e=(e=e.replace("&","&amp;")).replace("<","&lt;")).replace(">","&gt;")},t}(ft),Ot=function(e){function t(t,i,n,r){var s=e.call(this)||this;return s._textAlignment=p.left,s._dictionary=new Yn,s._dictionary.update("Type",Fn.get("Annot")),s._dictionary.update("Subtype",Fn.get("Redact")),"undefined"!==typeof t&&"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r&&(s.bounds={x:t,y:i,width:n,height:r}),s._type=x.redactionAnnotation,s}return pt(t,e),Object.defineProperty(t.prototype,"repeatText",{get:function(){return"undefined"===typeof this._repeat&&this._dictionary.has("Repeat")&&(this._repeat=this._dictionary.get("Repeat")),this._repeat},set:function(e){e!==this._repeat&&(this._repeat=e,this._dictionary&&this._dictionary.update("Repeat",e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return this._dictionary.has("Q")&&(this._textAlignment=this._dictionary.get("Q")),this._textAlignment},set:function(e){this._textAlignment!==e&&this._dictionary.update("Q",e),this._textAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textColor",{get:function(){return"undefined"===typeof this._textColor&&this._dictionary.has("C")&&(this._textColor=Li(this._dictionary.getArray("C"))),this._textColor},set:function(e){if("undefined"!==typeof e&&3===e.length){var t=this.textColor;this._isLoaded&&"undefined"!==typeof t&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this._textColor=e,this._dictionary.update("C",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){return"undefined"===typeof this._borderColor&&this._dictionary.has("OC")&&(this._borderColor=Li(this._dictionary.getArray("OC"))),this._borderColor},set:function(e){if("undefined"!==typeof e&&3===e.length){var t=this.borderColor;this._isLoaded&&"undefined"!==typeof t&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this._borderColor=e,this._dictionary.update("OC",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlayText",{get:function(){return"undefined"===typeof this._overlayText&&this._dictionary.has("OverlayText")&&(this._overlayText=this._dictionary.get("OverlayText")),this._overlayText},set:function(e){"string"===typeof e&&(this._dictionary.update("OverlayText",e),this._overlayText=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this._font},set:function(e){this._font=e},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if("undefined"===typeof this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var t;if(this._dictionary.has("BS"))t=this.border.width;else{var i=new Yn(this._crossReference);i.set("Type",Fn.get("Border")),this._dictionary.set("BS",i)}"undefined"===typeof t&&(t=1),this._setAppearance&&(this._appearanceTemplate=this._createRedactionAppearance(e));var n=this._page.size,r=[this.bounds.x,n[1]-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];this._dictionary.update("Rect",[r[0],r[1],r[0]+r[2],r[1]+r[3]])},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),!this._isImported){if(this._isLoaded)this._appearanceTemplate=this._createRedactionAppearance(e);else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){var t=this._dictionary.get("AP");if(t&&t.has("N")){var i=t.get("N");if(i){var n=t.getRaw("N");n&&(i.reference=n),this._appearanceTemplate=new $(i,this._crossReference)}}}else this._appearanceTemplate=this._createRedactionAppearance(e);if(e&&this._appearanceTemplate){var r=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var s=this._appearanceTemplate._content.dictionary.getArray("BBox");s&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-s[0],-s[1]])}this._flattenAnnotationTemplate(this._appearanceTemplate,r)}}},t.prototype._createRedactionAppearance=function(e){var t=this._createNormalAppearance();if(e)this._isLoaded&&null!==this._page&&this._removeAnnotationFromPage(this._page,this);else{var i=this._createBorderAppearance();if(this._dictionary.has("AP")){var n=this._dictionary.get("AP");In(n,this._crossReference,"N"),In(n,this._crossReference,"R")}var r=new Yn(this._crossReference);i._content.dictionary._updated=!0;var s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,i._content),i._content.reference=s,r.set("N",s),t._content.dictionary._updated=!0;var o=this._crossReference._getNextReference();this._crossReference._cacheMap.set(o,t._content),t._content.reference=o,r.set("R",o),r._updated=!0,this._dictionary.set("AP",r)}return t},t.prototype._createBorderAppearance=function(){var e,t=[0,0,this.bounds.width,this.bounds.height],i=new $(t,this._crossReference),n=this.border.width/2,r=i.graphics,s=this.border.width;this.border.width>0&&this.borderColor&&(e=new ai(this.borderColor,s));var o=[t[0],t[1],t[2],t[3]];if(this.opacity<1){var a=r.save();r.setTransparency(this.opacity),r.drawRectangle(o[0]+n,o[1]+n,o[2]-s,o[3]-s,e,null),r.restore(a)}else r.drawRectangle(o[0]+n,o[1]+n,o[2]-s,o[3]-s,e,null);return i},t.prototype._createNormalAppearance=function(){var e=[0,0,this.bounds.width,this.bounds.height],t=new $(e,this._crossReference);en(t,this._getRotationAngle());var i,n,r,s=this.border.width/2,o=t.graphics,a=new qt;this.textColor&&this.border.width>0&&(i=new ai(this.textColor,this.border.width)),this.innerColor&&(n=new oi(this.innerColor)),r=this.textColor?new oi(this.textColor):new oi([128,128,128]),a.backBrush=n,a.borderWidth=s;var l=this.border.width,h=[e[0],e[1],e[2],e[3]];if(this.opacity<1){var c=o.save();o.setTransparency(this.opacity),o.drawRectangle(h[0]+s,h[1]+s,h[2]-l,h[3]-l,i,n),o.restore(c)}else o.drawRectangle(h[0]+s,h[1]+s,h[2]-l,h[3]-l,i,n);if(o.restore(),this.overlayText&&""!==this._overlayText){var u=0,d=0;"undefined"!==typeof this.font&&null!==this.font||(this.font=this._lineCaptionFont);var f=0,g=0,m=0,y=void 0;this._isLoaded&&(this._textAlignment=this.textAlignment);var v=new ee(this._textAlignment,Z.middle),b=this.font.measureString(this.overlayText,[0,0],v,0,0);if(this._isLoaded&&"undefined"===typeof this._repeat&&(this._repeat=this.repeatText),this._repeat){b[0]<=0&&(b[0]=1),u=this.bounds.width/b[0],d=Math.floor(this.bounds.height/this.font._size),m=Math.abs(this.bounds.width-Math.floor(u)*b[0]),this._textAlignment===p.center&&(g=m/2),this._textAlignment===p.right&&(g=m);for(var M=1;M<u;M++){for(var S=0;S<d;S++)y=[g,f,0,0],o.drawString(this.overlayText,this.font,y,null,r,null),f+=this.font._size;g+=b[0],f=0}}else m=Math.abs(this.bounds.width-b[0]),this._textAlignment===p.center&&(g=m/2),this._textAlignment===p.right&&(g=m),y=[g,0,0,0],o.drawString(this.overlayText,this.font,y,null,r,null)}return t},t}(dt),Pt=function(e){function t(){var t=e.call(this)||this;return t._type=x.richMediaAnnotation,t}return pt(t,e),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),"undefined"!==typeof this.flattenPopups&&this.flattenPopups&&this._flattenPopUp(),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var r=new $(t,this._crossReference),s=this._validateTemplateMatrix(r._content.dictionary);this._flattenAnnotationTemplate(r,s)}else this._removeAnnotation(this._page,this)}},t}(dt),Rt=function(e){function t(){var t=e.call(this)||this;return t._isAutoResize=!1,t._visibility=d.visible,t._isFont=!1,t._isWidget=!0,t._type=x.widgetAnnotation,t}return pt(t,e),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._dictionary=e,n._crossReference=i,n},Object.defineProperty(t.prototype,"page",{get:function(){return this._getPage()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return"undefined"===typeof this._color&&this._defaultAppearance&&(this._color=this._da.color),this._color},set:function(e){"undefined"!==typeof this.color&&this._color===e||(this._color=e);var t=!1;this._defaultAppearance||(this._da=new ct(""),t=!0),(t||this._da.color!==e)&&(this._da.color=e,this._dictionary.update("DA",this._da.toString()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backColor",{get:function(){if("undefined"===typeof this._backColor){var e=this._mkDictionary;if(e&&e.has("BG")){var t=e.getArray("BG");t&&(this._backColor=Li(t))}}return"undefined"!==typeof this._backColor&&null!==this._backColor||(this._backColor=[255,255,255]),this._backColor},set:function(e){"undefined"!==typeof this.backColor&&this.backColor===e||("undefined"===typeof this._mkDictionary&&this._dictionary.update("MK",new Yn(this._crossReference)),this._mkDictionary.update("BG",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]),this._backColor=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){if("undefined"===typeof this._borderColor){var e=this._mkDictionary;if(e&&e.has("BC")){var t=e.getArray("BC");t&&(this._borderColor=Li(t))}}return"undefined"!==typeof this._borderColor&&null!==this._borderColor||(this._borderColor=[0,0,0]),this._borderColor},set:function(e){"undefined"!==typeof this.borderColor&&this.borderColor===e||("undefined"===typeof this._mkDictionary&&this._dictionary.update("MK",new Yn(this._crossReference)),this._mkDictionary.update("BC",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]),this._borderColor=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return"undefined"===typeof this._rotationAngle&&(this._mkDictionary&&this._mkDictionary.has("R")?this._rotationAngle=this._mkDictionary.get("R"):this._dictionary.has("R")&&(this._rotationAngle=this._dictionary.get("R"))),this._rotationAngle},set:function(e){"undefined"!==typeof this.rotate&&this._rotationAngle===e||("undefined"===typeof this._mkDictionary&&this._dictionary.update("MK",new Yn(this._crossReference)),this._mkDictionary.update("R",e),this._rotationAngle=e,this._dictionary._updated=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlightMode",{get:function(){if("undefined"===typeof this._highlightMode&&this._dictionary.has("H")){var e=this._dictionary.get("H");this._highlightMode=Bi(e.name)}return this._highlightMode},set:function(e){this._highlightMode!==e&&this._dictionary.update("H",Vi(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return this._isLoaded&&"undefined"===typeof this._bounds&&(this._bounds=Ai(this._dictionary,this._getPage())),"undefined"!==typeof this._bounds&&null!==this._bounds||(this._bounds={x:0,y:0,width:0,height:0}),this._bounds},set:function(e){if(0===e.x&&0===e.y&&0===e.width&&0===e.height)throw new Error("Cannot set empty bounds");this._bounds=e,this._dictionary.update("Rect",ki([e.x,e.y,e.width,e.height],this._getPage()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return"undefined"===typeof this._textAlignment&&this._dictionary.has("Q")&&(this._textAlignment=this._dictionary.get("Q")),this._textAlignment},set:function(e){"undefined"!==typeof this._textAlignment&&this._textAlignment===e||this._dictionary.update("Q",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibility",{get:function(){var e;if(!this._isLoaded)return this._visibility;e=d.visible;var t=n.default;if(this._hasFlags){var i=3;switch(((t=this.flags)&n.hidden)===n.hidden&&(i=0),(t&n.noView)===n.noView&&(i=1),(t&n.print)!==n.print&&(i&=2),i){case 0:e=d.hidden;break;case 1:e=d.hiddenPrintable;break;case 2:e=d.visibleNotPrintable;break;case 3:e=d.visible}}else e=d.visibleNotPrintable;return e},set:function(e){if(this._isLoaded)_n(this._dictionary,e),this._dictionary._updated=!0;else{switch(e){case d.hidden:this.flags=n.hidden;break;case d.hiddenPrintable:this.flags=n.noView|n.print;break;case d.visible:this.flags=n.print;break;case d.visibleNotPrintable:this.flags=n.default}this._visibility=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){if(!this._pdfFont){var e=void 0;if(this._crossReference){var t=this._crossReference._document.form,i=this._obtainFontDetails();if(t&&t._dictionary.has("DR")){var n=t._dictionary.get("DR");if(n.has("Font")){var r=n.get("Font");if(r.has(i.name)){var s=r.get(i.name);if(s&&i.name&&s.has("BaseFont")){var o=s.get("BaseFont"),a=de.regular;o&&(e=o.name,a=En(o.name),e.includes("-")&&(e=e.substring(0,e.indexOf("-"))),this._pdfFont=kn(e,i.size,a,this))}}}}}}return(null===this._pdfFont||"undefined"===typeof this._pdfFont||!this._isLoaded&&1===this._pdfFont.size)&&(this._pdfFont=this._circleCaptionFont),this._pdfFont},set:function(e){e&&e instanceof He&&(this._pdfFont=e,this._initializeFont(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_defaultAppearance",{get:function(){if("undefined"===typeof this._da&&this._dictionary.has("DA")){var e=this._dictionary.get("DA");e&&""!==e&&(this._da=new ct(e))}return this._da},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_mkDictionary",{get:function(){var e;return this._dictionary.has("MK")&&(e=this._dictionary.get("MK")),e},enumerable:!0,configurable:!0}),t.prototype._create=function(e,t,i){return this._page=e,this._crossReference=e._crossReference,this._ref=this._crossReference._getNextReference(),this._dictionary=new Yn(this._crossReference),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary._currentObj=this,this._dictionary.objId=this._ref.toString(),this._dictionary.update("Type",Fn.get("Annot")),this._dictionary.update("Subtype",Fn.get("Widget")),this.flags|=n.print,this._dictionary.update("P",e._ref),e._addWidget(this._ref),this.border=new Yt,this.bounds=t,i&&(this._field=i,this._dictionary.update("Parent",this._field._ref)),this._dictionary},t.prototype._doPostProcess=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),e||t){var i=void 0;if(t||e&&this._dictionary.has("AP"),!i&&this._dictionary.has("AP")){var n=this._dictionary.get("AP");if(n&&n.has("N"))i=n.get("N"),(u=n.getRaw("N"))&&i&&(i.reference=u)}if(i){var r=void 0;if(e){var s=new $(i,this._crossReference),o=this._getPage();if(o){var a=o.graphics;a.save(),o.rotation===h.angle90?(a.translateTransform(a._size[0],a._size[1]),a.rotateTransform(90)):o.rotation===h.angle180?(a.translateTransform(a._size[0],a._size[1]),a.rotateTransform(-180)):o.rotation===h.angle270&&(a.translateTransform(a._size[0],a._size[1]),a.rotateTransform(270)),r={x:this.bounds.x,y:this.bounds.y,width:s._size[0],height:s._size[1]},a._drawTemplate(s,r),a.restore()}}else{var l=void 0;if(this._dictionary.has("AP"))l=this._dictionary.get("AP");else{var c=this._crossReference._getNextReference();l=new Yn(this._crossReference),this._crossReference._cacheMap.set(c,l),this._dictionary.update("AP",c)}In(l,this._crossReference,"N");var u=this._crossReference._getNextReference();this._crossReference._cacheMap.set(u,i),l.update("N",u)}}this._dictionary._updated=!1}},t.prototype._initializeFont=function(e){var t;if(this._pdfFont=e,this._crossReference){var i=void 0;(t=this._crossReference._document)&&(i=t.form._dictionary.has("DR")?t.form._dictionary.get("DR"):new Yn(this._crossReference));var n=void 0,r=!1;if(i.has("Font")){var s=i.getRaw("Font");s&&s instanceof Vn?(r=!0,n=this._crossReference._fetch(s)):s instanceof Yn&&(n=s)}n||(n=new Yn(this._crossReference),i.update("Font",n));var o=Fn.get(Qi()),a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,this._pdfFont._dictionary),e instanceof Qe?this._pdfFont._pdfFontInternals&&this._crossReference._cacheMap.set(a,this._pdfFont._pdfFontInternals):this._pdfFont._dictionary&&this._crossReference._cacheMap.set(a,this._pdfFont._dictionary),n.update(o.name,a),i._updated=!0,t.form._dictionary.update("DR",i),t.form._dictionary._updated=!0,this._fontName=o.name;var l=new ct;l.fontName=this._fontName,l.fontSize=this._pdfFont._size,l.color=this.color?this.color:[0,0,0],this._dictionary.update("DA",l.toString()),r&&(i._updated=!0),this._isFont=!0}},t.prototype._getPage=function(){if(!this._page){var e;this._crossReference&&(e=this._crossReference._document);var t=void 0;if(this._dictionary.has("P")){var i=this._dictionary.getRaw("P");if(i&&e)for(var n=0;n<e.pageCount;n++){var r=e.getPage(n);if(r&&r._ref===i){t=r;break}}}!t&&e&&this._ref&&(t=Ki(e,this._ref)),this._page=t}return this._page},t.prototype._beginSave=function(){if(!this._isLoaded){var e=this._bounds;this._dictionary.update("Rect",ki([e.x,e.y,e.width,e.height],this._page))}},t}(dt),Ft=function(e){function t(){return e.call(this)||this}return pt(t,e),t._load=function(e,i,n){var r=new t;return r._isLoaded=!0,r._dictionary=e,r._crossReference=i,r._field=n,r},Object.defineProperty(t.prototype,"checked",{get:function(){return Xi(this._dictionary)},set:function(e){this.checked!==e&&this._dictionary.update("AS",Fn.get(e?"Yes":"Off"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){if(this._isLoaded){var e=this._mkDictionary;e&&e.has("CA")?this._style=nn(e.get("CA")):this._style=y.check}return this._style},set:function(e){if(this.style!==e){this._style=e;var t=this._mkDictionary;t||(t=new Yn(this._crossReference),this._dictionary.update("MK",t)),t.update("CA",tn(e))}},enumerable:!0,configurable:!0}),t.prototype._doPostProcess=function(){var e=Zi(this.checked?j.checked:j.unchecked,this);if(e){var t=this._getPage();if(t){var i=t.graphics;i.save(),t.rotation===h.angle90?(i.translateTransform(i._size[0],i._size[1]),i.rotateTransform(90)):t.rotation===h.angle180?(i.translateTransform(i._size[0],i._size[1]),i.rotateTransform(-180)):t.rotation===h.angle270&&(i.translateTransform(i._size[0],i._size[1]),i.rotateTransform(270)),i._sw._setTextRenderingMode($e.fill),i._drawTemplate(e,this.bounds),i.restore()}}this._dictionary._updated=!1},t.prototype._postProcess=function(e){var t=this._field;e||(e=t&&t.checked?"Yes":"Off"),this._dictionary.update("AS",Fn.get(e))},t.prototype._setField=function(e){this._field=e,this._field._stringFormat=new ee(this.textAlignment,Z.middle),this._field._addToKid(this)},t}(Rt),Bt=function(e){function t(t,i,n){var r=e.call(this)||this;return n&&t&&i&&(n instanceof tt?r._initializeItem(t,i,n.page,n):r._initializeItem(t,i,n)),r}return pt(t,e),t._load=function(e,i,n){var r=new t;return r._isLoaded=!0,r._dictionary=e,r._crossReference=i,r._field=n,r},Object.defineProperty(t.prototype,"selected",{get:function(){return this._index===this._field.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._isLoaded&&!this._optionValue&&(this._optionValue=Ji(this._dictionary)),this._optionValue},set:function(e){this._optionValue=e},enumerable:!0,configurable:!0}),t.prototype._initializeItem=function(e,t,i,n){this._optionValue=e,this._page=i,this._create(this._page,t,this._field),this.textAlignment=p.left,this._dictionary.update("MK",new Yn(this._crossReference)),this._mkDictionary.update("BC",[0,0,0]),this._mkDictionary.update("BG",[1,1,1]),this.style=y.circle,this._dictionary.update("DA","/TiRo 0 Tf 0 0 0 rg"),n&&(this._setField(n),this._dictionary.update("Parent",n._ref))},t.prototype._postProcess=function(e){var t=this._field;!e&&t&&-1!==t.selectedIndex&&(e=t.itemAt(t.selectedIndex).value),this.value===e?this._dictionary.update("AS",Fn.get(this.value)):this._dictionary.update("AS",Fn.get("Off"))},t}(Ft),Vt=function(e){function t(t,i,n){var r=e.call(this)||this;return t&&i&&r._initializeItem(t,i,n),r}return pt(t,e),t._load=function(e,i,n){var r=new t;return r._isLoaded=!0,r._dictionary=e,r._crossReference=i,r._field=n,r},Object.defineProperty(t.prototype,"text",{get:function(){return"undefined"===typeof this._text&&"undefined"!==typeof this._field&&(this._field instanceof lt||this._field instanceof at)&&(this._text=this._field._options[Number.parseInt(this._index.toString(),10)][1]),this._text},set:function(e){"string"===typeof e&&"undefined"!==typeof this._field&&(this._field instanceof lt||this._field instanceof at)&&e!==this._field._options[Number.parseInt(this._index.toString(),10)][1]&&(this._field._options[Number.parseInt(this._index.toString(),10)][1]=e,this._text=e,this._field._dictionary._updated=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._index===this._field.selectedIndex},enumerable:!0,configurable:!0}),t.prototype._initializeItem=function(e,t,i){this._text=e,this._value=t,i&&i instanceof lt&&i._addToOptions(this,i)},t}(Ft),Ut=function(){function e(e,t,i){this._cap="undefined"!==typeof e&&e,this._type="undefined"!==typeof t?t:o.inline,this._offset="undefined"!==typeof i?i:[0,0]}return Object.defineProperty(e.prototype,"cap",{get:function(){return this._cap},set:function(e){e!==this._cap&&(this._cap=e,this._dictionary&&this._dictionary.update("Cap",e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){e!==this._type&&(this._type=e,this._dictionary&&this._dictionary.update("CP",Fn.get(e===o.top?"Top":"Inline")))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(e){bi(e,this._offset)&&(this._offset=e,this._dictionary&&this._dictionary.update("CO",e))},enumerable:!0,configurable:!0}),e}(),Ht=function(){function e(e,t){this._begin="undefined"!==typeof e?e:r.none,this._end="undefined"!==typeof t?t:r.none}return Object.defineProperty(e.prototype,"begin",{get:function(){return this._begin},set:function(e){e!==this._begin&&(this._begin=e,this._dictionary&&this._dictionary.update("LE",[Fn.get(Ri(e)),Fn.get(Ri(this._end))]))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},set:function(e){e!==this._end&&(this._end=e,this._dictionary&&this._dictionary.update("LE",[Fn.get(Ri(this._begin)),Fn.get(Ri(e))]))},enumerable:!0,configurable:!0}),e}(),Wt=function(){function e(e,t,i){this._width="undefined"!==typeof e?e:1,this._style="undefined"!==typeof t?t:a.solid,"undefined"!==typeof i&&Array.isArray(i)&&(this._dash=i)}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(e){if(e!==this._width&&(this._width=e,this._dictionary)){var t=this._dictionary.has("BS")?this._dictionary.get("BS"):new Yn(this._crossReference);t.update("Type",Fn.get("Border")),t.update("W",this._width),t.update("S",Oi(this._style)),this._dash&&t.update("D",this._dash),this._dictionary.update("BS",t),this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(e){if(e!==this._style&&(this._style=e,this._dictionary)){var t=this._dictionary.has("BS")?this._dictionary.get("BS"):new Yn(this._crossReference);t.update("Type",Fn.get("Border")),t.update("W",this._width),t.update("S",Oi(this._style)),this._dash&&t.update("D",this._dash),this._dictionary.update("BS",t),this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dash",{get:function(){return this._dash},set:function(e){if(("undefined"===typeof this._dash||bi(e,this._dash))&&(this._dash=e,this._dictionary)){var t=this._dictionary.has("BS")?this._dictionary.get("BS"):new Yn(this._crossReference);t.update("Type",Fn.get("Border")),t.update("W",this._width),t.update("S",Oi(this._style)),t.update("D",this._dash),this._dictionary.update("BS",t),this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),e}(),Yt=function(e){function t(t,i,n,r,s){var o=e.call(this,t,r,s)||this;return o._hRadius="undefined"!==typeof i?i:0,o._vRadius="undefined"!==typeof n?n:0,o}return pt(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){if(e!==this._width&&(this._width=e,this._dictionary)){this._dictionary.update("Border",[this._hRadius,this._vRadius,this._width]);var t=this._dictionary.has("BS")?this._dictionary.get("BS"):new Yn(this._crossReference);t.update("Type",Fn.get("Border")),t.update("W",this._width),t.update("S",Oi(this._style)),this._dash&&t.update("D",this._dash),this._dictionary.update("BS",t),this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hRadius",{get:function(){return this._hRadius},set:function(e){e!==this._hRadius&&(this._hRadius=e,this._dictionary&&this._dictionary.update("Border",[this._hRadius,this._vRadius,this._width]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vRadius",{get:function(){return this._vRadius},set:function(e){e!==this._vRadius&&(this._vRadius=e,this._dictionary&&this._dictionary.update("Border",[this._hRadius,this._vRadius,this._width]))},enumerable:!0,configurable:!0}),t}(Wt),Qt=function(){function e(e){if(this._intensity=0,"undefined"!==typeof e&&null!==e){if(e.has("BE")){var t=this._dictionary.get("BE");t&&(t.has("I")&&(this._intensity=t.get("I")),t.has("S")&&(this._style=this._getBorderEffect(t.get("S"))))}}else this._dictionary=new Yn,this._dictionary.set("I",this._intensity),this._dictionary.set("S",this._styleToEffect(this._style))}return Object.defineProperty(e.prototype,"intensity",{get:function(){return this._intensity},set:function(e){if(e!==this._intensity){if(this._intensity=e,this._dictionary){var t=this._dictionary.has("BE")?this._dictionary.get("BE"):new Yn(this._crossReference);t.update("I",this._intensity),t.update("S",this._styleToEffect(this._style)),this._dictionary.update("BE",t),this._dictionary._updated=!0}this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(e){if(e!==this._style&&(this._style=e,this._dictionary)){var t=this._dictionary.has("BE")?this._dictionary.get("BE"):new Yn(this._crossReference);t.update("I",this._intensity),t.update("S",this._styleToEffect(this._style)),this._dictionary.update("BE",t),this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),e.prototype._getBorderEffect=function(e){return"/C"===e?l.cloudy:l.solid},e.prototype._styleToEffect=function(e){return e===l.cloudy?"C":"S"},e}(),qt=function(){this.borderWidth=1},Gt=function(){this.startAngle=0,this.endAngle=0},Kt=function(){function e(e,t,i){this._isExport=!1,this._annotations=e,this._page=i,this._crossReference=t,this._parsedAnnotations=new Map,this._comments=[]}return Object.defineProperty(e.prototype,"count",{get:function(){return this._annotations.length},enumerable:!0,configurable:!0}),e.prototype.at=function(e){if(e<0||e>=this._annotations.length)throw Error("Index out of range.");if(!this._parsedAnnotations.has(e)){var t=this._annotations[Number.parseInt(e.toString(),10)];if("undefined"!==typeof t&&t instanceof Vn&&(t=this._crossReference._fetch(t)),"undefined"!==typeof t&&t instanceof Yn){var i=this._parseAnnotation(t);i&&(i._ref=this._annotations[Number.parseInt(e.toString(),10)],this._parsedAnnotations.set(e,i))}}return this._parsedAnnotations.get(e)},e.prototype.add=function(e){if("undefined"===typeof e||null===e)throw Error("annotation cannot be null or undefined");if(e._isLoaded)throw Error("cannot add an existing annotation");var t;e._initialize(this._page),"undefined"!==typeof e._ref&&e._ref._isNew?t=e._ref:(t=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(t,e._dictionary),e._ref=t);var i=this._annotations.length;this._annotations.push(t),this._parsedAnnotations.set(i,e);var n=!1;if(this._page._pageDictionary.has("Annots")){var r=this._page._pageDictionary.get("Annots");null!==r&&"undefined"!==typeof r&&-1===r.indexOf(t)&&(r.push(t),this._page._pageDictionary.set("Annots",r),n=!0)}return n||this._page._pageDictionary.set("Annots",this._annotations),this._page._pageDictionary._updated=!0,e instanceof ft&&this._addCommentsAndReview(e,e._dictionary.get("F")),this._updateCustomAppearanceResource(e),i},e.prototype.remove=function(e){if(e._ref){var t=this._annotations.indexOf(e._ref);t>-1&&this.removeAt(t)}},e.prototype.removeAt=function(e){if(e<0||e>=this._annotations.length)throw Error("Index out of range.");var t=this._annotations[Number.parseInt(e.toString(),10)];if(t&&this._page){var i=this._page._getProperty("Annots"),n=i.indexOf(t);n>-1&&i.splice(n,1),this._page._pageDictionary.set("Annots",i),this._page._pageDictionary._updated=!0,this._annotations.indexOf(t)>-1&&this._annotations.splice(e,1),this._parsedAnnotations.has(e)&&this._parsedAnnotations.delete(e);var r=this._page._crossReference;r&&r._cacheMap.has(t)&&r._cacheMap.delete(t)}},e.prototype._updateCustomAppearanceResource=function(e){e instanceof kt&&"undefined"!==typeof e._appearance&&e._appearance.normal.graphics._processResources(e._crossReference)},e.prototype._addCommentsAndReview=function(e,t){this._updateChildReference(e,e.comments,t),this._updateChildReference(e,e.reviewHistory,t)},e.prototype._updateChildReference=function(e,t,i){if(t&&t.count>0){if(30===i)throw new Error("Could not add comments/reviews to the review");for(var n=0;n<t.count;n++){var r=t._collection[Number.parseInt(n.toString(),10)];r&&!r._dictionary.has("IRT")&&(0!==n&&t._isReview?r._dictionary.update("IRT",t._collection[n-1]._ref):r._dictionary.update("IRT",e._ref),t._isReview?r._isReview=!0:r._isComment=!0,this.add(r))}}},e.prototype._parseAnnotation=function(e){var t;if(e.has("Subtype")){var i=e.get("Subtype"),n=e.get("Rect");if(i){var r=void 0;switch(i.name){case"Line":t=gt._load(this._page,e);break;case"Circle":if(e.has("Measure"))t=mt._load(this._page,e);else t=n[2]-n[0]===n[3]-n[1]?mt._load(this._page,e):yt._load(this._page,e);break;case"Square":t=n[2]===n[3]?vt._load(this._page,e):bt._load(this._page,e);break;case"Polygon":t=Mt._load(this._page,e);break;case"PolyLine":if(e.has("Measure")&&e.has("IT"))(s=e.get("IT"))&&"PolyLineAngle"===s.name&&(t=wt._load(this._page,e));t||(t=St._load(this._page,e));break;case"Ink":t=_t._load(this._page,e);break;case"Popup":case"Text":t=It._load(this._page,e);break;case"Link":var s;if(e.has("A")&&(r=e.get("A")),r&&r.has("S")){if(s=r.get("S").name){var o=this._hasValidBorder(e.getArray("Border"));"URI"===s?t=o?Dt._load(this._page,e):this._getLinkAnnotation(e):"Launch"===s?t=Nt._load(this._page,e):"GoToR"===s?t=this._getLinkAnnotation(e):"GoTo"===s&&(t=xt._load(this._page,e))}}else"Link"===i.name&&(t=xt._load(this._page,e));break;case"FileAttachment":t=Tt._load(this._page,e);break;case"3D":t=At._load(this._page,e);break;case"FreeText":t=Lt._load(this._page,e);break;case"Redact":t=Ot._load(this._page,e);break;case"RichMedia":t=Pt._load(this._page,e);break;case"Watermark":t=Et._load(this._page,e);break;case"Stamp":t=kt._load(this._page,e);break;case"Sound":t=zt._load(this._page,e);break;case"Highlight":case"Squiggly":case"StrikeOut":case"Underline":t=jt._load(this._page,e)}}}return t},e.prototype._getLinkAnnotation=function(e){var t;if(e.has("A")){var i=e.get("A");if(i&&i.has("S")){var n=i.get("S");n&&"GoToR"===n.name&&i.has("F")?t=Nt._load(this._page,e):n&&"URI"===n.name&&(t=Ct._load(this._page,e))}}else t=Ct._load(this._page,e);return t},e.prototype._hasValidBorder=function(e){if("undefined"===typeof e||null===e)return!1;for(var t=0;t<e.length;t++){var i=0,n=e[Number.parseInt(t.toString(),10)];if(null!==n&&"undefined"!==typeof n&&(i=n),i>0)return!1}return!0},e.prototype._doPostProcess=function(e){for(var t=this.count-1;t>=0;t--){var i=this.at(t);i&&(i._isExport=this._isExport,i._doPostProcess(i.flatten||e))}},e.prototype._reArrange=function(e,t,i){if(this._annotations){t>this._annotations.length&&(t=0),i>=this._annotations.length&&(i=this._annotations.indexOf(e));var n=this._crossReference._fetch(this._annotations[Number.parseInt(i.toString(),10)]);if(n.has("Parent")){var r=n.getRaw("Parent");if(r&&r===e||e===this._annotations[Number.parseInt(i.toString(),10)]){var s=this._annotations[Number.parseInt(i.toString(),10)];this._annotations[Number.parseInt(i.toString(),10)]=this._annotations[Number.parseInt(t.toString(),10)],this._annotations[Number.parseInt(t.toString(),10)]=s}}}return this._annotations},e.prototype._clear=function(){this._annotations=[],this._parsedAnnotations=new Map,this._comments=[]},e}(),Xt=function(){function e(e,t){this._collection=[],this._annotation=e,this._isReview=t,(this._annotation._isLoaded||"undefined"!==typeof e._page)&&(this._page=e._page,this._parentDictionary=e._dictionary,this._annotation._isLoaded&&this._parseCommentsOrReview())}return Object.defineProperty(e.prototype,"count",{get:function(){return this._collection.length},enumerable:!0,configurable:!0}),e.prototype.at=function(e){if(e<0||e>=this._collection.length)throw Error("Index out of range.");return this._collection[Number.parseInt(e.toString(),10)]},e.prototype.add=function(e){if(30===this._annotation._dictionary.get("F"))throw new Error("Could not add comments/reviews to the review");if(e._dictionary.update("F",this._annotation.flags===n.locked?128:this._isReview?30:28),this._annotation&&(this._annotation._isLoaded||this._page&&this._annotation._ref)){this._page.annotations.add(e);var t=this._collection.length;0!==t&&this._isReview?e._dictionary.update("IRT",this._collection[Number.parseInt((t-1).toString(),10)]._ref):e._dictionary.update("IRT",this._annotation._ref),this._isReview?e._isReview=!0:e._isComment=!0}this._collection.push(e)},e.prototype.remove=function(e){var t=this._collection.indexOf(e);t>-1&&this.removeAt(t)},e.prototype.removeAt=function(e){if(!(e>-1&&e<this._collection.length))throw new Error("Index out of range.");var t=this._collection[Number.parseInt(e.toString(),10)];if(this._isReview&&e<this._collection.length-1){var i=this._collection[Number.parseInt((e+1).toString(),10)],n=t._dictionary._get("IRT");i._dictionary.set("IRT",n),i._dictionary._updated=!0}this._collection.splice(e,1),this._page.annotations.remove(t)},e.prototype._parseCommentsOrReview=function(){this._isReview?this._parseReview():this._parseComments()},e.prototype._parseReview=function(){var e=this._page.annotations,t=new Map;if(t.set(this._annotation._ref,this._annotation),e._comments&&e._comments.length>0){for(var i=[],n=0;n<e._comments.length;n++){var r=(o=e._comments[Number.parseInt(n.toString(),10)])._dictionary._get("IRT");o._isReview&&r&&t.has(r)?(this._collection.push(o),t.set(o._ref,o)):i.push(o)}i.length>0?e._comments=i:e._comments=[]}else{var s=e.count;for(n=0;n<s;n++){var o;if((o=e.at(n))&&o instanceof It){var a=o._dictionary;if(o._dictionary.has("IRT")){r=a._get("IRT");o._isReview&&r&&t.has(r)?(this._collection.push(o),t.set(o._ref,o)):e._comments.push(o)}}}}t.clear()},e.prototype._parseComments=function(){var e=this._page.annotations;if(e._comments&&e._comments.length>0){for(var t=[],i=0;i<e._comments.length;i++){var n=Sn(o=(s=e._comments[Number.parseInt(i.toString(),10)])._dictionary);(a=o._get("IRT"))&&a===this._annotation._ref&&!n?this._collection.push(s):t.push(s)}t.length>0?e._comments=t:e._comments=[]}else{var r=e.count;for(i=0;i<r;i++){var s;if((s=e.at(i))&&s instanceof It){var o=s._dictionary;if(s._dictionary.has("IRT")){var a;n=Sn(o);(a=o._get("IRT"))&&a===this._annotation._ref&&!n?this._collection.push(s):e._comments.push(s)}}}}},e}(),Jt=function(){function e(e,t,i,n){this._isAnnotationParsed=!1,this._pageIndex=t,this._pageDictionary=i,this._crossReference=e,this._ref=n}return Object.defineProperty(e.prototype,"annotations",{get:function(){if("undefined"===typeof this._annotations){if(this._pageDictionary.has("Annots")){var e=this._getProperty("Annots");if(e&&Array.isArray(e)){var t=this._crossReference._document.form._parseWidgetReferences();if(t&&t.length>0){var i=[];e.forEach((function(e){-1===t.indexOf(e)&&i.push(e)})),this._annotations=new Kt(i,this._crossReference,this)}else this._annotations=new Kt(e,this._crossReference,this)}}"undefined"===typeof this._annotations&&(this._annotations=new Kt([],this._crossReference,this))}return this._annotations},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if("undefined"===typeof this._size){var e=this.mediaBox,t=0,i=0;e&&(t=e[2]-e[0],i=0!==e[3]?e[3]-e[1]:e[1]),i<0&&(i=-i),t<0&&(t=-t),this._size=[t,i]}return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){var e=0;return"undefined"===typeof this._rotation&&(e=Di(this._pageDictionary,"Rotate",!1,!0,"Parent")),e<0&&(e+=360),"undefined"!==typeof e?e/90%4:h.angle0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabOrder",{get:function(){return this._obtainTabOrder()},set:function(e){this._tabOrder=e;var t="";this._tabOrder!==C.none&&(this._tabOrder===C.row?t="R":this._tabOrder===C.column?t="C":this._tabOrder===C.structure&&(t="S")),this._pageDictionary.update("Tabs",Fn.get(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cropBox",{get:function(){return"undefined"===typeof this._cBox&&(this._cBox=Di(this._pageDictionary,"CropBox",!1,!0,"Parent","P")),"undefined"===typeof this._cBox&&(this._cBox=[0,0,0,0]),this._cBox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaBox",{get:function(){return"undefined"===typeof this._mBox&&(this._mBox=Di(this._pageDictionary,"MediaBox",!1,!0,"Parent","P")),"undefined"===typeof this._mBox&&(this._mBox=[0,0,0,0]),this._mBox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){if("undefined"===typeof this._orientation&&"undefined"!==typeof this.size){var e=this.size;e[0]>e[1]?this._orientation=k.landscape:this._orientation=k.portrait}return this._orientation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_origin",{get:function(){return("undefined"===typeof this._o||0===this._o[0]&&0===this._o[1])&&(this._o=[this.mediaBox[0],this._mBox[1]]),this._o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){return("undefined"===typeof this._g||this._needInitializeGraphics)&&this._parseGraphics(),this._g},enumerable:!0,configurable:!0}),e.prototype._addWidget=function(e){var t;this._pageDictionary.has("Annots")&&(t=this._getProperty("Annots")),t&&Array.isArray(t)?t.push(e):this._pageDictionary.update("Annots",[e]),this._pageDictionary._updated=!0},e.prototype._getProperty=function(e,t){void 0===t&&(t=!1);var i=Di(this._pageDictionary,e,t,!1);return Array.isArray(i)?1!==i.length&&i[0]instanceof Yn?Yn.merge(this._crossReference,i):i[0]:i},e.prototype._parseGraphics=function(){this._loadContents();var e=new $n([32,113,32,10]),t=this._crossReference._getNextReference();this._crossReference._cacheMap.set(t,e),this._contents.splice(0,0,t);var i=new $n([32,81,32,10]),n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,i),this._contents.push(n);var r=new $n([]),s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,r),this._contents.push(s),this._pageDictionary.set("Contents",this._contents),this._pageDictionary._updated=!0,this._initializeGraphics(r)},e.prototype._loadContents=function(){var e,t=this._pageDictionary.getRaw("Contents");null!==t&&"undefined"!==typeof t&&t instanceof Vn&&(e=t,t=this._crossReference._fetch(e)),t&&t instanceof Jn?this._contents=[e]:t&&Array.isArray(t)?this._contents=t:this._contents=[]},e.prototype._initializeGraphics=function(e){var t,i=!1,n=0,r=0,s=0,o=0,a=this.size,l=this.mediaBox;if(l&&l.length>=4&&(n=l[0],r=l[1],s=l[2],o=l[3]),this._pageDictionary.has("CropBox"))if((t=this.cropBox)&&t.length>=4){var c=t[0],u=t[1],p=t[2],d=t[3];(c<0||u<0||p<0||d<0)&&Math.floor(Math.abs(u))===Math.floor(Math.abs(a[1]))&&Math.floor(Math.abs(c))===Math.floor(Math.abs(a[0]))?this._g=new ti([Math.max(c,p),Math.max(u,d)],e,this._crossReference,this):(this._g=new ti(a,e,this._crossReference,this),this._g._cropBox=t)}else this._g=new ti(a,e,this._crossReference,this);else if((n<0||r<0||s<0||o<0)&&Math.floor(Math.abs(r))===Math.floor(Math.abs(a[1]))&&Math.floor(Math.abs(s))===Math.floor(Math.abs(a[0]))){var f=Math.max(n,s),g=Math.max(r,o);(f<=0||g<=0)&&(i=!0,n<0&&(n=-n),r<0&&(r=-r),s<0&&(s=-s),o<0&&(o=-o),f=Math.max(n,s),g=Math.max(r,o)),this._g=new ti([f,g],e,this._crossReference,this)}else this._g=new ti(a,e,this._crossReference,this);this._pageDictionary.has("MediaBox")&&(this._g._mediaBoxUpperRightBound=i?-r:o),this._graphicsState=this._g.save();var m=this._origin;m[0]>=0&&m[1]>=0||Math.sign(m[0])!==Math.sign(m[1])?this._g._initializeCoordinates():this._g._initializeCoordinates(this);var y=this.rotation;if(!Number.isNaN(y)&&(y!==h.angle0||this._pageDictionary.has("Rotate"))){var v=void 0;v=this._pageDictionary.has("Rotate")?this._pageDictionary.get("Rotate"):90*y;var b=this._g._clipBounds;90===v?(this._g.translateTransform(0,a[1]),this._g.rotateTransform(-90),this._g._clipBounds=[b[0],b[1],a[0],a[1]]):180===v?(this._g.translateTransform(a[0],a[1]),this._g.rotateTransform(-180)):270===v&&(this._g.translateTransform(a[0],0),this._g.rotateTransform(-270),this._g._clipBounds=[b[0],b[1],a[1],a[0]])}this._needInitializeGraphics=!1},e.prototype._fetchResources=function(){if("undefined"===typeof this._resourceObject)if(this._pageDictionary&&this._pageDictionary.has("Resources")){var e=this._pageDictionary.getRaw("Resources");null!==e&&"undefined"!==typeof e&&e instanceof Vn?(this._hasResourceReference=!0,this._resourceObject=this._crossReference._fetch(e)):e instanceof Yn&&(this._resourceObject=e)}else this._resourceObject=new Yn(this._crossReference),this._pageDictionary.update("Resources",this._resourceObject);return this._resourceObject},e.prototype._getCropOrMediaBox=function(){var e;return this._pageDictionary.has("CropBox")?e=this._pageDictionary.getArray("CropBox"):this._pageDictionary.has("MediaBox")&&(e=this._pageDictionary.getArray("MediaBox")),e},e.prototype._beginSave=function(){"undefined"!==typeof this._graphicsState&&(this.graphics.restore(this._graphicsState),this._graphicsState=null,this._needInitializeGraphics=!0)},e.prototype._destroy=function(){this._pageDictionary=void 0,this._size=void 0,this._mBox=void 0,this._cBox=void 0,this._o=void 0,this._g=void 0,this._graphicsState=void 0,this._contents=void 0},e.prototype._obtainTabOrder=function(){if(this._pageDictionary.has("Tabs")){var e=this._pageDictionary.get("Tabs");e===Fn.get("R")?this._tabOrder=C.row:e===Fn.get("C")?this._tabOrder=C.column:e===Fn.get("S")?this._tabOrder=C.structure:e===Fn.get("W")&&(this._tabOrder=C.widget)}return null!==this._tabOrder&&"undefined"!==typeof this._tabOrder||(this._tabOrder=C.none),this._tabOrder},e.prototype._removeAnnotation=function(e){if(this._pageDictionary.has("Annots")){var t=this._getProperty("Annots");if(t&&Array.isArray(t)){var i=t.indexOf(e);i>=0&&t.splice(i,1),this._pageDictionary.set("Annots",t),this._pageDictionary._updated=!0}}},e}(),Zt=function(){function e(e,t){this._location=[0,0],this._destinationMode=I.location,this._zoom=0,this._isValid=!0,this._index=0,this._destinationBounds=[0,0,0,0],this._array=Array(),"undefined"!==typeof e&&null!==e&&(e.rotation===h.angle180?this._location=[e.graphics._size[0],this._location[1]]:e.rotation===h.angle90?this._location=[0,0]:e.rotation===h.angle270?this._location=[e.graphics._size[0],0]:this._location=[0,this._location[1]],this._page=e,this._index=e._pageIndex),"undefined"!==typeof t&&2===t.length&&(this._location=t),"undefined"!==typeof t&&4===t.length&&(this._location=[t[0],t[1]],this._destinationBounds=t)}return Object.defineProperty(e.prototype,"zoom",{get:function(){return this._zoom},set:function(e){e!==this._zoom&&(this._zoom=e,this._initializePrimitive())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(e){e!==this._page&&(this._page=e,this._initializePrimitive(),this._index=e._pageIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageIndex",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._destinationMode},set:function(e){e!==this._destinationMode&&(this._destinationMode=e,this._initializePrimitive())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this._location},set:function(e){e!==this._location&&(this._location=e,this._initializePrimitive())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destinationBounds",{get:function(){return this._destinationBounds},set:function(e){e!==this._destinationBounds&&(this._destinationBounds=e,this._initializePrimitive())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this._isValid},enumerable:!0,configurable:!0}),e.prototype._setValidation=function(e){this._isValid=e},e.prototype._initializePrimitive=function(){this._array=[];var e=this._page,t=this._page._pageDictionary;switch("undefined"!==typeof t&&null!==t&&this._array.push(this._page._ref),this._destinationMode){case I.location:this._array.push(Fn.get("XYZ")),"undefined"!==typeof e&&null!==e?(this._array.push(this._location[0]),this._array.push(this._page.graphics._size[1]-this._location[1])):(this._array.push(0),this._array.push(0)),this._array.push(this._zoom);break;case I.fitToPage:this._array.push(Fn.get("Fit"));break;case I.fitR:this._array.push(Fn.get("FitR")),this._array.push(this._destinationBounds[0]),this._array.push(this._destinationBounds[1]),this._array.push(this._destinationBounds[2]),this._array.push(this._destinationBounds[3]);break;case I.fitH:this._array.push(Fn.get("FitH")),this._array.push("undefined"!==typeof e&&null!==e?e._size[1]-this._location[1]:0)}this._parent&&(this._parent._dictionary.set("D",this._array),this._parent._dictionary._updated=!0)},e}(),$t=function(){function e(e){this._newLine="\r\n",this._whiteSpace=" ",this._stream=e}return e.prototype._writeOperator=function(e){this._stream.write(e),this._stream.write(this._newLine)},e.prototype._saveGraphicsState=function(){this._writeOperator("q")},e.prototype._restoreGraphicsState=function(){this._writeOperator("Q")},e.prototype._writeComment=function(e){e&&e.length>0&&this._writeOperator("% "+e)},e.prototype._setGraphicsState=function(e){this._stream.write("/"+qi(e.name)+" "),this._writeOperator("gs")},e.prototype._modifyCtm=function(e){this._stream.write(e._toString()+" "),this._writeOperator("cm")},e.prototype._modifyTM=function(e){this._stream.write(e._toString()+" "),this._writeOperator("Tm")},e.prototype._setColorSpace=function(e,t){this._stream.write("/"+e+" "),this._writeOperator(t?"CS":"cs")},e.prototype._setColor=function(e,t){this._stream.write((e[0]/255).toFixed(3)+" "+(e[1]/255).toFixed(3)+" "+(e[2]/255).toFixed(3)+" "),this._writeOperator(t?"RG":"rg")},e.prototype._appendRectangle=function(e,t,i,n){this._writePoint(e,t),this._writePoint(i,n),this._writeOperator("re")},e.prototype._writePoint=function(e,t){this._stream.write(e.toFixed(3)+" "+(-t).toFixed(3)+" ")},e.prototype._clipPath=function(e){this._stream.write((e?"W*":"W")+" n"+this._newLine)},e.prototype._fillPath=function(e){this._writeOperator(e?"f*":"f")},e.prototype._closeFillPath=function(e){this._writeOperator("h"),this._fillPath(e)},e.prototype._strokePath=function(){this._writeOperator("S")},e.prototype._closeStrokePath=function(){this._writeOperator("s")},e.prototype._fillStrokePath=function(e){this._writeOperator(e?"B*":"B")},e.prototype._closeFillStrokePath=function(e){this._writeOperator(e?"b*":"b")},e.prototype._endPath=function(){this._writeOperator("n")},e.prototype._setFont=function(e,t){this._stream.write("/"+e+" "+t.toFixed(3)+" "),this._writeOperator("Tf")},e.prototype._setTextScaling=function(e){this._stream.write(e.toFixed(3)+" "),this._writeOperator("Tz")},e.prototype._closePath=function(){this._writeOperator("h")},e.prototype._startNextLine=function(e,t){"undefined"===typeof e?this._writeOperator("T*"):(this._writePoint(e,t),this._writeOperator("Td"))},e.prototype._showText=function(e){this._writeText(e),this._writeOperator("Tj")},e.prototype._write=function(e){var t="";t+=e,t+="\r\n",this._writeOperator(t)},e.prototype._writeText=function(e){for(var t="",i=this._escapeSymbols(e),n=0;n<i.length;n++)t+=String.fromCharCode(i[n]);t="("+t+")",this._stream.write(t)},e.prototype._beginText=function(){this._writeOperator("BT")},e.prototype._endText=function(){this._writeOperator("ET")},e.prototype._beginPath=function(e,t){this._writePoint(e,t),this._writeOperator("m")},e.prototype._appendLineSegment=function(e,t){this._writePoint(e,t),this._writeOperator("l")},e.prototype._appendBezierSegment=function(e,t,i,n,r,s){this._writePoint(e,t),this._writePoint(i,n),this._writePoint(r,s),this._writeOperator("c")},e.prototype._setTextRenderingMode=function(e){this._stream.write(e.toString()+" "),this._writeOperator("Tr")},e.prototype._setCharacterSpacing=function(e){this._stream.write(e.toFixed(3)+" "),this._writeOperator("Tc")},e.prototype._setWordSpacing=function(e){this._stream.write(e.toFixed(3)+" "),this._writeOperator("Tw")},e.prototype._showNextLineText=function(e,t){null!==t&&"undefined"!==typeof t&&t?(this._writeText(e),this._writeOperator("'")):(this._stream.write(e),this._writeOperator("'"))},e.prototype._setLineDashPattern=function(e,t){var i="[";if(e.length>1)for(var n=0;n<e.length;n++)n===e.length-1?i+=e[n].toString():i+=e[n].toString()+" ";i+="] ",i+=t.toString(),i+=" d",this._writeOperator(i)},e.prototype._setMiterLimit=function(e){this._stream.write(e.toFixed(3)+" "),this._writeOperator("M")},e.prototype._setLineWidth=function(e){this._stream.write(e.toFixed(3)+" "),this._writeOperator("w")},e.prototype._setLineCap=function(e){this._stream.write(e+" "),this._writeOperator("J")},e.prototype._setLineJoin=function(e){this._stream.write(e+" "),this._writeOperator("j")},e.prototype._executeObject=function(e){this._stream.write("/"+e.name+" "),this._writeOperator("Do")},e.prototype._beginMarkupSequence=function(e){this._stream.write("/"+e+" "),this._writeOperator("BMC")},e.prototype._endMarkupSequence=function(){this._writeOperator("EMC")},e.prototype._clear=function(){this._stream._bytes=[]},e.prototype._escapeSymbols=function(e){for(var t=[],i=0;i<e.length;i++){var n=e.charCodeAt(i);switch(n){case 40:case 41:case 92:t.push(92),t.push(n);break;case 13:t.push(92),t.push(114);break;default:t.push(n)}}return t},e}(),ei=function(){function e(){}return Object.defineProperty(e.prototype,"width",{get:function(){return this._imageWidth},set:function(e){this._imageWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._imageHeight},set:function(e){this._imageHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"physicalDimension",{get:function(){return this._imagePhysicalDimension=this._getPointSize(this.width,this.height,this._horizontalResolution),[this.width,this.height]},enumerable:!0,configurable:!0}),e.prototype.draw=function(e,t,i){null!==t&&"undefined"!==typeof t||null!==i&&"undefined"!==typeof i||(t=0,i=0);var n=0!==t||0!==i,r=null;n&&(r=e.save(),e.translateTransform(t,i)),e.drawImage(this,0,0),n&&e.restore(r)},e.prototype._getPointSize=function(e,t,i){if(null===i||"undefined"===typeof i){return this._getPointSize(e,t,96)}var n=new li,r=new li;return[n._convertUnits(e,D.pixel,D.point),r._convertUnits(t,D.pixel,D.point)]},e}(),ti=function(){function e(e,t,i,n){if(this._pendingResource=[],this._hasResourceReference=!1,n instanceof Jt?(this._source=n._pageDictionary,this._page=n):n instanceof $&&(this._source=n._content.dictionary,this._template=n),this._source&&this._source.has("Resources")){var r=this._source.getRaw("Resources");r instanceof Vn?(this._hasResourceReference=!0,this._resourceObject=i._fetch(r)):r instanceof Yn&&(this._resourceObject=r)}else this._resourceObject=new Yn,this._source.update("Resources",this._resourceObject);this._crossReference=i,this._sw=new $t(t),this._size=e,Yi("PDF",this._resourceObject),this._initialize()}return Object.defineProperty(e.prototype,"_matrix",{get:function(){return"undefined"===typeof this._m&&(this._m=new ii),this._m},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_resources",{get:function(){var e=this;if("undefined"===typeof this._resourceMap){if(this._resourceMap=new Map,this._resourceObject.has("Font")){var t=this._resourceObject.get("Font");t&&t.size>0&&t.forEach((function(t,i){null!==i&&"undefined"!==typeof i&&i instanceof Vn&&e._resourceMap.set(i,Fn.get(t))}))}if(this._resourceObject.has("XObject")){var i=this._resourceObject.get("XObject");i&&i.size>0&&i.forEach((function(t,i){null!==i&&"undefined"!==typeof i&&i instanceof Vn&&e._resourceMap.set(i,Fn.get(t))}))}if(this._resourceObject.has("ExtGState")){var n=this._resourceObject.get("ExtGState");n&&n.size>0&&(this._transparencies||(this._transparencies=new Map),n.forEach((function(t,i){null!==i&&"undefined"!==typeof i&&i instanceof Vn&&e._setTransparencyData(i,Fn.get(t))})))}}return this._resourceMap},enumerable:!0,configurable:!0}),e.prototype.save=function(){var e=new ri(this,this._matrix);return e._textRenderingMode=this._textRenderingMode,e._charSpacing=this._characterSpacing,e._textScaling=this._textScaling,e._wordSpacing=this._wordSpacing,e._currentBrush=this._currentBrush,e._currentPen=this._currentPen,e._currentFont=this._currentFont,this._graphicsState.push(e),this._sw._saveGraphicsState(),e},e.prototype.restore=function(e){if(this._graphicsState.length>0)if("undefined"===typeof e)this._doRestore();else if(this._graphicsState.length>0&&-1!==this._graphicsState.indexOf(e))for(;this._graphicsState.length>0&&this._doRestore()!==e;);},e.prototype._doRestore=function(){var e=this._graphicsState.pop();return this._m=e._transformationMatrix,this._currentBrush=e._currentBrush,this._currentPen=e._currentPen,this._currentFont=e._currentFont,this._characterSpacing=e._charSpacing,this._wordSpacing=e._wordSpacing,this._textScaling=e._textScaling,this._textRenderingMode=e._textRenderingMode,this._sw._restoreGraphicsState(),e},e.prototype.drawRectangle=function(e,t,i,n,r,s){var o,a;r instanceof ai?(o=r,s&&(a=s)):a=r,this._stateControl(o,a),this._sw._appendRectangle(e,t,i,n),this._drawGraphicsPath(o,a)},e.prototype.drawPolygon=function(e,t,i){if(e.length>0){var n=void 0,r=void 0;t instanceof ai?(n=t,i&&(r=i)):r=t,this._stateControl(n,r),this._sw._beginPath(e[0][0],e[0][1]);for(var s=1;s<e.length;s++)this._sw._appendLineSegment(e[Number.parseInt(s.toString(),10)][0],e[Number.parseInt(s.toString(),10)][1]);this._drawGraphicsPath(n,r,P.winding,!0)}},e.prototype.drawEllipse=function(e,t,i,n,r,s){var o,a;r instanceof ai?(o=r,s&&(a=s)):a=r,this._stateControl(o,a),this._constructArcPath(e,t,e+i,t+n,0,360),this._drawGraphicsPath(o,a,P.winding,!0)},e.prototype.drawArc=function(e,t,i,n,r,s,o){0!==s&&(this._stateControl(o),this._constructArcPath(e,t,e+i,t+n,r,s),this._drawGraphicsPath(o,null,P.winding,!1))},e.prototype.drawImage=function(e,t,i,n,r){if("number"===typeof t&&"number"===typeof i&&"undefined"===typeof n){var s=e.physicalDimension;this.drawImage(e,t,i,s[0],s[1])}else{e._save();var o=new ii;this._getTranslateTransform(t,i+r,o),this._getScaleTransform(n,r,o),this._sw._write("q"),this._sw._modifyCtm(o);var a=void 0,l=void 0,h=!0;if(this._resourceObject.has("XObject")){var c=this._resourceObject.getRaw("XObject");c instanceof Yn&&(a=c),a&&(h=!1)}h&&(a=new Yn(this._crossReference),this._resourceObject.update("XObject",a)),"undefined"===typeof l&&(l=Fn.get(Qi())),this._crossReference?(this._updateImageResource(e,l,a,this._crossReference),this._source.update("Resources",this._resourceObject),this._source._updated=!0):this._pendingResource.push({resource:e,key:l,source:a}),this._sw._executeObject(l),this._sw._write("Q"),this._sw._write("\r\n"),Yi("ImageB",this._resourceObject),Yi("ImageC",this._resourceObject),Yi("ImageI",this._resourceObject),Yi("Text",this._resourceObject)}},e.prototype._processResources=function(e){if(this._pendingResource.length>0){for(var t=0;t<this._pendingResource.length;t++){var i=this._pendingResource[Number.parseInt(t.toString(),10)];i.resource instanceof ei&&this._updateImageResource(i.resource,i.key,i.source,e),this._source.update("Resources",this._resourceObject),this._source._updated=!0}this._pendingResource=[]}},e.prototype._updateImageResource=function(e,t,i,n){var r;e._reference?r=e._reference:(r=n._getNextReference(),e._reference=r),n._cacheMap.has(r)||e&&e._imageStream&&e._imageStream.dictionary&&(n._cacheMap.set(r,e._imageStream),e._imageStream.dictionary._updated=!0),i.update(t.name,r),this._resources.set(r,t),this._resourceObject._updated=!0},e.prototype._drawTemplate=function(e,t){var i,n,r=this,s=e&&e._size[0]>0?t.width/e._size[0]:1,o=e&&e._size[1]>0?t.height/e._size[1]:1,a=!(1===s&&1===o);this._page&&(i=this._page.cropBox,n=this._page.mediaBox,this._page._pageDictionary.has("CropBox")&&this._page._pageDictionary.has("MediaBox")&&i[0]>0&&i[1]>0&&n[0]<0&&n[1]<0&&(this.translateTransform(i[0],-i[1]),t.x=-i[0],t.y=i[1]));var l,h=this.save(),c=new ii;if(this._page){var u=this._page._pageDictionary.has("CropBox")&&this._page._pageDictionary.has("MediaBox")&&i&&n&&i[0]===n[0]&&i[1]===n[1]&&i[2]===n[2]&&i[3]===n[3]||this._page._pageDictionary.has("MediaBox")&&n&&0===n[3];c._translate(t.x,-(t.y+(this._page._origin[0]>=0||u?t.height:0)))}else c._translate(t.x,-(t.y+t.height));if(a)if(e._isAnnotationTemplate&&e._needScale){var p=!1;if(e._content&&e._content.dictionary){var d=e._content.dictionary;if(d.has("Matrix")&&d.has("BBox")){var f=d.getArray("Matrix"),g=d.getArray("BBox");if(f&&g&&f.length>5&&g.length>3){var m=Number.parseFloat(vi(-f[1])),y=Number.parseFloat(vi(f[2])),v=Number.parseFloat(vi(s)),b=Number.parseFloat(vi(o));v===m&&b===y&&g[2]===e._size[0]&&g[3]===e._size[1]&&((c=new ii)._translate(t.x-f[4],t.y+f[5]),c._scale(1,1),p=!0)}}}p||c._scale(s,o)}else c._scale(s,o);this._sw._modifyCtm(c);var M,S,w=!1,_=!0;if(this._resourceObject.has("XObject")){var I=this._resourceObject.getRaw("XObject");I instanceof Vn?(w=!0,l=this._crossReference._fetch(I)):I instanceof Yn&&(l=I),l&&(_=!1,this._resources.forEach((function(t,i){if(i&&i instanceof Vn){var n=r._crossReference._fetch(i);n&&e&&n===e._content&&(M=t,S=i)}})))}_&&(l=new Yn(this._crossReference),this._resourceObject.update("XObject",l)),"undefined"===typeof M&&(M=Fn.get(Qi()),S=e&&e._content.reference?e._content.reference:this._crossReference._getNextReference(),this._crossReference._cacheMap.has(S)||e&&e._content&&this._crossReference._cacheMap.set(S,e._content),l.update(M.name,S),this._resources.set(S,M),this._resourceObject._updated=!0),w&&(this._resourceObject._updated=!0),this._hasResourceReference&&(this._source._updated=!0),this._sw._executeObject(M),this.restore(h),Yi("ImageB",this._resourceObject),Yi("ImageC",this._resourceObject),Yi("ImageI",this._resourceObject),Yi("Text",this._resourceObject)},e.prototype._drawPath=function(e,t,i){(t||i)&&(this._stateControl(t,i,null),this._buildUpPath(e._points,e._pathTypes),this._drawGraphicsPath(t,i,e._fillMode,!1))},e.prototype.drawRoundedRectangle=function(e,t,i,n,r,s,o){if(null===s)throw new Error("pen");if(null===o)throw new Error("brush");var a=[e,t,i,n],l=2*r,h=[l,l],c=[a[0],a[1],h[0],h[1]],u=new Ze;0===r?(u._addRectangle(a[0],a[1],a[2],a[3]),this._drawPath(u,s,o)):(u._isRoundedRectangle=!0,u._addArc(c[0],c[1],c[2],c[3],180,90),c[0]=a[0]+a[2]-l,u._addArc(c[0],c[1],c[2],c[3],270,90),c[1]=a[1]+a[3]-l,u._addArc(c[0],c[1],c[2],c[3],0,90),c[0]=a[0],u._addArc(c[0],c[1],c[2],c[3],90,90),u._closeFigure(),this._drawPath(u,s,o))},e.prototype._constructArcPath=function(e,t,i,n,r,s){var o=Gi(e,t,i,n,r,s);if(8!==o.length){var a=[o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7]];this._sw._beginPath(a[0],a[1]);for(var l=0;l<o.length;l+=8)a=[o[Number.parseInt(l.toString(),10)],o[l+1],o[l+2],o[l+3],o[l+4],o[l+5],o[l+6],o[l+7]],this._sw._appendBezierSegment(a[2],a[3],a[4],a[5],a[6],a[7])}},e.prototype._writePen=function(e){for(var t=e._width,i=e._dashPattern,n=0;n<i.length;++n)i[n]*=e._width;this._sw._setLineDashPattern(i,e._dashOffset*t),this._sw._setLineWidth(e._width),this._sw._setLineJoin(e._lineJoin),this._sw._setLineCap(e._lineCap),e._miterLimit>0&&this._sw._setMiterLimit(e._miterLimit),this._sw._setColor(e._color,!0)},e.prototype.drawString=function(e,t,i,n,r,s){var o=(new ce)._layout(e,t,s,[i[2],i[3]]);if(!o._empty){var a=this._checkCorrectLayoutRectangle(o._actualSize,i[0],i[1],s);i[2]<=0&&(i[0]=a[0],i[2]=a[2]),i[3]<=0&&(i[1]=a[1],i[3]=a[3]),this._drawStringLayoutResult(o,t,n,r,i,s)}Yi("Text",this._resourceObject)},e.prototype._buildUpPath=function(e,t){for(var i=0;i<e.length;i++){var n=e[Number.parseInt(i.toString(),10)],r=t[Number.parseInt(i.toString(),10)];switch(15&r){case Xe.start:this._sw._beginPath(n[0],n[1]);break;case Xe.bezier:var s=this._getBezierPoint(e,t,i);i=s.index;var o=s.point;i=(s=this._getBezierPoint(e,t,i)).index;var a=s.point;this._sw._appendBezierSegment(n[0],n[1],o[0],o[1],a[0],a[1]);break;case Xe.line:this._sw._appendLineSegment(n[0],n[1]);break;default:throw new Error("Incorrect path formation.")}((r=t[Number.parseInt(i.toString(),10)])&Xe.closePath)===Xe.closePath&&this._sw._closePath()}},e.prototype._getBezierPoint=function(e,t,i){if(t[Number.parseInt(i.toString(),10)]!==Xe.bezier)throw new Error("Malforming path.");return{index:++i,point:e[Number.parseInt(i.toString(),10)]}},e.prototype._initialize=function(){this._mediaBoxUpperRightBound=0,this._characterSpacing=-1,this._wordSpacing=-1,this._textScaling=-100,this._textRenderingMode=-1,this._graphicsState=[],this._clipBounds=[0,0,this._size[0],this._size[1]],this._colorSpaceInitialized=!1,this._startCutIndex=-1},e.prototype._initializeCurrentColorSpace=function(){this._colorSpaceInitialized||(this._sw._setColorSpace("DeviceRGB",!0),this._sw._setColorSpace("DeviceRGB",!1),this._colorSpaceInitialized=!0)},e.prototype._brushControl=function(e){this._sw._setColor(e._color,!1),this._currentBrush=e},e.prototype._penControl=function(e){this._currentPen=e,this._writePen(e),this._currentPen=e},e.prototype._fontControl=function(e,t){var i,n=this,r=e._metrics._getSize(t);this._currentFont=e;var s,o,a=!1,l=!0;if(this._resourceObject.has("Font")){var h=this._resourceObject.getRaw("Font");null!==h&&"undefined"!==typeof h&&(h instanceof Vn?(a=!0,i=this._crossReference._fetch(h)):h instanceof Yn&&(i=h)),"undefined"!==typeof i&&null!==i&&(l=!1,this._resources.forEach((function(t,i){if(null!==i&&"undefined"!==typeof i){var r=n._crossReference._fetch(i);r&&r===e._dictionary&&(s=t,o=i)}})))}if(l&&(i=new Yn(this._crossReference),this._resourceObject.update("Font",i)),"undefined"===typeof s)if(s=Fn.get(Qi()),o||(o=this._crossReference._getNextReference()),e._dictionary)this._crossReference._cacheMap.set(o,e._dictionary),i.update(s.name,o),this._resources.set(o,s);else if(e instanceof Qe){var c=e._fontInternal;c&&c._fontDictionary&&this._crossReference._cacheMap.set(o,c._fontDictionary),i.update(s.name,o),this._resources.set(o,s)}a&&(this._resourceObject._updated=!0),this._hasResourceReference&&(this._source._updated=!0),this._sw._setFont(s.name,r)},e.prototype._stateControl=function(e,t,i,n){(e||t)&&this._initializeCurrentColorSpace(),e&&this._penControl(e),t&&this._brushControl(t),i&&this._fontControl(i,n)},e.prototype._drawStringLayoutResult=function(e,t,i,n,r,s){if(!e._empty){var o=s&&"undefined"!==typeof s.lineLimit&&!s.lineLimit,a="undefined"===typeof s||s&&"undefined"!==typeof s.noClip&&!s.noClip,l=o&&a,h=void 0;if(l){h=this.save();var c=[r[0],r[1],e._actualSize[0],e._actualSize[1]];r[2]>0&&(c[2]=r[2]),s.lineAlignment===Z.middle?c[1]+=(r[3]-c[3])/2:s.lineAlignment===Z.bottom&&(c[1]+=r[3]-c[3]),this.setClip(c)}this._applyStringSettings(t,i,n,s);var u="undefined"!==typeof s&&null!==s?s.horizontalScalingFactor:100;u!==this._textScaling&&(this._sw._setTextScaling(u),this._textScaling=u);var p=this._getTextVerticalAlignShift(e._actualSize[1],r[3],s),d="undefined"===typeof s||null===s||0===s.lineSpacing?t._metrics._getHeight(s):s.lineSpacing+t._metrics._getHeight(s),f=0;f=null!==s&&"undefined"!==typeof s&&s.subSuperScript===L.subScript?d-(t.height+t._metrics._getDescent(s)):d-t._metrics._getAscent(s),s&&s.lineAlignment===Z.bottom&&r[3]-e._actualSize[1]!==0&&r[3]-e._actualSize[1]<t._metrics._size/2-1&&Number.parseFloat(vi(r[3]))<=Number.parseFloat(vi(t._metrics._getHeight(s)))&&(f=-d/t._metrics._size);var g=new ii;g._translate(r[0],-(r[1]+t._metrics._getHeight(s))-(t._metrics._getDescent(s)>0?-t._metrics._getDescent(s):t._metrics._getDescent(s))-p),this._sw._modifyTM(g),r[3]<t._metrics._size&&e._actualSize[1]-r[3]<t._metrics._size/2-1&&(p=0),0!==p&&null!==s&&s.lineAlignment===Z.bottom&&r[3]-e._actualSize[1]!==0&&r[3]-e._actualSize[1]>t._metrics._size/2-1&&(p-=(f-(d-t._metrics._size))/2),this._drawLayoutResult(e,t,s,r),0!==p&&this._sw._startNextLine(0,-(p-e._lineHeight)),Yi("Text",this._resourceObject),this._sw._endText(),this._underlineStrikeoutText(n,e,t,r,s),l&&this.restore(h)}},e.prototype._getNextPage=function(){var e,t=this._crossReference._document.pageCount;return this._page._pageIndex<t-2&&(e=this._crossReference._document.getPage(this._page._pageIndex+1)),e},e.prototype._applyStringSettings=function(e,t,i,n){var r=$e.fill;null!=t&&null!=i?r=$e.fillStroke:t?r=$e.stroke:i&&(r=$e.fill),n&&n.clipPath&&(r|=$e.clipFlag),this._sw._beginText(),this._stateControl(t,i,e,n),r!==this._textRenderingMode&&(this._sw._setTextRenderingMode(r),this._textRenderingMode=r);var s="undefined"!==typeof n&&null!==n?n.characterSpacing:0;s!==this._characterSpacing&&(this._sw._setCharacterSpacing(s),this._characterSpacing=s);var o="undefined"!==typeof n&&null!==n?n.wordSpacing:0;o!==this._wordSpacing&&(this._sw._setWordSpacing(o),this._wordSpacing=o)},e.prototype._drawLayoutResult=function(e,t,i,n){for(var r="undefined"===typeof i||null===i||0===i.lineSpacing?t._metrics._getHeight(i):i.lineSpacing+t._metrics._getHeight(i),s=e._lines,o=null!==t&&t.isUnicode,a=0,l=s.length;a<l&&a!==this._startCutIndex;a++){var h=s[Number.parseInt(a.toString(),10)],c=h._width,u=this._getHorizontalAlignShift(c,n[2],i)+this._getLineIndent(h,i,n[2],0===a);if(0!==u&&this._sw._startNextLine(u,0),o?this._drawUnicodeLine(h,n[2],t,i):this._drawAsciiLine(h,n[2],i,t),a+1!==l){var p=this._getTextVerticalAlignShift(e._actualSize[1],n[3],i),d=new ii,f=-(n[1]+t._metrics._getHeight(i))-t._metrics._getDescent(i)-p-r*(a+1);d._translate(n[0],f),this._sw._modifyTM(d)}}},e.prototype._drawUnicodeLine=function(e,t,i,n){var r=e._text,s=null!==n&&"undefined"!==typeof n&&n.rightToLeft,o=null!==n&&"undefined"!==typeof n&&(0!==n.wordSpacing||n.alignment===p.justify),a=i,l=this._justifyLine(e,t,n,a),h=new Ve;if(s||null!==n&&"undefined"!==typeof n&&n.textDirection!==z.none){var c=[],u=null!==n&&"undefined"!==typeof n&&n.alignment===p.right,d=[];(c=null!==n&&"undefined"!==typeof n&&n.textDirection!==z.none?h._layout(r,a,n.textDirection===z.rightToLeft,o,n):h._layout(r,a,u,o,n)).length>1?null!==n&&"undefined"!==typeof n&&n.textDirection!==z.none&&(d=h._splitLayout(r,a,n.textDirection===z.rightToLeft,o,n)):d=[r],this._drawUnicodeBlocks(c,d,a,n,l)}else if(o){var f=this._breakUnicodeLine(r,a,null);c=f.tokens,d=f.words;this._drawUnicodeBlocks(c,d,a,n,l)}else{var g=this._convertToUnicode(r,a);this._sw._showNextLineText(g,!0)}},e.prototype._drawUnicodeBlocks=function(e,t,i,n,r){if(null!==e&&"undefined"!==typeof e&&e.length>0&&null!==t&&"undefined"!==typeof t&&t.length>0&&null!==i&&"undefined"!==typeof i){this._sw._startNextLine();var s=0,o=0,a=0,l=0;try{null!==n&&"undefined"!==typeof n&&(a=n.firstLineIndent,l=n.paragraphIndent,n.firstLineIndent=0,n.paragraphIndent=0);var h=i._getCharacterWidth(me._whiteSpace,n)+r,c=null!=n?n.characterSpacing:0;h+=c+(null!==n&&"undefined"!==typeof n&&0===r?n.wordSpacing:0);for(var u=0;u<e.length;u++){var p=e[u],d=t[u],f=0;0!==s&&this._sw._startNextLine(s,0),d.length>0&&(f+=i.measureString(d,n)[0],f+=c,this._sw._showText(p)),u!==e.length-1&&(o+=s=f+h)}o>0&&this._sw._startNextLine(-o,0)}finally{null!==n&&"undefined"!==typeof n&&(n.firstLineIndent=a,n.paragraphIndent=l)}}},e.prototype._breakUnicodeLine=function(e,t,i){var n=[];if(null!==e&&"undefined"!==typeof e&&e.length>0){i=e.split(null);for(var r=0;r<i.length;r++){var s=i[r],o=this._convertToUnicode(s,t);n[Number.parseInt(r.toString(),10)]=o}}return{tokens:n,words:i}},e.prototype._convertToUnicode=function(e,t){var i=null;if(null!==e&&"undefined"!==typeof e&&null!==t&&"undefined"!==typeof t&&t._fontInternal instanceof Oe){var n=t._fontInternal._ttfReader;t._setSymbols(e),i=Mi(Si(i=n._convertString(e)))}return i},e.prototype._getTextVerticalAlignShift=function(e,t,i){var n=0;if(t>=0&&"undefined"!==typeof i&&null!==i&&i.lineAlignment!==Z.top)switch(i.lineAlignment){case Z.middle:n=(t-e)/2;break;case Z.bottom:n=t-e}return n},e.prototype._getHorizontalAlignShift=function(e,t,i){var n=0;if(t>=0&&"undefined"!==typeof i&&null!==i&&i.alignment!==p.left)switch(i.alignment){case p.center:n=(t-e)/2;break;case p.right:n=t-e}return n},e.prototype._getLineIndent=function(e,t,i,n){var r=0,s=(e._lineType&te.firstParagraphLine)>0;return t&&s&&(r=n?t.firstLineIndent:t.paragraphIndent,r=i>0?Math.min(i,r):r),r},e.prototype._drawAsciiLine=function(e,t,i,n){this._justifyLine(e,t,i,n);var r="";if(-1!==e._text.indexOf("(")||-1!==e._text.indexOf(")"))for(var s=0;s<e._text.length;s++)"("===e._text[Number.parseInt(s.toString(),10)]?r+="\\(":")"===e._text[Number.parseInt(s.toString(),10)]?r+="\\)":r+=e._text[Number.parseInt(s.toString(),10)];""===r&&(r=e._text),this._sw._showNextLineText("("+r+")")},e.prototype._justifyLine=function(e,t,i,n){var r=e._text,s=e._width,o=this._shouldJustify(e,t,i,n),a=i&&0!==i.wordSpacing,l=n._getCharacterCount(r,[" ","\t"]),h=0;return o?(a&&(s-=l*i.wordSpacing),h=(t-s)/l,this._sw._setWordSpacing(h)):i&&i.alignment===p.justify&&this._sw._setWordSpacing(0),h},e.prototype._shouldJustify=function(e,t,i,n){var r=e._text,s=e._width,o=i&&i.alignment===p.justify,a=t>=0&&s<t,l=n._getCharacterCount(r,[" ","\t"])>0&&" "!==r[0],h=(e._lineType&te.layoutBreak)>0;return o&&a&&l&&(h||i.alignment===p.justify)},e.prototype._underlineStrikeoutText=function(e,t,i,n,r){if(i.isUnderline||i.isStrikeout){var s=this._createUnderlineStrikeoutPen(e,i);if("undefined"!==typeof s&&null!==s)for(var o=this._getTextVerticalAlignShift(t._actualSize[1],n[3],r),a=n[1]+o+i._metrics._getAscent(r)+1.5*s._width,l=n[1]+o+i._metrics._getHeight(r)/2+1.5*s._width,h=t._lines,c=0;c<t._lineCount;c++){var u=h[Number.parseInt(c.toString(),10)],p=u._width,d=this._getHorizontalAlignShift(p,n[2],r),f=this._getLineIndent(u,r,n[2],0===c),g=n[0]+d,m=this._shouldJustify(u,n[2],r,i)?g+n[2]-f:g+p-f;i.isUnderline&&(this.drawLine(s,g,a,m,a),a+=t._lineHeight),i.isStrikeout&&(this.drawLine(s,g,l,m,l),l+=t._lineHeight)}}},e.prototype.drawLine=function(e,t,i,n,r){this._stateControl(e),this._sw._beginPath(t,i),this._sw._appendLineSegment(n,r),this._sw._strokePath(),Yi("PDF",this._resourceObject)},e.prototype._createUnderlineStrikeoutPen=function(e,t){return new ai(e._color,t._metrics._size/20)},e.prototype._checkCorrectLayoutRectangle=function(e,t,i,n){var r=[t,i,e[0],e[0]];if(n){switch(n.alignment){case p.center:r[0]=r[0]-r[2]/2;break;case p.right:r[0]=r[0]-r[2]}switch(n.lineAlignment){case Z.middle:r[1]=r[1]-r[3]/2;break;case Z.bottom:r[1]=r[1]-r[3]}}return r},e.prototype._drawGraphicsPath=function(e,t,i,n){"undefined"===typeof i&&(i=P.winding);var r="undefined"!==typeof t&&null!==t,s="undefined"!==typeof e&&null!==e,o=i===P.alternate;s&&r?n?this._sw._closeFillStrokePath(o):this._sw._fillStrokePath(o):s||r?s?n?this._sw._closeStrokePath():this._sw._strokePath():n?this._sw._closeFillPath(o):this._sw._fillPath(o):this._sw._endPath()},e.prototype._initializeCoordinates=function(e){var t;if(e){var i=[0,0],n=!1;if(e._pageDictionary.has("CropBox")&&e._pageDictionary.has("MediaBox")){t=e._pageDictionary.getArray("CropBox");var r=e._pageDictionary.getArray("MediaBox");t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&(n=!0),t[0]>0&&t[3]>0&&r[0]<0&&r[1]<0?(this.translateTransform(t[0],-t[3]),i[0]=-t[0],i[1]=t[3]):e._pageDictionary.has("CropBox")||(n=!0),n&&(this._sw._writeComment("Change co-ordinate system to left/top."),this._cropBox?this.translateTransform(this._cropBox[0],-this._cropBox[3]):-e._origin[1]<this._mediaBoxUpperRightBound||0===this._mediaBoxUpperRightBound?this.translateTransform(0,-this._size[1]):this.translateTransform(0,-this._mediaBoxUpperRightBound))}}else this._sw._writeComment("Change co-ordinate system to left/top."),this._mediaBoxUpperRightBound!==-this._size[1]&&(this._cropBox&&((t=this._cropBox)[0]>0||t[1]>0||this._size[0]===t[2]||this._size[1]===t[3])?this.translateTransform(t[0],-t[3]):this._mediaBoxUpperRightBound===this._size[1]||0===this._mediaBoxUpperRightBound?this.translateTransform(0,-this._size[1]):this.translateTransform(0,-this._mediaBoxUpperRightBound))},e.prototype.scaleTransform=function(e,t){var i=new ii;i._scale(e,t),this._sw._modifyCtm(i),this._matrix._multiply(i)},e.prototype.translateTransform=function(e,t){var i=new ii;i._translate(e,-t),this._sw._modifyCtm(i),this._matrix._multiply(i)},e.prototype.rotateTransform=function(e){var t=new ii;t._rotate(-e),this._sw._modifyCtm(t),this._matrix._multiply(t)},e.prototype.setClip=function(e,t){"undefined"===typeof t&&(t=P.winding),this._sw._appendRectangle(e[0],e[1],e[2],e[3]),this._sw._clipPath(t===P.alternate)},e.prototype.setTransparency=function(e,t,i){"undefined"===typeof t&&(t=e),"undefined"===typeof i&&(i=O.normal),"undefined"===typeof this._transparencies&&(this._transparencies=new Map);var n,r="CA:"+e.toString()+"_ca:"+t.toString()+"_BM:"+i.toString();if(this._transparencies.size>0&&this._transparencies.forEach((function(e,t){e===r&&(n=t)})),!n){n=new si;var s=new Yn;s.update("CA",e),s.update("ca",t),s.update("BM",Ui(i));var o=this._crossReference._getNextReference();this._crossReference._cacheMap.set(o,s),n._dictionary=s,n._key=r,n._name=Fn.get(Qi()),n._reference=o;var a=void 0,l=!1;if(this._resourceObject.has("ExtGState")){var h=this._resourceObject.getRaw("ExtGState");null!==h&&"undefined"!==typeof h&&(h instanceof Vn?(l=!0,a=this._crossReference._fetch(h)):h instanceof Yn&&(a=h))}else a=new Yn(this._crossReference),this._resourceObject.update("ExtGState",a);a.update(n._name.name,o),l&&(this._resourceObject._updated=!0),this._hasResourceReference&&(this._source._updated=!0)}this._sw._setGraphicsState(n._name)},e.prototype._setTransparencyData=function(e,t){this._resourceMap.set(e,t);var i=this._crossReference._fetch(e),n=0,r=0,s=0;i.has("CA")&&(n=i.get("CA")),i.has("ca")&&(r=i.get("ca")),i.has("ca")&&(r=i.get("ca")),i.has("BM")&&(s=Hi(i.get("BM")));var o="CA:"+n.toString()+"_ca:"+r.toString()+"_BM:"+s.toString(),a=new si;a._dictionary=i,a._key=o,a._name=t,a._reference=e,this._transparencies.set(a,o)},e.prototype._getTranslateTransform=function(e,t,i){return i._translate(e,-t),i},e.prototype._getScaleTransform=function(e,t,i){return null!==i&&"undefined"!==typeof i||(i=new ii),i._scale(e,t),i},e}(),ii=function(){function e(){this._matrix=new ni(1,0,0,1,0,0)}return e.prototype._translate=function(e,t){this._matrix._translate(e,t)},e.prototype._scale=function(e,t){this._matrix._elements[0]=e,this._matrix._elements[3]=t},e.prototype._rotate=function(e){e=e*Math.PI/180,this._matrix._elements[0]=Math.cos(e),this._matrix._elements[1]=Math.sin(e),this._matrix._elements[2]=-Math.sin(e),this._matrix._elements[3]=Math.cos(e)},e.prototype._multiply=function(e){this._matrix._multiply(e._matrix)},e.prototype._toString=function(){for(var e="",t=0,i=this._matrix._elements.length;t<i;t++)e+=Wi(this._matrix._elements[Number.parseInt(t.toString(),10)])+" ";return e},e}(),ni=function(){function e(e,t,i,n,r,s){this._elements="undefined"===typeof e?[]:"number"===typeof e?[e,t,i,n,r,s]:e}return Object.defineProperty(e.prototype,"_offsetX",{get:function(){return this._elements[4]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_offsetY",{get:function(){return this._elements[5]},enumerable:!0,configurable:!0}),e.prototype._clone=function(){return new e(this._elements.slice())},e.prototype._translate=function(e,t){this._elements[4]=e,this._elements[5]=t},e.prototype._transform=function(e){var t=e[0],i=e[1];return[t*this._elements[0]+i*this._elements[2]+this._offsetX,t*this._elements[1]+i*this._elements[3]+this._offsetY]},e.prototype._multiply=function(e){this._elements=[this._elements[0]*e._elements[0]+this._elements[1]*e._elements[2],this._elements[0]*e._elements[1]+this._elements[1]*e._elements[3],this._elements[2]*e._elements[0]+this._elements[3]*e._elements[2],this._elements[2]*e._elements[1]+this._elements[3]*e._elements[3],this._offsetX*e._elements[0]+this._offsetY*e._elements[2]+e._offsetX,this._offsetX*e._elements[1]+this._offsetY*e._elements[3]+e._offsetY]},e}(),ri=function(e,t){e&&(this._g=e,this._transformationMatrix=t),this._charSpacing=0,this._wordSpacing=0,this._textScaling=100,this._textRenderingMode=$e.fill},si=function(){};!function(e){e[e.fill=0]="fill",e[e.stroke=1]="stroke",e[e.fillStroke=2]="fillStroke",e[e.none=3]="none",e[e.clipFlag=4]="clipFlag",e[e.clipFill=4]="clipFill",e[e.clipStroke=5]="clipStroke",e[e.clipFillStroke=6]="clipFillStroke",e[e.clip=7]="clip"}($e||($e={}));var oi=function(e){this._color="undefined"!==typeof e?e:[0,0,0]},ai=function(e,t){this._color=e,this._width=t,this._dashOffset=0,this._dashPattern=[],this._dashStyle=R.solid,this._miterLimit=0,this._lineCap=F.flat,this._lineJoin=B.miter},li=function(){function e(){this._horizontalResolution=96,this._proportions=this._updateProportions(this._horizontalResolution)}return e.prototype._updateProportions=function(e){return[e/2.54,e/6,1,e/72,e,e/300,e/25.4]},e.prototype._convertUnits=function(e,t,i){return this._convertFromPixels(this._convertToPixels(e,t),i)},e.prototype._convertFromPixels=function(e,t){var i=t;return e/this._proportions[Number.parseInt(i.toString(),10)]},e.prototype._convertToPixels=function(e,t){var i=t;return e*this._proportions[Number.parseInt(i.toString(),10)]},e}(),hi=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function ci(e,t,i){var n=0;if(i="undefined"===typeof i||null===i?0:i,e.rotation===h.angle90)n="undefined"===typeof t||null===t?0:i;else if(e.rotation===h.angle180)n="undefined"===typeof t||null===t?0:t;else if(e.rotation===h.angle270){var r=e.size;n="undefined"===typeof t||null===t?0:r[0]-i}return n}function ui(e,t){for(var i=-1,n=0;n<e.pageCount;n++){if(e.getPage(n)._pageDictionary===t){i=n;break}}return i}function pi(e){var t=[];return 0!==(e&n.hidden)&&t.push("hidden"),0!==(e&n.invisible)&&t.push("invisible"),0!==(e&n.locked)&&t.push("locked"),0!==(e&n.noRotate)&&t.push("norotate"),0!==(e&n.noView)&&t.push("noview"),0!==(e&n.noZoom)&&t.push("nozoom"),0!==(e&n.print)&&t.push("print"),0!==(e&n.readOnly)&&t.push("readonly"),0!==(e&n.toggleNoView)&&t.push("togglenoview"),0!==(e&n.default)&&t.push("default"),t.join(",")}function di(e){switch(e){case"hidden":return n.hidden;case"invisible":return n.invisible;case"locked":return n.locked;case"norotate":return n.noRotate;case"noview":return n.noView;case"nozoom":return n.noZoom;case"print":return n.print;case"readonly":return n.readOnly;case"togglenoview":return n.toggleNoView;default:return n.default}}function fi(e){if(e.charCodeAt(0)>="\xef".charCodeAt(0)){var t=void 0;if("\xef"===e[0]&&"\xbb"===e[1]&&"\xbf"===e[2]?t="utf-8":"\xff"===e[0]&&"\xfe"===e[1]?t="utf-16le":"\xfe"===e[0]&&"\xff"===e[1]&&(t="utf-16be"),t)try{return new TextDecoder(t,{fatal:!0}).decode(gi(e))}catch(o){}}for(var i=[],n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],r=0;r<e.length;r++){var s=n[e.charCodeAt(r)];i.push(s?String.fromCharCode(s):e.charAt(r))}return i.join("")}function gi(e,t){void 0===t&&(t=!1);for(var i=[],n=0;n<e.length;++n)i.push(255&e.charCodeAt(n));return t?i:new Uint8Array(i)}function mi(e,t){for(var i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function yi(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(e[Number.parseInt(i.toString(),10)]!==t[Number.parseInt(i.toString(),10)])return!1;return!0}function vi(e){return Number.isInteger(e)?e.toString():e.toFixed(7)}function bi(e,t){var i=!1;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n]){i=!0;break}return i}function Mi(e){var t=e.length,i=8192;if(t<i)return String.fromCharCode.apply(null,e);for(var n=[],r=0;r<t;r+=i){var s=Math.min(r+i,t),o=e.subarray(r,s);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function Si(e){var t=[];if(null!==e&&"undefined"!==typeof e)for(var i=0;i<e.length;i++){var n=e.charCodeAt(i);t.push(n/256>>>0),t.push(255&n)}return new Uint8Array(t)}function wi(e){for(var t,i=[],n=0;n<e.length;n++)(t=e[Number.parseInt(n.toString(),10)].toString(16).toUpperCase()).length<2&&(t="0"+t),i.push(t);return i.join("")}function _i(e,t){void 0===t&&(t=!1);var i=[];if(e)for(var n=0;n<e.length;n+=2)i.push(Number.parseInt(e.substring(n,n+2),16));return t?i:new Uint8Array(i)}function Ii(e){var t="";if(e&&"#"===e[0]){e=e.substring(1);for(var i=0;i<e.length;i+=2)t+=String.fromCharCode(Number.parseInt(e.substring(i,i+2),16));return t}return e}function Ni(e){return 32===e||9===e||13===e||10===e}function Ci(e,t){void 0===t&&(t=!1);var i,n,r,s,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,h=0,c=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;e.charAt(e.length-1)===a.charAt(64)&&c--;for(var u=new Array(0|c);l<e.length;)i=a.indexOf(e.charAt(l++))<<2|(s=a.indexOf(e.charAt(l++)))>>4,n=(15&s)<<4|(o=a.indexOf(e.charAt(l++)))>>2,r=(3&o)<<6|a.indexOf(e.charAt(l++)),h<c&&(u[h++]=i),h<c&&(u[h++]=n),h<c&&(u[h++]=r);return t?u:new Uint8Array(u)}function xi(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="",n=0,r=0;r<e.length;r++)r%3===0?(n=e[Number.parseInt(r.toString(),10)]>>2,i+=t[Number.parseInt(n.toString(),10)],n=e[Number.parseInt(r.toString(),10)]<<4&63):r%3===1?(n+=e[Number.parseInt(r.toString(),10)]>>4,i+=t[Number.parseInt(n.toString(),10)],n=e[Number.parseInt(r.toString(),10)]<<2&63):r%3===2&&(n+=e[Number.parseInt(r.toString(),10)]>>6,i+=t[Number.parseInt(n.toString(),10)],n=63&e[Number.parseInt(r.toString(),10)],i+=t[Number.parseInt(n.toString(),10)]);return e.length%3===1&&(i+=t[Number.parseInt(n.toString(),10)]+"=="),e.length%3===2&&(i+=t[Number.parseInt(n.toString(),10)]+"="),i}function Di(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!0);for(var r,s=[],o=4;o<arguments.length;o++)s[o-4]=arguments[o];for(var a=new Set;e instanceof Yn&&e.objId&&!a.has(e.objId);){e.objId&&a.add(e.objId);var l=i?e.getArray(t):e.get(t);if(void 0!==l){if(n)return l;r||(r=[]),r.push(l)}for(var h=0,c=!1;h<s.length;){var u=s[h];if(e.has(u)){e=e.get(u),c=!0;break}h++}if(!c)break}return r}function Ti(e,t){var i={x:0,y:0,width:0,height:0},n=e.getArray("Rect");if(n&&Array.isArray(n)){var r=n[0],s=n[1],o=n[2],a=n[3];"undefined"!==typeof r&&"undefined"!==typeof s&&"undefined"!==typeof o&&"undefined"!==typeof a&&(i.x=Math.min(r,o),i.y=Math.min(s,a),i.width=Math.max(r,o)-i.x,i.height=Math.max(s,a)-i.y,t&&(i.height=parseFloat(i.height.toFixed(3)),n[1]<0&&(i.y=n[1],n[1]>n[3]&&(i.y-=i.height))))}return i}function Ai(e,t){var i;if(e.has("Rect"))if(i=Ti(e),t){var n=t.size,r=t.mediaBox,s=t.cropBox;s&&Array.isArray(s)&&4===s.length&&t._pageDictionary.has("CropBox")?0===s[0]&&0===s[1]&&n[0]!==s[2]&&n[1]!==s[3]||i.x===s[0]?i.y=n[1]-(i.y+i.height):(i.x-=s[0],i.y=s[3]-(i.y+i.height)):r&&Array.isArray(r)&&4===r.length&&t._pageDictionary.has("MediaBox")&&(r[0]>0||r[1]>0||n[0]===r[2]||n[1]===r[3])?(i.x-=r[0],i.y=r[3]-(i.y+i.height)):i.y=n[1]-(i.y+i.height)}else i.y=i.y+i.height;return i}function ji(e){return{x:Math.min(e[0],e[2]),y:Math.min(e[1],e[3]),width:Math.abs(e[0]-e[2]),height:Math.abs(e[1]-e[3])}}function Ei(e){return[e.x,e.y,e.x+e.width,e.y+e.height]}function ki(e,t){var i=e[0],n=e[1],r=e[2],s=e[3];if(t){var o=t.size,a=o[0],l=o[1],h=t.mediaBox,c=t.cropBox;c&&Array.isArray(c)&&4===c.length?0!==c[0]||0!==c[1]||a===c[2]||l===c[3]?(i+=c[0],n=c[3]-(n+s)):n=l-(n+s):h&&Array.isArray(h)&&4===h.length&&(h[0]>0||h[1]>0||a===h[2]||l===h[3])?(i-=h[0],n=h[3]-(n+s)):n=l-(n+s)}return[i,n,i+r,n+s]}function zi(e){var t=$i(e);if(!t){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);i&&(t=[Number.parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)])}return t}function Li(e){var t;if(e)if(1===e.length){var i=e[0];if("undefined"!==typeof i){var n=Math.round(255*i);t=[n,n,n]}}else if(3===e.length){var r=e[0],s=e[1],o=e[2];"undefined"!==typeof r&&"undefined"!==typeof s&&"undefined"!==typeof o&&(t=[Math.round(255*r),Math.round(255*s),Math.round(255*o)])}else if(4===e.length){var a=e[0],l=e[1],h=e[2],c=e[3];if("undefined"!==typeof a&&"undefined"!==typeof l&&"undefined"!==typeof h&&"undefined"!==typeof c){var u=255*c;t=[Math.round(255-Math.min(255,a*(255-u)+u)),Math.round(255-Math.min(255,l*(255-u)+u)),Math.round(255-Math.min(255,h*(255-u)+u))]}}return t}function Oi(e){var t="S";switch(e){case a.dot:case a.dashed:t="D";break;case a.beveled:t="B";break;case a.inset:t="I";break;case a.underline:t="U"}return Fn.get(t)}function Pi(e){var t=l.solid;if("C"===e)t=l.cloudy;return t}function Ri(e){var t="None";if("undefined"!==typeof e)switch(e){case r.openArrow:t="OpenArrow";break;case r.closedArrow:t="ClosedArrow";break;case r.rOpenArrow:t="ROpenArrow";break;case r.rClosedArrow:t="RClosedArrow";break;case r.butt:t="Butt";break;case r.diamond:t="Diamond";break;case r.circle:t="Circle";break;case r.square:t="Square";break;case r.slash:t="Slash"}return t}function Fi(e,t){var i="undefined"!==typeof t?t:r.none;switch(e.toLowerCase()){case"openarrow":i=r.openArrow;break;case"closedarrow":i=r.closedArrow;break;case"ropenarrow":i=r.rOpenArrow;break;case"rclosedarrow":i=r.rClosedArrow;break;case"butt":i=r.butt;break;case"diamond":i=r.diamond;break;case"circle":i=r.circle;break;case"square":i=r.square;break;case"slash":i=r.slash}return i}function Bi(e){switch(e){case"P":return u.push;case"N":return u.noHighlighting;case"O":return u.outline;default:return u.invert}}function Vi(e){switch(e){case u.push:return Fn.get("P");case u.noHighlighting:return Fn.get("N");case u.outline:return Fn.get("O");default:return Fn.get("I")}}function Ui(e){var t="Normal";switch(e){case O.multiply:t="Multiply";break;case O.screen:t="Screen";break;case O.overlay:t="Overlay";break;case O.darken:t="Darken";break;case O.lighten:t="Lighten";break;case O.colorDodge:t="ColorDodge";break;case O.colorBurn:t="ColorBurn";break;case O.hardLight:t="HardLight";break;case O.softLight:t="SoftLight";break;case O.difference:t="Difference";break;case O.exclusion:t="Exclusion";break;case O.hue:t="Hue";break;case O.saturation:t="Saturation";break;case O.color:t="Color";break;case O.luminosity:t="Luminosity";break;default:t="Normal"}return Fn.get(t)}function Hi(e){var t=O.normal;switch(e.name){case"Multiply":t=O.multiply;break;case"Screen":t=O.screen;break;case"Overlay":t=O.overlay;break;case"Darken":t=O.darken;break;case"Lighten":t=O.lighten;break;case"ColorDodge":t=O.colorDodge;break;case"ColorBurn":t=O.colorBurn;break;case"HardLight":t=O.hardLight;break;case"SoftLight":t=O.softLight;break;case"Difference":t=O.difference;break;case"Exclusion":t=O.exclusion;break;case"Hue":t=O.hue;break;case"Saturation":t=O.saturation;break;case"Color":t=O.color;break;case"Luminosity":t=O.luminosity;break;default:t=O.normal}return t}function Wi(e){var t=e.toFixed(2);return"0.00"===t&&(t=".00"),t}function Yi(e,t){var i=Fn.get(e);if(t.has("ProcSet")){var n=t.getArray("ProcSet");n&&-1===n.indexOf(i)&&(n.push(i),t.update("ProcSet",n))}else t.update("ProcSet",[i])}function Qi(){return"aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa".replace(/[ab]/g,(function(e){var t=16*Math.random()|0;return("a"===e?t:3&t|8).toString(16)}))}function qi(e){for(var t=[],i=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);(r<33||r>126||35===r||40===r||41===r||60===r||62===r||91===r||93===r||123===r||125===r||47===r||37===r)&&(i<n&&t.push(e.substring(i,n)),t.push("#"+r.toString(16)),i=n+1)}return 0===t.length?e:(i<e.length&&t.push(e.substring(i,e.length)),t.join(""))}function Gi(e,t,i,n,r,s){if(e>i){var o=e;e=i,i=o}if(n>t){o=t;t=n,n=o}var a,l;Math.abs(s)<=90?(a=s,l=1):a=s/(l=Math.ceil(Math.abs(s)/90));for(var h=(e+i)/2,c=(t+n)/2,u=(i-e)/2,p=(n-t)/2,d=a*(Math.PI/360),f=Math.abs(4/3*(1-Math.cos(d))/Math.sin(d)),g=[],m=0;m<l;m++){var y=(r+m*a)*(Math.PI/180),v=(r+(m+1)*a)*(Math.PI/180),b=Math.cos(y),M=Math.cos(v),S=Math.sin(y),w=Math.sin(v);a>0?(g.push(h+u*b),g.push(c-p*S),g.push(h+u*(b-f*S)),g.push(c-p*(S+f*b)),g.push(h+u*(M+f*w)),g.push(c-p*(w-f*M)),g.push(h+u*M),g.push(c-p*w)):(g.push(h+u*b),g.push(c-p*S),g.push(h+u*(b+f*S)),g.push(c-p*(S-f*b)),g.push(h+u*(M-f*w)),g.push(c-p*(w+f*M)),g.push(h+u*M),g.push(c-p*w))}return g}function Ki(e,t){for(var i,n=0;n<e.pageCount&&"undefined"===typeof i;n++){var r=e.getPage(n);if(r&&r._pageDictionary.has("Annots")){var s=r._pageDictionary.get("Annots");if(null!==s&&"undefined"!==typeof s&&s.length>0)for(var o=0;o<s.length&&"undefined"===typeof i;o++){var a=s[Number.parseInt(o.toString(),10)];null!==a&&"undefined"!==typeof a&&a instanceof Vn&&a===t&&(i=r)}}}return i}function Xi(e){var t=!1;if(e.has("AS")){var i=e.get("AS");if(i)t="Off"!==i.name;else{var n=e.get("V");n&&(t=n.name===Ji(e))}}return t}function Ji(e){var t,i="";if(e.has("AS")&&null!==(t=e.get("AS"))&&"Off"!==t.name&&(i=t.name),""===i&&e.has("AP")){var n=e.get("AP");if(n&&n.has("N")){var r=n.get("N");if(r instanceof Jn&&(r=r.dictionary),r&&r instanceof Yn){var s=[];r.forEach((function(e,t){s.push(e)}));for(var o=0;o<s.length;o++)if("Off"!==s[Number.parseInt(o.toString(),10)]){i=s[Number.parseInt(o.toString(),10)];break}}}}return i}function Zi(e,t){var i,n=e===j.checked?Ji(t._dictionary):"Off";if(t._dictionary.has("AP")){var r=t._dictionary.get("AP");if(r&&r.has("N")){var s=r.get("N");if(s&&s instanceof Jn&&(s=s.dictionary),s&&s instanceof Yn&&n&&""!==n&&s.has(n)){var o=s.get(n),a=s.getRaw(n);a&&(o.reference=a),o&&(i=new $(o,t._crossReference))}}}return i}function $i(e){var t;switch(e){case"transparent":case"white":t=[255,255,255];break;case"aliceblue":t=[240,248,255];break;case"antiquewhite":t=[250,235,215];break;case"aqua":case"cyan":t=[0,255,255];break;case"aquamarine":t=[127,255,212];break;case"azure":t=[240,255,255];break;case"beige":t=[245,245,220];break;case"bisque":t=[255,228,196];break;case"black":t=[0,0,0];break;case"blanchedalmond":t=[255,235,205];break;case"blue":t=[0,0,255];break;case"blueviolet":t=[138,43,226];break;case"brown":t=[165,42,42];break;case"burlywood":t=[222,184,135];break;case"cadetBlue":t=[95,158,160];break;case"chartreuse":t=[127,255,0];break;case"chocolate":t=[210,105,30];break;case"coral":t=[255,127,80];break;case"cornflowerblue":t=[100,149,237];break;case"cornsilk":t=[255,248,220];break;case"crimson":t=[220,20,60];break;case"darkblue":t=[0,0,139];break;case"darkcyan":t=[0,139,139];break;case"darkgoldenrod":t=[184,134,11];break;case"darkgray":t=[169,169,169];break;case"darkgreen":t=[0,100,0];break;case"darkkhaki":t=[189,183,107];break;case"darkmagenta":t=[139,0,139];break;case"darkolivegreen":t=[85,107,47];break;case"darkorange":t=[255,140,0];break;case"darkorchid":t=[153,50,204];break;case"darkred":t=[139,0,0];break;case"darksalmon":t=[233,150,122];break;case"darkseagreen":t=[143,188,139];break;case"darkslateblue":t=[72,61,139];break;case"darkslategray":t=[47,79,79];break;case"darkturquoise":t=[0,206,209];break;case"darkviolet":t=[148,0,211];break;case"deeppink":t=[255,20,147];break;case"deepskyblue":t=[0,191,255];break;case"dimgray":t=[105,105,105];break;case"dodgerblue":t=[30,144,255];break;case"firebrick":t=[178,34,34];break;case"floralwhite":t=[255,250,240];break;case"forestgreen":t=[34,139,34];break;case"fuchsia":case"magenta":t=[255,0,255];break;case"gainsboro":t=[220,220,220];break;case"ghostwhite":t=[248,248,255];break;case"gold":t=[255,215,0];break;case"goldenrod":t=[218,165,32];break;case"gray":t=[128,128,128];break;case"green":t=[0,128,0];break;case"greenyellow":t=[173,255,47];break;case"honeydew":t=[240,255,240];break;case"hotpink":t=[255,105,180];break;case"indianred":t=[205,92,92];break;case"indigo":t=[75,0,130];break;case"ivory":t=[255,255,240];break;case"khaki":t=[240,230,140];break;case"lavender":t=[230,230,250];break;case"lavenderblush":t=[255,240,245];break;case"lawngreen":t=[124,252,0];break;case"lemonchiffon":t=[255,250,205];break;case"lightblue":t=[173,216,230];break;case"lightcoral":t=[240,128,128];break;case"lightcyan":t=[224,255,255];break;case"lightgoldenrodyellow":t=[250,250,210];break;case"lightgreen":t=[144,238,144];break;case"lightgray":t=[211,211,211];break;case"LightPink":t=[255,182,193];break;case"lightsalmon":t=[255,160,122];break;case"lightseagreen":t=[32,178,170];break;case"lightskyblue":t=[135,206,250];break;case"lightslategray":t=[119,136,153];break;case"lightsteelblue":t=[176,196,222];break;case"lightyellow":t=[255,255,224];break;case"lime":t=[0,255,0];break;case"limeGreen":t=[50,205,50];break;case"linen":t=[250,240,230];break;case"maroon":t=[128,0,0];break;case"mediumaquamarine":t=[102,205,170];break;case"mediumblue":t=[0,0,205];break;case"mediumorchid":t=[186,85,211];break;case"mediumpurple":t=[147,112,219];break;case"mediumseagreen":t=[60,179,113];break;case"mediumslateblue":t=[123,104,238];break;case"mediumspringgreen":t=[0,250,154];break;case"mediumturquoise":t=[72,209,204];break;case"mediumvioletred":t=[199,21,133];break;case"midnightblue":t=[25,25,112];break;case"mintcream":t=[245,255,250];break;case"mistyrose":t=[255,228,225];break;case"moccasin":t=[255,228,181];break;case"navajowhite":t=[255,222,173];break;case"navy":t=[0,0,128];break;case"oldLace":t=[253,245,230];break;case"olive":t=[128,128,0];break;case"olivedrab":t=[107,142,35];break;case"orange":t=[255,165,0];break;case"orangered":t=[255,69,0];break;case"orchid":t=[218,112,214];break;case"palegoldenrod":t=[238,232,170];break;case"palegreen":t=[152,251,152];break;case"paleturquoise":t=[175,238,238];break;case"palebioletred":t=[219,112,147];break;case"papayawhip":t=[255,239,213];break;case"peachpuff":t=[255,218,185];break;case"peru":t=[205,133,63];break;case"pink":t=[255,192,203];break;case"plum":t=[221,160,221];break;case"powderblue":t=[176,224,230];break;case"purple":t=[128,0,128];break;case"red":t=[255,0,0];break;case"rosybrown":t=[188,143,143];break;case"royalblue":t=[65,105,225];break;case"saddlebrown":t=[139,69,19];break;case"salmon":t=[250,128,114];break;case"sandybrown":t=[244,164,96];break;case"seagreen":t=[46,139,87];break;case"seashell":t=[255,245,238];break;case"sienna":t=[160,82,45];break;case"silver":t=[192,192,192];break;case"skyblue":t=[135,206,235];break;case"slateblue":t=[106,90,205];break;case"slategray":t=[112,128,144];break;case"snow":t=[255,250,250];break;case"springgreen":t=[0,255,127];break;case"steelblue":t=[70,130,180];break;case"tan":t=[210,180,140];break;case"teal":t=[0,128,128];break;case"thistle":t=[216,191,216];break;case"tomato":t=[255,99,71];break;case"turquoise":t=[64,224,208];break;case"violet":t=[238,130,238];break;case"wheat":t=[245,222,179];break;case"whitesmoke":t=[245,245,245];break;case"yellow":t=[255,255,0];break;case"yellowgreen":t=[154,205,50]}return t}function en(e,t){var i=e._content.dictionary.getArray("BBox");if(i&&"undefined"!==typeof t&&null!==t)if(0===t)e._content.dictionary.set("Matrix",[1,0,0,1,-i[0],-i[1]]);else{var n=new ii;n._rotate(t),e._content.dictionary.set("Matrix",n._matrix._elements)}}function tn(e){var t="4";switch(e){case y.circle:t="l";break;case y.cross:t="8";break;case y.diamond:t="u";break;case y.square:t="n";break;case y.star:t="H"}return t}function nn(e){var t=y.check;switch(e){case"l":t=y.circle;break;case"8":t=y.cross;break;case"u":t=y.diamond;break;case"n":t=y.square;break;case"H":t=y.star}return t}function rn(e){var t;switch(e){case"cm":default:t=f.centimeter;break;case"in":t=f.inch;break;case"mm":t=f.millimeter;break;case"p":t=f.pica;break;case"pt":t=f.point}return t}function sn(e){var t;switch(e){case"Highlight":default:t=v.highlight;break;case"Squiggly":t=v.squiggly;break;case"StrikeOut":t=v.strikeOut;break;case"Underline":t=v.underline}return t}function on(e){var t="Highlight";switch(e){case v.highlight:t="Highlight";break;case v.squiggly:t="Squiggly";break;case v.strikeOut:t="StrikeOut";break;case v.underline:t="Underline";break;default:t="Highlight"}return t}function an(e){var t;switch(e){case"cm":default:t=D.centimeter;break;case"in":t=D.inch;break;case"mm":t=D.millimeter;break;case"p":t=D.pica;break;case"pt":t=D.point}return t}function ln(e){var t;switch(e){case"#Approved":t=m.approved;break;case"#AsIs":t=m.asIs;break;case"#Completed":t=m.completed;break;case"#Confidential":t=m.confidential;break;case"#Departmental":t=m.departmental;break;case"#Draft":default:t=m.draft;break;case"#Experimental":t=m.experimental;break;case"#Expired":t=m.expired;break;case"#Final":t=m.final;break;case"#ForComment":t=m.forComment;break;case"#ForPublicRelease":t=m.forPublicRelease;break;case"#InformationOnly":t=m.informationOnly;break;case"#NotApproved":t=m.notApproved;break;case"#NotForPublicRelease":t=m.notForPublicRelease;break;case"#PreliminaryResults":t=m.preliminaryResults;break;case"#Sold":t=m.sold;break;case"#TopSecret":t=m.topSecret;break;case"#Void":t=m.void}return t}function hn(e){var t;switch(e){case"Note":default:t=b.note;break;case"Comment":t=b.comment;break;case"Help":t=b.help;break;case"Insert":t=b.insert;break;case"Key":t=b.key;break;case"NewParagraph":t=b.newParagraph;break;case"Paragraph":t=b.paragraph}return t}function cn(e){var t="None";switch(e){case M.none:t="None";break;case M.accepted:t="Accepted";break;case M.rejected:t="Rejected";break;case M.cancel:t="Cancelled";break;case M.completed:t="Completed";break;case M.marked:t="Marked";break;case M.unmarked:t="Unmarked";break;case M.unknown:t="Unknown";break;default:t="None"}return t}function un(e){var t=M.none;switch(e){case"None":t=M.none;break;case"Accepted":t=M.accepted;break;case"Rejected":t=M.rejected;break;case"Cancelled":t=M.cancel;break;case"Completed":t=M.completed;break;case"Marked":t=M.marked;break;case"Unmarked":t=M.unmarked;break;case"Unknown":t=M.unknown}return t}function pn(e){var t="None";switch(e){case S.none:t="None";break;case S.marked:t="Marked";break;case S.review:t="Review";break;default:t="None"}return t}function dn(e){var t=S.none;switch(e){case"None":t=S.none;break;case"Marked":t=S.marked;break;case"Review":t=S.review}return t}function fn(e){var t;switch(e){case"PushPin":default:t=w.pushPin;break;case"Tag":t=w.tag;break;case"Graph":t=w.graph;break;case"Paperclip":t=w.paperClip}return t}function gn(e){var t;switch(e){case"None":default:t=_.none;break;case"FreeTextCallout":t=_.freeTextCallout;break;case"FreeTextTypeWriter":t=_.freeTextTypeWriter}return t}function mn(e){var t="";switch(e){case de.regular:t="Regular";break;case de.bold:t="Bold";break;case de.italic:t="Italic";break;case de.underline:t="Underline";break;case de.strikeout:t="Strikeout";break;default:t="Regular"}return t}function yn(e){var t;switch(e){case"head2right":t="\u27a2";break;case"aacute":t="a\u0301";break;case"eacute":t="e\u0301";break;case"iacute":t="i\u0301";break;case"oacute":t="o\u0301";break;case"uacute":t="u\u0301";break;case"circleright":t="\u27b2";break;case"bleft":t="\u21e6";break;case"bright":t="\u21e8";break;case"bup":t="\u21e7";break;case"bdown":t="\u21e9";break;case"barb4right":t="\u2794";break;case"bleftright":t="\u2b04";break;case"bupdown":t="\u21f3";break;case"bnw":t="\u2b00";break;case"bne":t="\u2b01";break;case"bsw":t="\u2b03";break;case"bse":t="\u2b02";break;case"bdash1":t="\u25ad";break;case"bdash2":t="\u25ab";break;case"xmarkbld":case"xmark":t="\u2717";break;case"checkbld":case"check":t="\u2713";break;case"boxxmarkbld":case"boxx":case"boxxbld":t="\u2612";break;case"boxcheckbld":case"boxcheck":t="\u2611";break;case"space":t=" ";break;case"pencil":t="\u270f";break;case"scissors":t="\u2702";break;case"scissorscutting":case"readingglasses":case"bell":case"book":case"telephonesolid":case"telhandsetcirc":case"envelopeback":t="\u2701";break;case"hourglass":t="\u231b";break;case"keyboard":t="\u2328";break;case"tapereel":t="\u2707";break;case"handwrite":t="\u270d";break;case"handv":t="\u270c";break;case"handptleft":case"handptlft1":t="\u261c";break;case"handptright":case"handptrt1":t="\u261e";break;case"handptup":case"handptup1":t="\u261d";break;case"handptdown":case"handptdwn1":t="\u261f";break;case"smileface":t="\u263a";break;case"frownface":t="\u2639";break;case"skullcrossbones":t="\u2620";break;case"flag":t="\u2690";break;case"pennant":t="\u1f6a9";break;case"airplane":t="\u2708";break;case"sunshine":t="\u263c";break;case"droplet":t="\u1f4a7";break;case"snowflake":t="\u2744";break;case"crossshadow":t="\u271e";break;case"crossmaltese":t="\u2720";break;case"starofdavid":t="\u2721";break;case"crescentstar":t="\u262a";break;case"yinyang":t="\u262f";break;case"om":t="\u0950";break;case"wheel":t="\u2638";break;case"aries":t="\u2648";break;case"taurus":t="\u2649";break;case"gemini":t="\u264a";break;case"cancer":t="\u264b";break;case"leo":t="\u264c";break;case"virgo":t="\u264d";break;case"libra":t="\u264e";break;case"scorpio":t="\u264f";break;case"saggitarius":t="\u2650";break;case"capricorn":t="\u2651";break;case"aquarius":t="\u2652";break;case"pisces":t="\u2653";break;case"ampersanditlc":case"ampersandit":case"ampersanditaldm":case"ampersandbld":case"ampersandsans":case"ampersandsandm":t="&";break;case"circle6":t="\u25cf";break;case"circleshadowdwn":t="\u274d";break;case"square6":t="\u25a0";break;case"box3":t="\u25a1";break;case"boxshadowdwn":t="\u2751";break;case"boxshadowup":t="\u2752";break;case"lozenge4":t="\u2b27";break;case"lozenge6":t="\u29eb";break;case"rhombus6":t="\u25c6";break;case"xrhombus":t="\u2756";break;case"rhombus4":t="\u2b25";break;case"clear":t="\u2327";break;case"escape":t="\u2353";break;case"command":t="\u2318";break;case"rosette":t="\u2740";break;case"rosettesolid":t="\u273f";break;case"quotedbllftbld":t="\u275d";break;case"quotedblrtbld":t="\u275e";break;case".notdef":t="\u25af";break;case"zerosans":t="\u24ea";break;case"onesans":t="\u2460";break;case"twosans":t="\u2461";break;case"threesans":t="\u2462";break;case"foursans":t="\u2463";break;case"fivesans":t="\u2464";break;case"sixsans":t="\u2465";break;case"sevensans":t="\u2466";break;case"eightsans":t="\u2467";break;case"ninesans":t="\u2468";break;case"tensans":t="\u2469";break;case"zerosansinv":t="\u24ff";break;case"onesansinv":t="\u2776";break;case"twosansinv":t="\u2777";break;case"threesansinv":t="\u2778";break;case"foursansinv":t="\u2779";break;case"circle2":t="\xb7";break;case"circle4":t="\u2022";break;case"square2":case"square4":t="\u25aa";break;case"ring2":t="\u25cb";break;case"ringbutton2":t="\u25c9";break;case"target":t="\u25ce";break;case"box2":t="\u25fb";break;case"crosstar2":t="\u2726";break;case"pentastar2":case"circlestar":t="\u2605";break;case"hexstar2":t="\u2736";break;case"octastar2":t="\u2734";break;case"dodecastar3":t="\u2739";break;case"octastar4":t="\u2735";break;case"registercircle":t="\u2316";break;case"cuspopen":t="\u27e1";break;case"cuspopen1":t="\u2311";break;case"starshadow":t="\u2730";break;case"deleteleft":t="\u232b";break;case"deleteright":t="\u2326";break;case"scissorsoutline":t="\u2704";break;case"telephone":t="\u260f";break;case"telhandset":t="\u1f4dE";break;case"handptlftsld1":t="\u261a";break;case"handptrtsld1":t="\u261b";break;case"circlex":t="=\u2314";break;case"circlexbld":t="\u2314";break;case"prohibit":case"prohibitbld":t="\u29b8";break;case"interrobang":case"interrobangdm":case"interrobangsans":case"interrobngsandm":t="\u203d";break;case"sacute":t="\u015b";break;case"Sacute":t="\u015a";break;case"eogonek":t="\u0119";break;case"cacute":t="\u0107";break;case"aogonek":t="\u0105";break;default:t=e}return t}function vn(e){var t;switch(e){case"zero":t="0";break;case"one":t="1";break;case"two":t="2";break;case"three":t="3";break;case"four":t="4";break;case"five":t="5";break;case"six":t="6";break;case"seven":t="7";break;case"eight":t="8";break;case"nine":t="9";break;case"aacute":t="\xe1";break;case"asciicircum":t="^";break;case"asciitilde":t="~";break;case"asterisk":t="*";break;case"at":t="@";break;case"atilde":t="\xe3";break;case"backslash":t="\\";break;case"bar":case"brokenbar":t="|";break;case"braceleft":t="{";break;case"braceright":t="}";break;case"bracketleft":t="[";break;case"bracketright":t="]";break;case"breve":t="\u02d8";break;case"bullet3":case"bullet":t="\u2022";break;case"caron":t="\u02c7";break;case"ccedilla":t="\xe7";break;case"cedilla":t="\xb8";break;case"cent":t="\xa2";break;case"circumflex":t="\u02c6";break;case"colon":t=":";break;case"comma":t=",";break;case"copyright":t="\xa9";break;case"currency1":t="\xa4";break;case"dagger":t="\u2020";break;case"daggerdbl":t="\u2021";break;case"degree":t="\xb0";break;case"dieresis":t="\xa8";break;case"divide":t="\xf7";break;case"dollar":t="$";break;case"dotaccent":case"middot":t="\u02d9";break;case"dotlessi":t="\u0131";break;case"eacute":t="\xe9";break;case"edieresis":t="\xeb";break;case"egrave":t="\xe8";break;case"ellipsis":t="...";break;case"emdash":t="\u2014";break;case"endash":t="\u2013";break;case"equal":t="=";break;case"eth":t="\xf0";break;case"exclam":t="!";break;case"exclamdown":t="\xa1";break;case"florin":t="\u0192";break;case"fraction":t="\u2044";break;case"germandbls":t="\xdf";break;case"grave":t="`";break;case"greater":t=">";break;case"guillemotleft4":t="\xab";break;case"guillemotright4":t="\xbb";break;case"guilsinglleft":t="\u2039";break;case"guilsinglright":t="\u203a";break;case"hungarumlaut":t="\u02dd";break;case"hyphen5":case"hyphen":t="-";break;case"iacute":t="\xed";break;case"icircumflex":t="\xee";break;case"idieresis":t="\xef";break;case"igrave":t="\xec";break;case"less":t="<";break;case"logicalnot":t="\xac";break;case"lslash":t="\u0142";break;case"Lslash":t="\u0141";break;case"macron":t="\xaf";break;case"minus":t="\u2212";break;case"mu":t="\u03bc";break;case"multiply":t="\xd7";break;case"ntilde":t="\xf1";break;case"numbersign":t="#";break;case"oacute":t="\xf3";break;case"ocircumflex":t="\xf4";break;case"odieresis":t="\xf6";break;case"oe":t="oe";break;case"ogonek":t="\u02db";break;case"ograve":t="\xf2";break;case"onehalf":t="1/2";break;case"onequarter":t="1/4";break;case"onesuperior":t="\xb9";break;case"ordfeminine":t="\xaa";break;case"ordmasculine":t="\xba";break;case"otilde":t="\xf5";break;case"paragraph":t="\xb6";break;case"parenleft":t="(";break;case"parenright":t=")";break;case"percent":t="%";break;case"period":t=".";break;case"periodcentered":t="\xb7";break;case"perthousand":t="\u2030";break;case"plus":t="+";break;case"plusminus":t="\xb1";break;case"question":t="?";break;case"questiondown":t="\xbf";break;case"quotedbl":case"quotesingle":t="'";break;case"quotedblbase":t="\u201e";break;case"quotedblleft":t="\u201c";break;case"quotedblright":t="\u201d";break;case"quoteleft":t="\u2018";break;case"quoteright":t="\u2019";break;case"quotesinglbase":t="\u201a";break;case"registered":t="\xae";break;case"ring":t="\u02da";break;case"scaron":t="\u0161";break;case"section":t="\xa7";break;case"semicolon":t=";";break;case"slash":t="/";break;case"space6":case"space":t=" ";break;case"udieresis":t="\xfc";break;case"uacute":t="\xfa";break;case"Ecircumflex":t="\xca";break;case"underscore":t="_";break;case"adieresis":t="\xe4";break;case"ampersand":t="&";break;case"Adieresis":t="\xc4";break;case"Udieresis":t="\xdc";break;case"ccaron":t="\u010d";break;case"Scaron":t="\u0160";break;case"zcaron":t="\u017e";break;case"sterling":t="\xa3";break;case"agrave":t="\xe0";break;case"ecircumflex":t="\xea";break;case"acircumflex":t="\xe2";break;case"Oacute":t="\xd3";break;default:t=e}return t}function bn(e){for(var t="",i=0;i<e.length;i++){var n=255&e.charCodeAt(i),r=String.fromCharCode(n),s="";switch(r){case" ":case"%":case"(":case")":case"<":case">":case"[":case"]":case"{":case"}":case"/":case"#":t+="#",t+=1===(s=n.toString(16).toUpperCase()).length?"0"+s:s;break;default:n>126||n<37?(t+="#",t+=1===(s=n.toString(16).toUpperCase()).length?"0"+s:s):t+=r}}return t}function Mn(e,t){return t?e.reviewHistory:e.comments}function Sn(e){var t=e.get("F");return(e.has("State")||e.has("StateModel"))&&(30===t||128===t)}function wn(e){var t=e.get("F");return!(e.has("State")||e.has("StateModel"))&&(28===t||128===t)}function _n(e,t){switch(e.has("F")&&(delete e._map.F,e._updated=!0),t){case d.hidden:e.update("F",n.hidden);break;case d.hiddenPrintable:e.update("F",n.noView|n.print);break;case d.visible:if(e.has("DV")&&(delete e._map.DV,e._updated=!0),e.has("MK")){var i=e.get("MK");i&&i.has("BG")&&(delete i._map.BG,i._updated=!0)}}}function In(e,t,i){if(e&&e.has(i)){var n=e.getRaw(i);if(n&&n instanceof Vn&&n._isNew){var r=e.get(i);if(r){r instanceof Vn&&(r=t._fetch(r));var s=void 0;r instanceof Yn?s=r:r instanceof Jn&&(s=r.dictionary),s&&s.has("Resources")&&Nn(s.get("Resources"),t)}t._cacheMap.delete(n)}}}function Nn(e,t){e&&e.size>0&&e.forEach((function(i,n){if("undefined"!==typeof i&&"undefined"!==typeof n)if(n instanceof Vn){var r=n;if(r._isNew){var s=e.get(i);s&&s instanceof Yn&&("XObject"===i&&s.has("Resources")&&Nn(s.get("Resources"),t),t._cacheMap.delete(r))}}else n instanceof Yn&&(n.has("Resources")&&Nn(n.get("Resources"),t),"Font"!==i&&"XObject"!==i&&"ExtGState"!==i||Nn(n,t))}))}function Cn(e,t,i,n){var r;e&&(e instanceof Yn?r=e:e instanceof Zn&&(r=e.dictionary)),r&&(In(r,t,i),In(r,t,n))}var xn=function(e,t){this.message=e,this.name=t},Dn=function(e){function t(t){return e.call(this,t,"FormatError")||this}return hi(t,e),t}(xn),Tn=function(e){function t(t){return e.call(this,t,"ParserEndOfFileException")||this}return hi(t,e),t}(xn);function An(e){return"[object String]"===Object.prototype.toString.call(e)?"$s"+e:"$o"+e.toString()}function jn(e,t,i){var n,r,s,o="";if((t&&t._dictionary.has("DA")||i._dictionary.has("DA"))&&(s=t&&t._dictionary.has("DA")?t._dictionary.get("DA"):i._dictionary.get("DA")),s&&""!==s&&-1!==s.indexOf("Tf"))for(var a=s.split(" "),l=0;l<a.length;l++)if(-1!==a[Number.parseInt(l.toString(),10)].indexOf("Tf")){for(o=a[l-2];""!==o&&o.length>1&&"/"===o[0];)o=o.substring(1);n=Number.parseFloat(a[l-1])}if(o&&(o=o.trim()),e&&e._dictionary.has("DR")){var h=e._dictionary.get("DR");if(h.has("Font")){var c=h.get("Font");if(c.has(o)){var u=c.get(o);if(u&&o&&u.has("BaseFont")){var p=u.get("BaseFont"),d=de.regular;p&&(s=p.name,d=En(p.name),s.includes("-")&&(s=s.substring(0,s.indexOf("-"))),t&&t._dictionary.has("DA")?r=kn(s,n,d,t):i&&i._dictionary.has("DA")&&(r=kn(s,n,d,i)))}}}}return null!==r&&"undefined"!==typeof r||!n||(r=new We(fe.helvetica,n,de.regular)),(null===r||"undefined"===typeof r||r&&1===r.size)&&(t?r=t._circleCaptionFont:i&&(r=i._circleCaptionFont)),r}function En(e){var t=e.indexOf("-");t<0&&(t=e.indexOf(","));var i=de.regular;if(t>=0)switch(e.substring(t+1,e.length)){case"Bold":case"BoldMT":i=de.bold;break;case"Italic":case"ItalicMT":case"Oblique":case"It":i=de.italic;break;case"BoldItalic":case"BoldItalicMT":case"BoldOblique":i=de.bold|de.italic}return i}function kn(e,t,i,n){var r,s=e||"";s.includes("-")&&(s=s.substring(0,s.indexOf("-")));var o="undefined"!==typeof t?t:1;if(n._dictionary.has("DS")||n._dictionary.has("DA"))switch(s){case"Helvetica":r=new We(fe.helvetica,o,i);break;case"Courier":r=new We(fe.courier,o,i);break;case"Symbol":r=new We(fe.symbol,o,i);break;case"Times":case"TimesRoman":r=new We(fe.timesRoman,o,i);break;case"ZapfDingbats":r=new We(fe.zapfDingbats,o,i);break;case"MonotypeSungLight":r=new Ye(ge.monotypeSungLight,o,i);break;case"SinoTypeSongLight":r=new Ye(ge.sinoTypeSongLight,o,i);break;case"MonotypeHeiMedium":r=new Ye(ge.monotypeHeiMedium,o,i);break;case"HanyangSystemsGothicMedium":r=new Ye(ge.hanyangSystemsGothicMedium,o,i);break;case"HanyangSystemsShinMyeongJoMedium":r=new Ye(ge.hanyangSystemsShinMyeongJoMedium,o,i);break;case"HeiseiKakuGothicW5":r=new Ye(ge.heiseiKakuGothicW5,o,i);break;case"HeiseiMinchoW3":r=new Ye(ge.heiseiMinchoW3,o,i);break;default:if(n._dictionary.has("AP")){var a=zn(n._dictionary,n._crossReference,n);if(n._hasData){var l=xi(a);r=new Qe(l,o,i)}}}return null!==r&&"undefined"!==typeof r||(n instanceof dt?r=n._type!==x.widgetAnnotation?new We(fe.helvetica,o,i):n._circleCaptionFont:n instanceof tt&&(r=n._circleCaptionFont)),r}function zn(e,t,i){var n,r=e.get("AP");if(r&&r.has("N")){var s=r.get("N");if(s&&s instanceof Zn&&s.dictionary.has("Resources")){var o=s.dictionary.get("Resources");if(o&&o.has("Font")){var a=o.get("Font");a&&a instanceof Yn&&a.forEach((function(e,r){if(r){var s=t._fetch(r);if(s&&s.has("DescendantFonts")){var o=s.getArray("DescendantFonts");if(o&&o.length>0)for(var a=0;a<o.length;a++){var l=o[Number.parseInt(a.toString(),10)];if(l&&l instanceof Yn&&l.has("FontDescriptor")){var h=l.get("FontDescriptor");if(h&&h.has("FontFile2")){var c=h.get("FontFile2");c&&c instanceof Zn&&c.length>0&&(n=c.getByteRange(c.start,c.end))&&n.length>0&&(i._hasData=!0)}}}}}}))}}}return n}function Ln(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!yi(e[Number.parseInt(i.toString(),10)],t[Number.parseInt(i.toString(),10)]))return!1;return!0}var On=Object.create(null),Pn=Object.create(null),Rn=Object.create(null),Fn=function(){function e(e){this.name=e}return e.get=function(t){return On[t]||(On[t]=new e(t))},e}(),Bn=function(){function e(e){this.command=e}return e.get=function(t){return Pn[t]||(Pn[t]=new e(t))},e}(),Vn=function(){function e(e,t){this._isNew=!1,this.objectNumber=e,this.generationNumber=t}return e.prototype.toString=function(){return this.objectNumber+" "+this.generationNumber},e.get=function(t,i){var n=0===i?t+"R":t+"R"+i;return Rn[n]||(Rn[n]=new e(t,i))},e}(),Un=function(){function e(e){void 0===e&&(e=null),this._set=new Set(e&&e._set)}return e.prototype.has=function(e){return this._set.has(e.toString())},e.prototype.put=function(e){this._set.add(e.toString())},e.prototype.remove=function(e){this._set.delete(e.toString())},e.prototype.clear=function(){this._set.clear()},e}(),Hn=function(){function e(){this._map=new Map}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this._map.get(e.toString())},e.prototype.has=function(e){return this._map.has(e.toString())},e.prototype.put=function(e,t){this._map.set(e.toString(),t)},e.prototype.set=function(e,t){this._map.set(e,t)},e.prototype.clear=function(){this._map.clear()},e}(),Wn=function(){function e(e){this.table={},this.nElements=0,this.toStr=e||An}return e.prototype.getValue=function(e){var t=this.table["$"+this.toStr(e)];if("undefined"!==typeof t)return t.value},e.prototype.setValue=function(e,t){var i="$"+this.toStr(e);this.table[i];this.nElements++,this.table[i]={key:e,value:t}},e.prototype.keys=function(){for(var e=[],t=Object.keys(this.table),i=0;i<t.length;i++){var n=this.table[t[i]];e.push(n.key)}return e},e.prototype.containsKey=function(e){return!("undefined"===typeof this.getValue(e))},e.prototype._size=function(){return this.nElements},e}(),Yn=function(){function e(e){this._isFont=!1,this._initialize(e)}return Object.defineProperty(e.prototype,"size",{get:function(){return Object.keys(this._map).length},enumerable:!0,configurable:!0}),e.prototype.assignXref=function(e){this._crossReference=e},e.prototype.getRaw=function(e){return this._map[e]},e.prototype.getRawValues=function(){return this._map.values},e.prototype.get=function(e,t,i){var n=this._get(e,t,i);return this._crossReference&&"undefined"!==typeof n&&n instanceof Vn&&(n=this._crossReference._fetch(n)),n},e.prototype.getArray=function(e,t,i){var n=this.get(e,t,i);if(this._crossReference&&"undefined"!==typeof n&&Array.isArray(n)){n=n.slice();for(var r=0;r<n.length;r++){var s=n[Number.parseInt(r.toString(),10)];null!==s&&"undefined"!==typeof s&&s instanceof Vn&&(n[Number.parseInt(r.toString(),10)]=this._crossReference._fetch(s))}}return n},e.prototype.set=function(e,t){this._map[e]=t},e.prototype.has=function(e){return"undefined"!==typeof this._map[e]},e.prototype.forEach=function(e){for(var t in this._map)e(t,this.getRaw(t))},e.prototype.update=function(e,t){if(this.has(e)){var i=this._map[e];null!==i&&"undefined"!==typeof i&&i instanceof Vn&&this._crossReference&&(i=this._crossReference._fetch(i)),i!==t&&(this._map[e]=t,this._updated=!0)}else this._map[e]=t,this._updated=!0},e.getEmpty=function(t){var i=new e(t);return i.set=function(e,t){throw new Error("Should not call set on the empty dictionary.")},i},e.merge=function(t,i,n){void 0===n&&(n=!1);for(var r=new e(t),s=Object.create(null),o=0,a=i;o<a.length;o++){if((w=a[o])instanceof e)for(var l=0,h=w._map;l<h.length;l++){var c=h[l],u=c[0],p=c[1],d=s.get(u);if("undefined"===typeof d)d=[],s.set(u,d);else if(!n||!(p instanceof e))continue;d.push(p)}}for(var f=0,g=s;f<g.length;f++){var m=g[f],y=m[0],v=m[1];if(1!==v.length&&v[0]instanceof e){for(var b=new e(t),M=0,S=v;M<S.length;M++)for(var w,_=0,I=(w=S[M])._map;_<I.length;_++){var N=I[_];u=N[0],p=N[1];"undefined"===typeof b._map[u]&&(b._map[u]=p)}b.size>0&&(r._map[y]=b)}else r._map[y]=v[0]}return s.clear(),r.size>0?r:e.getEmpty(t)},e.prototype._initialize=function(e){this._map=Object.create(null),this.suppressEncryption=!1,this._updated=!1,this.isCatalog=!1,this._isNew=!1,e&&(this._crossReference=e)},e.prototype._get=function(e,t,i){var n=this._map[e];return"undefined"===typeof n&&(n=this._map[t],"undefined"!==typeof t&&null!==t?n=this._map[t]:"undefined"!==typeof i&&null!==i&&(n=this._map[i])),n},e}(),Qn=function(e){void 0===e&&(e=[]),this.value=e};function qn(){On=Object.create(null),Pn=Object.create(null),Rn=Object.create(null)}function Gn(e,t){return e instanceof Fn&&("undefined"===typeof t||e.name===t)}function Kn(e,t){return e instanceof Bn&&("undefined"===typeof t||e.command===t)}var Xn=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jn=function(){function e(){this._isCompress=!0}return e.prototype.getByte=function(){return null},e.prototype.getBytes=function(e){return null},Object.defineProperty(e.prototype,"length",{get:function(){throw new Error("Abstract getter `length` accessed")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){throw new Error("Abstract getter `isEmpty` accessed")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDataLoaded",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.peekByte=function(){var e=this.getByte();return-1!==e&&this.offset--,e},e.prototype.peekBytes=function(e){var t=this.getBytes(e);return this.offset-=t.length,t},e.prototype.getUnsignedInteger16=function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},e.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},e.prototype.getByteRange=function(e,t){return null},e.prototype.makeSubStream=function(e,t,i){return null},e.prototype.readBlock=function(){return null},e.prototype.reset=function(){return null},e.prototype.moveStart=function(){return null},e.prototype.getString=function(e){void 0===e&&(e=!1);var t=this.getBytes();if("undefined"===typeof t||null===t||"undefined"===typeof t.length)throw new Error("Invalid argument for bytesToString");if(e)return wi(t);var i=t.length,n=8192;if(i<n)return String.fromCharCode.apply(null,t);for(var r=[],s=0;s<i;s+=n)r.push(String.fromCharCode.apply(null,t.subarray(s,Math.min(s+n,i))));return r.join("")},e.prototype.skip=function(e){this.offset+=e||1},e.prototype.getBaseStreams=function(){return null},e}(),Zn=function(e){function t(t,i,n,r){var s=e.call(this)||this;return s.isImageStream=!1,s.bytes=t instanceof Uint8Array?t:new Uint8Array(t),s.start="undefined"!==typeof n?n:0,s.position=s.start,s.end=n+r||s.bytes.length,s.dictionary=i,s}return Xn(t,e),Object.defineProperty(t.prototype,"position",{get:function(){return this.offset},set:function(e){this.offset=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.end-this.start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.dataStream2},set:function(e){this.dataStream2=[],this.dataStream2=e},enumerable:!0,configurable:!0}),t.prototype.getByte=function(){return this.position>=this.end?-1:this.bytes[this.position++]},t.prototype.getBytes=function(e){var t=this.bytes,i=this.position,n=this.end;if(!e)return t.subarray(i,n);var r=i+e;return r>n&&(r=n),this.position=r,t.subarray(i,r)},t.prototype.getByteRange=function(e,t){return e<0&&(e=0),t>this.end&&(t=this.end),this.bytes.subarray(e,t)},t.prototype.reset=function(){this.position=this.start},t.prototype.moveStart=function(){this.start=this.position},t.prototype.makeSubStream=function(e,i,n){return void 0===n&&(n=null),new t(this.bytes.buffer,n,e,i)},t.prototype.readBlock=function(){throw new Error("Abstract method `readBlock` called")},t.prototype._clearStream=function(){null!==this.dictionary&&"undefined"!==typeof this.dictionary&&this.dictionary.has("Filter")&&delete this.dictionary._map.Filter,this._isCompress=!0,this.dictionary._updated=!0},t.prototype._write=function(e){this.bytes=new Uint8Array(e.length);for(var t=0;t<e.length;t++)this.bytes[Number.parseInt(t.toString(),10)]=e.charCodeAt(t);this.end=this.bytes.length,this.dictionary._updated=!0},t.prototype._writeBytes=function(e){for(var t=0;t<e.length;t++)String.fromCharCode(e[Number.parseInt(t.toString(),10)]);this.bytes=new Uint8Array(e),this.end=this.bytes.length,this.dictionary._updated=!0},t}(Jn),$n=function(e){function t(t){var i=e.call(this)||this;return i._bytes=t,i.dictionary=new Yn,i.dictionary._updated=!0,i}return Xn(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this._bytes.length},enumerable:!0,configurable:!0}),t.prototype.write=function(e){if("string"===typeof e)for(var t=0;t<e.length;t++)this._bytes.push(e.charCodeAt(t));else for(t=0;t<e.length;t++)this._bytes.push(e[Number.parseInt(t.toString(),10)]);this.dictionary._updated=!0},t.prototype.getString=function(e){void 0===e&&(e=!1);var t=new Uint8Array(this._bytes);if("undefined"===typeof t||null===t||"undefined"===typeof t.length)throw new Error("Invalid argument for bytesToString");if(e)return wi(t);var i=t.length,n=8192;if(i<n)return String.fromCharCode.apply(null,t);for(var r=[],s=0;s<i;s+=n)r.push(String.fromCharCode.apply(null,t.subarray(s,Math.min(s+n,i))));return r.join("")},t}(Jn),er=function(e){function t(){return e.call(this,new Uint8Array(0))||this}return Xn(t,e),t}(Zn),tr=function(){function e(e){this._recordCollection=[],this._operands=[],this._lexer=new ir(e)}return e.prototype._readContent=function(){return this._parseObject(X.eof),this._recordCollection},e.prototype._parseObject=function(e){for(var t;(t=this._getNextToken())!==X.eof;){if(t===e||t===X.none)return;switch(t){case X.comment:break;case X.number:"-"===this._lexer._operatorParams?this._operands.push("0"):this._operands.push(this._lexer._operatorParams);break;case X.real:case X.string:case X.hexString:case X.unicodeHexString:case X.unicodeString:case X.name:this._operands.push(this._lexer._operatorParams);break;case X.operator:this._createRecord(),this._operands=[];break;case X.beginArray:break;case X.endArray:throw new Error("Error while parsing content")}}},e.prototype._createRecord=function(){var e=this._lexer._operatorParams,t=new nr(e,this._operands);this._recordCollection.push(t)},e.prototype._getNextToken=function(){return this._lexer._getNextToken()},e}(),ir=function(){function e(e){this._tokenType=X.none,this._currentCharacter="\0",this._nextCharacter="\0",this._offset=0,this._data=e instanceof Uint8Array?e:new Uint8Array(e)}return e.prototype._getNextToken=function(){this._operatorParams="";var e=this._moveToNextChar();switch(e){case"%":return this._tokenType=this._getComment();case"/":return this._tokenType=this._getName();case"[":case"(":return this._tokenType=this._getLiteralString();case"+":case"-":case".":return this._tokenType=this._getNumber();case"<":return this._tokenType=this._getEncodedDecimalString();case'"':case"'":return this._tokenType=this._getOperator()}return isNaN(parseInt(e,10))?/[a-zA-Z]/.test(e)?this._tokenType=this._getOperator():e===String.fromCharCode(65535)?this._tokenType=X.eof:this._tokenType=X.none:this._tokenType=this._getNumber()},e.prototype._getComment=function(){var e;this._operatorParams="";for(var t="\n"!==(e=this._consumeValue())&&e!==String.fromCharCode(65535);t;)t="\n"!==(e=this._consumeValue())&&e!==String.fromCharCode(65535);return X.comment},e.prototype._getName=function(){this._operatorParams="";for(var e=!1;!e;){switch(this._consumeValue()){case"\0":case"\t":case"\n":case"\f":case"\r":case"\b":case" ":case"%":case"(":case")":case"<":case">":case"[":case"]":case"/":return e=!0,X.name}}return X.none},e.prototype._getNumber=function(){var e=this._currentCharacter;for("+"!==e&&"-"!==e||(this._operatorParams+=this._currentCharacter,e=this._getNextChar());!isNaN(parseInt(e,10))||"."===e;){if(isNaN(parseInt(e,10))){if("."===e){if(this._operatorParams.includes("."))break;this._operatorParams+=this._currentCharacter}}else this._operatorParams+=this._currentCharacter;e=this._getNextChar()}return X.number},e.prototype._getOperator=function(){this._operatorParams="";for(var e=this._currentCharacter;this._isOperator(e);)e=this._consumeValue();return X.operator},e.prototype._isOperator=function(e){if(/[a-zA-Z]/.test(e))return!0;switch(e){case"*":case"'":case'"':case"1":case"0":return!0}return!1},e.prototype._getLiteralString=function(){this._operatorParams="";for(var e,t=this._currentCharacter,i=this._consumeValue(),n=!0;n;){if("("===t){e=this._getLiteralStringValue(i),this._operatorParams+=e,i=this._getNextChar(),n=!1;break}if("("!==i){if("]"===i){n=!1,i=this._consumeValue();break}i=this._consumeValue()}else i=this._consumeValue(),e=this._getLiteralStringValue(i),this._operatorParams+=e,i=this._getNextChar()}return X.string},e.prototype._getEncodedDecimalString=function(){for(var e=0,t=this._consumeValue(),i=!0;i;)if("<"===t)e++,t=this._consumeValue();else if(">"===t){if(0===e){this._consumeValue(),i=!1;break}if(1===e){if(">"===(t=this._consumeValue())&&e--,1===e&&" "===t){i=!1;break}}else">"===t&&e--,t=this._consumeValue()}else if((t=this._consumeValue())===String.fromCharCode(65535)){i=!1;break}return X.hexString},e.prototype._getLiteralStringValue=function(e){for(var t=0,i="",n=!0;n;)if("\\"!==e)if("("!==e)if(")"!==e||0===t){if(")"===e&&0===t)return n=!1,i+=e;i+=e,e=this._getNextChar()}else i+=e,e=this._getNextChar(),t--;else t++,i+=e,e=this._getNextChar();else i+=e,i+=e=this._getNextChar(),e=this._getNextChar();return i},e.prototype._consumeValue=function(){return this._operatorParams+=this._currentCharacter,this._getNextChar()},e.prototype._moveToNextChar=function(){for(;this._currentCharacter!==String.fromCharCode(65535);)switch(this._currentCharacter){case"\0":case"\t":case"\n":case"\f":case"\r":case"\b":case" ":this._getNextChar();break;default:return this._currentCharacter}return this._currentCharacter},e.prototype._getNextChar=function(){if(this._data.length<=this._offset){if("Q"===this._nextCharacter||"D"===this._currentCharacter&&"o"===this._nextCharacter)return this._currentCharacter=this._nextCharacter,this._nextCharacter=String.fromCharCode(65535),this._currentCharacter;this._currentCharacter=String.fromCharCode(65535),this._nextCharacter=String.fromCharCode(65535)}else this._currentCharacter=this._nextCharacter,this._nextCharacter=String.fromCharCode(this._data[this._offset++]),"\r"===this._currentCharacter&&("\n"===this._nextCharacter?(this._currentCharacter=this._nextCharacter,this._data.length<=this._offset?this._nextCharacter=String.fromCharCode(65535):this._nextCharacter=String.fromCharCode(this._data[this._offset++])):this._currentCharacter="\n");return this._currentCharacter},e}(),nr=function(e,t){this._operator=e,this._operands=t},rr=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),sr=function(e){function t(t){var i=e.call(this)||this;if(i._rawMinBufferLength=t||0,i.offset=0,i.bufferLength=0,i.eof=!1,i.buffer=new Uint8Array(0),i.minBufferLength=512,t)for(;i.minBufferLength<t;)i.minBufferLength*=2;return i}return rr(t,e),Object.defineProperty(t.prototype,"isEmpty",{get:function(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength},enumerable:!0,configurable:!0}),t.prototype.ensureBuffer=function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var i=this.minBufferLength;i<e;)i*=2;var n=new Uint8Array(i);return n.set(t),this.buffer=n,this.buffer},t.prototype.getByte=function(){for(var e=this.offset;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.offset++]},t.prototype.getBytes=function(e){var t,i=this.offset;if(e){for(this.ensureBuffer(i+e),t=i+e;!this.eof&&this.bufferLength<t;)this.readBlock();var n=this.bufferLength;t>n&&(t=n)}else{for(;!this.eof;)this.readBlock();t=this.bufferLength}return this.offset=t,this.buffer.subarray(i,t)},t.prototype.reset=function(){this.offset=0},t.prototype.makeSubStream=function(e,t,i){if(void 0===t)for(;!this.eof;)this.readBlock();else for(var n=e+t;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Zn(this.buffer,i,e,t)},t.prototype.getBaseStreams=function(){return this.stream?this.stream.getBaseStreams():null},t.prototype.moveStart=function(){throw new Error("Invalid call from decode stream")},t.prototype.getByteRange=function(e,t){throw new Error("Invalid call from decode stream. begin: "+e+", end: "+t)},t.prototype.readBlock=function(){throw new Error("Invalid call from decode stream")},t}(Jn),or=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ar=function(e){function t(t,i,n){var r=e.call(this,i)||this;return r._chunkSize=512,r.stream=t,r.dictionary=t.dictionary,r._cipher=n,r._nextChunk=null,r._initialized=!1,r}return or(t,e),t.prototype.readBlock=function(){var e;if(this._initialized?e=this._nextChunk:(e=this.stream.getBytes(this._chunkSize),this._initialized=!0),e&&0!==e.length){this._nextChunk=this.stream.getBytes(this._chunkSize);var t=this._nextChunk&&this._nextChunk.length>0;e=this._cipher._decryptBlock(e,!t);for(var i=this.bufferLength,n=e.length,r=this.ensureBuffer(i+n),s=0;s<n;s++)r[i++]=e[Number.parseInt(s.toString(),10)];this.bufferLength=i}else this.eof=!0},t}(sr),lr=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hr=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cr=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),ur=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),pr=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],dr=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],fr=function(e){function t(t,i){var n=e.call(this,i)||this;n.stream=t,n.dictionary=t.dictionary;var r=t.getByte(),s=t.getByte();if(8!==(15&r))throw new Dn("Unknown compression method in flate stream: "+r+", "+s);if(((r<<8)+s)%31!==0)throw new Dn("Bad flag check in flate stream: "+r+", "+s);if(32&s)throw new Dn("Bad flag bit set in flate stream: "+r+", "+s);return n.codeSize=0,n.codeBuffer=0,n}return lr(t,e),t.prototype.getBits=function(e){for(var t,i=this.stream,n=this.codeSize,r=this.codeBuffer;n<e;)r|=(t=i.getByte())<<n,n+=8;return t=r&(1<<e)-1,this.codeBuffer=r>>e,this.codeSize=n-=e,t},t.prototype.getCode=function(e){for(var t=this.stream,i=e[0],n=e[1],r=this.codeSize,s=this.codeBuffer;r<n;)s|=t.getByte()<<r,r+=8;var o=i[s&(1<<n)-1],a=o>>16,l=65535&o;return a<1||r<a||(this.codeBuffer=s>>a,this.codeSize=r-a),l},t.prototype.generateHuffmanTable=function(e){var t,i=e.length,n=0;for(t=0;t<i;++t)e[t]>n&&(n=e[t]);for(var r=1<<n,s=new Int32Array(r),o=1,a=0,l=2;o<=n;++o,a<<=1,l<<=1)for(var h=0;h<i;++h)if(e[h]===o){var c=0,u=a;for(t=0;t<o;++t)c=c<<1|1&u,u>>=1;for(t=c;t<r;t+=l)s[t]=o<<16|h;++a}return[s,n]},t.prototype.readBlock=function(){var e,t,i,n,r=this.stream,s=this.getBits(3);if(1&s&&(this.eof=!0),0===(s>>=1)){var o=r.getByte(),a=o;a|=(o=r.getByte())<<8;var l=o=r.getByte();if((l|=(o=r.getByte())<<8)===(65535&~a)||0===a&&0===l){this.codeBuffer=0,this.codeSize=0;var h=this.bufferLength,c=h+a;if(e=this.ensureBuffer(c),this.bufferLength=c,0===a)-1===r.peekByte()&&(this.eof=!0);else{var u=r.getBytes(a);e.set(u,h),u.length<a&&(this.eof=!0)}return}}if(1===s)i=pr,n=dr;else if(2===s){var p=this.getBits(5)+257,d=this.getBits(5)+1,f=this.getBits(4)+4,g=new Uint8Array(hr.length),m=void 0;for(m=0;m<f;++m)g[hr[m]]=this.getBits(3);var y=this.generateHuffmanTable(g);t=0,m=0;for(var v=p+d,b=new Uint8Array(v),M=void 0,S=void 0,w=void 0;m<v;){var _=this.getCode(y);if(16===_)M=2,S=3,w=t;else if(17===_)M=3,S=3,w=t=0;else{if(18!==_){b[m++]=t=_;continue}M=7,S=11,w=t=0}for(var I=this.getBits(M)+S;I-- >0;)b[m++]=w}i=this.generateHuffmanTable(b.subarray(0,p)),n=this.generateHuffmanTable(b.subarray(p,v))}for(var N=(e=this.buffer)?e.length:0,C=this.bufferLength;;){var x=this.getCode(i);if(x<256)C+1>=N&&(N=(e=this.ensureBuffer(C+1)).length),e[C++]=x;else{if(256===x)return void(this.bufferLength=C);var D=(x=cr[x-=257])>>16;D>0&&(D=this.getBits(D)),t=(65535&x)+D,x=this.getCode(n),(D=(x=ur[x])>>16)>0&&(D=this.getBits(D));var T=(65535&x)+D;C+t>=N&&(N=(e=this.ensureBuffer(C+t)).length);for(var A=0;A<t;++A,++C)e[C]=e[C-T]}}},t}(sr),gr=function(){function e(e){if(this._crossReference=e,this._catalogDictionary=e._getCatalogObj(),!(this._catalogDictionary instanceof Yn))throw new Dn("Catalog object is not a dictionary.");this._catalogDictionary.isCatalog=!0,this._topPagesDictionary=this._catalogDictionary.get("Pages"),this.pageKidsCountCache=new Hn,this.pageIndexCache=new Hn}return Object.defineProperty(e.prototype,"version",{get:function(){var e;if(this._catalogDictionary.has("Version")){var t=this._catalogDictionary.get("Version");t&&(e=t.name)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){var e=this._topPagesDictionary.get("Count");if("undefined"===typeof e||!Number.isInteger(e))throw new Dn("Invalid page count");return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"acroForm",{get:function(){var e;if(this._catalogDictionary.has("AcroForm"))e=this._catalogDictionary.get("AcroForm");else{e=new Yn(this._crossReference);var t=this._crossReference._getNextReference();this._crossReference._cacheMap.set(t,e),this._catalogDictionary.set("AcroForm",t),this._catalogDictionary._updated=!0}return e},enumerable:!0,configurable:!0}),e.prototype.getPageDictionary=function(e){var t=[this._topPagesDictionary],i=new Un,n=this._catalogDictionary.getRaw("Pages");n instanceof Vn&&i.put(n);for(var r=this._crossReference,s=this.pageKidsCountCache,o=this.pageIndexCache,a=0;t.length>0;){var l=t.pop();if(null!==l&&"undefined"!==typeof l&&l instanceof Vn){var h=s.get(l);if(h>=0&&a+h<=e){a+=h;continue}if(i.has(l))throw new Dn("Pages tree contains circular reference.");i.put(l);var c=r._fetch(l);if(c instanceof Yn&&(null!==(f=c.getRaw("Type"))&&"undefined"!==typeof f&&f instanceof Vn&&(f=r._fetch(f)),Gn(f,"Page")||!c.has("Kids"))){if(s.has(l)||s.put(l,1),o.has(l)||o.put(l,a),a===e)return{dictionary:c,reference:l};a++;continue}t.push(c)}else{if(!(l instanceof Yn))throw new Dn("Page dictionary kid reference points to wrong type of object.");var u=l.objId,p=l.get("Count");if(null!==p&&"undefined"!==typeof p&&p instanceof Vn&&(p=r._fetch(p)),null!==p&&"undefined"!==typeof p&&Number.isInteger(p)&&p>=0&&(u&&!s.has(u)&&s.set(u,p),a+p<=e))a+=p;else{var d=l.getRaw("Kids");if(null!==d&&"undefined"!==typeof d&&d instanceof Vn&&(d=r._fetch(d)),!Array.isArray(d)){var f;if(null!==(f=l.getRaw("Type"))&&"undefined"!==typeof f&&f instanceof Vn&&(f=r._fetch(f)),Gn(f,"Page")||!l.has("Kids")){if(a===e)return{dictionary:l,reference:null};a++;continue}throw new Dn("Page dictionary kids object is not an array.")}for(var g=d.length-1;g>=0;g--)t.push(d[g])}}}throw new Error("Page index "+e+" not found.")},e.prototype._destroy=function(){this._catalogDictionary&&(this._catalogDictionary=void 0),this._topPagesDictionary&&(this._topPagesDictionary=void 0),this.pageIndexCache&&(this.pageIndexCache.clear(),this.pageIndexCache=void 0),this.pageKidsCountCache&&(this.pageKidsCountCache.clear(),this.pageKidsCountCache=void 0)},e}(),mr=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),yr=function(e){function t(t,i,n){var r=e.call(this,i)||this;if(!(n instanceof Yn))return t;var s=r.predictor=n.get("Predictor")||1;if(s<=1)return t;if(2!==s&&(s<10||s>15))throw new Dn("Unsupported predictor: "+s);r.readBlock=2===s?r.readBlockTiff:r.readBlockPng,r.stream=t,r.dictionary=t.dictionary;var o=r.colors=n.get("Colors")||1,a=r.bits=n.get("BPC","BitsPerComponent")||8,l=r.columns=n.get("Columns")||1;return r.pixBytes=o*a+7>>3,r.rowBytes=l*o*a+7>>3,r}return mr(t,e),t.prototype.readBlockTiff=function(){var e=this.rowBytes,t=this.bufferLength,i=this.ensureBuffer(t+e),n=this.bits,r=this.colors,s=this.stream.getBytes(e);if(this.eof=!s.length,!this.eof){var o,a=0,l=0,h=0,c=0,u=t;if(1===n&&1===r)for(o=0;o<e;++o){var p=s[o]^a;p^=p>>1,p^=p>>2,a=(1&(p^=p>>4))<<7,i[u++]=p}else if(8===n){for(o=0;o<r;++o)i[u++]=s[o];for(;o<e;++o)i[u]=i[u-r]+s[o],u++}else if(16===n){var d=2*r;for(o=0;o<d;++o)i[u++]=s[o];for(;o<e;o+=2){var f=((255&s[o])<<8)+(255&s[o+1])+((255&i[u-d])<<8)+(255&i[u-d+1]);i[u++]=f>>8&255,i[u++]=255&f}}else{var g=new Uint8Array(r+1),m=(1<<n)-1,y=0,v=t,b=this.columns;for(o=0;o<b;++o)for(var M=0;M<r;++M)h<n&&(a=a<<8|255&s[y++],h+=8),g[M]=g[M]+(a>>h-n)&m,h-=n,l=l<<n|g[M],(c+=n)>=8&&(i[v++]=l>>c-8&255,c-=8);c>0&&(i[v++]=(l<<8-c)+(a&(1<<8-c)-1))}this.bufferLength+=e}},t.prototype.readBlockPng=function(){var e=this.rowBytes,t=this.pixBytes,i=this.stream.getByte(),n=this.stream.getBytes(e);if(this.eof=!n.length,!this.eof){var r,s=this.bufferLength,o=this.ensureBuffer(s+e),a=o.subarray(s-e,s);0===a.length&&(a=new Uint8Array(e));var l,h,c=s;switch(i){case 0:for(r=0;r<e;++r)o[c++]=n[r];break;case 1:for(r=0;r<t;++r)o[c++]=n[r];for(;r<e;++r)o[c]=o[c-t]+n[r]&255,c++;break;case 2:for(r=0;r<e;++r)o[c++]=a[r]+n[r]&255;break;case 3:for(r=0;r<t;++r)o[c++]=(a[r]>>1)+n[r];for(;r<e;++r)o[c]=(a[r]+o[c-t]>>1)+n[r]&255,c++;break;case 4:for(r=0;r<t;++r)l=a[r],h=n[r],o[c++]=l+h;for(;r<e;++r){l=a[r];var u=a[r-t],p=o[c-t],d=p+l-u,f=d-p;f<0&&(f=-f);var g=d-l;g<0&&(g=-g);var m=d-u;m<0&&(m=-m),h=n[r],o[c++]=f<=g&&f<=m?p+h:g<=m?l+h:u+h}break;default:throw new Dn("Unsupported predictor: "+i)}this.bufferLength+=e}},t}(sr),vr="EOF",br=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Mr=function(){function e(e){this.stream=e,this.nextChar(),this.stringBuffer=[],this._hexStringNumber=0,this.beginInlineImagePosition=-1}return e.prototype.nextChar=function(){return this.currentChar=this.stream.getByte()},e.prototype.peekChar=function(){return this.stream.peekByte()},e.prototype.getNumber=function(){var e=this.currentChar,t=!1,i=0,n=0;if(45===e?(n=-1,45===(e=this.nextChar())&&(e=this.nextChar())):43===e&&(n=1,e=this.nextChar()),10===e||13===e)do{e=this.nextChar()}while(10===e||13===e);if(46===e&&(i=10,e=this.nextChar()),e<48||e>57){if(Ni(e)||-1===e){if(10===i&&0===n)return 0;if(0===i&&-1===n)return 0}throw new Dn("Invalid number: "+String.fromCharCode(e)+" (charCode "+e+")")}n=n||1;var r=e-48,s=0,o=1;for(e=this.nextChar();e>=0;){if(e>=48&&e<=57){var a=e-48;t?s=10*s+a:(0!==i&&(i*=10),r=10*r+a)}else if(46===e){if(0!==i)break;i=1}else{if(45===e){e=this.nextChar();continue}if(69!==e&&101!==e)break;if(43===(e=this.peekChar())||45===e)o=45===e?-1:1,this.nextChar();else if(e<48||e>57)break;t=!0}e=this.nextChar()}return 0!==i&&(r/=i),t&&(r*=Math.pow(10,o*s)),n*r},e.prototype.getString=function(){var e=1,t=!1,i=this.stringBuffer;i.length=0;for(var n=this.nextChar();;){var r=!1;switch(0|n){case-1:t=!0;break;case 40:++e,i.push("(");break;case 41:0===--e?(this.nextChar(),t=!0):i.push(")");break;case 92:switch(n=this.nextChar()){case-1:t=!0;break;case 110:i.push("\n");break;case 114:i.push("\r");break;case 116:i.push("\t");break;case 98:i.push("\b");break;case 102:i.push("\f");break;case 92:case 40:case 41:i.push(String.fromCharCode(n));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:var s=15&n;r=!0,(n=this.nextChar())>=48&&n<=55&&(s=(s<<3)+(15&n),(n=this.nextChar())>=48&&n<=55&&(r=!1,s=(s<<3)+(15&n))),i.push(String.fromCharCode(s));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:i.push(String.fromCharCode(n))}break;default:i.push(String.fromCharCode(n))}if(t)break;r||(n=this.nextChar())}return i.join("")},e.prototype.getName=function(){var e,t,i=this.stringBuffer;for(i.length=0,e=this.nextChar();e>=0&&!br[e];){if(35===e){if(e=this.nextChar(),br[e]){i.push("#");break}var n=this._toHexDigit(e);if(-1!==n){t=e,e=this.nextChar();var r=this._toHexDigit(e);if(-1===r){if(i.push("#",String.fromCharCode(t)),br[e])break;i.push(String.fromCharCode(e)),e=this.nextChar();continue}i.push(String.fromCharCode(n<<4|r))}else i.push("#",String.fromCharCode(e))}else i.push(String.fromCharCode(e));e=this.nextChar()}return Fn.get(i.join(""))},e.prototype.getHexString=function(){var e=this.stringBuffer;e.length=0;var t,i,n=this.currentChar,r=!0;for(this._hexStringNumber=0;!(n<0);){if(62===n){this.nextChar();break}if(1!==br[n]){if(r){if(-1===(t=this._toHexDigit(n))){n=this.nextChar();continue}}else{if(-1===(i=this._toHexDigit(n))){n=this.nextChar();continue}e.push(String.fromCharCode(t<<4|i))}r=!r,n=this.nextChar()}else n=this.nextChar()}return e.join("")},e.prototype.getObject=function(){for(var e=!1,t=this.currentChar;;){if(t<0)return vr;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(1!==br[t])break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),Bn.get("[");case 93:return this.nextChar(),Bn.get("]");case 60:return 60===(t=this.nextChar())?(this.nextChar(),Bn.get("<<")):this.getHexString();case 62:return 62===(t=this.nextChar())?(this.nextChar(),Bn.get(">>")):Bn.get(">");case 123:return this.nextChar(),Bn.get("{");case 125:return this.nextChar(),Bn.get("}");case 41:throw this.nextChar(),new Dn("Illegal character: "+t)}var i=String.fromCharCode(t);if(t<32||t>127){var n=this.peekChar();if(n>=32&&n<=127)return this.nextChar(),Bn.get(i)}for(t=this.nextChar();t>=0&&!br[t];){var r=i+String.fromCharCode(t);if(128===i.length)throw new Dn("Command token too long: "+i.length);i=r,t=this.nextChar()}return"true"===i||"false"!==i&&("null"===i?null:("BI"===i&&(this.beginInlineImagePosition=this.stream.position),Bn.get(i)))},e.prototype.peekObj=function(){var e,t=this.stream.position,i=this.currentChar,n=this.beginInlineImagePosition;try{e=this.getObject()}catch(r){}return this.stream.position=t,this.currentChar=i,this.beginInlineImagePosition=n,e},e.prototype.skipToNextLine=function(){for(var e=this.currentChar;e>=0;){if(13===e){10===(e=this.nextChar())&&this.nextChar();break}if(10===e){this.nextChar();break}e=this.nextChar()}},e.prototype._toHexDigit=function(e){return e>=48&&e<=57?15&e:e>=65&&e<=70||e>=97&&e<=102?9+(15&e):-1},e}(),Sr=function(){function e(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),this.lexicalOperator=e,this.xref=t,this.allowStreams=i,this.recoveryMode=n,this.imageCache=new Map,this.refill()}return e.prototype.refill=function(){this.first=this.lexicalOperator.getObject(),this.second=this.lexicalOperator.getObject()},e.prototype.shift=function(){this.second instanceof Bn&&"ID"===this.second.command?(this.first=this.second,this.second=null):(this.first=this.second,this.second=this.lexicalOperator.getObject())},e.prototype.tryShift=function(){try{return this.shift(),!0}catch(e){return!1}},e.prototype.getObject=function(e){var t=this.first;if(this.shift(),t instanceof Bn)switch(t.command){case"BI":return this.makeInlineImage(e);case"[":for(var i=[];!Kn(this.first,"]")&&this.first!==vr;)i.push(this.getObject(e));if(this.first===vr){if(this.recoveryMode)return i;throw new Tn("End of file inside array.")}return this.shift(),i;case"<<":for(var n=new Yn(this.xref);!Kn(this.first,">>")&&this.first!==vr;)if(this.first instanceof Fn){var r=this.first.name;if(this.shift(),this._checkEnd())break;n.set(r,this.getObject(e))}else this.shift();if(this.first===vr){if(this.recoveryMode)return n;throw new Tn("End of file inside dictionary.")}return Kn(this.second,"stream")?!0===this.allowStreams?this.makeStream(n,e):n:(this.shift(),n);default:return t}if(Number.isInteger(t)){if(Number.isInteger(this.first)&&Kn(this.second,"R")){var s=Vn.get(t,this.first);return this.shift(),this.shift(),s}return t}return"string"===typeof t&&e?e.decryptString(t):t},e.prototype.findDiscreteDecodeInlineStreamEnd=function(e){var t,i,n=e.position,r=!1;for(t=e.getByte();-1!==t;)if(255===t){switch(e.getByte()){case 0:break;case 255:e.skip(-1);break;case 217:r=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:(i=e.getUnsignedInteger16())>2?e.skip(i-2):e.skip(-2)}if(r)break;t=e.getByte()}else t=e.getByte();var s=e.position-n;return-1===t?(e.skip(-s),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),s)},e.prototype.findDecodeInlineStreamEnd=function(e){for(var t,i=e.position;-1!==(t=e.getByte());)if(126===t){var n=e.position;for(t=e.peekByte();Ni(t);)e.skip(),t=e.peekByte();if(62===t){e.skip();break}if(e.position>n){var r=e.peekBytes(2);if(69===r[0]&&73===r[1])break}}var s=e.position-i;return-1===t?(e.skip(-s),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),s)},e.prototype.findHexDecodeInlineStreamEnd=function(e){var t,i=e.position;for(t=e.getByte();-1!==t&&62!==t;)t=e.getByte();var n=e.position-i;return-1===t?(e.skip(-n),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),n)},e.prototype.inlineStreamSkipEI=function(e){var t,i=0;for(t=e.getByte();-1!==t;){if(0===i)i=69===t?1:0;else if(1===i)i=73===t?2:0;else if(2===i)break;t=e.getByte()}},e.prototype.makeInlineImage=function(e){for(var t,i=this.lexicalOperator,n=i.stream,r=new Yn(this.xref);!Kn(this.first,"ID")&&this.first!==vr;){if(!(this.first instanceof Fn))throw new Dn("Dictionary key must be a name object");var s=this.first.name;if(this.shift(),this.first.name===vr)break;r.set(s,this.getObject(e))}-1!==i.beginInlineImagePosition&&(t=n.position-i.beginInlineImagePosition);var o,a=r.get("F","Filter");if(a instanceof Fn)o=a.name;else if(Array.isArray(a)){var l=a[0],h=null!==l&&"undefined"!==typeof l&&l instanceof Vn?this.xref._fetch(l):l;h&&(o=h.name)}var c,u=n.position;switch(o){case"DCT":case"DCTDecode":c=this.findDiscreteDecodeInlineStreamEnd(n);break;case"A85":case"ASCII85Decode":c=this.findDecodeInlineStreamEnd(n);break;case"AHx":case"ASCIIHexDecode":c=this.findHexDecodeInlineStreamEnd(n);break;default:c=this.findDefaultInlineStreamEnd(n)}var p,d=n.makeSubStream(u,c,r);if(c<1e3&&t<5552){var f=d.getBytes();d.reset();var g=n.position;n.position=i.beginInlineImagePosition;var m=n.getBytes(t);n.position=g,p=this._computeMaxNumber(f)+"_"+this._computeMaxNumber(m);var y=this.imageCache[p];if(void 0!==y)return this.second=Bn.get("EI"),this.shift(),y.reset(),y}return e&&(d=e.createStream(d,c)),(d=this.filter(d,r,c)).dictionary=r,void 0!==p&&(this.imageCache[p]=d),this.second=Bn.get("EI"),this.shift(),d},e.prototype._computeMaxNumber=function(e){for(var t=e.length,i=1,n=0,r=0;r<t;++r)n+=i+=255&e[r];return n%65521<<16|i%65521},e.prototype.makeStream=function(e,t){var i=this.lexicalOperator,n=i.stream;i.skipToNextLine();var r=n.position-1,s=e.get("Length");if(Number.isInteger(s)||(s=0),n.position=r+s,i.nextChar(),this.tryShift()&&Kn(this.second,"endstream"))this.shift();else{var o=new Uint8Array([101,110,100,115,116,114,101,97,109]),a=this._findStreamLength(r,o);if(a<0){var l=o.length-1,h=o.slice(0,l),c=this._findStreamLength(r,h);if(c>=0)Ni(n.peekBytes(l+1)[l])&&(a=c);if(a<0)throw new Dn("Missing endstream command.")}s=a,i.nextChar(),this.shift(),this.shift()}return this.shift(),n=n.makeSubStream(r,s,e),t&&(n=t.createStream(n,s)),(n=this.filter(n,e,s)).dictionary=e,n},e.prototype.filter=function(e,t,i){var n=t.get("F","Filter"),r=t.get("DP","DecodeParms");if(n instanceof Fn)return this.makeFilter(e,n.name,i,r);var s=i;if(Array.isArray(n))for(var o=n,a=r,l=0;l<o.length;++l){var h=o[Number.parseInt(l.toString(),10)];if(!((n=h instanceof Vn?this.xref._fetch(h):h)instanceof Fn))throw new Dn("Bad filter name '"+n+"'");if(r=null,Array.isArray(a)&&l in a){var c=a[Number.parseInt(l.toString(),10)];r=c instanceof Vn?this.xref._fetch(c):c}e=this.makeFilter(e,n.name,s,r),s=null}return e},e.prototype.makeFilter=function(e,t,i,n){if(0===i)return new er;try{return"Fl"===t||"FlateDecode"===t?n?new yr(new fr(e,i),i,n):new fr(e,i):e}catch(r){return new er}},e.prototype._findStreamLength=function(e,t){var i=this.lexicalOperator.stream;i.position=e;for(var n=t.length;i.position<i.end;){var r=i.peekBytes(2048),s=r.length-n;if(s<=0)break;for(var o=0;o<s;){for(var a=0;a<n&&r[o+a]===t[a];)a++;if(a>=n)return i.position+=o,i.position-e;o++}i.position+=s}return-1},e.prototype.findDefaultInlineStreamEnd=function(e){var t,i,n=e.position,r=0;for(t=e.getByte();-1!==t;){if(0===r)r=69===t?1:0;else if(1===r)r=73===t?2:0;else{if(2!==r)throw new Error("findDefaultInlineStreamEnd - invalid state.");if(32===t||10===t||13===t){i=e.position;for(var s=e.peekBytes(10),o=0,a=s.length;o<a;o++)if((0!==(t=s[o])||0===s[o+1])&&10!==t&&13!==t&&(t<32||t>127)){r=0;break}if(2!==r){t=e.getByte();continue}if(2===r)break}else r=0}t=e.getByte()}-1===t&&"undefined"!==typeof i&&e.skip(-(e.position-i));var l=4;return e.skip(-l),t=e.peekByte(),e.skip(l),Ni(t)||l--,e.position-l-n},e.prototype._checkEnd=function(){return this.first===vr},e}(),wr=function(){function e(e){this.isValid=!1;var t=new Sr(new Mr(e),null),i=t.getObject(),n=t.getObject(),r=t.getObject(),s=t.getObject();if(this.isValid=Number.isInteger(i)&&Number.isInteger(n)&&Kn(r,"obj")&&"undefined"!==typeof s,this.isValid){var o=s.get("Linearized");this.isValid="undefined"!==typeof o&&o>0}if(this.isValid){var a=this.getInt(s,"L");if(a!==e.length)throw new Error("The L parameter in the linearization dictionary does not equal the stream length.");this.length=a,this.hints=this.getHints(s),this.objectNumberFirst=this.getInt(s,"O"),this.endFirst=this.getInt(s,"E"),this.pageCount=this.getInt(s,"N"),this.mainXRefEntriesOffset=this.getInt(s,"T"),this.pageFirst=s.has("P")?this.getInt(s,"P",!0):0}}return e.prototype.getInt=function(e,t,i){void 0===i&&(i=!1);var n=e.get(t);if("undefined"!==typeof n&&Number.isInteger(n)&&(i?n>=0:n>0))return n;throw new Error("The '"+t+"' parameter in the linearization dictionary is invalid.")},e.prototype.getHints=function(e){var t=e.getArray("H"),i=t.length;if(t&&(2===i||4===i)){for(var n=0;n<i;n++){var r=t[n];if(!(Number.isInteger(r)&&r>0))throw new Error("Hint ("+n+") in the linearization dictionary is invalid.")}return t}throw new Error("Hint array in the linearization dictionary is invalid.")},e}(),_r=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ir=function(){function e(e,t,i){void 0===i&&(i=""),this._isUserPassword=!0,this._hasUserPasswordOnly=!1,this._encryptOnlyAttachment=!1,this._encryptMetaData=!0,this._defaultPasswordBytes=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);var n=e.get("Filter");if(!Gn(n,"Standard"))throw new Dn("unknown encryption method");this._filterName=n.name,this._dictionary=e;var r=e.get("V");if(!Number.isInteger(r)||1!==r&&2!==r&&4!==r&&5!==r)throw new Dn("unsupported encryption algorithm");this._algorithm=r;var s=e.get("Length");if(!s)if(r<=3)s=40;else{var o=e.get("CF"),a=e.get("StmF");if(o&&a){o.suppressEncryption=!0;var l=o.get(a.name);(s=l&&l.get("Length")||128)<40&&(s<<=3)}}if(!Number.isInteger(s)||s<40||s%8!==0)throw new Dn("invalid key length");var h=gi(e.get("O")).subarray(0,32),c=gi(e.get("U")).subarray(0,32),u=e.get("P"),p=e.get("R");this._encryptMetaData=(4===r||5===r)&&!1!==e.get("EncryptMetadata");var d,f,g=gi(t);if(i&&(6===p&&(i=encodeURIComponent(i)),d=gi(i)),5!==r){if((f=this._prepareKeyData(g,d,h,c,u,p,s,this._encryptMetaData))&&(this._isUserPassword=!0,i)){var m=this._decodeUserPassword(d,h,p,s),y=this._prepareKeyData(g,m,h,c,u,p,s,this._encryptMetaData);y&&yi(y,f)&&(this._hasUserPasswordOnly=!0)}}else{var v,b=gi(e.get("O")),M=b.subarray(32,40),S=b.subarray(40,48),w=gi(e.get("U")),_=w.subarray(0,48),I=w.subarray(32,40),N=w.subarray(40,48),C=gi(e.get("OE")),x=gi(e.get("UE"));v=6===p?new jr:new Ar;var D=void 0;D=d?d.subarray(0,Math.min(127,d.length)):new Uint8Array([]),v._checkUserPassword(D,I,c)?(f=this._createEncryptionKey(!0,D,S,_,N,C,x,v),this._isUserPassword=!0,i.length&&v._checkOwnerPassword(D,M,_,h)&&(this._hasUserPasswordOnly=!0)):i.length&&v._checkOwnerPassword(D,M,_,h)&&(f=this._createEncryptionKey(!1,d,S,_,N,C,x,v),this._isUserPassword=!1)}if(!f){if(!i)throw new Error("Cannot open an encrypted document. The password is invalid.");m=this._decodeUserPassword(d,h,p,s);f=this._prepareKeyData(g,m,h,c,u,p,s,this._encryptMetaData),this._isUserPassword=!1}if(r>=4){var T=e.get("CF");if(T&&(T.suppressEncryption=!0,T.has("StdCF"))){var A=T.get("StdCF");if(A&&A.has("AuthEvent")){var j=A.get("AuthEvent");j&&"EFOpen"===j.name&&(this._encryptOnlyAttachment=!0)}}this._cipherDictionary=T,this._stream=e.get("StmF")||Fn.get("Identity"),this._string=e.get("StrF")||Fn.get("Identity"),this._eff=e.get("EFF")||this._stream}if(!f&&!this._encryptOnlyAttachment)throw new Error("Cannot open an encrypted document. The password is invalid.");this._encryptionKey=f}return Object.defineProperty(e.prototype,"_md5",{get:function(){return"undefined"===typeof this._messageDigest&&(this._messageDigest=new Nr),this._messageDigest},enumerable:!0,configurable:!0}),e.prototype._createEncryptionKey=function(e,t,i,n,r,s,o,a){return e?a._getUserKey(t,r,o):a._getOwnerKey(t,i,n,s)},e.prototype._prepareKeyData=function(e,t,i,n,r,s,o,a){var l,h=new Uint8Array(40+i.length+e.length),c=0,u=0;if(t)for(l=Math.min(32,t.length);c<l;++c)h[Number.parseInt(c.toString(),10)]=t[Number.parseInt(c.toString(),10)];for(;c<32;)h[c++]=this._defaultPasswordBytes[u++];for(u=0,l=i.length;u<l;++u)h[c++]=i[Number.parseInt(u.toString(),10)];for(h[c++]=255&r,h[c++]=r>>8&255,h[c++]=r>>16&255,h[c++]=r>>>24&255,u=0,l=e.length;u<l;++u)h[c++]=e[Number.parseInt(u.toString(),10)];s>=4&&!a&&(h[c++]=255,h[c++]=255,h[c++]=255,h[c++]=255);var p=this._md5.hash(h,0,c),d=o>>3;if(s>=3)for(u=0;u<50;++u)p=this._md5.hash(p,0,d);var f,g=p.subarray(0,d);if(s>=3){for(c=0;c<32;++c)h[Number.parseInt(c.toString(),10)]=this._defaultPasswordBytes[Number.parseInt(c.toString(),10)];for(u=0,l=e.length;u<l;++u)h[c++]=e[Number.parseInt(u.toString(),10)];f=new kr(g)._encryptBlock(this._md5.hash(h,0,c)),l=g.length;var m=new Uint8Array(l);for(u=1;u<=19;++u){for(var y=0;y<l;++y)m[Number.parseInt(y.toString(),10)]=g[Number.parseInt(y.toString(),10)]^u;f=new kr(m)._encryptBlock(f)}for(u=0,l=f.length;u<l;++u)if(n[Number.parseInt(u.toString(),10)]!==f[Number.parseInt(u.toString(),10)])return null}else for(u=0,l=(f=new kr(g)._encryptBlock(this._defaultPasswordBytes)).length;u<l;++u)if(n[Number.parseInt(u.toString(),10)]!==f[Number.parseInt(u.toString(),10)])return null;return g},e.prototype._decodeUserPassword=function(e,t,i,n){for(var r=new Uint8Array(32),s=0,o=0,a=Math.min(32,e.length);s<a;++s)r[Number.parseInt(s.toString(),10)]=e[Number.parseInt(s.toString(),10)];for(;s<32;)r[s++]=this._defaultPasswordBytes[o++];var l,h=this._md5.hash(r,0,s),c=n>>3;if(i>=3)for(o=0;o<50;++o)h=this._md5.hash(h,0,h.length);if(i>=3){l=t;var u=new Uint8Array(c);for(o=19;o>=0;o--){for(var p=0;p<c;++p)u[Number.parseInt(p.toString(),10)]=h[Number.parseInt(p.toString(),10)]^o;l=new kr(u)._encryptBlock(l)}}else l=new kr(h.subarray(0,c))._encryptBlock(t);return l},e.prototype._createCipherTransform=function(e,t){if(4===this._algorithm||5===this._algorithm){var i=this._buildCipherConstructor(this._cipherDictionary,this._string,e,t,this._encryptionKey),n=this._buildCipherConstructor(this._cipherDictionary,this._stream,e,t,this._encryptionKey);return new Rr(i,n)}var r=this._buildObjectKey(e,t,this._encryptionKey,!1);return new Rr(new kr(r),new kr(r))},e.prototype._buildCipherConstructor=function(e,t,i,n,r){var s,o=e.get(t.name);if(o&&(s=o.get("CFM")),!s)return new Pr;switch(s.name){case"None":return new Pr;case"AESV2":return new Lr(this._buildObjectKey(i,n,r,!0));case"AESV3":return new Or(r);case"V2":return new kr(this._buildObjectKey(i,n,r,!1))}throw new Dn("Unknown cryptography method")},e.prototype._buildObjectKey=function(e,t,i,n){void 0===n&&(n=!1);var r,s=new Uint8Array(i.length+9);for(r=0;r<i.length;++r)s[Number.parseInt(r.toString(),10)]=i[Number.parseInt(r.toString(),10)];return s[r++]=255&e,s[r++]=e>>8&255,s[r++]=e>>16&255,s[r++]=255&t,s[r++]=t>>8&255,n&&(s[r++]=115,s[r++]=65,s[r++]=108,s[r++]=84),this._md5.hash(s,0,r).subarray(0,Math.min(i.length+5,16))},e}(),Nr=function(){function e(){this._r=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),this._k=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551])}return e.prototype.hash=function(e,t,i){for(var n=1732584193,r=-271733879,s=-1732584194,o=271733878,a=i+72&-64,l=new Uint8Array(a),h=0,c=0;h<i;++h)l[Number.parseInt(h.toString(),10)]=e[t++];l[h++]=128;for(var u=a-8;h<u;)l[h++]=0;l[h++]=i<<3&255,l[h++]=i>>5&255,l[h++]=i>>13&255,l[h++]=i>>21&255,l[h++]=i>>>29&255,l[h++]=0,l[h++]=0,l[h++]=0;var p=new Int32Array(16);for(h=0;h<a;){for(c=0;c<16;++c,h+=4)p[Number.parseInt(c.toString(),10)]=l[Number.parseInt(h.toString(),10)]|l[h+1]<<8|l[h+2]<<16|l[h+3]<<24;var d=n,f=r,g=s,m=o,y=void 0,v=void 0;for(c=0;c<64;++c){c<16?(y=f&g|~f&m,v=c):c<32?(y=m&f|~m&g,v=5*c+1&15):c<48?(y=f^g^m,v=3*c+5&15):(y=g^(f|~m),v=7*c&15);var b=m,M=d+y+this._k[Number.parseInt(c.toString(),10)]+p[Number.parseInt(v.toString(),10)]|0,S=this._r[Number.parseInt(c.toString(),10)];m=g,g=f,f=f+(M<<S|M>>>32-S)|0,d=b}n=n+d|0,r=r+f|0,s=s+g|0,o=o+m|0}return new Uint8Array([255&n,n>>8&255,n>>16&255,n>>>24&255,255&r,r>>8&255,r>>16&255,r>>>24&255,255&s,s>>8&255,s>>16&255,s>>>24&255,255&o,o>>8&255,o>>16&255,o>>>24&255])},e}(),Cr=function(){function e(){}return e.prototype._rotateRight=function(e,t){return e>>>t|e<<32-t},e.prototype._sigma=function(e){return this._rotateRight(e,2)^this._rotateRight(e,13)^this._rotateRight(e,22)},e.prototype._sigmaPrime=function(e){return this._rotateRight(e,6)^this._rotateRight(e,11)^this._rotateRight(e,25)},e.prototype._littleSigma=function(e){return this._rotateRight(e,7)^this._rotateRight(e,18)^e>>>3},e.prototype._littleSigmaPrime=function(e){return this._rotateRight(e,17)^this._rotateRight(e,19)^e>>>10},e.prototype._hash=function(e,t,i){for(var n,r=1779033703,s=3144134277,o=1013904242,a=2773480762,l=1359893119,h=2600822924,c=528734635,u=1541459225,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=64*Math.ceil((i+9)/64),f=new Uint8Array(d),g=0;g<i;++g)f[Number.parseInt(g.toString(),10)]=e[t++];f[g++]=128;for(var m=d-8;g<m;)f[g++]=0;f[g++]=0,f[g++]=0,f[g++]=0,f[g++]=i>>>29&255,f[g++]=i>>21&255,f[g++]=i>>13&255,f[g++]=i>>5&255,f[g++]=i<<3&255;var y=new Uint32Array(64);for(g=0;g<d;){for(n=0;n<16;++n)y[Number.parseInt(n.toString(),10)]=f[Number.parseInt(g.toString(),10)]<<24|f[g+1]<<16|f[g+2]<<8|f[g+3],g+=4;for(n=16;n<64;++n)y[Number.parseInt(n.toString(),10)]=this._littleSigmaPrime(y[n-2])+y[n-7]+this._littleSigma(y[n-15])+y[n-16]|0;var v=r,b=s,M=o,S=a,w=l,_=h,I=c,N=u,C=void 0,x=void 0;for(n=0;n<64;++n)C=N+this._sigmaPrime(w)+(w&_^~w&I)+p[Number.parseInt(n.toString(),10)]+y[Number.parseInt(n.toString(),10)],x=this._sigma(v)+(v&b^v&M^b&M),N=I,I=_,_=w,w=S+C|0,S=M,M=b,b=v,v=C+x|0;r=r+v|0,s=s+b|0,o=o+M|0,a=a+S|0,l=l+w|0,h=h+_|0,c=c+I|0,u=u+N|0}return new Uint8Array([r>>24&255,r>>16&255,r>>8&255,255&r,s>>24&255,s>>16&255,s>>8&255,255&s,o>>24&255,o>>16&255,o>>8&255,255&o,a>>24&255,a>>16&255,a>>8&255,255&a,l>>24&255,l>>16&255,l>>8&255,255&l,h>>24&255,h>>16&255,h>>8&255,255&h,c>>24&255,c>>16&255,c>>8&255,255&c,u>>24&255,u>>16&255,u>>8&255,255&u])},e}(),xr=function(){function e(){this._k=[new Dr(1116352408,3609767458),new Dr(1899447441,602891725),new Dr(3049323471,3964484399),new Dr(3921009573,2173295548),new Dr(961987163,4081628472),new Dr(1508970993,3053834265),new Dr(2453635748,2937671579),new Dr(2870763221,3664609560),new Dr(3624381080,2734883394),new Dr(310598401,1164996542),new Dr(607225278,1323610764),new Dr(1426881987,3590304994),new Dr(1925078388,4068182383),new Dr(2162078206,991336113),new Dr(2614888103,633803317),new Dr(3248222580,3479774868),new Dr(3835390401,2666613458),new Dr(4022224774,944711139),new Dr(264347078,2341262773),new Dr(604807628,2007800933),new Dr(770255983,1495990901),new Dr(1249150122,1856431235),new Dr(1555081692,3175218132),new Dr(1996064986,2198950837),new Dr(2554220882,3999719339),new Dr(2821834349,766784016),new Dr(2952996808,2566594879),new Dr(3210313671,3203337956),new Dr(3336571891,1034457026),new Dr(3584528711,2466948901),new Dr(113926993,3758326383),new Dr(338241895,168717936),new Dr(666307205,1188179964),new Dr(773529912,1546045734),new Dr(1294757372,1522805485),new Dr(1396182291,2643833823),new Dr(1695183700,2343527390),new Dr(1986661051,1014477480),new Dr(2177026350,1206759142),new Dr(2456956037,344077627),new Dr(2730485921,1290863460),new Dr(2820302411,3158454273),new Dr(3259730800,3505952657),new Dr(3345764771,106217008),new Dr(3516065817,3606008344),new Dr(3600352804,1432725776),new Dr(4094571909,1467031594),new Dr(275423344,851169720),new Dr(430227734,3100823752),new Dr(506948616,1363258195),new Dr(659060556,3750685593),new Dr(883997877,3785050280),new Dr(958139571,3318307427),new Dr(1322822218,3812723403),new Dr(1537002063,2003034995),new Dr(1747873779,3602036899),new Dr(1955562222,1575990012),new Dr(2024104815,1125592928),new Dr(2227730452,2716904306),new Dr(2361852424,442776044),new Dr(2428436474,593698344),new Dr(2756734187,3733110249),new Dr(3204031479,2999351573),new Dr(3329325298,3815920427),new Dr(3391569614,3928383900),new Dr(3515267271,566280711),new Dr(3940187606,3454069534),new Dr(4118630271,4000239992),new Dr(116418474,1914138554),new Dr(174292421,2731055270),new Dr(289380356,3203993006),new Dr(460393269,320620315),new Dr(685471733,587496836),new Dr(852142971,1086792851),new Dr(1017036298,365543100),new Dr(1126000580,2618297676),new Dr(1288033470,3409855158),new Dr(1501505948,4234509866),new Dr(1607167915,987167468),new Dr(1816402316,1246189591)]}return e.prototype._sigma=function(e,t,i){e.assign(t),e.rotateRight(28),i.assign(t),i.rotateRight(34),e.xor(i),i.assign(t),i.rotateRight(39),e.xor(i)},e.prototype._sigmaPrime=function(e,t,i){e.assign(t),e.rotateRight(14),i.assign(t),i.rotateRight(18),e.xor(i),i.assign(t),i.rotateRight(41),e.xor(i)},e.prototype._littleSigma=function(e,t,i){e.assign(t),e.rotateRight(1),i.assign(t),i.rotateRight(8),e.xor(i),i.assign(t),i.shiftRight(7),e.xor(i)},e.prototype._littleSigmaPrime=function(e,t,i){e.assign(t),e.rotateRight(19),i.assign(t),i.rotateRight(61),e.xor(i),i.assign(t),i.shiftRight(6),e.xor(i)},e.prototype._hash=function(e,t,i,n){var r,s,o,a,l,h,c,u;void 0===n&&(n=!1),n?(r=new Dr(3418070365,3238371032),s=new Dr(1654270250,914150663),o=new Dr(2438529370,812702999),a=new Dr(355462360,4144912697),l=new Dr(1731405415,4290775857),h=new Dr(2394180231,1750603025),c=new Dr(3675008525,1694076839),u=new Dr(1203062813,3204075428)):(r=new Dr(1779033703,4089235720),s=new Dr(3144134277,2227873595),o=new Dr(1013904242,4271175723),a=new Dr(2773480762,1595750129),l=new Dr(1359893119,2917565137),h=new Dr(2600822924,725511199),c=new Dr(528734635,4215389547),u=new Dr(1541459225,327033209));var p,d=128*Math.ceil((i+17)/128),f=new Uint8Array(d);for(p=0;p<i;++p)f[Number.parseInt(p.toString(),10)]=e[t++];f[p++]=128;for(var g=d-16;p<g;)f[p++]=0;f[p++]=0,f[p++]=0,f[p++]=0,f[p++]=0,f[p++]=0,f[p++]=0,f[p++]=0,f[p++]=0,f[p++]=0,f[p++]=0,f[p++]=0,f[p++]=i>>>29&255,f[p++]=i>>21&255,f[p++]=i>>13&255,f[p++]=i>>5&255,f[p++]=i<<3&255;var m=new Array(80);for(p=0;p<80;p++)m[Number.parseInt(p.toString(),10)]=new Dr(0,0);var y,v,b=new Dr(0,0),M=new Dr(0,0),S=new Dr(0,0),w=new Dr(0,0),_=new Dr(0,0),I=new Dr(0,0),N=new Dr(0,0),C=new Dr(0,0),x=new Dr(0,0),D=new Dr(0,0),T=new Dr(0,0),A=new Dr(0,0);for(p=0;p<d;){var j=void 0;for(j=0;j<16;++j)m[Number.parseInt(j.toString(),10)].high=f[Number.parseInt(p.toString(),10)]<<24|f[p+1]<<16|f[p+2]<<8|f[p+3],m[Number.parseInt(j.toString(),10)].low=f[p+4]<<24|f[p+5]<<16|f[p+6]<<8|f[p+7],p+=8;for(j=16;j<80;++j)y=m[Number.parseInt(j.toString(),10)],this._littleSigmaPrime(y,m[j-2],A),y.add(m[j-7]),this._littleSigma(T,m[j-15],A),y.add(T),y.add(m[j-16]);for(b.assign(r),M.assign(s),S.assign(o),w.assign(a),_.assign(l),I.assign(h),N.assign(c),C.assign(u),j=0;j<80;++j)x.assign(C),this._sigmaPrime(T,_,A),x.add(T),T.assign(_),T.and(I),A.assign(_),A.not(),A.and(N),T.xor(A),x.add(T),x.add(this._k[Number.parseInt(j.toString(),10)]),x.add(m[Number.parseInt(j.toString(),10)]),this._sigma(D,b,A),T.assign(b),T.and(M),A.assign(b),A.and(S),T.xor(A),A.assign(M),A.and(S),T.xor(A),D.add(T),y=C,C=N,N=I,I=_,w.add(x),_=w,w=S,S=M,M=b,y.assign(x),y.add(D),b=y;r.add(b),s.add(M),o.add(S),a.add(w),l.add(_),h.add(I),c.add(N),u.add(C)}return n?(v=new Uint8Array(48),r.copyTo(v,0),s.copyTo(v,8),o.copyTo(v,16),a.copyTo(v,24),l.copyTo(v,32),h.copyTo(v,40)):(v=new Uint8Array(64),r.copyTo(v,0),s.copyTo(v,8),o.copyTo(v,16),a.copyTo(v,24),l.copyTo(v,32),h.copyTo(v,40),c.copyTo(v,48),u.copyTo(v,56)),v},e}(),Dr=function(){function e(e,t){this.high=0|e,this.low=0|t}return e.prototype.and=function(e){this.high&=e.high,this.low&=e.low},e.prototype.or=function(e){this.high|=e.high,this.low|=e.low},e.prototype.not=function(){this.high=~this.high,this.low=~this.low},e.prototype.xor=function(e){this.high^=e.high,this.low^=e.low},e.prototype.shiftRight=function(e){e>=32?(this.low=this.high>>>e-32|0,this.high=0):(this.low=this.low>>>e|this.high<<32-e,this.high=this.high>>>e|0)},e.prototype.shiftLeft=function(e){e>=32?(this.high=this.low<<e-32,this.low=0):(this.high=this.high<<e|this.low>>>32-e,this.low<<=e)},e.prototype.rotateRight=function(e){var t,i;32&e?(i=this.low,t=this.high):(t=this.low,i=this.high),e&=31,this.low=t>>>e|i<<32-e,this.high=i>>>e|t<<32-e},e.prototype.add=function(e){var t=(this.low>>>0)+(e.low>>>0),i=(this.high>>>0)+(e.high>>>0);t>4294967295&&(i+=1),this.low=0|t,this.high=0|i},e.prototype.copyTo=function(e,t){e[Number.parseInt(t.toString(),10)]=this.high>>>24&255,e[t+1]=this.high>>16&255,e[t+2]=this.high>>8&255,e[t+3]=255&this.high,e[t+4]=this.low>>>24&255,e[t+5]=this.low>>16&255,e[t+6]=this.low>>8&255,e[t+7]=255&this.low},e.prototype.assign=function(e){this.high=e.high,this.low=e.low},e}(),Tr=function(){function e(){}return Object.defineProperty(e.prototype,"_sha256",{get:function(){return"undefined"===typeof this._sha256Obj&&(this._sha256Obj=new Cr),this._sha256Obj},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_sha512",{get:function(){return"undefined"===typeof this._sha512Obj&&(this._sha512Obj=new xr),this._sha512Obj},enumerable:!0,configurable:!0}),e}(),Ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _r(t,e),t.prototype._checkOwnerPassword=function(e,t,i,n){var r=new Uint8Array(e.length+56);return r.set(e,0),r.set(t,e.length),r.set(i,e.length+t.length),yi(this._sha256._hash(r,0,r.length),n)},t.prototype._checkUserPassword=function(e,t,i){var n=new Uint8Array(e.length+8);return n.set(e,0),n.set(t,e.length),yi(this._sha256._hash(n,0,n.length),i)},t.prototype._getOwnerKey=function(e,t,i,n){var r=new Uint8Array(e.length+56);r.set(e,0),r.set(t,e.length),r.set(i,e.length+t.length);var s=this._sha256._hash(r,0,r.length);return new Or(s)._decryptBlock(n,!1,new Uint8Array(16))},t.prototype._getUserKey=function(e,t,i){var n=new Uint8Array(e.length+8);n.set(e,0),n.set(t,e.length);var r=this._sha256._hash(n,0,n.length);return new Or(r)._decryptBlock(i,!1,new Uint8Array(16))},t}(Tr),jr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _r(t,e),t.prototype._checkOwnerPassword=function(e,t,i,n){var r=new Uint8Array(e.length+56);return r.set(e,0),r.set(t,e.length),r.set(i,e.length+t.length),yi(this._hash(e,r,i),n)},t.prototype._checkUserPassword=function(e,t,i){var n=new Uint8Array(e.length+8);return n.set(e,0),n.set(t,e.length),yi(this._hash(e,n,new Uint8Array([])),i)},t.prototype._getOwnerKey=function(e,t,i,n){var r=new Uint8Array(e.length+56);r.set(e,0),r.set(t,e.length),r.set(i,e.length+t.length);var s=this._hash(e,r,i);return new Or(s)._decryptBlock(n,!1,new Uint8Array(16))},t.prototype._getUserKey=function(e,t,i){var n=new Uint8Array(e.length+8);n.set(e,0),n.set(t,e.length);var r=this._hash(e,n,new Uint8Array([]));return new Or(r)._decryptBlock(i,!1,new Uint8Array(16))},t.prototype._hash=function(e,t,i){for(var n=this._sha256._hash(t,0,t.length).subarray(0,32),r=new Uint8Array([0]),s=0;s<64||r[r.length-1]>s-32;){var o=e.length+n.length+i.length,a=new Uint8Array(o),l=0;a.set(e,l),l+=e.length,a.set(n,l),l+=n.length,a.set(i,l);for(var h=new Uint8Array(64*o),c=0,u=0;c<64;c++)h.set(a,u),u+=o;r=new Lr(n.subarray(0,16))._encrypt(h,n.subarray(16,32));for(var p=0,d=0;d<16;d++)p*=1,p%=3,p+=(r[Number.parseInt(d.toString(),10)]>>>0)%3,p%=3;2===p?n=this._sha512._hash(r,0,r.length):1===p?n=this._sha512._hash(r,0,r.length,!0):0===p&&(n=this._sha256._hash(r,0,r.length)),s++}return n.subarray(0,32)},t}(Tr),Er=function(){},kr=function(e){function t(t){var i=e.call(this)||this;i._a=0,i._b=0;for(var n=new Uint8Array(256),r=0;r<256;++r)n[Number.parseInt(r.toString(),10)]=r;for(var s=t.length,o=(r=0,0);r<256;++r){var a=n[Number.parseInt(r.toString(),10)];o=o+a+t[r%s]&255,n[Number.parseInt(r.toString(),10)]=n[Number.parseInt(o.toString(),10)],n[Number.parseInt(o.toString(),10)]=a}return i._s=n,i}return _r(t,e),t.prototype._encryptBlock=function(e){for(var t=this._a,i=this._b,n=this._s,r=e.length,s=new Uint8Array(r),o=0;o<r;++o){t=t+1&255;var a=n[Number.parseInt(t.toString(),10)];i=i+a&255;var l=n[Number.parseInt(i.toString(),10)];n[Number.parseInt(t.toString(),10)]=l,n[Number.parseInt(i.toString(),10)]=a,s[Number.parseInt(o.toString(),10)]=e[Number.parseInt(o.toString(),10)]^n[a+l&255]}return this._a=t,this._b=i,s},t.prototype._decryptBlock=function(e){return this._encryptBlock(e)},t.prototype._encrypt=function(e){return this._encryptBlock(e)},t}(Er),zr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._buffer=new Uint8Array(16),t._position=0,t._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),t._inverseS=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),t._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),t}return _r(t,e),Object.defineProperty(t.prototype,"_mixCol",{get:function(){if("undefined"===typeof this._mixC){this._mixC=new Uint8Array(256);for(var e=0;e<256;e++)this._mixC[Number.parseInt(e.toString(),10)]=e<128?e<<1:e<<1^27}return this._mixC},enumerable:!0,configurable:!0}),t.prototype._decrypt=function(e,t){var i,n,r,s=new Uint8Array(16);s.set(e);for(var o=0,a=this._keySize;o<16;++o,++a)s[Number.parseInt(o.toString(),10)]^=t[Number.parseInt(a.toString(),10)];for(var l=this._cyclesOfRepetition-1;l>=1;--l){i=s[13],s[13]=s[9],s[9]=s[5],s[5]=s[1],s[1]=i,i=s[14],n=s[10],s[14]=s[6],s[10]=s[2],s[6]=i,s[2]=n,i=s[15],n=s[11],r=s[7],s[15]=s[3],s[11]=i,s[7]=n,s[3]=r;for(o=0;o<16;++o)s[Number.parseInt(o.toString(),10)]=this._inverseS[s[Number.parseInt(o.toString(),10)]];for(o=0,a=16*l;o<16;++o,++a)s[Number.parseInt(o.toString(),10)]^=t[Number.parseInt(a.toString(),10)];for(o=0;o<16;o+=4){var h=this._mix[s[Number.parseInt(o.toString(),10)]],c=this._mix[s[o+1]],u=this._mix[s[o+2]],p=this._mix[s[o+3]];i=h^c>>>8^c<<24^u>>>16^u<<16^p>>>24^p<<8,s[Number.parseInt(o.toString(),10)]=i>>>24&255,s[o+1]=i>>16&255,s[o+2]=i>>8&255,s[o+3]=255&i}}i=s[13],s[13]=s[9],s[9]=s[5],s[5]=s[1],s[1]=i,i=s[14],n=s[10],s[14]=s[6],s[10]=s[2],s[6]=i,s[2]=n,i=s[15],n=s[11],r=s[7],s[15]=s[3],s[11]=i,s[7]=n,s[3]=r;for(o=0;o<16;++o)s[Number.parseInt(o.toString(),10)]=this._inverseS[s[Number.parseInt(o.toString(),10)]],s[Number.parseInt(o.toString(),10)]^=t[Number.parseInt(o.toString(),10)];return s},t.prototype._encryptBlock=function(e,t){var i,n,r,s=this._s,o=new Uint8Array(16);o.set(e);for(var a=0;a<16;++a)o[Number.parseInt(a.toString(),10)]^=t[Number.parseInt(a.toString(),10)];for(var l=1;l<this._cyclesOfRepetition;l++){for(a=0;a<16;++a)o[Number.parseInt(a.toString(),10)]=s[o[Number.parseInt(a.toString(),10)]];r=o[1],o[1]=o[5],o[5]=o[9],o[9]=o[13],o[13]=r,r=o[2],n=o[6],o[2]=o[10],o[6]=o[14],o[10]=r,o[14]=n,r=o[3],n=o[7],i=o[11],o[3]=o[15],o[7]=r,o[11]=n,o[15]=i;for(a=0;a<16;a+=4){var h=o[a+0],c=o[a+1],u=o[a+2],p=o[a+3];i=h^c^u^p,o[a+0]^=i^this._mixCol[h^c],o[a+1]^=i^this._mixCol[c^u],o[a+2]^=i^this._mixCol[u^p],o[a+3]^=i^this._mixCol[p^h]}a=0;for(var d=16*l;a<16;++a,++d)o[Number.parseInt(a.toString(),10)]^=t[Number.parseInt(d.toString(),10)]}for(a=0;a<16;++a)o[Number.parseInt(a.toString(),10)]=s[o[Number.parseInt(a.toString(),10)]];r=o[1],o[1]=o[5],o[5]=o[9],o[9]=o[13],o[13]=r,r=o[2],n=o[6],o[2]=o[10],o[6]=o[14],o[10]=r,o[14]=n,r=o[3],n=o[7],i=o[11],o[3]=o[15],o[7]=r,o[11]=n,o[15]=i;for(a=0,d=this._keySize;a<16;++a,++d)o[Number.parseInt(a.toString(),10)]^=t[Number.parseInt(d.toString(),10)];return o},t.prototype._decryptBlockHelper=function(e,t){for(var i=e.length,n=this._buffer,r=this._position,s=[],o=this._iv,a=0;a<i;++a)if(n[Number.parseInt(r.toString(),10)]=e[Number.parseInt(a.toString(),10)],!(++r<16)){for(var l=this._decrypt(n,this._key),h=0;h<16;++h)l[Number.parseInt(h.toString(),10)]^=o[Number.parseInt(h.toString(),10)];o=n,s.push(l),n=new Uint8Array(16),r=0}if(this._buffer=n,this._bufferLength=r,this._iv=o,0===s.length)return new Uint8Array(0);var c=16*s.length;if(t){var u=s[s.length-1],p=u[15];if(p<=16){a=15;for(var d=16-p;a>=d;--a)if(u[Number.parseInt(a.toString(),10)]!==p){p=0;break}c-=p,s[s.length-1]=u.subarray(0,16-p)}}var f=new Uint8Array(c);for(a=0,h=0;a<s.length;++a,h+=16)f.set(s[Number.parseInt(a.toString(),10)],h);return f},t.prototype._decryptBlock=function(e,t,i){var n=e.length,r=this._buffer,s=this._position;if(i)this._iv=i;else{for(var o=0;s<16&&o<n;++o,++s)r[Number.parseInt(s.toString(),10)]=e[Number.parseInt(o.toString(),10)];if(s<16)return this._bufferLength=s,new Uint8Array(0);this._iv=r,e=e.subarray(16)}return this._buffer=new Uint8Array(16),this._bufferLength=0,this._decryptBlock=this._decryptBlockHelper,this._decryptBlock(e,t)},t.prototype._encrypt=function(e,t){var i=e.length,n=this._buffer,r=this._position,s=[];t||(t=new Uint8Array(16));for(var o=0;o<i;++o)if(n[Number.parseInt(r.toString(),10)]=e[Number.parseInt(o.toString(),10)],!(++r<16)){for(var a=0;a<16;++a)n[Number.parseInt(a.toString(),10)]^=t[Number.parseInt(a.toString(),10)];var l=this._encryptBlock(n,this._key);t=l,s.push(l),n=new Uint8Array(16),r=0}if(this._buffer=n,this._bufferLength=r,this._iv=t,0===s.length)return new Uint8Array(0);var h=16*s.length,c=new Uint8Array(h);for(o=0,a=0;o<s.length;++o,a+=16)c.set(s[Number.parseInt(o.toString(),10)],a);return c},t}(Er),Lr=function(e){function t(t){var i=e.call(this)||this;return i._cyclesOfRepetition=10,i._keySize=160,i._key=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),i._key=i._expandKey(t),i}return _r(t,e),t.prototype._expandKey=function(e){var t=this._s,i=this._key,n=new Uint8Array(176);n.set(e);for(var r=16,s=1;r<176;++s){var o=n[r-3],a=n[r-2],l=n[r-1],h=n[r-4];o=t[Number.parseInt(o.toString(),10)],a=t[Number.parseInt(a.toString(),10)],l=t[Number.parseInt(l.toString(),10)],h=t[Number.parseInt(h.toString(),10)],o^=i[Number.parseInt(s.toString(),10)];for(var c=0;c<4;++c)n[Number.parseInt(r.toString(),10)]=o^=n[r-16],n[r+1]=a^=n[r-15],n[r+2]=l^=n[r-14],n[r+3]=h^=n[r-13],r+=4}return n},t}(zr),Or=function(e){function t(t){var i=e.call(this)||this;return i._cyclesOfRepetition=14,i._keySize=224,i._key=i._expandKey(t),i}return _r(t,e),t.prototype._expandKey=function(e){var t=this._s,i=new Uint8Array(240);i.set(e);for(var n,r,s,o,a=1,l=32,h=1;l<240;++h){l%32===16?(n=t[Number.parseInt(n.toString(),10)],r=t[Number.parseInt(r.toString(),10)],s=t[Number.parseInt(s.toString(),10)],o=t[Number.parseInt(o.toString(),10)]):l%32===0&&(n=i[l-3],r=i[l-2],s=i[l-1],o=i[l-4],n=t[Number.parseInt(n.toString(),10)],r=t[Number.parseInt(r.toString(),10)],s=t[Number.parseInt(s.toString(),10)],o=t[Number.parseInt(o.toString(),10)],n^=a,(a<<=1)>=256&&(a=255&(27^a)));for(var c=0;c<4;++c)i[Number.parseInt(l.toString(),10)]=n^=i[l-32],i[l+1]=r^=i[l-31],i[l+2]=s^=i[l-30],i[l+3]=o^=i[l-29],l+=4}return i},t}(zr),Pr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _r(t,e),t.prototype._decryptBlock=function(e){return e},t.prototype._encrypt=function(e){return e},t}(Er),Rr=function(){function e(e,t){this._stringCipher=e,this._streamCipher=t}return e.prototype.createStream=function(e,t){return new ar(e,t,this._streamCipher)},e.prototype.decryptString=function(e){return Mi(this._stringCipher._decryptBlock(gi(e),!0))},e.prototype.encryptString=function(e){if(this._stringCipher instanceof zr){var t=16-e.length%16;e+=String.fromCharCode(t).repeat(t);var i=new Uint8Array(16);if("undefined"!==typeof crypto)crypto.getRandomValues(i);else for(var n=0;n<16;n++)i[Number.parseInt(n.toString(),10)]=Math.floor(256*Math.random());var r=this._stringCipher._encrypt(gi(e),i),s=new Uint8Array(16+r.length);return s.set(i),s.set(r,16),Mi(s)}return Mi(this._stringCipher._encrypt(gi(e)))},e}(),Fr=i(551),Br=function(){function e(e,t){this._version="",this._newLine="\r\n",this._password=t,this._document=e,this._stream=e._stream,this._entries=[],this._crossReferencePosition=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new Un}return e.prototype._setStartXRef=function(e){this._startXRefQueue=[e],this._prevStartXref=e},e.prototype._parse=function(e){var t;(t=e?this._indexObjects():this._readXRef()).assignXref(this),this._nextReferenceNumber=t.get("Size"),this._trailer=t;var i=t.get("Encrypt");if(i){this._document._isEncrypted=!0,this._ids=t.get("ID"),this._permissionFlags=i.get("P");var n=this._ids&&this._ids.length?this._ids[0]:"";i.suppressEncryption=!0,this._encrypt=new Ir(i,n,this._password),this._document._fileStructure._crossReferenceType=c.stream,this._document._isUserPassword=this._encrypt._isUserPassword,this._document._encryptOnlyAttachment=this._encrypt._encryptOnlyAttachment,this._encrypt._encryptOnlyAttachment?(this._document._hasUserPasswordOnly=!0,this._document._encryptMetaData=!1):(this._document._hasUserPasswordOnly=this._encrypt._hasUserPasswordOnly,this._document._encryptMetaData=!i.has("EncryptMetadata")||i.get("EncryptMetadata"))}var r=!1;try{var s=t.get("Root");if(s)s.get("Pages")&&(this._root=s,r=!0)}catch(o){throw new xn("Invalid cross reference","InvalidXRef")}if(!r)throw new xn("Invalid cross reference",e?"InvalidXRef":"XRefParseException")},e.prototype._getEntry=function(e){var t=this._entries[e];return t&&!t.free&&t.offset?t:null},e.prototype._fetch=function(e,t){var i;if(!(e instanceof Vn))throw new Error("ref object is not a reference");var n=e.objectNumber,r=this._cacheMap.get(e);if("undefined"!==typeof r)return r instanceof Yn&&!r.objId&&(r.objId=n),r;var s=this._getEntry(n);if(null===s)return this._cacheMap.set(e,s),s;if(this._pendingRefs.has(e))throw this._pendingRefs.remove(e),new Error("circular reference");this._pendingRefs.put(e);try{i=s.uncompressed?this._fetchUncompressed(e,s,t):this._fetchCompressed(e,s),this._pendingRefs.remove(e)}catch(o){throw this._pendingRefs.remove(e),o}return i},e.prototype._fetchUncompressed=function(e,t,i){var n=e.generationNumber,r=e.objectNumber;if(t.gen!==n)throw new xn("Inconsistent generation in XRef: "+e,"XRefEntryException");var s,o=this._stream.makeSubStream(t.offset+this._stream.start,void 0),a=new Sr(new Mr(o),this,!0),l=a.getObject(),h=a.getObject(),c=a.getObject();if(l!==r||h!==n||"undefined"===typeof c)throw new xn("Bad (uncompressed) XRef entry: "+e,"XRefEntryException");return(s=this._encrypt&&!i?a.getObject(this._encrypt._createCipherTransform(e.objectNumber,e.generationNumber)):a.getObject())instanceof Jn||this._cacheMap.set(e,s),s instanceof Yn?s.objId=e.toString():s instanceof Jn&&(s.dictionary.objId=e.toString()),s},e.prototype._fetchCompressed=function(e,t){var i=t.offset,n=this._fetch(Vn.get(i,0));if("undefined"===typeof n)throw new Dn("bad ObjStm stream");var r=n.dictionary.get("First"),s=n.dictionary.get("N"),o=e.generationNumber;if(!Number.isInteger(r)||!Number.isInteger(s))throw new Dn("invalid first and n parameters for ObjStm stream");for(var a=new Sr(new Mr(n),this,!0),l=new Array(s),h=new Array(s),c=0;c<s;++c){var u=a.getObject();if(!Number.isInteger(u))throw new Dn("invalid object number in the ObjStm stream: "+u);var p=a.getObject();if(!Number.isInteger(p))throw new Dn("invalid object offset in the ObjStm stream: "+p);l[c]=u,h[c]=p}var d=(n.start||0)+r,f=new Array(s);for(c=0;c<s;++c){var g=c<s-1?h[c+1]-h[c]:void 0;if(g<0)throw new Dn("Invalid offset in the ObjStm stream.");var m=(a=new Sr(new Mr(n.makeSubStream(d+h[c],g,n.dictionary)),this,!0)).getObject();if(f[c]=m,!(m instanceof Jn)){u=l[c];var y=this._entries[u];if(y&&y.offset===i&&y.gen===c){var v=u+" "+o;this._cacheMap.set(Vn.get(u,o),m),m instanceof Yn&&(m.objId=v)}}}var b=f[t.gen];if("undefined"===typeof b)throw new xn("Bad (compressed) XRef entry: "+e,"XRefEntryException");return b},e.prototype._readXRef=function(e){void 0===e&&(e=!1);var t=this._stream,i=new Set;try{for(;this._startXRefQueue.length;){var n=this._startXRefQueue[0];if(this._prevStartXref<n&&(this._prevStartXref=n),i.has(n))this._startXRefQueue.shift();else{i.add(n),t.position=n+t.start;var r=new Sr(new Mr(t),this,!0),s=r.getObject(),o=void 0;if(Kn(s,"xref")){if("undefined"===typeof this._document._fileStructure._crossReferenceType&&(this._document._fileStructure._crossReferenceType=c.table),o=this._processXRefTable(r),this._topDictionary||(this._topDictionary=o),s=o.get("XRefStm"),Number.isInteger(s)){var a=s;a in this._crossReferencePosition||(this._crossReferencePosition[a]=1,this._startXRefQueue.push(a))}}else{if(!Number.isInteger(s))throw new Dn("Invalid XRef stream header");"undefined"===typeof this._document._fileStructure._crossReferenceType&&(this._document._fileStructure._crossReferenceType=c.stream);var l=r.getObject(),h=r.getObject();if(s=r.getObject(),"undefined"===typeof l||!Number.isInteger(l)||!Kn(h,"obj")||!(s instanceof Jn))throw new Dn("Invalid cross reference stream");if(o=this._processXRefStream(s),this._topDictionary||(this._topDictionary=o),!o)throw new Dn("Failed to read XRef stream")}s=o.get("Prev"),Number.isInteger(s)?this._startXRefQueue.push(s):s instanceof Vn&&this._startXRefQueue.push(s.objectNumber),this._startXRefQueue.shift()}}return this._topDictionary}catch(u){this._startXRefQueue.shift()}if(!e)throw new xn("Invalid cross reference","XRefParseException")},e.prototype._readToken=function(e,t){for(var i="",n=e[t];10!==n&&13!==n&&60!==n&&!(++t>=e.length);)i+=String.fromCharCode(n),n=e[t];return i},e.prototype._skipUntil=function(e,t,i){for(var n=i.length,r=e.length,s=0;t<r;){for(var o=0;o<n&&e[t+o]===i[o];)++o;if(o>=n)break;t++,s++}return s},e.prototype._indexObjects=function(){var e=/^(\d+)\s+(\d+)\s+obj\b/,t=/\bendobj[\b\s]$/,i=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,n=new Uint8Array([116,114,97,105,108,101,114]),r=new Uint8Array([115,116,97,114,116,120,114,101,102]),s=new Uint8Array([111,98,106]),o=new Uint8Array([47,88,82,101,102]);this._entries.length=0,this._cacheMap.clear();var a=this._stream;a.position=0;for(var l,h=a.getBytes(),c=h.length,u=a.start,p=[],d=[];u<c;){var f=h[u];if(9!==f&&10!==f&&13!==f&&32!==f)if(37!==f){var g=this._readToken(h,u),m=void 0;if(g.startsWith("xref")&&(4===g.length||/\s/.test(g[4])))u+=this._skipUntil(h,u,n),p.push(u),u+=this._skipUntil(h,u,r);else if(m=e.exec(g)){var y=0|Number.parseInt(m[1]),v=0|Number.parseInt(m[2]),b=void 0,M=u+g.length,S=!1;if(this._entries[y]){if(this._entries[y].gen===v)try{var w=a.makeSubStream(M,a.length-M),_=new Mr(w);(E=new Sr(_,null)).getObject(),S=!0}catch(P){S=!(P instanceof Tn)}}else S=!0;if(S){var I=new Vr;I.offset=u-a.start,I.gen=v,I.uncompressed=!0,this._entries[y]=I}for(;M<h.length;){var N=M+this._skipUntil(h,M,s)+4;b=N-u;var C=Math.max(N-25,M),x=Mi(h.subarray(C,N));if(t.test(x))break;var D=i.exec(x);if(D&&D[1]){b-=D[1].length;break}M=N}var T=h.subarray(u,u+b),A=this._skipUntil(T,0,o);A<b&&T[A+5]<64&&(d.push(u-a.start),this._crossReferencePosition[u-a.start]=1),u+=b}else g.startsWith("trailer")&&(7===g.length||/\s/.test(g[7]))?(p.push(u),u+=this._skipUntil(h,u,r)):u+=g.length+1}else do{if(++u>=c)break;f=h[u]}while(10!==f&&13!==f);else++u}for(var j=0;j<d.length;++j)this._startXRefQueue.push(d[j]),this._readXRef(!0);for(j=0;j<p.length;++j){var E;if(a.position=p[j],Kn((E=new Sr(new Mr(a),this,!0,!0)).getObject(),"trailer")){var k=E.getObject();if(k instanceof Yn){try{var z=k.get("Root");if(!(z instanceof Yn))continue;var L=z.get("Pages");if(!(L instanceof Yn))continue;var O=L.get("Count");if("undefined"===typeof O||!Number.isInteger(O))continue}catch(P){continue}if(k.has("ID"))return k;l=k}}}if(l)return l;if(this._topDictionary)return this._topDictionary;throw new xn("Invalid PDF structure.","InvalidPDFException")},e.prototype._processXRefTable=function(e){if("undefined"===typeof this._tableState){var t=new Ur;t.entryNum=0,t.streamPos=e.lexicalOperator.stream.position,t.parserBuf1=e.first,t.parserBuf2=e.second,this._tableState=t}if(!Kn(this._readXRefTable(e),"trailer"))throw new Dn("Invalid XRef table: could not find trailer dictionary");var i,n=e.getObject();if(n&&(n instanceof Yn?i=n:n instanceof Jn&&n.dictionary&&(i=n.dictionary)),!i)throw new Dn("Invalid cross reference: could not parse trailer dictionary");return this._tableState=void 0,i},e.prototype._readXRefTable=function(e){var t,i=e.lexicalOperator.stream;for(i.position=this._tableState.streamPos,e.first=this._tableState.parserBuf1,e.second=this._tableState.parserBuf2;;){if("undefined"===typeof this._tableState.firstEntryNum||"undefined"===typeof this._tableState.entryCount){if(Kn(t=e.getObject(),"trailer"))break;this._tableState.firstEntryNum=t,this._tableState.entryCount=e.getObject()}var n=this._tableState.firstEntryNum,r=this._tableState.entryCount;if(!Number.isInteger(n)||!Number.isInteger(r))throw new Dn("Invalid cross reference: wrong types in subsection header");for(var s=this._tableState.entryNum;s<r;s++){this._tableState.streamPos=i.position,this._tableState.entryNum=s,this._tableState.parserBuf1=e.first,this._tableState.parserBuf2=e.second;var o=new Vr;o.offset=e.getObject(),o.gen=e.getObject();var a=e.getObject();if(a)switch(a.command){case"f":o.free=!0;break;case"n":o.uncompressed=!0}if(!Number.isInteger(o.offset)||!Number.isInteger(o.gen)||!o.free&&!o.uncompressed)throw new Dn("Invalid entry in cross reference subsection: "+n+", "+r);0===s&&o.free&&1===n&&(n=0),this._entries[s+n]||(this._entries[s+n]=o)}this._tableState.entryNum=0,this._tableState.streamPos=i.position,this._tableState.parserBuf1=e.first,this._tableState.parserBuf2=e.second,this._tableState.firstEntryNum=void 0,this._tableState.entryCount=void 0}if(this._entries[0]&&!this._entries[0].free)throw new Dn("Invalid XRef table: unexpected first object");return t},e.prototype._processXRefStream=function(e){if("undefined"===typeof this._streamState){var t=e.dictionary,i=new Hr,n=t.getArray("Index");n||(n=[0,t.get("Size")]),i.entryRanges=n,i.byteWidths=t.getArray("W"),i.entryNum=0,i.streamPos=e.position,this._streamState=i}return this._readXRefStream(e),this._streamState=void 0,e.dictionary},e.prototype._readXRefStream=function(e){e.position=this._streamState.streamPos;for(var t=this._streamState.byteWidths[0],i=this._streamState.byteWidths[1],n=this._streamState.byteWidths[2],r=this._streamState.entryRanges;r.length>0;){var s=r[0],o=r[1];if(!Number.isInteger(s)||!Number.isInteger(o))throw new Dn("Invalid XRef range fields: "+s+", "+o);if(!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(n))throw new Dn("Invalid XRef entry fields length: "+s+", "+o);for(var a=this._streamState.entryNum;a<o;++a){this._streamState.entryNum=a,this._streamState.streamPos=e.position;for(var l=0,h=0,c=0,u=0;u<t;++u){var p=e.getByte();if(-1===p)throw new Dn("invalid cross reference byte width type.");l=l<<8|p}0===t&&(l=1);for(u=0;u<i;++u){var d=e.getByte();if(-1===d)throw new Dn("invalid cross reference byte width offset.");h=h<<8|d}for(u=0;u<n;++u){var f=e.getByte();if(-1===f)throw new Dn("invalid cross reference byte width generation.");c=c<<8|f}var g=new Vr;switch(g.offset=h,g.gen=c,l){case 0:g.free=!0;break;case 1:g.uncompressed=!0;break;case 2:break;default:throw new Dn("Invalid XRef entry type: "+l)}this._entries[s+a]||(this._entries[s+a]=g)}this._streamState.entryNum=0,this._streamState.streamPos=e.position,r.splice(0,2)}},e.prototype._getCatalogObj=function(){return this._root},e.prototype._save=function(){var e=this,t=this._stream.length,i=[this._newLine.charCodeAt(0),this._newLine.charCodeAt(1),37,80,68,70,45];this._writeString(""+this._version+this._newLine,i),i.push(37,131,146,250,254),this._writeString(this._newLine,i);var n=0,r=0;if(this._document._fileStructure._crossReferenceType===c.stream){var s=[],o=[],a="",l=[];l.push(0,1);var h=[],u=[];this._cacheMap.forEach((function(n,s){var o,a;(n instanceof Jn&&(o=n.dictionary),o&&o._updated&&(!o.isCatalog||e._allowCatalog))&&(l.push(s.objectNumber,1),u.push(t+i.length),e._encrypt&&(a=e._encrypt._createCipherTransform(s.objectNumber,s.generationNumber)),e._writeObject(n,i,s,a),r++,o._updated=!1)})),this._cacheMap.forEach((function(s,c){if(s instanceof Yn)!s._updated||s.isCatalog&&!e._allowCatalog||(a+=c.objectNumber+" "+o.length+e._newLine,h.push(c.objectNumber,1),n++,e._writeObject(s,o));else if(s instanceof Jn){var p=s.dictionary;p&&p._updated&&(!p.isCatalog||e._allowCatalog)&&(l.push(c.objectNumber,1),u.push(t+i.length),e._writeObject(s,i,c),r++,p._updated=!1)}}));for(var p=0;p<h.length;p++)l.push(h[parseInt(p.toString(),10)]);var d=void 0,f=void 0;if(n>0){f=this._getNextReference(),l.push(f.objectNumber,2),this._writeString(a,s),this._writeBytes(o,s);var g=new Yn(this);g.set("Type",Fn.get("ObjStm")),g.set("N",n),g.set("First",a.length),g.set("Length",s.length);var m,y=new Zn(s,g,0,s.length);d=t+i.length,this._encrypt&&(m=this._encrypt._createCipherTransform(f.objectNumber,f.generationNumber)),this._writeObject(y,i,f,m)}var v=this._getNextReference(),b=t+i.length;(N=new Yn(this)).set("Type",Fn.get("XRef")),N.set("Index",l),N.set("W",[1,3,1]),this._copyTrailer(N),this._ids&&this._ids.length>0&&N.update("ID",[this._ids[0],this._computeMessageDigest(b)]);var M=[];if(this._writeLong(0,1,M),this._writeLong(1,3,M),this._writeLong(-1,1,M),r>0)for(var S=0;S<r;S++)this._writeLong(1,1,M),this._writeLong(u[S],3,M),this._writeLong(0,1,M);if(n>0){for(S=0;S<n;S++)this._writeLong(2,1,M),this._writeLong(f.objectNumber,3,M),this._writeLong(S,1,M);this._writeLong(1,1,M),this._writeLong(d,3,M),this._writeLong(0,1,M)}this._writeLong(1,1,M),this._writeLong(b,3,M),this._writeLong(0,1,M),N.set("Length",M.length);var w=new Zn(M,N,0,M.length),_=void 0;this._encrypt&&(_=this._encrypt._createCipherTransform(v.objectNumber,v.generationNumber)),this._writeObject(w,i,v,_,!0),this._writeString("startxref"+this._newLine+b+this._newLine+"%%EOF"+this._newLine,i)}else{var I="";this._cacheMap.forEach((function(r,s){var o;if(r instanceof Yn?o=r:r instanceof Jn&&(o=r.dictionary),o&&o._updated&&(!o.isCatalog||e._allowCatalog)){for(var a=(t+i.length).toString();a.length<10;)a="0"+a;for(var l=s.generationNumber.toString();l.length<5;)l="0"+l;I+=s.objectNumber+" 1"+e._newLine+a+" "+l+" n"+e._newLine,n++,e._writeObject(r,i,s)}}));b=i.length+t;this._writeString("xref"+this._newLine+"0 1"+this._newLine+"0000000000 65535 f"+this._newLine,i),n>0&&this._writeString(I,i),this._writeString("trailer"+this._newLine,i);var N=new Yn(this);this._copyTrailer(N),this._writeDictionary(N,i,this._newLine),this._writeString("startxref"+this._newLine+b+this._newLine+"%%EOF"+this._newLine,i)}var C=new Uint8Array(this._stream.length+i.length);return C.set(this._stream.bytes),C.set(i,this._stream.length),C},e.prototype._copyTrailer=function(e){e.set("Size",this._nextReferenceNumber),e.set("Prev",this._prevStartXref);var t=this._trailer.getRaw("Root");"undefined"!==typeof t&&null!==t&&e.set("Root",t);var i=this._trailer.getRaw("Info");"undefined"!==typeof i&&null!==i&&e.set("Info",i);var n=this._trailer.getRaw("Encrypt");"undefined"!==typeof n&&null!==n&&e.set("Encrypt",n)},e.prototype._computeMessageDigest=function(e){var t=this,i=[Math.floor(Date.now()/1e3).toString(),"",e.toString()],n=this._trailer.getRaw("Info"),r=new Yn;n&&n instanceof Yn&&n.forEach((function(e,t){t&&"string"===typeof t&&r.set(e,fi(t))})),r.forEach((function(e,t){i.push(t)}));var s=[];return i.forEach((function(e){t._writeString(e,s)})),Mi((new Nr).hash(new Uint8Array(s)))},e.prototype._getNextReference=function(){var e=new Vn(this._nextReferenceNumber++,0);return e._isNew=!0,e},e.prototype._writeObject=function(e,t,i,n,r){i&&i instanceof Vn&&this._writeString(i.objectNumber+" "+i.generationNumber+" obj"+this._newLine,t),e instanceof Yn?this._writeDictionary(e,t,this._newLine,n,r):e instanceof Jn&&this._writeStream(e,t,n,r),i&&i instanceof Vn&&this._writeString("endobj"+this._newLine,t)},e.prototype._writeDictionary=function(e,t,i,n,r){var s=this;e._currentObj&&e._currentObj._beginSave(),e._isFont&&this._writeFontDictionary(e),this._writeString("<<"+i,t),e.forEach((function(e,o){s._writeString("/"+qi(e)+" ",t),s._writeValue(o,t,n,r),s._writeString(i,t)})),this._writeString(">>"+this._newLine,t)},e.prototype._writeFontDictionary=function(e){if(e.has("DescendantFonts")){var t=e.get("DescendantFonts"),i=this._getNextReference();this._cacheMap.set(i,t),e.update("DescendantFonts",[i])}if(e.has("ToUnicode")){t=e.get("ToUnicode"),i=this._getNextReference();this._cacheMap.set(i,t),e.update("ToUnicode",i)}if(e.has("FontFile2")){t=e.get("FontFile2"),i=this._getNextReference();this._cacheMap.set(i,t),e.update("FontFile2",i)}if(e.has("FontDescriptor")){t=e.get("FontDescriptor"),i=this._getNextReference();this._cacheMap.set(i,t),e.update("FontDescriptor",i)}},e.prototype._writeStream=function(e,t,i,n){var r=[],s=e.getString();if(!n){for(var o=[],a=0;a<s.length;a++)o.push(s.charCodeAt(a));if(e._isCompress){var l=new Uint8Array(o),h=new Fr.r4;h.write(l,0,l.length),h.close(),s=h.getCompressedString,e.dictionary.update("Filter",Fn.get("FlateDecode"))}i&&(s=i.encryptString(s))}this._writeString(s,r),e.dictionary.update("Length",r.length),this._writeDictionary(e.dictionary,t,this._newLine,i,n),this._writeString("stream"+this._newLine,t),this._writeBytes(r,t),this._writeString(this._newLine+"endstream"+this._newLine,t)},e.prototype._writeValue=function(e,t,i,n){if(e instanceof Fn)this._writeString("/"+e.name,t);else if(e instanceof Vn)this._writeString(e.toString()+" R",t);else if(Array.isArray(e)){this._writeString("[",t);for(var r=!0,s=0,o=e;s<o.length;s++){var a=o[s];r?r=!1:this._writeString(" ",t),this._writeValue(a,t,i,n)}this._writeString("]",t)}else"string"===typeof e?(!n&&i&&(e=i.encryptString(e)),this._writeString("("+this._escapeString(e)+")",t)):"number"===typeof e?this._writeString(vi(e),t):"boolean"===typeof e?this._writeString(e.toString(),t):e instanceof Yn?this._writeDictionary(e,t,this._newLine,i,n):e instanceof Jn?this._writeStream(e,t,i,n):null===e&&this._writeString("null",t)},e.prototype._writeString=function(e,t){for(var i=0;i<e.length;i++)t.push(255&e.charCodeAt(i))},e.prototype._writeBytes=function(e,t){for(var i=0;i<e.length;i++)t.push(e[i])},e.prototype._writeLong=function(e,t,i){for(var n=t-1;n>=0;--n)i.push(e>>(n<<3)&255)},e.prototype._escapeString=function(e){return e.replace(/([()\\\n\r])/g,(function(e){return"\n"===e?"\\n":"\r"===e?"\\r":"\\"+e}))},e.prototype._destroy=function(){this._entries=void 0,this._pendingRefs.clear(),this._pendingRefs=void 0,this._cacheMap.clear(),this._pendingRefs=void 0,this._root=void 0,this._startXRefQueue=[],this._startXRefQueue=void 0,this._stream=void 0,this._streamState=void 0,this._tableState=void 0,this._topDictionary=void 0,this._trailer=void 0,this._version=void 0,this._crossReferencePosition=void 0},e}(),Vr=function(){},Ur=function(){},Hr=function(){},Wr=i(864),Yr=function(){function e(e,t){this._hasKids=!1,this._setAppearance=!1,this._exportEmptyFields=!1,this._fieldCollection=[],this._signFlag=A.none,this._dictionary=e,this._crossReference=t,this._parsedFields=new Map,this._fields=[],this._createFields()}return Object.defineProperty(e.prototype,"count",{get:function(){return this._fields.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"needAppearances",{get:function(){return this._dictionary.has("NeedAppearances")&&(this._needAppearances=this._dictionary.get("NeedAppearances")),this._needAppearances},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exportEmptyFields",{get:function(){return this._exportEmptyFields},set:function(e){this._exportEmptyFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_signatureFlag",{get:function(){return this._signFlag},set:function(e){e!==this._signFlag&&(this._signFlag=e,this._dictionary.update("SigFlags",e))},enumerable:!0,configurable:!0}),e.prototype.fieldAt=function(e){if(e<0||e>=this._fields.length)throw Error("Index out of range.");var t;if(this._parsedFields.has(e))t=this._parsedFields.get(e);else{var i=void 0,n=this._fields[e];if(n&&n instanceof Vn&&(i=this._crossReference._fetch(n)),i){var r=Di(i,"FT",!1,!0,"Parent"),s=0,o=Di(i,"Ff",!1,!0,"Parent");if("undefined"!==typeof o&&(s=o),r)switch(r.name.toLowerCase()){case"tx":t=it._load(this,i,this._crossReference,n);break;case"btn":t=0!==(s&T.pushButton)?nt._load(this,i,this._crossReference,n):0!==(s&T.radio)?st._load(this,i,this._crossReference,n):rt._load(this,i,this._crossReference,n);break;case"ch":t=0!==(s&T.combo)?at._load(this,i,this._crossReference,n):lt._load(this,i,this._crossReference,n);break;case"sig":t=ht._load(this,i,this._crossReference,n)}this._parsedFields.set(e,t),t&&t instanceof tt&&(t._annotationIndex=e)}}return t},e.prototype.add=function(e){if(this._fields.push(e._ref),this._dictionary.update("Fields",this._fields),this._parsedFields.set(this._fields.length-1,e),e._form=this,this._crossReference._allowCatalog=!0,this._crossReference._root._updated=!0,e._kidsCount>0)for(var t=0;t<e._kidsCount;t++){var i=e.itemAt(t);(n=i._page).annotations._annotations.push(i._ref),n._pageDictionary.set("Annots",n.annotations._annotations),n._pageDictionary._updated=!0}else if(e._dictionary.has("Subtype")&&"Widget"===e._dictionary.get("Subtype").name){var n;(n=e._page).annotations._annotations.push(e._ref),e._page._pageDictionary.set("Annots",e.page.annotations._annotations),e._page._pageDictionary._updated=!0}return e instanceof ht&&(e._form._signatureFlag=A.signatureExists|A.appendOnly),this._fields.length-1},e.prototype.removeField=function(e){var t=this._fields.indexOf(e._ref);t>=0&&this.removeFieldAt(t)},e.prototype.removeFieldAt=function(e){var t=this.fieldAt(e);if(t){if(t._kidsCount>0)for(var i=t._kidsCount-1;i>=0;i--){var n=t.itemAt(i);(r=n._getPage())&&r._removeAnnotation(n._ref)}else if(t._dictionary.has("Subtype")&&"Widget"===t._dictionary.get("Subtype").name){var r;(r=t.page)&&r._removeAnnotation(t._ref)}this._parsedFields.delete(e)}this._fields.splice(e,1),this._dictionary.set("Fields",this._fields),this._dictionary._updated=!0},e.prototype.setDefaultAppearance=function(e){this._setAppearance=!e,this._needAppearances=e,this._dictionary.update("NeedAppearances",e)},e.prototype.orderFormFields=function(e){var t=this;if(null===e||"undefined"===typeof e)this.orderFormFields(new Map);else{var i=void 0,n=this._crossReference._document,r=void 0;if(e&&e instanceof Map){var s=!0;e.size>0||(s=!1),this._tabCollection=e;var o=new Map;if(this._fieldCollection=this._getFields(),this._fieldCollection&&this._fieldCollection.length>0)if(this._fieldCollection[0].page&&n){for(var a=0;a<this._fieldCollection.length;a++){var l=this._fieldCollection[Number.parseInt(a.toString(),10)],h=ui(n,l.page._pageDictionary);o.has(h)?(r=o.get(h)).push(l):((r=[]).push(l),o.set(h,r));var c=n.getPage(h);this._tabCollection.has(h)||this._tabCollection.set(h,c.tabOrder),s&&(c.tabOrder=this._tabCollection.get(h))}var u=0;o.forEach((function(e,i){t._tabOrder=t._tabCollection.get(i);var n=e;n.sort((function(e,i){return t._compareFields(e,i)}));for(var r=0;r<n.length;r++){var s=t._fieldCollection.indexOf(n[Number.parseInt(r.toString(),10)]);if(-1!==s&&s!==u+r){var o=t._fieldCollection[Number.parseInt(s.toString(),10)];t._fieldCollection.splice(s,1),t._fieldCollection.splice(u+r,0,o)}}u+=e.length}))}}else this._tabOrder=e,i=this._getOrder(this._tabOrder),this._fieldCollection=this._getFields(),this._fieldCollection.sort((function(e,i){return t._compareFields(e,i)}));this._parsedFields.clear();for(a=0;a<this._fieldCollection.length;a++)this._parsedFields.set(Number.parseInt(a.toString(),10),this._fieldCollection[Number.parseInt(a.toString(),10)]),this._fields[Number.parseInt(a.toString(),10)]=this._fieldCollection[Number.parseInt(a.toString(),10)]._ref,i&&this._fieldCollection[Number.parseInt(a.toString(),10)].page._pageDictionary.update("Tabs",i);this._dictionary.update("Fields",this._fields)}},e.prototype._createFields=function(){var e;this._dictionary.has("Fields")&&(e=this._dictionary.get("Fields"));for(var t=0,i=[];"undefined"!==typeof e&&null!==e;){for(;t<e.length;t++){var n=e[t],r=void 0;n&&n instanceof Vn&&(r=this._crossReference._fetch(n));var s=void 0;if(r&&r.has("Kids")&&"undefined"!==typeof(s=r.get("Kids"))&&s.length>0)for(var o=0;o<s.length;o++){var a=s[Number.parseInt(o.toString(),10)];if(a&&a instanceof Vn){var l=this._crossReference._fetch(a);"undefined"===typeof l||l.has("Parent")||l.update("Parent",n)}}if("undefined"===typeof s)"undefined"!==typeof r&&-1===this._fields.indexOf(n)&&this._fields.push(n);else!r.has("FT")||this._isNode(s)?(i.push({fields:e,count:t}),this._hasKids=!0,t=-1,e=s):this._fields.push(n)}if(0===i.length)break;var h=i.pop();e=h.fields,t=h.count+1}},e.prototype._isNode=function(e){var t=!1;if("undefined"!==typeof e&&e.length>0){var i=e[0],n=void 0;if("undefined"!==typeof i&&null!==i&&(i instanceof Yn?n=i:i instanceof Vn&&(n=this._crossReference._fetch(i))),"undefined"!==typeof n&&n.has("Subtype")){var r=n.get("Subtype");r&&"Widget"!==r.name&&(t=!0)}}return t},e.prototype._parseWidgetReferences=function(){var e=this;return"undefined"===typeof this._widgetReferences&&this.count>0&&(this._widgetReferences=[],this._fields.forEach((function(t){var i=e._crossReference._fetch(t);if(i)if(i.has("Kids")){var n=i.get("Kids");n&&n.length>0&&n.forEach((function(t){var i;if(t instanceof Yn?i=t:t instanceof Vn&&(i=e._crossReference._fetch(t)),"undefined"!==typeof i&&i.has("Subtype")){var n=i.get("Subtype");n&&"Widget"===n.name&&e._widgetReferences.push(t)}}))}else e._widgetReferences.push(t)}))),this._widgetReferences},e.prototype._doPostProcess=function(e){for(var t=this.count-1;t>=0;t--){var i=this.fieldAt(t);i&&(i._doPostProcess(e||i.flatten),!e&&i.flatten&&this.removeFieldAt(t))}},e.prototype._getFieldIndex=function(e){var t=-1;if(this.count>0){this._fieldNames||(this._fieldNames=[]),this._indexedFieldNames||(this._indexedFieldNames=[]),this._actualFieldNames||(this._actualFieldNames=[]),this._indexedActualFieldNames||(this._indexedActualFieldNames=[]);for(var i=0;i<this.count;i++){var n=this.fieldAt(i);if(n){var r=n.name;r&&(this._fieldNames.push(r),this._indexedFieldNames.push(r.split("[")[0]));var s=n.actualName;s&&(this._actualFieldNames.push(s),this._indexedActualFieldNames.push(s.split("[")[0]))}}var o=this._fieldNames.indexOf(e);(-1!==o||-1!==(o=this._indexedFieldNames.indexOf(e))||-1!==(o=this._actualFieldNames.indexOf(e))||-1!==(o=this._indexedActualFieldNames.indexOf(e)))&&(t=o)}return t},e.prototype._getFields=function(){for(var e=[],t=0;t<this._fields.length;t++){var i=this.fieldAt(t);i&&i instanceof tt&&e.push(i)}return e},e.prototype._getOrder=function(e){if(e!==C.none){var t="";return e===C.row?t="R":e===C.column?t="C":e===C.structure&&(t="S"),Fn.get(t)}return null},e.prototype._compareFields=function(e,t){var i,n,r=0,s=e.page,o=t.page;if(s&&s instanceof Jt&&o&&o instanceof Jt){var a=s._pageIndex,l=o._pageIndex,h=this._getRectangle(e._dictionary),c=this._getRectangle(t._dictionary);if(h&&h.length>=2&&c&&c.length>=2){var u=h[0],p=h[1],d=c[0],f=c[1];if("number"===typeof u&&"number"===typeof d&&"number"===typeof p&&"number"===typeof f)if(n=a-l,this._tabOrder===C.row)i=this._compare(f,p),r=0!==n?n:0!==i?i:this._compare(u,d);else if(this._tabOrder===C.column)i=this._compare(u,d),r=0!==n?n:0!==i?i:this._compare(f,p);else if((this._tabOrder===C.manual||this._tabOrder===C.none||this._tabOrder===C.structure)&&e instanceof tt&&t instanceof tt){var g=e.tabIndex,m=t.tabIndex;i=this._compare(g,m),r=0!==n?n:i}}}return r},e.prototype._getRectangle=function(e){var t=this;if(e.has("Rect")){var i=e.get("Rect");if(i)return i}else if(e.has("Kids")){var n=e.get("Kids");if(n){n.length>1&&n.sort((function(e,i){return t._compareKidsElement(e,i)}));var r=this._crossReference._fetch(n[0]);return this._getRectangle(r)}}return null},e.prototype._compare=function(e,t){return e>t?1:e<t?-1:0},e.prototype._compareKidsElement=function(e,t){var i=this._crossReference._fetch(e),n=this._crossReference._fetch(t),r=this._getRectangle(i),s=this._getRectangle(n);if(r&&r.length>=2&&s&&s.length>=2){var o=r[0],a=r[1],l=s[0],h=s[1];if("number"===typeof o&&"number"===typeof l&&"number"===typeof a&&"number"===typeof h){var c=0,u=void 0;return this._tabOrder===C.row?c=0!==(u=this._compare(h,a))?u:this._compare(o,l):this._tabOrder===C.column&&(c=0!==(u=this._compare(o,l))?u:this._compare(h,a)),c}}return null},e.prototype._clear=function(){this._fields=[],this._parsedFields=new Map},e}(),Qr=function(){function e(e){void 0===e&&(e=!1),this._position=0,this._bufferText="",this._buffer=new Uint8Array(0),this._namespaceStack=[],this._elementStack=[],e?(this._currentState="StartDocument",this._skipNamespace=!0):(this._currentState="Initial",this._namespaceStack.push(new qr),this._elementStack.push(new Gr),this._namespaceStack[0]._set("xmlns","http://www.w3.org/2000/xmlns/","Special"),this._namespaceStack.push(new qr),this._namespaceStack[1]._set("xml","http://www.w3.org/XML/1998/namespace","Special"),this._namespaceStack.push(new qr),this._namespaceStack[2]._set("","","Implied"),this._elementStack[0]._set("","","",this._namespaceStack.length-1)),this._attributeStack=[]}return Object.defineProperty(e.prototype,"buffer",{get:function(){return this._flush(),this._buffer},enumerable:!0,configurable:!0}),e.prototype._writeStartDocument=function(e){if("Initial"!==this._currentState||"undefined"===typeof this._buffer)throw new Error("InvalidOperationException: Wrong Token");this._currentState="StartDocument",this._rawText('<?xml version="1.0" encoding="utf-8'),"undefined"!==typeof e&&null!==e&&(this._rawText('" standalone="'),this._rawText(e?"yes":"no")),this._rawText('"?>')},e.prototype._writeStartElement=function(e,t,i){if("undefined"===typeof this._buffer)throw new Error("InvalidOperationException: Wrong Token");if("undefined"===typeof e||null===e||0===e.length)throw new Error("ArgumentException: localName cannot be undefined, null or empty");if(this._checkName(e),"Initial"===this._currentState&&this._writeStartDocument(),"StartElement"===this._currentState&&this._startElementContent(),this._currentState="StartElement","undefined"===typeof t||null===t)"undefined"!==typeof i&&null!==i&&(t=this._lookupPrefix(i)),"undefined"!==typeof t&&null!==t||(t="");else if(t.length>0&&("undefined"!==typeof i&&null!==i||(i=this._lookupNamespace(t)),"undefined"===typeof i||null===i||"undefined"!==typeof i&&0===i.length))throw new Error("ArgumentException: Cannot use a prefix with an empty namespace");"undefined"!==typeof i&&null!==i||(i=this._lookupNamespace(t)),this._writeStartElementInternal(t,e,i)},e.prototype._writeEndElement=function(){"StartElement"===this._currentState?(this._startElementContent(),this._currentState="ElementContent"):"ElementContent"===this._currentState&&(this._currentState="ElementContent"),this._currentState="EndElement";var e=this._elementStack.length-1;this._writeEndElementInternal(this._elementStack[Number.parseInt(e.toString(),10)]._prefix,this._elementStack[Number.parseInt(e.toString(),10)]._localName),this._namespaceStack.splice(this._elementStack[Number.parseInt(e.toString(),10)]._previousTop+1),this._elementStack.splice(e)},e.prototype._writeElementString=function(e,t,i,n){this._writeStartElement(e,i,n),"undefined"!==typeof t&&null!==t&&0!==t.length&&this._writeString(t),this._writeEndElement()},e.prototype._writeAttributeString=function(e,t,i,n){this._writeStartAttribute(e,t,i,n),this._writeStringInternal(t,!0),this._writeEndAttribute()},e.prototype._writeString=function(e){this._writeInternal(e,!1)},e.prototype._writeRaw=function(e){this._writeInternal(e,!0)},e.prototype._writeInternal=function(e,t){if(null!==e&&"undefined"!==typeof e){if("StartElement"!==this._currentState&&"ElementContent"!==this._currentState)throw new Error("InvalidOperationException: Wrong Token");"StartElement"===this._currentState&&this._startElementContent(),this._currentState="ElementContent",t?this._rawText(e):this._writeStringInternal(e,!1)}},e.prototype._save=function(){for(;this._elementStack.length-1>0;)this._writeEndElement();return""!==this._bufferText&&this._flush(),this._buffer},e.prototype._destroy=function(){this._buffer=void 0;for(var e=0;e<this._namespaceStack.length;e++)this._namespaceStack[Number.parseInt(e.toString(),10)]._destroy();this._namespaceStack=[];for(e=0;e<this._elementStack.length;e++)this._elementStack[Number.parseInt(e.toString(),10)]._destroy();this._elementStack=[],this._bufferText="",this._position=0},e.prototype._flush=function(){if(this._buffer&&this._bufferText&&""!==this._bufferText){if(this._buffer.length>0){for(var e=new Array(this._bufferText.length),t=0;t<this._bufferText.length;t++)e[Number.parseInt(t.toString(),10)]=255&this._bufferText.charCodeAt(t);var i=new Uint8Array(this._buffer.length+e.length);i.set(this._buffer),i.set(e,this._buffer.length),this._buffer=i}else this._buffer=gi(this._bufferText);this._bufferText=""}},e.prototype._writeStartAttribute=function(e,t,i,n){if("undefined"===typeof e||null===e||0===e.length){if("xmlns"!==i)throw new Error("ArgumentException: localName cannot be undefined, null or empty");e="xmlns",i=""}if("StartElement"!==this._currentState)throw new Error("InvalidOperationException: Wrong Token");this._checkName(e),this._writeStartAttributePrefixAndNameSpace(e,t,i,n)},e.prototype._writeStartAttributePrefixAndNameSpace=function(e,t,i,n){"undefined"!==typeof i&&null!==i||("undefined"!==typeof n&&null!==n&&("xmlns"===e&&"http://www.w3.org/2000/xmlns/"===n||(i=this._lookupPrefix(n))),"undefined"!==typeof i&&null!==i||(i="")),"undefined"!==typeof n&&null!==n||("undefined"!==typeof i&&null!==i&&i.length>0&&(n=this._lookupNamespace(i)),"undefined"!==typeof n&&null!==n||(n="")),this._writeStartAttributeSpecialAttribute(i,e,n,t)},e.prototype._writeStartAttributeSpecialAttribute=function(e,t,i,n){if(0===e.length){if("x"===t[0]&&"xmlns"===t)return this._skipPushAndWrite(e,t,i),void this._pushNamespaceExplicit("",n);i.length>0&&(e=this._lookupPrefix(i))}else{if("x"===e[0]){if("xmlns"===e)return this._skipPushAndWrite(e,t,i),void this._pushNamespaceExplicit(t,n);if("xml"===e&&("space"===t||"lang"===t))return void this._skipPushAndWrite(e,t,i)}0===i.length&&(e="")}"undefined"!==typeof e&&null!==e&&0!==e.length&&this._pushNamespaceImplicit(e,i),this._skipPushAndWrite(e,t,i)},e.prototype._writeEndAttribute=function(){this._currentState="StartElement",this._bufferText+='"'},e.prototype._writeStartElementInternal=function(e,t,i){this._bufferText+="<",e.length>0&&(this._rawText(e),this._bufferText+=":"),this._rawText(t);var n=this._elementStack.length;this._elementStack.push(new Gr),this._elementStack[Number.parseInt(n.toString(),10)]._set(e,t,i,this._namespaceStack.length-1),this._pushNamespaceImplicit(e,i);for(var r=0;r<this._attributeStack.length;r++)this._attributeStack[Number.parseInt(r.toString(),10)]._destroy();this._attributeStack=[]},e.prototype._writeEndElementInternal=function(e,t){this._position!==this._bufferText.length+1?(this._bufferText+="</","undefined"!==typeof e&&null!==e&&0!==e.length&&(this._rawText(e),this._bufferText+=":"),this._rawText(t),this._bufferText+=">"):(this._bufferText=this._bufferText.substring(0,this._bufferText.length-1),this._bufferText+=" />")},e.prototype._writeStartAttributeInternal=function(e,t){this._bufferText+=" ","undefined"!==typeof e&&null!==e&&e.length>0&&(this._rawText(e),this._bufferText+=":"),this._rawText(t),this._bufferText+='="'},e.prototype._writeNamespaceDeclaration=function(e,t){this._skipNamespace||(this._writeStartNamespaceDeclaration(e),this._writeStringInternal(t,!0),this._bufferText+='"')},e.prototype._writeStartNamespaceDeclaration=function(e){"undefined"===typeof e||null===e||0===e.length?this._rawText(' xmlns="'):(this._rawText(" xmlns:"),this._rawText(e),this._bufferText+="=",this._bufferText+='"')},e.prototype._writeStringInternal=function(e,t){"undefined"!==typeof e&&null!==e||(e=""),e=(e=(e=e.replace(/\&/g,"&amp;")).replace(/\</g,"&lt;")).replace(/\>/g,"&gt;"),t&&(e=e.replace(/\"/g,"&quot;")),this._bufferText+=e,t||(this._position=0)},e.prototype._startElementContent=function(){for(var e=this._elementStack[this._elementStack.length-1]._previousTop,t=this._namespaceStack.length-1;t>e;t--)"NeedToWrite"===this._namespaceStack[Number.parseInt(t.toString(),10)]._kind&&this._writeNamespaceDeclaration(this._namespaceStack[Number.parseInt(t.toString(),10)]._prefix,this._namespaceStack[Number.parseInt(t.toString(),10)]._namespaceUri);this._bufferText+=">",this._position=this._bufferText.length+1},e.prototype._rawText=function(e){this._bufferText+=e},e.prototype._addNamespace=function(e,t,i){var n=this._namespaceStack.length;this._namespaceStack.push(new qr),this._namespaceStack[Number.parseInt(n.toString(),10)]._set(e,t,i)},e.prototype._lookupPrefix=function(e){for(var t=this._namespaceStack.length-1;t>=0;t--)if(this._namespaceStack[Number.parseInt(t.toString(),10)]._namespaceUri===e)return this._namespaceStack[Number.parseInt(t.toString(),10)]._prefix},e.prototype._lookupNamespace=function(e){for(var t=this._namespaceStack.length-1;t>=0;t--)if(this._namespaceStack[Number.parseInt(t.toString(),10)]._prefix===e)return this._namespaceStack[Number.parseInt(t.toString(),10)]._namespaceUri},e.prototype._lookupNamespaceIndex=function(e){for(var t=this._namespaceStack.length-1;t>=0;t--)if(this._namespaceStack[Number.parseInt(t.toString(),10)]._prefix===e)return t;return-1},e.prototype._pushNamespaceImplicit=function(e,t){var i,n=this._lookupNamespaceIndex(e),r=!0;if(-1!==n)if(n>this._elementStack[this._elementStack.length-1]._previousTop){if(this._namespaceStack[Number.parseInt(n.toString(),10)]._namespaceUri!==t)throw new Error("XmlException namespace Uri needs to be the same as the one that is already declared");r=!1}else if("Special"===this._namespaceStack[Number.parseInt(n.toString(),10)]._kind){if("xml"!==e)throw new Error('InvalidArgumentException: Prefix "xmlns" is reserved for use by XML.');if(t!==this._namespaceStack[Number.parseInt(n.toString(),10)]._namespaceUri)throw new Error("InvalidArgumentException: Xml String");i="Implied"}else i=this._namespaceStack[Number.parseInt(n.toString(),10)]._namespaceUri===t?"Implied":"NeedToWrite";else{if("http://www.w3.org/XML/1998/namespace"===t&&"xml"!==e||"http://www.w3.org/2000/xmlns/"===t&&"xmlns"!==e)throw new Error("InvalidArgumentException");i="NeedToWrite"}r&&this._addNamespace(e,t,i)},e.prototype._pushNamespaceExplicit=function(e,t){var i=this._lookupNamespaceIndex(e);-1!==i&&i>this._elementStack[this._elementStack.length-1]._previousTop?this._namespaceStack[Number.parseInt(i.toString(),10)]._kind="Written":this._addNamespace(e,t,"Written")},e.prototype._addAttribute=function(e,t,i){var n=this._attributeStack.length;this._attributeStack.push(new Kr),this._attributeStack[Number.parseInt(n.toString(),10)]._set(e,t,i);for(var r=0;r<n;r++)if(this._attributeStack[Number.parseInt(r.toString(),10)]._isDuplicate(e,t,i))throw new Error("XmlException: duplicate attribute name")},e.prototype._skipPushAndWrite=function(e,t,i){this._addAttribute(e,t,i),this._writeStartAttributeInternal(e,t)},e.prototype._checkName=function(e){if(/[ !@#$%^&*()+\=\[\]{};':"\\|,<>\/?]/.test(e))throw new Error("InvalidArgumentException: invalid name character")},e}(),qr=function(){function e(){}return e.prototype._set=function(e,t,i){this._prefix=e,this._namespaceUri=t,this._kind=i},e.prototype._destroy=function(){this._prefix=void 0,this._namespaceUri=void 0,this._kind=void 0},e}(),Gr=function(){function e(){}return e.prototype._set=function(e,t,i,n){this._previousTop=n,this._prefix=e,this._namespaceUri=i,this._localName=t},e.prototype._destroy=function(){this._previousTop=void 0,this._prefix=void 0,this._localName=void 0,this._namespaceUri=void 0},e}(),Kr=function(){function e(){}return e.prototype._set=function(e,t,i){this._prefix=e,this._namespaceUri=i,this._localName=t},e.prototype._isDuplicate=function(e,t,i){return this._localName===t&&(this._prefix===e||this._namespaceUri===i)},e.prototype._destroy=function(){this._prefix=void 0,this._namespaceUri=void 0,this._localName=void 0},e}(),Xr=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jr=function(){function e(){this._asPerSpecification=!1,this._fileName="",this._formKey="",this._exportEmptyFields=!1,this._groupReferences=new Map,this._groupHolders=[],this._richTextPrefix='<?xml version="1.0"?>',this._table=new Map,this._fields=new Map,this._richTextValues=new Map,this._jsonData=[],this._openingBrace=123,this._openingBracket=91,this._closingBrace=125,this._closingBracket=93,this._colon=58,this._doubleQuotes=34,this._comma=44,this._space=32,this.fdfString="",this._xmlImport=!1}return e.prototype._exportFormFieldsData=function(e){var t="";if(null!==e&&"undefined"!==typeof e&&e.export){var i=Di(e._dictionary,"FT",!1,!0,"Parent");if(i&&null!==i.name&&"undefined"!==typeof i.name){var n=this._getEncodedFontDictionary(e._dictionary),r=e.name;null!==n&&"undefined"!==typeof n&&(r=this._getEncodedValue(r,n));var s=void 0,o=void 0;switch(i.name){case"Tx":null!==(t=Di(e._dictionary,"V",!1,!0,"Parent"))&&"undefined"!==typeof t?(t=this._getEncodedValue(t,n),this._table.set(r,t)):this._exportEmptyFields&&(t="",this._table.set(r,t));break;case"Ch":if(null!==(s=Di(e._dictionary,"V",!0,!0,"Parent"))&&"undefined"!==typeof s&&(o=this._getExportValue(s)),!s&&e._dictionary.has("I")&&(e instanceof lt||e instanceof at)&&(o=e._obtainSelectedValue()),null!==o&&"undefined"!==typeof o){if("string"===typeof o&&""!==o)t=o=this._getEncodedValue(o,n),this._table.set(r,t);else if(o instanceof Array&&o.length>0){for(var a=[],l=0;l<o.length;l++)a.push(this._getEncodedValue(o[Number.parseInt(l.toString(),10)],n));return this._table.set(r,a),a}}else this._exportEmptyFields&&(t="",this._table.set(r,t));break;case"Btn":if(null!==(s=Di(e._dictionary,"V",!1,!0,"Parent"))&&"undefined"!==typeof s){var h=this._getExportValue(s,e);if(null!==h&&"undefined"!==typeof h&&""!==h){var c=void 0;if(e instanceof st&&(c=e),!e._dictionary.has("Opt")||null!==c&&"undefined"!==typeof c&&-1===c.selectedIndex)t=h=this._getEncodedValue(h,n),this._table.set(r,t);else if(e._dictionary.has("Opt")){var u=e._dictionary.getArray("Opt"),p=Number.parseInt(h,10);if((null===p||"undefined"===typeof p||Number.isNaN(p))&&(p=0),null!==u&&"undefined"!==typeof u){var d=void 0;null!==(d=c?u[c.selectedIndex]:u[Number.parseInt(p.toString(),10)])&&"undefined"!==typeof d&&(h=d),null!==h&&"undefined"!==typeof h&&""!==h&&(t=h=this._getEncodedValue(h,n),this._table.set(r,t))}}}else(e instanceof st||e instanceof rt)&&(t=this._exportEmptyFields?h:"Off",this._table.set(r,t))}else if(e instanceof st)(t=e._getAppearanceStateValue())||(t=this._exportEmptyFields?"":"Off"),this._table.set(r,t);else{var f=e.itemAt(e._defaultIndex),g=void 0;(g=f?f._dictionary:e._dictionary)&&g.has("AS")?(t=g.get("AS").name,this._table.set(r,t)):this._exportEmptyFields&&(t="",this._table.set(r,t))}}}}return t},e.prototype._exportFormFieldData=function(e){var t=Di(e._dictionary,"FT",!1,!0,"Parent");if(t&&null!==t.name&&"undefined"!==typeof t.name){var i=this._getEncodedFontDictionary(e._dictionary),n=e.name;null!==i&&"undefined"!==typeof i&&(n=this._getEncodedValue(n,i));var r=void 0,s=void 0;switch(t.name){case"Tx":if(r=Di(e._dictionary,"V",!1,!0,"Parent"),this._asPerSpecification){if(e._dictionary.has("RV"))null!==(r=Di(e._dictionary,"RV",!1,!0,"Parent"))&&"undefined"!==typeof r&&(r+=this._key,this._formKey=this._key,this._table.set(n,r));else if(null!==r&&"undefined"!==typeof r){var o=r=this._getEncodedValue(r,i);e instanceof it&&e.multiLine&&(r=o=(o=o.replace("\n","")).replace("\r","\r\n")),this._table.set(n,r)}}else null!==r&&"undefined"!==typeof r?(r=this._getEncodedValue(r,i),this._table.set(n,r)):this._exportEmptyFields&&this._table.set(n,"");break;case"Ch":if(s=Di(e._dictionary,"V",!0,!0,"Parent"),this._asPerSpecification){if(e instanceof ot)if(Array.isArray(s))this._table.set(n,s);else if("string"===typeof s)s=this._getEncodedValue(s,i),this._table.set(n,s);else if((null===s||"undefined"===typeof s)&&e._dictionary.has("I")){if(null!==(h=e._obtainSelectedValue())&&"undefined"!==typeof h)if("string"===typeof h&&""!==h)h=this._getEncodedValue(h,i),this._table.set(n,r);else if(h instanceof Array&&h.length>0){for(var a=[],l=0;l<h.length;l++)a.push(this._getEncodedValue(h[Number.parseInt(l.toString(),10)],i));this._table.set(n,a)}}}else{var h=void 0;if(null!==s&&"undefined"!==typeof s&&(h=this._getExportValue(s)),!s&&e._dictionary.has("I")&&(e instanceof lt||e instanceof at)&&(h=e._obtainSelectedValue()),null!==h&&"undefined"!==typeof h)if("string"===typeof h&&""!==h)h=this._getEncodedValue(h,i),this._table.set(n,h);else if(h instanceof Array&&h.length>0){for(a=[],l=0;l<h.length;l++)a.push(this._getEncodedValue(h[Number.parseInt(l.toString(),10)],i));this._table.set(n,a)}else this._exportEmptyFields&&this._table.set(n,"");else this._exportEmptyFields&&this._table.set(n,"")}break;case"Btn":if(null!==(s=Di(e._dictionary,"V",!1,!0,"Parent"))&&"undefined"!==typeof s)if(null!==(f=this._getExportValue(s,e))&&"undefined"!==typeof f&&""!==f){this._asPerSpecification&&"XML"!==this._format&&(f=Ii(f));var c=void 0;if(e instanceof st&&(c=e),!e._dictionary.has("Opt")||null!==c&&"undefined"!==typeof c&&-1===c.selectedIndex)f=this._getEncodedValue(f,i),this._table.set(n,f);else if(e._dictionary.has("Opt")){var u=e._dictionary.getArray("Opt"),p=Number.parseInt(f,10);if((null===p||"undefined"===typeof p||Number.isNaN(p))&&(p=0),null!==u&&"undefined"!==typeof u){var d=void 0;null!==(d=c?u[c.selectedIndex]:u[Number.parseInt(p.toString(),10)])&&"undefined"!==typeof d&&(f=d),null!==f&&"undefined"!==typeof f&&""!==f&&(f=this._getEncodedValue(f,i),this._table.set(n,f))}}}else(e instanceof st||e instanceof rt)&&(this._exportEmptyFields?this._table.set(n,f):this._table.set(n,"Off"));else if(e instanceof st){var f;(f=e._getAppearanceStateValue())||(f=this._exportEmptyFields?"":"Off"),this._table.set(n,f)}else{var g=e.itemAt(e._defaultIndex),m=void 0;(m=g?g._dictionary:e._dictionary)&&m.has("AS")?this._table.set(n,m.get("AS").name):this._exportEmptyFields&&this._table.set(n,"")}}}},e.prototype._getAnnotationType=function(e){var t="";if(e.has("Subtype")){var i=e.get("Subtype");i&&(t=i.name)}return t},e.prototype._getValue=function(e,t){void 0===t&&(t=!1);var i="";if("undefined"!==typeof e&&null!==e)if(e instanceof Fn)i=e.name;else if("boolean"===typeof e)i=e?t?"true":"yes":t?"false":"no";else if("string"===typeof e)i=this._getValidString(e);else if(Array.isArray(e)){var n=e;n.length>0&&(i=this._getValue(n[0],t));for(var r=1;r<n.length;r++)i+=","+this._getValue(n[Number.parseInt(r.toString(),10)],t)}else"number"===typeof e&&(i=e.toString());return i},e.prototype._getColor=function(e){var t="";if(e&&Array.isArray(e)&&e.length>=3){var i=Math.round(255*e[0]).toString(16).toUpperCase(),n=Math.round(255*e[1]).toString(16).toUpperCase(),r=Math.round(255*e[2]).toString(16).toUpperCase();t="#"+(1===i.length?"0"+i:i)+(1===n.length?"0"+n:n)+(1===r.length?"0"+r:r)}return t},e.prototype._getValidString=function(e){return-1!==e.indexOf("\n")&&(e=e.replace(/\n/g,"\\n")),-1!==e.indexOf("\r")&&(e=e.replace(/\r/g,"\\r")),e},e.prototype._getEncodedFontDictionary=function(e){var t,i;if(e.has("Kids")&&!e.has("AP")&&(i=e.getArray("Kids")),e.has("AP")||null!==i&&"undefined"!==typeof i&&Array.isArray(i)){var n=void 0;if(null!==i&&"undefined"!==typeof i&&i.length>0){var r=i[0];null!==r&&"undefined"!==typeof r&&r.has("AP")&&(n=r.get("AP"))}else n=e.get("AP");if(null!==n&&"undefined"!==typeof n&&n.has("N")){var s=n.get("N");if(null!==s&&"undefined"!==typeof s&&s instanceof Jn&&s.dictionary.has("Resources")){var o=s.dictionary.get("Resources");null!==o&&"undefined"!==typeof o&&o.has("Font")&&(t=o.get("Font"))}}}return t},e.prototype._getEncodedValue=function(e,t){var i,n=this,r=e;if(null!==this._encodeDictionary&&"undefined"!==typeof this._encodeDictionary)return i=new $r(this._encodeDictionary),this._replaceNotUsedCharacters(r,i);var s=this._document.form._dictionary;if(null!==s&&"undefined"!==typeof s&&s.has("DR")){var o=s.get("DR");if(null!==o&&"undefined"!==typeof o&&o.has("Encoding")){var a=o.get("Encoding");if(null!==a&&"undefined"!==typeof a&&a.has("PDFDocEncoding")){var l=a.get("PDFDocEncoding");if(null!==l&&"undefined"!==typeof l&&l.has("Differences")){var h=new Yn(this._crossReference);h.set("Differences",l.get("Differences"));var c=this._crossReference._getNextReference();this._crossReference._cacheMap.set(c,h);var u=new Yn(this._crossReference);if(u.set("Subtype",Fn.get("Type1")),u.set("Encoding",c),null!==(i=new $r(u))&&"undefined"!==typeof i&&null!==i.differencesDictionary&&"undefined"!==typeof i.differencesDictionary&&i.differencesDictionary.size>0)return this._encodeDictionary=u,this._replaceNotUsedCharacters(r,i)}}}}if(null!==e&&"undefined"!==typeof e&&null!==t&&"undefined"!==typeof t&&t.size>0){var p,d=!1;if(t.forEach((function(e,t){if(!d&&null!==t&&"undefined"!==typeof t){var s=void 0;if(t instanceof Yn)s=t;else if(t instanceof Vn){var o=n._crossReference._fetch(t);null!==o&&"undefined"!==typeof o&&o instanceof Yn&&(s=o)}s&&(i=new $r(s),p=n._replaceNotUsedCharacters(r,i),d=!0)}})),!d)return p}return r},e.prototype._replaceNotUsedCharacters=function(e,t){for(var i="",n=t.differencesDictionary,r=0;r<e.length;r++){var s=e[Number.parseInt(r.toString(),10)],o=e.charCodeAt(r);if(n.has(s)){var a=n.get(s);a.length>1&&"Type3"!==t._fontType||o>127&&o<=255&&"Type1"===t._fontType&&"WinAnsiEncoding"!==t._baseFontEncoding&&"Encoding"===t._fontEncoding&&"ZapfDingbats"===t._fontName?i+=s:i+=a}else i+=s}return i},e.prototype._getExportValue=function(e,t){var i;if(null!==e&&"undefined"!==typeof e)if(null!==t&&"undefined"!==typeof t){if(e instanceof Fn?i=e.name:"string"===typeof e&&(i=e),null!==i&&"undefined"!==typeof i&&""!==i&&t instanceof st&&-1!==t.selectedIndex){var n=t.itemAt(t.selectedIndex);null!==n&&"undefined"!==typeof n&&n.value===i&&(i=n.value)}}else if(e instanceof Fn)i=e.name;else if("string"===typeof e)i=e;else if(Array.isArray(e)){for(var r=[],s=0;s<e.length;s++){var o=e[Number.parseInt(s.toString(),10)];o instanceof Fn?r.push(o.name):"string"===typeof o&&r.push(o)}return r}return i},e.prototype._addReferenceToGroup=function(e,t){var i=t.get("NM");i&&""!==i?(this._groupReferences.set(i,e),t.has("IRT")&&this._groupHolders.push(t)):!i&&t.has("IRT")&&(i=t.get("IRT"))&&""!==i&&this._groupReferences.has(i)&&t.update("IRT",this._groupReferences.get(i))},e.prototype._handlePopup=function(e,t,i,n){if(i.has("Popup")){var r=i.getRaw("Popup"),s=i.get("Popup");if(s instanceof Yn){r&&s&&s.update("Parent",t);var o=e._parseAnnotation(s),a=e._annotations.length;e._annotations.push(t),n.set("Annots",e._annotations),n._updated=!0,e._parsedAnnotations.set(a,o)}}},e.prototype._importField=function(){var e=this,t=this._document.form,i=t.count;i&&this._fields.forEach((function(n,r){var s;e._richTextValues.size>0&&e._richTextValues.has(r)&&(s=e._richTextValues.get(r));var o=t._getFieldIndex(r);if(-1!==o&&o<i){var a=t.fieldAt(o);a&&null!==a&&"undefined"!==typeof a&&(s&&""!==s&&a._dictionary.update("RV",s),e._importFieldData(a,n))}}))},e.prototype._importFieldData=function(e,t){if(null!==t&&"undefined"!==typeof t&&t.length>0&&null!==e&&"undefined"!==typeof e&&!e.readOnly){var i=t[0];if(e instanceof it)null!==i&&"undefined"!==typeof i&&(e instanceof it&&e.multiLine&&(i=(i=i.replace("\r\n","\r")).replace("\n","\r")),e.text=i);else if(e instanceof lt||e instanceof at){var n;n=t.length>1?t:this._xmlImport?-1!==i.indexOf(",")?i.split(","):[i]:[-1!==i.indexOf(",")?i.split(",")[0]:i];var r=[],s=e._options;s&&s.length>0&&s.forEach((function(e){-1===n.indexOf(e[0])&&-1===n.indexOf(e[1])||r.push(s.indexOf(e))})),r.length>0&&(e.selectedIndex=r,e instanceof at&&this._asPerSpecification&&e._dictionary.has("AP")&&(delete e._dictionary._map.AP,e._dictionary._updated=!0))}else if(e instanceof rt){var o=i.toLowerCase();this._containsExportValue(i,e)||"on"===o||"yes"===o?e.checked=!0:e.checked=!1}else if(e instanceof st){for(var a=-1,l=0;l<e._kidsCount;l++){var h=e.itemAt(l);if(h&&h.value&&h.value===i){a=l;break}}-1!==a&&e.selectedIndex!==a&&(e.selectedIndex=a)}}},e.prototype._containsExportValue=function(e,t){var i=!1;if(t._kidsCount>0)for(var n=0;n<t._kidsCount;n++){var r=t.itemAt(n);if(r&&this._checkSelected(r._dictionary,e))return!0}else if(!(i=this._checkSelected(t._dictionary,e))&&this._asPerSpecification&&t._dictionary.has("AS")){var s=t._dictionary.get("AS");if(!s||"Off"!==s.name&&"No"!==s.name)i=!0;else if(t._dictionary.has("Opt")){var o=t._dictionary.getArray("Opt");o&&o.length>0&&o.forEach((function(t){t===e&&(i=!0)}))}}return i},e.prototype._checkSelected=function(e,t){if(e&&e.has("AP")){var i=e.get("AP");if(i&&i instanceof Yn&&i.has("N")){var n=i.get("N");if(n&&n instanceof Yn&&n.has(t)&&"off"!==t.toLocaleLowerCase()&&"no"!==t.toLocaleLowerCase())return!0}}return!1},e.prototype._dispose=function(){this.exportAppearance=void 0,this._asPerSpecification=void 0,this._skipBorderStyle=void 0,this._fileName=void 0,this._document=void 0,this._crossReference=void 0,this._isAnnotationExport=void 0,this._isAnnotationImport=void 0,this._key=void 0,this._formKey=void 0,this._exportEmptyFields=void 0,this._groupReferences=void 0,this._groupHolders=void 0,this._encodeDictionary=void 0,this._annotationTypes=void 0,this._annotationAttributes=void 0,this._xmlDocument=void 0,this._parser=void 0,this._table=void 0,this._fields=void 0,this._richTextValues=void 0,this._jsonData=void 0},e}(),Zr=function(e){function t(t){var i=e.call(this)||this;return null!==t&&"undefined"!==typeof t&&(i._fileName=t),i}return Xr(t,e),t.prototype._exportAnnotations=function(e){return this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!0,this._save()},t.prototype._exportFormFields=function(e){return this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1,this._key=Qi(),this._save()},t.prototype._save=function(){var e=new Qr;if(e._writeStartDocument(),e._writeStartElement("xfdf"),e._writeAttributeString(null,"http://ns.adobe.com/xfdf/","xmlns",null),e._writeAttributeString("space","preserve","xml",null),this._isAnnotationExport){if(e._writeStartElement("annots"),this._document)for(var t=0;t<this._document.pageCount;t++)for(var i=this._document.getPage(t).annotations,n=0;n<i.count;n++){var r=i.at(n);r&&(!this._annotationTypes||0===this._annotationTypes.length||this._annotationTypes&&this._annotationTypes.length>0&&this._checkAnnotationType(r))&&this._exportAnnotationData(r,e,t)}e._writeEndElement()}else{var s=this._document.form;if(null!==s&&"undefined"!==typeof s){this._exportEmptyFields=s.exportEmptyFields;var o=this._document.form.count;for(t=0;t<o;t++){var a=this._document.form.fieldAt(t);null!==a&&"undefined"!==typeof a&&a.export&&this._exportFormFieldData(a)}this._writeFormFieldData(e,this._asPerSpecification)}}this._asPerSpecification||(e._writeStartElement("f"),e._writeAttributeString("href",this._fileName));var l=e._save();return e._destroy(),l},t.prototype._writeFormFieldData=function(e,t){var i=this;if(void 0===t&&(t=!1),t){e._writeStartElement("f"),e._writeAttributeString("href",this._fileName),e._writeEndElement();var n=this._getElements(this._table);if(n&&n.size>0){e._writeStartElement("fields");var r=!1;n.forEach((function(t,n){if(e._writeStartElement("field"),e._writeAttributeString("name",n.toString()),Array.isArray(t)&&t.forEach((function(t){e._writeStartElement("value"),e._writeString(t.toString()),e._writeEndElement(),r=!0})),t instanceof Map)i._writeFieldName(t,e);else if(!r&&!t.toString().endsWith(i._formKey)||!r&&""===i._formKey)e._writeStartElement("value"),e._writeString(t.toString()),e._writeEndElement();else if(""!==i._formKey&&t.toString().endsWith(i._formKey)){e._writeStartElement("value-richtext");var s=t.toString();s.startsWith('<?xml version="1.0"?>')&&(s=s.substring(21));var o=s.length-i._formKey.length;s=s.substring(0,o)+s.substring(o+i._formKey.length),e._writeRaw(s),e._writeEndElement()}e._writeEndElement(),r=!1})),e._writeEndElement()}e._writeStartElement("ids");var s=!1;if(this._crossReference._root.has("ID")){var o=this._crossReference._root.getArray("ID");o&&o.length>=1&&(e._writeAttributeString("original",o[0]),e._writeAttributeString("modified",o[1]),s=!0)}s||(e._writeAttributeString("original",""),e._writeAttributeString("modified","")),e._writeEndElement()}else e._writeStartElement("fields"),this._table.forEach((function(t,i){e._writeStartElement("field"),e._writeAttributeString("name",i.toString()),Array.isArray(t)?t.forEach((function(t){e._writeStartElement("value"),e._writeString(t.toString()),e._writeEndElement()})):(e._writeStartElement("value"),e._writeString(t.toString()),e._writeEndElement()),e._writeEndElement()})),e._writeEndElement()},t.prototype._writeFieldName=function(e,t){var i=this;e.forEach((function(e,n){if(e instanceof Map)t._writeStartElement("field"),t._writeAttributeString("name",n.toString()),i._writeFieldName(e,t),t._writeEndElement();else{if(t._writeStartElement("field"),t._writeAttributeString("name",n.toString()),Array.isArray(e))e.forEach((function(e){t._writeStartElement("value"),t._writeString(e.toString()),t._writeEndElement()}));else{if(e.toString().endsWith(i._formKey)&&""!==i._formKey){t._writeStartElement("value-richtext");var r=e.toString();r.startsWith('<?xml version="1.0"?>')&&(r=r.substring(21));var s=r.length-i._formKey.length;r=r.substring(0,s)+r.substring(s+i._formKey.length),t._writeRaw(r)}else t._writeStartElement("value"),t._writeString(e.toString());t._writeEndElement()}t._writeEndElement()}}))},t.prototype._getElements=function(e){var t=this,i=new Map;return e.forEach((function(e,n){var r=i;if(-1!==n.toString().indexOf("."))for(var s=n.toString().split("."),o=0;o<s.length;o++){var a=s[Number.parseInt(o.toString(),10)];if(r.has(a))t._getElements(r[a]),r=r[a];else if(o===s.length-1)r.set(a,e);else{var l=new Map;r.set(a,l),r=l}}else r.set(n,e)})),i},t.prototype._checkAnnotationType=function(e){return"undefined"!==typeof e._type&&-1!==this._annotationTypes.indexOf(e._type)},t.prototype._exportAnnotationData=function(e,t,i){e._dictionary&&!(e instanceof Nt||e instanceof Dt||e instanceof xt||e instanceof Ct)&&this._writeAnnotationData(t,i,e)},t.prototype._writeAnnotationData=function(e,t,i){var n,r,s=!1;i instanceof dt?(n=i,r=i._dictionary):r=i;var o=this._getAnnotationType(r);if(this._skipBorderStyle=!1,o&&""!==o){this._annotationAttributes||(this._annotationAttributes=[]),e._writeStartElement(o.toLowerCase()),e._writeAttributeString("page",t.toString());var a=void 0;switch(o){case"Line":a=n.linePoints,e._writeAttributeString("start",a[0].toString()+","+a[1].toString()),e._writeAttributeString("end",a[2].toString()+","+a[3].toString());break;case"Stamp":case"Square":s=!0}if(r&&r.has("BE")&&r.has("BS")){var l=r.get("BE");l&&l.has("S")&&(this._skipBorderStyle=!0)}this._writeDictionary(r,t,e,s),e._writeEndElement(),this._annotationAttributes=[]}},t.prototype._writeDictionary=function(e,t,i,n){var r=this,s=!1;if(e.has("Type")){var o=e.get("Type");s=o&&"Border"===o.name&&this._skipBorderStyle}if(e.forEach((function(o,a){if((n||"AP"!==o)&&"P"!==o&&"Parent"!==o){var l=void 0;if(a instanceof Vn&&(l=e.get(o)),l&&l instanceof Yn)switch(o){case"BS":case"BE":r._writeDictionary(l,t,i,!1);break;case"IRT":l.has("NM")&&i._writeAttributeString("inreplyto",r._getValue(l.get("NM")))}else a instanceof Yn?r._writeDictionary(a,t,i,!1):(!s||s&&"S"!==o)&&r._writeAttribute(i,o,a)}})),(this.exportAppearance||n)&&e.has("AP")){var a=this._getAppearanceString(e.get("AP"));a&&a.length>0&&(i._writeStartElement("appearance"),i._writeRaw(xi(a)),i._writeEndElement())}if(e.has("Measure")&&this._exportMeasureDictionary(e.get("Measure"),i),e.has("Sound")){var l=e.get("Sound");if(l&&l.dictionary){var h=l.dictionary;if(h.has("B")&&i._writeAttributeString("bits",this._getValue(h.get("B"))),h.has("C")&&i._writeAttributeString("channels",this._getValue(h.get("C"))),h.has("E")&&i._writeAttributeString("encoding",this._getValue(h.get("E"))),h.has("R")&&i._writeAttributeString("rate",this._getValue(h.get("R"))),h.has("Length")&&h.get("Length")>0)(d=wi(l.getBytes()))&&""!==d&&(i._writeStartElement("data"),i._writeAttributeString("MODE","raw"),i._writeAttributeString("encoding","hex"),h.has("Length")&&i._writeAttributeString("length",this._getValue(h.get("Length"))),h.has("Filter")&&i._writeAttributeString("filter",this._getValue(h.get("Filter"))),i._writeRaw(d),i._writeEndElement())}}else if(e.has("FS")){var c=e.get("FS");if(c&&(c.has("F")&&i._writeAttributeString("file",this._getValue(c.get("F"))),c.has("EF"))){var u=c.get("EF");if(u&&u.has("F")){var p=u.get("F");if(p&&p.dictionary){var d,f=p.dictionary;if(f.has("Params")){var g=f.get("Params");if(g){if(g.has("CreationDate")){var m=this._getValue(g.get("CreationDate"));i._writeAttributeString("creation",m)}if(g.has("ModificationDate")){var m=this._getValue(g.get("ModificationDate"));i._writeAttributeString("modification",m)}if(g.has("Size")&&i._writeAttributeString("size",this._getValue(g.get("Size"))),g.has("CheckSum")){var y=wi(gi(m=this._getValue(g.get("CheckSum"))));i._writeAttributeString("checksum",y)}}}(d=wi(p.getBytes()))&&""!==d&&(i._writeStartElement("data"),i._writeAttributeString("MODE","raw"),i._writeAttributeString("encoding","hex"),f.has("Length")&&i._writeAttributeString("length",this._getValue(f.get("Length"))),f.has("Filter")&&i._writeAttributeString("filter",this._getValue(f.get("Filter"))),i._writeRaw(d),i._writeEndElement())}}}}if(e.has("Vertices")){i._writeStartElement("vertices");var v=e.getArray("Vertices");if(v&&v.length>0){var b=v.length;if(b%2===0){for(var m="",M=0;M<b-1;M++)m+=this._getValue(v[Number.parseInt(M.toString(),10)])+(M%2!==0?";":",");(m+=this._getValue(v[b-1]))&&""!==m&&i._writeRaw(m)}}i._writeEndElement()}if(e.has("Popup")){var S=e.get("Popup");S&&this._writeAnnotationData(i,t,S)}if(e.has("DA")){var w=e.get("DA");w&&this._writeRawData(i,"defaultappearance",w)}if(e.has("DS")){var _=e.get("DS");_&&this._writeRawData(i,"defaultstyle",_)}if(e.has("InkList")){var I=e.getArray("InkList");if(I&&I.length>0){i._writeStartElement("inklist");for(var N=0;N<I.length;N++)i._writeElementString("gesture",this._getValue(I[Number.parseInt(N.toString(),10)]));i._writeEndElement()}}if(e.has("RC")&&((m=e.get("RC"))&&""!==m)){var C=m.indexOf("<body");C>0&&(m=m.substring(C)),this._writeRawData(i,"contents-richtext",m)}e.has("Contents")&&((m=e.get("Contents"))&&m.length>0&&(i._writeStartElement("contents"),i._writeString(m),i._writeEndElement()))},t.prototype._getAppearanceString=function(e){var t=new Qr(!0);t._writeStartElement("DICT"),t._writeAttributeString("KEY","AP"),this._writeAppearanceDictionary(t,e),t._writeEndElement();var i=t.buffer;return t._destroy(),i},t.prototype._writeAppearanceDictionary=function(e,t){var i=this;t&&t.size>0&&t.forEach((function(n,r){i._writeObject(e,r instanceof Vn?t.get(n):r,t,n)}))},t.prototype._writeObject=function(e,t,i,n){if(null!==t&&"undefined"!==typeof t)if(t instanceof Fn)this._writePrefix(e,"NAME",n),e._writeAttributeString("VAL",t.name),e._writeEndElement();else if(Array.isArray(t))this._writePrefix(e,"ARRAY",n),this._writeArray(e,i.getArray(n),i),e._writeEndElement();else if("string"===typeof t)this._writePrefix(e,"STRING",n),e._writeAttributeString("VAL",t),e._writeEndElement();else if("number"===typeof t)Number.isInteger(t)?(this._writePrefix(e,"INT",n),e._writeAttributeString("VAL",t.toString())):(this._writePrefix(e,"FIXED",n),e._writeAttributeString("VAL",t.toFixed(6))),e._writeEndElement();else if("boolean"===typeof t)this._writePrefix(e,"BOOL",n),e._writeAttributeString("VAL",t?"true":"false"),e._writeEndElement();else if(t instanceof Yn)this._writePrefix(e,"DICT",n),this._writeAppearanceDictionary(e,t),e._writeEndElement();else if(null===t)this._writePrefix(e,"NULL",n),e._writeEndElement();else if(t instanceof Jn&&t.dictionary){var r=t.dictionary;this._writePrefix(e,"STREAM",n),e._writeAttributeString("DEFINE",""),this._writeAppearanceDictionary(e,r),e._writeStartElement("DATA");var s=r.get("Length");if(s>0&&r.has("Subtype")&&"Image"===this._getValue(r.get("Subtype"))||!r.has("Type")&&!r.has("Subtype"))e._writeAttributeString("MODE","RAW"),e._writeAttributeString("ENCODING","HEX"),(o=t.getString())&&""!==o&&e._writeRaw(o);else if(s>0){var o;e._writeAttributeString("MODE","FILTERED"),e._writeAttributeString("ENCODING","ASCII"),(o=t.getString())&&""!==o&&e._writeRaw(o)}e._writeEndElement(),e._writeEndElement()}else t instanceof Vn&&this._crossReference&&this._writeObject(e,this._crossReference._fetch(t),i,n)},t.prototype._writePrefix=function(e,t,i){e._writeStartElement(t),i&&e._writeAttributeString("KEY",i)},t.prototype._writeArray=function(e,t,i){var n=this;t.forEach((function(t){n._writeObject(e,t,i)}))},t.prototype._getFormatedString=function(e,t){return void 0===t&&(t=!1),e=t?(e=(e=e.replace("&amp;","&")).replace("&lt;","<")).replace("&gt;",">"):(e=(e=e.replace("&","&amp;")).replace("<","&lt;")).replace(">","&gt;")},t.prototype._writeAttribute=function(e,t,i){if(this._annotationAttributes&&-1===this._annotationAttributes.indexOf(t))switch(t){case"C":this._writeColor(e,i,"color","c");break;case"IC":this._writeColor(e,i,"interior-color");break;case"M":this._writeAttributeString(e,"date",i);break;case"NM":this._writeAttributeString(e,"name",i);break;case"Name":this._writeAttributeString(e,"icon",i);break;case"Subj":this._writeAttributeString(e,"subject",i);break;case"T":this._writeAttributeString(e,"title",i);break;case"Rotate":this._writeAttributeString(e,"rotation",i);break;case"W":this._writeAttributeString(e,"width",i);break;case"LE":i&&Array.isArray(i)?2===i.length&&(e._writeAttributeString("head",this._getValue(i[0])),e._writeAttributeString("tail",this._getValue(i[1]))):i instanceof Fn&&this._writeAttributeString(e,"head",i);break;case"S":if(-1===this._annotationAttributes.indexOf("style")){switch(this._getValue(i)){case"D":e._writeAttributeString("style","dash");break;case"C":e._writeAttributeString("style","cloudy");break;case"S":e._writeAttributeString("style","solid");break;case"B":e._writeAttributeString("style","bevelled");break;case"I":e._writeAttributeString("style","inset");break;case"U":e._writeAttributeString("style","underline")}this._annotationAttributes.push("style")}break;case"D":this._writeAttributeString(e,"dashes",i);break;case"I":this._writeAttributeString(e,"intensity",i);break;case"RD":this._writeAttributeString(e,"fringe",i);break;case"IT":this._writeAttributeString(e,"IT",i);break;case"RT":this._writeAttributeString(e,"replyType",i,!0);break;case"LL":this._writeAttributeString(e,"leaderLength",i);break;case"LLE":this._writeAttributeString(e,"leaderExtend",i);break;case"Cap":this._writeAttributeString(e,"caption",i);break;case"Q":this._writeAttributeString(e,"justification",i);break;case"CP":this._writeAttributeString(e,"caption-style",i);break;case"CL":this._writeAttributeString(e,"callout",i);break;case"QuadPoints":this._writeAttributeString(e,"coords",i);break;case"CA":this._writeAttributeString(e,"opacity",i);break;case"F":if("number"===typeof i&&-1===this._annotationAttributes.indexOf("flags")){var n=pi(i);e._writeAttributeString("flags",n),this._annotationAttributes.push("flags")}break;case"InkList":case"Type":case"Subtype":case"P":case"Parent":case"L":case"Contents":case"RC":case"DA":case"DS":case"FS":case"MeasurementTypes":case"Vertices":case"GroupNesting":case"ITEx":case"TextMarkupContent":break;default:this._writeAttributeString(e,t.toLowerCase(),i)}},t.prototype._writeAttributeString=function(e,t,i,n){if(void 0===n&&(n=!1),-1===this._annotationAttributes.indexOf(t)){var r=this._getValue(i);e._writeAttributeString(t,n?r.toLowerCase():r),this._annotationAttributes.push(t)}},t.prototype._writeRawData=function(e,t,i){i&&""!==i&&(e._writeStartElement(t),e._writeRaw(i),e._writeEndElement())},t.prototype._writeColor=function(e,t,i,n){var r=this._getColor(t);if("number"===typeof t&&n){var s=this._getValue(t);s&&""!==s&&-1===this._annotationAttributes.indexOf(n)&&(e._writeAttributeString(n,s),this._annotationAttributes.push(n))}r&&""!==r&&-1===this._annotationAttributes.indexOf(i)&&(e._writeAttributeString(i,r),this._annotationAttributes.push(i))},t.prototype._exportMeasureDictionary=function(e,t){if(t._writeStartElement("measure"),e){if(e.has("R")&&t._writeAttributeString("rateValue",this._getValue(e.get("R"))),e.has("A")){var i=e.getArray("A");t._writeStartElement("area"),this._exportMeasureFormatDetails(i[0],t),t._writeEndElement()}if(e.has("D")){i=e.getArray("D");t._writeStartElement("distance"),this._exportMeasureFormatDetails(i[0],t),t._writeEndElement()}if(e.has("X")){i=e.getArray("X");t._writeStartElement("xformat"),this._exportMeasureFormatDetails(i[0],t),t._writeEndElement()}}t._writeEndElement()},t.prototype._exportMeasureFormatDetails=function(e,t){e.has("C")&&t._writeAttributeString("c",this._getValue(e.get("C"))),e.has("F")&&t._writeAttributeString("f",this._getValue(e.get("F"))),e.has("D")&&t._writeAttributeString("d",this._getValue(e.get("D"))),e.has("RD")&&t._writeAttributeString("rd",this._getValue(e.get("RD"))),e.has("U")&&t._writeAttributeString("u",this._getValue(e.get("U"))),e.has("RT")&&t._writeAttributeString("rt",this._getValue(e.get("RT"))),e.has("SS")&&t._writeAttributeString("ss",this._getValue(e.get("SS"))),e.has("FD")&&t._writeAttributeString("fd",this._getValue(e.get("FD")))},t.prototype._importAnnotations=function(e,t){this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1;var i=Mi(t);this._xmlDocument=(new DOMParser).parseFromString(i,"text/xml"),this._isAnnotationImport=!0,this._readXmlData(this._xmlDocument.documentElement)},t.prototype._importFormData=function(e,t){this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1,this._xmlDocument=(new DOMParser).parseFromString(Mi(t),"text/xml"),this._readXmlData(this._xmlDocument.documentElement)},t.prototype._readXmlData=function(e){if(e&&1===e.nodeType)if(this._checkXfdf(e),this._isAnnotationImport){var t=e.getElementsByTagName("annots");if(t&&t.length>0)for(var i=0;i<t.length;i++){var n=t.item(i);if(n&&"annots"===n.localName&&n.hasChildNodes())for(var r=n.childNodes,s=0;s<r.length;s++){var o=r.item(s);if(o&&1===o.nodeType){var a=o;a&&1===a.nodeType&&this._parseAnnotationData(a)}}}if(this._groupHolders.length>0)for(i=0;i<this._groupHolders.length;i++){var l=this._groupHolders[Number.parseInt(i.toString(),10)],h=l.get("IRT");h&&""!==h&&(this._groupReferences.has(h)?l.update("IRT",this._groupReferences.get(h)):delete l._map.IRT)}this._groupHolders=[],this._groupReferences=new Map}else this._parseFormData(e);this._dispose()},t.prototype._checkXfdf=function(e){if("xfdf"!==e.nodeName)throw new Error("Invalid XFDF file.")},t.prototype._parseFormData=function(e){var t=e.getElementsByTagName("f");if(t&&t.length>0){var i=t.item(0);if(i&&"f"===i.localName&&i.hasAttribute("href")){var n=i.getAttribute("href");n&&""!==n&&(this._fileName=n)}}(t=e.getElementsByTagName("ids"))&&t.length>0&&(this._asPerSpecification=!0);var r=e.childNodes;if(r&&r.length>0)for(var s=0;s<r.length;s++){var o=r.item(s);if(o&&1===o.nodeType){var a=o;if(a&&"fields"===a.localName&&a.hasChildNodes()){for(var l=a.childNodes,h=[],c=0;c<l.length;c++){var u=l.item(c);if(u&&1===u.nodeType){var p=u;p&&"field"===p.localName&&h.push(p)}}this._importFormNodes(h)}}}this._importField()},t.prototype._importFormNodes=function(e){for(var t=0;t<e.length;t++){var i=e[Number.parseInt(t.toString(),10)],n="";if(i&&(i.hasAttribute("name")&&(n=i.getAttribute("name")),n&&""!==n)){var r=i.getElementsByTagName("value");if(r&&r.length>0){for(var s=i,o="";"fields"!==s.localName;){o.length>0&&(o="."+o);var a=!1;if(s.hasAttribute("name")){var l=s.getAttribute("name");l&&""!==l&&(o=l+o,a=!0)}a||(o+=s.localName),s=s.parentElement}n=o;var h=void 0;h=this._fields.has(n)?this._fields.get(n):[];for(var c=0;c<r.length;c++)h.push(r.item(c).textContent);this._fields.set(n,h)}else if((r=i.getElementsByTagName("value-richtext"))&&r.length>0){var u=r.item(0);if(u){for(s=i,o="";"fields"!==s.localName;){o.length>0&&(o="."+o);a=!1;if(s.hasAttribute("name")){var p=s.getAttribute("name");p&&""!==p&&(o=p+o,a=!0)}a||(o+=s.localName),s=s.parentElement}n=o;var d=u.textContent;if(u.childNodes&&u.childNodes.length>0){var f=u.childNodes[0];if(f&&f.hasChildNodes()){d="";var g=f.childNodes;for(c=void 0;c<g.length;c++)d+=g.item(c).textContent+"\r";d=d.length>0?d.substring(0,d.length-1):u.textContent}}h=void 0;h=this._fields.has(n)?this._fields.get(n):[];for(c=0;c<r.length;c++)h.push(d);this._fields.set(n,h),this._richTextValues.has(n)||this._richTextValues.set(n,u.innerHTML)}}}}},t.prototype._parseAnnotationData=function(e){if(e){var t=-1;if(e.hasAttributes&&e.hasAttribute("page")&&(t=Number.parseInt(e.getAttribute("page"),10))>=0&&t<this._document.pageCount){var i=this._document.getPage(t),n=this._getAnnotationDictionary(i,e);if(n&&n.size>0){var r=i._pageDictionary;if(r){var s=i.annotations,o=s._parseAnnotation(n);if(o){o._isImported=!0;var a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,n),(n.has("NM")||n.has("IRT"))&&this._addReferenceToGroup(a,n),o._ref=a;var l=s._annotations.length;s._annotations.push(a),r.set("Annots",s._annotations),r._updated=!0,s._parsedAnnotations.set(l,o),this._handlePopup(s,a,n,r)}}}}}},t.prototype._getAnnotationDictionary=function(e,t){var i=new Yn(this._crossReference);i.update("Type",Fn.get("Annot"));var n=!0;switch(t.localName.toLowerCase()){case"line":if(i.update("Subtype",Fn.get("Line")),t.hasAttribute("start")&&t.hasAttribute("end")){var r=[];t.getAttribute("start").split(",").forEach((function(e){r.push(Number.parseFloat(e))})),t.getAttribute("end").split(",").forEach((function(e){r.push(Number.parseFloat(e))})),4===r.length&&i.update("L",r)}this._addLineEndStyle(i,t);break;case"circle":i.update("Subtype",Fn.get("Circle"));break;case"square":i.update("Subtype",Fn.get("Square"));break;case"polyline":i.update("Subtype",Fn.get("PolyLine")),this._addLineEndStyle(i,t);break;case"polygon":i.update("Subtype",Fn.get("Polygon")),this._addLineEndStyle(i,t);break;case"ink":i.update("Subtype",Fn.get("Ink"));break;case"popup":i.update("Subtype",Fn.get("Popup"));break;case"text":i.update("Subtype",Fn.get("Text"));break;case"freetext":i.update("Subtype",Fn.get("FreeText")),this._addLineEndStyle(i,t);break;case"stamp":i.update("Subtype",Fn.get("Stamp"));break;case"highlight":i.update("Subtype",Fn.get("Highlight"));break;case"squiggly":i.update("Subtype",Fn.get("Squiggly"));break;case"underline":i.update("Subtype",Fn.get("Underline"));break;case"strikeout":i.update("Subtype",Fn.get("StrikeOut"));break;case"fileattachment":i.update("Subtype",Fn.get("FileAttachment"));break;case"sound":i.update("Subtype",Fn.get("Sound"));break;case"caret":i.update("Subtype",Fn.get("Caret"));break;case"redact":i.update("Subtype",Fn.get("Redact"));break;default:n=!1}return n&&this._addAnnotationData(i,t,e),i},t.prototype._addAnnotationData=function(e,t,i){this._addBorderStyle(e,t),this._applyAttributeValues(e,t.attributes),this._parseInnerElements(e,t,i),this._addMeasureDictionary(e,t)},t.prototype._addBorderStyle=function(e,t){var i=new Yn(this._crossReference),n=new Yn(this._crossReference);t.hasAttribute("width")&&n.update("W",Number.parseFloat(t.getAttribute("width")));var r=!0;if(t.hasAttribute("style")){var s="";switch(t.getAttribute("style")){case"dash":s="D";break;case"solid":s="S";break;case"bevelled":s="B";break;case"inset":s="I";break;case"underline":s="U";break;case"cloudy":s="C",r=!1}if(""!==s)if((r?n:i).update("S",Fn.get(s)),!r&&t.hasAttribute("intensity"))i.update("I",Number.parseFloat(t.getAttribute("intensity")));else if(t.hasAttribute("dashes")){var o=[];t.getAttribute("dashes").split(",").forEach((function(e){o.push(Number.parseFloat(e))})),n.update("D",o)}}i.size>0&&e.update("BE",i),n.size>0&&(n.update("Type","Border"),e.update("BS",n))},t.prototype._applyAttributeValues=function(e,t){for(var i=0;i<t.length;i++){var r=t[Number.parseInt(i.toString(),10)],s=r.value,o=void 0,a=void 0;switch(r.name.toLowerCase()){case"page":case"start":case"end":case"width":case"head":case"tail":case"style":case"intensity":case"itex":break;case"state":this._addString(e,"State",s);break;case"statemodel":this._addString(e,"StateModel",s);break;case"replytype":"group"===s&&e.update("RT",Fn.get("Group"));break;case"inreplyto":this._addString(e,"IRT",s);break;case"rect":(o=this._obtainPoints(s))&&4===o.length&&e.update("Rect",o);break;case"color":(o=zi(s))&&3===o.length&&e.update("C",[o[0]/255,o[1]/255,o[2]/255]);break;case"interior-color":(o=zi(s))&&3===o.length&&e.update("IC",[o[0]/255,o[1]/255,o[2]/255]);break;case"date":this._addString(e,"M",s);break;case"creationdate":this._addString(e,"CreationDate",s);break;case"name":this._addString(e,"NM",s);break;case"icon":s&&""!==s&&e.update("Name",Fn.get(s));break;case"subject":this._addString(e,"Subj",this._getFormatedString(s,!0));break;case"title":this._addString(e,"T",this._getFormatedString(s,!0));break;case"rotation":this._addInt(e,"Rotate",s);break;case"justification":this._addInt(e,"Q",s);break;case"fringe":this._addFloatPoints(e,this._obtainPoints(s),"RD");break;case"it":s&&""!==s&&e.update("IT",Fn.get(s));break;case"leaderlength":this._addFloat(e,"LL",s);break;case"leaderextend":"undefined"!==typeof(a=Number.parseFloat(s))&&e.update("LLE",a);break;case"caption":s&&""!==s&&e.update("Cap","yes"===s.toLowerCase());break;case"caption-style":s&&""!==s&&e.update("CP",Fn.get(s));break;case"callout":this._addFloatPoints(e,this._obtainPoints(s),"CL");break;case"coords":this._addFloatPoints(e,this._obtainPoints(s),"QuadPoints");break;case"border":this._addFloatPoints(e,this._obtainPoints(s),"Border");break;case"opacity":this._addFloat(e,"CA",s);break;case"flags":if(s&&""!==s){for(var l=n.default,h=s.split(","),c=0;c<h.length;c++){var u=di(h[Number.parseInt(c.toString(),10)]);0===c?l=u:l|=u}e.update("F",l)}break;case"open":s&&""!==s&&e.update("Open","true"===s||"yes"===s);break;case"calibrate":this._addString(e,"Calibrate",s);break;case"customdata":this._addString(e,"CustomData",s);break;case"overlaytext":e.update("OverlayText",s);break;case"repeat":e.update("Repeat","true"===s||"yes"===s);break;default:this._document._allowImportCustomData&&this._addString(e,r.name,s)}}},t.prototype._obtainPoints=function(e){var t=[];return e.split(",").forEach((function(e){t.push(Number.parseFloat(e))})),t},t.prototype._parseInnerElements=function(e,t,i){if(t.hasChildNodes)for(var n=t.childNodes,r=function(r){var o=n[Number.parseInt(r.toString(),10)];if(1===o.nodeType){var a=o,l=o.textContent,h=a.innerHTML;switch(o.nodeName.toLowerCase()){case"popup":if(a&&a.hasAttributes){var c=s._getAnnotationDictionary(i,a);if(c.size>0){var u=s._crossReference._getNextReference();s._crossReference._cacheMap.set(u,c),e.update("Popup",u),c.has("NM")&&s._addReferenceToGroup(u,c)}}break;case"contents":l&&""!==l&&e.update("Contents",s._getFormatedString(l,!0));break;case"contents-richtext":h&&""!==h&&e.update("RC",s._richTextPrefix+h);break;case"defaultstyle":s._addString(e,"DS",l);break;case"defaultappearance":s._addString(e,"DA",l);break;case"vertices":if(l&&""!==l){var p=[];if(l.split(",").forEach((function(e){-1!==e.indexOf(";")?e.split(";").forEach((function(e){p.push(e)})):p.push(e)})),p.length>0){var d=[];p.forEach((function(e){d.push(Number.parseFloat(e))})),e.update("Vertices",d)}}break;case"appearance":s._addAppearanceData(o,e);break;case"inklist":if(o.hasChildNodes){for(var f=[],g=o.childNodes,m=function(e){var t=g[Number.parseInt(e.toString(),10)];if(t&&1===t.nodeType){var i=t;if("gesture"===i.nodeName.toLowerCase()&&i.textContent&&""!==i.textContent){var n=[];if(i.textContent.split(",").forEach((function(e){-1!==e.indexOf(";")?e.split(";").forEach((function(e){n.push(e)})):n.push(e)})),n.length>0){var r=[];n.forEach((function(e){r.push(Number.parseFloat(e))})),f.push(r)}}}},y=0;y<g.length;y++)m(y);e.update("InkList",f)}break;case"data":s._addStreamData(o,e,t)}}},s=this,o=0;o<n.length;o++)r(o)},t.prototype._addStreamData=function(e,t,i){if(e&&e.textContent&&""!==e.textContent){var n=_i(e.textContent,!0);if(n&&n.length>0&&t.has("Subtype")){var r=t.get("Subtype");r&&"FileAttachment"===r.name?this._addFileAttachment(t,i,n):r&&"Sound"===r.name&&this._addSound(t,i,n)}}},t.prototype._addSound=function(e,t,i){var n=new $n(i);if(n.dictionary._crossReference=this._crossReference,n.dictionary.update("Type",Fn.get("Sound")),t.hasAttribute("bits")&&this._addInt(n.dictionary,"B",t.getAttribute("bits")),t.hasAttribute("rate")&&this._addInt(n.dictionary,"R",t.getAttribute("rate")),t.hasAttribute("channels")&&this._addInt(n.dictionary,"C",t.getAttribute("channels")),t.hasAttribute("encoding")){var r=t.getAttribute("encoding");r&&""!==r&&n.dictionary.update("E",Fn.get(r))}t.hasAttribute("filter")&&n.dictionary.update("Filter",Fn.get("FlateDecode"));var s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,n),e.update("Sound",s)},t.prototype._addFileAttachment=function(e,t,i){var n=new Yn(this._crossReference);if(n.update("Type",Fn.get("Filespec")),t.hasAttribute("file")){var r=t.getAttribute("file");this._addString(n,"F",r),this._addString(n,"UF",r)}var s=new $n(i);s.dictionary._crossReference=this._crossReference;var o=new Yn(this._crossReference);if(t.hasAttribute("size")){var a=Number.parseInt(t.getAttribute("size"),10);"undefined"!==typeof a&&(o.update("Size",a),s.dictionary.update("DL",a))}t.hasAttribute("modification")&&this._addString(o,"ModDate",t.getAttribute("modification")),t.hasAttribute("creation")&&this._addString(o,"CreationDate",t.getAttribute("creation")),s.dictionary.update("Params",o),t.hasAttribute("mimetype")&&this._addString(s.dictionary,"Subtype",t.getAttribute("mimetype")),s.dictionary.update("Filter",Fn.get("FlateDecode"));var l=new Yn(this._crossReference),h=this._crossReference._getNextReference();this._crossReference._cacheMap.set(h,s),l.update("F",h),n.update("EF",l);var c=this._crossReference._getNextReference();this._crossReference._cacheMap.set(c,n),e.update("FS",c)},t.prototype._addAppearanceData=function(e,t){var i=e.textContent;if(i&&""!==i){var n=(new DOMParser).parseFromString(atob(i),"text/xml");if(n&&n.hasChildNodes){var r=n.childNodes;if(r&&1===r.length){var s=r[0];if(s&&1===s.nodeType){var o=s;if("DICT"===o.nodeName.toUpperCase()&&o.hasAttribute("KEY")){var a=o.getAttribute("KEY");if(a&&"AP"===a&&o.hasChildNodes){var l=new Yn(this._crossReference);r=o.childNodes;for(var h=0;h<r.length;h++)this._getAppearance(l,r[Number.parseInt(h.toString(),10)]);l.size>0&&t.update("AP",l)}}}}}}},t.prototype._getAppearance=function(e,t){var i=e instanceof Yn?e:e.dictionary;if(t&&1===t.nodeType){var n=t;if(n&&n.localName){var r=void 0,s=void 0,o=void 0;switch(n.localName){case"STREAM":if(r=this._getStream(n)){var a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,r),this._addKey(a,i,n)}break;case"DICT":if(s=this._getDictionary(n)){a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,s),this._addKey(a,i,n)}break;case"ARRAY":this._addKey(this._getArray(n),i,n);break;case"FIXED":this._addKey(this._getFixed(n),i,n);break;case"INT":this._addKey(this._getInt(n),i,n);break;case"STRING":this._addKey(this._getString(n),i,n);break;case"NAME":this._addKey(this._getName(n),i,n);break;case"BOOL":this._addKey(this._getBoolean(n),i,n);break;case"DATA":(o=this._getData(n))&&o.length>0&&e instanceof $n&&(e._bytes=o)}}}},t.prototype._getStream=function(e){var t=new $n([]);if(t.dictionary._crossReference=this._crossReference,e.hasChildNodes)for(var i=e.childNodes,n=0;n<i.length;n++){var r=i[Number.parseInt(n.toString(),10)];r&&1===r.nodeType&&this._getAppearance(t,r)}return t},t.prototype._getDictionary=function(e){var t=new Yn(this._crossReference);if(e.hasChildNodes)for(var i=e.childNodes,n=0;n<i.length;n++){var r=i[Number.parseInt(n.toString(),10)];r&&1===r.nodeType&&this._getAppearance(t,r)}return t},t.prototype._getArray=function(e){var t=[];if(e.hasChildNodes)for(var i=e.childNodes,n=0;n<i.length;n++){var r=i[Number.parseInt(n.toString(),10)];r&&1===r.nodeType&&this._addArrayElements(t,r)}return t},t.prototype._getData=function(e){var t=[];if(e&&e.textContent&&""!==e.textContent&&e.hasAttribute("MODE")&&e.hasAttribute("ENCODING")){var i=e.getAttribute("MODE"),n=e.getAttribute("ENCODING");if(i&&n){var r=this._getFormatedString(e.textContent,!0);"FILTERED"===i&&"ASCII"===n?t=gi(r,!0):"RAW"===i&&"HEX"===n&&(t=_i(r,!0))}}return t},t.prototype._addArrayElements=function(e,t){if(t&&1===t.nodeType){var i,n=t,r=void 0,s=void 0,o=void 0,a=void 0,l=void 0,h=void 0;switch(n.localName){case"STREAM":if(r=this._getStream(n)){var c=this._crossReference._getNextReference();r.reference=c,this._crossReference._cacheMap.set(c,r),e.push(c)}break;case"DICT":if(s=this._getDictionary(n)){c=this._crossReference._getNextReference();this._crossReference._cacheMap.set(c,s),e.push(c)}break;case"ARRAY":(o=this._getArray(n))&&e.push(o);break;case"FIXED":"undefined"===typeof(a=this._getFixed(n))||isNaN(a)||e.push(a);break;case"INT":"undefined"===typeof(l=this._getInt(n))||isNaN(l)||e.push(l);break;case"NAME":(i=this._getName(n))&&e.push(i);break;case"BOOL":"undefined"!==typeof(h=this._getBoolean(n))&&null!==h&&e.push(h)}}},t.prototype._getFixed=function(e){var t;return e&&e.hasAttribute("VAL")&&(t=Number.parseFloat(e.getAttribute("VAL"))),t},t.prototype._getInt=function(e){var t;return e&&e.hasAttribute("VAL")&&(t=Number.parseInt(e.getAttribute("VAL"),10)),t},t.prototype._getString=function(e){var t;return e&&e.hasAttribute("VAL")&&(t=e.getAttribute("VAL")),t},t.prototype._getName=function(e){var t;return e&&e.hasAttribute("VAL")&&(t=Fn.get(e.getAttribute("VAL"))),t},t.prototype._getBoolean=function(e){var t;return e&&e.hasAttribute("VAL")&&(t="true"===e.getAttribute("VAL")),t},t.prototype._addMeasureDictionary=function(e,t){var i,n,r,s;if(t.hasChildNodes)for(var o=t.childNodes,a=0;a<o.length;a++){if((m=o[Number.parseInt(a.toString(),10)])&&"measure"===m.localName){i=m;break}}var l=new Yn(this._crossReference),h=new Yn(this._crossReference),c=new Yn(this._crossReference),u=new Yn(this._crossReference),p=[],d=[],f=[];if(i){if(l.update("Type",Fn.get("Measure")),i.hasAttribute("rateValue")){var g=i.getAttribute("rateValue");g&&""!==g&&l.update("R",g)}if(i.hasChildNodes)for(o=i.childNodes,a=0;a<o.length;a++){var m,y=o[Number.parseInt(a.toString(),10)];if(y&&1===y.nodeType)switch((m=y).nodeName.toLowerCase()){case"distance":r=m;break;case"area":n=m;break;case"xformat":s=m}}}if(s&&(this._addElements(s,u),f.push(u)),r&&(this._addElements(r,h),p.push(h)),n&&(this._addElements(n,c),d.push(c)),l.set("A",d),l.set("D",p),l.set("X",f),l.size>0&&l.has("Type")){var v=this._crossReference._getNextReference();this._crossReference._cacheMap.set(v,l),e.update("Measure",v)}},t.prototype._addElements=function(e,t){e.hasAttribute("d")&&this._addFloat(t,"D",e.getAttribute("d")),e.hasAttribute("c")&&this._addFloat(t,"C",e.getAttribute("c")),e.hasAttribute("rt")&&t.update("RT",e.getAttribute("rt")),e.hasAttribute("rd")&&t.update("RD",e.getAttribute("rt")),e.hasAttribute("ss")&&t.update("SS",e.getAttribute("ss")),e.hasAttribute("u")&&t.update("U",e.getAttribute("u")),e.hasAttribute("f")&&t.update("F",Fn.get(e.getAttribute("f"))),e.hasAttribute("fd")&&t.update("FD","yes"===e.getAttribute("fd"))},t.prototype._addString=function(e,t,i){i&&""!==i&&e.update(t,i)},t.prototype._addInt=function(e,t,i){var n=Number.parseInt(i,10);"undefined"!==typeof n&&e.update(t,n)},t.prototype._addFloat=function(e,t,i){var n=Number.parseFloat(i);"undefined"!==typeof n&&e.update(t,n)},t.prototype._addFloatPoints=function(e,t,i){t&&t.length>0&&e.update(i,t)},t.prototype._addKey=function(e,t,i){"undefined"!==typeof e&&null!==e&&i.hasAttribute("KEY")&&t.update(i.getAttribute("KEY"),e)},t.prototype._addLineEndStyle=function(e,t){var i="";t.hasAttribute("head")&&(i=t.getAttribute("head"));var n="";if(t.hasAttribute("tail")&&(n=t.getAttribute("tail")),i&&""!==i)if(n&&""!==n){var r=[];r.push(Fn.get(i)),r.push(Fn.get(n)),e.update("LE",r)}else e.update("LE",Fn.get(i));else n&&""!==n&&e.update("LE",Fn.get(n))},t}(Jr),$r=function(){function e(e){this._baseFontEncoding="",this._dictionary=e,this._fontType=this._dictionary.get("Subtype").name}return Object.defineProperty(e.prototype,"differencesDictionary",{get:function(){return this._differencesDictionary||(this._differencesDictionary=this._getDifferencesDictionary()),this._differencesDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseFontEncoding",{get:function(){return this._baseFontEncoding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontEncoding",{get:function(){return this._fontEncoding||(this._fontEncoding=this._getFontEncoding()),this._fontEncoding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName||(this._fontName=this._getFontName()),this._fontName},enumerable:!0,configurable:!0}),e.prototype._getFontEncoding=function(){var e="";if(null!==this._dictionary&&"undefined"!==typeof this._dictionary&&this._dictionary.has("Encoding")){var t=this._dictionary.get("Encoding");if(t instanceof Fn)e=t.name;else if(t instanceof Yn){if(t.has("BaseEncoding")){var i=t.get("BaseEncoding");i&&i instanceof Fn&&(this._baseFontEncoding=i.name)}if(t.has("Type")){var n=t.get("Type");null!==n&&"undefined"!==typeof n&&(e=n.name)}}}return"identity#2dh"!==e.toString()&&"CMap"!==e||(e="Identity-H"),e},e.prototype._getDifferencesDictionary=function(){var e=new Map;if(null!==this._dictionary&&"undefined"!==typeof this._dictionary&&this._dictionary.has("Encoding")){var t=this._dictionary.get("Encoding");if(null!==t&&"undefined"!==typeof t&&t instanceof Yn&&t.has("Differences")){var i=t.getArray("Differences"),n=0;if(null!==i&&"undefined"!==typeof i)for(var r=0;r<i.length;r++){var s="",o=i[Number.parseInt(r.toString(),10)];"number"===typeof o?(s=o.toString(),n=Number.parseInt(s,10)):o instanceof Fn&&(s=o.name,"Type1"===this._fontType&&".notdef"===s?(s=" ",e.set(n.toString(),vn(s))):(s=yn(s=vn(s)),e.has(n.toString())||e.set(n.toString(),vn(s)),n++))}}}return e},e.prototype._getFontName=function(){var e="";if(null!==this._dictionary&&"undefined"!==typeof this._dictionary&&this._dictionary.has("BaseFont")){var t=this._dictionary.get("BaseFont"),i=t.name;if(-1!==i.indexOf("#20")&&-1===i.indexOf("+")){var n=i.lastIndexOf("#20");i=i.substring(0,n),i+="+"}-1!==(e=-1!==t.name.indexOf("+")?t.name.split("+")[1]:t.name).indexOf("-")?e=e.split("-")[0]:-1!==e.indexOf(",")&&(e=e.split(",")[0]),-1!==e.indexOf("MT")&&(e=e.replace("MT","")),-1!==e.indexOf("#20")&&(e=e.replace("#20"," ")),-1!==e.indexOf("#")&&(e=this._decodeHexFontName(e))}return e},e.prototype._decodeHexFontName=function(e){for(var t=e,i=0;i<e.length;i++)if("#"===e[Number.parseInt(i.toString(),10)]){var n=e[i+1]+e[i+2],r=Number.parseInt(n,16);if(0!==r&&(t=t.replace("#"+n,String.fromCharCode(r)),i+=2),-1===t.indexOf("#"))break}return t},e}(),es=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ts=function(e){function t(t){var i=e.call(this)||this;return null!==t&&"undefined"!==typeof t&&(i._fileName=t),i}return es(t,e),t.prototype._exportAnnotations=function(e){return this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!0,this._exportAnnotationData(e,e.pageCount),this._save()},t.prototype._exportFormFields=function(e){this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1;var t=this._document.form;if(null!==t&&"undefined"!==typeof t){this._exportEmptyFields=t.exportEmptyFields;for(var i=this._document.form.count,n=0;n<i;n++){var r=this._document.form.fieldAt(n);this._exportFormFieldsData(r)}this._writeFormFieldData()}return this._save()},t.prototype._save=function(){var e=new Uint8Array(this._jsonData);return this._jsonData=[],e},t.prototype._writeFormFieldData=function(){var e=this;this._jsonData.push(this._openingBrace);var t=0;this._table.forEach((function(i,n){n=e._getValidString(n),e._jsonData.push(e._doubleQuotes);for(var r=0;r<n.length;r++)e._jsonData.push(n.charCodeAt(r));if("string"===typeof i||Array.isArray(i)&&1===i.length){i=e._getValidString("string"===typeof i?i:i[0]),e._jsonData.push(e._doubleQuotes,e._colon,e._doubleQuotes);for(r=0;r<i.length;r++)e._jsonData.push(i.charCodeAt(r));e._jsonData.push(e._doubleQuotes)}else{e._jsonData.push(e._doubleQuotes,e._colon,e._openingBracket);for(var s=0;s<i.length;s++){e._jsonData.push(e._doubleQuotes);for(var o=i[Number.parseInt(s.toString(),10)],a=0;a<o.length;a++)e._jsonData.push(o.charCodeAt(a));e._jsonData.push(e._doubleQuotes),s<i.length-1&&e._jsonData.push(e._comma)}e._jsonData.push(e._closingBracket)}t<e._table.size-1&&e._jsonData.push(e._comma),t++})),this._jsonData.push(this._closingBrace)},t.prototype._exportAnnotationData=function(e,t){var i=this,n=!1;this._jsonData.push(this._openingBrace,this._doubleQuotes,112,100,102,65,110,110,111,116,97,116,105,111,110,this._doubleQuotes,this._colon,this._openingBrace);for(var r=0;r<t;r++){var s=e.getPage(r);if(s&&s.annotations.count>0)this._jsonData.push(0!==r&&n?this._comma:this._space,this._doubleQuotes),mi(r.toString(),[]).forEach((function(e){i._jsonData.push(e)})),this._jsonData.push(this._doubleQuotes,this._colon,this._openingBrace,this._doubleQuotes,115,104,97,112,101,65,110,110,111,116,97,116,105,111,110,this._doubleQuotes,this._colon,this._openingBracket),n=!0;for(var o=0;o<s.annotations.count;o++){var a=s.annotations.at(o);a&&(this._exportAnnotation(a,r),this._jsonData=mi(this._convertToJson(this._table),this._jsonData),o<s.annotations.count-1&&this._jsonData.push(this._comma),this._table.clear())}s&&s.annotations.count>0&&this._jsonData.push(this._closingBracket,this._closingBrace)}this._jsonData.push(this._closingBrace,this._closingBrace)},t.prototype._exportAnnotation=function(e,t){var i=!1,n=e._dictionary,r=this._getAnnotationType(e._dictionary);if(this._skipBorderStyle=!1,r&&""!==r){this._table.set("type",r),this._table.set("page",t.toString());var s=void 0;switch(r){case"Line":s=e.linePoints,this._table.set("start",s[0].toString()+","+s[1].toString()),this._table.set("end",s[2].toString()+","+s[3].toString());break;case"Stamp":case"Square":i=!0}if(n&&n.has("BE")&&n.has("BS")){var o=n.get("BE");o&&o.has("S")&&(this._skipBorderStyle=!0)}this._writeDictionary(n,t,i)}},t.prototype._writeDictionary=function(e,t,i){var n=this,r=!1;if(e.has("Type")){var s=e.get("Type");r=s&&"Border"===s.name&&this._skipBorderStyle}if(e.forEach((function(s,o){if((i||"AP"!==s)&&"P"!==s&&"Parent"!==s){var a=void 0;if(o instanceof Vn&&(a=e.get(s)),a&&a instanceof Yn)switch(s){case"BS":case"BE":n._writeDictionary(a,t,!1);break;case"IRT":a.has("NM")&&n._table.set("inreplyto",n._getValue(a.get("NM"),!0))}else o instanceof Yn?n._writeDictionary(o,t,!1):(!r||r&&"S"!==s)&&n._writeAttribute(s,o,e)}})),e.has("Measure")&&this._exportMeasureDictionary(e.get("Measure")),(this.exportAppearance||i)&&e.has("AP")){var o=this._getAppearanceString(e.get("AP"));o&&o.length>0&&this._table.set("appearance",xi(o))}if(e.has("Sound")){var a=e.get("Sound");if(a&&a.dictionary){var l=a.dictionary;if(l.has("B")&&this._table.set("bits",this._getValue(l.get("B"),!0)),l.has("C")&&this._table.set("channels",this._getValue(l.get("C"),!0)),l.has("E")&&this._table.set("encoding",this._getValue(l.get("E"),!0)),l.has("R")&&this._table.set("rate",this._getValue(l.get("R"),!0)),l.has("Length")&&l.get("Length")>0)(p=wi(a.getBytes()))&&""!==p&&(this._table.set("MODE","raw"),this._table.set("encoding","hex"),l.has("Length")&&this._table.set("length",this._getValue(l.get("Length"),!0)),l.has("Filter")&&this._table.set("filter",this._getValue(l.get("Filter"),!0)),this._table.set("data",p))}}else if(e.has("FS")){var h=e.get("FS");if(h&&(h.has("F")&&this._table.set("file",this._getValue(h.get("F"),!0)),h.has("EF"))){var c=h.get("EF");if(c&&c.has("F")){var u=c.get("F");if(u&&u.dictionary){var p,d=u.dictionary;if(d.has("Params")){var f=d.get("Params");if(f){if(f.has("CreationDate")){var g=this._getValue(f.get("CreationDate"),!0);this._table.set("creation",g)}if(f.has("ModificationDate")){g=this._getValue(f.get("ModificationDate"),!0);this._table.set("modification",g)}if(f.has("Size")&&this._table.set("size",this._getValue(f.get("Size"),!0)),f.has("CheckSum")){var m=wi(gi(g=this._getValue(f.get("CheckSum"),!0)));this._table.set("checksum",m)}}}(p=wi(u.getBytes()))&&""!==p&&(this._table.set("MODE","raw"),this._table.set("encoding","hex"),d.has("Length")&&this._table.set("length",this._getValue(d.get("Length"),!0)),d.has("Filter")&&this._table.set("filter",this._getValue(d.get("Filter"),!0)),this._table.set("data",p))}}}}},t.prototype._writeColor=function(e,t,i){var n=this._getColor(e);if("number"===typeof e&&i){var r=this._getValue(e,!0);r&&""!==r&&this._table.set(i,r)}n&&""!==n&&this._table.set(t,n)},t.prototype._writeAttributeString=function(e,t,i){void 0===i&&(i=!1);var n=this._getValue(t,!0);this._table.set(e,i?n.toLowerCase():n)},t.prototype._writeAttribute=function(e,t,i){var n;switch(e){case"C":this._writeColor(t,"color","c");break;case"IC":this._writeColor(t,"interior-color");break;case"DA":(n=i.get("DA"))&&this._table.set("defaultappearance",n);break;case"M":this._writeAttributeString("date",t);break;case"NM":this._table.set("name",t);break;case"Name":this._writeAttributeString("icon",t);break;case"Subj":this._writeAttributeString("subject",t);break;case"T":this._writeAttributeString("title",t);break;case"Rect":if(n=this._getValue(t,!0)){var r=n.split(","),s=new Map;s.set("x",r[0]),s.set("y",r[1]),s.set("width",r[2]),s.set("height",r[3]),this._table.set(e.toLowerCase(),this._convertToJson(s))}break;case"CreationDate":this._writeAttributeString("creationdate",t);break;case"Rotate":this._writeAttributeString("rotation",t);break;case"W":this._writeAttributeString("width",t);break;case"LE":t&&Array.isArray(t)?2===t.length&&(this._table.set("head",this._getValue(t[0],!0)),this._table.set("tail",this._getValue(t[1],!0))):t instanceof Fn&&this._writeAttributeString("head",t);break;case"S":switch(this._getValue(t,!0)){case"D":this._table.set("style","dash");break;case"C":this._table.set("style","cloudy");break;case"S":this._table.set("style","solid");break;case"B":this._table.set("style","bevelled");break;case"I":this._table.set("style","inset");break;case"U":this._table.set("style","underline")}break;case"D":this._writeAttributeString("dashes",t);break;case"I":this._writeAttributeString("intensity",t);break;case"RD":this._writeAttributeString("fringe",t);break;case"IT":this._writeAttributeString("IT",t);break;case"RT":this._writeAttributeString("replyType",t,!0);break;case"LL":this._writeAttributeString("leaderLength",t);break;case"LLE":this._writeAttributeString("leaderExtend",t);break;case"Cap":this._writeAttributeString("caption",t);break;case"CP":this._writeAttributeString("caption-style",t);break;case"CL":this._writeAttributeString("callout",t);break;case"QuadPoints":this._writeAttributeString("coords",t);break;case"CA":this._writeAttributeString("opacity",t);break;case"F":if("number"===typeof t){var o=pi(t);this._table.set("flags",o)}break;case"Contents":(n=i.get("Contents"))&&n.length>0&&this._table.set("contents",this._getValidString(n));break;case"InkList":this._writeInkList(i);break;case"Vertices":this._writeVertices(i);break;case"DS":if(n=i.get("DS")){for(var a=new Map,l=n.split(";"),h=0;h<l.length;h++){var c=l[Number.parseInt(h.toString(),10)].split(":");c&&c.length>0&&c[0]&&c[0].length>1&&c[0].startsWith(" ")&&(c[0]=c[0].substring(1)),a.set(c[0],c[1])}this._table.set("defaultStyle",this._convertToJson(a))}break;case"AllowedInteractions":-1!==t.indexOf('"')&&(t=t.replace(/"/g,'\\"')),this._table.set(e,t);break;case"Type":case"Subtype":case"P":case"Parent":case"L":case"RC":case"FS":case"MeasurementTypes":case"GroupNesting":case"ITEx":case"TextMarkupContent":break;case"Border":case"A":case"R":case"X":case"ca":this._writeAttributeString(e.toLowerCase(),t);break;default:this._writeAttributeString(e,t)}},t.prototype._writeVertices=function(e){var t=e.getArray("Vertices");if(t&&t.length>0){var i=t.length;if(i%2===0){for(var n="",r=0;r<i-1;r++)n+=this._getValue(t[Number.parseInt(r.toString(),10)],!0)+(r%2!==0?";":",");(n+=this._getValue(t[i-1],!0))&&""!==n&&this._table.set("vertices",n)}}},t.prototype._writeInkList=function(e){var t=e.getArray("InkList");if(t&&t.length>0){for(var i=new Map,n="[",r=0;r<t.length;r++)n+="["+this._getValue(t[Number.parseInt(r.toString(),10)],!0)+"]",r<t.length-1&&(n+=",");n+="]",i.set("gesture",n),this._table.set("inklist",this._convertToJson(i))}},t.prototype._exportMeasureDictionary=function(e){if(e){if(e.has("Type")&&this._table.set("type1","Measure"),e.has("R")&&this._table.set("ratevalue",this._getValue(e.get("R"),!0)),e.has("SubType")&&this._table.set("SubType",this._getValue(e.get("SubType"),!0)),e.has("TargetUnitConversion")&&this._table.set("TargetUnitConversion",this._getValue(e.get("TargetUnitConversion"),!0)),e.has("A")){var t=e.getArray("A");this._exportMeasureFormatDetails("area",t[0])}if(e.has("D")){t=e.getArray("D");this._exportMeasureFormatDetails("distance",t[0])}if(e.has("X")){t=e.getArray("X");this._exportMeasureFormatDetails("xformat",t[0])}if(e.has("T")){t=e.getArray("T");this._exportMeasureFormatDetails("tformat",t[0])}if(e.has("V")){t=e.getArray("V");this._exportMeasureFormatDetails("vformat",t[0])}}},t.prototype._exportMeasureFormatDetails=function(e,t){var i=new Map;t.has("C")&&i.set("c",this._getValue(t.get("C"),!0)),t.has("F")&&i.set("f",this._getValue(t.get("F"),!0)),t.has("D")&&i.set("d",this._getValue(t.get("D"),!0)),t.has("RD")&&i.set("rd",this._getValue(t.get("RD"),!0)),t.has("U")&&i.set("u",this._getValue(t.get("U"),!0)),t.has("RT")&&i.set("rt",this._getValue(t.get("RT"),!0)),t.has("SS")&&i.set("ss",this._getValue(t.get("SS"),!0)),t.has("FD")&&i.set("fd",this._getValue(t.get("FD"),!0)),this._table.set(e,this._convertToJson(i))},t.prototype._getAppearanceString=function(e){var t=new Map,i=new Map;return this._writeAppearanceDictionary(i,e),t.set("ap",this._convertToJson(i)),gi(this._convertToJson(t))},t.prototype._writeAppearanceDictionary=function(e,t){var i=this;t&&t.size>0&&t.forEach((function(n,r){i._writeObject(e,r instanceof Vn?t.get(n):r,t,n)}))},t.prototype._writeObject=function(e,t,i,n,r){if(t instanceof Fn)this._writeTable("name",t.name,e,n,r);else if(Array.isArray(t)){var s=[];this._writeArray(s,t,i),this._writeTable("array",this._convertToJsonArray(s),e,n,s)}else if("string"===typeof t)this._writeTable("string",t,e,n,r);else if("number"===typeof t)this._writeTable(Number.isInteger(t)?"int":"fixed",t.toString(),e,n,r);else if("boolean"===typeof t)this._writeTable("boolean",t?"true":"false",e,n,r);else if(t instanceof Yn){var o=new Map;this._writeAppearanceDictionary(o,t),this._writeTable("dict",this._convertToJson(o),e,n,r)}else if(t instanceof Jn&&t.dictionary){var a=new Map,l=new Map,h=t.dictionary;this._writeAppearanceDictionary(l,h);var c=h.get("Length"),u=void 0;if(h.has("Subtype")&&(u=this._getValue(h.get("Subtype"))),c>0){!h.has("Type")&&!h.has("Subtype")||h.has("Subtype")&&("Image"===u||"Form"===u||"CIDFontType0C"===u||"OpenType"===u)?(a.set("mode","raw"),a.set("encoding","hex")):(a.set("mode","filtered"),a.set("encoding","ascii"));var p=t.getString(!0);p&&""!==p&&a.set("bytes",p)}l.set("data",this._convertToJson(a)),this._writeTable("stream",this._convertToJson(l),e,n,r)}else t instanceof Vn&&this._crossReference?this._writeObject(e,this._crossReference._fetch(t),i,n):null!==t&&"undefined"!==typeof t||this._writeTable("null","null",e,n,r)},t.prototype._writeTable=function(e,t,i,n,r){var s=new Map;s.set(e,t),n?i.set(n,this._convertToJson(s)):r&&r.push(s)},t.prototype._writeArray=function(e,t,i){for(var n=0;n<t.length;n++)this._writeObject(null,t[Number.parseInt(n.toString(),10)],i,null,e)},t.prototype._convertToJson=function(e){var t=0,i="{";return e.forEach((function(n,r){n.startsWith("{")||n.startsWith("[")?i+="AllowedInteractions"===r?'"'+r+'":"'+n+'"':'"'+r+'":'+n:(n.startsWith(" ")&&n.length>1&&("["===n[1]||"{"===n[1])&&(n=n.substring(1)),i+='"'+r+'":"'+n+'"'),t<e.size-1&&(i+=","),t++})),i+"}"},t.prototype._convertToJsonArray=function(e){for(var t="[",i=0;i<e.length;i++)t+=this._convertToJson(e[Number.parseInt(i.toString(),10)]),i<e.length-1&&(t+=",");return t+"]"},t.prototype._parseJson=function(e,t){this._document=e,this._crossReference=e._crossReference;var i=Mi(t);if(i.startsWith("{")&&!i.endsWith("}"))for(;i.length>0&&!i.endsWith("}");)i=i.substring(0,i.length-1);return JSON.parse(i)},t.prototype._importFormData=function(e,t){var i=this,n=this._parseJson(e,t);if(n){var r=Object.keys(n);if(r&&r.length>0){for(var s=function(e){var t=r[Number.parseInt(e.toString(),10)],s=n[t];Array.isArray(s)?o._fields.has("key")?s.forEach((function(e){i._fields.get(t).push(e)})):o._fields.set(t,s):o._fields.has("key")?o._fields.get(t).push(s):o._fields.set(t,[s])},o=this,a=0;a<r.length;a++)s(a);this._importField()}}},t.prototype._importAnnotations=function(e,t){var i=this,n=this._parseJson(e,t);if(n&&-1!==Object.keys(n).indexOf("pdfAnnotation")){var r=n.pdfAnnotation,s=e.pageCount,o=Object.keys(r);if(o&&o.length>0&&o.forEach((function(t){var n=Number.parseInt(t,10);if("undefined"!==typeof n&&n<s){var o=e.getPage(n),a=r[t];if(a){var l=Object.keys(a);if(l&&l.length>0&&-1!==l.indexOf("shapeAnnotation")){var h=a.shapeAnnotation;h&&h.length>0&&h.forEach((function(e){var t=Object.keys(e);if(t&&t.length>0&&-1!==t.indexOf("type")){var n=new Yn(i._crossReference);n.update("Type",Fn.get("Annot"));var r=!0;switch(e.type.toLowerCase()){case"line":n.update("Subtype",Fn.get("Line"));break;case"circle":n.update("Subtype",Fn.get("Circle"));break;case"square":n.update("Subtype",Fn.get("Square"));break;case"polyline":n.update("Subtype",Fn.get("PolyLine"));break;case"polygon":n.update("Subtype",Fn.get("Polygon"));break;case"ink":n.update("Subtype",Fn.get("Ink"));break;case"popup":n.update("Subtype",Fn.get("Popup"));break;case"text":n.update("Subtype",Fn.get("Text"));break;case"freetext":n.update("Subtype",Fn.get("FreeText"));break;case"stamp":n.update("Subtype",Fn.get("Stamp"));break;case"highlight":n.update("Subtype",Fn.get("Highlight"));break;case"squiggly":n.update("Subtype",Fn.get("Squiggly"));break;case"underline":n.update("Subtype",Fn.get("Underline"));break;case"strikeout":n.update("Subtype",Fn.get("StrikeOut"));break;case"fileattachment":n.update("Subtype",Fn.get("FileAttachment"));break;case"sound":n.update("Subtype",Fn.get("Sound"));break;case"redact":n.update("Subtype",Fn.get("Redact"));break;case"caret":n.update("Subtype",Fn.get("Caret"));break;default:r=!1}if(r){i._addAnnotationData(n,e,t);var s=o._pageDictionary;if(s){var a=o.annotations,l=a._parseAnnotation(n);if(l){l._isImported=!0;var h=i._crossReference._getNextReference();i._crossReference._cacheMap.set(h,n),(n.has("NM")||n.has("IRT"))&&i._addReferenceToGroup(h,n),l._ref=h;var c=a._annotations.length;a._annotations.push(h),s.set("Annots",a._annotations),s._updated=!0,a._parsedAnnotations.set(c,l),i._handlePopup(a,h,n,s)}}}}}))}}}})),this._groupHolders.length>0)for(var a=0;a<this._groupHolders.length;a++){var l=this._groupHolders[Number.parseInt(a.toString(),10)],h=l.get("IRT");h&&""!==h&&(this._groupReferences.has(h)?l.update("IRT",this._groupReferences.get(h)):delete l._map.IRT)}this._groupHolders=[],this._groupReferences=new Map}},t.prototype._addAnnotationData=function(e,t,i){var r,s,o,a,l=this,h=new Yn(this._crossReference),c=new Yn(this._crossReference),u=new Map,p=[],d="";if(i.forEach((function(i){var f=t[i];switch(i.toLowerCase()){case"start":case"end":l._addLinePoints(f,p),4===p.length&&(e.update("L",p),p=[]);break;case"itex":break;case"state":l._addString(e,"State",f);break;case"statemodel":l._addString(e,"StateModel",f);break;case"replytype":"group"===f.toLowerCase()&&e.update("RT",Fn.get("Group"));break;case"inreplyto":l._addString(e,"IRT",f);break;case"dashes":case"width":case"intensity":case"style":l._addBorderStyle(i,f,h,c);break;case"rect":if(o=f){var g=[];g.push(Number.parseFloat(o.x)),g.push(Number.parseFloat(o.y)),g.push(Number.parseFloat(o.width)),g.push(Number.parseFloat(o.height)),g&&4===g.length&&e.update("Rect",g)}break;case"color":(f=zi(f))&&3===f.length&&e.update("C",[f[0]/255,f[1]/255,f[2]/255]);break;case"oc":if(f&&"Redact"===e.get("Subtype").name){a=f.split(",");var m=[];a.forEach((function(e){m.push(Number.parseFloat(e))})),m&&m.length>0&&e.update("OC",m)}break;case"interior-color":(f=zi(f))&&3===f.length&&e.update("IC",[f[0]/255,f[1]/255,f[2]/255]);break;case"date":l._addString(e,"M",f);break;case"creationdate":l._addString(e,"CreationDate",f);break;case"name":l._addString(e,"NM",f);break;case"icon":f&&e.update("Name",Fn.get(f));break;case"subject":l._addString(e,"Subj",f);break;case"title":l._addString(e,"T",f);break;case"rotation":e.update("Rotate",Number.parseFloat(f));break;case"fringe":l._addFloatPoints(e,"RD",l._parseFloatPoints(f));break;case"it":f&&e.update("IT",Fn.get(f));break;case"leaderlength":e.update("LL",Number.parseFloat(f));break;case"leaderextend":e.update("LLE",Number.parseFloat(f));break;case"caption":l._addBoolean(e,"Cap",f.toLowerCase());break;case"caption-style":f&&e.update("CP",Fn.get(f));break;case"callout":l._addFloatPoints(e,"CL",l._parseFloatPoints(f));break;case"coords":l._addFloatPoints(e,"QuadPoints",l._parseFloatPoints(f));break;case"border":l._addFloatPoints(e,"Border",l._parseFloatPoints(f));break;case"opacity":e.update("CA",Number.parseFloat(f));break;case"defaultstyle":if(f){var y=Object.keys(f);if(y&&y.length>0){var v="",b=0;y.forEach((function(e){var t=f[e];v+=e+":"+t,b<y.length-1&&(v+=";"),b++})),l._addString(e,"DS",v)}}break;case"defaultappearance":l._addString(e,"DA",f);break;case"flags":if(f&&"string"===typeof f){for(var M=n.default,S=f.split(","),w=0;w<S.length;w++){var _=di(S[Number.parseInt(w.toString(),10)]);0===w?M=_:M|=_}e.update("F",M)}break;case"open":l._addBoolean(e,"Open",f.toLowerCase());break;case"repeat":l._addBoolean(e,"Repeat",f.toLowerCase());break;case"overlaytext":l._addString(e,"OverlayText",f);break;case"contents":"string"===typeof f&&(-1!==f.indexOf("\\r")&&(f=f.replace("\\r","\r")),f&&l._addString(e,"Contents",f));break;case"q":e.update("Q",Number.parseInt(f,10));break;case"inklist":if(f){var I=Object.keys(f);if(I&&I.length>0&&-1!==I.indexOf("gesture")){var N=f.gesture;N&&N.length>0&&e.update("InkList",N)}}break;case"head":r=f;break;case"tail":s=f;break;case"creation":case"modification":case"file":case"bits":case"channels":case"encoding":case"rate":case"length":case"filter":case"mode":case"size":u.set(i,f);break;case"data":d=f;break;case"vertices":if(f&&"string"===typeof f){var C=f.split(/[,;]/);if(C&&C.length>0){var x=[];for(w=0;w<C.length;w++)x.push(Number.parseFloat(C[Number.parseInt(w.toString(),10)]));x.length>0&&x.length%2===0&&e.update("Vertices",x)}}break;case"customdata":l._addString(e,"CustomData",f);break;case"appearance":l._addAppearanceData(e,f);break;case"allowedinteractions":l._addString(e,"AllowedInteractions",f);break;default:l._document._allowImportCustomData&&"type"!==i&&"page"!==i&&l._addString(e,i,f)}})),this._addMeasureDictionary(e,t,i),r?s?e.update("LE",[Fn.get(r),Fn.get(s)]):e.update("LE",r):s&&e.update("LE",s),c.size>0){c.update("Type",Fn.get("Border"));var f=this._crossReference._getNextReference();c.objId=f.objectNumber+" "+f.generationNumber,this._crossReference._cacheMap.set(f,c),e.update("BS",f)}if(h.size>0){f=this._crossReference._getNextReference();c.objId=f.objectNumber+" "+f.generationNumber,this._crossReference._cacheMap.set(f,h),e.update("BE",f)}this._addStreamData(e,u,d)},t.prototype._addLinePoints=function(e,t){e&&-1!==e.indexOf(",")&&e.split(",").forEach((function(e){t.push(Number.parseFloat(e))}))},t.prototype._addString=function(e,t,i){i&&e.update(t,i)},t.prototype._addBoolean=function(e,t,i){i&&e.update(t,"yes"===i||"true"===i)},t.prototype._addBorderStyle=function(e,t,i,n){var r="",s=!0;switch(t){case"dash":r="D";break;case"solid":r="S";break;case"bevelled":r="B";break;case"inset":r="I";break;case"underline":r="U";break;case"cloudy":r="C",s=!1}switch(e.toLowerCase()){case"width":n.update("W",Number.parseFloat(t));break;case"intensity":i.update("I",Number.parseFloat(t));break;case"dashes":t&&-1!==t.indexOf(",")&&n.update("D",this._parseFloatPoints(t))}r&&(s?n.update("S",Fn.get(r)):i.update("S",Fn.get(r)))},t.prototype._parseFloatPoints=function(e){var t=e.split(","),i=[];return t.forEach((function(e){i.push(Number.parseFloat(e))})),i},t.prototype._addFloatPoints=function(e,t,i){i&&i.length>0&&e.update(t,i)},t.prototype._addMeasureDictionary=function(e,t,i){var n=new Yn(this._crossReference),r=[],s=[],o=[],a=[],l=[];if(n.set("A",r),n.set("D",s),n.set("X",o),n.set("T",a),n.set("V",l),-1!==i.indexOf("ratevalue")&&this._addString(n,"R",t.ratevalue),-1!==i.indexOf("subtype")&&this._addString(n,"Subtype",t.subtype),-1!==i.indexOf("targetunitconversion")&&this._addString(n,"TargetUnitConversion",t.targetunitconversion),-1!==i.indexOf("area")&&r.push(this._readDictionaryElements(t.area)),-1!==i.indexOf("distance")&&s.push(this._readDictionaryElements(t.distance)),-1!==i.indexOf("xformat")&&o.push(this._readDictionaryElements(t.xformat)),-1!==i.indexOf("tformat")&&a.push(this._readDictionaryElements(t.tformat)),-1!==i.indexOf("vformat")&&l.push(this._readDictionaryElements(t.vformat)),-1!==i.indexOf("type1")){n.set("Type",Fn.get("Measure"));var h=this._crossReference._getNextReference();n.objId=h.objectNumber+" "+h.generationNumber,this._crossReference._cacheMap.set(h,n),e.update("Measure",h)}},t.prototype._readDictionaryElements=function(e){var t=Object.keys(e),i=new Yn(this._crossReference);return t&&t.length>0&&t.forEach((function(t){var n=e[t];if(t&&n)switch(t){case"d":i.set("D",Number.parseFloat(n));break;case"c":i.set("C",Number.parseFloat(n));break;case"rt":i.set("RT",n);break;case"rd":i.set("RD",n);break;case"ss":i.set("SS",n);break;case"u":i.set("U",n);break;case"f":i.set("F",Fn.get(n));break;case"fd":i.set("FD",n);break;case"type":i.set("Type",Fn.get(n))}})),i},t.prototype._addStreamData=function(e,t,i){var n=this,r=e.get("Subtype").name,s=_i(i,!0);if("Sound"===r){var o=new $n(s);o.dictionary._crossReference=this._crossReference,o.dictionary.update("Type",Fn.get("Sound")),t.forEach((function(e,t){if(t&&e)switch(t){case"bits":case"rate":case"channels":o.dictionary.set(t,Number.parseInt(e,10));break;case"encoding":o.dictionary.set("E",Fn.get(e));break;case"filter":o.dictionary.set("Filter",Fn.get("FlateDecode"))}})),o.reference=this._crossReference._getNextReference(),o.dictionary.objId=o.reference.objectNumber+" "+o.reference.generationNumber,this._crossReference._cacheMap.set(o.reference,o),e.update("Sound",o.reference)}else if("FileAttachment"===r){var a=new Yn(this._crossReference);a.update("Type",Fn.get("Filespec"));var l=new $n(s);l.dictionary._crossReference=this._crossReference;var h=new Yn(this._crossReference);t.forEach((function(e,t){if(t&&e){var i=void 0;switch(t){case"file":n._addString(a,"F",e),n._addString(a,"UF",e);break;case"size":"undefined"!==typeof(i=Number.parseInt(e,10))&&(h.update("Size",i),l.dictionary.update("DL",i));break;case"creation":n._addString(h,"CreationDate",e);break;case"modification":n._addString(h,"ModificationDate",e)}}})),l.dictionary.update("Params",h),l.dictionary.update("Filter",Fn.get("FlateDecode")),l.reference=this._crossReference._getNextReference(),l.dictionary.objId=l.reference.objectNumber+" "+l.reference.generationNumber,this._crossReference._cacheMap.set(l.reference,l);var c=new Yn(this._crossReference);c.update("F",l.reference),a.update("EF",c);var u=this._crossReference._getNextReference();a.objId=u.objectNumber+" "+u.generationNumber,this._crossReference._cacheMap.set(u,a),e.update("FS",u)}},t.prototype._addAppearanceData=function(e,t){if(t){var i=Mi(Ci(t,!1));if(i.startsWith("{")&&!i.endsWith("}"))for(;i.length>0&&!i.endsWith("}");)i=i.substring(0,i.length-1);var n=JSON.parse(i);if(n){var r=Object.keys(n);r&&r.length>0&&-1!==r.indexOf("ap")&&e.update("AP",this._parseDictionary(n.ap))}}},t.prototype._parseAppearance=function(e){var t,i=this,n=Object.keys(e);if(-1!==n.indexOf("name"))t=Fn.get(e.name);else if(-1!==n.indexOf("int"))t=Number.parseInt(e.int,10);else if(-1!==n.indexOf("fixed"))t=Number.parseFloat(e.fixed);else if(-1!==n.indexOf("string"))t=e.string;else if(-1!==n.indexOf("boolean"))t="true"===e.boolean;else if(-1!==n.indexOf("array")){var r=e.array;t=[],r.forEach((function(e){t.push(i._parseAppearance(e))}))}else if(-1!==n.indexOf("dict")){var s=this._parseDictionary(e.dict);t=this._crossReference._getNextReference(),s.objId=t.objectNumber+" "+t.generationNumber,this._crossReference._cacheMap.set(t,s)}else if(-1!==n.indexOf("stream")){var o=this._parseStream(e.stream);t=this._crossReference._getNextReference(),o.reference=t,o.dictionary.objId=t.objectNumber+" "+t.generationNumber,this._crossReference._cacheMap.set(t,o)}else t=null;return t},t.prototype._parseDictionary=function(e){var t=this,i=new Yn(this._crossReference);if(e){var n=Object.keys(e);n&&n.length>0&&n.forEach((function(n){var r=e[n];if("data"!==n){var s=t._parseAppearance(r);i.update(n,s)}}))}return i},t.prototype._parseStream=function(e){var t,i=Object.keys(e);if(e&&i.indexOf("data")){var n=e.data,r=void 0;if(n){var s=Object.keys(n);if(s&&-1!==s.indexOf("bytes")){var o=n.bytes;o&&(r=_i(o,!0))}}r||(r=[]);var a=new $n(r),l=this._parseDictionary(e);a.dictionary=l,t=a}return t},t.prototype._getValidString=function(e){return-1!==e.indexOf("\\")&&(e=e.replace(/\\/g,"\\\\")),-1!==e.indexOf('"')&&(e=e.replace(/"/g,'\\"')),-1!==e.indexOf("[")&&(e=e.replace(/\[/g,"\\[")),-1!==e.indexOf("]")&&(e=e.replace(/\[/g,"\\]")),-1!==e.indexOf("{")&&(e=e.replace(/\[/g,"\\{")),-1!==e.indexOf("}")&&(e=e.replace(/\}/g,"\\}")),-1!==e.indexOf("\n")&&(e=e.replace(/\n/g,"\\n")),-1!==e.indexOf("\r")&&(e=e.replace(/\r/g,"\\r")),e},t}(Jr),is=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ns=function(e){function t(t){var i=e.call(this)||this;return i._annotationObjects=new Map,i._specialCharacters="\xe2\xe3\xcf\xd3",null!==t&&"undefined"!==typeof t&&(i._fileName=t),i}return is(t,e),t.prototype._exportAnnotations=function(e){return this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!0,this._exportAnnotationData(e,e.pageCount),this._save()},t.prototype._exportFormFields=function(e){return this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1,this._key=Qi(),this._save()},t.prototype._save=function(){var e=this,t=0,i=[];if(!this._isAnnotationExport){this._asPerSpecification?(this.fdfString+="%FDF-1.2\n%"+this._specialCharacters+"\r\n1 0 obj\r<</FDF<</F(",this.fdfString+=this._fileName+")",this.fdfString+="/Fields["):this.fdfString+="%FDF-1.2\n";var n=this._document.form;if(null!==n&&"undefined"!==typeof n){this._exportEmptyFields=n.exportEmptyFields;for(var r=this._document.form.count,s=0;s<r;s++){var o=this._document.form.fieldAt(s),a=this._exportFormFieldsData(o);if((o instanceof it||o instanceof lt||o instanceof at||o instanceof st||o instanceof rt)&&t++,this._asPerSpecification)if(o instanceof it||o instanceof lt||o instanceof at){if(i.push(t),this.fdfString+="<</T("+o.name+")/V","string"===typeof a||Array.isArray(a)&&1===a.length)this.fdfString+="("+(Array.isArray(a)?a[0]:a)+")";else if(Array.isArray(a)){this.fdfString+="[";for(l=0;l<a.length;l++)this.fdfString+="("+a[Number.parseInt(l.toString(),10)]+")",l!==a.length-1&&(this.fdfString+=" ");this.fdfString+="]"}this.fdfString+=">>"}else(o instanceof st||o instanceof rt)&&(i.push(t),this.fdfString+="<</T("+o.name+")/V/"+a+">>");else if(o instanceof it||o instanceof lt||o instanceof at){if(i.push(t),this.fdfString+=t+" 0 obj<</T <"+this._stringToHexString(o.name)+"> /V ","string"===typeof a||Array.isArray(a)&&1===a.length)this.fdfString+="<"+this._stringToHexString(Array.isArray(a)?a[0]:a)+">";else if(Array.isArray(a)){this.fdfString+="[";for(var l=0;l<a.length;l++)this.fdfString+="<"+this._stringToHexString(a[Number.parseInt(l.toString(),10)])+">",l!==a.length-1&&(this.fdfString+=" ");this.fdfString+="]"}this.fdfString+=" >>endobj\n"}else(o instanceof st||o instanceof rt)&&(i.push(t),this.fdfString+=t+" 0 obj<</T <"+this._stringToHexString(o.name)+"> /V /",this.fdfString+=a+" >>endobj\n")}}if(this._asPerSpecification)this.fdfString+="]",this.fdfString+="/ID[]/UF("+this._fileName+")>>/Type/Catalog>>\rendobj\rtrailer\r\n<</Root 1 0 R>>\r\n",this.fdfString+="%%EOF\r\n";else{this.fdfString+=this._table.size+1+" 0 obj<</F <"+this._stringToHexString(this._fileName)+">  /Fields [";for(s=0;s<this._table.size;s++){null!==(o=this._document.form.fieldAt(s))&&"undefined"!==typeof o&&o.export&&(this.fdfString+=i[Number.parseInt(s.toString(),10)]+" 0 R ")}this.fdfString+="]>>endobj\n",this.fdfString+=i.length+2+" 0 obj<</Version /1.4 /FDF "+(i.length+1)+" 0 R>>endobj\n",this.fdfString+="trailer\n<</Root "+(i.length+2)+" 0 R>>"}}var h=new ArrayBuffer(1*this.fdfString.length),c=new Uint8Array(h);return c.forEach((function(t,i){c[i]=e.fdfString.charCodeAt(i)})),c},t.prototype._importAnnotations=function(e,t){this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1,this._checkFdf(Mi(t));var i=new Zn(t);this._isAnnotationImport=!0;var n=new Sr(new Mr(i),null,!0,!1);this._readFdfData(n),null!==this._annotationObjects&&"undefined"!==typeof this._annotationObjects&&this._annotationObjects.size>0&&this._annotationObjects.clear(),null!==this._table&&"undefined"!==typeof this._table&&this._table.size>0&&this._table.clear()},t.prototype._importFormData=function(e,t){this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1,this._checkFdf(Mi(t));var i=new Zn(t),n=new Sr(new Mr(i),null,!1,!1);this._readFdfData(n)},t.prototype._readFdfData=function(e){var t=this,i=e.getObject();if(this._isAnnotationImport){for(var n="";null!==i&&"undefined"!==typeof i&&"EOF"!==i;)i instanceof Yn||i instanceof Zn||i instanceof fr?(this._table.set(n,i),n=""):null!==i&&Number.isInteger(i)&&0!==i?e.first>=0&&(n=i.toString()+" "+e.first.toString()):i instanceof Bn&&null!==i.command&&"undefined"!==typeof i.command&&"trailer"===i.command&&(n=i.command),i=e.getObject();this._annotationObjects=this._parseAnnotationData(),this._annotationObjects.forEach((function(e,i){var n=e;if(n._crossReference=t._crossReference,n._updated=!0,null!==n&&"undefined"!==typeof n&&n.has("Page")){var r=n.get("Page");if(null!==r&&"undefined"!==typeof r){var s=r;if(s<t._document.pageCount){var o=t._document.getPage(s),a=o._pageDictionary;if(null!==a&&"undefined"!==typeof a){var l=o.annotations,h=l._parseAnnotation(n);if(null!==h&&"undefined"!==typeof h){h._isImported=!0;var c=t._crossReference._getNextReference();t._crossReference._cacheMap.set(c,n),(n.has("NM")||n.has("IRT"))&&t._addReferenceToGroup(c,n),h._ref=c;var u=l._annotations.length;l._annotations.push(c),a.set("Annots",l._annotations),a._updated=!0,l._parsedAnnotations.set(u,h),t._handlePopup(l,c,n,a)}}}}}}))}else{if(i=e.getObject(),this._asPerSpecification)for(;null!==i&&"undefined"!==typeof i&&"EOF"!==i;){if(i instanceof Yn&&null!==i&&null!==i._map.FDF&&void 0!==i._map.FDF&&(i=i._map.FDF)instanceof Yn&&null!==i._map.Fields&&void 0!==i._map.Fields&&null!==(i=i._map.Fields)&&void 0!==i)for(var r=0;r<i.length;r++){var s=i[Number.parseInt(r.toString(),10)];if(s instanceof Yn&&null!==s&&void 0!==s){o=s.getArray("T"),a=void 0;a=s._map.V instanceof Fn?s.getArray("V").name:s.getArray("V"),null!==o&&void 0!==o&&o.length>0&&this._table.set(o,a)}}i=e.getObject()}else for((i=e.getObject())instanceof Bn&&null!==i.command&&(i=i.command);null!==i&&"undefined"!==typeof i&&"EOF"!==i;){if(i instanceof Yn){var o=i.getArray("T"),a=void 0;a=i._map.V instanceof Fn?i.getArray("V").name:i.getArray("V"),null!==o&&void 0!==o&&o.length>0&&this._table.set(o,a)}i=e.getObject()}this._importField()}},t.prototype._parseAnnotationData=function(){var e=new Map,t=new Map;if(null!==(e=this._table)&&"undefined"!==typeof e&&e.size>0&&e.has("trailer")){var i=e.get("trailer");if(i instanceof Yn&&null!==i&&"undefined"!==typeof i&&i.has("Root")){var n=i.getRaw("Root");if(null!==n&&"undefined"!==typeof n){var r=n.objectNumber.toString()+" "+n.generationNumber.toString();if(e.has(r)){var s=e.get(r);if(null!==s&&"undefined"!==typeof s&&s.has("FDF")){var o=s.get("FDF");if(null!==o&&"undefined"!==typeof o&&o.has("Annots")){var a=o.get("Annots");if(null!==a&&"undefined"!==typeof a&&a.length>0)for(var l=0;l<a.length;l++){var h=a[Number.parseInt(l.toString(),10)],c=h.objectNumber.toString()+" "+h.generationNumber.toString();e.has(c)&&(h=e.get(c),t.set(c,h),e.delete(c))}}}}e.delete(r)}}e.delete("trailer")}return t},t.prototype._importField=function(){var e=this,t=this._document.form,i=t.count;i&&this._table.forEach((function(n,r){var s;e._table.size>0&&e._table.has(r)&&(s=e._table.get(r));var o=t._getFieldIndex(r);if(-1!==o&&o<i){var a=t.fieldAt(o);if(a){s&&""!==s&&a._dictionary.update("RV",s);var l=[];Array.isArray(n)?l=n:l.push(n),e._importFieldData(a,l)}}}))},t.prototype._exportAnnotationData=function(e,t){var i=me._whiteSpace+"0"+me._whiteSpace,n="<</";this.fdfString+="%FDF-1.2\r\n";for(var r=2,s=new Array,o=this.exportAppearance,a=0;a<t;a++){var l=e.getPage(a);if(null!==l&&"undefined"!==typeof l&&l.annotations.count>0)for(var h=0;h<l.annotations.count;h++){var c,u=l.annotations.at(h);if(null!==u&&"undefined"!==typeof u&&!(u instanceof Nt||u instanceof Dt||u instanceof xt||u instanceof Ct))if(u instanceof kt||u instanceof bt)r=(c=this._exportAnnotation(u,this.fdfString,r,s,a,!0)).index,s=c.annot;else r=(c=this._exportAnnotation(u,this.fdfString,r,s,a,o)).index,s=c.annot}}if(2!==r){var p="1"+i;this.fdfString+=p+"obj\r\n"+n+"FDF"+n+"Annots[";for(a=0;a<s.length-1;a++)this.fdfString+=s[Number.parseInt(a.toString(),10)]+i+"R ";this.fdfString+=s[s.length-1]+i+"R]/F("+this._fileName+")/UF(",this.fdfString+=this._fileName+")>>/Type/Catalog>>\r\nendobj\r\n",this.fdfString+="trailer\r\n<</Root "+p+"R>>\r\n%%EOF\r\n"}},t.prototype._exportAnnotation=function(e,t,i,n,r,s){this.fdfString=t;var o=new rs,a=e._dictionary,l=me._whiteSpace+"0"+me._whiteSpace+"obj\r\n",h="\r\nendobj\r\n";this._annotationID=i.toString(),this.fdfString+=i+l+"<<";var c=new Map,u=new Array;n.push(this._annotationID),a.set("Page",r);var p=this._getEntries(c,u,i,a,this.fdfString,s);i=p.index,c=p.list,u=p.streamReference,delete a._map.Page,this.fdfString+=">>"+h;for(var d=function(){var e=Array();c.forEach((function(t,i){e.push(i)}));for(var t=0;t<e.length;t++){var o=e[Number.parseInt(t.toString(),10)];if((c.get(o)instanceof Yn||c.get(o)instanceof Zn||c.get(o)instanceof fr)&&null!==(a=c.get(o)instanceof Yn?c.get(o):c.get(o).dictionary)&&"undefined"!==typeof a){if(a instanceof Yn&&a.has("Type")){var p=a.get("Type");null!==p&&"undefined"!==typeof p&&"Annot"===p.name&&(n.push(o.toString()),a.set("Page",r))}f.fdfString+=o+l+"<<";var d=f._getEntries(c,u,i,a,f.fdfString,s);c=d.list,u=d.streamReference,i=d.index,a instanceof Yn&&a.has("Page")&&delete a._map.Page,f.fdfString+=">>",null!==u&&"undefined"!==typeof u&&-1!==u.indexOf(o)&&f._appendStream(c.get(o),f.fdfString),f.fdfString+=h}c.delete(o)}},f=this;c.size>0;)d();return i++,o.index=i,o.annot=n,o},t.prototype._appendStream=function(e,t){var i=e;if(this.fdfString=t,(e instanceof fr||e instanceof Zn)&&(i=e instanceof fr?e.stream:e),e instanceof fr||e instanceof Zn){var n=i.getBytes(),r=new Uint8Array(n),s=new Fr.r4;s.write(r,0,r.length),s.close();var o=s.getCompressedString;this.fdfString+="stream\r\n",this.fdfString+=o,this.fdfString+="\r\nendstream"}},t.prototype._getEntries=function(e,t,i,n,r,s){var o=this,a=!1,l=new rs;this.fdfString=r;var h=e;return n.forEach((function(e,r){if(s||"AP"!==e){"P"!==e&&(o.fdfString+="/"+e),("Sound"===e||"F"===e||s)&&(a=!0);var l=r;if("string"===typeof l)o.fdfString+="("+o._getFormattedString(l)+")";else if(l instanceof Fn)o.fdfString+="/"+l.name;else if(l instanceof Array){var c=o._appendArray(l,o.fdfString,i,a,h,t);h=c.list,t=c.streamReference,i=c.index}else if("number"===typeof l)o.fdfString+=" "+l.toString();else if("boolean"===typeof l)o.fdfString+=" "+(l?"true":"false");else if(l instanceof Yn){o.fdfString+="<<";var u=o._getEntries(h,t,i,l,o.fdfString,s);h=u.list,t=u.streamReference,i=u.index,o.fdfString+=">>"}else if(l instanceof Vn){var p=n.get("Page");if("Parent"===e)o.fdfString+=" "+o._annotationID+" 0 R",o.fdfString+="/Page "+p;else if("IRT"===e){if(n.has("NM")){var d=n.get("NM");null!==d&&(o.fdfString+="("+o._getFormattedString(d)+")")}}else if("P"!==e){null!==l&&"undefined"!==typeof l&&(i++,o.fdfString+=" "+i+" 0 R",a&&t.push(i),h.set(i,n.get(e)))}}a=!1}})),l.list=h,l.streamReference=t,l.index=i,l},t.prototype._appendArray=function(e,t,i,n,r,s){this.fdfString=t,this.fdfString+="[";var o=new rs,a=r;if(null!==e&&e.length>0)for(var l=e.length,h=0;h<l;h++){var c=e[Number.parseInt(h.toString(),10)];0!==h&&("number"===typeof c||c instanceof Vn||"boolean"===typeof c)&&(this.fdfString+=" ");var u=this._appendElement(c,this.fdfString,i,n,a,s);a=u.list,s=u.streamReference,i=u.index}return this.fdfString+="]",o.list=a,o.streamReference=s,o.index=i,o},t.prototype._appendElement=function(e,t,i,n,r,s){this.fdfString=t;var o=new rs,a=r;if("number"===typeof e)this.fdfString+=e.toString();else if(e instanceof Fn)this.fdfString+=e.name.toString();else if(e instanceof Array){a=(l=this._appendArray(e,this.fdfString,i,n,a,s)).list,s=l.streamReference,i=l.index}else if(e instanceof Yn){var l;this.fdfString+="<<",a=(l=this._getEntries(a,s,i,e,this.fdfString,n)).list,s=l.streamReference,i=l.index,this.fdfString+=">>"}return o.list=a,o.streamReference=s,o.index=i,o},t.prototype._getFormattedString=function(e){for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);40!==n&&41!==n||(t+="'"),t+=String.fromCharCode(n)}return t},t.prototype._checkFdf=function(e){if(((e.includes(this._specialCharacters)||e.includes("\xc3\xa2\xc3\xa3\xc3\x8f\xc3\x93"))&&(this._asPerSpecification=!0),e.startsWith("%"))&&"FDF-"!==e.substring(1,5))throw new Error("Invalid FDF file.")},t.prototype._stringToHexString=function(e){var t="";null!==e&&"undefined"!==typeof e&&e.length>0&&(t=wi(gi(e)));return t},t}(Jr),rs=function(){},ss=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),os=function(){function e(e,t){this._bookMarkList=[],this._isExpanded=!1,this._isLoadedBookmark=!1,this._dictionary=e,this._crossReference=t}return Object.defineProperty(e.prototype,"count",{get:function(){return this._isLoadedBookmark&&0===this._bookMarkList.length&&this._reproduceTree(),this._bookMarkList.length},enumerable:!0,configurable:!0}),e.prototype.at=function(e){var t;if(e<0||e>=this.count)throw Error("Index out of range.");return this._bookMarkList.length>0&&e<this._bookMarkList.length&&(t=this._bookMarkList[Number.parseInt(e.toString(),10)]),t},e.prototype.contains=function(e){return-1!==this._bookMarkList.indexOf(e)},e.prototype._reproduceTree=function(){for(var e=this._getFirstBookmark(this),t=!!e;t&&e._dictionary;)this._bookMarkList.push(e),t=!!(e=e._next)},e.prototype._getFirstBookmark=function(e){var t,i=e._dictionary;if(i&&i.has("First")){var n=i.get("First");n&&(t=new as(n,this._crossReference))}return t},e}(),as=function(e){function t(t,i){var n=e.call(this,t,i)||this;if(!n._dictionary.has("Dest")&&n._dictionary.has("A")){var r=n._dictionary.get("A");if(r&&r.has("D")){var s=r.getRaw("D");n._dictionary.update("Dest",s)}}return n._isLoadedBookmark=!0,n}return ss(t,e),Object.defineProperty(t.prototype,"destination",{get:function(){var e,t=this._obtainNamedDestination();return null!==t&&"undefined"!==typeof t||(e=this._obtainDestination()),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"namedDestination",{get:function(){return null!==this._namedDestination&&"undefined"!==typeof this._namedDestination||(this._namedDestination=this._obtainNamedDestination()),this._namedDestination},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return null!==this._title&&"undefined"!==typeof this._title||(this._title=this._obtainTitle()),this._title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return null!==this._color&&"undefined"!==typeof this._color||this._dictionary.has("C")&&(this._color=Li(this._dictionary.getArray("C"))),this._color?this._color:[0,0,0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textStyle",{get:function(){return null!==this._textStyle&&"undefined"!==typeof this._textStyle||(this._textStyle=this._obtainTextStyle()),this._textStyle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExpanded",{get:function(){if(this._dictionary.has("Count")&&this._dictionary.get("Count")>=0)return!0;return this._isExpanded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_next",{get:function(){var e;if(this._dictionary.has("Next")){var i=this._dictionary.get("Next");i&&(e=new t(i,this._crossReference))}return e},enumerable:!0,configurable:!0}),t.prototype._obtainTextStyle=function(){var e=J.regular;if(this._dictionary.has("F")){var t=this._dictionary.get("F"),i=0;"undefined"!==typeof t&&null!==t&&(i=t),e|=i}return e},t.prototype._obtainTitle=function(){var e="";return this._dictionary.has("Title")&&(e=this._dictionary.get("Title")),e},t.prototype._obtainNamedDestination=function(){var e,t,i,n=this._crossReference._document;if(n&&(e=n._destinationCollection),e){var r=this._dictionary;if(r.has("A")){var s=r.get("A");s.has("D")&&(t=s.get("D"))}else r.has("Dest")&&(t=r.get("Dest"));if(t){var o=void 0;if(t instanceof Fn?o=t.name:"string"===typeof t&&(o=t),o)for(var a=e._namedDestinations,l=0;l<a.length;l++)if((i=a[Number.parseInt(l.toString(),10)])._title===o){t=i;break}}}return i},t.prototype._obtainDestination=function(){var e,t=this._dictionary;if(t&&t.has("Dest")){var i=t.getArray("Dest"),n=this._crossReference._document,r=void 0;if(i&&Array.isArray(i)&&i.length>0){var s=i[0],o=void 0,a=void 0,l=void 0,c=void 0,u=void 0;if("number"===typeof s){var p=i[0];if(p>=0){var d=this._crossReference._document;if(d&&d.pageCount>p&&(e=d.getPage(p)),i.length>1&&(r=i[1]),r&&"XYZ"===r.name&&(i.length>2&&(o=i[2]),i.length>3&&(a=i[3]),i.length>4&&(u=i[4]),e)){var f=null===a||"undefined"===typeof a?0:e.size[1]-a,g=null===o||"undefined"===typeof o?0:o;e.rotation!==h.angle0&&ci(e,a,o),this._destination=new Zt(e,[g,f]),this._destination._index=p,this._destination.zoom="undefined"!==typeof u&&null!==u?u:0,null!==o&&null!==a&&null!==u&&"undefined"!==typeof o&&"undefined"!==typeof a&&"undefined"!==typeof u||this._destination._setValidation(!1)}}}if(s instanceof Yn){var m=void 0;if(n&&s&&(m=ui(n,s)),"undefined"!==typeof m&&null!==m&&m>=0&&(e=n.getPage(m)),i.length>1&&(r=i[1]),r)if("XYZ"===r.name){if(i.length>2&&(o=i[2]),i.length>3&&(a=i[3]),i.length>4&&(u=i[4]),e){f=null===a||"undefined"===typeof a?0:e.size[1]-a,g=null===o||"undefined"===typeof o?0:o;e.rotation!==h.angle0&&(f=ci(e,a,o)),this._destination=new Zt(e,[g,f]),this._destination._index=m,this._destination.zoom="undefined"!==typeof u&&null!==u?u:0,null!==o&&null!==a&&null!==u&&"undefined"!==typeof o&&"undefined"!==typeof a&&"undefined"!==typeof u||this._destination._setValidation(!1)}}else if("FitR"===r.name)i.length>2&&(o=i[2]),i.length>3&&(l=i[3]),i.length>4&&(c=i[4]),i.length>5&&(a=i[5]),e&&(o=null===o||"undefined"===typeof o?0:o,l=null===l||"undefined"===typeof l?0:l,a=null===a||"undefined"===typeof a?0:a,c=null===c||"undefined"===typeof c?0:c,this._destination=new Zt(e,[o,l,c,a]),this._destination._index=m,this._destination.mode=I.fitR);else if("FitBH"===r.name||"FitH"===r.name){if(i.length>=3&&(a=i[2]),"undefined"!==typeof m&&null!==m&&m>=0&&(e=n.getPage(m)),e&&e.size){f=null===a||"undefined"===typeof a?0:e.size[1]-a;this._destination=new Zt(e,[0,f]),this._destination._index=m,this._destination.mode=I.fitH,null!==a&&"undefined"!==typeof a||this._destination._setValidation(!1)}}else e&&"Fit"===r.name&&(this._destination=new Zt(e),this._destination._index=m,this._destination.mode=I.fitToPage)}}}return this._destination},t}(os),ls=function(){function e(e,t){this._dictionary=e,this._crossReference=t}return Object.defineProperty(e.prototype,"destination",{get:function(){return this._destination},set:function(e){e&&(e._parent=this,this._destination=e,this._destination._initializePrimitive())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){e!==this._title&&(this._title=e,this._dictionary.update("Title",e),this._dictionary._updated=!0)},enumerable:!0,configurable:!0}),e}(),hs=function(){function e(e,t){if(this._namedDestinations=[],e&&(this._dictionary=e),t&&(this._crossReference=t),e&&e.has("Dests")){var i=e.get("Dests");if(i)if(i.has("Names"))this._addCollection(i);else if(i.has("Kids"))for(var n=i.getArray("Kids"),r=0;r<n.length;r++){var s=n[Number.parseInt(r.toString(),10)];this._addCollection(s)}}}return e.prototype._addCollection=function(e){var t,i,n=e.getRaw("Names");if(n instanceof Vn&&(t=this._crossReference._fetch(n)),t&&Array.isArray(t)&&t.length>0&&(n=t),n&&Array.isArray(n)&&n.length>0)for(var r=1;r<n.length;r+=2){var s=n[r];if(s instanceof Vn)(c=this._crossReference._fetch(s))&&Array.isArray(c)&&c.length>0?(i=new Yn).update("D",c):i=this._crossReference._fetch(s);else null!==i&&"undefined"!==typeof i||!Array.isArray(s)||(i=new Yn).update("D",s);if(i){var o=new ls(i,this._crossReference),a=n[r-1],l=void 0,c=void 0;if(a&&(o._title=a,i.has("D"))){c=i.get("D"),l=new Zt;var u=c[0];if(c&&c[0]instanceof Vn){var p=this._crossReference._fetch(u),d=this._crossReference._document,f=void 0;d&&p&&"undefined"!==typeof(f=ui(d,p))&&null!==f&&f>=0&&(l._index=f,l.page=d.getPage(f))}}if(c[1]instanceof Fn){var g=void 0,m=void 0,y=void 0,v=c[1].name,b=l.page;switch(v){case"Fit":l._destinationMode=I.fitToPage;break;case"XYZ":if(l._destinationMode=I.location,c.length>2&&(g=c[2]),c.length>3&&(m=c[3]),c.length>4&&(y=c[4]),b){var M=b.size,S=null===m||"undefined"===typeof m?0:M[1]-m,w=null===g||"undefined"===typeof g?0:g;l._location=[w,S],b.rotation!==h.angle0&&(S=ci(b,m,g)),l._zoom="undefined"!==typeof y&&null!==y?y:0,null!==g&&null!==m&&null!==y&&"undefined"!==typeof g&&"undefined"!==typeof m&&"undefined"!==typeof y||(l._isValid=!1)}break;case"FitH":case"FitBH":if(l._destinationMode=I.fitH,c.length>=3&&(m=c[2]),b){M=b.size,S=null===m||"undefined"===typeof m?0:M[1]-m;l._location=[0,S]}null!==m&&"undefined"!==typeof m||(l._isValid=!1);break;case"FitR":l._destinationMode=I.fitR}}l._parent=o,o._destination=l,this._namedDestinations.push(o)}}},e}(),cs=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),us=function(e){function t(t){var i=e.call(this)||this;return null!==t&&"undefined"!==typeof t&&(i._fileName=t),i}return cs(t,e),t.prototype._exportAnnotations=function(){throw new Error("Method not implemented.")},t.prototype._exportFormFields=function(e){return this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1,this._format="XML",this._key=Qi(),this._save()},t.prototype._save=function(){var e=new Qr;e._writeStartDocument(),this._asPerSpecification?(e._writeStartElement("fields"),e._writeAttributeString("xfdf","http://ns.adobe.com/xfdf-transition/","xmlns",null)):e._writeStartElement("Fields");var t=this._document.form;if(null!==t&&"undefined"!==typeof t){this._exportEmptyFields=t.exportEmptyFields;for(var i=this._document.form.count,n=0;n<i;n++){var r=this._document.form.fieldAt(n);null!==r&&"undefined"!==typeof r&&r.export&&this._exportFormFieldData(r)}this._writeFormFieldData(e,this._asPerSpecification)}var s=e._save();return e._destroy(),s},t.prototype._writeFormFieldData=function(e,t){void 0===t&&(t=!1),t?this._table.forEach((function(t,i){if(i.includes(" ")){var n=i.replace(/ /g,"");e._writeStartElement(n.toString()),e._writeAttributeString("original",i.toString(),"xfdf",null)}else e._writeStartElement(i.toString());e._writeString(t.toString()),e._writeEndElement()})):this._table.forEach((function(t,i){i.includes(" ")&&(i=i.replace(/ /g,"_x0020_")),e._writeStartElement(i.toString()),e._writeString(t.toString()),e._writeEndElement()})),e._writeEndElement()},t.prototype._importFormData=function(e,t){this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1;var i=Mi(t);i=(i=i.replace(/(\r\n|\n|\r)/gm,"")).replace(/[^\x20-\x7E]/g,""),this._xmlDocument=(new DOMParser).parseFromString(i,"text/xml"),this._checkXml(this._xmlDocument),this._xmlImport=!0,this._parseFormData(this._xmlDocument.documentElement),this._xmlImport=!1},t.prototype._parseFormData=function(e){var t=e.childNodes;if(null!==t&&"undefined"!==typeof t&&t.length>0)for(var i=0;i<t.length;i++){var n=t.item(i);if(null!==n&&"undefined"!==typeof n&&1===n.nodeType){var r=n,s="";if(null!==r.attributes&&"undefined"!==typeof r.attributes&&r.attributes.length>0){var o=r.attributes.item(0);null!==o&&"undefined"!==typeof o&&"xfdf:original"===o.name&&(s=o.value)}else s=r.tagName;var a=r.textContent;null!==s&&void 0!==s&&s.length>0&&this._table.set(s,a)}}this._importField()},t.prototype._importField=function(){var e=this,t=this._document.form,i=t.count;i&&this._table.forEach((function(n,r){var s;e._table.size>0&&e._table.has(r)&&(s=e._table.get(r));var o=r.toString();-1!==o.indexOf("_x0020_")&&(o=o.replace(/_x0020_/g," "));var a=t._getFieldIndex(o);if(-1!==a&&a<i){var l=t.fieldAt(a);if(l&&null!==l&&"undefined"!==typeof l){s&&""!==s&&l._dictionary.update("RV",s);var h=[];h.push(n),e._importFieldData(l,h)}}}))},t.prototype._checkXml=function(e){if(e.getElementsByTagName("parsererror").length>0)throw new Error("Invalid XML file.")},t}(Jr),ps=function(){function e(){}return Object.defineProperty(e.prototype,"crossReferenceType",{get:function(){return this._crossReferenceType},set:function(e){this._crossReferenceType=e},enumerable:!0,configurable:!0}),e}(),ds=function(){function e(e,t){if(this._headerSignature=new Uint8Array([37,80,68,70,45]),this._startXrefSignature=new Uint8Array([115,116,97,114,116,120,114,101,102]),this._endObjSignature=new Uint8Array([101,110,100,111,98,106]),this._version="",this._permissions=E.default,this._isEncrypted=!1,this._isUserPassword=!1,this._hasUserPasswordOnly=!1,this._encryptOnlyAttachment=!1,this._encryptMetaData=!1,this._isExport=!1,this._allowCustomData=!1,!e)throw new Error("PDF data cannot be undefined or null");this._stream=new Zn("string"===typeof e?Ci(e):e),this._fileStructure=new ps,this._crossReference=new Br(this,t),this._pages=new Map,this._checkHeader(),this._crossReference._setStartXRef(this._startXRef);try{this._parse(!1)}catch(i){if("XRefParseException"!==i.name)throw i;this._parse(!0)}this._crossReference._version=this._version}return Object.defineProperty(e.prototype,"_allowImportCustomData",{get:function(){return this._allowCustomData},set:function(e){this._allowCustomData=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_linearization",{get:function(){if(!this._linear){var e=void 0;try{e=new wr(this._stream)}catch(t){}this._linear=e}return this._linear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_startXRef",{get:function(){var e=this._stream,t=0;if(this._linearization&&this._linearization.isValid)e.reset(),this._find(e,this._endObjSignature)&&(t=e.position+6-e.start);else{for(var i=this._startXrefSignature.length,n=!1,r=e.end;!n&&r>0;)(r-=1024-i)<0&&(r=0),e.position=r,n=this._find(e,this._startXrefSignature,1024,!0);if(n){e.skip(9);var s=void 0;do{s=e.getByte()}while(Ni(s));for(var o="";s>=32&&s<=57;)o+=String.fromCharCode(s),s=e.getByte();t=parseInt(o,10),isNaN(t)&&(t=0)}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEncrypted",{get:function(){return this._isEncrypted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUserPassword",{get:function(){return this._isUserPassword},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return"undefined"===typeof this._pageCount&&(this._pageCount=0,this._linearization&&this._linearization.isValid?this._pageCount=this._linearization.pageCount:this._pageCount=this._catalog.pageCount),this._pageCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"form",{get:function(){return"undefined"===typeof this._form&&(this._form=new Yr(this._catalog.acroForm,this._crossReference)),this._form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flatten",{get:function(){return this._flatten},set:function(e){this._flatten=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"permissions",{get:function(){if(this._crossReference){var e=this._crossReference._permissionFlags;"undefined"!==typeof e&&(this._permissions=3903&e)}return this._permissions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bookmarks",{get:function(){var e=this._catalog;if(e&&e._catalogDictionary.has("Outlines")){var t=e._catalogDictionary.get("Outlines");t&&(this._bookmarkBase=new os(t,this._crossReference),t.has("First")&&this._bookmarkBase._reproduceTree())}return this._bookmarkBase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileStructure",{get:function(){return this._fileStructure},enumerable:!0,configurable:!0}),e.prototype.getPage=function(e){var t=this._pages.get(e);if(t)return t;var i,n=this._catalog,r=this._linearization;i=r&&r.isValid&&r.pageFirst===e?this._getLinearizationPage(e):n.getPageDictionary(e);var s=new Jt(this._crossReference,e,i.dictionary,i.reference);return this._pages.set(e,s),s},e.prototype.save=function(e){if(this._doPostProcess(this._flatten),"string"!==typeof e)return this._crossReference._save();Wr.e.save(e,new Blob([this._crossReference._save()],{type:"application/pdf"}))},e.prototype.saveAsBlob=function(){var e=this;return new Promise((function(t){t({blobData:new Blob([e._crossReference._save()],{type:"application/pdf"})})}))},e.prototype.exportAnnotations=function(e,t){var i,n;if(this._isExport=!0,this._doPostProcessOnAnnotations(),e&&e instanceof fs?n=e:t&&t instanceof fs&&(n=t),n){if(n.dataFormat===N.xfdf)i=new Zr;else if(n.dataFormat===N.json)i=new ts;else{if(n.dataFormat!==N.fdf)return;i=new ns}i.exportAppearance=n.exportAppearance}else i=new Zr;var r=i._exportAnnotations(this);if(!e||"string"!==typeof e)return r;Wr.e.save(e,new Blob([r],{type:"text/plain"}))},e.prototype.exportFormData=function(e,t){var i,n;if(this._doPostProcessOnFormFields(),e&&e instanceof gs?n=e:t&&t instanceof gs&&(n=t),n){if(n.dataFormat===N.xfdf)i=new Zr(n.exportName);else if(n.dataFormat===N.json)i=new ts(n.exportName);else if(n.dataFormat===N.fdf)i=new ns(n.exportName);else{if(n.dataFormat!==N.xml)return;i=new us(n.exportName)}i._asPerSpecification=n.asPerSpecification}else(i=new Zr)._asPerSpecification=!1;if(!e||"string"!==typeof e)return i._exportFormFields(this);Wr.e.save(e,new Blob([i._exportFormFields(this)],{type:"text/plain"}))},e.prototype.importAnnotations=function(e,t){if(t===N.xfdf)(new Zr)._importAnnotations(this,"string"===typeof e?Ci(e):e);else if(t===N.json){(new ts)._importAnnotations(this,"string"===typeof e?Ci(e):e)}else if(t===N.fdf){(new ns)._importAnnotations(this,"string"===typeof e?Ci(e):e)}},e.prototype.importFormData=function(e,t){if(this.form.count>0)if(t===N.xfdf)(new Zr)._importFormData(this,"string"===typeof e?Ci(e):e);else if(t===N.json){(new ts)._importFormData(this,"string"===typeof e?Ci(e):e)}else if(t===N.fdf){(new ns)._importFormData(this,"string"===typeof e?Ci(e):e)}else if(t===N.xml){(new us)._importFormData(this,"string"===typeof e?Ci(e):e)}},e.prototype.destroy=function(){this._crossReference&&(this._crossReference._destroy(),this._crossReference=void 0),this._catalog&&(this._catalog._destroy(),this._catalog=void 0),this._endObjSignature=void 0,this._headerSignature=void 0,this._pages&&this._pages.size>0&&this._pages.forEach((function(e){e._destroy()})),this._pages.clear(),this._pages=void 0,this._startXrefSignature=void 0,this._stream=void 0,this._form=void 0,qn()},Object.defineProperty(e.prototype,"_destinationCollection",{get:function(){if(null===this._namedDestinationCollection||"undefined"===typeof this._namedDestinationCollection)if(this._catalog._catalogDictionary.has("Names")){var e=this._catalog._catalogDictionary.get("Names");this._namedDestinationCollection=new hs(e,this._crossReference)}else this._namedDestinationCollection=new hs;return this._namedDestinationCollection},enumerable:!0,configurable:!0}),e.prototype._getLinearizationPage=function(e){var t=this,i=t._catalog,n=t._linearization,r=t._crossReference,s=Vn.get(n.objectNumberFirst,0);try{var o=r._fetch(s);if(o instanceof Yn)if(Gn(o.get("Type"),"Page")||!o.has("Type")&&!o.has("Kids"))return i.pageKidsCountCache.has(s)||i.pageKidsCountCache.put(s,1),i.pageIndexCache.has(s)||i.pageIndexCache.put(s,0),{dictionary:o,reference:s};throw new Dn("The Linearization dictionary does not point to a valid Page dictionary.")}catch(a){return i.getPageDictionary(e)}},e.prototype._checkHeader=function(){var e=this._stream;if(e.reset(),this._find(e,this._headerSignature)){e.moveStart();for(var t="",i=e.getByte();i>32&&!(t.length>=12);)t+=String.fromCharCode(i),i=e.getByte();this._version||(this._version=t.substring(5))}},e.prototype._parse=function(e){this._crossReference._parse(e),this._catalog=new gr(this._crossReference),this._catalog.version&&(this._version=this._catalog.version)},e.prototype._find=function(e,t,i,n){void 0===i&&(i=1024),void 0===n&&(n=!1);var r=t.length,s=e.peekBytes(i),o=s.length-r;if(o<=0)return!1;if(n)for(var a=r-1,l=s.length-1;l>=a;){for(var h=0;h<r&&s[l-h]===t[a-h];)h++;if(h>=r)return e.position+=l-a,!0;l--}else for(l=0;l<=o;){for(h=0;h<r&&s[l+h]===t[h];)h++;if(h>=r)return e.position+=l,!0;l++}return!1},e.prototype._doPostProcess=function(e){void 0===e&&(e=!1),this._doPostProcessOnFormFields(e),this._doPostProcessOnAnnotations(e)},e.prototype._doPostProcessOnFormFields=function(e){if(void 0===e&&(e=!1),this.form._doPostProcess(e),e){var t=this._catalog._catalogDictionary.getRaw("AcroForm"),i=new Yn(this._crossReference);i._updated=!0,t instanceof Vn?this._crossReference._cacheMap.set(t,i):(this.form._dictionary=i,this._crossReference._allowCatalog=!0),this.form._clear()}},e.prototype._doPostProcessOnAnnotations=function(e){void 0===e&&(e=!1);for(var t=0;t<this.pageCount;t++){var i=this.getPage(t);i.annotations._isExport=this._isExport,i.annotations._doPostProcess(e),e&&(i._pageDictionary.has("Annots")&&(delete i._pageDictionary._map.Annots,i._pageDictionary._updated=!0),i.annotations._clear())}},e.prototype._addWatermarkText=function(){if(this.pageCount>0)for(var e=0;e<this._pageCount;e++){var t=this.getPage(e);if(t)try{var i=t.graphics;i.save(),i.setTransparency(.2),i.drawRectangle(0,0,t.size[0],33.75,new oi([255,255,255])),i.restore(),i.save(),i.setTransparency(.5);var n=new We(fe.helvetica,12,de.regular),r=new ee(p.center,Z.middle);i.drawString("Created with a trial version of Syncfusion Essential PDF",n,[0,0,t.size[0],33.75],null,new oi([0,0,0]),r),i.restore()}catch(s){}}},e}(),fs=function(){function e(){this._format=N.xfdf,this._exportAppearance=!1}return Object.defineProperty(e.prototype,"dataFormat",{get:function(){return this._format},set:function(e){this._format=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exportAppearance",{get:function(){return this._exportAppearance},set:function(e){this._exportAppearance=e},enumerable:!0,configurable:!0}),e}(),gs=function(){function e(){this._format=N.xfdf,this._exportName="",this._asPerSpecification=!0}return Object.defineProperty(e.prototype,"dataFormat",{get:function(){return this._format},set:function(e){this._format=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exportName",{get:function(){return this._exportName},set:function(e){this._exportName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asPerSpecification",{get:function(){return this._asPerSpecification},set:function(e){this._asPerSpecification=e},enumerable:!0,configurable:!0}),e}(),ms=function(e,t,i,n){this._left=0,this._right=0,this._top=0,this._bottom=0,"undefined"===typeof e?(this._left=.5,this._right=.5,this._top=.5,this._bottom=.5):(this._left=e,this._right=i,this._top=t,this._bottom=n)},ys=function(){function e(e){this._format=K.unknown,this._height=0,this._width=0,this._bitsPerComponent=8,this._position=0,this._noOfComponents=-1,this._stream=e,this._initialize()}return Object.defineProperty(e.prototype,"_imageDataAsNumberArray",{get:function(){return this._imageData},enumerable:!0,configurable:!0}),e.prototype._initialize=function(){if(this._format!==K.unknown||!this._checkIfJpeg())throw new TypeError("Only the JPEG format is supported");this._format=K.jpeg,this._parseJpegImage(),this._reset(),this._imageData=new Uint8Array(this._stream.byteLength),this._read(this._imageData,0,this._imageData.byteLength)},e.prototype._reset=function(){this._position=0},e.prototype._parseJpegImage=function(){this._reset();var e=new Uint8Array(this._stream.byteLength);this._read(e,0,e.byteLength);for(var t=4,i=256*this._getBuffer(t)+this._getBuffer(t+1),n=!1;t<e.byteLength;){if(!((t+=i)<e.byteLength)){n=!0;break}if(192===this._getBuffer(t+1)){if(this._height=256*this._getBuffer(t+5)+this._getBuffer(t+6),this._width=256*this._getBuffer(t+7)+this._getBuffer(t+8),this._noOfComponents=this._getBuffer(t+9),0!==this._width&&0!==this._height)return}else t+=2,i=256*this._getBuffer(t)+this._getBuffer(t+1)}n&&(this._reset(),this._seek(2),this._readExceededJpegImage())},e.prototype._checkIfJpeg=function(){this._reset();for(var t=0;t<e._jpegHeader.length;t++){if(e._jpegHeader[Number.parseInt(t.toString(),10)]!==this._getBuffer(t))return!1;this._position++}return!0},e.prototype._read=function(e,t,i){for(var n=t;n<i;n++){var r=this._position;e[Number.parseInt(n.toString(),10)]=this._getBuffer(r),this._position++}},e.prototype._getBuffer=function(e){return this._stream[Number.parseInt(e.toString(),10)]},e.prototype._getImageDictionary=function(){this._imageStream=new Zn([],new Yn),this._imageStream.isImageStream=!0;for(var e="",t="",i=0;i<this._imageDataAsNumberArray.byteLength;i++)e+=" "+String.fromCharCode(this._getBuffer(i));for(i=0;i<e.length;i++)i%2!==0&&(t+=e[Number.parseInt(i.toString(),10)]);this._imageStream.data=[t],this._imageStream._isCompress=!1;var n=new Yn;n.set("Type",new Fn("XObject")),n.set("Subtype",new Fn("Image")),n.set("Width",this._width),n.set("Height",this._height),n.set("BitsPerComponent",this._bitsPerComponent),n.set("Filter",new Fn("DCTDecode")),n.set("ColorSpace",new Fn(this._getColorSpace())),n.set("DecodeParms",this._getDecodeParams()),this._imageStream.dictionary=n,this._imageStream.bytes=new Uint8Array(this._imageStream.data[0].length);for(i=0;i<this._imageStream.data[0].length;i++)this._imageStream.bytes[Number.parseInt(i.toString(),10)]=this._imageStream.data[0].charCodeAt(i);return this._imageStream.end=this._imageStream.bytes.length,this._imageStream.dictionary._updated=!0,this._imageStream},e.prototype._getColorSpace=function(){return 1===this._noOfComponents?"DeviceGray":4===this._noOfComponents?"DeviceCMYK":"DeviceRGB"},e.prototype._getDecodeParams=function(){var e=new Yn;return e.set("Columns",this._width),e.set("BlackIs1",!0),e.set("K",-1),e.set("Predictor",15),e.set("BitsPerComponent",this._bitsPerComponent),e},e.prototype._seek=function(e){this._position+=e},e.prototype._readByte=function(){if(this._position<this._stream.byteLength){var e=this._getBuffer(this._position);return this._position+=1,e}throw new Error("Error decoding JPEG image. Invalid offset.")},e.prototype._skipStream=function(){var e=this._getBuffer(this._position)<<8|this._getBuffer(this._position+1);if(this._seek(2),e<2)throw new Error("Error decoding JPEG image");e>0&&this._seek(e-2)},e.prototype._readExceededJpegImage=function(){for(var e=!0;e;){switch(this._getMarker()){case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:this._seek(3),this._height=this._getBuffer(this._position)<<8|this._getBuffer(this._position+1),this._seek(2),this._width=this._getBuffer(this._position)<<8|this._getBuffer(this._position+1),this._seek(2),this._noOfComponents=this._getBuffer(this._position),this._seek(1),e=!1;break;default:this._skipStream()}}},e.prototype._toUnsigned16=function(e){return(e&=65535)<0?e+65536:e},e.prototype._getMarker=function(){for(var e=0,t=this._readByte();255!=t;)e++,t=this._readByte();do{t=this._readByte()}while(255==t);if(0!=e)throw new Error("Error decoding JPEG image");return this._toUnsigned16(t)},e._jpegHeader=[255,216],e}(),vs=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),bs=function(e){function t(t){var i=e.call(this)||this;return i._imageStatus=!0,i._initializeAsync(t),i}return vs(t,e),t.prototype._initializeAsync=function(e){var t=new Uint8Array(e.length);null!==e&&"undefined"!==typeof e&&"string"===typeof e?t=Ci(e,!1):e instanceof Uint8Array&&(t=e),this._decoder=new ys(t),this.height=this._decoder._height,this.width=this._decoder._width,this._bitsPerComponent=this._decoder._bitsPerComponent},t.prototype._save=function(){this._imageStatus=!0,this._imageStream=this._decoder._getImageDictionary()},t}(ei)},5:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||n(t,e,i)};t.__esModule=!0,r(i(643),t)},497:(e,t,i)=>{"use strict";var n=i(218);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,i,r,s,o){if(o!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return i.PropTypes=i,i}},173:(e,t,i)=>{e.exports=i(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,i)=>{"use strict";var n=i(43),r=i(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function g(e,t,i,n,r,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,i,n){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,n){if(null===t||"undefined"===typeof t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,r,n)&&(i=null),n||null===r?function(e){return!!u.call(f,e)||!u.call(d,e)&&(p.test(e)?f[e]=!0:(d[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):r.mustUseProperty?e[r.propertyName]=null===i?3!==r.type&&"":i:(t=r.attributeName,n=r.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),x=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}var O,P=Object.assign;function R(e){if(void 0===O)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&"string"===typeof h.stack){for(var r=h.stack.split("\n"),s=n.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?R(e):""}function V(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case w:return"Portal";case N:return"Profiler";case I:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return U(e(t))}catch(i){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=Y(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var i=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function X(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=W(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){J(e,t);var i=W(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function ee(e,t,i){"number"===t&&G(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var te=Array.isArray;function ie(e,t,i,n){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&n&&(e[i].defaultSelected=!0)}else{for(i=""+W(i),t=null,r=0;r<e.length;r++){if(e[r].value===i)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(s(92));if(te(i)){if(1<i.length)throw Error(s(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:W(i)}}function se(e,t){var i=W(t.value),n=W(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,i){return null==t||"boolean"===typeof t||""===t?"":i||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=ge(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,r):e[i]=r}}Object.keys(de).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Me=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,_e=null,Ie=null;function Ne(e){if(e=br(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=Sr(t),we(e.stateNode,e.type,t))}}function Ce(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function xe(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function De(e,t){return e(t)}function Te(){}var Ae=!1;function je(e,t,i){if(Ae)return e(t,i);Ae=!0;try{return De(e,t,i)}finally{Ae=!1,(null!==_e||null!==Ie)&&(Te(),xe())}}function Ee(e,t){var i=e.stateNode;if(null===i)return null;var n=Sr(i);if(null===n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(i&&"function"!==typeof i)throw Error(s(231,t,typeof i));return i}var ke=!1;if(c)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){ke=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ce){ke=!1}function Le(e,t,i,n,r,s,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{t.apply(i,h)}catch(c){this.onError(c)}}var Oe=!1,Pe=null,Re=!1,Fe=null,Be={onError:function(e){Oe=!0,Pe=e}};function Ve(e,t,i,n,r,s,o,a,l){Oe=!1,Pe=null,Le.apply(Be,arguments)}function Ue(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(s(188))}function Ye(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var i=e,n=t;;){var r=i.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(n=r.return)){i=n;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===i)return We(r),e;if(o===n)return We(r),t;o=o.sibling}throw Error(s(188))}if(i.return!==n.return)i=r,n=o;else{for(var a=!1,l=r.child;l;){if(l===i){a=!0,i=r,n=o;break}if(l===n){a=!0,n=r,i=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===i){a=!0,i=o,n=r;break}if(l===n){a=!0,n=o,i=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(i.alternate!==n)throw Error(s(190))}if(3!==i.tag)throw Error(s(188));return i.stateNode.current===i?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var qe=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,Xe=r.unstable_requestPaint,Je=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,it=r.unstable_LowPriority,nt=r.unstable_IdlePriority,rt=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ht=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var i=e.pendingLanes;if(0===i)return 0;var n=0,r=e.suspendedLanes,s=e.pingedLanes,o=268435455&i;if(0!==o){var a=o&~r;0!==a?n=ut(a):0!==(s&=o)&&(n=ut(s))}else 0!==(o=i&~r)?n=ut(o):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&r)&&((r=n&-n)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)r=1<<(i=31-ot(t)),n|=e[i],t&=~r;return n}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ht;return 0===(4194240&(ht<<=1))&&(ht=64),e}function mt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function yt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=i}function vt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-ot(i),r=1<<n;r&t|e[n]&t&&(e[n]|=t),i&=~r}}var bt=0;function Mt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,wt,_t,It,Nt,Ct=!1,xt=[],Dt=null,Tt=null,At=null,jt=new Map,Et=new Map,kt=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Ot(e,t,i,n,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Pt(e){var t=vr(e.target);if(null!==t){var i=Ue(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=He(i)))return e.blockedOn=t,void Nt(e.priority,(function(){_t(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=br(i))&&wt(t),e.blockedOn=i,!1;var n=new(i=e.nativeEvent).constructor(i.type,i);Me=n,i.target.dispatchEvent(n),Me=null,t.shift()}return!0}function Ft(e,t,i){Rt(e)&&i.delete(t)}function Bt(){Ct=!1,null!==Dt&&Rt(Dt)&&(Dt=null),null!==Tt&&Rt(Tt)&&(Tt=null),null!==At&&Rt(At)&&(At=null),jt.forEach(Ft),Et.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Vt(t,e)}if(0<xt.length){Vt(xt[0],e);for(var i=1;i<xt.length;i++){var n=xt[i];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Dt&&Vt(Dt,e),null!==Tt&&Vt(Tt,e),null!==At&&Vt(At,e),jt.forEach(t),Et.forEach(t),i=0;i<kt.length;i++)(n=kt[i]).blockedOn===e&&(n.blockedOn=null);for(;0<kt.length&&null===(i=kt[0]).blockedOn;)Pt(i),null===i.blockedOn&&kt.shift()}var Ht=M.ReactCurrentBatchConfig,Wt=!0;function Yt(e,t,i,n){var r=bt,s=Ht.transition;Ht.transition=null;try{bt=1,qt(e,t,i,n)}finally{bt=r,Ht.transition=s}}function Qt(e,t,i,n){var r=bt,s=Ht.transition;Ht.transition=null;try{bt=4,qt(e,t,i,n)}finally{bt=r,Ht.transition=s}}function qt(e,t,i,n){if(Wt){var r=Kt(e,t,i,n);if(null===r)Wn(e,t,n,Gt,i),Lt(e,n);else if(function(e,t,i,n,r){switch(t){case"focusin":return Dt=Ot(Dt,e,t,i,n,r),!0;case"dragenter":return Tt=Ot(Tt,e,t,i,n,r),!0;case"mouseover":return At=Ot(At,e,t,i,n,r),!0;case"pointerover":var s=r.pointerId;return jt.set(s,Ot(jt.get(s)||null,e,t,i,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Et.set(s,Ot(Et.get(s)||null,e,t,i,n,r)),!0}return!1}(r,e,t,i,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<zt.indexOf(e)){for(;null!==r;){var s=br(r);if(null!==s&&St(s),null===(s=Kt(e,t,i,n))&&Wn(e,t,n,Gt,i),s===r)break;r=s}null!==r&&n.stopPropagation()}else Wn(e,t,n,null,i)}}var Gt=null;function Kt(e,t,i,n){if(Gt=null,null!==(e=vr(e=Se(n))))if(null===(t=Ue(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case it:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function ei(){if($t)return $t;var e,t,i=Zt,n=i.length,r="value"in Jt?Jt.value:Jt.textContent,s=r.length;for(e=0;e<n&&i[e]===r[e];e++);var o=n-e;for(t=1;t<=o&&i[n-t]===r[s-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ii(){return!0}function ni(){return!1}function ri(e){function t(t,i,n,r,s){for(var o in this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?ii:ni,this.isPropagationStopped=ni,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var si,oi,ai,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ri(li),ci=P({},li,{view:0,detail:0}),ui=ri(ci),pi=P({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ii,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&"mousemove"===e.type?(si=e.screenX-ai.screenX,oi=e.screenY-ai.screenY):oi=si=0,ai=e),si)},movementY:function(e){return"movementY"in e?e.movementY:oi}}),di=ri(pi),fi=ri(P({},pi,{dataTransfer:0})),gi=ri(P({},ci,{relatedTarget:0})),mi=ri(P({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),yi=P({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vi=ri(yi),bi=ri(P({},li,{data:0})),Mi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _i(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wi[e])&&!!t[e]}function Ii(){return _i}var Ni=P({},ci,{key:function(e){if(e.key){var t=Mi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Si[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ii,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ci=ri(Ni),xi=ri(P({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Di=ri(P({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ii})),Ti=ri(P({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ai=P({},pi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ji=ri(Ai),Ei=[9,13,27,32],ki=c&&"CompositionEvent"in window,zi=null;c&&"documentMode"in document&&(zi=document.documentMode);var Li=c&&"TextEvent"in window&&!zi,Oi=c&&(!ki||zi&&8<zi&&11>=zi),Pi=String.fromCharCode(32),Ri=!1;function Fi(e,t){switch(e){case"keyup":return-1!==Ei.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vi=!1;var Ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ui[e.type]:"textarea"===t}function Wi(e,t,i,n){Ce(n),0<(t=Qn(t,"onChange")).length&&(i=new hi("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var Yi=null,Qi=null;function qi(e){Rn(e,0)}function Gi(e){if(q(Mr(e)))return e}function Ki(e,t){if("change"===e)return t}var Xi=!1;if(c){var Ji;if(c){var Zi="oninput"in document;if(!Zi){var $i=document.createElement("div");$i.setAttribute("oninput","return;"),Zi="function"===typeof $i.oninput}Ji=Zi}else Ji=!1;Xi=Ji&&(!document.documentMode||9<document.documentMode)}function en(){Yi&&(Yi.detachEvent("onpropertychange",tn),Qi=Yi=null)}function tn(e){if("value"===e.propertyName&&Gi(Qi)){var t=[];Wi(t,Qi,e,Se(e)),je(qi,t)}}function nn(e,t,i){"focusin"===e?(en(),Qi=i,(Yi=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function rn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gi(Qi)}function sn(e,t){if("click"===e)return Gi(t)}function on(e,t){if("input"===e||"change"===e)return Gi(t)}var an="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(an(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var r=i[n];if(!u.call(t,r)||!an(e[r],t[r]))return!1}return!0}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cn(e,t){var i,n=hn(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var i="string"===typeof t.contentWindow.location.href}catch(n){i=!1}if(!i)break;t=G((e=t.contentWindow).document)}return t}function dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fn(e){var t=pn(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&un(i.ownerDocument.documentElement,i)){if(null!==n&&dn(i))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=i.textContent.length,s=Math.min(n.start,r);n=void 0===n.end?s:Math.min(n.end,r),!e.extend&&s>n&&(r=n,n=s,s=r),r=cn(i,s);var o=cn(i,n);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gn=c&&"documentMode"in document&&11>=document.documentMode,mn=null,yn=null,vn=null,bn=!1;function Mn(e,t,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;bn||null==mn||mn!==G(n)||("selectionStart"in(n=mn)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=Qn(yn,"onSelect")).length&&(t=new hi("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=mn)))}function Sn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var wn={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionend:Sn("Transition","TransitionEnd")},_n={},In={};function Nn(e){if(_n[e])return _n[e];if(!wn[e])return e;var t,i=wn[e];for(t in i)if(i.hasOwnProperty(t)&&t in In)return _n[e]=i[t];return e}c&&(In=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var Cn=Nn("animationend"),xn=Nn("animationiteration"),Dn=Nn("animationstart"),Tn=Nn("transitionend"),An=new Map,jn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){An.set(e,t),l(t,[e])}for(var kn=0;kn<jn.length;kn++){var zn=jn[kn];En(zn.toLowerCase(),"on"+(zn[0].toUpperCase()+zn.slice(1)))}En(Cn,"onAnimationEnd"),En(xn,"onAnimationIteration"),En(Dn,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Tn,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),On=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function Pn(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,n,r,o,a,l,h){if(Ve.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var c=Pe;Oe=!1,Pe=null,Re||(Re=!0,Fe=c)}}(n,t,void 0,e),e.currentTarget=null}function Rn(e,t){t=0!==(4&t);for(var i=0;i<e.length;i++){var n=e[i],r=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Pn(r,a,h),s=l}else for(o=0;o<n.length;o++){if(l=(a=n[o]).instance,h=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Pn(r,a,h),s=l}}}if(Re)throw e=Fe,Re=!1,Fe=null,e}function Fn(e,t){var i=t[gr];void 0===i&&(i=t[gr]=new Set);var n=e+"__bubble";i.has(n)||(Hn(t,e,2,!1),i.add(n))}function Bn(e,t,i){var n=0;t&&(n|=4),Hn(i,e,n,t)}var Vn="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[Vn]){e[Vn]=!0,o.forEach((function(t){"selectionchange"!==t&&(On.has(t)||Bn(t,!1,e),Bn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vn]||(t[Vn]=!0,Bn("selectionchange",!1,t))}}function Hn(e,t,i,n){switch(Xt(t)){case 1:var r=Yt;break;case 4:r=Qt;break;default:r=qt}i=r.bind(null,t,i,e),r=void 0,!ke||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):void 0!==r?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function Wn(e,t,i,n,r){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var a=n.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=vr(a)))return;if(5===(l=o.tag)||6===l){n=s=o;continue e}a=a.parentNode}}n=n.return}je((function(){var n=s,r=Se(i),o=[];e:{var a=An.get(e);if(void 0!==a){var l=hi,h=e;switch(e){case"keypress":if(0===ti(i))break e;case"keydown":case"keyup":l=Ci;break;case"focusin":h="focus",l=gi;break;case"focusout":h="blur",l=gi;break;case"beforeblur":case"afterblur":l=gi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Di;break;case Cn:case xn:case Dn:l=mi;break;case Tn:l=Ti;break;case"scroll":l=ui;break;case"wheel":l=ji;break;case"copy":case"cut":case"paste":l=vi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xi}var c=0!==(4&t),u=!c&&"scroll"===e,p=c?null!==a?a+"Capture":null:a;c=[];for(var d,f=n;null!==f;){var g=(d=f).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==p&&(null!=(g=Ee(f,p))&&c.push(Yn(f,g,d)))),u)break;f=f.return}0<c.length&&(a=new l(a,h,null,i,r),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||i===Me||!(h=i.relatedTarget||i.fromElement)||!vr(h)&&!h[fr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=n,null!==(h=(h=i.relatedTarget||i.toElement)?vr(h):null)&&(h!==(u=Ue(h))||5!==h.tag&&6!==h.tag)&&(h=null)):(l=null,h=n),l!==h)){if(c=di,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=xi,g="onPointerLeave",p="onPointerEnter",f="pointer"),u=null==l?a:Mr(l),d=null==h?a:Mr(h),(a=new c(g,f+"leave",l,i,r)).target=u,a.relatedTarget=d,g=null,vr(r)===n&&((c=new c(p,f+"enter",h,i,r)).target=d,c.relatedTarget=u,g=c),u=g,l&&h)e:{for(p=h,f=0,d=c=l;d;d=qn(d))f++;for(d=0,g=p;g;g=qn(g))d++;for(;0<f-d;)c=qn(c),f--;for(;0<d-f;)p=qn(p),d--;for(;f--;){if(c===p||null!==p&&c===p.alternate)break e;c=qn(c),p=qn(p)}c=null}else c=null;null!==l&&Gn(o,a,l,c,!1),null!==h&&null!==u&&Gn(o,u,h,c,!0)}if("select"===(l=(a=n?Mr(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Ki;else if(Hi(a))if(Xi)m=on;else{m=rn;var y=nn}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sn);switch(m&&(m=m(e,n))?Wi(o,m,i,r):(y&&y(e,a,n),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=n?Mr(n):window,e){case"focusin":(Hi(y)||"true"===y.contentEditable)&&(mn=y,yn=n,vn=null);break;case"focusout":vn=yn=mn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,Mn(o,i,r);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":Mn(o,i,r)}var v;if(ki)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vi?Fi(e,i)&&(b="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(b="onCompositionStart");b&&(Oi&&"ko"!==i.locale&&(Vi||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vi&&(v=ei()):(Zt="value"in(Jt=r)?Jt.value:Jt.textContent,Vi=!0)),0<(y=Qn(n,b)).length&&(b=new bi(b,e,null,i,r),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bi(i))&&(b.data=v))),(v=Li?function(e,t){switch(e){case"compositionend":return Bi(t);case"keypress":return 32!==t.which?null:(Ri=!0,Pi);case"textInput":return(e=t.data)===Pi&&Ri?null:e;default:return null}}(e,i):function(e,t){if(Vi)return"compositionend"===e||!ki&&Fi(e,t)?(e=ei(),$t=Zt=Jt=null,Vi=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oi&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(n=Qn(n,"onBeforeInput")).length&&(r=new bi("onBeforeInput","beforeinput",null,i,r),o.push({event:r,listeners:n}),r.data=v))}Rn(o,t)}))}function Yn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Qn(e,t){for(var i=t+"Capture",n=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Ee(e,i))&&n.unshift(Yn(e,s,r)),null!=(s=Ee(e,t))&&n.push(Yn(e,s,r))),e=e.return}return n}function qn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gn(e,t,i,n,r){for(var s=t._reactName,o=[];null!==i&&i!==n;){var a=i,l=a.alternate,h=a.stateNode;if(null!==l&&l===n)break;5===a.tag&&null!==h&&(a=h,r?null!=(l=Ee(i,s))&&o.unshift(Yn(i,l,a)):r||null!=(l=Ee(i,s))&&o.push(Yn(i,l,a))),i=i.return}0!==o.length&&e.push({event:t,listeners:o})}var Kn=/\r\n?/g,Xn=/\u0000|\uFFFD/g;function Jn(e){return("string"===typeof e?e:""+e).replace(Kn,"\n").replace(Xn,"")}function Zn(e,t,i){if(t=Jn(t),Jn(e)!==t&&i)throw Error(s(425))}function $n(){}var er=null,tr=null;function ir(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var nr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(ar)}:nr;function ar(e){setTimeout((function(){throw e}))}function lr(e,t){var i=t,n=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&8===r.nodeType)if("/$"===(i=r.data)){if(0===n)return e.removeChild(r),void Ut(t);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=r}while(i);Ut(t)}function hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),pr="__reactFiber$"+ur,dr="__reactProps$"+ur,fr="__reactContainer$"+ur,gr="__reactEvents$"+ur,mr="__reactListeners$"+ur,yr="__reactHandles$"+ur;function vr(e){var t=e[pr];if(t)return t;for(var i=e.parentNode;i;){if(t=i[fr]||i[pr]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=cr(e);null!==e;){if(i=e[pr])return i;e=cr(e)}return t}i=(e=i).parentNode}return null}function br(e){return!(e=e[pr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Mr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Sr(e){return e[dr]||null}var wr=[],_r=-1;function Ir(e){return{current:e}}function Nr(e){0>_r||(e.current=wr[_r],wr[_r]=null,_r--)}function Cr(e,t){_r++,wr[_r]=e.current,e.current=t}var xr={},Dr=Ir(xr),Tr=Ir(!1),Ar=xr;function jr(e,t){var i=e.type.contextTypes;if(!i)return xr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in i)s[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Er(e){return null!==(e=e.childContextTypes)&&void 0!==e}function kr(){Nr(Tr),Nr(Dr)}function zr(e,t,i){if(Dr.current!==xr)throw Error(s(168));Cr(Dr,t),Cr(Tr,i)}function Lr(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var r in n=n.getChildContext())if(!(r in t))throw Error(s(108,H(e)||"Unknown",r));return P({},i,n)}function Or(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xr,Ar=Dr.current,Cr(Dr,e),Cr(Tr,Tr.current),!0}function Pr(e,t,i){var n=e.stateNode;if(!n)throw Error(s(169));i?(e=Lr(e,t,Ar),n.__reactInternalMemoizedMergedChildContext=e,Nr(Tr),Nr(Dr),Cr(Dr,e)):Nr(Tr),Cr(Tr,i)}var Rr=null,Fr=!1,Br=!1;function Vr(e){null===Rr?Rr=[e]:Rr.push(e)}function Ur(){if(!Br&&null!==Rr){Br=!0;var e=0,t=bt;try{var i=Rr;for(bt=1;e<i.length;e++){var n=i[e];do{n=n(!0)}while(null!==n)}Rr=null,Fr=!1}catch(r){throw null!==Rr&&(Rr=Rr.slice(e+1)),qe($e,Ur),r}finally{bt=t,Br=!1}}return null}var Hr=[],Wr=0,Yr=null,Qr=0,qr=[],Gr=0,Kr=null,Xr=1,Jr="";function Zr(e,t){Hr[Wr++]=Qr,Hr[Wr++]=Yr,Yr=e,Qr=t}function $r(e,t,i){qr[Gr++]=Xr,qr[Gr++]=Jr,qr[Gr++]=Kr,Kr=e;var n=Xr;e=Jr;var r=32-ot(n)-1;n&=~(1<<r),i+=1;var s=32-ot(t)+r;if(30<s){var o=r-r%5;s=(n&(1<<o)-1).toString(32),n>>=o,r-=o,Xr=1<<32-ot(t)+r|i<<r|n,Jr=s+e}else Xr=1<<s|i<<r|n,Jr=e}function es(e){null!==e.return&&(Zr(e,1),$r(e,1,0))}function ts(e){for(;e===Yr;)Yr=Hr[--Wr],Hr[Wr]=null,Qr=Hr[--Wr],Hr[Wr]=null;for(;e===Kr;)Kr=qr[--Gr],qr[Gr]=null,Jr=qr[--Gr],qr[Gr]=null,Xr=qr[--Gr],qr[Gr]=null}var is=null,ns=null,rs=!1,ss=null;function os(e,t){var i=jh(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function as(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,is=e,ns=hr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,is=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==Kr?{id:Xr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=jh(18,null,null,0)).stateNode=t,i.return=e,e.child=i,is=e,ns=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function hs(e){if(rs){var t=ns;if(t){var i=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=hr(i.nextSibling);var n=is;t&&as(e,t)?os(n,i):(e.flags=-4097&e.flags|2,rs=!1,is=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,is=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;is=e}function us(e){if(e!==is)return!1;if(!rs)return cs(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ir(e.type,e.memoizedProps)),t&&(t=ns)){if(ls(e))throw ps(),Error(s(418));for(;t;)os(e,t),t=hr(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){ns=hr(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}ns=null}}else ns=is?hr(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=ns;e;)e=hr(e.nextSibling)}function ds(){ns=is=null,rs=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var gs=M.ReactCurrentBatchConfig;function ms(e,t,i){if(null!==(e=i.ref)&&"function"!==typeof e&&"object"!==typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(s(309));var n=i.stateNode}if(!n)throw Error(s(147,e));var r=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,i){if(e){var n=t.deletions;null===n?(t.deletions=[i],t.flags|=16):n.push(i)}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=kh(e,t)).index=0,e.sibling=null,e}function o(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.flags|=2,i):n:(t.flags|=2,i):(t.flags|=1048576,i)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=Ph(i,e.mode,n)).return=e,t):((t=r(t,i)).return=e,t)}function h(e,t,i,n){var s=i.type;return s===_?u(e,t,i.props.children,n,i.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===E&&vs(s)===t.type)?((n=r(t,i.props)).ref=ms(e,t,i),n.return=e,n):((n=zh(i.type,i.key,i.props,null,e.mode,n)).ref=ms(e,t,i),n.return=e,n)}function c(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Rh(i,e.mode,n)).return=e,t):((t=r(t,i.children||[])).return=e,t)}function u(e,t,i,n,s){return null===t||7!==t.tag?((t=Lh(i,e.mode,n,s)).return=e,t):((t=r(t,i)).return=e,t)}function p(e,t,i){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ph(""+t,e.mode,i)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(i=zh(t.type,t.key,t.props,null,e.mode,i)).ref=ms(e,null,t),i.return=e,i;case w:return(t=Rh(t,e.mode,i)).return=e,t;case E:return p(e,(0,t._init)(t._payload),i)}if(te(t)||L(t))return(t=Lh(t,e.mode,i,null)).return=e,t;ys(e,t)}return null}function d(e,t,i,n){var r=null!==t?t.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==r?null:l(e,t,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case S:return i.key===r?h(e,t,i,n):null;case w:return i.key===r?c(e,t,i,n):null;case E:return d(e,t,(r=i._init)(i._payload),n)}if(te(i)||L(i))return null!==r?null:u(e,t,i,n,null);ys(e,i)}return null}function f(e,t,i,n,r){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return h(t,e=e.get(null===n.key?i:n.key)||null,n,r);case w:return c(t,e=e.get(null===n.key?i:n.key)||null,n,r);case E:return f(e,t,i,(0,n._init)(n._payload),r)}if(te(n)||L(n))return u(t,e=e.get(i)||null,n,r,null);ys(t,n)}return null}function g(r,s,a,l){for(var h=null,c=null,u=s,g=s=0,m=null;null!==u&&g<a.length;g++){u.index>g?(m=u,u=null):m=u.sibling;var y=d(r,u,a[g],l);if(null===y){null===u&&(u=m);break}e&&u&&null===y.alternate&&t(r,u),s=o(y,s,g),null===c?h=y:c.sibling=y,c=y,u=m}if(g===a.length)return i(r,u),rs&&Zr(r,g),h;if(null===u){for(;g<a.length;g++)null!==(u=p(r,a[g],l))&&(s=o(u,s,g),null===c?h=u:c.sibling=u,c=u);return rs&&Zr(r,g),h}for(u=n(r,u);g<a.length;g++)null!==(m=f(u,r,g,a[g],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?g:m.key),s=o(m,s,g),null===c?h=m:c.sibling=m,c=m);return e&&u.forEach((function(e){return t(r,e)})),rs&&Zr(r,g),h}function m(r,a,l,h){var c=L(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var u=c=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=d(r,g,v.value,h);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(r,g),a=o(b,a,m),null===u?c=b:u.sibling=b,u=b,g=y}if(v.done)return i(r,g),rs&&Zr(r,m),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=p(r,v.value,h))&&(a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return rs&&Zr(r,m),c}for(g=n(r,g);!v.done;m++,v=l.next())null!==(v=f(g,r,m,v.value,h))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return e&&g.forEach((function(e){return t(r,e)})),rs&&Zr(r,m),c}return function e(n,s,o,l){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case S:e:{for(var h=o.key,c=s;null!==c;){if(c.key===h){if((h=o.type)===_){if(7===c.tag){i(n,c.sibling),(s=r(c,o.props.children)).return=n,n=s;break e}}else if(c.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===E&&vs(h)===c.type){i(n,c.sibling),(s=r(c,o.props)).ref=ms(n,c,o),s.return=n,n=s;break e}i(n,c);break}t(n,c),c=c.sibling}o.type===_?((s=Lh(o.props.children,n.mode,l,o.key)).return=n,n=s):((l=zh(o.type,o.key,o.props,null,n.mode,l)).ref=ms(n,s,o),l.return=n,n=l)}return a(n);case w:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){i(n,s.sibling),(s=r(s,o.children||[])).return=n,n=s;break e}i(n,s);break}t(n,s),s=s.sibling}(s=Rh(o,n.mode,l)).return=n,n=s}return a(n);case E:return e(n,s,(c=o._init)(o._payload),l)}if(te(o))return g(n,s,o,l);if(L(o))return m(n,s,o,l);ys(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(i(n,s.sibling),(s=r(s,o)).return=n,n=s):(i(n,s),(s=Ph(o,n.mode,l)).return=n,n=s),a(n)):i(n,s)}}var Ms=bs(!0),Ss=bs(!1),ws=Ir(null),_s=null,Is=null,Ns=null;function Cs(){Ns=Is=_s=null}function xs(e){var t=ws.current;Nr(ws),e._currentValue=t}function Ds(e,t,i){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function Ts(e,t){_s=e,Ns=Is=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Ns!==e)if(e={context:e,memoizedValue:t,next:null},null===Is){if(null===_s)throw Error(s(308));Is=e,_s.dependencies={lanes:0,firstContext:e}}else Is=Is.next=e;return t}var js=null;function Es(e){null===js?js=[e]:js.push(e)}function ks(e,t,i,n){var r=t.interleaved;return null===r?(i.next=i,Es(t)):(i.next=r.next,r.next=i),t.interleaved=i,zs(e,n)}function zs(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}var Ls=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,i){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Dl)){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,zs(e,i)}return null===(r=n.interleaved)?(t.next=t,Es(n)):(t.next=r.next,r.next=t),n.interleaved=t,zs(e,i)}function Bs(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&i))){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,vt(e,i)}}function Vs(e,t){var i=e.updateQueue,n=e.alternate;if(null!==n&&i===(n=n.updateQueue)){var r=null,s=null;if(null!==(i=i.firstBaseUpdate)){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===s?r=s=o:s=s.next=o,i=i.next}while(null!==i);null===s?r=s=t:s=s.next=t}else r=s=t;return i={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Us(e,t,i,n){var r=e.updateQueue;Ls=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,h=l.next;l.next=null,null===o?s=h:o.next=h,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=h:a.next=h,c.lastBaseUpdate=l))}if(null!==s){var u=r.baseState;for(o=0,c=h=l=null,a=s;;){var p=a.lane,d=a.eventTime;if((n&p)===p){null!==c&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(p=t,d=i,g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(d,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=g.payload)?f.call(d,u,p):f)||void 0===p)break e;u=P({},u,p);break e;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[a]:p.push(a))}else d={eventTime:d,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(h=c=d,l=u):c=c.next=d,o|=p;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(p=a).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===c&&(l=u),r.baseState=l,r.firstBaseUpdate=h,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Ol|=o,e.lanes=o,e.memoizedState=u}}function Hs(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(null!==r){if(n.callback=null,n=i,"function"!==typeof r)throw Error(s(191,r));r.call(n)}}}var Ws={},Ys=Ir(Ws),Qs=Ir(Ws),qs=Ir(Ws);function Gs(e){if(e===Ws)throw Error(s(174));return e}function Ks(e,t){switch(Cr(qs,t),Cr(Qs,e),Cr(Ys,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Nr(Ys),Cr(Ys,t)}function Xs(){Nr(Ys),Nr(Qs),Nr(qs)}function Js(e){Gs(qs.current);var t=Gs(Ys.current),i=le(t,e.type);t!==i&&(Cr(Qs,e),Cr(Ys,i))}function Zs(e){Qs.current===e&&(Nr(Ys),Nr(Qs))}var $s=Ir(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function io(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=M.ReactCurrentDispatcher,ro=M.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,ho=!1,co=!1,uo=0,po=0;function fo(){throw Error(s(321))}function go(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!an(e[i],t[i]))return!1;return!0}function mo(e,t,i,n,r,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?$o:ea,e=i(n,r),co){o=0;do{if(co=!1,uo=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,no.current=ta,e=i(n,r)}while(co)}if(no.current=Zo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,ho=!1,t)throw Error(s(300));return e}function yo(){var e=0!==uo;return uo=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function Mo(e,t){return"function"===typeof t?t(e):t}function So(e){var t=bo(),i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=e;var n=ao,r=n.baseQueue,o=i.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}n.baseQueue=r=o,i.pending=null}if(null!==r){o=r.next,n=n.baseState;var l=a=null,h=null,c=o;do{var u=c.lane;if((so&u)===u)null!==h&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var p={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===h?(l=h=p,a=n):h=h.next=p,oo.lanes|=u,Ol|=u}c=c.next}while(null!==c&&c!==o);null===h?a=n:h.next=l,an(n,t.memoizedState)||(ba=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=h,i.lastRenderedState=n}if(null!==(e=i.interleaved)){r=e;do{o=r.lane,oo.lanes|=o,Ol|=o,r=r.next}while(r!==e)}else null===r&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function wo(e){var t=bo(),i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=e;var n=i.dispatch,r=i.pending,o=t.memoizedState;if(null!==r){i.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);an(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),i.lastRenderedState=o}return[o,n]}function _o(){}function Io(e,t){var i=oo,n=bo(),r=t(),o=!an(n.memoizedState,r);if(o&&(n.memoizedState=r,ba=!0),n=n.queue,Oo(xo.bind(null,i,n,e),[e]),n.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(i.flags|=2048,jo(9,Co.bind(null,i,n,r,t),void 0,null),null===Tl)throw Error(s(349));0!==(30&so)||No(i,t,r)}return r}function No(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function Co(e,t,i,n){t.value=i,t.getSnapshot=n,Do(t)&&To(e)}function xo(e,t,i){return i((function(){Do(t)&&To(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!an(e,i)}catch(n){return!0}}function To(e){var t=zs(e,1);null!==t&&ih(t,e,1,-1)}function Ao(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function jo(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function Eo(){return bo().memoizedState}function ko(e,t,i,n){var r=vo();oo.flags|=e,r.memoizedState=jo(1|t,i,void 0,void 0===n?null:n)}function zo(e,t,i,n){var r=bo();n=void 0===n?null:n;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==n&&go(n,o.deps))return void(r.memoizedState=jo(t,i,s,n))}oo.flags|=e,r.memoizedState=jo(1|t,i,s,n)}function Lo(e,t){return ko(8390656,8,e,t)}function Oo(e,t){return zo(2048,8,e,t)}function Po(e,t){return zo(4,2,e,t)}function Ro(e,t){return zo(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,zo(4,4,Fo.bind(null,t,e),i)}function Vo(){}function Uo(e,t){var i=bo();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&go(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function Ho(e,t){var i=bo();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&go(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function Wo(e,t,i){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=i):(an(i,t)||(i=gt(),oo.lanes|=i,Ol|=i,e.baseState=!0),t)}function Yo(e,t){var i=bt;bt=0!==i&&4>i?i:4,e(!0);var n=ro.transition;ro.transition={};try{e(!1),t()}finally{bt=i,ro.transition=n}}function Qo(){return bo().memoizedState}function qo(e,t,i){var n=th(e);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Ko(e))Xo(t,i);else if(null!==(i=ks(e,t,i,n))){ih(i,e,n,eh()),Jo(i,t,n)}}function Go(e,t,i){var n=th(e),r={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ko(e))Xo(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,i);if(r.hasEagerState=!0,r.eagerState=a,an(a,o)){var l=t.interleaved;return null===l?(r.next=r,Es(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(h){}null!==(i=ks(e,t,r,n))&&(ih(i,e,n,r=eh()),Jo(i,t,n))}}function Ko(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){co=ho=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Jo(e,t,i){if(0!==(4194240&i)){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,vt(e,i)}}var Zo={readContext:As,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},$o={readContext:As,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Lo,useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,ko(4194308,4,Fo.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ko(4194308,4,e,t)},useInsertionEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var i=vo();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=vo();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qo.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ao,useDebugValue:Vo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Yo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=oo,r=vo();if(rs){if(void 0===i)throw Error(s(407));i=i()}else{if(i=t(),null===Tl)throw Error(s(349));0!==(30&so)||No(n,t,i)}r.memoizedState=i;var o={value:i,getSnapshot:t};return r.queue=o,Lo(xo.bind(null,n,o,e),[e]),n.flags|=2048,jo(9,Co.bind(null,n,o,i,t),void 0,null),i},useId:function(){var e=vo(),t=Tl.identifierPrefix;if(rs){var i=Jr;t=":"+t+"R"+(i=(Xr&~(1<<32-ot(Xr)-1)).toString(32)+i),0<(i=uo++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:As,useCallback:Uo,useContext:As,useEffect:Oo,useImperativeHandle:Bo,useInsertionEffect:Po,useLayoutEffect:Ro,useMemo:Ho,useReducer:So,useRef:Eo,useState:function(){return So(Mo)},useDebugValue:Vo,useDeferredValue:function(e){return Wo(bo(),ao.memoizedState,e)},useTransition:function(){return[So(Mo)[0],bo().memoizedState]},useMutableSource:_o,useSyncExternalStore:Io,useId:Qo,unstable_isNewReconciler:!1},ta={readContext:As,useCallback:Uo,useContext:As,useEffect:Oo,useImperativeHandle:Bo,useInsertionEffect:Po,useLayoutEffect:Ro,useMemo:Ho,useReducer:wo,useRef:Eo,useState:function(){return wo(Mo)},useDebugValue:Vo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:Wo(t,ao.memoizedState,e)},useTransition:function(){return[wo(Mo)[0],bo().memoizedState]},useMutableSource:_o,useSyncExternalStore:Io,useId:Qo,unstable_isNewReconciler:!1};function ia(e,t){if(e&&e.defaultProps){for(var i in t=P({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}function na(e,t,i,n){i=null===(i=i(n,t=e.memoizedState))||void 0===i?t:P({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var ra={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=eh(),r=th(e),s=Rs(n,r);s.payload=t,void 0!==i&&null!==i&&(s.callback=i),null!==(t=Fs(e,s,r))&&(ih(t,e,r,n),Bs(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=eh(),r=th(e),s=Rs(n,r);s.tag=1,s.payload=t,void 0!==i&&null!==i&&(s.callback=i),null!==(t=Fs(e,s,r))&&(ih(t,e,r,n),Bs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=eh(),n=th(e),r=Rs(i,n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Fs(e,r,n))&&(ih(t,e,n,i),Bs(t,e,n))}};function sa(e,t,i,n,r,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(i,n)||!ln(r,s))}function oa(e,t,i){var n=!1,r=xr,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(r=Er(t)?Ar:Dr.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?jr(e,r):xr),t=new t(i,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ra,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,i,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&ra.enqueueReplaceState(t,t.state,null)}function la(e,t,i,n){var r=e.stateNode;r.props=i,r.state=e.memoizedState,r.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=As(s):(s=Er(t)?Ar:Dr.current,r.context=jr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(na(e,t,s,i),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ra.enqueueReplaceState(r,r.state,null),Us(e,i,r,n),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ha(e,t){try{var i="",n=t;do{i+=V(n),n=n.return}while(n);var r=i}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function ca(e,t,i){return{value:e,source:null,stack:null!=i?i:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(i){setTimeout((function(){throw i}))}}var pa="function"===typeof WeakMap?WeakMap:Map;function da(e,t,i){(i=Rs(-1,i)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){Wl||(Wl=!0,Yl=n),ua(0,t)},i}function fa(e,t,i){(i=Rs(-1,i)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var r=t.value;i.payload=function(){return n(r)},i.callback=function(){ua(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){ua(0,t),"function"!==typeof n&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function ga(e,t,i){var n=e.pingCache;if(null===n){n=e.pingCache=new pa;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(i)||(r.add(i),e=Nh.bind(null,e,t,i),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,i,n,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=Rs(-1,1)).tag=2,Fs(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var va=M.ReactCurrentOwner,ba=!1;function Ma(e,t,i,n){t.child=null===e?Ss(t,null,i,n):Ms(t,e.child,i,n)}function Sa(e,t,i,n,r){i=i.render;var s=t.ref;return Ts(t,r),n=mo(e,t,i,n,s,r),i=yo(),null===e||ba?(rs&&i&&es(t),t.flags|=1,Ma(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wa(e,t,r))}function wa(e,t,i,n,r){if(null===e){var s=i.type;return"function"!==typeof s||Eh(s)||void 0!==s.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=zh(i.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_a(e,t,s,n,r))}if(s=e.child,0===(e.lanes&r)){var o=s.memoizedProps;if((i=null!==(i=i.compare)?i:ln)(o,n)&&e.ref===t.ref)return Wa(e,t,r)}return t.flags|=1,(e=kh(s,n)).ref=t.ref,e.return=t,t.child=e}function _a(e,t,i,n,r){if(null!==e){var s=e.memoizedProps;if(ln(s,n)&&e.ref===t.ref){if(ba=!1,t.pendingProps=n=s,0===(e.lanes&r))return t.lanes=e.lanes,Wa(e,t,r);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,i,n,r)}function Ia(e,t,i){var n=t.pendingProps,r=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(kl,El),El|=i;else{if(0===(1073741824&i))return e=null!==s?s.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(kl,El),El|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:i,Cr(kl,El),El|=n}else null!==s?(n=s.baseLanes|i,t.memoizedState=null):n=i,Cr(kl,El),El|=n;return Ma(e,t,r,i),t.child}function Na(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,i,n,r){var s=Er(i)?Ar:Dr.current;return s=jr(t,s),Ts(t,r),i=mo(e,t,i,n,s,r),n=yo(),null===e||ba?(rs&&n&&es(t),t.flags|=1,Ma(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wa(e,t,r))}function xa(e,t,i,n,r){if(Er(i)){var s=!0;Or(t)}else s=!1;if(Ts(t,r),null===t.stateNode)Ha(e,t),oa(t,i,n),la(t,i,n,r),n=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,h=i.contextType;"object"===typeof h&&null!==h?h=As(h):h=jr(t,h=Er(i)?Ar:Dr.current);var c=i.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==n||l!==h)&&aa(t,o,n,h),Ls=!1;var p=t.memoizedState;o.state=p,Us(t,n,o,r),l=t.memoizedState,a!==n||p!==l||Tr.current||Ls?("function"===typeof c&&(na(t,i,c,n),l=t.memoizedState),(a=Ls||sa(t,i,a,n,p,l,h))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=h,n=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ps(e,t),a=t.memoizedProps,h=t.type===t.elementType?a:ia(t.type,a),o.props=h,u=t.pendingProps,p=o.context,"object"===typeof(l=i.contextType)&&null!==l?l=As(l):l=jr(t,l=Er(i)?Ar:Dr.current);var d=i.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||p!==l)&&aa(t,o,n,l),Ls=!1,p=t.memoizedState,o.state=p,Us(t,n,o,r);var f=t.memoizedState;a!==u||p!==f||Tr.current||Ls?("function"===typeof d&&(na(t,i,d,n),f=t.memoizedState),(h=Ls||sa(t,i,h,n,p,f,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),o.props=n,o.state=f,o.context=l,n=h):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Da(e,t,i,n,s,r)}function Da(e,t,i,n,r,s){Na(e,t);var o=0!==(128&t.flags);if(!n&&!o)return r&&Pr(t,i,!1),Wa(e,t,s);n=t.stateNode,va.current=t;var a=o&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=Ms(t,e.child,null,s),t.child=Ms(t,null,a,s)):Ma(e,t,a,s),t.memoizedState=n.state,r&&Pr(t,i,!0),t.child}function Ta(e){var t=e.stateNode;t.pendingContext?zr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&zr(0,t.context,!1),Ks(e,t.containerInfo)}function Aa(e,t,i,n,r){return ds(),fs(r),t.flags|=256,Ma(e,t,i,n),t.child}var ja,Ea,ka,za,La={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pa(e,t,i){var n,r=t.pendingProps,o=$s.current,a=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Cr($s,1&o),null===e)return hs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Oh(l,r,0,null),e=Lh(e,r,i,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(i),t.memoizedState=La,e):Ra(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,i,n,r,o,a){if(i)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,n=ca(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,r=t.mode,n=Oh({mode:"visible",children:n.children},r,0,null),(o=Lh(o,r,a,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&Ms(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=La,o);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===r.data){if(n=r.nextSibling&&r.nextSibling.dataset)var l=n.dgst;return n=l,Fa(e,t,a,n=ca(o=Error(s(419)),n,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(n=Tl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(n.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,zs(e,r),ih(n,e,r,-1))}return gh(),Fa(e,t,a,n=ca(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=xh.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,ns=hr(r.nextSibling),is=t,rs=!0,ss=null,null!==e&&(qr[Gr++]=Xr,qr[Gr++]=Jr,qr[Gr++]=Kr,Xr=e.id,Jr=e.overflow,Kr=t),t=Ra(t,n.children),t.flags|=4096,t)}(e,t,l,r,n,o,i);if(a){a=r.fallback,l=t.mode,n=(o=e.child).sibling;var h={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=h,t.deletions=null):(r=kh(o,h)).subtreeFlags=14680064&o.subtreeFlags,null!==n?a=kh(n,a):(a=Lh(a,l,i,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=null===(l=e.child.memoizedState)?Oa(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~i,t.memoizedState=La,r}return e=(a=e.child).sibling,r=kh(a,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=i),r.return=t,r.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=r,t.memoizedState=null,r}function Ra(e,t){return(t=Oh({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,i,n){return null!==n&&fs(n),Ms(t,e.child,null,i),(e=Ra(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,i){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ds(e.return,t,i)}function Va(e,t,i,n,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=i,s.tailMode=r)}function Ua(e,t,i){var n=t.pendingProps,r=n.revealOrder,s=n.tail;if(Ma(e,t,n.children,i),0!==(2&(n=$s.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,i,t);else if(19===e.tag)Ba(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Cr($s,n),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(i=t.child,r=null;null!==i;)null!==(e=i.alternate)&&null===eo(e)&&(r=i),i=i.sibling;null===(i=r)?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),Va(t,!1,r,i,s);break;case"backwards":for(i=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===eo(e)){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}Va(t,!0,i,null,s);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(i=kh(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=kh(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function Ya(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,n=0;if(t)for(var r=e.child;null!==r;)i|=r.lanes|r.childLanes,n|=14680064&r.subtreeFlags,n|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function qa(e,t,i){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qa(t),null;case 1:case 17:return Er(t.type)&&kr(),Qa(t),null;case 3:return n=t.stateNode,Xs(),Nr(Tr),Nr(Dr),io(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oh(ss),ss=null))),Ea(e,t),Qa(t),null;case 5:Zs(t);var r=Gs(qs.current);if(i=t.type,null!==e&&null!=t.stateNode)ka(e,t,i,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Qa(t),null}if(e=Gs(Ys.current),us(t)){n=t.stateNode,i=t.type;var o=t.memoizedProps;switch(n[pr]=t,n[dr]=o,e=0!==(1&t.mode),i){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(r=0;r<Ln.length;r++)Fn(Ln[r],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":X(n,o),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Fn("invalid",n);break;case"textarea":re(n,o),Fn("invalid",n)}for(var l in ve(i,o),r=null,o)if(o.hasOwnProperty(l)){var h=o[l];"children"===l?"string"===typeof h?n.textContent!==h&&(!0!==o.suppressHydrationWarning&&Zn(n.textContent,h,e),r=["children",h]):"number"===typeof h&&n.textContent!==""+h&&(!0!==o.suppressHydrationWarning&&Zn(n.textContent,h,e),r=["children",""+h]):a.hasOwnProperty(l)&&null!=h&&"onScroll"===l&&Fn("scroll",n)}switch(i){case"input":Q(n),$(n,o,!0);break;case"textarea":Q(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=$n)}n=r,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(i,{is:n.is}):(e=l.createElement(i),"select"===i&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,i),e[pr]=t,e[dr]=n,ja(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(i,n),i){case"dialog":Fn("cancel",e),Fn("close",e),r=n;break;case"iframe":case"object":case"embed":Fn("load",e),r=n;break;case"video":case"audio":for(r=0;r<Ln.length;r++)Fn(Ln[r],e);r=n;break;case"source":Fn("error",e),r=n;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),r=n;break;case"details":Fn("toggle",e),r=n;break;case"input":X(e,n),r=K(e,n),Fn("invalid",e);break;case"option":default:r=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},r=P({},n,{value:void 0}),Fn("invalid",e);break;case"textarea":re(e,n),r=ne(e,n),Fn("invalid",e)}for(o in ve(i,r),h=r)if(h.hasOwnProperty(o)){var c=h[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===o?"string"===typeof c?("textarea"!==i||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fn("scroll",e):null!=c&&b(e,o,c,l))}switch(i){case"input":Q(e),$(e,n,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?ie(e,!!n.multiple,o,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$n)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qa(t),null;case 6:if(e&&null!=t.stateNode)za(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(i=Gs(qs.current),Gs(Ys.current),us(t)){if(n=t.stateNode,i=t.memoizedProps,n[pr]=t,(o=n.nodeValue!==i)&&null!==(e=is))switch(e.tag){case 3:Zn(n.nodeValue,i,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,i,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[pr]=t,t.stateNode=n}return Qa(t),null;case 13:if(Nr($s),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ps(),ds(),t.flags|=98560,o=!1;else if(o=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[pr]=t}else ds(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qa(t),o=!1}else null!==ss&&(oh(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=i,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$s.current)?0===zl&&(zl=3):gh())),null!==t.updateQueue&&(t.flags|=4),Qa(t),null);case 4:return Xs(),Ea(e,t),null===e&&Un(t.stateNode.containerInfo),Qa(t),null;case 10:return xs(t.type._context),Qa(t),null;case 19:if(Nr($s),null===(o=t.memoizedState))return Qa(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)Ya(o,!1);else{if(0!==zl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ya(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;null!==i;)e=n,(o=i).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Cr($s,1&$s.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Ul&&(t.flags|=128,n=!0,Ya(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(l))){if(t.flags|=128,n=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),Ya(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return Qa(t),null}else 2*Je()-o.renderingStartTime>Ul&&1073741824!==i&&(t.flags|=128,n=!0,Ya(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=o.last)?i.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,i=$s.current,Cr($s,n?1&i|2:1&i),t):(Qa(t),null);case 22:case 23:return uh(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&El)&&(Qa(t),6&t.subtreeFlags&&(t.flags|=8192)):Qa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ga(e,t){switch(ts(t),t.tag){case 1:return Er(t.type)&&kr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Nr(Tr),Nr(Dr),io(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Nr($s),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ds()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Nr($s),null;case 4:return Xs(),null;case 10:return xs(t.type._context),null;case 22:case 23:return uh(),null;default:return null}}ja=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ea=function(){},ka=function(e,t,i,n){var r=e.memoizedProps;if(r!==n){e=t.stateNode,Gs(Ys.current);var s,o=null;switch(i){case"input":r=K(e,r),n=K(e,n),o=[];break;case"select":r=P({},r,{value:void 0}),n=P({},n,{value:void 0}),o=[];break;case"textarea":r=ne(e,r),n=ne(e,n),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(e.onclick=$n)}for(c in ve(i,n),i=null,r)if(!n.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(s in l)l.hasOwnProperty(s)&&(i||(i={}),i[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var h=n[c];if(l=null!=r?r[c]:void 0,n.hasOwnProperty(c)&&h!==l&&(null!=h||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||h&&h.hasOwnProperty(s)||(i||(i={}),i[s]="");for(s in h)h.hasOwnProperty(s)&&l[s]!==h[s]&&(i||(i={}),i[s]=h[s])}else i||(o||(o=[]),o.push(c,i)),i=h;else"dangerouslySetInnerHTML"===c?(h=h?h.__html:void 0,l=l?l.__html:void 0,null!=h&&l!==h&&(o=o||[]).push(c,h)):"children"===c?"string"!==typeof h&&"number"!==typeof h||(o=o||[]).push(c,""+h):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=h&&"onScroll"===c&&Fn("scroll",e),o||l===h||(o=[])):(o=o||[]).push(c,h))}i&&(o=o||[]).push("style",i);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},za=function(e,t,i,n){i!==n&&(t.flags|=4)};var Ka=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function $a(e,t){var i=e.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(n){Ih(e,t,n)}else i.current=null}function el(e,t,i){try{i()}catch(n){Ih(e,t,n)}}var tl=!1;function il(e,t,i){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&el(t,i,s)}r=r.next}while(r!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function rl(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[dr],delete t[gr],delete t[mr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==t.onclick||(t.onclick=$n));else if(4!==n&&null!==(e=e.child))for(ll(e,t,i),e=e.sibling;null!==e;)ll(e,t,i),e=e.sibling}function hl(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(hl(e,t,i),e=e.sibling;null!==e;)hl(e,t,i),e=e.sibling}var cl=null,ul=!1;function pl(e,t,i){for(i=i.child;null!==i;)dl(e,t,i),i=i.sibling}function dl(e,t,i){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,i)}catch(a){}switch(i.tag){case 5:Xa||$a(i,t);case 6:var n=cl,r=ul;cl=null,pl(e,t,i),ul=r,null!==(cl=n)&&(ul?(e=cl,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):cl.removeChild(i.stateNode));break;case 18:null!==cl&&(ul?(e=cl,i=i.stateNode,8===e.nodeType?lr(e.parentNode,i):1===e.nodeType&&lr(e,i),Ut(e)):lr(cl,i.stateNode));break;case 4:n=cl,r=ul,cl=i.stateNode.containerInfo,ul=!0,pl(e,t,i),cl=n,ul=r;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){r=n=n.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(i,t,o),r=r.next}while(r!==n)}pl(e,t,i);break;case 1:if(!Xa&&($a(i,t),"function"===typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(a){Ih(i,t,a)}pl(e,t,i);break;case 21:pl(e,t,i);break;case 22:1&i.mode?(Xa=(n=Xa)||null!==i.memoizedState,pl(e,t,i),Xa=n):pl(e,t,i);break;default:pl(e,t,i)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new Ja),t.forEach((function(t){var n=Dh.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))}))}}function gl(e,t){var i=t.deletions;if(null!==i)for(var n=0;n<i.length;n++){var r=i[n];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(s(160));dl(o,a,r),cl=null,ul=!1;var h=r.alternate;null!==h&&(h.return=null),r.return=null}catch(c){Ih(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&n){try{il(3,e,e.return),nl(3,e)}catch(m){Ih(e,e.return,m)}try{il(5,e,e.return)}catch(m){Ih(e,e.return,m)}}break;case 1:gl(t,e),yl(e),512&n&&null!==i&&$a(i,i.return);break;case 5:if(gl(t,e),yl(e),512&n&&null!==i&&$a(i,i.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(m){Ih(e,e.return,m)}}if(4&n&&null!=(r=e.stateNode)){var o=e.memoizedProps,a=null!==i?i.memoizedProps:o,l=e.type,h=e.updateQueue;if(e.updateQueue=null,null!==h)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(r,o),be(l,a);var c=be(l,o);for(a=0;a<h.length;a+=2){var u=h[a],p=h[a+1];"style"===u?me(r,p):"dangerouslySetInnerHTML"===u?ue(r,p):"children"===u?pe(r,p):b(r,u,p,c)}switch(l){case"input":Z(r,o);break;case"textarea":se(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ie(r,!!o.multiple,f,!1):d!==!!o.multiple&&(null!=o.defaultValue?ie(r,!!o.multiple,o.defaultValue,!0):ie(r,!!o.multiple,o.multiple?[]:"",!1))}r[dr]=o}catch(m){Ih(e,e.return,m)}}break;case 6:if(gl(t,e),yl(e),4&n){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(m){Ih(e,e.return,m)}}break;case 3:if(gl(t,e),yl(e),4&n&&null!==i&&i.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Ih(e,e.return,m)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=Je())),4&n&&fl(e);break;case 22:if(u=null!==i&&null!==i.memoizedState,1&e.mode?(Xa=(c=Xa)||u,gl(t,e),Xa=c):gl(t,e),yl(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for(Za=e,u=e.child;null!==u;){for(p=Za=u;null!==Za;){switch(f=(d=Za).child,d.tag){case 0:case 11:case 14:case 15:il(4,d,d.return);break;case 1:$a(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){n=d,i=d.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ih(n,i,m)}}break;case 5:$a(d,d.return);break;case 22:if(null!==d.memoizedState){Sl(p);continue}}null!==f?(f.return=d,Za=f):Sl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{r=p.stateNode,c?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=p.stateNode,a=void 0!==(h=p.memoizedProps.style)&&null!==h&&h.hasOwnProperty("display")?h.display:null,l.style.display=ge("display",a))}catch(m){Ih(e,e.return,m)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(m){Ih(e,e.return,m)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(t,e),yl(e),4&n&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(ol(i)){var n=i;break e}i=i.return}throw Error(s(160))}switch(n.tag){case 5:var r=n.stateNode;32&n.flags&&(pe(r,""),n.flags&=-33),hl(e,al(e),r);break;case 3:case 4:var o=n.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Ih(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,i){Za=e,bl(e,t,i)}function bl(e,t,i){for(var n=0!==(1&e.mode);null!==Za;){var r=Za,s=r.child;if(22===r.tag&&n){var o=null!==r.memoizedState||Ka;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ka;var h=Xa;if(Ka=o,(Xa=l)&&!h)for(Za=r;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?wl(r):null!==l?(l.return=o,Za=l):wl(r);for(;null!==s;)Za=s,bl(s,t,i),s=s.sibling;Za=r,Ka=a,Xa=h}Ml(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Za=s):Ml(e)}}function Ml(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var i=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xa)if(null===i)n.componentDidMount();else{var r=t.elementType===t.type?i.memoizedProps:ia(t.type,i.memoizedProps);n.componentDidUpdate(r,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hs(t,o,n);break;case 3:var a=t.updateQueue;if(null!==a){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}Hs(t,a,i)}break;case 5:var l=t.stateNode;if(null===i&&4&t.flags){i=l;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Ut(p)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&rl(t)}catch(d){Ih(t,t.return,d)}}if(t===e){Za=null;break}if(null!==(i=t.sibling)){i.return=t.return,Za=i;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Za=i;break}Za=t.return}}function wl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{nl(4,t)}catch(l){Ih(t,i,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var r=t.return;try{n.componentDidMount()}catch(l){Ih(t,r,l)}}var s=t.return;try{rl(t)}catch(l){Ih(t,s,l)}break;case 5:var o=t.return;try{rl(t)}catch(l){Ih(t,o,l)}}}catch(l){Ih(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var _l,Il=Math.ceil,Nl=M.ReactCurrentDispatcher,Cl=M.ReactCurrentOwner,xl=M.ReactCurrentBatchConfig,Dl=0,Tl=null,Al=null,jl=0,El=0,kl=Ir(0),zl=0,Ll=null,Ol=0,Pl=0,Rl=0,Fl=null,Bl=null,Vl=0,Ul=1/0,Hl=null,Wl=!1,Yl=null,Ql=null,ql=!1,Gl=null,Kl=0,Xl=0,Jl=null,Zl=-1,$l=0;function eh(){return 0!==(6&Dl)?Je():-1!==Zl?Zl:Zl=Je()}function th(e){return 0===(1&e.mode)?1:0!==(2&Dl)&&0!==jl?jl&-jl:null!==gs.transition?(0===$l&&($l=gt()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ih(e,t,i,n){if(50<Xl)throw Xl=0,Jl=null,Error(s(185));yt(e,i,n),0!==(2&Dl)&&e===Tl||(e===Tl&&(0===(2&Dl)&&(Pl|=i),4===zl&&ah(e,jl)),nh(e,n),1===i&&0===Dl&&0===(1&t.mode)&&(Ul=Je()+500,Fr&&Ur()))}function nh(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=r[o];-1===l?0!==(a&i)&&0===(a&n)||(r[o]=dt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var n=pt(e,e===Tl?jl:0);if(0===n)null!==i&&Ge(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=i&&Ge(i),1===t)0===e.tag?function(e){Fr=!0,Vr(e)}(lh.bind(null,e)):Vr(lh.bind(null,e)),or((function(){0===(6&Dl)&&Ur()})),i=null;else{switch(Mt(n)){case 1:i=$e;break;case 4:i=et;break;case 16:default:i=tt;break;case 536870912:i=nt}i=Th(i,rh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function rh(e,t){if(Zl=-1,$l=0,0!==(6&Dl))throw Error(s(327));var i=e.callbackNode;if(wh()&&e.callbackNode!==i)return null;var n=pt(e,e===Tl?jl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=mh(e,n);else{t=n;var r=Dl;Dl|=2;var o=fh();for(Tl===e&&jl===t||(Hl=null,Ul=Je()+500,ph(e,t));;)try{vh();break}catch(l){dh(e,l)}Cs(),Nl.current=o,Dl=r,null!==Al?t=0:(Tl=null,jl=0,t=zl)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(n=r,t=sh(e,r))),1===t)throw i=Ll,ph(e,0),ah(e,n),nh(e,Je()),i;if(6===t)ah(e,n);else{if(r=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var r=i[n],s=r.getSnapshot;r=r.value;try{if(!an(s(),r))return!1}catch(a){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=mh(e,n))&&(0!==(o=ft(e))&&(n=o,t=sh(e,o))),1===t))throw i=Ll,ph(e,0),ah(e,n),nh(e,Je()),i;switch(e.finishedWork=r,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:Sh(e,Bl,Hl);break;case 3:if(ah(e,n),(130023424&n)===n&&10<(t=Vl+500-Je())){if(0!==pt(e,0))break;if(((r=e.suspendedLanes)&n)!==n){eh(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=nr(Sh.bind(null,e,Bl,Hl),t);break}Sh(e,Bl,Hl);break;case 4:if(ah(e,n),(4194240&n)===n)break;for(t=e.eventTimes,r=-1;0<n;){var a=31-ot(n);o=1<<a,(a=t[a])>r&&(r=a),n&=~o}if(n=r,10<(n=(120>(n=Je()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Il(n/1960))-n)){e.timeoutHandle=nr(Sh.bind(null,e,Bl,Hl),n);break}Sh(e,Bl,Hl);break;default:throw Error(s(329))}}}return nh(e,Je()),e.callbackNode===i?rh.bind(null,e):null}function sh(e,t){var i=Fl;return e.current.memoizedState.isDehydrated&&(ph(e,t).flags|=256),2!==(e=mh(e,t))&&(t=Bl,Bl=i,null!==t&&oh(t)),e}function oh(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ah(e,t){for(t&=~Rl,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-ot(t),n=1<<i;e[i]=-1,t&=~n}}function lh(e){if(0!==(6&Dl))throw Error(s(327));wh();var t=pt(e,0);if(0===(1&t))return nh(e,Je()),null;var i=mh(e,t);if(0!==e.tag&&2===i){var n=ft(e);0!==n&&(t=n,i=sh(e,n))}if(1===i)throw i=Ll,ph(e,0),ah(e,t),nh(e,Je()),i;if(6===i)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sh(e,Bl,Hl),nh(e,Je()),null}function hh(e,t){var i=Dl;Dl|=1;try{return e(t)}finally{0===(Dl=i)&&(Ul=Je()+500,Fr&&Ur())}}function ch(e){null!==Gl&&0===Gl.tag&&0===(6&Dl)&&wh();var t=Dl;Dl|=1;var i=xl.transition,n=bt;try{if(xl.transition=null,bt=1,e)return e()}finally{bt=n,xl.transition=i,0===(6&(Dl=t))&&Ur()}}function uh(){El=kl.current,Nr(kl)}function ph(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,rr(i)),null!==Al)for(i=Al.return;null!==i;){var n=i;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&kr();break;case 3:Xs(),Nr(Tr),Nr(Dr),io();break;case 5:Zs(n);break;case 4:Xs();break;case 13:case 19:Nr($s);break;case 10:xs(n.type._context);break;case 22:case 23:uh()}i=i.return}if(Tl=e,Al=e=kh(e.current,null),jl=El=t,zl=0,Ll=null,Rl=Pl=Ol=0,Bl=Fl=null,null!==js){for(t=0;t<js.length;t++)if(null!==(n=(i=js[t]).interleaved)){i.interleaved=null;var r=n.next,s=i.pending;if(null!==s){var o=s.next;s.next=r,n.next=o}i.pending=n}js=null}return e}function dh(e,t){for(;;){var i=Al;try{if(Cs(),no.current=Zo,ho){for(var n=oo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}ho=!1}if(so=0,lo=ao=oo=null,co=!1,uo=0,Cl.current=null,null===i||null===i.return){zl=1,Ll=t,Al=null;break}e:{var o=e,a=i.return,l=i,h=t;if(t=jl,l.flags|=32768,null!==h&&"object"===typeof h&&"function"===typeof h.then){var c=h,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ma(a);if(null!==f){f.flags&=-257,ya(f,a,l,0,t),1&f.mode&&ga(o,c,t),h=c;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(h),t.updateQueue=m}else g.add(h);break e}if(0===(1&t)){ga(o,c,t),gh();break e}h=Error(s(426))}else if(rs&&1&l.mode){var y=ma(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),fs(ha(h,l));break e}}o=h=ha(h,l),4!==zl&&(zl=2),null===Fl?Fl=[o]:Fl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,da(0,h,t));break e;case 1:l=h;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ql||!Ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,fa(o,l,t));break e}}o=o.return}while(null!==o)}Mh(i)}catch(M){t=M,Al===i&&null!==i&&(Al=i=i.return);continue}break}}function fh(){var e=Nl.current;return Nl.current=Zo,null===e?Zo:e}function gh(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===Tl||0===(268435455&Ol)&&0===(268435455&Pl)||ah(Tl,jl)}function mh(e,t){var i=Dl;Dl|=2;var n=fh();for(Tl===e&&jl===t||(Hl=null,ph(e,t));;)try{yh();break}catch(r){dh(e,r)}if(Cs(),Dl=i,Nl.current=n,null!==Al)throw Error(s(261));return Tl=null,jl=0,zl}function yh(){for(;null!==Al;)bh(Al)}function vh(){for(;null!==Al&&!Ke();)bh(Al)}function bh(e){var t=_l(e.alternate,e,El);e.memoizedProps=e.pendingProps,null===t?Mh(e):Al=t,Cl.current=null}function Mh(e){var t=e;do{var i=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(i=qa(i,t,El)))return void(Al=i)}else{if(null!==(i=Ga(i,t)))return i.flags&=32767,void(Al=i);if(null===e)return zl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===zl&&(zl=5)}function Sh(e,t,i){var n=bt,r=xl.transition;try{xl.transition=null,bt=1,function(e,t,i,n){do{wh()}while(null!==Gl);if(0!==(6&Dl))throw Error(s(327));i=e.finishedWork;var r=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var r=31-ot(i),s=1<<r;t[r]=0,n[r]=-1,e[r]=-1,i&=~s}}(e,o),e===Tl&&(Al=Tl=null,jl=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||ql||(ql=!0,Th(tt,(function(){return wh(),null}))),o=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||o){o=xl.transition,xl.transition=null;var a=bt;bt=1;var l=Dl;Dl|=4,Cl.current=null,function(e,t){if(er=Wt,dn(e=pn())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var r=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{i.nodeType,o.nodeType}catch(S){i=null;break e}var a=0,l=-1,h=-1,c=0,u=0,p=e,d=null;t:for(;;){for(var f;p!==i||0!==r&&3!==p.nodeType||(l=a+r),p!==o||0!==n&&3!==p.nodeType||(h=a+n),3===p.nodeType&&(a+=p.nodeValue.length),null!==(f=p.firstChild);)d=p,p=f;for(;;){if(p===e)break t;if(d===i&&++c===r&&(l=a),d===o&&++u===n&&(h=a),null!==(f=p.nextSibling))break;d=(p=d).parentNode}p=f}i=-1===l||-1===h?null:{start:l,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(tr={focusedElem:e,selectionRange:i},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ia(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var M=t.stateNode.containerInfo;1===M.nodeType?M.textContent="":9===M.nodeType&&M.documentElement&&M.removeChild(M.documentElement);break;default:throw Error(s(163))}}catch(S){Ih(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=tl,tl=!1}(e,i),ml(i,e),fn(tr),Wt=!!er,tr=er=null,e.current=i,vl(i,e,r),Xe(),Dl=l,bt=a,xl.transition=o}else e.current=i;if(ql&&(ql=!1,Gl=e,Kl=r),o=e.pendingLanes,0===o&&(Ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(i.stateNode),nh(e,Je()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)r=t[i],n(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Yl,Yl=null,e;0!==(1&Kl)&&0!==e.tag&&wh(),o=e.pendingLanes,0!==(1&o)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Ur()}(e,t,i,n)}finally{xl.transition=r,bt=n}return null}function wh(){if(null!==Gl){var e=Mt(Kl),t=xl.transition,i=bt;try{if(xl.transition=null,bt=16>e?16:e,null===Gl)var n=!1;else{if(e=Gl,Gl=null,Kl=0,0!==(6&Dl))throw Error(s(331));var r=Dl;for(Dl|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var h=0;h<l.length;h++){var c=l[h];for(Za=c;null!==Za;){var u=Za;switch(u.tag){case 0:case 11:case 15:il(8,u,o)}var p=u.child;if(null!==p)p.return=u,Za=p;else for(;null!==Za;){var d=(u=Za).sibling,f=u.return;if(sl(u),u===c){Za=null;break}if(null!==d){d.return=f,Za=d;break}Za=f}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Za=v;break e}Za=o.return}}var b=e.current;for(Za=b;null!==Za;){var M=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==M)M.return=a,Za=M;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){Ih(l,l.return,w)}if(l===a){Za=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Za=S;break e}Za=l.return}}if(Dl=r,Ur(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(w){}n=!0}return n}finally{bt=i,xl.transition=t}}return!1}function _h(e,t,i){e=Fs(e,t=da(0,t=ha(i,t),1),1),t=eh(),null!==e&&(yt(e,1,t),nh(e,t))}function Ih(e,t,i){if(3===e.tag)_h(e,e,i);else for(;null!==t;){if(3===t.tag){_h(t,e,i);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Ql||!Ql.has(n))){t=Fs(t,e=fa(t,e=ha(i,e),1),1),e=eh(),null!==t&&(yt(t,1,e),nh(t,e));break}}t=t.return}}function Nh(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),t=eh(),e.pingedLanes|=e.suspendedLanes&i,Tl===e&&(jl&i)===i&&(4===zl||3===zl&&(130023424&jl)===jl&&500>Je()-Vl?ph(e,0):Rl|=i),nh(e,t)}function Ch(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var i=eh();null!==(e=zs(e,t))&&(yt(e,t,i),nh(e,i))}function xh(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),Ch(e,i)}function Dh(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(i=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Ch(e,i)}function Th(e,t){return qe(e,t)}function Ah(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jh(e,t,i,n){return new Ah(e,t,i,n)}function Eh(e){return!(!(e=e.prototype)||!e.isReactComponent)}function kh(e,t){var i=e.alternate;return null===i?((i=jh(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function zh(e,t,i,n,r,o){var a=2;if(n=e,"function"===typeof e)Eh(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case _:return Lh(i.children,r,o,t);case I:a=8,r|=8;break;case N:return(e=jh(12,i,t,2|r)).elementType=N,e.lanes=o,e;case T:return(e=jh(13,i,t,r)).elementType=T,e.lanes=o,e;case A:return(e=jh(19,i,t,r)).elementType=A,e.lanes=o,e;case k:return Oh(i,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case x:a=9;break e;case D:a=11;break e;case j:a=14;break e;case E:a=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=jh(a,i,t,r)).elementType=e,t.type=n,t.lanes=o,t}function Lh(e,t,i,n){return(e=jh(7,e,n,t)).lanes=i,e}function Oh(e,t,i,n){return(e=jh(22,e,n,t)).elementType=k,e.lanes=i,e.stateNode={isHidden:!1},e}function Ph(e,t,i){return(e=jh(6,e,null,t)).lanes=i,e}function Rh(e,t,i){return(t=jh(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fh(e,t,i,n,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bh(e,t,i,n,r,s,o,a,l){return e=new Fh(e,t,i,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=jh(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function Vh(e){if(!e)return xr;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var i=e.type;if(Er(i))return Lr(e,i,t)}return t}function Uh(e,t,i,n,r,s,o,a,l){return(e=Bh(i,n,!0,e,0,s,0,a,l)).context=Vh(null),i=e.current,(s=Rs(n=eh(),r=th(i))).callback=void 0!==t&&null!==t?t:null,Fs(i,s,r),e.current.lanes=r,yt(e,r,n),nh(e,n),e}function Hh(e,t,i,n){var r=t.current,s=eh(),o=th(r);return i=Vh(i),null===t.context?t.context=i:t.pendingContext=i,(t=Rs(s,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Fs(r,t,o))&&(ih(e,r,o,s),Bs(e,r,o)),o}function Wh(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Qh(e,t){Yh(e,t),(e=e.alternate)&&Yh(e,t)}_l=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||Tr.current)ba=!0;else{if(0===(e.lanes&i)&&0===(128&t.flags))return ba=!1,function(e,t,i){switch(t.tag){case 3:Ta(t),ds();break;case 5:Js(t);break;case 1:Er(t.type)&&Or(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,r=t.memoizedProps.value;Cr(ws,n._currentValue),n._currentValue=r;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Cr($s,1&$s.current),t.flags|=128,null):0!==(i&t.child.childLanes)?Pa(e,t,i):(Cr($s,1&$s.current),null!==(e=Wa(e,t,i))?e.sibling:null);Cr($s,1&$s.current);break;case 19:if(n=0!==(i&t.childLanes),0!==(128&e.flags)){if(n)return Ua(e,t,i);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr($s,$s.current),n)break;return null;case 22:case 23:return t.lanes=0,Ia(e,t,i)}return Wa(e,t,i)}(e,t,i);ba=0!==(131072&e.flags)}else ba=!1,rs&&0!==(1048576&t.flags)&&$r(t,Qr,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ha(e,t),e=t.pendingProps;var r=jr(t,Dr.current);Ts(t,i),r=mo(null,t,n,e,r,i);var o=yo();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Er(n)?(o=!0,Or(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Os(t),r.updater=ra,t.stateNode=r,r._reactInternals=t,la(t,n,e,i),t=Da(null,t,n,!0,o,i)):(t.tag=0,rs&&o&&es(t),Ma(null,t,r,i),t=t.child),t;case 16:n=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,n=(r=n._init)(n._payload),t.type=n,r=t.tag=function(e){if("function"===typeof e)return Eh(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===D)return 11;if(e===j)return 14}return 2}(n),e=ia(n,e),r){case 0:t=Ca(null,t,n,e,i);break e;case 1:t=xa(null,t,n,e,i);break e;case 11:t=Sa(null,t,n,e,i);break e;case 14:t=wa(null,t,n,ia(n.type,e),i);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,Ca(e,t,n,r=t.elementType===n?r:ia(n,r),i);case 1:return n=t.type,r=t.pendingProps,xa(e,t,n,r=t.elementType===n?r:ia(n,r),i);case 3:e:{if(Ta(t),null===e)throw Error(s(387));n=t.pendingProps,r=(o=t.memoizedState).element,Ps(e,t),Us(t,n,null,i);var a=t.memoizedState;if(n=a.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Aa(e,t,n,i,r=ha(Error(s(423)),t));break e}if(n!==r){t=Aa(e,t,n,i,r=ha(Error(s(424)),t));break e}for(ns=hr(t.stateNode.containerInfo.firstChild),is=t,rs=!0,ss=null,i=Ss(t,null,n,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(ds(),n===r){t=Wa(e,t,i);break e}Ma(e,t,n,i)}t=t.child}return t;case 5:return Js(t),null===e&&hs(t),n=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,ir(n,r)?a=null:null!==o&&ir(n,o)&&(t.flags|=32),Na(e,t),Ma(e,t,a,i),t.child;case 6:return null===e&&hs(t),null;case 13:return Pa(e,t,i);case 4:return Ks(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ms(t,null,n,i):Ma(e,t,n,i),t.child;case 11:return n=t.type,r=t.pendingProps,Sa(e,t,n,r=t.elementType===n?r:ia(n,r),i);case 7:return Ma(e,t,t.pendingProps,i),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,o=t.memoizedProps,a=r.value,Cr(ws,n._currentValue),n._currentValue=a,null!==o)if(an(o.value,a)){if(o.children===r.children&&!Tr.current){t=Wa(e,t,i);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var h=l.firstContext;null!==h;){if(h.context===n){if(1===o.tag){(h=Rs(-1,i&-i)).tag=2;var c=o.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?h.next=h:(h.next=u.next,u.next=h),c.pending=h}}o.lanes|=i,null!==(h=o.alternate)&&(h.lanes|=i),Ds(o.return,i,t),l.lanes|=i;break}h=h.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=i,null!==(l=a.alternate)&&(l.lanes|=i),Ds(a,i,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Ma(e,t,r.children,i),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,Ts(t,i),n=n(r=As(r)),t.flags|=1,Ma(e,t,n,i),t.child;case 14:return r=ia(n=t.type,t.pendingProps),wa(e,t,n,r=ia(n.type,r),i);case 15:return _a(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:ia(n,r),Ha(e,t),t.tag=1,Er(n)?(e=!0,Or(t)):e=!1,Ts(t,i),oa(t,n,r),la(t,n,r,i),Da(null,t,n,!0,e,i);case 19:return Ua(e,t,i);case 22:return Ia(e,t,i)}throw Error(s(156,t.tag))};var qh="function"===typeof reportError?reportError:function(e){console.error(e)};function Gh(e){this._internalRoot=e}function Kh(e){this._internalRoot=e}function Xh(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jh(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zh(){}function $h(e,t,i,n,r){var s=i._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var e=Wh(o);a.call(e)}}Hh(t,o,e,r)}else o=function(e,t,i,n,r){if(r){if("function"===typeof n){var s=n;n=function(){var e=Wh(o);s.call(e)}}var o=Uh(t,n,e,0,null,!1,0,"",Zh);return e._reactRootContainer=o,e[fr]=o.current,Un(8===e.nodeType?e.parentNode:e),ch(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof n){var a=n;n=function(){var e=Wh(l);a.call(e)}}var l=Bh(e,0,!1,null,0,!1,0,"",Zh);return e._reactRootContainer=l,e[fr]=l.current,Un(8===e.nodeType?e.parentNode:e),ch((function(){Hh(t,l,i,n)})),l}(i,t,e,r,n);return Wh(o)}Kh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hh(e,t,null,null)},Kh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ch((function(){Hh(null,e,null,null)})),t[fr]=null}},Kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var i=0;i<kt.length&&0!==t&&t<kt[i].priority;i++);kt.splice(i,0,e),0===i&&Pt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ut(t.pendingLanes);0!==i&&(vt(t,1|i),nh(t,Je()),0===(6&Dl)&&(Ul=Je()+500,Ur()))}break;case 13:ch((function(){var t=zs(e,1);if(null!==t){var i=eh();ih(t,e,1,i)}})),Qh(e,1)}},wt=function(e){if(13===e.tag){var t=zs(e,134217728);if(null!==t)ih(t,e,134217728,eh());Qh(e,134217728)}},_t=function(e){if(13===e.tag){var t=th(e),i=zs(e,t);if(null!==i)ih(i,e,t,eh());Qh(e,t)}},It=function(){return bt},Nt=function(e,t){var i=bt;try{return bt=e,t()}finally{bt=i}},we=function(e,t,i){switch(t){case"input":if(Z(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var r=Sr(n);if(!r)throw Error(s(90));q(n),Z(n,r)}}}break;case"textarea":se(e,i);break;case"select":null!=(t=i.value)&&ie(e,!!i.multiple,t,!1)}},De=hh,Te=ch;var ec={usingClientEntryPoint:!1,Events:[br,Mr,Sr,Ce,xe,hh]},tc={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ic={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{rt=nc.inject(ic),st=nc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xh(t))throw Error(s(200));return function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}(e,t,null,i)},t.createRoot=function(e,t){if(!Xh(e))throw Error(s(299));var i=!1,n="",r=qh;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bh(e,1,!1,null,0,i,0,n,r),e[fr]=t.current,Un(8===e.nodeType?e.parentNode:e),new Gh(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return ch(e)},t.hydrate=function(e,t,i){if(!Jh(t))throw Error(s(200));return $h(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!Xh(e))throw Error(s(405));var n=null!=i&&i.hydratedSources||null,r=!1,o="",a=qh;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(r=!0),void 0!==i.identifierPrefix&&(o=i.identifierPrefix),void 0!==i.onRecoverableError&&(a=i.onRecoverableError)),t=Uh(t,null,e,1,null!=i?i:null,r,0,o,a),e[fr]=t.current,Un(e),n)for(e=0;e<n.length;e++)r=(r=(i=n[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,r]:t.mutableSourceEagerHydrationData.push(i,r);return new Kh(t)},t.render=function(e,t,i){if(!Jh(t))throw Error(s(200));return $h(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!Jh(e))throw Error(s(40));return!!e._reactRootContainer&&(ch((function(){$h(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=hh,t.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!Jh(i))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $h(e,t,i,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,i)=>{"use strict";var n=i(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},950:(e,t,i)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(730)},153:(e,t,i)=>{"use strict";var n=i(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(e,t,i){var n,s={},h=null,c=null;for(n in void 0!==i&&(h=""+i),void 0!==t.key&&(h=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:r,type:e,key:h,ref:c,props:s,_owner:a.current}}t.Fragment=s,t.jsx=h,t.jsxs=h},202:(e,t)=>{"use strict";var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||f}function v(){}function b(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var M=b.prototype=new v;M.constructor=b,g(M,y.prototype),M.isPureReactComponent=!0;var S=Array.isArray,w=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!I.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var h=Array(l),c=0;c<l;c++)h[c]=arguments[c+2];s.children=h}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:_.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,r,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case n:l=!0}}if(l)return o=o(l=e),e=""===s?"."+D(l,0):s,S(o)?(r="",null!=e&&(r=e.replace(x,"$&/")+"/"),T(o,t,r,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",S(e))for(var h=0;h<e.length;h++){var c=s+D(a=e[h],h);l+=T(a,t,r,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),h=0;!(a=e.next()).done;)l+=T(a=a.value,t,r,c=s+D(a,h++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,i){if(null==e)return e;var n=[],r=0;return T(e,n,"","",(function(e){return t.call(i,e,r++)})),n}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var E={current:null},k={transition:null},z={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:k,ReactCurrentOwner:_};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,i){A(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.act=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(h in t)w.call(t,h)&&!I.hasOwnProperty(h)&&(r[h]=void 0===t[h]&&void 0!==l?l[h]:t[h])}var h=arguments.length-2;if(1===h)r.children=n;else if(1<h){l=Array(h);for(var c=0;c<h;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:i,type:e.type,key:s,ref:o,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.transition;k.transition={};try{e()}finally{k.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return E.current.useCallback(e,t)},t.useContext=function(e){return E.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return E.current.useDeferredValue(e)},t.useEffect=function(e,t){return E.current.useEffect(e,t)},t.useId=function(){return E.current.useId()},t.useImperativeHandle=function(e,t,i){return E.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return E.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.current.useMemo(e,t)},t.useReducer=function(e,t,i){return E.current.useReducer(e,t,i)},t.useRef=function(e){return E.current.useRef(e)},t.useState=function(e){return E.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return E.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return E.current.useTransition()},t.version="18.3.1"},43:(e,t,i)=>{"use strict";e.exports=i(202)},579:(e,t,i)=>{"use strict";e.exports=i(153)},234:(e,t)=>{"use strict";function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var n=i-1>>>1,r=e[n];if(!(0<s(r,t)))break e;e[n]=t,e[i]=r,i=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,r=e.length,o=r>>>1;n<o;){var a=2*(n+1)-1,l=e[a],h=a+1,c=e[h];if(0>s(l,i))h<r&&0>s(c,l)?(e[n]=c,e[h]=i,n=h):(e[n]=l,e[a]=i,n=a);else{if(!(h<r&&0>s(c,i)))break e;e[n]=c,e[h]=i,n=h}}}return t}function s(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var h=[],c=[],u=1,p=null,d=3,f=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function M(e){for(var t=n(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,i(h,t)}t=n(c)}}function S(e){if(m=!1,M(e),!g)if(null!==n(h))g=!0,k(w);else{var t=n(c);null!==t&&z(S,t.startTime-e)}}function w(e,i){g=!1,m&&(m=!1,v(C),C=-1),f=!0;var s=d;try{for(M(i),p=n(h);null!==p&&(!(p.expirationTime>i)||e&&!T());){var o=p.callback;if("function"===typeof o){p.callback=null,d=p.priorityLevel;var a=o(p.expirationTime<=i);i=t.unstable_now(),"function"===typeof a?p.callback=a:p===n(h)&&r(h),M(i)}else r(h);p=n(h)}if(null!==p)var l=!0;else{var u=n(c);null!==u&&z(S,u.startTime-i),l=!1}return l}finally{p=null,d=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,N=null,C=-1,x=5,D=-1;function T(){return!(t.unstable_now()-D<x)}function A(){if(null!==N){var e=t.unstable_now();D=e;var i=!0;try{i=N(!0,e)}finally{i?_():(I=!1,N=null)}}else I=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,E=j.port2;j.port1.onmessage=A,_=function(){E.postMessage(null)}}else _=function(){y(A,0)};function k(e){N=e,I||(I=!0,_())}function z(e,i){C=y((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,k(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var i=d;d=t;try{return e()}finally{d=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=d;d=e;try{return t()}finally{d=i}},t.unstable_scheduleCallback=function(e,r,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,i(c,e),null===n(h)&&e===n(c)&&(m?(v(C),C=-1):m=!0,z(S,s-o))):(e.sortIndex=a,i(h,e),g||f||(g=!0,k(w))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var i=d;d=t;try{return e.apply(this,arguments)}finally{d=i}}}},853:(e,t,i)=>{"use strict";e.exports=i(234)},440:e=>{"use strict";var t=function(){};e.exports=t},139:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=o(e,s(i)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var i in e)n.call(e,i)&&e[i]&&(t=o(t,i));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,i),s.exports}i.m=e,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var s=Object.create(null);i.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,i.d(s,o),s}})(),i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"static/js/"+e+".d6bbc560.chunk.js",i.miniCssF=e=>{},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="productiontracker:";i.l=(n,r,s,o)=>{if(e[n])e[n].push(r);else{var a,l;if(void 0!==s)for(var h=document.getElementsByTagName("script"),c=0;c<h.length;c++){var u=h[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+s),a.src=n),e[n]=[r];var p=(t,i)=>{a.onerror=a.onload=null,clearTimeout(d);var r=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(i))),t)return t(i)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/neelan/",(()=>{var e={792:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise(((i,n)=>r=e[t]=[i,n]));n.push(r[2]=s);var o=i.p+i.u(t),a=new Error;i.l(o,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,s,o=n[0],a=n[1],l=n[2],h=0;if(o.some((t=>0!==e[t]))){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(l)l(i)}for(t&&t(n);h<o.length;h++)s=o[h],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkproductiontracker=self.webpackChunkproductiontracker||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};i.r(e),i.d(e,{hasBrowserEnv:()=>Et,hasStandardBrowserEnv:()=>kt,hasStandardBrowserWebWorkerEnv:()=>Lt,origin:()=>Ot});var t,n=i(43),r=i.t(n,2),s=i(391),o=i(950),a=i.t(o,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const h="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(i){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,i,n){return void 0===i&&(i=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:i,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:i="",hash:n=""}=e;return i&&"?"!==i&&(t+="?"===i.charAt(0)?i:"?"+i),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function g(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function m(e,i,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,u=t.Pop,g=null,m=y();function y(){return(a.state||{idx:null}).idx}function v(){u=t.Pop;let e=y(),i=null==e?null:e-m;m=e,g&&g({action:u,location:M.location,delta:i})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,i="string"===typeof e?e:f(e);return i=i.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,t)}null==m&&(m=0,a.replaceState(l({},a.state,{idx:m}),""));let M={get action(){return u},get location(){return e(s,a)},listen(e){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(h,v),g=e,()=>{s.removeEventListener(h,v),g=null}},createHref:e=>i(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,i){u=t.Push;let r=d(M.location,e,i);n&&n(r,e),m=y()+1;let l=p(r,m),h=M.createHref(r);try{a.pushState(l,"",h)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(h)}o&&g&&g({action:u,location:M.location,delta:1})},replace:function(e,i){u=t.Replace;let r=d(M.location,e,i);n&&n(r,e),m=y();let s=p(r,m),l=M.createHref(r);a.replaceState(s,"",l),o&&g&&g({action:u,location:M.location,delta:0})},go:e=>a.go(e)};return M}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,i){return void 0===i&&(i="/"),b(e,t,i,!1)}function b(e,t,i,n){let r=k(("string"===typeof t?g(t):t).pathname||"/",i);if(null==r)return null;let s=M(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let i=e.length===t.length&&e.slice(0,-1).every(((e,i)=>e===t[i]));return i?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=E(r);o=A(s[a],e,n)}return o}function M(e,t,i,n){void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===n&&(n="");let r=(e,r,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let a=R([n,o.relativePath]),l=i.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),M(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:T(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var i;if(""!==e.path&&null!=(i=e.path)&&i.includes("?"))for(let n of S(e.path))r(e,t,n);else r(e,t)})),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[i,...n]=t,r=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===n.length)return r?[s,""]:[s];let o=S(n.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),r&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,_=3,I=2,N=1,C=10,x=-2,D=e=>"*"===e;function T(e,t){let i=e.split("/"),n=i.length;return i.some(D)&&(n+=x),t&&(n+=I),i.filter((e=>!D(e))).reduce(((e,t)=>e+(w.test(t)?_:""===t?N:C)),n)}function A(e,t,i){void 0===i&&(i=!1);let{routesMeta:n}=e,r={},s="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],l=a===n.length-1,h="/"===s?t:t.slice(s.length)||"/",c=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},h),u=e.route;if(!c&&l&&i&&!n[n.length-1].route.index&&(c=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},h)),!c)return null;Object.assign(r,c.params),o.push({params:r,pathname:R([s,c.pathname]),pathnameBase:F(R([s,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(s=R([s,c.pathnameBase]))}return o}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[i,n]=function(e,t,i){void 0===t&&(t=!1);void 0===i&&(i=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,i)=>(n.push({paramName:t,isOptional:null!=i}),i?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),r=t.match(i);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:n.reduce(((e,t,i)=>{let{paramName:n,isOptional:r}=t;if("*"===n){let e=a[i]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[i];return e[n]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function E(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function k(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,n=e.charAt(i);return n&&"/"!==n?null:e.slice(i)||"/"}function z(e,t,i,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+i+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let i=L(e);return t?i.map(((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)):i.map((e=>e.pathnameBase))}function P(e,t,i,n){let r;void 0===n&&(n=!1),"string"===typeof e?r=g(e):(r=l({},e),c(!r.pathname||!r.pathname.includes("?"),z("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),z("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),z("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=i;else{let e=t.length-1;if(!n&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let h=function(e,t){void 0===t&&(t="/");let{pathname:i,search:n="",hash:r=""}="string"===typeof e?g(e):e,s=i?i.startsWith("/")?i:function(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?i.length>1&&i.pop():"."!==e&&i.push(e)})),i.length>1?i.join("/"):"/"}(i,t):t;return{pathname:s,search:B(n),hash:V(r)}}(r,s),u=a&&"/"!==a&&a.endsWith("/"),p=(o||"."===a)&&i.endsWith("/");return h.pathname.endsWith("/")||!u&&!p||(h.pathname+="/"),h}const R=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],W=(new Set(H),["get",...H]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Y.apply(this,arguments)}const Q=n.createContext(null);const q=n.createContext(null);const G=n.createContext(null);const K=n.createContext(null);const X=n.createContext({outlet:null,matches:[],isDataRoute:!1});const J=n.createContext(null);function Z(){return null!=n.useContext(K)}function $(){return Z()||c(!1),n.useContext(K).location}function ee(e){n.useContext(G).static||n.useLayoutEffect(e)}function te(){let{isDataRoute:e}=n.useContext(X);return e?function(){let{router:e}=ue(he.UseNavigateStable),t=de(ce.UseNavigateStable),i=n.useRef(!1);return ee((()=>{i.current=!0})),n.useCallback((function(n,r){void 0===r&&(r={}),i.current&&("number"===typeof n?e.navigate(n):e.navigate(n,Y({fromRouteId:t},r)))}),[e,t])}():function(){Z()||c(!1);let e=n.useContext(Q),{basename:t,future:i,navigator:r}=n.useContext(G),{matches:s}=n.useContext(X),{pathname:o}=$(),a=JSON.stringify(O(s,i.v7_relativeSplatPath)),l=n.useRef(!1);return ee((()=>{l.current=!0})),n.useCallback((function(i,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof i)return void r.go(i);let s=P(i,JSON.parse(a),o,"path"===n.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:R([t,s.pathname])),(n.replace?r.replace:r.push)(s,n.state,n)}),[t,r,a,o,e])}()}function ie(e,t){let{relative:i}=void 0===t?{}:t,{future:r}=n.useContext(G),{matches:s}=n.useContext(X),{pathname:o}=$(),a=JSON.stringify(O(s,r.v7_relativeSplatPath));return n.useMemo((()=>P(e,JSON.parse(a),o,"path"===i)),[e,a,o,i])}function ne(e,i,r,s){Z()||c(!1);let{navigator:o}=n.useContext(G),{matches:a}=n.useContext(X),l=a[a.length-1],h=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let p,d=$();if(i){var f;let e="string"===typeof i?g(i):i;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),p=e}else p=d;let m=p.pathname||"/",y=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:y});let M=le(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:R([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:R([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,s);return i&&M?n.createElement(K.Provider,{value:{location:Y({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:t.Pop}},M):M}function re(){let e=function(){var e;let t=n.useContext(J),i=pe(ce.UseRouteError),r=de(ce.UseRouteError);if(void 0!==t)return t;return null==(e=i.errors)?void 0:e[r]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),i?n.createElement("pre",{style:s},i):null,null)}const se=n.createElement(re,null);class oe extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(X.Provider,{value:this.props.routeContext},n.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:i,children:r}=e,s=n.useContext(Q);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),n.createElement(X.Provider,{value:t},r)}function le(e,t,i,r){var s;if(void 0===t&&(t=[]),void 0===i&&(i=null),void 0===r&&(r=null),null==e){var o;if(null==(o=i)||!o.errors)return null;e=i.matches}let a=e,l=null==(s=i)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let h=!1,u=-1;if(i&&r&&r.v7_partialHydration)for(let n=0;n<a.length;n++){let e=a[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=n),e.route.id){let{loaderData:t,errors:n}=i,r=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){h=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,c=!1,p=null,d=null;var f;i&&(o=l&&r.route.id?l[r.route.id]:void 0,p=r.route.errorElement||se,h&&(u<0&&0===s?(f="route-fallback",!1||fe[f]||(fe[f]=!0),c=!0,d=null):u===s&&(c=!0,d=r.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,s+1)),m=()=>{let t;return t=o?p:c?d:r.route.Component?n.createElement(r.route.Component,null):r.route.element?r.route.element:e,n.createElement(ae,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=i},children:t})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?n.createElement(oe,{location:i.location,revalidation:i.revalidation,component:p,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var he=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(he||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=n.useContext(Q);return t||c(!1),t}function pe(e){let t=n.useContext(q);return t||c(!1),t}function de(e){let t=function(e){let t=n.useContext(X);return t||c(!1),t}(),i=t.matches[t.matches.length-1];return i.route.id||c(!1),i.route.id}const fe={};r.startTransition;function ge(e){c(!1)}function me(e){let{basename:i="/",children:r=null,location:s,navigationType:o=t.Pop,navigator:a,static:l=!1,future:h}=e;Z()&&c(!1);let u=i.replace(/^\/*/,"/"),p=n.useMemo((()=>({basename:u,navigator:a,static:l,future:Y({v7_relativeSplatPath:!1},h)})),[u,h,a,l]);"string"===typeof s&&(s=g(s));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:v="default"}=s,b=n.useMemo((()=>{let e=k(d,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:y,key:v},navigationType:o}}),[u,d,f,m,y,v,o]);return null==b?null:n.createElement(G.Provider,{value:p},n.createElement(K.Provider,{children:r,value:b}))}function ye(e){let{children:t,location:i}=e;return ne(ve(t),i)}new Promise((()=>{}));n.Component;function ve(e,t){void 0===t&&(t=[]);let i=[];return n.Children.forEach(e,((e,r)=>{if(!n.isValidElement(e))return;let s=[...t,r];if(e.type===n.Fragment)return void i.push.apply(i,ve(e.props.children,s));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,s)),i.push(o)})),i}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},be.apply(this,arguments)}function Me(e,t){if(null==e)return{};var i,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(lE){}new Map;const we=r.startTransition;a.flushSync,r.useId;function _e(e){let{basename:t,children:i,future:r,window:s}=e,o=n.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),m((function(e,t){let{pathname:i,search:n,hash:r}=e.location;return d("",{pathname:i,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,a)));let l=o.current,[h,c]=n.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},p=n.useCallback((e=>{u&&we?we((()=>c(e))):c(e)}),[c,u]);return n.useLayoutEffect((()=>l.listen(p)),[l,p]),n.createElement(me,{basename:t,children:i,location:h.location,navigationType:h.action,navigator:l,future:r})}const Ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=n.forwardRef((function(e,t){let i,{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:h,to:u,preventScrollReset:p,unstable_viewTransition:d}=e,g=Me(e,Se),{basename:m}=n.useContext(G),y=!1;if("string"===typeof u&&Ne.test(u)&&(i=u,Ie))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),i=k(t.pathname,m);t.origin===e.origin&&null!=i?u=i+t.search+t.hash:y=!0}catch(lE){}let v=function(e,t){let{relative:i}=void 0===t?{}:t;Z()||c(!1);let{basename:r,navigator:s}=n.useContext(G),{hash:o,pathname:a,search:l}=ie(e,{relative:i}),h=a;return"/"!==r&&(h="/"===a?r:R([r,a])),s.createHref({pathname:h,search:l,hash:o})}(u,{relative:s}),b=function(e,t){let{target:i,replace:r,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,h=te(),c=$(),u=ie(e,{relative:a});return n.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();let i=void 0!==r?r:f(c)===f(u);h(e,{replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[c,h,u,r,s,i,e,o,a,l])}(u,{replace:a,state:l,target:h,preventScrollReset:p,relative:s,unstable_viewTransition:d});return n.createElement("a",be({},g,{href:i||v,onClick:y||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:h}))}));var xe,De;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xe||(xe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));function Te(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ae}=Object.prototype,{getPrototypeOf:je}=Object,Ee=(ke=Object.create(null),e=>{const t=Ae.call(e);return ke[t]||(ke[t]=t.slice(8,-1).toLowerCase())});var ke;const ze=e=>(e=e.toLowerCase(),t=>Ee(t)===e),Le=e=>t=>typeof t===e,{isArray:Oe}=Array,Pe=Le("undefined");const Re=ze("ArrayBuffer");const Fe=Le("string"),Be=Le("function"),Ve=Le("number"),Ue=e=>null!==e&&"object"===typeof e,He=e=>{if("object"!==Ee(e))return!1;const t=je(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},We=ze("Date"),Ye=ze("File"),Qe=ze("Blob"),qe=ze("FileList"),Ge=ze("URLSearchParams"),[Ke,Xe,Je,Ze]=["ReadableStream","Request","Response","Headers"].map(ze);function $e(e,t){let i,n,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Oe(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{const n=r?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let o;for(i=0;i<s;i++)o=n[i],t.call(null,e[o],o,e)}}function et(e,t){t=t.toLowerCase();const i=Object.keys(e);let n,r=i.length;for(;r-- >0;)if(n=i[r],t===n.toLowerCase())return n;return null}const tt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,it=e=>!Pe(e)&&e!==tt;const nt=(rt="undefined"!==typeof Uint8Array&&je(Uint8Array),e=>rt&&e instanceof rt);var rt;const st=ze("HTMLFormElement"),ot=(e=>{let{hasOwnProperty:t}=e;return(e,i)=>t.call(e,i)})(Object.prototype),at=ze("RegExp"),lt=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};$e(i,((i,r)=>{let s;!1!==(s=t(i,r,e))&&(n[r]=s||i)})),Object.defineProperties(e,n)},ht="abcdefghijklmnopqrstuvwxyz",ct="0123456789",ut={DIGIT:ct,ALPHA:ht,ALPHA_DIGIT:ht+ht.toUpperCase()+ct};const pt=ze("AsyncFunction"),dt={isArray:Oe,isArrayBuffer:Re,isBuffer:function(e){return null!==e&&!Pe(e)&&null!==e.constructor&&!Pe(e.constructor)&&Be(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Be(e.append)&&("formdata"===(t=Ee(e))||"object"===t&&Be(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Re(e.buffer),t},isString:Fe,isNumber:Ve,isBoolean:e=>!0===e||!1===e,isObject:Ue,isPlainObject:He,isReadableStream:Ke,isRequest:Xe,isResponse:Je,isHeaders:Ze,isUndefined:Pe,isDate:We,isFile:Ye,isBlob:Qe,isRegExp:at,isFunction:Be,isStream:e=>Ue(e)&&Be(e.pipe),isURLSearchParams:Ge,isTypedArray:nt,isFileList:qe,forEach:$e,merge:function e(){const{caseless:t}=it(this)&&this||{},i={},n=(n,r)=>{const s=t&&et(i,r)||r;He(i[s])&&He(n)?i[s]=e(i[s],n):He(n)?i[s]=e({},n):Oe(n)?i[s]=n.slice():i[s]=n};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&$e(arguments[r],n);return i},extend:function(e,t,i){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return $e(t,((t,n)=>{i&&Be(t)?e[n]=Te(t,i):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let r,s,o;const a={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)o=r[s],n&&!n(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==i&&je(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:Ee,kindOfTest:ze,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return-1!==n&&n===i},toArray:e=>{if(!e)return null;if(Oe(e))return e;let t=e.length;if(!Ve(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=i.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{let i;const n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:st,hasOwnProperty:ot,hasOwnProp:ot,reduceDescriptors:lt,freezeMethods:e=>{lt(e,((t,i)=>{if(Be(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const n=e[i];Be(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))}))},toObjectSet:(e,t)=>{const i={},n=e=>{e.forEach((e=>{i[e]=!0}))};return Oe(e)?n(e):n(String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,i){return t.toUpperCase()+i})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:et,global:tt,isContextDefined:it,ALPHABET:ut,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.ALPHA_DIGIT,i="";const{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i},isSpecCompliantForm:function(e){return!!(e&&Be(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),i=(e,n)=>{if(Ue(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const r=Oe(e)?[]:{};return $e(e,((e,t)=>{const s=i(e,n+1);!Pe(s)&&(r[t]=s)})),t[n]=void 0,r}}return e};return i(e,0)},isAsyncFn:pt,isThenable:e=>e&&(Ue(e)||Be(e))&&Be(e.then)&&Be(e.catch)};function ft(e,t,i,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r)}dt.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:dt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const gt=ft.prototype,mt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{mt[e]={value:e}})),Object.defineProperties(ft,mt),Object.defineProperty(gt,"isAxiosError",{value:!0}),ft.from=(e,t,i,n,r,s)=>{const o=Object.create(gt);return dt.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ft.call(o,e.message,t,i,n,r),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const yt=ft;function vt(e){return dt.isPlainObject(e)||dt.isArray(e)}function bt(e){return dt.endsWith(e,"[]")?e.slice(0,-2):e}function Mt(e,t,i){return e?e.concat(t).map((function(e,t){return e=bt(e),!i&&t?"["+e+"]":e})).join(i?".":""):t}const St=dt.toFlatObject(dt,{},null,(function(e){return/^is[A-Z]/.test(e)}));const wt=function(e,t,i){if(!dt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(i=dt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!dt.isUndefined(t[e])}))).metaTokens,r=i.visitor||h,s=i.dots,o=i.indexes,a=(i.Blob||"undefined"!==typeof Blob&&Blob)&&dt.isSpecCompliantForm(t);if(!dt.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(dt.isDate(e))return e.toISOString();if(!a&&dt.isBlob(e))throw new yt("Blob is not supported. Use a Buffer instead.");return dt.isArrayBuffer(e)||dt.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function h(e,i,r){let a=e;if(e&&!r&&"object"===typeof e)if(dt.endsWith(i,"{}"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else if(dt.isArray(e)&&function(e){return dt.isArray(e)&&!e.some(vt)}(e)||(dt.isFileList(e)||dt.endsWith(i,"[]"))&&(a=dt.toArray(e)))return i=bt(i),a.forEach((function(e,n){!dt.isUndefined(e)&&null!==e&&t.append(!0===o?Mt([i],n,s):null===o?i:i+"[]",l(e))})),!1;return!!vt(e)||(t.append(Mt(r,i,s),l(e)),!1)}const c=[],u=Object.assign(St,{defaultVisitor:h,convertValue:l,isVisitable:vt});if(!dt.isObject(e))throw new TypeError("data must be an object");return function e(i,n){if(!dt.isUndefined(i)){if(-1!==c.indexOf(i))throw Error("Circular reference detected in "+n.join("."));c.push(i),dt.forEach(i,(function(i,s){!0===(!(dt.isUndefined(i)||null===i)&&r.call(t,i,dt.isString(s)?s.trim():s,n,u))&&e(i,n?n.concat(s):[s])})),c.pop()}}(e),t};function _t(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function It(e,t){this._pairs=[],e&&wt(e,this,t)}const Nt=It.prototype;Nt.append=function(e,t){this._pairs.push([e,t])},Nt.toString=function(e){const t=e?function(t){return e.call(this,t,_t)}:_t;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Ct=It;function xt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Dt(e,t,i){if(!t)return e;const n=i&&i.encode||xt,r=i&&i.serialize;let s;if(s=r?r(t,i):dt.isURLSearchParams(t)?t.toString():new Ct(t,i).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Tt=class{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){dt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},At={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ct,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Et="undefined"!==typeof window&&"undefined"!==typeof document,kt=(zt="undefined"!==typeof navigator&&navigator.product,Et&&["ReactNative","NativeScript","NS"].indexOf(zt)<0);var zt;const Lt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ot=Et&&window.location.href||"http://localhost",Pt={...e,...jt};const Rt=function(e){function t(e,i,n,r){let s=e[r++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=r>=e.length;if(s=!s&&dt.isArray(n)?n.length:s,a)return dt.hasOwnProp(n,s)?n[s]=[n[s],i]:n[s]=i,!o;n[s]&&dt.isObject(n[s])||(n[s]=[]);return t(e,i,n[s],r)&&dt.isArray(n[s])&&(n[s]=function(e){const t={},i=Object.keys(e);let n;const r=i.length;let s;for(n=0;n<r;n++)s=i[n],t[s]=e[s];return t}(n[s])),!o}if(dt.isFormData(e)&&dt.isFunction(e.entries)){const i={};return dt.forEachEntry(e,((e,n)=>{t(function(e){return dt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,i,0)})),i}return null};const Ft={transitional:At,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",n=i.indexOf("application/json")>-1,r=dt.isObject(e);r&&dt.isHTMLForm(e)&&(e=new FormData(e));if(dt.isFormData(e))return n?JSON.stringify(Rt(e)):e;if(dt.isArrayBuffer(e)||dt.isBuffer(e)||dt.isStream(e)||dt.isFile(e)||dt.isBlob(e)||dt.isReadableStream(e))return e;if(dt.isArrayBufferView(e))return e.buffer;if(dt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return wt(e,new Pt.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,n){return Pt.isNode&&dt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=dt.isFileList(e))||i.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return wt(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType("application/json",!1),function(e,t,i){if(dt.isString(e))try{return(t||JSON.parse)(e),dt.trim(e)}catch(lE){if("SyntaxError"!==lE.name)throw lE}return(i||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ft.transitional,i=t&&t.forcedJSONParsing,n="json"===this.responseType;if(dt.isResponse(e)||dt.isReadableStream(e))return e;if(e&&dt.isString(e)&&(i&&!this.responseType||n)){const i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(lE){if(i){if("SyntaxError"===lE.name)throw yt.from(lE,yt.ERR_BAD_RESPONSE,this,null,this.response);throw lE}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pt.classes.FormData,Blob:Pt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};dt.forEach(["delete","get","head","post","put","patch"],(e=>{Ft.headers[e]={}}));const Bt=Ft,Vt=dt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ut=Symbol("internals");function Ht(e){return e&&String(e).trim().toLowerCase()}function Wt(e){return!1===e||null==e?e:dt.isArray(e)?e.map(Wt):String(e)}function Yt(e,t,i,n,r){return dt.isFunction(n)?n.call(this,t,i):(r&&(t=i),dt.isString(t)?dt.isString(n)?-1!==t.indexOf(n):dt.isRegExp(n)?n.test(t):void 0:void 0)}class Qt{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function r(e,t,i){const r=Ht(t);if(!r)throw new Error("header name must be a non-empty string");const s=dt.findKey(n,r);(!s||void 0===n[s]||!0===i||void 0===i&&!1!==n[s])&&(n[s||t]=Wt(e))}const s=(e,t)=>dt.forEach(e,((e,i)=>r(e,i,t)));if(dt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(dt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let i,n,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),i=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!i||t[i]&&Vt[i]||("set-cookie"===i?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)})),t})(e),t);else if(dt.isHeaders(e))for(const[o,a]of e.entries())r(a,o,i);else null!=e&&r(t,e,i);return this}get(e,t){if(e=Ht(e)){const i=dt.findKey(this,e);if(i){const e=this[i];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}(e);if(dt.isFunction(t))return t.call(this,e,i);if(dt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ht(e)){const i=dt.findKey(this,e);return!(!i||void 0===this[i]||t&&!Yt(0,this[i],i,t))}return!1}delete(e,t){const i=this;let n=!1;function r(e){if(e=Ht(e)){const r=dt.findKey(i,e);!r||t&&!Yt(0,i[r],r,t)||(delete i[r],n=!0)}}return dt.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const r=t[i];e&&!Yt(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,i={};return dt.forEach(this,((n,r)=>{const s=dt.findKey(i,r);if(s)return t[s]=Wt(n),void delete t[r];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,i)=>t.toUpperCase()+i))}(r):String(r).trim();o!==r&&delete t[r],t[o]=Wt(n),i[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return dt.forEach(this,((i,n)=>{null!=i&&!1!==i&&(t[n]=e&&dt.isArray(i)?i.join(", "):i)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,i]=e;return t+": "+i})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Ut]=this[Ut]={accessors:{}}).accessors,i=this.prototype;function n(e){const n=Ht(e);t[n]||(!function(e,t){const i=dt.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+i,{value:function(e,i,r){return this[n].call(this,t,e,i,r)},configurable:!0})}))}(i,e),t[n]=!0)}return dt.isArray(e)?e.forEach(n):n(e),this}}Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),dt.reduceDescriptors(Qt.prototype,((e,t)=>{let{value:i}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(e){this[n]=e}}})),dt.freezeMethods(Qt);const qt=Qt;function Gt(e,t){const i=this||Bt,n=t||i,r=qt.from(n.headers);let s=n.data;return dt.forEach(e,(function(e){s=e.call(i,s,r.normalize(),t?t.status:void 0)})),r.normalize(),s}function Kt(e){return!(!e||!e.__CANCEL__)}function Xt(e,t,i){yt.call(this,null==e?"canceled":e,yt.ERR_CANCELED,t,i),this.name="CanceledError"}dt.inherits(Xt,yt,{__CANCEL__:!0});const Jt=Xt;function Zt(e,t,i){const n=i.config.validateStatus;i.status&&n&&!n(i.status)?t(new yt("Request failed with status code "+i.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):e(i)}const $t=function(e,t){e=e||10;const i=new Array(e),n=new Array(e);let r,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),h=n[o];r||(r=l),i[s]=a,n[s]=l;let c=o,u=0;for(;c!==s;)u+=i[c++],c%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-r<t)return;const p=h&&l-h;return p?Math.round(1e3*u/p):void 0}};const ei=function(e,t){let i=0;const n=1e3/t;let r=null;return function(){const t=!0===this,s=Date.now();if(t||s-i>n)return r&&(clearTimeout(r),r=null),i=s,e.apply(null,arguments);r||(r=setTimeout((()=>(r=null,i=Date.now(),e.apply(null,arguments))),n-(s-i)))}},ti=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const r=$t(50,250);return ei((i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a);n=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:i,lengthComputable:null!=o};h[t?"download":"upload"]=!0,e(h)}),i)},ii=Pt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function n(i){let n=i;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return i=n(window.location.href),function(e){const t=dt.isString(e)?n(e):e;return t.protocol===i.protocol&&t.host===i.host}}():function(){return!0},ni=Pt.hasStandardBrowserEnv?{write(e,t,i,n,r,s){const o=[e+"="+encodeURIComponent(t)];dt.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),dt.isString(n)&&o.push("path="+n),dt.isString(r)&&o.push("domain="+r),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ri(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const si=e=>e instanceof qt?{...e}:e;function oi(e,t){t=t||{};const i={};function n(e,t,i){return dt.isPlainObject(e)&&dt.isPlainObject(t)?dt.merge.call({caseless:i},e,t):dt.isPlainObject(t)?dt.merge({},t):dt.isArray(t)?t.slice():t}function r(e,t,i){return dt.isUndefined(t)?dt.isUndefined(e)?void 0:n(void 0,e,i):n(e,t,i)}function s(e,t){if(!dt.isUndefined(t))return n(void 0,t)}function o(e,t){return dt.isUndefined(t)?dt.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(i,r,s){return s in t?n(i,r):s in e?n(void 0,i):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>r(si(e),si(t),!0)};return dt.forEach(Object.keys(Object.assign({},e,t)),(function(n){const s=l[n]||r,o=s(e[n],t[n],n);dt.isUndefined(o)&&s!==a||(i[n]=o)})),i}const ai=e=>{const t=oi({},e);let i,{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=qt.from(a),t.url=Dt(ri(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),dt.isFormData(n))if(Pt.hasStandardBrowserEnv||Pt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(i=a.getContentType())){const[e,...t]=i?i.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Pt.hasStandardBrowserEnv&&(r&&dt.isFunction(r)&&(r=r(t)),r||!1!==r&&ii(t.url))){const e=s&&o&&ni.read(o);e&&a.set(s,e)}return t},li="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,i){const n=ai(e);let r=n.data;const s=qt.from(n.headers).normalize();let o,{responseType:a}=n;function l(){n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let h=new XMLHttpRequest;function c(){if(!h)return;const n=qt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Zt((function(e){t(e),l()}),(function(e){i(e),l()}),{data:a&&"text"!==a&&"json"!==a?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h}),h=null}h.open(n.method.toUpperCase(),n.url,!0),h.timeout=n.timeout,"onloadend"in h?h.onloadend=c:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(c)},h.onabort=function(){h&&(i(new yt("Request aborted",yt.ECONNABORTED,n,h)),h=null)},h.onerror=function(){i(new yt("Network Error",yt.ERR_NETWORK,n,h)),h=null},h.ontimeout=function(){let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const t=n.transitional||At;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),i(new yt(e,t.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,n,h)),h=null},void 0===r&&s.setContentType(null),"setRequestHeader"in h&&dt.forEach(s.toJSON(),(function(e,t){h.setRequestHeader(t,e)})),dt.isUndefined(n.withCredentials)||(h.withCredentials=!!n.withCredentials),a&&"json"!==a&&(h.responseType=n.responseType),"function"===typeof n.onDownloadProgress&&h.addEventListener("progress",ti(n.onDownloadProgress,!0)),"function"===typeof n.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",ti(n.onUploadProgress)),(n.cancelToken||n.signal)&&(o=t=>{h&&(i(!t||t.type?new Jt(null,e,h):t),h.abort(),h=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const u=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);u&&-1===Pt.protocols.indexOf(u)?i(new yt("Unsupported protocol "+u+":",yt.ERR_BAD_REQUEST,e)):h.send(r||null)}))},hi=(e,t)=>{let i,n=new AbortController;const r=function(e){if(!i){i=!0,o();const t=e instanceof Error?e:this.reason;n.abort(t instanceof yt?t:new Jt(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{r(new yt("timeout ".concat(t," of ms exceeded"),yt.ETIMEDOUT))}),t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",r):e.unsubscribe(r))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",r)));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},ci=function*(e,t){let i=e.byteLength;if(!t||i<t)return void(yield e);let n,r=0;for(;r<i;)n=r+t,yield e.slice(r,n),r=n},ui=(e,t,i,n,r)=>{const s=async function*(e,t,i){for await(const n of e)yield*ci(ArrayBuffer.isView(n)?n:await i(String(n)),t)}(e,t,r);let o=0;return new ReadableStream({type:"bytes",async pull(e){const{done:t,value:r}=await s.next();if(t)return e.close(),void n();let a=r.byteLength;i&&i(o+=a),e.enqueue(new Uint8Array(r))},cancel:e=>(n(e),s.return())},{highWaterMark:2})},pi=(e,t)=>{const i=null!=e;return n=>setTimeout((()=>t({lengthComputable:i,total:e,loaded:n})))},di="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,fi=di&&"function"===typeof ReadableStream,gi=di&&("function"===typeof TextEncoder?(mi=new TextEncoder,e=>mi.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var mi;const yi=fi&&(()=>{let e=!1;const t=new Request(Pt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),vi=fi&&!!(()=>{try{return dt.isReadableStream(new Response("").body)}catch(e){}})(),bi={stream:vi&&(e=>e.body)};var Mi;di&&(Mi=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!bi[e]&&(bi[e]=dt.isFunction(Mi[e])?t=>t[e]():(t,i)=>{throw new yt("Response type '".concat(e,"' is not supported"),yt.ERR_NOT_SUPPORT,i)})})));const Si=async(e,t)=>{const i=dt.toFiniteNumber(e.getContentLength());return null==i?(async e=>null==e?0:dt.isBlob(e)?e.size:dt.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:dt.isArrayBufferView(e)?e.byteLength:(dt.isURLSearchParams(e)&&(e+=""),dt.isString(e)?(await gi(e)).byteLength:void 0))(t):i},wi=di&&(async e=>{let{url:t,method:i,data:n,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:h,headers:c,withCredentials:u="same-origin",fetchOptions:p}=ai(e);h=h?(h+"").toLowerCase():"text";let d,f,[g,m]=r||s||o?hi([r,s],o):[];const y=()=>{!d&&setTimeout((()=>{g&&g.unsubscribe()})),d=!0};let v;try{if(l&&yi&&"get"!==i&&"head"!==i&&0!==(v=await Si(c,n))){let e,i=new Request(t,{method:"POST",body:n,duplex:"half"});dt.isFormData(n)&&(e=i.headers.get("content-type"))&&c.setContentType(e),i.body&&(n=ui(i.body,65536,pi(v,ti(l)),null,gi))}dt.isString(u)||(u=u?"cors":"omit"),f=new Request(t,{...p,signal:g,method:i.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",withCredentials:u});let r=await fetch(f);const s=vi&&("stream"===h||"response"===h);if(vi&&(a||s)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=dt.toFiniteNumber(r.headers.get("content-length"));r=new Response(ui(r.body,65536,a&&pi(t,ti(a,!0)),s&&y,gi),e)}h=h||"text";let o=await bi[dt.findKey(bi,h)||"text"](r,e);return!s&&y(),m&&m(),await new Promise(((t,i)=>{Zt(t,i,{data:o,headers:qt.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:f})}))}catch(b){if(y(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new yt("Network Error",yt.ERR_NETWORK,e,f),{cause:b.cause||b});throw yt.from(b,b&&b.code,e,f)}}),_i={http:null,xhr:li,fetch:wi};dt.forEach(_i,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(lE){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ii=e=>"- ".concat(e),Ni=e=>dt.isFunction(e)||null===e||!1===e,Ci=e=>{e=dt.isArray(e)?e:[e];const{length:t}=e;let i,n;const r={};for(let s=0;s<t;s++){let t;if(i=e[s],n=i,!Ni(i)&&(n=_i[(t=String(i)).toLowerCase()],void 0===n))throw new yt("Unknown adapter '".concat(t,"'"));if(n)break;r[t||"#"+s]=n}if(!n){const e=Object.entries(r).map((e=>{let[t,i]=e;return"adapter ".concat(t," ")+(!1===i?"is not supported by the environment":"is not available in the build")}));let i=t?e.length>1?"since :\n"+e.map(Ii).join("\n"):" "+Ii(e[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n};function xi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Jt(null,e)}function Di(e){xi(e),e.headers=qt.from(e.headers),e.data=Gt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ci(e.adapter||Bt.adapter)(e).then((function(t){return xi(e),t.data=Gt.call(e,e.transformResponse,t),t.headers=qt.from(t.headers),t}),(function(t){return Kt(t)||(xi(e),t&&t.response&&(t.response.data=Gt.call(e,e.transformResponse,t.response),t.response.headers=qt.from(t.response.headers))),Promise.reject(t)}))}const Ti="1.7.2",Ai={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ai[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}}));const ji={};Ai.transitional=function(e,t,i){function n(e,t){return"[Axios v1.7.2] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,r,s)=>{if(!1===e)throw new yt(n(r," has been removed"+(t?" in "+t:"")),yt.ERR_DEPRECATED);return t&&!ji[r]&&(ji[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,r,s)}};const Ei={assertOptions:function(e,t,i){if("object"!==typeof e)throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const s=n[r],o=t[s];if(o){const t=e[s],i=void 0===t||o(t,s,e);if(!0!==i)throw new yt("option "+s+" must be "+i,yt.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new yt("Unknown option "+s,yt.ERR_BAD_OPTION)}},validators:Ai},ki=Ei.validators;class zi{constructor(e){this.defaults=e,this.interceptors={request:new Tt,response:new Tt}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{i.stack?t&&!String(i.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(i.stack+="\n"+t):i.stack=t}catch(lE){}}throw i}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=oi(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:r}=t;void 0!==i&&Ei.assertOptions(i,{silentJSONParsing:ki.transitional(ki.boolean),forcedJSONParsing:ki.transitional(ki.boolean),clarifyTimeoutError:ki.transitional(ki.boolean)},!1),null!=n&&(dt.isFunction(n)?t.paramsSerializer={serialize:n}:Ei.assertOptions(n,{encode:ki.function,serialize:ki.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=r&&dt.merge(r.common,r[t.method]);r&&dt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=qt.concat(s,r);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let h;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,u=0;if(!a){const e=[Di.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),c=e.length,h=Promise.resolve(t);u<c;)h=h.then(e[u++],e[u++]);return h}c=o.length;let p=t;for(u=0;u<c;){const e=o[u++],t=o[u++];try{p=e(p)}catch(d){t.call(this,d);break}}try{h=Di.call(this,p)}catch(d){return Promise.reject(d)}for(u=0,c=l.length;u<c;)h=h.then(l[u++],l[u++]);return h}getUri(e){return Dt(ri((e=oi(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}dt.forEach(["delete","get","head","options"],(function(e){zi.prototype[e]=function(t,i){return this.request(oi(i||{},{method:e,url:t,data:(i||{}).data}))}})),dt.forEach(["post","put","patch"],(function(e){function t(t){return function(i,n,r){return this.request(oi(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}zi.prototype[e]=t(),zi.prototype[e+"Form"]=t(!0)}));const Li=zi;class Oi{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const i=this;this.promise.then((e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e((function(e,n,r){i.reason||(i.reason=new Jt(e,n,r),t(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Oi((function(t){e=t})),cancel:e}}}const Pi=Oi;const Ri={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ri).forEach((e=>{let[t,i]=e;Ri[i]=t}));const Fi=Ri;const Bi=function e(t){const i=new Li(t),n=Te(Li.prototype.request,i);return dt.extend(n,Li.prototype,i,{allOwnKeys:!0}),dt.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(oi(t,i))},n}(Bt);Bi.Axios=Li,Bi.CanceledError=Jt,Bi.CancelToken=Pi,Bi.isCancel=Kt,Bi.VERSION=Ti,Bi.toFormData=wt,Bi.AxiosError=yt,Bi.Cancel=Bi.CanceledError,Bi.all=function(e){return Promise.all(e)},Bi.spread=function(e){return function(t){return e.apply(null,t)}},Bi.isAxiosError=function(e){return dt.isObject(e)&&!0===e.isAxiosError},Bi.mergeConfig=oi,Bi.AxiosHeaders=qt,Bi.formToJSON=e=>Rt(dt.isHTMLForm(e)?new FormData(e):e),Bi.getAdapter=Ci,Bi.HttpStatusCode=Fi,Bi.default=Bi;const Vi=Bi;var Ui=i(5),Hi=i(579);const Wi=()=>{const[e,t]=(0,n.useState)(""),[i,r]=(0,n.useState)(""),s=te();return(0,Hi.jsx)("div",{className:"container",children:(0,Hi.jsx)("div",{className:"row justify-content-center",children:(0,Hi.jsx)("div",{className:"col-md-8",children:(0,Hi.jsx)("div",{className:"card mt-5",children:(0,Hi.jsxs)("div",{className:"row no-gutters",children:[(0,Hi.jsxs)("div",{className:"col-md-5",children:[(0,Hi.jsx)("img",{src:"/images/neelan_logo.jpg",className:"card-img",alt:"Neelan Logo"}),(0,Hi.jsxs)("div",{className:"card-body text-center",children:[(0,Hi.jsx)("h3",{className:"card-title font-weight-bold",children:"Neelan Matriculation Higher Secondary School"}),(0,Hi.jsx)("p",{className:"card-text",children:"Guduvanchery, Chennai-603202"})]})]}),(0,Hi.jsx)("div",{className:"col-md-7",children:(0,Hi.jsxs)("div",{className:"card-body",children:[(0,Hi.jsx)("h2",{className:"card-title text-center",children:"Login"}),(0,Hi.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await(async(e,t)=>{const i=await Vi.post("".concat("https://api.benzosoft.com/nschapi/api","/CheckLogin"),{UserName:e,Password:t,MPIN:0});return!(!i.data||1!=i.data.result[0].proceedLogin)&&(localStorage.setItem("user",JSON.stringify(i.data.result[0])),!0)})(e,i);if(1!=t)throw new Ui.BaseException("Invalid Credentials","");s("/dashboard")}catch(n){console.error(n),alert("Failed to login")}},children:[(0,Hi.jsxs)("div",{className:"form-group",children:[(0,Hi.jsx)("label",{htmlFor:"username",children:"Username"}),(0,Hi.jsx)("input",{type:"text",id:"username",className:"form-control",value:e,onChange:e=>t(e.target.value)})]}),(0,Hi.jsxs)("div",{className:"form-group",children:[(0,Hi.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Hi.jsx)("input",{type:"password",id:"password",className:"form-control",value:i,onChange:e=>r(e.target.value)})]}),(0,Hi.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mt-3",children:"Login"})]})]})})]})})})})})},Yi=()=>{const e=te();return(0,Hi.jsx)("div",{className:"container mt-5",children:(0,Hi.jsx)("div",{className:"row",children:(0,Hi.jsxs)("div",{className:"col-md-12",children:[(0,Hi.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Hi.jsx)("h2",{children:"Dashboard"}),(0,Hi.jsx)("button",{onClick:()=>{localStorage.removeItem("user"),e("/")},className:"btn btn-danger",children:"Logout"})]}),(0,Hi.jsx)("nav",{children:(0,Hi.jsx)("ul",{className:"nav nav-pills flex-column flex-sm-row",children:(0,Hi.jsx)("li",{className:"nav-item",children:(0,Hi.jsx)(Ce,{to:"/StudentView",className:"nav-link",children:"All Students"})})})})]})})})};var Qi=0,qi=!1;function Gi(e,t){var i=t;return i.unshift(void 0),new(Function.prototype.bind.apply(e,i))}function Ki(e){var t,i=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(i);var n="ej2"+function(e){for(var t="",i=0;i<5;i++)t+=(i?",":"")+e[parseInt(i.toString(),10)];return t}(i),r=function(i){i.source===window&&"string"===typeof i.data&&i.data.length<=32&&i.data===n&&(e(),t())};return window.addEventListener("message",r,!1),window.postMessage(n,"*"),t=function(){window.removeEventListener("message",r),e=r=n=void 0}}function Xi(e,t){for(var i=t,n=e.replace(/\[/g,".").replace(/\]/g,"").split("."),r=0;r<n.length&&!rn(i);r++)i=i[n[parseInt(r.toString(),10)]];return i}function Ji(e,t,i){var n,r,s=e.replace(/\[/g,".").replace(/\]/g,"").split("."),o=i||{},a=o,l=s.length;for(n=0;n<l;n++)r=s[parseInt(n.toString(),10)],n+1===l?a[""+r]=void 0===t?{}:t:nn(a[""+r])&&(a[""+r]={}),a=a[""+r];return o}var Zi="undefined"!==typeof window?window:{};function $i(e){return!nn(e)&&e.constructor==={}.constructor}function en(e,t){if(!nn(t))for(var i=e,n=t,r="deepMerge",s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];nn(i[""+r])||-1===i[""+r].indexOf(a)||!$i(n[""+a])&&!Array.isArray(n[""+a])?i[""+a]=n[""+a]:tn(i[""+a],i[""+a],n[""+a],!0)}}function tn(e,t,i,n){var r=e&&"object"===typeof e?e:{},s=arguments.length,o=[e,t,i,n];n&&(s-=1);for(var a=function(e){if(!o[parseInt(e.toString(),10)])return"continue";var t=o[parseInt(e.toString(),10)];Object.keys(t).forEach((function(e){var i,s=r[""+e],o=t[""+e],a=Array.isArray(o)&&Array.isArray(s)&&o.length!==s.length,l=!hn()||!(s instanceof Event)&&!a;n&&l&&($i(o)||Array.isArray(o))?$i(o)?(i=s||{},Array.isArray(i)&&Object.prototype.hasOwnProperty.call(i,"isComplexArray")?tn(i,{},o,n):r[""+e]=tn(i,{},o,n)):(i=hn()?s&&Object.keys(o).length:s||[],r[""+e]=tn([],i,o,i&&i.length||o&&o.length)):r[""+e]=o}))},l=1;l<s;l++)a(l);return r}function nn(e){return void 0===e||null===e}function rn(e){return"undefined"===typeof e}function sn(e){return e+"_"+Qi++}function on(e,t){return e===t||!(e===document||!e)&&on(e.parentNode,t)}function an(e){try{throw new Error(e)}catch(lE){throw new Error(lE.message+"\n"+lE.stack)}}function ln(e){var t=e+"";return t.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)?t:t+"px"}function hn(){return qi}var cn,un={latn:{_digits:"0123456789",_type:"numeric"}},pn={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},dn=[0,1,2,3,4,5,6,7,8,9],fn=function(){function e(){}return e.getMainObject=function(e,t){return Xi(hn()?t:"main."+t,e)},e.getNumberingSystem=function(e){return Xi("supplemental.numberingSystems",e)||this.numberingSystems},e.reverseObject=function(e,t){for(var i={},n=0,r=t||Object.keys(e);n<r.length;n++){var s=r[n];Object.prototype.hasOwnProperty.call(i,e[""+s])||(i[e[""+s]]=s)}return i},e.getSymbolRegex=function(e){var t=e.map((function(e){return e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")})).join("|");return new RegExp(t,"g")},e.getSymbolMatch=function(e){for(var t={},i=0,n=Object.keys(pn);i<n.length;i++){var r=n[i];t[e[""+r]]=pn[""+r]}return t},e.constructRegex=function(e){for(var t=e.length,i="",n=0;n<t;n++)i+=n!==t-1?e[parseInt(n.toString(),10)]+"|":e[parseInt(n.toString(),10)];return i},e.convertValueParts=function(e,t,i){return e.replace(t,(function(e){return i[""+e]}))},e.getDefaultNumberingSystem=function(e){var t={};return t.obj=Xi("numbers",e),t.nSystem=Xi("defaultNumberingSystem",t.obj),t},e.getCurrentNumericOptions=function(e,t,i,n){var r={},s=this.getDefaultNumberingSystem(e);if(!rn(s.nSystem)||n){var o=n?Xi("obj.mapperDigits",s):Xi(s.nSystem+"._digits",t);if(!rn(o)){r.numericPair=this.reverseObject(o,dn);var a=RegExp;r.numberParseRegex=new a(this.constructRegex(o),"g"),r.numericRegex="["+o[0]+"-"+o[9]+"]",i&&(r.numericRegex=o[0]+"-"+o[9],r.symbolNumberSystem=Xi(n?"numberSymbols":"symbols-numberSystem-"+s.nSystem,s.obj),r.symbolMatch=this.getSymbolMatch(r.symbolNumberSystem),r.numberSystem=s.nSystem)}}return r},e.getNumberMapper=function(e,t,i){var n={mapper:{}},r=this.getDefaultNumberingSystem(e);if(!rn(r.nSystem)){n.numberSystem=r.nSystem,n.numberSymbols=Xi("symbols-numberSystem-"+r.nSystem,r.obj),n.timeSeparator=Xi("timeSeparator",n.numberSymbols);var s=Xi(r.nSystem+"._digits",t);if(!rn(s))for(var o=0,a=dn;o<a.length;o++){var l=a[o];n.mapper[parseInt(l.toString(),10)]=s[parseInt(l.toString(),10)]}}return n},e.nPair="numericPair",e.nRegex="numericRegex",e.numberingSystems=un,e}(),gn={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.",BHD:"\u062f.\u0628.",DZD:"\u062f.\u062c.",EGP:"\u062c.\u0645.",ILS:"\u20aa",IQD:"\u062f.\u0639.",JOD:"\u062f.\u0627.",KMF:"CF",KWD:"\u062f.\u0643.",LBP:"\u0644.\u0644.",LYD:"\u062f.\u0644.",MAD:"\u062f.\u0645.",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.",QAR:"\u0631.\u0642.",SAR:"\u0631.\u0633.",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.",TND:"\u062f.\u062a.",YER:"\u0631.\u064a.",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};!function(e){var t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];e.getHijriDate=function(e){var i=e.getDate(),n=e.getMonth(),r=e.getFullYear(),s=n+1,o=r;s<3&&(o-=1,s+=12);var a=Math.floor(o/100),l=a-Math.floor(a/4)-2,h=Math.floor(365.25*(o+4716))+Math.floor(30.6001*(s+1))+i-l-1524,c=h+(l=(a=Math.floor((h-1867216.25)/36524.25))-Math.floor(a/4)+1)+1524,u=Math.floor((c-122.1)/365.25),p=Math.floor(365.25*u),d=Math.floor((c-p)/30.6001);i=c-p-Math.floor(30.6001*d),(n=Math.floor((c-p)/20.6001))>13&&(u+=1,n-=12),n-=1,r=u-4716;var f=h-24e5,g=10631/30,m=h-1948084,y=Math.floor(m/10631);m-=10631*y;var v=Math.floor((m-.1335)/g),b=30*y+v;m-=Math.floor(v*g+.1335);var M=Math.floor((m+28.5001)/29.5);13===M&&(M=12);for(var S=m-Math.floor(29.5001*M-29),w=0;w<t.length&&!(t[parseInt(w.toString(),10)]>f);w++);var _=w+16260,I=Math.floor((_-1)/12),N=I+1,C=_-12*I,x=f-t[w-1]+1;return(x+"").length>2&&(x=S,C=M,N=b),{year:N,month:C,date:x}},e.toGregorian=function(e,i,n){var r=n+t[12*(e-1)+1+(i-1)-16260-1]-1+24e5,s=Math.floor(r+.5),o=Math.floor((s-1867216.25)/36524.25),a=(o=s+1+o-Math.floor(o/4))+1524,l=Math.floor((a-122.1)/365.25),h=Math.floor(365.25*l),c=Math.floor((a-h)/30.6001),u=a-h-Math.floor(30.6001*c),p=c-(c>13.5?13:1),d=l-(p>2.5?4716:4715);return d<=0&&p--,new Date(d+"/"+p+"/"+u)}}(cn||(cn={}));var mn=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,yn="stand-alone",vn=["sun","mon","tue","wed","thu","fri","sat"],bn={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},Mn={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},Sn=function(){function e(){}return e.dateFormat=function(e,t,i){var n=this,r=Bn.getDependables(i,e,t.calendar),s=Xi("parserObject.numbers",r),o=r.dateObject,a={isIslamic:Bn.islamicRegex.test(t.calendar)};hn()&&t.isServerRendered&&(t=Bn.compareBlazorDateFormats(t,e));var l=t.format||Bn.getResultantPattern(t.skeleton,r.dateObject,t.type,!1,hn()?e:"");if(a.dateSeperator=hn()?Xi("dateSeperator",o):Bn.getDateSeparator(r.dateObject),rn(l))an("Format options or type given must be invalid");else{l=Bn.ConvertDateToWeekFormat(l),hn()&&(l=l.replace(/tt/,"a")),a.pattern=l,a.numMapper=hn()?tn({},s):fn.getNumberMapper(r.parserObject,fn.getNumberingSystem(i));for(var h=0,c=l.match(mn)||[];h<c.length;h++){var u=c[h],p=u.length,d=u[0];switch("K"===d&&(d="h"),d){case"E":case"c":hn()?a.weekday=Xi("days."+Bn.monthIndex[""+p],o):a.weekday=r.dateObject[""+Bn.days][""+yn][Bn.monthIndex[""+p]];break;case"M":case"L":hn()?a.month=Xi("months."+Bn.monthIndex[""+p],o):a.month=r.dateObject[""+Bn.month][""+yn][Bn.monthIndex[""+p]];break;case"a":a.designator=hn()?Xi("dayPeriods",o):Xi("dayPeriods.format.wide",o);break;case"G":var f=p<=3?"eraAbbr":4===p?"eraNames":"eraNarrow";a.era=hn()?Xi("eras",o):Xi("eras."+f,r.dateObject);break;case"z":a.timeZone=Xi("dates.timeZoneNames",r.parserObject)}}}return function(e){return isNaN(e.getDate())?null:n.intDateFormatter(e,a)}},e.intDateFormatter=function(e,t){for(var i="",n=t.pattern.match(Bn.dateParseRegex),r=this.getCurrentDateValue(e,t.isIslamic),s=0,o=n;s<o.length;s++){var a=o[s],l=a.length,h=a[0];"K"===h&&(h="h");var c=void 0,u="",p=void 0,d=void 0,f="";switch(h){case"M":case"L":c=r.month,l>2?i+=t.month[""+c]:p=!0;break;case"E":case"c":i+=t.weekday[""+vn[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(p=!0,"d"===h)c=r.date;else if("f"===h){p=!1,d=!0;var g=(u=(u=e[""+bn[""+h]]().toString()).substring(0,l)).length;if(l!==g){if(l>3)continue;for(var m=0;m<l-g;m++)u="0"+u.toString()}f+=u}else c=e[""+bn[""+h]]();"h"===h&&(c=c%12||12);break;case"y":d=!0,f+=r.year,2===l&&(f=f.substr(f.length-2));break;case"a":var y=e.getHours()<12?"am":"pm";i+=t.designator[""+y];break;case"G":var v=e.getFullYear()<0?0:1,b=t.era[""+v];nn(b)&&(b=t.era[v?0:1]),i+=b||"";break;case"'":i+="''"===a?"'":a.replace(/'/g,"");break;case"z":var M=e.getTimezoneOffset(),S=l<4?"+H;-H":t.timeZone.hourFormat;S=S.replace(/:/g,t.numMapper.timeSeparator),0===M?i+=t.timeZone.gmtZeroFormat:(d=!0,f=this.getTimeZoneValue(M,S)),f=t.timeZone.gmtFormat.replace(/\{0\}/,f);break;case":":i+=t.numMapper.numberSymbols.timeSeparator;break;case"/":i+=t.dateSeperator;break;case"W":p=!0,c=Bn.getWeekOfYear(e);break;default:i+=a}p&&(d=!0,f=this.checkTwodigitNumber(c,l)),d&&(i+=fn.convertValueParts(f,Bn.latnParseRegex,t.numMapper.mapper))}return i},e.getCurrentDateValue=function(e,t){return t?cn.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}},e.checkTwodigitNumber=function(e,t){var i=e+"";return 2===t&&2!==i.length?"0"+i:i},e.getTimeZoneValue=function(e,t){var i=this,n=t.split(";")[e>0?1:0],r=Math.abs(e);return n.replace(/HH?|mm/g,(function(e){var t=e.length,n=-1!==e.indexOf("H");return i.checkTwodigitNumber(Math.floor(n?r/60:r%60),t)}))},e}(),wn={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},_n=["infinity","nan","group","decimal","exponential"],In=function(){function e(){}return e.numberFormatter=function(e,t,i){var n,r=this,s=tn({},t),o={},a={},l=Bn.getDependables(i,e,"",!0),h=l.numericObject;a.numberMapper=hn()?tn({},h):fn.getNumberMapper(l.parserObject,fn.getNumberingSystem(i),!0),a.currencySymbol=hn()?Xi("currencySymbol",h):Bn.getCurrencySymbol(l.numericObject,s.currency||Rn,t.altSymbol),a.percentSymbol=hn()?Xi("numberSymbols.percentSign",h):a.numberMapper.numberSymbols.percentSign,a.minusSymbol=hn()?Xi("numberSymbols.minusSign",h):a.numberMapper.numberSymbols.minusSign;var c=a.numberMapper.numberSymbols;if(t.format&&!Bn.formatRegex.test(t.format))o=Bn.customFormat(t.format,a,l.numericObject),!rn(s.useGrouping)&&s.useGrouping&&(s.useGrouping=o.pData.useGrouping);else{if(tn(s,Bn.getProperNumericSkeleton(t.format||"N")),s.isCurrency="currency"===s.type,s.isPercent="percent"===s.type,hn()||(n=Bn.getSymbolPattern(s.type,a.numberMapper.numberSystem,l.numericObject,s.isAccount)),s.groupOne=this.checkValueRange(s.maximumSignificantDigits,s.minimumSignificantDigits,!0),this.checkValueRange(s.maximumFractionDigits,s.minimumFractionDigits,!1,!0),rn(s.fractionDigits)||(s.minimumFractionDigits=s.maximumFractionDigits=s.fractionDigits),rn(s.useGrouping)&&(s.useGrouping=!0),s.isCurrency&&!hn()&&(n=n.replace(/\u00A4/g,Bn.defaultCurrency)),hn())o.nData=tn({},{},Xi(s.type+"nData",h)),o.pData=tn({},{},Xi(s.type+"pData",h)),"currency"===s.type&&t.currency&&Bn.replaceBlazorCurrency([o.pData,o.nData],a.currencySymbol,t.currency);else{var u=n.split(";");o.nData=Bn.getFormatData(u[1]||"-"+u[0],!0,a.currencySymbol),o.pData=Bn.getFormatData(u[0],!1,a.currencySymbol),s.useGrouping&&(s.groupSeparator=c[_n[2]],s.groupData=this.getGroupingDetails(u[0]))}if(rn(s.minimumFractionDigits)&&(s.minimumFractionDigits=o.nData.minimumFraction),rn(s.maximumFractionDigits)){var p=o.nData.maximumFraction;s.maximumFractionDigits=rn(p)&&s.isPercent?0:p}var d=s.minimumFractionDigits,f=s.maximumFractionDigits;rn(d)||rn(f)||d>f&&(s.maximumFractionDigits=d)}return tn(o.nData,s),tn(o.pData,s),function(e){return isNaN(e)?c[_n[1]]:isFinite(e)?r.intNumberFormatter(e,o,a,t):c[_n[0]]}},e.getGroupingDetails=function(e){var t={},i=e.match(Bn.negativeDataRegex);if(i&&i[4]){var n=i[4],r=n.lastIndexOf(",");if(-1!==r){var s=n.split(".")[0];t.primary=s.length-r-1;var o=n.lastIndexOf(",",r-1);-1!==o&&(t.secondary=r-1-o)}}return t},e.checkValueRange=function(e,t,i,n){var r=n?"f":"s",s=0,o=wn["l"+r],a=wn["m"+r];if(rn(e)||(this.checkRange(e,o,n),s++),rn(t)||(this.checkRange(t,a,n),s++),2===s){if(!(e<t))return!0;an(a+"specified must be less than the"+o)}else i&&1===s&&an("Both"+a+"and"+a+"must be present");return!1},e.checkRange=function(e,t,i){var n=i?[0,20]:[1,21];(e<n[0]||e>n[1])&&an(t+"value must be within the range"+n[0]+"to"+n[1])},e.intNumberFormatter=function(e,t,i,n){var r;if(!rn(t.nData.type)){e<0?(e*=-1,r=t.nData):r=0===e&&t.zeroData||t.pData;var s="";if(r.isPercent&&(e*=100),r.groupOne)s=this.processSignificantDigits(e,r.minimumSignificantDigits,r.maximumSignificantDigits);else if(s=this.processFraction(e,r.minimumFractionDigits,r.maximumFractionDigits,n),r.minimumIntegerDigits&&(s=this.processMinimumIntegers(s,r.minimumIntegerDigits)),i.isCustomFormat&&r.minimumFractionDigits<r.maximumFractionDigits&&/\d+\.\d+/.test(s)){for(var o=s.split("."),a=o[1],l=a.length-1;l>=0&&("0"===a[parseInt(l.toString(),10)]&&l>=r.minimumFractionDigits);l--)a=a.slice(0,l);s=o[0]+"."+a}return"scientific"===r.type&&(s=(s=e.toExponential(r.maximumFractionDigits)).replace("e",i.numberMapper.numberSymbols[_n[4]])),s=s.replace(".",i.numberMapper.numberSymbols[_n[3]]),s="#,###,,;(#,###,,)"===r.format?this.customPivotFormat(parseInt(s,10)):s,r.useGrouping&&(s=this.groupNumbers(s,r.groupData.primary,r.groupSeparator||",",i.numberMapper.numberSymbols[_n[3]]||".",r.groupData.secondary)),s=fn.convertValueParts(s,Bn.latnParseRegex,i.numberMapper.mapper),"N/A"===r.nlead?r.nlead:"0"===s&&n&&"0"===n.format?s+r.nend:r.nlead+s+r.nend}},e.processSignificantDigits=function(e,t,i){var n=e+"";return n.length<t?e.toPrecision(t):+(n=e.toPrecision(i))+""},e.groupNumbers=function(e,t,i,n,r){for(var s=!nn(r)&&0!==r,o=e.split(n),a=o[0],l=a.length,h="";l>t;)h=a.slice(l-t,l)+(h.length?i+h:""),l-=t,s&&(t=r,s=!1);return o[0]=a.slice(0,l)+(h.length?i:"")+h,o.join(n)},e.processFraction=function(e,t,i,n){var r=(e+"").split(".")[1],s=r?r.length:0;if(t&&s<t){var o="";if(0!==s){o+=e;for(var a=0;a<t-s;a++)o+="0";return o}return o=e.toFixed(t),e.toFixed(t)}if(!nn(i)&&(s>i||0===i))return e.toFixed(i);var l=e+"";return"0"===l[0]&&n&&"###.00"===n.format&&(l=l.slice(1)),l},e.processMinimumIntegers=function(e,t){var i=e.split("."),n=i[0],r=n.length;if(r<t){for(var s=0;s<t-r;s++)n="0"+n;i[0]=n}return i.join(".")},e.customPivotFormat=function(e){if(e>=5e5){var t=(e/=1e6).toString().split("."),i=(t[0],t[1]);return i&&+i.substring(0,1)>=5?Math.ceil(e).toString():Math.floor(e).toString()}return""},e}(),Nn="stand-alone",Cn=/^[0-9]*$/,xn={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},Dn=function(){function e(){}return e.dateParser=function(e,t,i){var n=this,r=Bn.getDependables(i,e,t.calendar),s=fn.getCurrentNumericOptions(r.parserObject,fn.getNumberingSystem(i),!1,hn()),o={};hn()&&t.isServerRendered&&(t=Bn.compareBlazorDateFormats(t,e));var a,l=t.format||Bn.getResultantPattern(t.skeleton,r.dateObject,t.type,!1,hn()?e:""),h="";if(rn(l))an("Format options or type given must be invalid");else{l=Bn.ConvertDateToWeekFormat(l),o={isIslamic:Bn.islamicRegex.test(t.calendar),pattern:l,evalposition:{},culture:e};for(var c=l.match(Bn.dateParseRegex)||[],u=c.length,p=0,d=0,f=!1,g=s.numericRegex,m=hn()?r.parserObject.numbers:fn.getNumberMapper(r.parserObject,fn.getNumberingSystem(i)),y=0;y<u;y++){var v=c[parseInt(y.toString(),10)],b=v.length,M="K"===v[0]?"h":v[0],S=void 0,w=void 0,_=Mn[""+M],I=2===b?"":"?";switch(f&&(p=d,f=!1),M){case"E":case"c":var N=void 0;N=hn()?Xi("days."+Bn.monthIndex[""+b],r.dateObject):r.dateObject[""+Bn.days][""+Nn][Bn.monthIndex[""+b]];var C=fn.reverseObject(N);h+="("+Object.keys(C).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(w=!0,("M"===M||"L"===M)&&b>2){var x=void 0;x=hn()?Xi("months."+Bn.monthIndex[""+b],r.dateObject):r.dateObject.months[""+Nn][Bn.monthIndex[""+b]],o[""+_]=fn.reverseObject(x),h+="("+Object.keys(o[""+_]).join("|")+")"}else if("f"===M){if(b>3)continue;S=!0,h+="("+g+g+"?"+g+"?)"}else S=!0,h+="("+g+g+I+")";"h"===M&&(o.hour12=!0);break;case"W":h+="("+g+(1===b?"?":"")+g+")";break;case"y":w=S=!0,h+=2===b?"("+g+g+")":"("+g+"{"+b+",})";break;case"a":w=!0;var D=hn()?Xi("dayPeriods",r.dateObject):Xi("dayPeriods.format.wide",r.dateObject);o[""+_]=fn.reverseObject(D),h+="("+Object.keys(o[""+_]).join("|")+")";break;case"G":w=!0;var T=b<=3?"eraAbbr":4===b?"eraNames":"eraNarrow";o[""+_]=fn.reverseObject(hn()?Xi("eras",r.dateObject):Xi("eras."+T,r.dateObject)),h+="("+Object.keys(o[""+_]).join("|")+"?)";break;case"z":w=0!==(new Date).getTimezoneOffset(),o[""+_]=Xi("dates.timeZoneNames",r.parserObject);var A=o[""+_],j=(a=b<4)?"+H;-H":A.hourFormat;j=j.replace(/:/g,m.timeSeparator),h+="("+this.parseTimeZoneRegx(j,A,g)+")?",f=!0,d=a?6:12;break;case"'":h+="("+v.replace(/'/g,"")+")?";break;default:h+="([\\D])"}if(w&&(o.evalposition[""+_]={isNumber:S,pos:y+1+p,hourOnly:a}),y===u-1&&!nn(h)){var E=RegExp;o.parserRegex=new E("^"+h+"$","i")}}}return function(e){var t=n.internalDateParse(e,o,s);if(nn(t)||!Object.keys(t).length)return null;if(o.isIslamic){var i={},r=t.year,a=t.day,l=t.month,h=r?r+"":"",c=2===h.length;r&&l&&a&&!c||(i=cn.getHijriDate(new Date)),c&&(r=parseInt((i.year+"").slice(0,2)+h,10));var u=cn.toGregorian(r||i.year,l||i.month,a||i.date);t.year=u.getFullYear(),t.month=u.getMonth()+1,t.day=u.getDate()}return n.getDateObject(t)}},e.getDateObject=function(e,t){var i=t||new Date;i.setMilliseconds(0);var n=e.year,r=e.designator,s=e.timeZone;if(!rn(n)){if((n+"").length<=2)n+=100*Math.floor(i.getFullYear()/100);i.setFullYear(n)}for(var o=0,a=["hour","minute","second","milliseconds","month","day"];o<a.length;o++){var l=a[o],h=e[""+l];if(rn(h)&&"day"===l&&i.setDate(1),!rn(h))if("month"===l){if((h-=1)<0||h>11)return new Date("invalid");var c=i.getDate();i.setDate(1),i[xn[""+l]](h);var u=new Date(i.getFullYear(),h+1,0).getDate();i.setDate(c<u?c:u)}else{if("day"===l){var p=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(h<1||h>p)return null}i[""+xn[""+l]](h)}}if(!rn(r)){var d=i.getHours();"pm"===r?i.setHours(d+(12===d?0:12)):12===d&&i.setHours(0)}if(!rn(s)){var f=s-i.getTimezoneOffset();0!==f&&i.setMinutes(i.getMinutes()+f)}return i},e.internalDateParse=function(e,t,i){var n=e.match(t.parserRegex),r={hour:0,minute:0,second:0};if(nn(n))return null;for(var s=0,o=Object.keys(t.evalposition);s<o.length;s++){var a=o[s],l=t.evalposition[""+a],h=n[l.pos];if(l.isNumber)r[""+a]=this.internalNumberParser(h,i);else if("timeZone"!==a||rn(h)){h="month"!==a||t.isIslamic||"en"!==t.culture&&"en-GB"!==t.culture&&"en-US"!==t.culture?h:h[0].toUpperCase()+h.substring(1).toLowerCase(),h="month"!==a&&"designator"===a&&t.culture&&-1!==t.culture.indexOf("en-")&&-1===["en-US","en-MH","en-MP"].indexOf(t.culture)?h.toLowerCase():h,r[""+a]=t[""+a][""+h]}else{var c=l.pos,u=void 0,p=n[c+1],d=!rn(p);l.hourOnly?u=60*this.getZoneValue(d,p,n[c+4],i):(u=60*this.getZoneValue(d,p,n[c+7],i),u+=this.getZoneValue(d,n[c+4],n[c+10],i)),nn(u)||(r[""+a]=u)}}return t.hour12&&(r.hour12=!0),r},e.internalNumberParser=function(e,t){return e=fn.convertValueParts(e,t.numberParseRegex,t.numericPair),Cn.test(e)?+e:null},e.parseTimeZoneRegx=function(e,t,i){var n,r=t.gmtFormat,s="("+i+")("+i+")";n=e.replace("+","\\+");var o=(n=-1!==e.indexOf("HH")?n.replace(/HH|mm/g,"("+s+")"):n.replace(/H|m/g,"("+s+"?)")).split(";").map((function(e){return r.replace("{0}",e)}));return n=o.join("|")+"|"+t.gmtZeroFormat},e.getZoneValue=function(e,t,i,n){var r=e?t:i;if(!r)return 0;var s=this.internalNumberParser(r,n);return e?-s:s},e}(),Tn=new RegExp("^([^0-9]*)(([0-9,]*[0-9]+)(.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$"),An=/,/g,jn=["minusSign","infinity"],En=function(){function e(){}return e.numberParser=function(e,t,i){var n=this,r=Bn.getDependables(i,e,"",!0),s={custom:!0};Bn.formatRegex.test(t.format)||!t.format?(tn(s,Bn.getProperNumericSkeleton(t.format||"N")),s.custom=!1,s.fractionDigits||t.maximumFractionDigits&&(s.maximumFractionDigits=t.maximumFractionDigits)):tn(s,Bn.customFormat(t.format,null,null));var o,a=Xi("numbers",r.parserObject),l=fn.getCurrentNumericOptions(r.parserObject,fn.getNumberingSystem(i),!0,hn());if(s.symbolRegex=fn.getSymbolRegex(Object.keys(l.symbolMatch)),s.infinity=l.symbolNumberSystem[jn[1]],hn())s.nData=tn({},{},Xi(s.type+"nData",a)),s.pData=tn({},{},Xi(s.type+"pData",a)),"currency"===s.type&&t.currency&&Bn.replaceBlazorCurrency([s.pData,s.nData],Xi("currencySymbol",a),t.currency);else if(o=Bn.getSymbolPattern(s.type,l.numberSystem,r.numericObject,s.isAccount)){var h=(o=o.replace(/\u00A4/g,Bn.defaultCurrency)).split(";");s.nData=Bn.getFormatData(h[1]||"-"+h[0],!0,""),s.pData=Bn.getFormatData(h[0],!0,"")}return function(e){return n.getParsedNumber(e,s,l)}},e.getParsedNumber=function(e,t,i){var n,r,s,o,a,l;if(-1!==e.indexOf(t.infinity))return 1/0;e=fn.convertValueParts(e,t.symbolRegex,i.symbolMatch),0===(e=-1!==(e=fn.convertValueParts(e,i.numberParseRegex,i.numericPair)).indexOf("-")?e.replace("-.","-0."):e).indexOf(".")&&(e="0"+e);var h=e.match(Tn);if(nn(h))return NaN;o=h[1],s=h[2];var c=h[5];return a=h[6],r=(n=t.custom?o===t.nData.nlead&&a===t.nData.nend:-1!==o.indexOf(t.nData.nlead)&&-1!==a.indexOf(t.nData.nend))?t.nData.isPercent:t.pData.isPercent,s=s.replace(An,""),c&&(s+=c),l=+s,("percent"===t.type||r)&&(l/=100),(t.custom||t.fractionDigits)&&(l=parseFloat(l.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),t.maximumFractionDigits&&(l=this.convertMaxFracDigits(s,t,l,n)),n&&(l*=-1),l},e.convertMaxFracDigits=function(e,t,i,n){var r=e.split(".");return r[1]&&r[1].length>t.maximumFractionDigits&&(i=+i.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.maximumFractionDigits)),i},e}(),kn=function(){function e(e){this.ranArray=[],this.boundedEvents={},nn(e)||(this.context=e)}return e.prototype.on=function(e,t,i,n){if(!nn(t)){var r=i||this.context;this.notExist(e)?this.boundedEvents[""+e]=[{handler:t,context:r,id:n}]:nn(n)?this.isHandlerPresent(this.boundedEvents[""+e],t)||this.boundedEvents[""+e].push({handler:t,context:r}):-1===this.ranArray.indexOf(n)&&(this.ranArray.push(n),this.boundedEvents[""+e].push({handler:t,context:r,id:n}))}},e.prototype.off=function(e,t,i){if(!this.notExist(e)){var n=Xi(e,this.boundedEvents);if(t){for(var r=0;r<n.length;r++)if(i){if(n[parseInt(r.toString(),10)].id===i){n.splice(r,1);var s=this.ranArray.indexOf(i);-1!==s&&this.ranArray.splice(s,1);break}}else if(t===n[parseInt(r.toString(),10)].handler){n.splice(r,1);break}}else delete this.boundedEvents[""+e]}},e.prototype.notify=function(e,t,i,n){if(this.notExist(e))i&&i.call(this,t);else{t&&(t.name=e);var r=Xi(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(r,t,i,n,0);for(var s=0,o=r;s<o.length;s++){var a=o[s];a.handler.call(a.context,t)}i&&i.call(this,t)}},e.prototype.blazorCallback=function(e,t,i,n,r){var s=this,o=r===e.length-1;if(r<e.length){var a=e[parseInt(r.toString(),10)],l=a.handler.call(a.context,t);if(l&&"function"===typeof l.then){if(!i)return l;l.then((function(l){if(l="string"===typeof l&&s.isJson(l)?JSON.parse(l,s.dateReviver):l,tn(t,t,l,!0),!i||!o)return s.blazorCallback(e,t,i,n,r+1);i.call(a.context,t)})).catch((function(e){n&&n.call(a.context,"string"===typeof e&&s.isJson(e)?JSON.parse(e,s.dateReviver):e)}))}else{if(!i||!o)return this.blazorCallback(e,t,i,n,r+1);i.call(a.context,t)}}},e.prototype.dateReviver=function(e,t){return hn&&"string"===typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t},e.prototype.isJson=function(e){try{JSON.parse(e)}catch(lE){return!1}return!0},e.prototype.destroy=function(){this.boundedEvents=this.context=void 0},e.prototype.offIntlEvents=function(){var e=this.boundedEvents.notifyExternalChange;if(e){for(var t=0;t<e.length;t++){var i=e[parseInt(t.toString(),10)].context;i&&i.detectFunction&&i.randomId&&!i.isRendered&&(this.off("notifyExternalChange",i.detectFunction,i.randomId),t--)}this.boundedEvents.notifyExternalChange.length||delete this.boundedEvents.notifyExternalChange}},e.prototype.notExist=function(e){return!1===Object.prototype.hasOwnProperty.call(this.boundedEvents,e)||this.boundedEvents[""+e].length<=0},e.prototype.isHandlerPresent=function(e,t){for(var i=0,n=e;i<n.length;i++){if(n[i].handler===t)return!0}return!1},e}(),zn=new kn,Ln=!1,On={},Pn="en-US",Rn="USD",Fn=function(){function e(e){e&&(this.culture=e)}return e.prototype.getDateFormat=function(e){return Sn.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},On)},e.prototype.getNumberFormat=function(e){return e&&!e.currency&&(e.currency=Rn),hn()&&e&&!e.format&&(e.minimumFractionDigits=0),In.numberFormatter(this.getCulture(),e||{},On)},e.prototype.getDateParser=function(e){return Dn.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},On)},e.prototype.getNumberParser=function(e){return hn()&&e&&!e.format&&(e.minimumFractionDigits=0),En.numberParser(this.getCulture(),e||{format:"N"},On)},e.prototype.formatNumber=function(e,t){return this.getNumberFormat(t)(e)},e.prototype.formatDate=function(e,t){return this.getDateFormat(t)(e)},e.prototype.parseDate=function(e,t){return this.getDateParser(t)(e)},e.prototype.parseNumber=function(e,t){return this.getNumberParser(t)(e)},e.prototype.getDatePattern=function(e,t){return Bn.getActualDateTimeFormat(this.getCulture(),e,On,t)},e.prototype.getNumberPattern=function(e,t){return Bn.getActualNumberFormat(this.getCulture(),e,On,t)},e.prototype.getFirstDayOfWeek=function(){return Bn.getWeekData(this.getCulture(),On)},e.prototype.getCulture=function(){return this.culture||Pn},e}();var Bn,Vn=RegExp,Un={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};!function(e){e.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*[0# ]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;e.defaultCurrency="$";var i=["infinity","nan","group","decimal"],n=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,r={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};e.dateConverterMapper=/dddd|ddd/gi;e.islamicRegex=/^islamic/;var s={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};e.formatRegex=new Vn("(^[ncpae]{1})([0-1]?[0-9]|20)?$","i"),e.currencyFormatRegex=new Vn("(^[ca]{1})([0-1]?[0-9]|20)?$","i"),e.curWithoutNumberRegex=/(c|a)$/gi;var o={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function a(t,i,n,r,s){var o,a=n||"date";if(s)o=u({skeleton:t},s).format||u({skeleton:"d"},"en-US").format;else{if(-1!==e.basicPatterns.indexOf(t)){if(o=Xi(a+"Formats."+t,i),"dateTime"===a){var l=Xi("dateFormats."+t,i),h=Xi("timeFormats."+t,i);o=o.replace("{1}",l).replace("{0}",h)}}else o=Xi("dateTimeFormats.availableFormats."+t,i);rn(o)&&"yMd"===t&&(o="M/d/y")}return o}function l(t,i,n,r){var s={},o=n||"gregorian";if(s.parserObject=fn.getMainObject(t,i)||(hn()?e.blazorDefaultObject:e.defaultObject),r)s.numericObject=Xi("numbers",s.parserObject);else{var a=hn()?"dates":"dates.calendars."+o;s.dateObject=Xi(a,s.parserObject)}return s}function h(e,t,i,n){return Xi(e+"Formats-numberSystem-"+t+(n?".accounting":".standard"),i)||(n?Xi(e+"Formats-numberSystem-"+t+".standard",i):"")}function c(t){var i=t.match(e.dateConverterMapper);if(i&&hn()){var n=3===i[0].length?"EEE":"EEEE";return t.replace(e.dateConverterMapper,n)}return t}function u(e,t){var i=e.format||e.skeleton,n=Xi((t||"en-US")+"."+i,Un);return n||(n=Xi("en-US."+i,Un)),n&&(n=c(n),e.format=n.replace(/tt/,"a")),e}function p(t){var i=t.match(e.formatRegex),n={},r=i[1].toUpperCase();return n.isAccount="A"===r,n.type=e.patternMatcher[""+r],t.length>1&&(n.fractionDigits=parseInt(i[2],10)),n}function d(i,n,r,s){var o=s?{}:{nlead:"",nend:""},a=i.match(e.customRegex);if(a){s||(o.nlead=f(a[1],r),o.nend=f(a[10],r),o.groupPattern=a[4]);var l=a[7];if(l&&n){var h=l.match(t);nn(h)?o.minimumFraction=0:o.minimumFraction=h.length,o.maximumFraction=l.length-1}}return o}function f(t,i){return t?(t=t.replace(e.defaultCurrency,i),""===i?t.trim():t):""}function g(e,t,i){return Xi("currencies."+t+(i?"."+i:".symbol"),e)||Xi("currencies."+t+".symbol-alt-narrow",e)||"$"}function m(t,n,r){var s={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},o=t.match(e.customRegex);if(nn(o)||""===o[5]&&"N/A"!==t)return s.type=void 0,s;s.nlead=o[1],s.nend=o[10];var a=o[6],l=!!a.match(/ $/g),c=-1!==a.replace(/ $/g,"").indexOf(" ");s.useGrouping=-1!==a.indexOf(",")||c,a=a.replace(/,/g,"");var u=o[7];if(-1!==a.indexOf("0")&&(s.minimumIntegerDigits=a.length-a.indexOf("0")),nn(u)||(s.minimumFractionDigits=u.lastIndexOf("0"),s.maximumFractionDigits=u.lastIndexOf("#"),-1===s.minimumFractionDigits&&(s.minimumFractionDigits=0),(-1===s.maximumFractionDigits||s.maximumFractionDigits<s.minimumFractionDigits)&&(s.maximumFractionDigits=s.minimumFractionDigits)),nn(n)?tn(s,y([s.nlead,s.nend],"%","%")):(n.isCustomFormat=!0,tn(s,y([s.nlead,s.nend],"$",n.currencySymbol)),s.isCurrency||tn(s,y([s.nlead,s.nend],"%",n.percentSymbol))),!nn(r)){var p=h(s.type,n.numberMapper.numberSystem,r,!1);s.useGrouping&&(s.groupSeparator=c?" ":n.numberMapper.numberSymbols[i[2]],s.groupData=In.getGroupingDetails(p.split(";")[0])),s.nlead=s.nlead.replace(/'/g,""),s.nend=l?" "+s.nend.replace(/'/g,""):s.nend.replace(/'/g,"")}return s}function y(e,t,i){for(var n={nlead:e[0],nend:e[1]},r=0;r<2;r++){var s=e[parseInt(r.toString(),10)],a=s.indexOf(t);if(-1!==a&&(a<s.indexOf("'")||a>s.lastIndexOf("'"))){n[""+o[parseInt(r.toString(),10)]]=s.substr(0,a)+i+s.substr(a+1),n[""+o[""+t]]=!0,n.type=n.isCurrency?"currency":"percent";break}}return n}function v(e,t){if(-1!==e.indexOf(",")){var i=e.split(",");e=i[0]+Xi("numberMapper.numberSymbols.group",t)+i[1].replace(".",Xi("numberMapper.numberSymbols.decimal",t))}else e=e.replace(".",Xi("numberMapper.numberSymbols.decimal",t));return e}function b(e,t,i){e+=".";for(var n=0;n<t;n++)e+="0";if(t<i)for(var r=i-t,s=0;s<r;s++)e+="#";return e}function M(e,t){for(var i=e.split("."),n="",r=0;r<t;r++)n+="0";return i[1]?n+"."+i[1]:n}function S(e){var t=e.split("."),i=t[0],n=3-i.length%3;e="";for(var r=(i=(n&&1===n?"#":2===n?"##":"")+i).length-1;r>0;r-=3)e=","+i[r-2]+i[r-1]+i[parseInt(r.toString(),10)]+e;return e=e.slice(1),t[1]?e+"."+t[1]:e}e.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,e.basicPatterns=["short","medium","long","full"],e.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},e.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},e.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},e.month="months",e.days="days",e.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},e.getResultantPattern=a,e.getDependables=l,e.getSymbolPattern=h,e.ConvertDateToWeekFormat=c,e.compareBlazorDateFormats=u,e.getProperNumericSkeleton=p,e.getFormatData=d,e.changeCurrencySymbol=f,e.getCurrencySymbol=g,e.customFormat=function(e,t,i){for(var n={},r=e.split(";"),s=["pData","nData","zeroData"],o=0;o<r.length;o++)n[""+s[parseInt(o.toString(),10)]]=m(r[parseInt(o.toString(),10)],t,i);return nn(n.nData)&&(n.nData=tn({},n.pData),n.nData.nlead=nn(t)?"-"+n.nData.nlead:t.minusSymbol+n.nData.nlead),n},e.customNumberFormat=m,e.isCurrencyPercent=y,e.getDateSeparator=function(e){var t=(Xi("dateFormats.short",e)||"").match(/[dM]([^dM])[dM]/i);return t?t[1]:"/"},e.getActualDateTimeFormat=function(e,t,i,s){var o=l(i,e,t.calendar);hn()&&(t=u(t,e));var h=t.format||a(t.skeleton,o.dateObject,t.type);if(s){if(h=h.replace(n,(function(e){return r[""+e]})),-1!==h.indexOf("z")){var c=h.match(/z/g).length,p=void 0,d={timeZone:{}};d.numMapper=fn.getNumberMapper(o.parserObject,fn.getNumberingSystem(i)),d.timeZone=Xi("dates.timeZoneNames",o.parserObject);var f=(new Date).getTimezoneOffset(),g=c<4?"+H;-H":d.timeZone.hourFormat;g=g.replace(/:/g,d.numMapper.timeSeparator),0===f?p=d.timeZone.gmtZeroFormat:(p=Sn.getTimeZoneValue(f,g),p=d.timeZone.gmtFormat.replace(/\{0\}/,p)),h=h.replace(/[z]+/,'"'+p+'"')}h=h.replace(/ $/,"")}return h},e.processSymbol=v,e.getActualNumberFormat=function(t,i,n,r){var s,o,a=l(n,t,"",!0),c={custom:!0},u=a.numericObject,f={},m=(i.format||"").match(e.currencyFormatRegex),y=e.formatRegex.test(i.format)?p(i.format||"N"):{},w={};if(m){w.numberMapper=hn()?tn({},a.numericObject):fn.getNumberMapper(a.parserObject,fn.getNumberingSystem(n),!0);var _=hn()?Xi("currencySymbol",a.numericObject):g(a.numericObject,i.currency||Rn,i.altSymbol),I=h("currency",w.numberMapper.numberSystem,a.numericObject,/a/i.test(i.format)),N=(I=I.replace(/\u00A4/g,_)).split(";");f.hasNegativePattern=!!hn()||N.length>1,f.nData=hn()?Xi(y.type+"nData",u):d(N[1]||"-"+N[0],!0,_),f.pData=hn()?Xi(y.type+"pData",u):d(N[0],!1,_),m[2]||i.minimumFractionDigits||i.maximumFractionDigits||(s=d(I.split(";")[0],!0,"",!0).minimumFraction)}if(e.formatRegex.test(i.format)||!i.format){if(tn(c,p(i.format||"N")),c.custom=!1,o="###0",c.fractionDigits||i.minimumFractionDigits||i.maximumFractionDigits||s){c.fractionDigits&&(i.minimumFractionDigits=i.maximumFractionDigits=c.fractionDigits),o=b(o,s||c.fractionDigits||i.minimumFractionDigits||0,i.maximumFractionDigits||0)}if(i.minimumIntegerDigits&&(o=M(o,i.minimumIntegerDigits)),i.useGrouping&&(o=S(o)),"currency"===c.type||c.type&&hn()){hn()&&"currency"!==c.type&&(f.pData=Xi(c.type+"pData",u),f.nData=Xi(c.type+"nData",u));var C=o;o=f.pData.nlead+C+f.pData.nend,(f.hasNegativePattern||hn())&&(o+=";"+f.nData.nlead+C+f.nData.nend)}"percent"!==c.type||hn()||(o+=" %")}else o=i.format.replace(/'/g,'"');return Object.keys(w).length>0&&(o=r?o:v(o,w)),o},e.fractionDigitsPattern=b,e.minimumIntegerPattern=M,e.groupingPattern=S,e.getWeekData=function(e,t){var i="sun",n=Xi("supplemental.weekData.firstDay",t),r=e;return/en-/.test(r)&&(r=r.slice(3)),r=r.slice(0,2).toUpperCase()+r.substr(2),n&&(i=n[""+r]||n[r.slice(0,2)]||"sun"),s[""+i]},e.replaceBlazorCurrency=function(e,t,i){var n=Xi(i||"",gn);if(t!==n)for(var r=0,s=e;r<s.length;r++){var o=s[r];o.nend=o.nend.replace(t,n),o.nlead=o.nlead.replace(t,n)}},e.getWeekOfYear=function(e){var t,i=new Date(e.getFullYear(),0,1),n=i.getDay();n=n>=0?n:n+7;var r=Math.floor((e.getTime()-i.getTime()-6e4*(e.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)+1;if(n<4){if((t=Math.floor((r+n-1)/7)+1)>52){var s=new Date(e.getFullYear()+1,0,1).getDay();t=(s=s>=0?s:s+7)<4?1:53}}else t=Math.floor((r+n-1)/7);return t}}(Bn||(Bn={}));var Hn=/^(.*?):[ \t]*([^\r\n]*)$/gm,Wn=(function(){function e(e,t,i,n){this.mode=!0,this.emitError=!0,this.options={},"string"===typeof e?(this.url=e,this.type=t?t.toUpperCase():"GET",this.mode=!!nn(i)||i):"object"===typeof e&&(this.options=e,en(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:n}e.prototype.send=function(e){var t=this;this.data=nn(e)?this.data:e;var i={cancel:!1,httpRequest:null};return new Promise((function(e,n){t.httpRequest=new XMLHttpRequest,t.httpRequest.onreadystatechange=function(){t.stateChange(e,n)},nn(t.onLoad)||(t.httpRequest.onload=t.onLoad),nn(t.onProgress)||(t.httpRequest.onprogress=t.onProgress),nn(t.onAbort)||(t.httpRequest.onabort=t.onAbort),nn(t.onError)||(t.httpRequest.onerror=t.onError),nn(t.onUploadProgress)||(t.httpRequest.upload.onprogress=t.onUploadProgress),t.httpRequest.open(t.type,t.url,t.mode),nn(t.data)||null===t.contentType||t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8"),t.beforeSend&&(i.httpRequest=t.httpRequest,t.beforeSend(i)),i.cancel||t.httpRequest.send(nn(t.data)?null:t.data)}))},e.prototype.successHandler=function(e){return this.onSuccess&&this.onSuccess(e,this),e},e.prototype.failureHandler=function(e){return this.onFailure&&this.onFailure(this.httpRequest),e},e.prototype.stateChange=function(e,t){var i=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===i)i=void 0;else try{i=JSON.parse(i)}catch(n){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(i)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())},e.prototype.getResponseHeader=function(e){for(var t={},i=Hn.exec(this.httpRequest.getAllResponseHeaders());i;)t[i[1].toLowerCase()]=i[2],i=Hn.exec(this.httpRequest.getAllResponseHeaders());var n=t[e.toLowerCase()];return nn(n)?null:n}}(),function(){function e(e,t,i){this.type="GET",this.emitError=!0,"string"===typeof e?(this.url=e,this.type=nn(t)?this.type:t.toUpperCase(),this.contentType=i):$i(e)&&Object.keys(e).length>0&&en(this,e),this.contentType=nn(this.contentType)?"application/json; charset=utf-8":this.contentType}e.prototype.send=function(e){var t=this,i={"application/json":"json","multipart/form-data":"formData","application/octet-stream":"blob","application/x-www-form-urlencoded":"formData"};try{nn(this.fetchRequest)&&"GET"===this.type?this.fetchRequest=new Request(this.url,{method:this.type}):nn(this.fetchRequest)&&(this.data=nn(e)?this.data:e,this.fetchRequest=new Request(this.url,{method:this.type,headers:{"Content-Type":this.contentType},body:this.data}));var n={cancel:!1,fetchRequest:this.fetchRequest};return this.triggerEvent(this.beforeSend,n),n.cancel?null:(this.fetchResponse=fetch(this.fetchRequest),this.fetchResponse.then((function(e){if(t.triggerEvent(t.onLoad,e),!e.ok)throw e;for(var n="text",r=0,s=Object.keys(i);r<s.length;r++){var o=s[r];e.headers.get("Content-Type")&&-1!==e.headers.get("Content-Type").indexOf(o)&&(n=i[o])}return e[n]()})).then((function(e){return t.triggerEvent(t.onSuccess,e,t),e})).catch((function(e){var i={};return t.emitError&&(t.triggerEvent(t.onFailure,e),i=Promise.reject(e)),i})))}catch(r){return r}},e.prototype.triggerEvent=function(e,t,i){nn(e)||"function"!==typeof e||e(t,i)}}(),/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i),Yn=/msie|trident/i,Qn=/Trident\/7\./,qn=/(ipad|iphone|ipod touch)/i,Gn=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,Kn=/android/i,Xn=/trident|windows phone|edge/i,Jn=/(version)[ /]([\w.]+)/i,Zn={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!==typeof window&&(window.browserDetails=window.browserDetails||{});var $n=function(){function e(){}return e.extractBrowserDetail=function(){for(var t={culture:{}},i=[],n=0,r=Object.keys(Zn);n<r.length;n++){var s=r[n];if(i=e.userAgent.match(Zn[""+s])){if(t.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),t.name="crios"===i[1].toLowerCase()?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,e.userAgent.match(Qn)){t.name="msie";break}var o=e.userAgent.match(Jn);"safari"===t.name&&o&&(t.version=o[2]);break}}return t},e.getEvent=function(t){var i={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return e.isPointer?i[""+t].isPointer:e.isTouch?i[""+t].isTouch+(e.isDevice?"":" "+i[""+t].isDevice):i[""+t].isDevice},e.getTouchStartEvent=function(){return e.getEvent("start")},e.getTouchEndEvent=function(){return e.getEvent("end")},e.getTouchMoveEvent=function(){return e.getEvent("move")},e.getTouchCancelEvent=function(){return e.getEvent("cancel")},e.isSafari=function(){return e.isDevice&&e.isIos&&e.isTouch&&"undefined"!==typeof window&&-1===window.navigator.userAgent.toLowerCase().indexOf("iphone")&&window.navigator.userAgent.toLowerCase().indexOf("safari")>-1},e.getValue=function(t,i){var n="undefined"!==typeof window?window.browserDetails:{};return"undefined"!==typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!0===e.isTouch&&!Zn.CHROME.test(navigator.userAgent)&&(n.isIos=!0,n.isDevice=!0,n.isTouch=!0,n.isPointer=!0),"undefined"===typeof n[""+t]?n[""+t]=i.test(e.userAgent):n[""+t]},Object.defineProperty(e,"userAgent",{get:function(){return e.uA},set:function(t){e.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"info",{get:function(){return rn(window.browserDetails.info)?window.browserDetails.info=e.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIE",{get:function(){return e.getValue("isIE",Yn)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isTouch",{get:function(){return rn(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isPointer",{get:function(){return rn(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isMSPointer",{get:function(){return rn(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isDevice",{get:function(){return e.getValue("isDevice",Wn)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos",{get:function(){return e.getValue("isIos",qn)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos7",{get:function(){return e.getValue("isIos7",Gn)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){return e.getValue("isAndroid",Kn)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWebView",{get:function(){return rn(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(rn(window.cordova)&&rn(window.PhoneGap)&&rn(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWindows",{get:function(){return e.getValue("isWindows",Xn)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchStartEvent",{get:function(){return rn(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=e.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchMoveEvent",{get:function(){return rn(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=e.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchEndEvent",{get:function(){return rn(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=e.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchCancelEvent",{get:function(){return rn(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=e.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),e.uA="undefined"!==typeof navigator?navigator.userAgent:"",e}(),er=function(){function e(){}return e.addOrGetEventData=function(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])},e.add=function(t,i,n,r,s){var o,a=e.addOrGetEventData(t);o=s?function(e,t){var i;return function(){for(var n=this,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];clearTimeout(i),i=setTimeout((function(){return i=null,e.apply(n,r)}),t)}}(n,s):n,r&&(o=o.bind(r));for(var l=i.split(" "),h=0;h<l.length;h++)a.push({name:l[parseInt(h.toString(),10)],listener:n,debounce:o}),$n.isIE?t.addEventListener(l[parseInt(h.toString(),10)],o):t.addEventListener(l[parseInt(h.toString(),10)],o,{passive:!1});return o},e.remove=function(t,i,n){for(var r=e.addOrGetEventData(t),s=i.split(" "),o=function(e){var i,o=-1;r&&0!==r.length&&r.some((function(t,r){return t.name===s[parseInt(e.toString(),10)]&&t.listener===n&&(o=r,i=t.debounce,!0)})),-1!==o&&r.splice(o,1),i&&t.removeEventListener(s[parseInt(e.toString(),10)],i)},a=0;a<s.length;a++)o(a)},e.clearEvents=function(t){for(var i=e.addOrGetEventData(t),n=tn([],void 0,i),r=0;r<n.length;r++){var s=n[parseInt(r.toString(),10)];t.removeEventListener(s.name,s.debounce),i.shift()}},e.trigger=function(t,i,n){for(var r=0,s=e.addOrGetEventData(t);r<s.length;r++){var o=s[r];o.name===i&&o.debounce.call(this,n)}},e}(),tr=/^svg|^path|^g/;function ir(e,t){var i=tr.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return"undefined"===typeof t||(i.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(i.className=t.className),void 0!==t.id&&(i.id=t.id),void 0!==t.styles&&i.setAttribute("style",t.styles),void 0!==t.attrs&&lr(i,t.attrs)),i}function nr(e,t){for(var i=sr(t),n=RegExp,r=0,s=e;r<s.length;r++)for(var o=s[r],a=0,l=i;a<l.length;a++){var h=l[a];if($i(o)){var c=Xi("attributes.className",o);nn(c)?Ji("attributes.className",h,o):new n("\\b"+h+"\\b","i").test(c)||Ji("attributes.className",c+" "+h,o)}else o.classList.contains(h)||o.classList.add(h)}return e}function rr(e,t){for(var i=sr(t),n=0,r=e;n<r.length;n++){var s=r[n],o=$i(s);if(o?Xi("attributes.className",s):""!==s.className)for(var a=0,l=i;a<l.length;a++){var h=l[a];if(o){var c=Xi("attributes.className",s).split(" "),u=c.indexOf(h);-1!==u&&c.splice(u,1),Ji("attributes.className",c.join(" "),s)}else s.classList.remove(h)}}return e}function sr(e){var t=[];return"string"===typeof e?t.push(e):t=e,t}function or(e){var t=e;return""===t.style.visibility&&t.offsetWidth>0}function ar(e){var t=e.parentNode;if(t)return t.removeChild(e)}function lr(e,t){for(var i=e,n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];if($i(i)){var o=s;"tabindex"===s&&(o="tabIndex"),i.attributes[""+o]=t[""+s]}else i.setAttribute(s,t[""+s])}return i}function hr(e,t,i){return void 0===t&&(t=document),e=cr(e),t.querySelector(e)}function cr(e){var t=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(e.match(/#[0-9]/g)||e.match(t)){for(var i=e.split(","),n=0;n<i.length;n++){for(var r=i[parseInt(n.toString(),10)].split(" "),s=0;s<r.length;s++)if(r[parseInt(s.toString(),10)].indexOf("#")>-1&&!r[parseInt(s.toString(),10)].match(/\[.*\]/)){var o=r[parseInt(s.toString(),10)].split("#");if(o[1].match(/^\d/)||o[1].match(t)){var a=r[parseInt(s.toString(),10)].split(".");a[0]=a[0].replace(/#/,"[id='")+"']",r[parseInt(s.toString(),10)]=a.join(".")}}i[parseInt(n.toString(),10)]=r.join(" ")}return i.join(",")}return e}function ur(e,t){var i=e;if("function"===typeof i.closest)return i.closest(t);for(;i&&1===i.nodeType;){if(dr(i,t))return i;i=i.parentNode}return null}function pr(e,t){void 0!==t&&Object.keys(t).forEach((function(i){e.style[""+i]=t[""+i]}))}function dr(e,t){var i=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return i?i.call(e,t):-1!==[].indexOf.call(document.querySelectorAll(t),e)}var fr,gr=new RegExp("]"),mr=function(){function e(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new kn(this),rn(t)||(this.element="string"===typeof t?document.querySelector(t):t,nn(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),rn(e)||this.setProperties(e,!0),this.isDestroyed=!1}return e.prototype.setProperties=function(e,t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!!t,en(this,e),!0!==t?(en(this.changedProperties,e),this.dataBind()):hn()&&this.isRendered&&this.serverDataBind(e),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i},e.callChildDataBind=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];if(t[""+r]instanceof Array)for(var s=0,o=t[""+r];s<o.length;s++){var a=o[s];void 0!==a.dataBind&&a.dataBind()}else t[""+r].dataBind()}},e.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},e.prototype.dataBind=function(){if(e.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,i=this.changedProperties,n=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(i,n),this.isProtectedOnChange=t}},e.prototype.serverDataBind=function(e){if(hn()){e=e||{},tn(this.bulkChanges,{},e,!0);var t="sfBlazor";this.allowServerDataBinding&&window[""+t].updateModel&&(window[""+t].updateModel(this),this.bulkChanges={})}},e.prototype.saveChanges=function(e,t,i){if(hn()){var n={};n[""+e]=t,this.serverDataBind(n)}this.isProtectedOnChange||(this.oldProperties[""+e]=i,this.changedProperties[""+e]=t,this.finalUpdate(),this.finalUpdate=Ki(this.dataBind.bind(this)))},e.prototype.addEventListener=function(e,t){this.modelObserver.on(e,t)},e.prototype.removeEventListener=function(e,t){this.modelObserver.off(e,t)},e.prototype.trigger=function(e,t,i,n){var r=this;if(!0!==this.isDestroyed){var s=this.isProtectedOnChange;this.isProtectedOnChange=!1;var o=this.modelObserver.notify(e,t,i,n);if(gr.test(e)){var a=Xi(e,this);if(a){if(window.Blazor){var l=a.call(this,t);l&&"function"===typeof l.then?i?l.then((function(e){i&&(e="string"===typeof e&&r.modelObserver.isJson(e)?JSON.parse(e):e,i.call(r,e))})).catch((function(e){n&&(e="string"===typeof e&&r.modelObserver.isJson(e)?JSON.parse(e):e,n.call(r,e))})):o=l:i&&i.call(this,t)}else a.call(this,t),i&&i.call(this,t)}else i&&i.call(this,t)}return this.isProtectedOnChange=s,o}},e.prototype.addInstance=function(){var e="e-"+this.getModuleName().toLowerCase();nr([this.element],["e-lib",e]),nn(this.element.ej2_instances)?Ji("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},e.prototype.destroy=function(){var e=this;this.element.ej2_instances=this.element.ej2_instances?this.element.ej2_instances.filter((function(t){return fr?fr(t)!==fr(e):t!==e})):[],rr([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&rr([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},e}();function yr(e,t,i,n){return Object.prototype.hasOwnProperty.call(e.properties,t)&&e.properties[""+t]instanceof n||(e.properties[""+t]=Gi(n,[e,t,i])),e.properties[""+t]}function vr(e,t){return function(){return Object.prototype.hasOwnProperty.call(this.properties,t)||(this.properties[""+t]=e),this.properties[""+t]}}function br(e,t){return function(i){if(this.properties[""+t]!==i){var n=Object.prototype.hasOwnProperty.call(this.properties,t)?this.properties[""+t]:e;this.saveChanges(t,i,n),this.properties[""+t]=i}}}function Mr(e,t,i){return function(){return yr(this,t,e,i)}}function Sr(e,t,i){return function(n){yr(this,t,e,i).setProperties(n)}}function wr(e){return function(t,i){var n={set:br(e,i),get:vr(e,i),enumerable:!0,configurable:!0};Object.defineProperty(t,i,n),Cr(t,i,"prop",e)}}function _r(e,t){return function(i,n){var r={set:Sr(e,n,t),get:Mr(e,n,t),enumerable:!0,configurable:!0};Object.defineProperty(i,n,r),Cr(i,n,"complexProp",e,t)}}function Ir(){return function(e,t){var i={set:function(e){var i=this.properties[""+t];if(i!==e){var n=xr(this,t);!1===rn(i)&&n.context.removeEventListener(n.prefix,i),n.context.addEventListener(n.prefix,e),this.properties[""+t]=e}},get:vr(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i),Cr(e,t,"event")}}function Nr(e){}function Cr(e,t,i,n,r){rn(e.propList)&&(e.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),e.propList[i+"s"].push({propertyName:t,defaultValue:n,type:r}),e.propList[i+"Names"].push(t)}function xr(e,t){if(!1===Object.prototype.hasOwnProperty.call(e,"parentObj"))return{context:e,prefix:t};var i=Xi("propName",e);return i&&(t=i+"-"+t),xr(Xi("parentObj",e),t)}var Dr=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Tr=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};!function(e){function t(t){var i=e.call(this,t,void 0)||this;return i.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},i}var i;Dr(t,e),i=t,t.prototype.animate=function(e,t){t=t||{};var n=this.getModel(t);if("string"===typeof e)for(var r=Array.prototype.slice.call(function(e,t,i){return void 0===t&&(t=document),e=cr(e),t.querySelectorAll(e)}(e,document)),s=0,o=r;s<o.length;s++){var a=o[s];n.element=a,i.delayAnimation(n)}else n.element=e,i.delayAnimation(n)},t.stop=function(e,t){e.style.animation="",e.removeAttribute("e-animate");var i=e.getAttribute("e-animation-id");if(i){var n=parseInt(i,10);cancelAnimationFrame(n),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)},t.delayAnimation=function(e){"Disable"===Ar||Ar===jr.Disable?(e.begin&&e.begin.call(this,e),e.end&&e.end.call(this,e)):e.delay?setTimeout((function(){i.applyAnimation(e)}),e.delay):i.applyAnimation(e)},t.applyAnimation=function(e){var t=this;e.timeStamp=0;var i=0,n=0,r=0,s=e.duration;e.element.setAttribute("e-animate","true");var o=function(a){try{if(a){r=0===r?a:r,e.timeStamp=a+e.timeStamp-r,r=a,!i&&e.begin&&e.begin.call(t,e),i+=1;var l=e.timeStamp/i;e.timeStamp<s&&e.timeStamp+l<s&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(t,e),requestAnimationFrame(o)):(cancelAnimationFrame(n),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(t,e))}else n=requestAnimationFrame(o),e.element.setAttribute("e-animation-id",n.toString())}catch(lE){cancelAnimationFrame(n),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(t,lE)}};o()},t.prototype.getModel=function(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},Tr([wr("FadeIn")],t.prototype,"name",void 0),Tr([wr(400)],t.prototype,"duration",void 0),Tr([wr("ease")],t.prototype,"timingFunction",void 0),Tr([wr(0)],t.prototype,"delay",void 0),Tr([Ir()],t.prototype,"progress",void 0),Tr([Ir()],t.prototype,"begin",void 0),Tr([Ir()],t.prototype,"end",void 0),Tr([Ir()],t.prototype,"fail",void 0),t=i=Tr([Nr],t)}(mr);var Ar,jr;!function(e){e.Default="Default",e.Enable="Enable",e.Disable="Disable"}(jr||(jr={}));var Er,kr=function(){function e(e){this.loadedModules=[],this.parent=e}return e.prototype.inject=function(e,t){var i=e.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(e);for(var n=0;n<i;n++)for(var r=e[parseInt(n.toString(),10)],s=0,o=t;s<o.length;s++){var a=o[s],l=r.member;if(a&&a.prototype.getModuleName()===r.member&&!this.isModuleLoaded(l)){var h=Gi(a,r.args),c=this.getMemberName(l);r.isProperty?Ji(c,a,this.parent):Ji(c,h,this.parent);var u=r;u.member=c,this.loadedModules.push(u)}}}else this.clean()},e.prototype.clean=function(){for(var e=0,t=this.loadedModules;e<t.length;e++){var i=t[e];i.isProperty||Xi(i.member,this.parent).destroy()}this.loadedModules=[]},e.prototype.getNonInjectedModules=function(e){var t=this;return e.filter((function(e){return!t.isModuleLoaded(e.member)}))},e.prototype.clearUnusedModule=function(e){for(var t,i,n=this,r=e.map((function(e){return n.getMemberName(e.member)})),s=0,o=this.loadedModules.filter((function(e){return-1===r.indexOf(e.member)}));s<o.length;s++){var a=o[s];a.isProperty||Xi(a.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(a),1),t=this.parent,i=a.member,delete t[""+i]}},e.prototype.getMemberName=function(e){return e[0].toLowerCase()+e.substring(1)+"Module"},e.prototype.isModuleLoaded=function(e){for(var t=0,i=this.loadedModules;t<i.length;t++){if(i[t].member===this.getMemberName(e))return!0}return!1},e}(),zr=function(){function e(e,t,i,n){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=Xi("callChildDataBind",mr),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=n,this.setProperties(i,!0)}return e.prototype.updateChange=function(e,t){!0===e?this.parentObj.childChangedProperties[""+t]=e:delete this.parentObj.childChangedProperties[""+t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)},e.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=function(){clearTimeout(e)}}},e.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},e.prototype.setProperties=function(e,t){!0===t?(en(this,e),this.updateChange(!1,this.propName),this.clearChanges()):en(this,e)},e.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(Ji(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),Ji(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},e.prototype.saveChanges=function(e,t,i,n){this.controlParent.isProtectedOnChange||(n||this.serverDataBind(e,t,!0),this.oldProperties[""+e]=i,this.changedProperties[""+e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},e.prototype.serverDataBind=function(e,t,i,n){if(hn()&&!this.parentObj.isComplexArraySetter){var r,s={},o=i?this.getParentKey(!0)+"."+e:e;if(-1!==o.indexOf(".")){var a=o.split(".");r=s;for(var l=0;l<a.length;l++){var h=l===a.length-1;r[a[parseInt(l.toString(),10)]]=h?t:{},r=h?r:r[a[parseInt(l.toString(),10)]]}}else s[""+o]={},r=s[""+o],s[""+o][""+e]=t;if(this.isParentArray){r.ejsAction=n||"none"}this.controlParent.serverDataBind(s)}},e.prototype.getParentKey=function(e){var t="",i=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);var n=this.parentObj[this.propName].length;n=e?n:n>0?n-1:0,i+=t=-1!==t?"-"+t:"-"+n}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+t),i},e}(),Lr=["grid","pivotview","treegrid","spreadsheet","rangeNavigator","DocumentEditor","listbox","inplaceeditor","PdfViewer","richtexteditor","DashboardLayout","chart","stockChart","circulargauge","diagram","heatmap","lineargauge","maps","slider","smithchart","barcode","sparkline","treemap","bulletChart","kanban","daterangepicker","schedule","gantt","signature","query-builder","drop-down-tree","carousel","filemanager","uploader","accordion","tab","treeview"],Or=[115,121,110,99,102,117,115,105,111,110,46,105,115,76,105,99,86,97,108,105,100,97,116,101,100],Pr=function(){function e(e){this.isValidated=!1,this.isLicensed=!0,this.version="26",this.platform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats|essentialstudio/i,this.errors={noLicense:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",trailExpired:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",versionMismatched:"<span>The included Syncfusion license key is invalid.</span>",platformMismatched:"<span>The included Syncfusion license key is invalid.</span>",invalidKey:"<span>The included Syncfusion license key is invalid.</span>"},this.manager=function(){var e=null;return{setKey:function(t){e=t},getKey:function(){return e}}}(),this.npxManager={getKey:function(){return"npxKeyReplace"}},this.manager.setKey(e)}return e.prototype.validate=function(){if(!this.isValidated&&Zi&&!Xi(Fr(Or),Zi)&&!Xi("Blazor",Zi)){var e=void 0,t=void 0;if(this.manager&&this.manager.getKey()||this.npxManager&&"npxKeyReplace"!==this.npxManager.getKey()){var i=this.getInfoFromKey();if(i&&i.length)for(var n=0,r=i;n<r.length;n++){var s=r[n];if(!this.platform.test(s.platform)||s.invalidPlatform)e=this.errors.platformMismatched;else if(-1===s.version.indexOf(this.version))e=(e=(e=this.errors.versionMismatched).replace("##LicenseVersion",s.version)).replace("##Requireversion",this.version+".x");else if(s.expiryDate){var o=new Date(s.expiryDate),a=new Date;if(!(o!==a&&o<a))break;e=this.errors.trailExpired}}else e=this.errors.invalidKey}else{var l=Xi(Fr([115,121,110,99,102,117,115,105,111,110,46,108,105,99,101,110,115,101,67,111,110,116,101,110,116]),Zi);t=Xi(Fr([115,121,110,99,102,117,115,105,111,110,46,99,108,97,105,109,65,99,99,111,117,110,116,85,82,76]),Zi),e=l&&""!==l?l:this.errors.noLicense}if(e&&"undefined"!==typeof document&&!nn(document)){var h=ir("div",{innerHTML:"<img src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE5OV80KSI+CjxwYXRoIGQ9Ik0xMiAyMUMxNi45NzA2IDIxIDIxIDE2Ljk3MDYgMjEgMTJDMjEgNy4wMjk0NCAxNi45NzA2IDMgMTIgM0M3LjAyOTQ0IDMgMyA3LjAyOTQ0IDMgMTJDMyAxNi45NzA2IDcuMDI5NDQgMjEgMTIgMjFaIiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBmaWxsPSIjNjE2MDYzIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS44MTI1IDlDMTIuNDMzOCA5IDEyLjkzNzUgOC40OTYzMiAxMi45Mzc1IDcuODc1QzEyLjkzNzUgNy4yNTM2OCAxMi40MzM4IDYuNzUgMTEuODEyNSA2Ljc1QzExLjE5MTIgNi43NSAxMC42ODc1IDcuMjUzNjggMTAuNjg3NSA3Ljg3NUMxMC42ODc1IDguNDk2MzIgMTEuMTkxMiA5IDExLjgxMjUgOVoiIGZpbGw9IiM3MzczNzMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xOTlfNCI+CjxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K' style=\"top: 6px;\n                    position: absolute;\n                    left: 16px;\n                    width: 24px;\n                    height: 24px;\"/>"+e+' <a style="text-decoration: none;color: #0D6EFD;font-weight: 500;" href='+(Er=t&&""!==t?t:"https://www.syncfusion.com/account/claim-license-key?pl=SmF2YVNjcmlwdA==&vs=MjY=&utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information")+">Claim your free account</a>"});h.setAttribute("style","position: fixed;\n                top: 10px;\n                left: 10px;\n                right: 10px;\n                font-size: 14px;\n                background: #EEF2FF;\n                color: #222222;\n                z-index: 999999999;\n                text-align: left;\n                border: 1px solid #EEEEEE;\n                padding: 10px 11px 10px 50px;\n                border-radius: 8px;\n                font-family: Helvetica Neue, Helvetica, Arial;"),document.body.appendChild(h),this.isLicensed=!1}this.isValidated=!0,Ji(Fr(Or),this.isValidated,Zi)}return this.isLicensed},e.prototype.getDecryptedData=function(e){try{return atob(e)}catch(t){return""}},e.prototype.getInfoFromKey=function(){try{var e="",t=[5439488,7929856,5111808,6488064,4587520,7667712,5439488,6881280,5177344,7208960,4194304,4456448,6619136,7733248,5242880,7077888,6356992,7602176,4587520,7274496,7471104,7143424],i=[],n=[],r=!1,s=!1;this.manager.getKey()?e=this.manager.getKey():(s=!0,e=this.npxManager.getKey().split("npxKeyReplace")[1]);for(var o=e.split(";"),a=0,l=o;a<l.length;a++){var h=l[a],c=this.getDecryptedData(h);if(c){var u=0,p="";if(s){var d=c[c.length-1],f=[];for(g=0;g<c.length;g++)f[parseInt(g.toString(),10)]=c[parseInt(g.toString(),10)].charCodeAt(0)-d.charCodeAt(0);for(g=0;g<f.length;g++)p+=String.fromCharCode(f[parseInt(g.toString(),10)])}else for(var g=0;g<c.length;g++,u++){u===t.length&&(u=0);var m=c.charCodeAt(g);p+=String.fromCharCode(m^t[parseInt(u.toString(),10)]>>16)}this.platform.test(p)?(i=p.split(";"),r=!1,i.length>3&&n.push({platform:i[0],version:i[1],expiryDate:i[2]})):p&&p.split(";").length>3&&(r=!0)}}return r&&!n.length?[{invalidPlatform:r}]:n.length?n:null}catch(y){return null}},e}(),Rr=new Pr;function Fr(e){for(var t="",i=0,n=e;i<n.length;i++){var r=n[i];t+=String.fromCharCode(r)}return t}var Br,Vr=function(e){return e&&function(e){Rr=new Pr(e)}(e),Rr.validate()},Ur=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Hr=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},Wr=0,Yr=0,Qr=0,qr=!0,Gr=!1,Kr=!1;var Xr=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.randomId=function(){if("undefined"!==typeof window){var e=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(e)}}(),n.isStringTemplate=!1,n.needsID=!1,n.isReactHybrid=!1,n.isAngular=!1,n.isReact=!1,n.isVue=!1,nn(n.enableRtl)&&n.setProperties({enableRtl:Ln},!0),nn(n.locale)&&n.setProperties({locale:Pn},!0),n.moduleLoader=new kr(n),n.localObserver=new kn(n),zn.on("notifyExternalChange",n.detectFunction,n,n.randomId),"undefined"===typeof window||"undefined"===typeof document||Vr()||-1!==Lr.indexOf(n.getModuleName())&&(Qr+=1)>5&&(qr=!1),rn(i)||n.appendTo(),n}return Ur(t,e),t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&(this.setPersistData(),this.detachUnloadEvent()),this.localObserver.destroy(),this.refreshing||(rr([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),e.prototype.destroy.call(this),this.moduleLoader.clean(),zn.off("notifyExternalChange",this.detectFunction,this.randomId)))},t.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new kn(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},t.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},t.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},t.prototype.getLocalData=function(){var e=this.getModuleName()+this.element.id;return Kr?window.localStorage.getItem(e+this.ej2StatePersistenceVersion):window.localStorage.getItem(e)},t.prototype.attachUnloadEvent=function(){this.handleUnload=this.handleUnload.bind(this),window.addEventListener("pagehide",this.handleUnload)},t.prototype.handleUnload=function(){this.setPersistData()},t.prototype.detachUnloadEvent=function(){window.removeEventListener("pagehide",this.handleUnload)},t.prototype.appendTo=function(t){if(nn(t)||"string"!==typeof t?nn(t)||(this.element=t):this.element=hr(t,document),!nn(this.element)){var i="e-"+this.getModuleName().toLowerCase();nr([this.element],["e-control",i]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),this.attachUnloadEvent());var n=Xi("ej2_instances",this.element);n&&-1!==n.indexOf(this)||e.prototype.addInstance.call(this),this.preRender(),this.injectModules();var r={schedule:"all",diagram:"all",PdfViewer:"all",grid:["logger"],richtexteditor:["link","table","image","audio","video","formatPainter","emojiPicker","pasteCleanup","htmlEditor","toolbar"],treegrid:["filter"],gantt:["tooltip"],chart:["Export","Zoom"],accumulationchart:["Export"],"query-builder":"all"},s=this.getModuleName();if(this.requiredModules&&(!r[""+s]||"all"!==r[""+s]))for(var o=this.requiredModules(),a=0,l=this.moduleLoader.getNonInjectedModules(o);a<l.length;a++){var h=l[a],c=h.name?h.name:h.member;if(!r[""+s]||-1===r[""+s].indexOf(h.member)){var u=s.charAt(0).toUpperCase()+s.slice(1);console.warn('[WARNING] :: Module "'+c+'" is not available in '+u+" component! You either misspelled the module name or forgot to load it.")}}qr||Gr||(!function(){var e='\n    <div style="\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 99999;\n    ">\n        <div style="\n    background: #FFFFFF;\n    height: 455px;\n    width: 840px;\n    font-family: Helvetica Neue, Helvetica, Arial;\n    color: #000000;\n    box-shadow: 0px 4.8px 14.4px rgb(0 0 0 / 18%), 0px 25.6px 57.6px rgb(0 0 0 / 22%);\n    display: block;\n    margin: 8% auto;\n    border-radius: 20px;\n    ">\n            <div style="\n    position: absolute;\nwidth: 838px;\nheight: 62px;\nbackground-color: #F9F9F9;\nborder: 1px solid #EEEEEE;\nborder-top-left-radius: 20px;\nborder-top-right-radius: 20px;\n">\n                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ2IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTQ2IDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNDAuNTk2NSAxNS4wMDc4SDMyLjQyNUMzMS41NTU3IDE1LjAwNzggMzAuOTAzNyAxNS4xODEyIDMwLjUxMjUgMTUuNDg0NkMzMC4xMjEzIDE1LjgzMTQgMjkuOTA0IDE2LjMwODIgMjkuOTA0IDE3LjA0NTFDMjkuOTA0IDE3LjYwODYgMzAuMDc3OCAxOC4wNDIxIDMwLjQyNTYgMTguMzAyMkMzMC43NzMzIDE4LjYwNTYgMzEuMjk0OSAxOC43MzU2IDMxLjk5MDMgMTguNzM1NkgzNi4zMzY5QzM4LjExODkgMTguNzM1NiAzOS40MjI5IDE5LjA4MjQgNDAuMTYxOCAxOS43MzI2QzQwLjk0NDIgMjAuNDI2MiA0MS4yOTE5IDIxLjU1MzIgNDEuMjkxOSAyMy4xMTM3QzQxLjI5MTkgMjQuNzE3NiA0MC44NTcyIDI1Ljg4OCAzOS45ODc5IDI2LjY2ODJDMzkuMTE4NiAyNy40MDUxIDM3LjcyNzcgMjcuNzk1MyAzNS44NTg3IDI3Ljc5NTNIMjcuMDc4N1YyNS4wMjFIMzUuMzM3MkMzNi4yOTM0IDI1LjAyMSAzNi45NDU0IDI0Ljg5MSAzNy4zMzY2IDI0LjYzMDlDMzcuNzI3NyAyNC4zNzA4IDM3LjkwMTYgMjMuODk0IDM3LjkwMTYgMjMuMjg3MUMzNy45MDE2IDIyLjYzNjkgMzcuNzI3NyAyMi4xNjAxIDM3LjM4IDIxLjlDMzcuMDMyMyAyMS42Mzk5IDM2LjQyMzggMjEuNDY2NSAzNS41NTQ1IDIxLjQ2NjVIMzEuNjQyNkMyOS44NjA1IDIxLjQ2NjUgMjguNTEzMSAyMS4xMTk4IDI3LjY4NzMgMjAuMzgyOEMyNi44NjE0IDE5LjY0NTkgMjYuNDI2OCAxOC41MTg5IDI2LjQyNjggMTcuMDAxN0MyNi40MjY4IDE1LjM1NDUgMjYuODYxNCAxNC4xNDA4IDI3LjczMDcgMTMuMzYwNkMyOC42IDEyLjU4MDMgMjkuOTkwOSAxMi4yMzM1IDMxLjkwMzQgMTIuMjMzNUg0MC41OTY1VjE1LjAwNzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik00OC4wNzI3IDI1LjI4MTFINTAuNTA2OFYxNi4zOTQ5SDUzLjU0OTNWMjcuNTM1MkM1My41NDkzIDI5LjA1MjQgNTMuMjAxNiAzMC4xNzk0IDUyLjUwNjIgMzAuOTE2M0M1MS44MTA3IDMxLjY1MzIgNTAuNzI0MSAzMiA0OS4yNDYzIDMySDQzLjMzNVYyOS42NTkySDQ4LjcyNDdDNDkuMjg5NyAyOS42NTkyIDQ5Ljc2NzkgMjkuNTI5MiA1MC4wNzIxIDI5LjIyNThDNTAuMzc2NCAyOC45NjU3IDUwLjU1MDIgMjguNTMyMiA1MC41NTAyIDI4LjAxMlYyNy44Mzg2SDQ3Ljg5ODlDNDYuMjAzNyAyNy44Mzg2IDQ0Ljk0MzIgMjcuNDkxOSA0NC4yNDc4IDI2Ljg0MTZDNDMuNTA4OSAyNi4xNDgxIDQzLjE2MTEgMjUuMDY0NCA0My4xNjExIDIzLjQ2MDVWMTYuMzk0OUg0Ni4xNjAyVjIzLjIwMDVDNDYuMTYwMiAyNC4wNjc0IDQ2LjI5MDYgMjQuNjMwOSA0Ni41NTE0IDI0Ljg5MUM0Ni43MjUzIDI1LjE1MTEgNDcuMjQ2OSAyNS4yODExIDQ4LjA3MjcgMjUuMjgxMVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTU1Ljg5NjUgMTYuMzk0OUg2MS41OTA0QzYzLjMyOTEgMTYuMzk0OSA2NC41NDYxIDE2LjY5ODMgNjUuMjg1IDE3LjM0ODVDNjYuMDIzOSAxNy45OTg4IDY2LjM3MTYgMTkuMDgyNCA2Ni4zNzE2IDIwLjU1NjNWMjcuNzk1M0g2My4zMjkxVjIwLjk0NjRDNjMuMzI5MSAyMC4wNzk0IDYzLjE5ODcgMTkuNTE1OSA2Mi45Mzc5IDE5LjI5OTJDNjIuNjc3MSAxOS4wMzkxIDYyLjE1NTUgMTguOTA5MSA2MS4zMjk3IDE4LjkwOTFINTguODk1NlYyNy44Mzg2SDU1Ljg1M1YxNi4zOTQ5SDU1Ljg5NjVaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03NC45MzQyIDI1LjM2NzhINzguMTUwNlYyNy43OTUySDc0LjAyMTRDNzIuOTc4MiAyNy43OTUyIDcyLjEwODkgMjcuNjY1MiA3MS40NTcgMjcuNDkxOEM3MC44MDUgMjcuMjc1IDcwLjE5NjUgMjYuOTI4MyA2OS43MTgzIDI2LjQ1MTRDNjkuMTk2OCAyNS45MzEzIDY4Ljc2MjEgMjUuMjgxMSA2OC40NTc4IDI0LjU0NDJDNjguMTUzNiAyMy44MDcyIDY4LjAyMzIgMjIuOTgzNiA2OC4wMjMyIDIyLjE2QzY4LjAyMzIgMjEuMjkzMSA2OC4xNTM2IDIwLjQ2OTUgNjguNDU3OCAxOS42ODkyQzY4Ljc2MjEgMTguOTA5IDY5LjE1MzMgMTguMzAyMSA2OS43MTgzIDE3Ljc4MTlDNzAuMjM5OSAxNy4zMDUxIDcwLjgwNSAxNi45NTgzIDcxLjUwMDQgMTYuNzQxNkM3Mi4xOTU5IDE2LjUyNDkgNzMuMDIxNyAxNi40MzgyIDc0LjA2NDkgMTYuNDM4Mkg3OC4xOTQxVjE4LjkwOUg3NC45MzQyQzczLjQ5OTggMTguOTA5IDcyLjU0MzYgMTkuMTY5MSA3MS45Nzg1IDE5LjY0NTlDNzEuNDU2OSAyMC4xMjI3IDcxLjE1MjcgMjAuOTg5NyA3MS4xNTI3IDIyLjIwMzRDNzEuMTUyNyAyMi44OTY5IDcxLjI4MzEgMjMuNDYwNSA3MS41MDA0IDIzLjkzNzNDNzEuNzE3NyAyNC40MTQxIDcyLjA2NTUgMjQuNzYwOSA3Mi41MDAxIDI1LjA2NDNDNzIuNzE3NCAyNS4xOTQ0IDcyLjk3ODIgMjUuMjgxMSA3My4yODI1IDI1LjM2NzhDNzMuNjMwMiAyNS4zMjQ0IDc0LjE1MTggMjUuMzY3OCA3NC45MzQyIDI1LjM2NzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik04MC44NDU2IDE4LjY0ODlINzguNjcyNFYxNi4zNTE1SDgwLjg0NTZWMTUuMTgxMUM4MC44NDU2IDE0LjAxMDggODEuMDYzIDEzLjIzMDUgODEuNDk3NiAxMi44NDA0QzgxLjkzMjMgMTIuNDUwMyA4Mi43NTgxIDEyLjIzMzUgODMuOTc1MSAxMi4yMzM1SDg2Ljg0MzhWMTQuNDAwOUg4NS40MDk1Qzg0Ljg4NzkgMTQuNDAwOSA4NC41NDAyIDE0LjQ4NzYgODQuMzIyOSAxNC42NjFDODQuMTA1NSAxNC44MzQ0IDgzLjk3NTEgMTUuMDk0NSA4My45NzUxIDE1LjQ0MTJWMTYuMzUxNUg4Ni44NDM4VjE4LjY0ODlIODMuOTc1MVYyNy43OTUzSDgwLjg0NTZWMTguNjQ4OVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTk4LjQwNTYgMjcuNzk1M0g5Mi43MTE2QzkxLjAxNjUgMjcuNzk1MyA4OS44NDI5IDI3LjQ0ODUgODkuMDYwNSAyNi43OTgzQzg4LjMyMTYgMjYuMTQ4MSA4Ny45MzA0IDI1LjA2NDQgODcuOTMwNCAyMy41OTA2VjE2LjM5NDlIOTAuOTI5NVYyMy40MTcyQzkwLjkyOTUgMjQuMTk3NCA5MS4wNTk5IDI0LjY3NDMgOTEuMzIwNyAyNC45MzQ0QzkxLjU4MTUgMjUuMTk0NCA5Mi4xMDMxIDI1LjMyNDUgOTIuOTI4OSAyNS4zMjQ1SDk1LjM2M1YxNi4zOTQ5SDk4LjQwNTZWMjcuNzk1M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTEwMC42MjIgMjUuNDExMkgxMDcuMDExQzEwNy41NzcgMjUuNDExMiAxMDguMDExIDI1LjMyNDUgMTA4LjI3MiAyNS4xNTExQzEwOC41MzMgMjQuOTc3NyAxMDguNjYzIDI0LjY3NDMgMTA4LjY2MyAyNC4zMjc1QzEwOC42NjMgMjMuOTM3NCAxMDguNTMzIDIzLjY3NzMgMTA4LjI3MiAyMy40NjA1QzEwOC4wMTEgMjMuMjg3MSAxMDcuNTc3IDIzLjIwMDUgMTA3LjA1NSAyMy4yMDA1SDEwNC40NDdDMTAyLjg4MiAyMy4yMDA1IDEwMS44MzkgMjIuOTgzNyAxMDEuMzE4IDIyLjUwNjlDMTAwLjc1MiAyMi4wMzAxIDEwMC40OTIgMjEuMjA2NSAxMDAuNDkyIDE5Ljk5MjdDMTAwLjQ5MiAxOC43NzkgMTAwLjgzOSAxNy44Njg3IDEwMS40OTEgMTcuMjYxOEMxMDIuMTQzIDE2LjY5ODMgMTAzLjE4NyAxNi4zOTQ5IDEwNC41MzQgMTYuMzk0OUgxMTEuMDU0VjE4Ljc3OUgxMDUuNzA4QzEwNC44MzggMTguNzc5IDEwNC4yNzMgMTguODY1NyAxMDQuMDEyIDE4Ljk5NTdDMTAzLjc1MiAxOS4xNjkxIDEwMy42MjEgMTkuNDI5MiAxMDMuNjIxIDE5LjgxOTRDMTAzLjYyMSAyMC4xNjYxIDEwMy43NTIgMjAuNDI2MiAxMDMuOTY5IDIwLjU5OTZDMTA0LjE4NiAyMC43NzMgMTA0LjU3NyAyMC44NTk3IDEwNS4wNTYgMjAuODU5N0gxMDcuNzk0QzEwOS4wNTQgMjAuODU5NyAxMTAuMDExIDIxLjE2MzEgMTEwLjY2MyAyMS43MjY2QzExMS4zMTUgMjIuMjkwMiAxMTEuNjYyIDIzLjE1NzEgMTExLjY2MiAyNC4yNDA4QzExMS42NjIgMjUuMjgxMSAxMTEuMzU4IDI2LjE0ODEgMTEwLjc5MyAyNi43OTgzQzExMC4yMjggMjcuNDQ4NSAxMDkuNDQ2IDI3Ljc5NTMgMTA4LjUzMyAyNy43OTUzSDEwMC43MDlWMjUuNDExMkgxMDAuNjIyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTE2LjU3NCAxNS4wOTQ0SDExMy40MDFWMTIuMjc2OUgxMTYuNTc0VjE1LjA5NDRaTTExNi41NzQgMjcuNzk1M0gxMTMuNDAxVjE2LjM5NDlIMTE2LjU3NFYyNy43OTUzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMwLjMwOSAyMi4xMTY3QzEzMC4zMDkgMjMuODkzOSAxMjkuNzQ0IDI1LjMyNDQgMTI4LjY1NyAyNi40MDgxQzEyNy41NzEgMjcuNDkxOCAxMjYuMDkzIDI4LjAxMiAxMjQuMjI0IDI4LjAxMkMxMjIuMzU1IDI4LjAxMiAxMjAuODc3IDI3LjQ5MTggMTE5Ljc5IDI2LjQwODFDMTE4LjcwNCAyNS4zMjQ0IDExOC4xMzkgMjMuODkzOSAxMTguMTM5IDIyLjExNjdDMTE4LjEzOSAyMC4zMzk0IDExOC43MDQgMTguOTA5IDExOS43OSAxNy44MjUzQzEyMC44NzcgMTYuNzQxNiAxMjIuMzk4IDE2LjIyMTQgMTI0LjIyNCAxNi4yMjE0QzEyNi4wNDkgMTYuMjIxNCAxMjcuNTI3IDE2Ljc0MTYgMTI4LjY1NyAxNy44MjUzQzEyOS43NDQgMTguODY1NiAxMzAuMzA5IDIwLjI5NjEgMTMwLjMwOSAyMi4xMTY3Wk0xMjEuMjY4IDIyLjExNjdDMTIxLjI2OCAyMy4yMDA0IDEyMS41MjkgMjQuMDY3MyAxMjIuMDUxIDI0LjY3NDJDMTIyLjU3MiAyNS4yODExIDEyMy4yNjggMjUuNTg0NSAxMjQuMTggMjUuNTg0NUMxMjUuMDkzIDI1LjU4NDUgMTI1Ljc4OSAyNS4yODExIDEyNi4zMSAyNC42NzQyQzEyNi44MzIgMjQuMDY3MyAxMjcuMDkzIDIzLjIwMDQgMTI3LjA5MyAyMi4xMTY3QzEyNy4wOTMgMjEuMDMzIDEyNi44MzIgMjAuMTY2MSAxMjYuMzEgMTkuNjAyNUMxMjUuNzg5IDE4Ljk5NTcgMTI1LjA5MyAxOC42OTIyIDEyNC4xMzcgMTguNjkyMkMxMjMuMjI0IDE4LjY5MjIgMTIyLjUyOSAxOC45OTU3IDEyMi4wMDcgMTkuNjAyNUMxMjEuNTI5IDIwLjE2NjEgMTIxLjI2OCAyMS4wMzMgMTIxLjI2OCAyMi4xMTY3WiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMxLjc4NyAxNi4zOTQ5SDEzNy40ODFDMTM5LjIxOSAxNi4zOTQ5IDE0MC40MzYgMTYuNjk4MyAxNDEuMTc1IDE3LjM0ODVDMTQxLjkxNCAxNy45OTg4IDE0Mi4yNjIgMTkuMDgyNCAxNDIuMjYyIDIwLjU1NjNWMjcuNzk1M0gxMzkuMjE5VjIwLjk0NjRDMTM5LjIxOSAyMC4wNzk0IDEzOS4wODkgMTkuNTE1OSAxMzguODI4IDE5LjI5OTJDMTM4LjU2NyAxOS4wMzkxIDEzOC4wNDYgMTguOTA5MSAxMzcuMjIgMTguOTA5MUgxMzQuNzg2VjI3LjgzODZIMTMxLjc0M1YxNi4zOTQ5SDEzMS43ODdaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDMuNzM3NDNIMFYxMC44NDY0SDcuMTI4MzFWMy43Mzc0M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTIzLjI1MTMgLTIuMTU3MjVlLTA1TDE4LjU1MTMgNS41MTY4NUwyNC4wODMxIDEwLjIwNDFMMjguNzgzMSA0LjY4NzI1TDIzLjI1MTMgLTIuMTU3MjVlLTA1WiIgZmlsbD0iI0ZGODYwMCIvPgo8cGF0aCBkPSJNMTUuNjA0MSAzLjczNzQzSDguNDc1ODNWMTAuODQ2NEgxNS42MDQxVjMuNzM3NDNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDEyLjE5MDJIMFYxOS4yOTkySDcuMTI4MzFWMTIuMTkwMloiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMTIuMTkwMkg4LjQ3NTgzVjE5LjI5OTJIMTUuNjA0MVYxMi4xOTAyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMDc5NyAxMi4xOTAySDE2Ljk1MTRWMTkuMjk5MkgyNC4wNzk3VjEyLjE5MDJaIiBmaWxsPSIjRkY4NjAwIi8+CjxwYXRoIGQ9Ik03LjEyODMxIDIwLjY4NjNIMFYyNy43OTUzSDcuMTI4MzFWMjAuNjg2M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMjAuNjg2M0g4LjQ3NTgzVjI3Ljc5NTNIMTUuNjA0MVYyMC42ODYzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMTIzMiAyMC42ODYzSDE2Ljk5NDlWMjcuNzk1M0gyNC4xMjMyVjIwLjY4NjNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik0xNDYgMTUuODMxM0MxNDYgMTYuODcxNyAxNDUuMTc0IDE3LjY5NTMgMTQ0LjEzMSAxNy42OTUzQzE0My4wODggMTcuNjk1MyAxNDIuMjYyIDE2Ljg3MTcgMTQyLjI2MiAxNS44MzEzQzE0Mi4yNjIgMTQuNzkxIDE0My4wODggMTQuMDEwNyAxNDQuMTMxIDE0LjAxMDdDMTQ1LjEzMSAxMy45Njc0IDE0NiAxNC43OTEgMTQ2IDE1LjgzMTNaTTE0Mi45NTcgMTQuNzkxQzE0Mi42OTcgMTUuMDUxMSAxNDIuNTY2IDE1LjQ0MTIgMTQyLjU2NiAxNS44MzEzQzE0Mi41NjYgMTYuNjk4MyAxNDMuMjYyIDE3LjM5MTggMTQ0LjEzMSAxNy4zOTE4QzE0NSAxNy4zOTE4IDE0NS42OTYgMTYuNjk4MyAxNDUuNjk2IDE1LjgzMTNDMTQ1LjY5NiAxNS4wMDc3IDE0NSAxNC4yNzA4IDE0NC4xNzQgMTQuMjcwOEMxNDMuNjUzIDE0LjI3MDggMTQzLjI2MiAxNC40NDQyIDE0Mi45NTcgMTQuNzkxWk0xNDQuODcgMTYuOTE1SDE0NC40NzlMMTQzLjkxNCAxNi4wOTE0VjE2LjkxNUgxNDMuNjA5VjE0Ljc0NzZIMTQzLjk1N0MxNDQuNDM1IDE0Ljc0NzYgMTQ0LjY1MyAxNC45NjQ0IDE0NC42NTMgMTUuMzU0NUMxNDQuNjUzIDE1LjY1NzkgMTQ0LjQ3OSAxNS44NzQ3IDE0NC4xNzQgMTUuOTYxNEwxNDQuODcgMTYuOTE1Wk0xNDQuMDQ0IDE1LjY1NzlDMTQ0LjI2MSAxNS42NTc5IDE0NC4zOTIgMTUuNTI3OSAxNDQuMzkyIDE1LjM1NDVDMTQ0LjM5MiAxNS4xMzc4IDE0NC4yNjEgMTUuMDUxMSAxNDQuMDAxIDE1LjA1MTFIMTQzLjkxNFYxNS42NTc5SDE0NC4wNDRaIiBmaWxsPSIjMzU0M0E4Ii8+Cjwvc3ZnPgo=" style="\n    text-align: left;\n    width: 146px;\n    position: absolute;\n    top: 14px;\n    left: 31px;\n">\n            </div>\n            <div style="\n    position: relative;\n    top: 80px;\n    left: 32px;\n    font-size: 20px;\n    text-align: left;\n    font-weight: 700;\n    letter-spacing: 0.02em;\n    font-style: normal;\n    line-height: 125%;\n    ">Claim your FREE account and get a key in less than a minute</div>\n            <ul style="\n        font-size: 15px;\n        font-weight: 400;\n        color: #333333;\n        letter-spacing: 0.01em;\n        position: relative;\n        left: 32px;\n        top: 88px;\n        line-height: 180%;\n        ">\n                <li><span>Access to a 30-day free trial of any of our products.</span></li>\n                <li><span>Access to 24x5 support by developers via the <a href="https://support.syncfusion.com/create?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">support tickets</a>, <a href="https://www.syncfusion.com/forums?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">forum</a>, <a href="https://www.syncfusion.com/feedback?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information\n                " style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">feature &amp; feedback page</a> and chat.</span></li>\n                <li><span>200+ <a href="https://www.syncfusion.com/succinctly-free-ebooks?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">ebooks </a>on the latest technologies, industry trends, and research topics.</span>\n                </li>\n                <li><span>Largest collection of over 7,000 flat and wireframe icons for free with Syncfusion <a href="https://www.syncfusion.com/downloads/metrostudio?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information\n                " style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">Metro Studio.</a></span></li>\n                <li><span>Free and unlimited access to Syncfusion technical <a href="https://www.syncfusion.com/blogs/?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information\n                " style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">blogs</a> and <a href="https://www.syncfusion.com/resources/techportal/whitepapers?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">whitepapers.</a></span></li>\n            </ul>\n            <div style="\n            font-size: 18px;\n            font-weight: 700;\n            position: relative;\n            line-height: 125%;\n            letter-spacing: 0.02em;\n            top: 90px;\n            left: 32px;\n    ">Syncfusion is trusted by 29,000+ businesses worldwide</div>\n            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODIwIiBoZWlnaHQ9IjU2IiB2aWV3Qm94PSIwIDAgODIwIDU2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MjcuNjE3IDIyLjU2NTlWMjQuNzIyNkM0MjYuNTU4IDI0LjM2MzggNDI1LjM5OCAyNC4xNTQ0IDQyNC40NzQgMjQuMTU0NEM0MjMuMzMzIDI0LjE1NDQgNDIyLjY5OCAyNC40OTEyIDQyMi42OTggMjUuMDk2M0M0MjIuNjk4IDI1LjQ4MjQgNDIyLjk3NiAyNS43MzgzIDQyMy43NzMgMjYuMDg1NEw0MjUuOTE3IDI3LjAxNzRDNDI3LjYzMyAyNy43NjM5IDQyOC40OTcgMjguODUzIDQyOC40OTcgMzAuMjY4MUM0MjguNDk3IDMyLjQ1MjIgNDI2LjU0NiAzMy44MyA0MjMuNDUyIDMzLjgzQzQyMi4zMjQgMzMuODMgNDIxLjAxOCAzMy42NzM2IDQxOS42MzYgMzMuMzcwOVYzMS4xNDE2QzQyMS4wMDYgMzEuNTAyOCA0MjIuMjYyIDMxLjY5NTcgNDIzLjIzOSAzMS42OTU3QzQyNC41MTggMzEuNjk1NyA0MjUuMjAzIDMxLjM1MDYgNDI1LjIwMyAzMC43MDc0QzQyNS4yMDMgMzAuMzIwOCA0MjQuOTM1IDMwLjAzNjcgNDI0LjMyMiAyOS43NzE3TDQyMS45NzUgMjguNzU5M0M0MjAuMjM2IDI4LjAwNzggNDE5LjQzMyAyNi45OTU0IDQxOS40MzMgMjUuNTUyMUM0MTkuNDMzIDIzLjQ4MzcgNDIxLjMxNCAyMi4xNjQ5IDQyNC4yNjUgMjIuMTY0OUM0MjUuMjk4IDIyLjE2NDkgNDI2LjU3IDIyLjMxNzEgNDI3LjYxNyAyMi41NjU5VjIyLjU2NTlaTTQzMC4xNjcgMjIuMzkwOUg0MzMuNjM1VjMzLjYwMzlINDMwLjE2N1YyMi4zOTA5Wk00NDQuOTExIDIyLjM5MDlWMjQuNDQ1MUg0MzkuNjc1VjI2Ljk3NDJINDQ0LjI0OVYyOC44MzIzSDQzOS42NzVWMzEuNDU0M0g0NDQuOTc4VjMzLjYwMzlINDM2LjMwNVYyMi4zOTA5SDQ0NC45MTFaTTQ2MS4yOTQgMjIuMzkwOVYzMy42MDM5SDQ1Ny45MzlWMjYuMjIzNkw0NTQuNjUyIDMzLjY5MTVINDUyLjUzMUw0NDkuMjY2IDI2LjIyMzZWMzMuNjAzOUg0NDYuOTQ5VjIyLjM5MDlINDUxLjE4NEw0NTQuMTc4IDI5LjIxMTRMNDU3LjE1NiAyMi4zOTA5SDQ2MS4yOTRWMjIuMzkwOVpNNDcyLjU3OSAyMi4zOTA5VjI0LjQ0NTFINDY3LjMzNVYyNi45NzQySDQ3MS45MDhWMjguODMyM0g0NjcuMzM1VjMxLjQ1NDNINDcyLjYzOFYzMy42MDM5SDQ2My45NTdWMjIuMzkwOUg0NzIuNTc5Wk00ODQuNzk0IDIyLjM5MDlWMzMuNjAzOUg0ODEuMDkzTDQ3Ni45MjYgMjYuNDEyM1YzMy42MDM5SDQ3NC42MDhWMjIuMzkwOUg0NzguNDA3TDQ4Mi40ODQgMjkuNDg3NlYyMi4zOTA5SDQ4NC43OTRaTTQ5NC44NTggMjIuNTY1OVYyNC43MjI2QzQ5My44MDcgMjQuMzY2MyA0OTIuNjQgMjQuMTU0NCA0OTEuNzMyIDI0LjE1NDRDNDkwLjU3MyAyNC4xNTQ0IDQ4OS45MzkgMjQuNDg1OCA0ODkuOTM5IDI1LjA5M0M0ODkuOTM5IDI1LjQ4ODYgNDkwLjE5OCAyNS43MjUgNDkxLjAyMyAyNi4wODU5TDQ5My4xNTcgMjcuMDE3OEM0OTQuODg1IDI3Ljc3MjIgNDk1LjczOSAyOC44NTE4IDQ5NS43MzkgMzAuMjgzNUM0OTUuNzM5IDMyLjQ1NTkgNDkzLjc4NiAzMy44MzA4IDQ5MC42OTkgMzMuODMwOEM0ODkuNTY5IDMzLjgzMDggNDg4LjI1OSAzMy42NzM2IDQ4Ni44NzggMzMuMzcxN1YzMS4xNDI0QzQ4OC4yNDcgMzEuNTAyOCA0ODkuNDk5IDMxLjY5NjUgNDkwLjQ3IDMxLjY5NjVDNDkxLjc0IDMxLjY5NjUgNDkyLjQ0NCAzMS4zNTE1IDQ5Mi40NDQgMzAuNzI4NUM0OTIuNDQ0IDMwLjMxNjMgNDkyLjE5NyAzMC4wNTA0IDQ5MS41NTUgMjkuNzcyNUw0ODkuMjE4IDI4Ljc2MDFDNDg3LjQ2NyAyOC4wMDI4IDQ4Ni42NzQgMjcuMDAyIDQ4Ni42NzQgMjUuNTUzM0M0ODYuNjc0IDIzLjQ4NjIgNDg4LjU1NiAyMi4xNjY1IDQ5MS41IDIyLjE2NjVDNDkyLjUzNiAyMi4xNjUzIDQ5My44MTMgMjIuMzE3MSA0OTQuODU4IDIyLjU2NTlWMjIuNTY1OVoiIGZpbGw9IiMwMEEwQjAiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzUyLjQxMyAyNi44MTlDMzUwLjk5MiAyNS4yNzU5IDM0OS42MzggMjMuODMxNSAzNDguMzQ5IDIyLjE1NzRMMzQ3LjkyIDIxLjU5OTVDMzQ5LjQwNiAyMS4zNjkzIDM1MC42OTUgMjAuMzg0OCAzNTAuNjk1IDE4Ljc0MzNDMzUwLjY5NSAxNy4yMzMxIDM0OS41MzkgMTYuMjQ4MiAzNDcuODIxIDE2LjI0ODJDMzQ2LjU5OCAxNi4yNDgyIDM0NS43MDYgMTYuMzEzNyAzNDUuMjQzIDE2LjMxMzdDMzQ0LjcxNSAxNi4zMTM3IDM0NC4yODUgMTYuMzEzNyAzNDMuNzkgMTYuMjgwOEMzNDMuODU2IDE4LjE1MjEgMzQzLjg4OSAxOC4yODM0IDM0My44ODkgMTkuNDMyMlYyMy42MzQzQzM0My44ODkgMjQuNDU1MyAzNDMuODU2IDI1LjI3NTkgMzQzLjc5IDI2LjgxODZDMzQ0LjE1MyAyNi43MjAyIDM0NC41MTcgMjYuNzIwMiAzNDQuNzgxIDI2LjcyMDJDMzQ1LjA0NSAyNi43MjAyIDM0NS40MDkgMjYuNzUzMSAzNDUuNzA2IDI2LjgxODZDMzQ1LjY0IDI1Ljc2NzkgMzQ1LjYwNyAyNC4wMjgzIDM0NS42MDcgMjMuNjM0M1YyMS4yMDUxQzM0Ny4xNiAyMy4yMDc3IDM0OS4yMDkgMjUuNjY5NSAzNTAuMDAxIDI2LjgxODZDMzUwLjM5OCAyNi43MjAyIDM1MC43MjggMjYuNzIwMiAzNTEuMTI0IDI2LjcyMDJDMzUxLjQ1NSAyNi43MjA2IDM1MS45MTggMjYuNzIwNiAzNTIuNDEzIDI2LjgxOVYyNi44MTlaTTM0OC44NzggMTkuMDA2QzM0OC44NzggMjAuMDIzNCAzNDguMzE3IDIxLjIwNTQgMzQ2Ljc5NyAyMS4yMDU0QzM0Ni40IDIxLjIwNTQgMzQ2LjAwMyAyMS4yMDU0IDM0NS42MDcgMjEuMTcyNVYxNy4wNjg4QzM0Ni4wMDMgMTYuOTcwNCAzNDYuNDk5IDE2LjkwNDYgMzQ2Ljc2MyAxNi45MDQ2QzM0OC4wODUgMTYuOTA0OSAzNDguODc4IDE3LjY2IDM0OC44NzggMTkuMDA2VjE5LjAwNlpNMzgyLjM4IDI2Ljg4NDVDMzgxLjgxOSAyNi4yOTM2IDM4MC45NiAyNS4zNDE3IDM4MC4xMzQgMjQuNDIyM0MzODAuODI4IDIzLjY2NzIgMzgxLjU1NSAyMi41NTEgMzgxLjk4NCAyMS41OTkxQzM4MS43MTkgMjEuNDY3OCAzODEuMzU2IDIxLjIwNTEgMzgxLjA5MiAyMC45NzUzQzM4MC45OTMgMjEuNzk1OSAzODAuNDMyIDIyLjg3OTIgMzc5LjYzOSAyMy44MzE1QzM3OC41MTUgMjIuNTE4NSAzNzguMjE4IDIyLjE1NzQgMzc3LjE5MyAyMC43Nzg1QzM3OC41ODEgMTkuODkyMSAzNzkuMjQyIDE4Ljg3NDMgMzc5LjI0MiAxOC4wNTM3QzM3OS4yNDIgMTcuMTAxNyAzNzguNTgxIDE2LjExNjkgMzc2Ljk2MiAxNi4xMTY5QzM3NS4yMTEgMTYuMTE2OSAzNzQuMzUyIDE3LjIwMDIgMzc0LjM1MiAxOC40ODAzQzM3NC4zNTIgMTkuMjM1NCAzNzQuNTUgMTkuODkxNyAzNzUuMzc2IDIwLjk3NTNDMzc0LjA1NCAyMS42OTc1IDM3Mi43NjYgMjIuNzQ3OSAzNzIuNzY2IDI0LjQyMjNDMzcyLjc2NiAyNi4wNjM5IDM3NC4wODcgMjYuOTE3NCAzNzUuNzA3IDI2LjkxNzRDMzc3LjE5MyAyNi45MTc0IDM3OC4xNTEgMjYuMzI2NiAzNzguOTEyIDI1LjYzNjlMMzc5LjkwMiAyNi44MTlDMzgwLjIgMjYuNzg2MSAzODAuNTMxIDI2LjcyMDYgMzgwLjg2MSAyNi43MjA2QzM4MS4zMjQgMjYuNzIwNiAzODEuODUyIDI2Ljc4NjEgMzgyLjM4IDI2Ljg4NDVWMjYuODg0NVpNMzgzLjM3MiA0MC4wMTU4QzM4MS45MTggMzguNDczIDM4MC41OTcgMzcuMDYxMiAzNzkuMzA4IDM1LjM4NzFMMzc4Ljg3OCAzNC44Mjg4QzM4MC4zMzIgMzQuNTk5MSAzODEuNjU0IDMzLjYxNSAzODEuNjU0IDMxLjk0MDFDMzgxLjY1NCAzMC40NjMyIDM4MC40OTggMjkuNDQ1NCAzNzguNzc5IDI5LjQ0NTRDMzc3LjU1NyAyOS40NDU0IDM3Ni42MzIgMjkuNTQzNSAzNzYuMTY5IDI5LjU0MzVDMzc1LjY3MyAyOS41NDM1IDM3NS4yNDQgMjkuNTQzNSAzNzQuNzQ4IDI5LjQ3NzZDMzc0LjgxNCAzMS4zODIyIDM3NC44NDggMzEuNDgwMiAzNzQuODQ4IDMyLjYyOTRWMzYuODMxMUMzNzQuODQ4IDM3LjY1MjQgMzc0LjgxNCAzOC41MDUyIDM3NC43NDggNDAuMDE1NEMzNzUuMTEyIDM5Ljk0OTYgMzc1LjQ3NSAzOS45NDk2IDM3NS43MDcgMzkuOTQ5NkMzNzYuMDA0IDM5Ljk0OTYgMzc2LjM2OCAzOS45NDk2IDM3Ni42MzIgNDAuMDE1NEMzNzYuNTY1IDM4Ljk5OCAzNzYuNTMzIDM3LjI1ODEgMzc2LjUzMyAzNi44MzExVjM0LjQzNDhDMzc4LjExOSAzNi40MDQyIDM4MC4xNjcgMzguODk5NiAzODAuOTYgNDAuMDE1NEMzODEuMzU2IDM5Ljk0OTYgMzgxLjY4NyAzOS45NDk2IDM4Mi4wODMgMzkuOTQ5NkMzODIuMzggMzkuOTUgMzgyLjg3NiAzOS45NSAzODMuMzcyIDQwLjAxNThaTTM2Mi4xNiAyNi44MTlDMzYwLjk3MSAyNS41NzE1IDM1OC44ODkgMjIuOTc4IDM1OC4wNjMgMjEuOTkzNUwzNTcuMjM3IDIwLjk3NTdDMzU4LjA5NiAxOS45NTgzIDM1OC42OSAxOS4zMzQxIDM1OS4zMTkgMTguNTc5QzM2MC4wNDUgMTcuNzkxIDM2MC43MDYgMTYuOTcwNCAzNjEuNDk5IDE2LjI0ODJDMzYxLjEzNiAxNi4zMTM3IDM2MC45MzcgMTYuMzEzNyAzNjAuNzM5IDE2LjMxMzdDMzYwLjU0MSAxNi4zMTM3IDM2MC4zNDMgMTYuMzEzNyAzNjAuMTQ0IDE2LjI0ODJDMzU5LjkxMyAxNi42MDkzIDM1OS41NSAxNy4wNjg4IDM1OS4xNTMgMTcuNTI4N0MzNTguNzU2IDE3Ljk1NTYgMzU4LjM2IDE4LjM4MjIgMzU4LjA2MyAxOC43NDMzQzM1Ny4yMzYgMTkuNjk1MiAzNTYuNzc0IDIwLjE1NDcgMzU1LjU4NSAyMS4yNzA5VjE5LjQ2NTVDMzU1LjU4NSAxOC40MTUxIDM1NS41ODUgMTcuNzI1NSAzNTUuNjUxIDE2LjI0ODJDMzU1LjMyMSAxNi4zMTM3IDM1NC45NTcgMTYuMzEzNyAzNTQuNzI2IDE2LjMxMzdDMzU0LjQ2MSAxNi4zMTM3IDM1NC4wMzIgMTYuMzEzNyAzNTMuNzY4IDE2LjI0ODJDMzUzLjgzMyAxNy44MjM5IDM1My44NjcgMTguMjgzNCAzNTMuODY3IDE5LjQzMjVWMjMuNjM0N0MzNTMuODY3IDI0LjY4NSAzNTMuODMzIDI1LjMwODggMzUzLjc2OCAyNi44MTlDMzU0LjE2NCAyNi43MjA2IDM1NC40OTUgMjYuNzIwNiAzNTQuNzI2IDI2LjcyMDZDMzU0Ljk1NyAyNi43MjA2IDM1NS4zNTMgMjYuNzUzNSAzNTUuNjUxIDI2LjgxOUMzNTUuNTg1IDI1LjE0NDkgMzU1LjU4NSAyNC4xNTk3IDM1NS41ODUgMjMuNjM0N1YyMS40MzUyQzM1Ni44MDcgMjIuODc5NiAzNTguNjkgMjUuMjQzMyAzNTkuNzQ4IDI2LjgxOUMzNjAuMTMgMjYuNzU2MyAzNjAuNTE3IDI2LjcyMzQgMzYwLjkwNSAyNi43MjA2QzM2MS4yMDIgMjYuNzIwNiAzNjEuNjY1IDI2LjcyMDYgMzYyLjE2IDI2LjgxOVYyNi44MTlaTTM3Mi42MDEgNDAuMDE1OEMzNzIuNTY4IDM5Ljg1MTkgMzcyLjUzNSAzOS43MjA2IDM3Mi41MzUgMzkuNTIzNEMzNzIuNTM1IDM5LjM5MjggMzcyLjU2OCAzOS4yMjgxIDM3Mi42MDEgMzkuMDk2NEMzNzEuMjggMzkuMTI5NyAzNjguOTAxIDM5LjE5NTIgMzY4LjM3MiAzOS4xOTUyVjM0LjY2NDlDMzY5LjY5NCAzNC42NjQ5IDM3MC45ODIgMzQuNjY0OSAzNzIuMjcgMzQuNzk2M0MzNzIuMjM4IDM0LjYzMjQgMzcyLjIwNCAzNC40Njc3IDM3Mi4yMDQgMzQuMzM2NEMzNzIuMjA0IDM0LjIwNTggMzcyLjIwNCAzNC4wNDE5IDM3Mi4yNyAzMy44NDQ3QzM3MS4zNDYgMzMuOTQyOCAzNjkuMTk4IDMzLjk3NiAzNjguMzcyIDMzLjk3NlYzMC4yNjZDMzY5LjgyNiAzMC4yNjYgMzcwLjY4NSAzMC4yNjYgMzcxLjE4IDMwLjI5OTNMMzcyLjUwMiAzMC4zNjUxQzM3Mi40MzYgMzAuMTY3OSAzNzIuNDM2IDMwLjA2OTIgMzcyLjQzNiAyOS45MDUzQzM3Mi40MzYgMjkuNzQxNCAzNzIuNDM2IDI5LjcwODEgMzcyLjUwMiAyOS40NDU4QzM3MS40MTEgMjkuNDc4MyAzNjkuOTI1IDI5LjU0MzggMzY5LjI2NCAyOS41NDM4QzM2OC44MDIgMjkuNTQzOCAzNjcuMzQ4IDI5LjUxMTMgMzY2LjU4NyAyOS40NDU4QzM2Ni42NTQgMzAuMjY2NCAzNjYuNjg2IDMxLjYxMjMgMzY2LjY4NiAzMi41NjQyVjM2Ljg2NTFDMzY2LjY4NiAzNy40ODg1IDM2Ni42MiAzOC43MzU3IDM2Ni41ODcgNDAuMDE2MkMzNjcuNTEzIDM5Ljk1MDMgMzY4LjgwMiAzOS45NTAzIDM2OS4yNjQgMzkuOTUwM0MzNzAuMDI0IDM5Ljk1IDM3MS42NDMgMzkuOTUgMzcyLjYwMSA0MC4wMTU4Wk0zNjQuNjA1IDM5LjEyOTRDMzY0LjQ0IDM4LjgwMDggMzY0LjM0MSAzOC4zMDg4IDM2NC4yNzUgMzguMDQ2MUMzNjIuOTIgMzkuMTYxOSAzNjEuOTk1IDM5LjM5MjQgMzYwLjkzOCAzOS4zOTI0QzM1OC41OTIgMzkuMzkyNCAzNTcuMzM3IDM3LjI5MTMgMzU3LjMzNyAzNC42NjQ5QzM1Ny4zMzcgMzEuNzQzNiAzNTguNzU3IDMwLjAzNjIgMzYxLjE2OSAzMC4wMzYyQzM2Mi40MjUgMzAuMDM2MiAzNjMuNjE0IDMwLjU5NDUgMzY0LjE3NiAzMS4xNTI4QzM2NC4yMDggMzAuODg5OCAzNjQuMzA4IDMwLjM2NDggMzY0LjQ3MyAzMC4wNjg4QzM2My4zMTYgMjkuNTExMyAzNjIuMjU5IDI5LjM0NjYgMzYxLjEwMiAyOS4zNDY2QzM1Ny4yMzcgMjkuMzQ2NiAzNTUuNDUzIDMxLjc0MzYgMzU1LjQ1MyAzNC44Mjg4QzM1NS40NTMgMzguMzA5MSAzNTcuNzk4IDQwLjE0NzEgMzYwLjczOSA0MC4xNDcxQzM2Mi40MjUgNDAuMTQ3MSAzNjMuODEyIDM5LjYyMjIgMzY0LjYwNSAzOS4xMjk0VjM5LjEyOTRaTTM0Mi4zMDMgMjYuODE5QzM0MC41MTkgMjMuNDA0OSAzMzguOCAxOS4xMzczIDMzNy41NzggMTYuMTE2OUgzMzcuMzhDMzM2LjU4NyAxOC4wMjA3IDMzNS4xMzMgMjEuMjcwOSAzMzQuNzM3IDIyLjE4OTlDMzM0LjI3NCAyMy4zMDYxIDMzMy4yNSAyNS41MDU2IDMzMi41ODkgMjYuODE4NkMzMzIuODAzIDI2Ljc1MzggMzMzLjAyNiAyNi43MjA2IDMzMy4yNSAyNi43MjAyQzMzMy40NDggMjYuNzIwMiAzMzMuNjEzIDI2Ljc1MzEgMzMzLjg0NSAyNi44MTg2QzMzNC4xNzUgMjUuOTMyMiAzMzQuNjM4IDI0LjgxNiAzMzUuMTMzIDIzLjYzNDNDMzM1Ljc5NCAyMy42MDE0IDMzNi4zODkgMjMuNTY4OCAzMzYuOTg0IDIzLjU2ODhDMzM3LjYxMiAyMy41Njg4IDMzOC4yNzIgMjMuNjAxNCAzMzguOTMzIDIzLjYzNDNMMzM5LjU5NCAyNS4yMUwzNDAuMjU1IDI2LjgxODZDMzQwLjcxNyAyNi43MjAyIDM0MS4wOCAyNi43MjAyIDM0MS4zMTIgMjYuNzIwMkMzNDEuNjA5IDI2LjcyMDYgMzQxLjg3MyAyNi43MjA2IDM0Mi4zMDMgMjYuODE5VjI2LjgxOVpNMzUzLjYzNiAyOS40NDU0QzM1My40MzggMjkuNTExMyAzNTMuMjczIDI5LjU0MzUgMzUzLjEwNyAyOS41NDM1QzM1Mi45MDkgMjkuNTQzNSAzNTIuNzQ0IDI5LjUxMDkgMzUyLjU0NiAyOS40NDU0QzM1Mi42NDQgMzAuNzU4NCAzNTIuNjc4IDMyLjA3MTQgMzUyLjY3OCAzMy4zNTE5VjM2LjczMzRDMzUyLjE0OSAzNi4yNzM2IDM1MC44NiAzNS4wOTE5IDM0OS4zNzQgMzMuNzEzQzM0Ny44NiAzMi4zMDc0IDM0Ni4zOTQgMzAuODUxMSAzNDQuOTc5IDI5LjM0NjZIMzQ0Ljc0OEMzNDQuNzgxIDMwLjgyNDMgMzQ0LjgxNCAzMi40IDM0NC44MTQgMzMuODExNFYzNS44Nzk5QzM0NC44MTQgMzcuNjUyOCAzNDQuODE0IDM4LjYwNDcgMzQ0LjcxNSA0MC4wMTYyQzM0NC45OCAzOS45NTAzIDM0NS4xMTIgMzkuOTUwMyAzNDUuMzEgMzkuOTUwM0MzNDUuNDQyIDM5Ljk1MDMgMzQ1LjU3NSAzOS45NTAzIDM0NS44MDYgNDAuMDE2MkMzNDUuNzQgMzguNjcwNiAzNDUuNzA3IDM2LjQ3MDggMzQ1LjcwNyAzNS44Nzk5VjMyLjU5NjhDMzQ4LjE4NSAzNC44NjI1IDM1MS4yMjQgMzcuODgyNiAzNTMuNDcxIDQwLjE0NzVIMzUzLjYwM0MzNTMuNjAzIDM4LjkzMjkgMzUzLjUzNyAzNy43MTc5IDM1My41MzcgMzYuNTA0VjM0LjYzMjdDMzUzLjUzNiAzMi40MzI1IDM1My41MzYgMzEuMzQ5MyAzNTMuNjM2IDI5LjQ0NTRaTTM0Mi41NjcgNDAuMDE1OEMzNDIuNTM0IDM5Ljg1MTkgMzQyLjUwMSAzOS43MjA2IDM0Mi41MDEgMzkuNTIzNEMzNDIuNTAxIDM5LjM5MjggMzQyLjUzNCAzOS4yMjgxIDM0Mi41NjcgMzkuMDk2NEMzNDEuMjQ2IDM5LjEyOTcgMzM4Ljg2NyAzOS4xOTUyIDMzOC4zNzEgMzkuMTk1MlYzNC42NjQ5QzMzOS42NiAzNC42NjQ5IDM0MC45NDggMzQuNjY0OSAzNDIuMjM3IDM0Ljc5NjNDMzQyLjIwNCAzNC42MzI0IDM0Mi4xNzEgMzQuNDY3NyAzNDIuMTcxIDM0LjMzNjRDMzQyLjE3MSAzNC4yMDU4IDM0Mi4xNzEgMzQuMDQxOSAzNDIuMjM3IDMzLjg0NDdDMzQxLjMxMiAzMy45NDI4IDMzOS4xOTcgMzMuOTc2IDMzOC4zNzEgMzMuOTc2VjMwLjI2NkMzMzkuNzkyIDMwLjI2NiAzNDAuNjUxIDMwLjI2NiAzNDEuMTc5IDMwLjI5OTNMMzQyLjQ2OCAzMC4zNjUxQzM0Mi40MzUgMzAuMTY3OSAzNDIuNDM1IDMwLjA2OTIgMzQyLjQzNSAyOS45MDUzQzM0Mi40MzUgMjkuNzQxNCAzNDIuNDM1IDI5LjY3NTUgMzQyLjQ2OCAyOS40NDU4QzM0MS4zNzggMjkuNDc4MyAzMzkuODkxIDI5LjU0MzggMzM5LjIzIDI5LjU0MzhDMzM4Ljc2NyAyOS41NDM4IDMzNy4zMTQgMjkuNTExMyAzMzYuNTU0IDI5LjQ0NThDMzM2LjYyIDMwLjI2NjQgMzM2LjY1MyAzMS42MTIzIDMzNi42NTMgMzIuNTY0MlYzNi44NjUxQzMzNi42NTMgMzcuNDg4NSAzMzYuNTg3IDM4LjczNTcgMzM2LjU1NCA0MC4wMTYyQzMzNy41MTIgMzkuOTUwMyAzMzguNzY3IDM5Ljk1MDMgMzM5LjIzIDM5Ljk1MDNDMzM5Ljk5IDM5Ljk1IDM0MS42NDIgMzkuOTUgMzQyLjU2NyA0MC4wMTU4VjQwLjAxNThaTTMzMS4yMDEgMjYuODE5QzMzMC42NzMgMjMuMjQwNiAzMzAuMjEgMTkuNDk4NCAzMjkuODQ3IDE2LjExNjlDMzI5Ljc0OCAxNi4xNDk4IDMyOS43MTQgMTYuMTQ5OCAzMjkuNjQ5IDE2LjExNjlDMzI4Ljk1NSAxNy4zMzE1IDMyOC4xNjIgMTguNjQ0NSAzMjcuNTY3IDE5LjU2MzlDMzI3LjAwNiAyMC40NTAzIDMyNi4zNDUgMjEuNTAwNyAzMjUuNTg1IDIyLjYxNjlDMzIzLjk5OSAyMC41ODE3IDMyMi4zNDcgMTguMDIxMSAzMjEuMjU2IDE2LjExNjlDMzIxLjE5IDE2LjE0OTggMzIxLjE1NyAxNi4xMTY5IDMyMS4wOTEgMTYuMTE2OUMzMjAuNzI4IDE5LjQ5OCAzMjAuMjMyIDIzLjI3MzIgMzE5LjczNiAyNi44MTlDMzIwLjAwMSAyNi43MjA2IDMyMC4xNjYgMjYuNzIwNiAzMjAuMjk4IDI2LjcyMDZDMzIwLjQ5NiAyNi43MjA2IDMyMC42MjggMjYuNzUzNSAzMjAuODU5IDI2LjgxOUMzMjAuOTkyIDI0LjQ1NTMgMzIxLjI1NiAyMi4xMjQ0IDMyMS41NTMgMTkuNjYyM0MzMjIuODQyIDIxLjUzMzYgMzIzLjk2NSAyMy4xNDIyIDMyNS4yMjEgMjQuODQ5M0MzMjYuMjc4IDIzLjIwNzcgMzI3LjM2OCAyMS40MzQ4IDMyOC41NTggMTkuNjI5NEMzMjguODg4IDIyLjE1NyAzMjkuMTg2IDI0LjQ1NTMgMzI5LjM1MSAyNi44MTlDMzI5Ljc4IDI2LjcyMDYgMzMwLjA3OCAyNi43MjA2IDMzMC4yNzYgMjYuNzIwNkMzMzAuNTQgMjYuNzIwNiAzMzAuODA1IDI2LjcyMDYgMzMxLjIwMSAyNi44MTlWMjYuODE5Wk0zMzQuOTY4IDMyLjIwMjhDMzM0Ljk2OCAzMC4yOTg5IDMzMy40NDggMjkuNDQ1NCAzMzEuNTk4IDI5LjQ0NTRDMzMwLjc3MiAyOS40NDU0IDMyOS44OCAyOS41NDM1IDMyOS4yNTIgMjkuNTQzNUMzMjkuMDIxIDI5LjU0MzUgMzI4LjUyNSAyOS41NDM1IDMyNy45OTcgMjkuNDc3NkMzMjguMDMgMzAuNTI4MyAzMjguMDk2IDMxLjQxNDggMzI4LjA5NiAzMi40MzIyVjM2LjkyOTVDMzI4LjA5NiAzNy45MTQ4IDMyOC4wMyAzOC45OTggMzI3Ljk5NyA0MC4wMTU0QzMyOC40MjYgMzkuOTQ5NiAzMjguNzI0IDM5Ljk0OTYgMzI4LjkyMiAzOS45NDk2QzMyOS4xNTMgMzkuOTQ5NiAzMjkuNDg0IDM5Ljk0OTYgMzI5Ljg4IDQwLjAxNTRDMzI5LjgxNSAzOS4wMzE5IDMyOS43ODIgMzguMDQ2NSAzMjkuNzgxIDM3LjA2MDlWMzUuNDJDMzMwLjE0NSAzNS40NTI2IDMzMC41MDggMzUuNDUyNiAzMzAuOTA1IDM1LjQ1MjZDMzMyLjgyIDM1LjQ1MjYgMzM0Ljk2OCAzNC43MzA0IDMzNC45NjggMzIuMjAyOFYzMi4yMDI4Wk0zMjYuMDE0IDM2Ljg5NzNDMzI2LjAxNCAzNS4yNTU4IDMyNC45MjQgMzQuNTMzNiAzMjMuMDQgMzMuNzQ1NkMzMjEuNjg2IDMzLjE4OCAzMjAuOTkyIDMyLjY5NTYgMzIwLjk5MiAzMS42NDQ1QzMyMC45OTIgMzAuNjYgMzIxLjc1MiAzMC4wMzYyIDMyMy4wMDggMzAuMDM2MkMzMjMuODM0IDMwLjAzNjIgMzI0LjU2MSAzMC4zMzE1IDMyNS4yMjIgMzAuODU2OEMzMjUuMjg3IDMwLjQ5NTcgMzI1LjQ1MyAzMC4xMzQ3IDMyNS42NTEgMjkuODM5NEMzMjQuODU4IDI5LjQ3ODMgMzIzLjk5OSAyOS4zNDcgMzIzLjA3NCAyOS4zNDdDMzIwLjM2NSAyOS4zNDcgMzE5LjUwNSAzMC44OTA1IDMxOS41MDUgMzIuMjAzNUMzMTkuNTA1IDMzLjgxMTggMzIwLjI5OSAzNC41NjcyIDMyMi4zNDcgMzUuMzU1M0MzMjMuNjM2IDM1Ljg0NyAzMjQuMjk2IDM2LjQ3MTEgMzI0LjI5NiAzNy41NTQ0QzMyNC4yOTYgMzguNzAzNSAzMjMuNDM3IDM5LjQyNTcgMzIyLjI0OCAzOS40MjU3QzMyMS41NTQgMzkuNDI1NyAzMjAuMzY1IDM5LjA2NDYgMzE5LjUzOSAzOC4zMDk5QzMxOS41MDUgMzguNzM2MSAzMTkuNTA1IDM5LjEzMDQgMzE5LjM3MyAzOS40OTE1QzMxOS45MDIgMzkuNzU0NiAzMjEuMTI1IDQwLjE0NzkgMzIyLjIxNSA0MC4xNDc5QzMyNC45OSA0MC4xNDcxIDMyNi4wMTQgMzguNDM5NyAzMjYuMDE0IDM2Ljg5NzNWMzYuODk3M1pNMzc4LjE1MiAxNy45ODgyQzM3OC4xNTIgMTguOTczIDM3Ny40NTggMTkuNjYyMyAzNzYuNzY0IDIwLjIyMDJDMzc2LjMwMSAxOS41NjM5IDM3NS43NCAxOC42NzcxIDM3NS43NCAxNy45ODgyQzM3NS43NCAxNy4yMzMxIDM3Ni4yNjggMTYuODA2MSAzNzYuOTk1IDE2LjgwNjFDMzc3Ljk4NyAxNi44MDY1IDM3OC4xNTIgMTcuNjkyNiAzNzguMTUyIDE3Ljk4ODJWMTcuOTg4MlpNMzc4LjQ4MiAyNS4wMTMyQzM3OC4xMTkgMjUuMzQxNyAzNzcuMjYgMjUuOTY1NSAzNzYuNTMzIDI1Ljk2NTVDMzc1LjU3NCAyNS45NjU1IDM3NC40MTggMjUuMjc1OSAzNzQuNDE4IDIzLjc5ODZDMzc0LjQxOCAyMi40ODU1IDM3NS4yNzcgMjEuODk0NyAzNzUuODA2IDIxLjU2NjVDMzc3LjAyOCAyMy4yNDA2IDM3Ny4wOTUgMjMuMzM5MSAzNzguNDgyIDI1LjAxMzJaTTM3OS44MDQgMzIuMjAyOEMzNzkuODA0IDMzLjI1MzUgMzc5LjI3NSAzNC40MDI2IDM3Ny43NTUgMzQuNDAyNkMzNzcuMzI2IDM0LjQwMjYgMzc2LjkyOSAzNC40MDI2IDM3Ni41MzMgMzQuMzY5M1YzMC4yNjU2QzM3Ni45MjkgMzAuMTY3NiAzNzcuNDI1IDMwLjEzNDMgMzc3LjcyMiAzMC4xMzQzQzM3OS4wMTEgMzAuMTM0MyAzNzkuODA0IDMwLjg4OTggMzc5LjgwNCAzMi4yMDI4Wk0zMzguNjAyIDIyLjgxNDFDMzM3LjkwOSAyMi44NDY2IDMzNy41NDUgMjIuODQ2NiAzMzcuMDgyIDIyLjg0NjZDMzM2LjUyMSAyMi44NDY2IDMzNi4xOSAyMi44NDY2IDMzNS40NjMgMjIuODE0MUwzMzcuMDgyIDE5LjAwNkwzMzguNjAyIDIyLjgxNDFaTTMzMy4xNTEgMzIuMzAwOEMzMzMuMTUxIDMzLjgxMTEgMzMyLjI1OCAzNC43OTU5IDMzMC44MDUgMzQuNzk1OUMzMzAuNTA3IDM0Ljc5NTkgMzMwLjE3NyAzNC43OTU5IDMyOS43OCAzNC43MzAxVjMwLjIzMjdDMzMwLjI0MyAzMC4xNjY5IDMzMC42MzkgMzAuMTMzOSAzMzEuMDM2IDMwLjEzMzlDMzMyLjQyNCAzMC4xMzQzIDMzMy4xNTEgMzEuMDIxMSAzMzMuMTUxIDMyLjMwMDhaTTM2OS41MjggMjMuNjY3NkMzNjkuNTI4IDIyLjAyNiAzNjguNDM4IDIxLjMwMzkgMzY2LjU1NSAyMC41MTYyQzM2NS4yIDE5Ljk1ODMgMzY0LjUwNiAxOS40OTg4IDM2NC41MDYgMTguNDE1MUMzNjQuNTA2IDE3LjQ2MzIgMzY1LjI2NiAxNi44MDY1IDM2Ni41MjEgMTYuODA2NUMzNjcuMzQ4IDE2LjgwNjUgMzY4LjA3NSAxNy4xMDE3IDM2OC43MzUgMTcuNjI3NUMzNjguODAyIDE3LjI2NjQgMzY4Ljk2NyAxNi45MDQ5IDM2OS4xMzEgMTYuNjQyMkMzNjguMzcyIDE2LjI4MTEgMzY3LjQ3OSAxNi4xMTcyIDM2Ni41ODcgMTYuMTE3MkMzNjMuOTQ0IDE2LjExNzIgMzYyLjk4NiAxNy42NiAzNjIuOTg2IDE5LjAwNkMzNjIuOTg2IDIwLjU4MTcgMzYzLjgxMiAyMS4zMzY4IDM2NS44NjEgMjIuMTI0NEMzNjcuMTQ5IDIyLjYxNjkgMzY3LjgxIDIzLjI0MDYgMzY3LjgxIDI0LjM1NjhDMzY3LjgxIDI1LjQ3MyAzNjYuOTUxIDI2LjE5NTIgMzY1Ljc2MiAyNi4xOTUyQzM2NS4wMzUgMjYuMTk1MiAzNjMuODc5IDI1LjgzNDEgMzYzLjA1MiAyNS4xMTE5QzM2My4wMiAyNS41Mzg5IDM2Mi45ODYgMjUuOSAzNjIuODg3IDI2LjI2MTFDMzYzLjM4MyAyNi41MjM4IDM2NC42MDYgMjYuOTE3NCAzNjUuNzI5IDI2LjkxNzRDMzY4LjUwNCAyNi45MTc0IDM2OS41MjggMjUuMjQzMyAzNjkuNTI4IDIzLjY2NzZWMjMuNjY3NloiIGZpbGw9IiMwMzY1NTUiLz4NCjxwYXRoIGQ9Ik02NDAuNDE2IDIwLjU1NzNDNjM4LjY3MSAxOS44MzU0IDYzNy42MzEgMTkuNTU1MSA2MzYuNTk4IDE5LjU1NTFDNjM1LjUxNCAxOS41NTUxIDYzNC44MTkgMTkuOTE3IDYzNC44MTkgMjAuNDc2NUM2MzQuODE5IDIyLjE2NDUgNjQwLjk2MiAyMS42ODkzIDY0MC45NjIgMjUuNTkzNkM2NDAuOTYyIDI3Ljc0NjQgNjM5LjAyNCAyOC45OTc0IDYzNi4zMzIgMjguOTk3NEM2MzQuMjIgMjguOTk3NCA2MzMuMTggMjguNDg4IDYzMS45ODMgMjcuOTExNlYyNS40OTYyQzYzMy43MSAyNi41NjM1IDYzNC43NjggMjYuOTQwMSA2MzYuMTAxIDI2Ljk0MDFDNjM3LjI1NiAyNi45NDAxIDYzNy44NzkgMjYuNTYzNSA2MzcuODc5IDI1LjkwNjNDNjM3Ljg3OSAyNC4wNjg1IDYzMS43MzcgMjQuNzQxNSA2MzEuNzM3IDIwLjcyMTNDNjMxLjczNyAxOC43ODI3IDYzMy41MzQgMTcuNDk5IDYzNi4zMzIgMTcuNDk5QzYzNy42ODIgMTcuNDk5IDYzOC45MDEgMTcuNzYzNSA2NDAuNDE2IDE4LjM3MDdWMjAuNTU3M1pNNjQ5LjAxNiAyOC40ODQxQzY0Ny45OTIgMjguODMwNiA2NDcuMTI2IDI4Ljk5NTQgNjQ2LjI2MiAyOC45OTU0QzY0My40MDIgMjguOTk1NCA2NDEuNTUyIDI3LjQ0MjIgNjQxLjU1MiAyNS4wNzkyQzY0MS41NTIgMjIuNzU5NCA2NDMuNDczIDIxLjEyMDIgNjQ2LjE1NiAyMS4xMjAyQzY0Ni45ODUgMjEuMTIwMiA2NDguMDQ0IDIxLjMxODIgNjQ4Ljg5MSAyMS42MTIzVjIzLjM4ODFDNjQ4LjIyMSAyMy4wNTYyIDY0Ny40NDQgMjIuODc0MSA2NDYuODA5IDIyLjg3NDFDNjQ1LjI3MyAyMi44NzQxIDY0NC4yODYgMjMuNzM0MyA2NDQuMjg2IDI1LjA2MTlDNjQ0LjI4NiAyNi40MDggNjQ1LjI1NiAyNy4yOTQgNjQ2LjcyIDI3LjI5NEM2NDcuMzM3IDI3LjI5NCA2NDcuODg2IDI3LjE2MjMgNjQ5LjAxNiAyNi43NjhMNjQ5LjAxNiAyOC40ODQxWk02NzEuMzIgMjQuMjA5QzY3MS40MjUgMjMuMTU0OCA2NzIuMDgxIDIyLjU0NTcgNjczLjA4NyAyMi41NDU3QzY3NC4wNzYgMjIuNTQ1NyA2NzQuNzQ2IDIzLjE3MjEgNjc0Ljg1MiAyNC4yMDlINjcxLjMyWk02NzIuOTEgMjEuMTIyOUM2NzAuNCAyMS4xMjI5IDY2OC42MTQgMjIuNzc1NSA2NjguNjE0IDI1LjEwMTJDNjY4LjYxNCAyNy40NDQxIDY3MC40NzEgMjguOTk1NCA2NzMuMzM1IDI4Ljk5NTRDNjczLjk3IDI4Ljk5NTQgNjc1LjUwNCAyOC45OTU0IDY3Ni45NjYgMjcuOTg3VjI2LjUwNDJDNjc1Ljc2OSAyNy4yOTkzIDY3NC45NzcgMjcuNTczMSA2NzMuOTU1IDI3LjU3MzFDNjcyLjM0MSAyNy41NzMxIDY3MS4zNTQgMjYuNzk0OSA2NzEuMjY1IDI1LjQ2NjZINjc3LjExQzY3Ny4yMzIgMjIuNjkzOSA2NzUuMjc5IDIxLjEyMjkgNjcyLjkxIDIxLjEyMjlWMjEuMTIyOVpNNjc4LjA5OSAyOC44NTcySDY4MC42NTRWMjEuMjYyN0g2NzguMDk5VjI4Ljg1NzJaTTY4Ny43NjcgMjYuNzgxNUM2ODcuMjM0IDI3LjIyODEgNjg2Ljc5MiAyNy40MDcyIDY4Ni4yNDYgMjcuNDA3MkM2ODUuMDQzIDI3LjQwNzIgNjg0LjI4MSAyNi40ODM4IDY4NC4yODEgMjUuMTAwNEM2ODQuMjgxIDIzLjU4NDEgNjg1LjA0MyAyMi43MTAxIDY4Ni4zMzEgMjIuNzEwMUM2ODYuNzkyIDIyLjcxMDEgNjg3LjM5NCAyMi45MDggNjg3Ljc2NyAyMy4xNTU5VjI2Ljc4MTVaTTY4Ny43NjcgMTcuNjM5MVYyMS41OTU4QzY4Ny4wNzYgMjEuMjg0NyA2ODYuMzg4IDIxLjEyMDIgNjg1LjY0NCAyMS4xMjAyQzY4My4zMTMgMjEuMTIwMiA2ODEuNyAyMi43MjY2IDY4MS43IDI1LjA1MDdDNjgxLjcgMjcuMzI0OCA2ODMuMzEzIDI4Ljk5NzQgNjg1LjUgMjguOTk3NEM2ODYuMzY3IDI4Ljk5NzQgNjg3LjAzNyAyOC43ODU2IDY4Ny43NjcgMjguMjQzNVYyOC44NTQ5SDY5MC4zMjJWMTcuNjM5MUg2ODcuNzY3Wk02OTQuMTA1IDI0LjIwOUM2OTQuMjExIDIzLjE1NDggNjk0Ljg2NCAyMi41NDU3IDY5NS44NjggMjIuNTQ1N0M2OTYuODU4IDIyLjU0NTcgNjk3LjUzNSAyMy4xNzIxIDY5Ny42NDEgMjQuMjA5SDY5NC4xMDVaTTY5NS42OTQgMjEuMTIyOUM2OTMuMTg0IDIxLjEyMjkgNjkxLjQgMjIuNzc1NSA2OTEuNCAyNS4xMDEyQzY5MS40IDI3LjQ0NDEgNjkzLjI1OSAyOC45OTU0IDY5Ni4xMTkgMjguOTk1NEM2OTYuNzUzIDI4Ljk5NTQgNjk4LjI5IDI4Ljk5NTQgNjk5Ljc1NSAyNy45ODdWMjYuNTA0MkM2OTguNTU3IDI3LjI5OTMgNjk3Ljc2MyAyNy41NzMxIDY5Ni43MzYgMjcuNTczMUM2OTUuMTMxIDI3LjU3MzEgNjk0LjE0IDI2Ljc5NDkgNjk0LjA1MSAyNS40NjY2SDY5OS44OTRDNzAwLjAxNSAyMi42OTM5IDY5OC4wNjEgMjEuMTIyOSA2OTUuNjk0IDIxLjEyMjkiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik03MDMuNzIxIDIzLjQzNjhINzAzLjc1OEM3MDQuNTE3IDIxLjg1NjIgNzA1LjM2NiAyMS4xMTUgNzA2LjM1MiAyMS4xMTVDNzA2Ljg2MiAyMS4xMTUgNzA3LjMwMyAyMS4yOTY0IDcwOC4wNDQgMjEuODA3Nkw3MDcuMzQxIDIzLjkxMzNDNzA2LjY3IDIzLjUxODYgNzA2LjIyOSAyMy4zNTM1IDcwNS44MjMgMjMuMzUzNUM3MDQuODg2IDIzLjM1MzUgNzA0LjI4NiAyNC4xNzc1IDcwMy43MjEgMjUuNTcwNFYyOC44NDY2SDcwMS4xNjJWMjEuMjU0MUg3MDMuNzIxVjIzLjQzNjhaTTY4MC43NzUgMTguMDY3NEM2ODEuMDE1IDE4LjY1NzUgNjgwLjU4MyAxOS40ODA1IDY3OS44MTQgMTkuOTA0QzY3OS4wNDEgMjAuMzI3MSA2NzguMjI0IDIwLjE5MjggNjc3Ljk4NiAxOS42MDI3QzY3Ny43NDMgMTkuMDExNyA2NzguMTczIDE4LjE4NzcgNjc4Ljk0NSAxNy43NjY2QzY3OS43MTYgMTcuMzQxMSA2ODAuNTMzIDE3LjQ3NTkgNjgwLjc3NSAxOC4wNjc0WiIgZmlsbD0iIzAwOUU0RCIvPg0KPHBhdGggZD0iTTY1OC4yMiAyNC4wMjMxQzY1OC4yMiAyMS45NjUxIDY1Ni43MTkgMjEuMTIyNiA2NTUuMjM5IDIxLjEyMjZDNjU0LjIzMiAyMS4xMjI2IDY1My40MDQgMjEuNTE4NCA2NTIuNjY0IDIyLjM5MjFINjUyLjYyOVYxNy42MzkySDY1MC4wNzFWMjguODM1M0g2NTIuNjI5VjI0LjAyMzFDNjUzLjIyOCAyMy4yMTYxIDY1My43MzggMjIuODcxMSA2NTQuMzM4IDIyLjg3MTFDNjU1LjEzNCAyMi44NzExIDY1NS42NjIgMjMuMzk4NiA2NTUuNjYyIDI0LjUzMjlWMjcuMjAwOEM2NTYuNTIgMjYuNzg5NiA2NTcuMzkzIDI2LjUzNzQgNjU4LjIyIDI2LjQ0MzhWMjQuMDIzMVpNNjY0LjYzNiAyMS4xMTk5QzY2My41OTQgMjEuMTE5OSA2NjIuNzk5IDIxLjQ4MTEgNjYxLjk4NCAyMi4zNDkzVjIxLjI2MjRINjU5LjQyOFYyNi40MjM0QzY2MC4zMTMgMjYuNTA1OCA2NjEuNDQzIDI2Ljg4NDcgNjYxLjk4NCAyNy41MTA0VjIzLjk2MzRDNjYyLjY1NyAyMy4wMjMyIDY2My4xMzQgMjIuNzA5NyA2NjMuNzcgMjIuNzA5N0M2NjQuNDk0IDIyLjcwOTcgNjY1LjA0NSAyMy4xNTU2IDY2NS4wNDUgMjQuMjI2NFYyOC44MzcySDY2Ny42MDJWMjQuMDI4OUM2NjcuNjAyIDIxLjc5MjYgNjY1LjkwOCAyMS4xMTk5IDY2NC42MzYgMjEuMTE5OVYyMS4xMTk5Wk02NjkuMDE1IDMxLjAxODFINjY2LjA0M1YzMi45ODY0SDY2OC45MDlWMzMuODMxMkg2NjYuMDQzVjM1Ljg2MTlINjY5LjEwM1YzNi43MDU1SDY2NS4wNDZWMzAuMTc1Mkg2NjkuMDE1TDY2OS4wMTUgMzEuMDE4MVpNNjcxLjQ0MiAzNi43MDkzSDY3Mi4zNTJWMzAuMTczM0g2NzEuNDQyVjM2LjcwOTNaTTY3Ni44NTkgMzMuMDQ4NEM2NzcuNTA0IDMzLjA0ODQgNjc3LjkwNCAzMy40NjMxIDY3Ny45MzUgMzQuMTE0Mkg2NzUuNjE2QzY3NS43NDIgMzMuNDM0MiA2NzYuMTYxIDMzLjA0ODQgNjc2Ljg1OSAzMy4wNDg0Wk02NzUuNiAzNC42ODFINjc4Ljg0MkM2NzguODQyIDMzLjA4NjkgNjc4LjA2MiAzMi4zMTggNjc2LjgzOCAzMi4zMThDNjc1LjU2OSAzMi4zMTggNjc0LjY4OCAzMy4xOTI0IDY3NC42ODggMzQuNDk2OUM2NzQuNjg4IDM1LjY4OSA2NzUuNDg0IDM2Ljc4OTggNjc2LjkxNyAzNi43ODk4QzY3Ny42OTggMzYuNzg5OCA2NzguMjAzIDM2LjYyODEgNjc4Ljc2MyAzNi4yODJWMzUuNDU2QzY3OC4yMjIgMzUuNzg1NiA2NzcuNjk4IDM1Ljk3NTggNjc3LjE0NyAzNS45NzU4QzY3Ni4yNjUgMzUuOTc1OCA2NzUuNzQyIDM1LjUzNSA2NzUuNiAzNC42ODA2VjM0LjY4MVpNNjg0Ljc4NiAzMy41MzA5QzY4NC4yNjMgMzMuMTk2NiA2ODMuOTE0IDMzLjA5ODUgNjgzLjUxNSAzMy4wOTg1QzY4Mi42ODIgMzMuMDk4NSA2ODIuMTA1IDMzLjY5NDUgNjgyLjEwNSAzNC41NjdDNjgyLjEwNSAzNS40NTYgNjgyLjcxOSAzNS45OTE2IDY4My42NjggMzUuOTkxNkM2ODQuMDU4IDM1Ljk5MTYgNjg0LjQzIDM1Ljg5NzMgNjg0Ljg4OCAzNS43MDU5VjM2LjU0MjZDNjg0LjU4MiAzNi42Nzc0IDY4My45OTcgMzYuNzg5OCA2ODMuNTE1IDM2Ljc4OThDNjgyLjEzNiAzNi43ODk4IDY4MS4xOCAzNS45MDYyIDY4MS4xOCAzNC42NDMyQzY4MS4xOCAzMy4yMTc4IDY4Mi4wNTQgMzIuMzE4IDY4My40NTMgMzIuMzE4QzY4My45ODcgMzIuMzE4IDY4NC4zNDYgMzIuNDMzOSA2ODQuNzg3IDMyLjYxNDVMNjg0Ljc4NiAzMy41MzA5Wk02ODguOTM0IDMyLjQwMDRINjkwLjM5NVYzMy4xNjUxSDY4OC45MzRWMzUuMzc1MkM2ODguOTM0IDM1Ljg4MTEgNjg5LjMyNyAzNi4wMjc0IDY4OS41OTMgMzYuMDI3NEM2ODkuOTIyIDM2LjAyNzQgNjkwLjI2MiAzNS45MiA2OTAuNjMgMzUuNzA3OVYzNi41MDM3QzY5MC4zMSAzNi42Njc4IDY4OS44MiAzNi43ODk4IDY4OS41MTkgMzYuNzg5OEM2ODguNTI4IDM2Ljc4OTggNjg4LjAyNyAzNi4yMTYxIDY4OC4wMjcgMzUuNDM5MVYzMy4xNjUxSDY4Ny4yMjRWMzMuMDcwM0w2ODguOTM0IDMxLjUxMDJWMzIuNDAwNFpNNjkzLjg3NiAzMi40MDA0VjMzLjM5NjlINjkzLjg5NUM2OTQuMzU5IDMyLjYzNDUgNjk0LjggMzIuMzE4IDY5NS4yMyAzMi4zMThDNjk1LjYwMSAzMi4zMTggNjk1Ljk0NyAzMi40ODAxIDY5Ni4zMjkgMzIuODE2Nkw2OTUuODQ3IDMzLjU2NDRDNjk1LjU3IDMzLjMwOTEgNjk1LjIxMSAzMy4xMzMxIDY5NC45OTUgMzMuMTMzMUM2OTQuMzY4IDMzLjEzMzEgNjkzLjg3NiAzMy43MjY4IDY5My44NzYgMzQuNDYyNlYzNi43MDkzSDY5Mi45NjdWMzIuNDAwNEg2OTMuODc2Wk03MDUuNjU3IDMzLjUzMDlDNzA1LjEzMSAzMy4xOTY2IDcwNC43ODIgMzMuMDk4NSA3MDQuMzgxIDMzLjA5ODVDNzAzLjU0OSAzMy4wOTg1IDcwMi45NzcgMzMuNjk0NSA3MDIuOTc3IDM0LjU2N0M3MDIuOTc3IDM1LjQ1NiA3MDMuNTkyIDM1Ljk5MTYgNzA0LjUzNSAzNS45OTE2QzcwNC45MjUgMzUuOTkxNiA3MDUuMjk1IDM1Ljg5NzMgNzA1Ljc2IDM1LjcwNTlWMzYuNTQyNkM3MDUuNDQ3IDM2LjY3NzQgNzA0Ljg2MiAzNi43ODk4IDcwNC4zOCAzNi43ODk4QzcwMy4wMDQgMzYuNzg5OCA3MDIuMDQ0IDM1LjkwNjIgNzAyLjA0NCAzNC42NDMyQzcwMi4wNDQgMzMuMjE3OCA3MDIuOTIyIDMyLjMxOCA3MDQuMzIgMzIuMzE4QzcwNC44NTUgMzIuMzE4IDcwNS4yMTIgMzIuNDMzOSA3MDUuNjU3IDMyLjYxNDVMNzA1LjY1NyAzMy41MzA5Wk02OTguNzQyIDM2LjcwOTNINjk5LjY1MlYzMi40MDA4SDY5OC43NDJWMzYuNzA5M1oiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik02OTkuNjg0IDMwLjg1MjVDNjk5Ljc3MyAzMS4wNjA0IDY5OS42MTggMzEuMzU0NCA2OTkuMzQ0IDMxLjUwNDFDNjk5LjA2OCAzMS42NTQzIDY5OC43NzYgMzEuNjA2MiA2OTguNjkzIDMxLjM5NzhDNjk4LjYxIDMxLjE4NzQgNjk4Ljc2MSAzMC44OTU4IDY5OS4wMzggMzAuNzQ1NkM2OTkuMzExIDMwLjU5MzUgNjk5LjYwMSAzMC42NDIxIDY5OS42ODQgMzAuODUyNVYzMC44NTI1Wk02NTguOTQgMzEuMjAwOUM2NTguNzc5IDMxLjIwMDkgNjU4LjcxMSAzMS4yMjU1IDY1OC42NDYgMzEuMjkzOEM2NTguNjIgMzEuMzIwMyA2NTguNjEgMzEuMzQ3MiA2NTguNiAzMS40MDExTDY1Ny43ODQgMzQuMjg3QzY1Ny41OTMgMzUuMjk5MiA2NTYuMjU5IDM2LjMwOTkgNjU0LjUyMSAzNi4zMDk5SDY1Mi4xMDRMNjUyLjUyMyAzNC44MjdINjU0LjA3NkM2NTQuMjM0IDM0LjgyNyA2NTQuMzU4IDM0Ljc3MjEgNjU0LjQ2MiAzNC42NjQzQzY1NC41IDM0LjYyMjUgNjU0LjU1IDM0LjU1NyA2NTQuNTU2IDM0LjQ4OTZMNjU1LjIwMSAzMS45NjgxQzY1NS4zOTEgMzAuOTU1NSA2NTYuNTM4IDI5LjgzNjkgNjU4LjI3NiAyOS44MzY5SDY2MC43NTFMNjYwLjQzNSAzMS4yMDA5SDY1OC45NFpNNjU5LjQ5NyAzMi45NTk2TDY1OS43NzMgMzIuMDI1OUg2NjIuMjg4QzY2Mi41OTggMzAuNjcyIDY2Mi4zNTQgMjkuNDE3NyA2NjEuNDczIDI4LjU5NjFDNjU5LjY4OSAyNi45MzMyIDY1NS45NTcgMjcuNDk4MyA2NTMuMTc3IDI5Ljk3NzlDNjUyLjc0MyAzMC4zNjMgNjUyLjM3NiAzMC43NzkzIDY1Mi4wNDIgMzEuMjA0OEg2NTMuNTU2TDY1My4yMDQgMzIuMTQwNEg2NTEuMzk1QzY1MS4yMjIgMzIuNDM1NCA2NTEuMDYgMzIuNzI4MSA2NTAuOTM2IDMzLjAyNUg2NTMuMDgxTDY1Mi43MzcgMzMuOTYwN0g2NTAuNjNDNjUwLjI2OSAzNS4zOTAxIDY1MC40OTkgMzYuNzIzMyA2NTEuNDA2IDM3LjU2OTlDNjUzLjE2NyAzOS4yMTE2IDY1Ni44ODggMzguNjM0NiA2NTkuNjY3IDM2LjE1NTRDNjYwLjE1MyAzNS43MjQyIDY2MC41NTUgMzUuMjU4NyA2NjAuOTE4IDM0Ljc4MDhINjU4Ljk3M0w2NTkuMjY5IDMzLjg0NzFINjYxLjU0M0M2NjEuNzEgMzMuNTUwMSA2NjEuODYzIDMzLjI1NjUgNjYxLjk4MyAzMi45NTk2SDY1OS40OTdaIiBmaWxsPSIjMDA5RTREIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNThfMTExKSI+DQo8cGF0aCBkPSJNNzc1LjA2OCA0MS4yMjc0Qzc2Ni4yODUgNDIuMDQ2MyA3NTcuMTMxIDQwLjc1NjQgNzU1Ljg0OCAzMy44MTlDNzU1LjIyMSAzMC4zOTkgNzU2Ljc2NSAyNi43NzI1IDc1OC44MSAyNC41MTg0VjIzLjMxNDhDNzU1LjEyNiAyNi41OCA3NTMuMTMgMzAuNzExNSA3NTQuMjggMzUuNTkyQzc1NS43NDggNDEuODUxOCA3NjMuNjAzIDQ1LjM5NjcgNzc1LjU5NSA0NC4yMTk1Qzc4MC4zNDIgNDMuNzU0NSA3ODYuNTUgNDIuMjEyIDc5MC44NjkgMzkuODE0NFYzNi40MTA5Qzc4Ni45NDkgMzguNzcxMyA3ODAuNDY4IDQwLjcyMTEgNzc1LjA2OCA0MS4yMjc0VjQxLjIyNzRaTTc5OC4yMDUgMjMuMjMzNUM3OTYuMTIyIDEyLjk1MzMgNzc2LjM3MyAxMi4zMDE2IDc2My42NDMgMjAuMTMzOFYyMC45OTg5Qzc3Ni4zNTkgMTQuMzkxNSA3OTQuMzk1IDE0LjQzMTcgNzk2LjAzNyAyMy45MDE2Qzc5Ni41ODkgMjcuMDM0MiA3OTQuODQzIDMwLjI5NzggNzkxLjcyMyAzMi4xNzdWMzQuNjM0MkM3OTUuNDc2IDMzLjI0MzIgNzk5LjMyNCAyOC43NDQyIDc5OC4yMDUgMjMuMjMzNVYyMy4yMzM1WiIgZmlsbD0iIzBFN0RDMiIvPg0KPHBhdGggZD0iTTc5MC4xNTkgMjEuNzM2OEg3ODcuODU2VjMyLjEwM0M3ODcuODU2IDMzLjMxNzkgNzg4LjQzNyAzNC4zNzQ0IDc5MC4xNTkgMzQuNTQzMlYyMS43MzY4Wk03NjIuNzM5IDI1LjUyMTdINzYwLjQzMkw3NjAuNDMxIDMyLjI5NDNDNzYwLjQzMSAzMy41MTM0IDc2MS4wMTMgMzQuNTY4OCA3NjIuNzM5IDM0LjczNDRWMjUuNTIxN1YyNS41MjE3Wk03NjAuNDMyIDIyLjA1MjFINzYyLjczMlYyNC4yNTg0SDc2MC40MzJWMjIuMDUyMVpNNzc2LjUzIDM0LjYyNzJDNzc0LjY2NiAzNC42MjcyIDc3My44NzcgMzMuMzE3NyA3NzMuODc3IDMyLjAyOFYyMy4wMzU1SDc3Ni4xNlYyNS41MjE3SDc3Ny44NzlWMjcuMzg1M0g3NzYuMTZWMzEuODg1NEM3NzYuMTYgMzIuNDExMyA3NzYuNDA3IDMyLjcwNDQgNzc2Ljk1IDMyLjcwNDRINzc3Ljg3OVYzNC42MjcyTDc3Ni41MyAzNC42MjcyVjM0LjYyNzJaTTc4MC43MzEgMzAuNzk2MUM3ODAuNzMxIDMxLjk3NjggNzgxLjQ2MSAzMi44NDQ2IDc4Mi43NTQgMzIuODQ0NkM3ODMuNzY2IDMyLjg0NDYgNzg0LjI2NiAzMi41NjA1IDc4NC44NSAzMS45NzY4TDc4Ni4yNjEgMzMuMzM0OUM3ODUuMzU3IDM0LjIzNzkgNzg0LjQwOSAzNC43ODcgNzgyLjczNyAzNC43ODdDNzgwLjU1MiAzNC43ODcgNzc4LjQ1OSAzMy41ODE5IDc3OC40NTkgMzAuMDY4NkM3NzguNDU5IDI3LjA2NTEgNzgwLjI4OCAyNS4zNjczIDc4Mi42ODYgMjUuMzY3M0M3ODUuMTI0IDI1LjM2NzMgNzg2LjUyNSAyNy4zNTQ5IDc4Ni41MjUgMjkuOTYzOVYzMC43OTYzSDc4MC43MzFWMzAuNzk2MVpNNzgyLjU4NiAyNy4yNzU2Qzc4MS44MDUgMjcuMjc1NiA3ODEuMjA0IDI3LjY4MjMgNzgwLjk1IDI4LjIzMDlDNzgwLjgwMiAyOC41NjA3IDc4MC43NDcgMjguODE3NyA3ODAuNzMxIDI5LjIyMjlINzg0LjI0OUM3ODQuMjA0IDI4LjIzMDkgNzgzLjc1OSAyNy4yNzU2IDc4Mi41ODYgMjcuMjc1NlpNNzY4LjkzOSAyNy4zODUzQzc2OS42MDggMjcuMzg1MyA3NjkuODg3IDI3LjcxOTggNzY5Ljg4NyAyOC4yNjI2VjM0LjY0MDZINzcyLjE3VjI4LjI0OTJDNzcyLjE3IDI2Ljk1NDIgNzcxLjQ4NyAyNS41MjQxIDc2OS40ODIgMjUuNTI0MUw3NjQuNzY2IDI1LjUyMTdWMzQuNjQwNkg3NjcuMDVWMjcuMzg1M0g3NjguOTM5VjI3LjM4NTNaTTc5Mi42MzcgMjMuNTg5MUM3OTIuMTI5IDIzLjU4OTEgNzkxLjcyNCAyMy4xNzU0IDc5MS43MjQgMjIuNjYyOUM3OTEuNzI0IDIyLjE1MjkgNzkyLjEyOSAyMS43MzY4IDc5Mi42MzcgMjEuNzM2OEM3OTMuMTQyIDIxLjczNjggNzkzLjU1NiAyMi4xNTI5IDc5My41NTYgMjIuNjYyOUM3OTMuNTU2IDIzLjE3NTQgNzkzLjE0MiAyMy41ODkxIDc5Mi42MzcgMjMuNTg5MVpNNzkyLjYzNyAyMS44OTEyQzc5Mi4yMTggMjEuODkxMiA3OTEuODgyIDIyLjI0MDcgNzkxLjg4MiAyMi42NjI5Qzc5MS44ODIgMjMuMDg3NiA3OTIuMjE4IDIzLjQzMDkgNzkyLjYzNyAyMy40MzA5Qzc5My4wNTUgMjMuNDMwOSA3OTMuNDAyIDIzLjA4NzYgNzkzLjQwMiAyMi42NjI5Qzc5My40MDIgMjIuMjQwNyA3OTMuMDU1IDIxLjg5MTIgNzkyLjYzNyAyMS44OTEyWk03OTMuMDQzIDIzLjIxOEg3OTIuODcyQzc5Mi44NjQgMjMuMjE3OSA3OTIuODU3IDIzLjIxNTcgNzkyLjg1MSAyMy4yMTE2Qzc5Mi44NDUgMjMuMjA3NSA3OTIuODQgMjMuMjAxNyA3OTIuODM3IDIzLjE5NDlMNzkyLjYwNSAyMi43OTdDNzkyLjU5OCAyMi43ODg1IDc5Mi41NzkgMjIuNzc4OCA3OTIuNTczIDIyLjc3ODhINzkyLjQ2N1YyMy4xNzU0Qzc5Mi40NjcgMjMuMTk1IDc5Mi40NTMgMjMuMjE4MSA3OTIuNDI4IDIzLjIxODFINzkyLjI3NEM3OTIuMjUxIDIzLjIxODEgNzkyLjIzNSAyMy4xOTUgNzkyLjIzNSAyMy4xNzU0VjIyLjE3NDlDNzkyLjIzNSAyMi4xMTY0IDc5Mi4yNTQgMjIuMDkyNCA3OTIuMzA1IDIyLjA4NUM3OTIuMzYxIDIyLjA3OSA3OTIuNTA1IDIyLjA3MTYgNzkyLjU4NiAyMi4wNzE2Qzc5Mi44NzIgMjIuMDcxNiA3OTMuMDM5IDIyLjE1NjYgNzkzLjAzOSAyMi40MjQ0VjIyLjQ0NEM3OTMuMDM5IDIyLjYwOTQgNzkyLjk1OSAyMi42OTk1IDc5Mi44MzMgMjIuNzM5N0w3OTMuMDc0IDIzLjE1NDdDNzkzLjA3OCAyMy4xNjQgNzkzLjA4IDIzLjE3MzkgNzkzLjA4IDIzLjE4NEM3OTMuMDggMjMuMTk5NyA3OTMuMDcyIDIzLjIxOCA3OTMuMDQzIDIzLjIxOFYyMy4yMThaTTc5Mi44MjEgMjIuNDI0NEM3OTIuODIxIDIyLjMxMjcgNzkyLjc1MiAyMi4yNzczIDc5Mi42MDUgMjIuMjc3M0g3OTIuNDU5VjIyLjU5NDdDNzkyLjQ4MiAyMi41OTQ3IDc5Mi41ODYgMjIuNTk5NiA3OTIuNjA1IDIyLjU5OTZDNzkyLjc1MiAyMi41OTk2IDc5Mi44MjEgMjIuNTUgNzkyLjgyMSAyMi40NDRWMjIuNDI0NFoiIGZpbGw9IiMwRTdEQzIiLz4NCjwvZz4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMV81OF8xMTEpIj4NCjxwYXRoIGQ9Ik01MzMuNzczIDIwLjk5MTFDNTI5LjI2MyAyMC45OTExIDUyNS41OTkgMjQuNjU0NyA1MjUuNTk5IDI5LjE2NDRDNTI1LjU5OSAzMy42NzQxIDUyOS4yNjMgMzcuMzM3NyA1MzMuNzczIDM3LjMzNzdDNTM4LjI4MiAzNy4zMzc3IDU0MS45NDYgMzMuNjc0MSA1NDEuOTQ2IDI5LjE2NDRDNTQxLjk0NiAyNC42NTQ3IDUzOC4yODIgMjAuOTkxMSA1MzMuNzczIDIwLjk5MTFaTTUzMy43NzMgMzYuNTE4NkM1MjkuNzEzIDM2LjUxODYgNTI2LjQxOSAzMy4yMTUgNTI2LjQxOSAyOS4xNjQ0QzUyNi40MTkgMjUuMTEzNyA1MjkuNzEzIDIxLjgxMDIgNTMzLjc3MyAyMS44MTAyQzUzNy44MzIgMjEuODEwMiA1NDEuMTI3IDI1LjExMzcgNTQxLjEyNyAyOS4xNjQ0QzU0MS4xMjcgMzMuMjE1IDUzNy44MzIgMzYuNTE4NiA1MzMuNzczIDM2LjUxODZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTUzNi42OSAyMy45MjUyQzUzNi42NjMgMjMuOTA3MiA1MzYuNjI3IDIzLjg5ODIgNTM2LjU5MSAyMy44OTgyQzUzNi40ODMgMjMuODk4MiA1MzYuNDAyIDIzLjk3OTIgNTM2LjQwMiAyNC4wODczVjI2LjY0MzdDNTM2LjQwMiAyNi43MzM3IDUzNi4zMyAyNi44MDU3IDUzNi4yNCAyNi44MDU3SDUzMS4yOUM1MzEuMiAyNi44MDU3IDUzMS4xMzcgMjYuNzMzNyA1MzEuMTI4IDI2LjY0MzdWMjQuMDg3M0M1MzEuMTI4IDI0LjA1MTMgNTMxLjExOSAyNC4wMjQyIDUzMS4xMDEgMjMuOTg4MkM1MzEuMDQ3IDIzLjg5ODIgNTMwLjkzIDIzLjg3MTIgNTMwLjgzOSAyMy45MjUyQzUyOS4wMTIgMjUuMDUwNCA1MjcuOTA1IDI3LjAwMzcgNTI3LjkwNSAyOS4xNjQxQzUyNy45MDUgMzEuMzI0NCA1MjkuMDEyIDMzLjI3NzcgNTMwLjg1NyAzNC40MDI5QzUzMC44ODUgMzQuNDIwOSA1MzAuOTIxIDM0LjQyOTkgNTMwLjk1NyAzNC40Mjk5QzUzMS4wNjUgMzQuNDI5OSA1MzEuMTQ2IDM0LjM0ODkgNTMxLjE0NiAzNC4yNDA5VjMxLjY4NDVDNTMxLjE0NiAzMS41OTQ0IDUzMS4yMTggMzEuNTMxNCA1MzEuMzA4IDMxLjUyMjRINTM2LjI1OEM1MzYuMzQ4IDMxLjUyMjQgNTM2LjQyIDMxLjU5NDQgNTM2LjQyIDMxLjY4NDVWMzQuMjQwOUM1MzYuNDIgMzQuMjc2OSA1MzYuNDI5IDM0LjMwMzkgNTM2LjQ0NyAzNC4zMzk5QzUzNi41MDEgMzQuNDI5OSA1MzYuNjE4IDM0LjQ1NjkgNTM2LjcwOCAzNC40MDI5QzUzOC41NTQgMzMuMjc3NyA1MzkuNjYxIDMxLjMyNDQgNTM5LjY2MSAyOS4xNjQxQzUzOS42NjEgMjcuMDAzNyA1MzguNTM2IDI1LjA1MDQgNTM2LjY5IDIzLjkyNTJWMjMuOTI1MlpNNTMwLjE5MSAzMi4zNjg2TDUzMC4yMTggMzIuNjc0Nkw1MzAuMDIgMzIuNDMxNkM1MjguNDk5IDMwLjUxNDMgNTI4LjQ5OSAyNy44MDQ4IDUzMC4wMiAyNS44ODc1TDUzMC4xOTEgMjUuNjcxNUw1MzAuMjE4IDI1LjY0NDVMNTMwLjE5MSAyNS45NTk2QzUzMC4xNjQgMjYuMjExNiA1MzAuMTU1IDI2LjQ3MjYgNTMwLjE1NSAyNi43MzM3VjMxLjU4NTRDNTMwLjE1NSAzMS44NDY1IDUzMC4xNzMgMzIuMTA3NSA1MzAuMTkxIDMyLjM2ODZaTTUzNi40MDIgMzAuMzg4M0M1MzYuNDAyIDMwLjQ3ODMgNTM2LjMzIDMwLjU1MDMgNTM2LjI0IDMwLjU1MDNINTMxLjI5QzUzMS4yIDMwLjU1MDMgNTMxLjEzNyAzMC40NzgzIDUzMS4xMjggMzAuMzg4M1YyNy45Mzk5QzUzMS4xMjggMjcuODQ5OSA1MzEuMiAyNy43Nzc4IDUzMS4yOSAyNy43Nzc4SDUzNi4yNEM1MzYuMzMgMjcuNzc3OCA1MzYuNDAyIDI3Ljg0OTkgNTM2LjQwMiAyNy45Mzk5VjMwLjM4ODNaTTUzNy41MTkgMzIuNDMxNkw1MzcuMzIxIDMyLjY3NDZMNTM3LjM0OCAzMi4zNjg2QzUzNy4zNzUgMzIuMTE2NSA1MzcuMzg0IDMxLjg1NTUgNTM3LjM4NCAzMS41OTQ0VjI2LjczMzdDNTM3LjM4NCAyNi40NzI2IDUzNy4zNzUgMjYuMjExNiA1MzcuMzQ4IDI1Ljk1OTZMNTM3LjMzOSAyNS44MjQ1TDUzNy4zMyAyNS42ODA1VjI1LjY0NDVMNTM3LjUxOSAyNS44ODc1QzUzOC4yNTcgMjYuODA1NyA1MzguNjYyIDI3Ljk3NTkgNTM4LjY2MiAyOS4xNTUxQzUzOC42NjIgMzAuMzM0MiA1MzguMjU3IDMxLjUxMzQgNTM3LjUxOSAzMi40MzE2VjMyLjQzMTZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTU1NC4yNzYgMjkuMDIwMkM1NTQuMjMxIDI5LjAwMjIgNTU0LjE3NyAyOC45ODQyIDU1NC4xNzcgMjguOTMwMkM1NTQuMTc3IDI4Ljg5NDIgNTU0LjE5NSAyOC44NjcyIDU1NC4yMzEgMjguODQ5MkM1NTQuMjk0IDI4LjgyMjIgNTU1Ljg1MSAyOC4yNjQxIDU1NS44NTEgMjYuNDI3OEM1NTUuODUxIDI0LjM4NDUgNTU0LjQ3NCAyMy4xNjkzIDU1Mi4xNTIgMjMuMTY5M0g1NDYuNTI2VjM1LjE3NzJINTUyLjY2NUM1NTQuNDU2IDM1LjE3NzIgNTU2LjM4MiAzMy45MDggNTU2LjM4MiAzMS44NjQ2QzU1Ni4zODIgMjkuOTExMyA1NTQuOTA2IDI5LjIyNzIgNTU0LjI3NiAyOS4wMjAyVjI5LjAyMDJaTTU0OS4zNjEgMjUuNjI2N0M1NDkuMzYxIDI1LjU4MTcgNTQ5LjM5NyAyNS41NDU2IDU0OS40NDIgMjUuNTQ1Nkg1NTEuNjc1QzU1Mi40MTMgMjUuNTQ1NiA1NTIuOTE3IDI2LjA0MDcgNTUyLjkxNyAyNi43Nzg4QzU1Mi45MTcgMjcuMzU0OSA1NTIuNDY3IDI3Ljk3NiA1NTEuNjIxIDI3Ljk3Nkg1NDkuNDQyQzU0OS4zOTcgMjcuOTc2IDU0OS4zNjEgMjcuOTQgNTQ5LjM2MSAyNy44OTVWMjUuNjI2N1pNNTUxLjY3NSAzMi44MDk4SDU0OS40NDJDNTQ5LjM5NyAzMi44MDk4IDU0OS4zNjEgMzIuNzczOCA1NDkuMzYxIDMyLjcyODhWMzAuMzM0NEM1NDkuMzYxIDMwLjI4OTQgNTQ5LjM5NyAzMC4yNTM0IDU0OS40NDIgMzAuMjUzNEg1NTEuNjIxQzU1Mi42OTIgMzAuMjUzNCA1NTMuMzA0IDMwLjcxMjUgNTUzLjMwNCAzMS41MjI2QzU1My4zMDQgMzIuMzU5NyA1NTIuNzM3IDMyLjgwOTggNTUxLjY3NSAzMi44MDk4VjMyLjgwOThaTTU3NS4zODQgMjcuOTQ5TDU3NC45NTIgMjcuODU5QzU3My45OCAyNy42NTIgNTczLjAzNSAyNy4zOTA5IDU3My4wMzUgMjYuNTUzOEM1NzMuMDM1IDI1LjcxNjcgNTczLjgxOCAyNS4zMzg2IDU3NC41OTIgMjUuMzM4NkM1NzUuNTAxIDI1LjMzODYgNTc2LjQwMSAyNS43NDM3IDU3Ny4wODYgMjYuNDQ1OEw1NzguODY4IDI0LjY4MTVDNTc4LjEwMyAyMy44MzU0IDU3Ni43NDQgMjIuODYzMiA1NzQuNTQ3IDIyLjg2MzJDNTcxLjkwMSAyMi44NjMyIDU3MC4xMTggMjQuMzY2NSA1NzAuMTE4IDI2LjYwNzhDNTcwLjExOCAyOC45NzUyIDU3MS45ODIgMjkuODY2MyA1NzMuNTQ4IDMwLjE5OTRMNTczLjk3MSAzMC4yODk0QzU3NS40OTIgMzAuNjEzNSA1NzYuMjEyIDMwLjg1NjUgNTc2LjIxMiAzMS43MjA2QzU3Ni4yMTIgMzIuNDk0NyA1NzUuNTE5IDMzLjAwNzggNTc0LjQ5MyAzMy4wMDc4QzU3My4yODcgMzMuMDA3OCA1NzIuMjE2IDMyLjQ3NjcgNTcxLjQwNiAzMS40Nzc2TDU2OS41NzggMzMuMjY4OUM1NzAuNTUxIDM0LjQyMTEgNTcxLjgzOCAzNS40NjUyIDU3NC41MjkgMzUuNDY1MkM1NzYuODI1IDM1LjQ2NTIgNTc5LjE1NiAzNC4xMzMgNTc5LjE1NiAzMS41NzY2QzU3OS4xNDcgMjguOTU3MiA1NzcuMzY1IDI4LjM2MzEgNTc1LjM4NCAyNy45NDlWMjcuOTQ5Wk01OTkuMTAzIDIzLjE2OTNWMjcuNTYyQzU5OS4xMDMgMjcuNjA3IDU5OS4wNjcgMjcuNjQzIDU5OS4wMjIgMjcuNjQzSDU5NS4zMzFDNTk1LjI4NiAyNy42NDMgNTk1LjI1IDI3LjYwNyA1OTUuMjUgMjcuNTYyVjIzLjE2OTNINTkyLjIyNlYzNS4xNzcySDU5NS4yNVYzMC40NjA0QzU5NS4yNSAzMC40MTU0IDU5NS4yODYgMzAuMzc5NCA1OTUuMzMxIDMwLjM3OTRINTk5LjAyMkM1OTkuMDY3IDMwLjM3OTQgNTk5LjEwMyAzMC40MTU0IDU5OS4xMDMgMzAuNDYwNFYzNS4xNzcySDYwMi4xNDZWMjMuMTY5M0g1OTkuMTAzWk01ODYuMTQxIDMyLjcxOThDNTg0Ljc4MiAzMi43MTk4IDU4My4zMTUgMzEuNTg1NiA1ODMuMzE1IDI5LjA5MjJDNTgzLjMxNSAyNi44MTQ4IDU4NC42OTIgMjUuNjI2NyA1ODYuMDUxIDI1LjYyNjdDNTg3LjA0MSAyNS42MjY3IDU4Ny43MzQgMjYuMDQwNyA1ODguMjgzIDI2Ljk1ODlMNTkwLjYwNiAyNS40MTk2QzU4OS40MTggMjMuNjczMyA1ODguMDA0IDIyLjg4MTIgNTg2LjAzMyAyMi44ODEyQzU4Mi4xNzEgMjIuODgxMiA1ODAuNDQzIDI2LjAwNDcgNTgwLjQ0MyAyOS4wOTIyQzU4MC40NDMgMzIuODQ1OCA1ODIuNzI5IDM1LjQ2NTIgNTg1Ljk5NyAzNS40NjUyQzU4OC40MjcgMzUuNDY1MiA1ODkuNTM1IDM0LjU3NDEgNTkwLjY5NiAzMi45MjY4TDU4OC4zNTUgMzEuMzUxNkM1ODcuODMzIDMyLjE5NzcgNTg3LjI2NiAzMi43MTk4IDU4Ni4xNDEgMzIuNzE5OFpNNTYzLjE3OCAyMi44NjMyQzU1OS44NzUgMjIuODYzMiA1NTcuNjYxIDI1LjM5MjYgNTU3LjY2MSAyOS4xNjQyQzU1Ny42NjEgMzIuOTM1OCA1NTkuODc1IDM1LjQ2NTIgNTYzLjE3OCAzNS40NjUyQzU2Ni40ODIgMzUuNDY1MiA1NjguNjk2IDMyLjkzNTggNTY4LjY5NiAyOS4xNjQyQzU2OC42OTYgMjUuMzkyNiA1NjYuNDgyIDIyLjg2MzIgNTYzLjE3OCAyMi44NjMyVjIyLjg2MzJaTTU2My4xNzggMzIuNzE5OEM1NjEuNTU4IDMyLjcxOTggNTYwLjUxNCAzMS4zMjQ2IDU2MC41MTQgMjkuMTY0MkM1NjAuNTE0IDI3LjAxMjkgNTYxLjU1OCAyNS42MjY3IDU2My4xNzggMjUuNjI2N0M1NjQuODA4IDI1LjYyNjcgNTY1Ljg2MSAyNy4wMTI5IDU2NS44NjEgMjkuMTY0MkM1NjUuODYxIDMxLjMyNDYgNTY0LjgwOCAzMi43MTk4IDU2My4xNzggMzIuNzE5OFoiIGZpbGw9IiNGODAwMDAiLz4NCjwvZz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTQ2LjM0NCAyMi4xODExQzE0Ny41OTUgMjIuMjg1NCAxNDguODQ1IDIxLjU1NTMgMTQ5LjYyNyAyMC42Mjk4QzE1MC4zOTUgMTkuNjc4MSAxNTAuOTAzIDE4LjQwMDUgMTUwLjc3MyAxNy4wOTY5QzE0OS42NjYgMTcuMTQ5MSAxNDguMjk4IDE3LjgyNjkgMTQ3LjUxNyAxOC43Nzg2QzE0Ni44IDE5LjU5OTkgMTQ2LjE4OCAyMC45Mjk2IDE0Ni4zNDQgMjIuMTgxMVpNMTQ3Ljg0MSAyMy4wNzk3QzE0OC42NTMgMjIuNzYwNiAxNDkuNjU4IDIyLjM2NTYgMTUwLjc2IDIyLjQyOTFDMTUxLjQ2MyAyMi40ODEyIDE1My40OTUgMjIuNjg5OCAxNTQuNzk4IDI0LjYxOTJDMTU0Ljc5MiAyNC42MjM3IDE1NC43NzggMjQuNjMyMyAxNTQuNzU5IDI0LjY0NUMxNTQuNDM2IDI0Ljg1NDggMTUyLjM5IDI2LjE4NzEgMTUyLjQxNCAyOC44MTY5QzE1Mi40MzkgMzEuOTQ5OSAxNTQuOTg4IDMzLjExODMgMTU1LjMyMiAzMy4yNzExQzE1NS4zNDQgMzMuMjgxMSAxNTUuMzU2IDMzLjI4NjcgMTU1LjM1OCAzMy4yODgzQzE1NS4zNTYgMzMuMjkyNiAxNTUuMzU0IDMzLjMwMSAxNTUuMzUgMzMuMzEzM0MxNTUuMjgzIDMzLjUyODggMTU0Ljg0NSAzNC45NDg5IDE1My44NDcgMzYuNDA0QzE1Mi45MjIgMzcuNzU5OCAxNTEuOTcxIDM5LjA4OTUgMTUwLjQ2IDM5LjExNTZDMTQ5Ljc0OSAzOS4xMjgzIDE0OS4yNyAzOC45MjExIDE0OC43NzIgMzguNzA1NEMxNDguMjQ3IDM4LjQ3ODUgMTQ3LjcwMSAzOC4yNDIyIDE0Ni44NCAzOC4yNDIyQzE0NS45NDcgMzguMjQyMiAxNDUuMzc2IDM4LjQ4NDggMTQ0LjgyNiAzOC43MTg0QzE0NC4zNDggMzguOTIxNCAxNDMuODg3IDM5LjExNzQgMTQzLjI0NSAzOS4xNDE3QzE0MS43ODYgMzkuMTkzOCAxNDAuNjc5IDM3LjcwNzcgMTM5Ljc1NCAzNi4zNTE5QzEzNy44NjYgMzMuNjE0MyAxMzYuNDIgMjguNjM0NCAxMzguMzc0IDI1LjI3MUMxMzkuMzI1IDIzLjU4OTMgMTQxLjA1NyAyMi41MzM0IDE0Mi45MTkgMjIuNTA3M0MxNDMuNzMyIDIyLjQ5MjUgMTQ0LjUwNyAyMi44MDA2IDE0NS4xODQgMjMuMDcwMUMxNDUuNzAyIDIzLjI3NTggMTQ2LjE2MiAyMy40NTg5IDE0Ni41NCAyMy40NTg5QzE0Ni44NzcgMjMuNDU4OSAxNDcuMzE5IDIzLjI4NTEgMTQ3Ljg0MSAyMy4wNzk3WiIgZmlsbD0iYmxhY2siLz4NCjxwYXRoIGQ9Ik0zNi44NTg3IDM3LjUyNDFIMzEuOTg3NEwzNS4wMzQyIDE5LjY2NjhIMzkuOTA1MkwzNi44NTg3IDM3LjUyNDFaIiBmaWxsPSIjMDA1NzlGIi8+DQo8cGF0aCBkPSJNNTQuNTE1NyAyMC4xMDQxQzUzLjU1NDkgMTkuNzQyOCA1Mi4wMzA5IDE5LjM0MzggNTAuMTQ2NiAxOS4zNDM4QzQ1LjMzNjEgMTkuMzQzOCA0MS45NDg2IDIxLjc3NTMgNDEuOTI3OCAyNS4yNTE2QzQxLjg4NzggMjcuODE2NSA0NC4zNTMxIDI5LjI0MSA0Ni4xOTcgMzAuMDk2MkM0OC4wODE2IDMwLjk3MDEgNDguNzIyMyAzMS41NDA1IDQ4LjcyMjMgMzIuMzE5NEM0OC43MDMxIDMzLjUxNTcgNDcuMTk5NCAzNC4wNjcyIDQ1Ljc5NjkgMzQuMDY3MkM0My44NTIxIDM0LjA2NzIgNDIuODEgMzMuNzgyOSA0MS4yMjY0IDMzLjExNzNMNDAuNTg1IDMyLjgzMkwzOS45MDMzIDM2Ljg0MDZDNDEuMDQ1OCAzNy4zMzM5IDQzLjE1MDcgMzcuNzcxNyA0NS4zMzYxIDM3Ljc5MDlDNTAuNDQ3MyAzNy43OTA5IDUzLjc3NDkgMzUuMzk3MSA1My44MTQzIDMxLjY5MjVDNTMuODMzOCAyOS42NTk3IDUyLjUzMiAyOC4xMDIgNDkuNzI1NCAyNi44MjkyQzQ4LjAyMTcgMjYuMDEyMSA0Ni45NzgzIDI1LjQ2MTIgNDYuOTc4MyAyNC42MjUyQzQ2Ljk5ODMgMjMuODY1MiA0Ny44NjA4IDIzLjA4NjggNDkuNzg0IDIzLjA4NjhDNTEuMzY3NyAyMy4wNDg2IDUyLjUzMTIgMjMuNDA5NCA1My40MTI2IDIzLjc3MDVMNTMuODUzMiAyMy45NjAxTDU0LjUxNTcgMjAuMTA0MVoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik02MC45OTI0IDMxLjE5NzlDNjEuMzkzNiAzMC4xNzIgNjIuOTM3MiAyNi4yMDE2IDYyLjkzNzIgMjYuMjAxNkM2Mi45MTcgMjYuMjM5NyA2My4zMzc2IDI1LjE1NjggNjMuNTc4MSAyNC40OTE5TDYzLjkxODYgMjYuMDMwNkM2My45MTg2IDI2LjAzMDYgNjQuODQxIDMwLjMwNTEgNjUuMDQxNCAzMS4xOTc5QzY0LjI4IDMxLjE5NzkgNjEuOTU0NiAzMS4xOTc5IDYwLjk5MjQgMzEuMTk3OVpNNjcuMDA1NCAxOS42NjY4SDYzLjIzNzRDNjIuMDc1NSAxOS42NjY4IDYxLjE5MjcgMTkuOTg5NSA2MC42OTE0IDIxLjE0ODRMNTMuNDU1OCAzNy41MjM5SDU4LjU2NzFDNTguNTY3MSAzNy41MjM5IDU5LjQwODUgMzUuMzE5OSA1OS41ODk0IDM0Ljg0NTJDNjAuMTUwMSAzNC44NDUyIDY1LjEyMjMgMzQuODQ1MiA2NS44NDM3IDM0Ljg0NTJDNjUuOTgzNSAzNS40NzIxIDY2LjQyNDkgMzcuNTIzOSA2Ni40MjQ5IDM3LjUyMzlINzAuOTM1Mkw2Ny4wMDU0IDE5LjY2NjhWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0yNy45MTggMTkuNjY2OEwyMy4xNDc1IDMxLjg0MzhMMjIuNjI2MiAyOS4zNzQxQzIxLjc0NDIgMjYuNTI0NSAxOC45NzgxIDIzLjQyODQgMTUuODkxNCAyMS44ODlMMjAuMjYxIDM3LjUwNTJIMjUuNDEyMkwzMy4wNjkgMTkuNjY2OEgyNy45MThWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0xOC43MTg0IDE5LjY2NjhIMTAuODgxMUwxMC44MDA5IDIwLjAyNzZDMTYuOTE0NSAyMS41MDk1IDIwLjk2MzUgMjUuMDgxNSAyMi42MjcgMjkuMzc0OUwyMC45MjMyIDIxLjE2NzlDMjAuNjQyNyAyMC4wMjc0IDE5Ljc4MDcgMTkuNzA0NCAxOC43MTg0IDE5LjY2NjhaIiBmaWxsPSIjRkFBNjFBIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDJfNThfMTExKSI+DQo8cGF0aCBkPSJNMjIxLjE1OCAxNy40OTlWMTguOTM1NkgyMzEuMzA2VjE3LjQ5OUgyMjEuMTU4Wk0yMzIuNzQ0IDE3LjQ5OVYxOC45MzU2SDI0Ny4yMDZDMjQ3LjIwNiAxOC45MzU2IDI0NS43MjkgMTcuNDk5IDI0My43NzMgMTcuNDk5SDIzMi43NDRaTTI1MC4wNDMgMTcuNDk5VjE4LjkzNTZIMjU4Ljc5M0wyNTguMjczIDE3LjQ5OUgyNTAuMDQzWk0yNjUuMDY1IDE3LjQ5OUwyNjQuNTQ2IDE4LjkzNTZIMjczLjIxNlYxNy40OTlIMjY1LjA2NVpNMjIxLjE1OCAyMC4yOTI5VjIxLjcyOTZIMjMxLjMwNlYyMC4yOTI5SDIyMS4xNThaTTIzMi43NDQgMjAuMjk1VjIxLjcyOTdIMjQ4Ljg4NEMyNDguODg0IDIxLjcyOTcgMjQ4LjY5NiAyMC42MjM5IDI0OC4zNjcgMjAuMjk1SDIzMi43NDRaTTI1MC4wNDMgMjAuMjk1VjIxLjcyOTdIMjU5Ljc1MkwyNTkuMjcxIDIwLjI5NUgyNTAuMDQzWk0yNjQuMDI3IDIwLjI5NUwyNjMuNTQ2IDIxLjcyOTdIMjczLjIxNlYyMC4yOTVIMjY0LjAyN1YyMC4yOTVaTTIyNC4wNzQgMjMuMDg2OVYyNC41MjU3SDIyOC40NjlWMjMuMDg2OUgyMjQuMDc0VjIzLjA4NjlaTTIzNS42NjEgMjMuMDg2OVYyNC41MjU3SDI0MC4wNTZWMjMuMDg2OUgyMzUuNjYxVjIzLjA4NjlaTTI0NC4zMzEgMjMuMDg2OVYyNC41MjU3SDI0OC43MjZDMjQ4LjcyNiAyNC41MjU3IDI0OS4wMDUgMjMuNzY1OSAyNDkuMDA1IDIzLjA4NjlIMjQ0LjMzMVYyMy4wODY5Wk0yNTIuOTYgMjMuMDg2OVYyNC41MjU3SDI2MC43NTJMMjYwLjIzMiAyMy4wODY5SDI1Mi45NlYyMy4wODY5Wk0yNjMuMDY5IDIzLjA4NjlMMjYyLjU0OCAyNC41MjU3SDI3MC4zNzlWMjMuMDg2OUgyNjMuMDY5VjIzLjA4NjlaTTIyNC4wNzQgMjUuODgzVjI3LjMxOTdIMjI4LjQ2OVYyNS44ODNIMjI0LjA3NFYyNS44ODNaTTIzNS42NjEgMjUuODgzVjI3LjMxOTdIMjQ2Ljg4N0MyNDYuODg3IDI3LjMxOTcgMjQ3LjgyNiAyNi41ODI1IDI0OC4xMjUgMjUuODgzSDIzNS42NjFaTTI1Mi45NiAyNS44ODNWMjcuMzE5N0gyNTcuMzU1VjI2LjUyTDI1Ny42MzQgMjcuMzE5N0gyNjUuNjg0TDI2NS45ODQgMjYuNTJWMjcuMzE5N0gyNzAuMzc5VjI1Ljg4M0gyNjIuMTI5TDI2MS42OTEgMjcuMDk5OUwyNjEuMjUxIDI1Ljg4M0gyNTIuOTZaTTIyNC4wNzQgMjguNjc3VjMwLjExMzdIMjI4LjQ2OVYyOC42NzdIMjI0LjA3NFpNMjM1LjY2MSAyOC42NzdWMzAuMTEzN0gyNDguMTI1QzI0Ny44MjYgMjkuNDE2NSAyNDYuODg3IDI4LjY3NyAyNDYuODg3IDI4LjY3N0gyMzUuNjYxWk0yNTIuOTYgMjguNjc3VjMwLjExMzdIMjU3LjM1NVYyOC42NzdIMjUyLjk2Wk0yNTguMTUzIDI4LjY3N0wyNTguNjg1IDMwLjExMzdIMjY0LjcyMUwyNjUuMjI2IDI4LjY3N0gyNTguMTUzWk0yNjUuOTg0IDI4LjY3N1YzMC4xMTM3SDI3MC4zNzlWMjguNjc3SDI2NS45ODRaTTIyNC4wNzQgMzEuNDcxVjMyLjkwNzZIMjI4LjQ2OVYzMS40NzFIMjI0LjA3NFpNMjM1LjY2MSAzMS40NzFWMzIuOTA3NkgyNDAuMDU2VjMxLjQ3MUgyMzUuNjYxWk0yNDQuMzMxIDMxLjQ3MVYzMi45MDc2SDI0OS4wMDVDMjQ5LjAwNSAzMi4yMjk2IDI0OC43MjYgMzEuNDcxIDI0OC43MjYgMzEuNDcxSDI0NC4zMzFWMzEuNDcxWk0yNTIuOTYgMzEuNDcxVjMyLjkwNzZIMjU3LjM1NVYzMS40NzFIMjUyLjk2Wk0yNTkuMTUxIDMxLjQ3MUwyNTkuNjY2IDMyLjkwNzZIMjYzLjcxM0wyNjQuMjMyIDMxLjQ3MUgyNTkuMTUxWk0yNjUuOTg0IDMxLjQ3MVYzMi45MDc2SDI3MC4zNzlWMzEuNDcxSDI2NS45ODRaTTIyMS4yMzcgMzQuMjY1VjM1LjcwMzdIMjMxLjM4NlYzNC4yNjVIMjIxLjIzN1pNMjMyLjc0NCAzNC4yNjVWMzUuNzAzN0gyNDguMzY3QzI0OC42OTYgMzUuMzc0MyAyNDguODg0IDM0LjI2NSAyNDguODg0IDM0LjI2NUgyMzIuNzQ0VjM0LjI2NVpNMjUwLjEyMyAzNC4yNjVWMzUuNzAzN0gyNTcuMzU1VjM0LjI2NUgyNTAuMTIzWk0yNjAuMTUxIDM0LjI2NUwyNjAuNjggMzUuNzAzN0gyNjIuNzM5TDI2My4yMzYgMzQuMjY1SDI2MC4xNTFaTTI2NS45ODQgMzQuMjY1VjM1LjcwMzdIMjczLjI5NVYzNC4yNjVIMjY1Ljk4NFpNMjIxLjIzNyAzNy4wNjFWMzguNDk3N0gyMzEuMzg2VjM3LjA2MUgyMjEuMjM3Wk0yMzIuNzQ0IDM3LjA2MVYzOC40OTU2SDI0My43NzNDMjQ1LjcyOSAzOC40OTU2IDI0Ny4yMDYgMzcuMDYxIDI0Ny4yMDYgMzcuMDYxSDIzMi43NDRaTTI1MC4xMjMgMzcuMDYxVjM4LjQ5NzdIMjU3LjM1NVYzNy4wNjFIMjUwLjEyM1pNMjYxLjE1NSAzNy4wNjFMMjYxLjY2NCAzOC40OTM2TDI2MS43NTIgMzguNDk1NkwyNjIuMjY5IDM3LjA2MUgyNjEuMTU1VjM3LjA2MVpNMjY1Ljk4NCAzNy4wNjFWMzguNDk3N0gyNzMuMjk1VjM3LjA2MUgyNjUuOTg0WiIgZmlsbD0iIzFGNzBDMSIvPg0KPC9nPg0KPGRlZnM+DQo8Y2xpcFBhdGggaWQ9ImNsaXAwXzU4XzExMSI+DQo8cmVjdCB3aWR0aD0iNDQuNDQ3MyIgaGVpZ2h0PSIyOS42MzE1IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUzLjk1NSAxNC44MTU1KSIvPg0KPC9jbGlwUGF0aD4NCjxjbGlwUGF0aCBpZD0iY2xpcDFfNThfMTExIj4NCjxyZWN0IHdpZHRoPSI3Ni41NDgxIiBoZWlnaHQ9IjE2LjM1MDciIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MjUuNTk5IDIwLjk4ODkpIi8+DQo8L2NsaXBQYXRoPg0KPGNsaXBQYXRoIGlkPSJjbGlwMl81OF8xMTEiPg0KPHJlY3Qgd2lkdGg9IjUyLjEzNzIiIGhlaWdodD0iMjAuOTk4NyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyMS4xNTggMTcuNDk5KSIvPg0KPC9jbGlwUGF0aD4NCjwvZGVmcz4NCjwvc3ZnPg0K" style="\n            width: 742.5px;\n            position: relative;\n            top: 107px;\n            left: 32px;\n            ">\n            <a href='+Er+' style="\n        float: left;\n        border-radius: 56px;\n        background: #0D6EFD;\n        padding-top: 8px;\n        width: 280px;\n        height: 38px;\n        text-align: center;\n        position: relative;\n        top: 127px;\n        left: 274px;\n        font-size: 16px;\n        color: white;\n        text-decoration: none;\n        letter-spacing: 0.02em;\n    ">Claim your FREE account</a>\n            <div style="\n    font-size: 14px;\n    position: relative;\n    top: 180px;\n    left: 19px;\n    letter-spacing: 0.02em;\n    font-weight: 500;\n    line-height: 125%;\n">have a Syncfusion account? <a href="https://www.syncfusion.com/account/login?ReturnUrl=/account/login" style="text-decoration: none;\ncolor: #0D6EFD;\nfont-weight: 500;">Sign In</a></div>\n        </div>\n    </div>';if("undefined"!==typeof document&&!nn(document)){var t=ir("div",{innerHTML:e});document.body.appendChild(t)}}(),Gr=!0),this.render(),this.mount?this.accessMount():this.trigger("created")}},t.prototype.renderComplete=function(e){if(hn()){window.sfBlazor.renderComplete(this.element,e)}this.isRendered=!0},t.prototype.dataBind=function(){this.injectModules(),e.prototype.dataBind.call(this)},t.prototype.on=function(e,t,i){if("string"===typeof e)this.localObserver.on(e,t,i);else for(var n=0,r=e;n<r.length;n++){var s=r[n];this.localObserver.on(s.event,s.handler,s.context)}},t.prototype.off=function(e,t){if("string"===typeof e)this.localObserver.off(e,t);else for(var i=0,n=e;i<n.length;i++){var r=n[i];this.localObserver.off(r.event,r.handler)}},t.prototype.notify=function(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var i=0;i<e.length;i++)-1===this.prototype.injectedModules.indexOf(e[parseInt(i.toString(),10)])&&this.prototype.injectedModules.push(e[parseInt(i.toString(),10)])},t.prototype.createElement=function(e,t,i){return ir(e,t)},t.prototype.triggerStateChange=function(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.detectFunction=function(e){var t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])},t.prototype.mergePersistData=function(){var e;nn(e=Kr?window.localStorage.getItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion):window.localStorage.getItem(this.getModuleName()+this.element.id))||""===e||this.setProperties(JSON.parse(e),!0)},t.prototype.setPersistData=function(){this.isDestroyed||(Kr?window.localStorage.setItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion,this.getPersistData()):window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData()))},t.prototype.renderReactTemplates=function(e){nn(e)||e()},t.prototype.clearTemplate=function(e,t){},t.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(Wr=0),Br=this.pageID(location.href),Yr=history.length,e+"_"+Br+"_"+Wr++},t.prototype.pageID=function(e){var t=0;if(0===e.length)return t;for(var i=0;i<e.length;i++){t=(t<<5)-t+e.charCodeAt(i),t|=0}return Math.abs(t)},t.prototype.isHistoryChanged=function(){return Br!==this.pageID(location.href)||Yr!==history.length},t.prototype.addOnPersist=function(e){for(var t=this,i={},n=0,r=e;n<r.length;n++){var s=r[n],o=Xi(s,this);rn(o)||Ji(s,this.getActualProperties(o),i)}return JSON.stringify(i,(function(e,i){return t.getActualProperties(i)}))},t.prototype.getActualProperties=function(e){return e instanceof zr?Xi("properties",e):e},t.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},t.prototype.iterateJsonProperties=function(e,t){for(var i={},n=function(n){if(-1===t.indexOf(n)){var s=e[""+n];if("object"!==typeof s||s instanceof Array)i[""+n]=s;else{var o=t.filter((function(e){return new RegExp(n+".").test(e)})).map((function(e){return e.replace(n+".","")}));i[""+n]=r.iterateJsonProperties(r.getActualProperties(s),o)}}},r=this,s=0,o=Object.keys(e);s<o.length;s++){n(o[s])}return i},Hr([wr(!1)],t.prototype,"enablePersistence",void 0),Hr([wr()],t.prototype,"enableRtl",void 0),Hr([wr()],t.prototype,"locale",void 0),t=Hr([Nr],t)}(mr);"undefined"!==typeof window&&window.addEventListener("popstate",(function(){Wr=0}));var Jr=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Zr=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},$r={left:0,top:0,bottom:0,right:0},es={isDragged:!1},ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jr(t,e),Zr([wr(0)],t.prototype,"left",void 0),Zr([wr(0)],t.prototype,"top",void 0),t}(zr),is=(function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.dragLimit=i.getDefaultPosition(),r.borderWidth=i.getDefaultPosition(),r.padding=i.getDefaultPosition(),r.diffX=0,r.prevLeft=0,r.prevTop=0,r.dragProcessStarted=!1,r.eleTop=0,r.tapHoldTimer=0,r.externalInitialize=!1,r.diffY=0,r.parentScrollX=0,r.parentScrollY=0,r.droppables={},r.bind(),r}var i;Jr(t,e),i=t,t.prototype.bind=function(){this.toggleEvents(),$n.isIE&&nr([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return tn({},$r)},t.prototype.toggleEvents=function(e){var t;rn(this.handle)||(t=hr(this.handle,this.element));var i=this.enableTapHold&&$n.isDevice&&$n.isTouch?this.mobileInitialize:this.initialize;e?er.remove(t||this.element,$n.isSafari()?"touchstart":$n.touchStartEvent,i):er.add(t||this.element,$n.isSafari()?"touchstart":$n.touchStartEvent,i,this)},t.prototype.mobileInitialize=function(e){var t=this,i=e.currentTarget;this.tapHoldTimer=setTimeout((function(){t.externalInitialize=!0,t.removeTapholdTimer(),t.initialize(e,i)}),this.tapHoldThreshold),er.add(document,$n.isSafari()?"touchmove":$n.touchMoveEvent,this.removeTapholdTimer,this),er.add(document,$n.isSafari()?"touchend":$n.touchEndEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),er.remove(document,$n.isSafari()?"touchmove":$n.touchMoveEvent,this.removeTapholdTimer),er.remove(document,$n.isSafari()?"touchend":$n.touchEndEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(e,t){return nn(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[""+t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[""+t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?(this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY),this.tempScrollHeight=e.scrollHeight):(this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),this.tempScrollWidth=e.scrollWidth),nn(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)},t.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0;this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")},t.prototype.initialize=function(e,t){if(this.currentStateTarget=e.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){var i=this.abort;"string"===typeof i&&(i=[i]);for(var n=0;n<i.length;n++)if(!nn(ur(e.target,i[parseInt(n.toString(),10)])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!rn(e.changedTouches)&&"touchstart"!==e.type&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");var r=this.getCoordinates(e);if(this.initialPosition={x:r.pageX,y:r.pageY},!this.clone){var s=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=r.pageX-(s.left+this.parentScrollX),this.relativeYPosition=r.pageY-(s.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(er.add(document,$n.isSafari()?"touchmove":$n.touchMoveEvent,this.intDragStart,this),er.add(document,$n.isSafari()?"touchend":$n.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==e.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,er.trigger(document.documentElement,$n.isSafari()?"touchstart":$n.touchStartEvent,e)}},t.prototype.intDragStart=function(e){this.removeTapholdTimer();var t=!rn(e.changedTouches);if(!t||1===e.changedTouches.length){var i,n=this.getCoordinates(e),r=getComputedStyle(this.element);this.margin={left:parseInt(r.marginLeft,10),top:parseInt(r.marginTop,10),right:parseInt(r.marginRight,10),bottom:parseInt(r.marginBottom,10)};var s=this.element;if(this.clone&&this.dragTarget){var o=ur(e.target,this.dragTarget);nn(o)||(s=o)}this.isReplaceDragEle&&(s=this.currentStateCheck(e.target,s)),this.offset=this.calculateParentPosition(s),this.position=this.getMousePosition(e,this.isDragScroll);var a=this.initialPosition.x-n.pageX,l=this.initialPosition.y-n.pageY;if(Math.sqrt(a*a+l*l)>=this.distance||this.externalInitialize){var h=this.getHelperElement(e);if(!h||nn(h))return;t&&e.preventDefault();var c=this.helperElement=h;if(this.parentClientRect=this.calculateParentPosition(c.offsetParent),this.dragStart){var u={event:e,element:s,target:this.getProperTargetElement(e),bindEvents:hn()?this.bindDragEvents.bind(this):null,dragElement:c};this.trigger("dragStart",u)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),i={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var p=getComputedStyle(s),d=parseFloat(p.marginTop);this.clone&&0!==d&&(i.top+=d),this.eleTop=isNaN(parseFloat(p.top))?0:parseFloat(p.top)-this.offset.top,this.enableScrollHandler&&!this.clone&&(i.top-=this.parentScrollY,i.left-=this.parentScrollX);var f=this.getProcessedPositionValue({top:i.top-this.diffY+"px",left:i.left-this.diffX+"px"});this.dragArea&&"string"!==typeof this.dragArea&&this.dragArea.classList.contains("e-kanban-content")&&"relative"===this.dragArea.style.position&&(i.top+=this.dragArea.scrollTop),this.dragElePosition={top:i.top,left:i.left},pr(c,this.getDragPosition({position:"absolute",left:f.left,top:f.top})),er.remove(document,$n.isSafari()?"touchmove":$n.touchMoveEvent,this.intDragStart),er.remove(document,$n.isSafari()?"touchend":$n.touchEndEvent,this.intDestroy),hn()||this.bindDragEvents(c)}}},t.prototype.bindDragEvents=function(e){or(e)?(er.add(document,$n.isSafari()?"touchmove":$n.touchMoveEvent,this.intDrag,this),er.add(document,$n.isSafari()?"touchend":$n.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},t.prototype.elementInViewport=function(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)e=e.offsetParent,this.top+=e.offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(e){return this.queryPositionInfo?this.queryPositionInfo(e):e},t.prototype.calculateParentPosition=function(e){if(nn(e))return{left:0,top:0};var t=e.getBoundingClientRect(),i=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(i.marginLeft,10),top:t.top+window.pageYOffset-parseInt(i.marginTop,10)}},t.prototype.intDrag=function(e){if(rn(e.changedTouches)||1===e.changedTouches.length){var t,i;this.clone&&e.changedTouches&&$n.isDevice&&$n.isTouch&&e.preventDefault(),this.position=this.getMousePosition(e,this.isDragScroll);var n=this.getDocumentWidthHeight("Height");n<this.position.top&&(this.position.top=n);var r=this.getDocumentWidthHeight("Width");if(r<this.position.left&&(this.position.left=r),this.drag){var s=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:s})}var o=this.checkTargetElement(e);if(o.target&&o.instance){var a=!0;this.hoverObject&&(this.hoverObject.instance!==o.instance?this.triggerOutFunction(e,o):a=!1),a&&(o.instance.dragData[this.scope]=this.droppables[this.scope],o.instance.intOver(e,o.target),this.hoverObject=o)}else this.hoverObject&&this.triggerOutFunction(e,o);var l=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var h=this.parentClientRect.left,c=this.parentClientRect.top,u=this.getCoordinates(e),p=u.pageX,d=u.pageY,f=this.position.left-this.diffX,g=this.position.top-this.diffY,m=getComputedStyle(l);if(this.dragArea){if(this.enableAutoScroll&&this.setDragArea(),this.pageX!==p||this.skipDistanceCheck){var y=l.offsetWidth+(parseFloat(m.marginLeft)+parseFloat(m.marginRight));t=this.dragLimit.left>f&&f>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<f+y&&f>0?f-(f-this.dragLimit.right)+window.pageXOffset-y:f<0?this.dragLimit.left:f}if(this.pageY!==d||this.skipDistanceCheck){var v=l.offsetHeight+(parseFloat(m.marginTop)+parseFloat(m.marginBottom));i=this.dragLimit.top>g&&g>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<g+v&&g>0?g-(g-this.dragLimit.bottom)+window.pageYOffset-v:g<0?this.dragLimit.top:g}}else t=f,i=g;var b,M,S=c+this.borderWidth.top,w=h+this.borderWidth.left;if(this.dragProcessStarted&&(nn(i)&&(i=this.prevTop),nn(t)&&(t=this.prevLeft)),this.helperElement.classList.contains("e-treeview"))this.dragArea?(this.dragLimit.top=this.clone?this.dragLimit.top:0,b=i-S<0?this.dragLimit.top:i-this.borderWidth.top,M=t-w<0?this.dragLimit.left:t-this.borderWidth.left):(b=i-this.borderWidth.top,M=t-this.borderWidth.left);else if(this.dragArea){var _=this.helperElement.classList.contains("e-dialog");this.dragLimit.top=this.clone?this.dragLimit.top:0,b=i-S<0?this.dragLimit.top:i-S,M=t-w<0?_?t-(w-this.borderWidth.left):this.dragElePosition.left:t-w}else b=i-S,M=t-w;var I=parseFloat(getComputedStyle(this.element).marginTop);if(I>0&&(this.clone&&(b+=I,g<0&&(I+g>=0?b=I+g:b-=I),this.dragArea&&(b=this.dragLimit.bottom<b?this.dragLimit.bottom:b)),i-S<0))if(g+I+(l.offsetHeight-S)>=0){var N=this.dragLimit.top+g-S;N+I+S<0?b-=I+S:b=N}else b-=I+S;if(this.dragArea&&this.helperElement.classList.contains("e-treeview"))b=b+(v=l.offsetHeight+(parseFloat(m.marginTop)+parseFloat(m.marginBottom)))>this.dragLimit.bottom?this.dragLimit.bottom-v:b;this.enableScrollHandler&&!this.clone&&(b-=this.parentScrollY,M-=this.parentScrollX),this.dragArea&&"string"!==typeof this.dragArea&&this.dragArea.classList.contains("e-kanban-content")&&"relative"===this.dragArea.style.position&&(b+=this.dragArea.scrollTop);var C=this.getProcessedPositionValue({top:b+"px",left:M+"px"});pr(l,this.getDragPosition(C)),this.elementInViewport(l)||!this.enableAutoScroll||this.helperElement.classList.contains("e-treeview")||this.helperElement.scrollIntoView();var x=document.querySelectorAll(":hover");if(this.enableAutoScroll&&this.helperElement.classList.contains("e-treeview")){0===x.length&&(x=this.getPathElements(e));var D=this.getScrollParent(x,!1);this.elementInViewport(this.helperElement)?this.getScrollPosition(D,b):this.elementInViewport(this.helperElement)||(0===(x=[].slice.call(document.querySelectorAll(":hover"))).length&&(x=this.getPathElements(e)),D=this.getScrollParent(x,!0),this.getScrollPosition(D,b))}this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=i,this.position.left=t,this.position.top=i,this.pageX=p,this.pageY=d}},t.prototype.getScrollParent=function(e,t){for(var i,n=t?e.reverse():e,r=n.length-1;r>=0;r--)if(("auto"===(i=window.getComputedStyle(n[parseInt(r.toString(),10)])["overflow-y"])||"scroll"===i)&&n[parseInt(r.toString(),10)].scrollHeight>n[parseInt(r.toString(),10)].clientHeight)return n[parseInt(r.toString(),10)];if("visible"===(i=window.getComputedStyle(document.scrollingElement)["overflow-y"]))return document.scrollingElement.style.overflow="auto",document.scrollingElement},t.prototype.getScrollPosition=function(e,t){if(e&&e===document.scrollingElement)e.clientHeight+document.scrollingElement.scrollTop-this.helperElement.clientHeight<t&&e.getBoundingClientRect().height+this.parentClientRect.top>t?e.scrollTop+=this.helperElement.clientHeight:e.scrollTop>t-this.helperElement.clientHeight&&(e.scrollTop-=this.helperElement.clientHeight);else if(e&&e!==document.scrollingElement){var i=document.scrollingElement.scrollTop,n=this.helperElement.clientHeight;e.clientHeight+e.getBoundingClientRect().top-n+i<t?e.scrollTop+=this.helperElement.clientHeight:e.getBoundingClientRect().top>t-n-i&&(e.scrollTop-=this.helperElement.clientHeight)}},t.prototype.getPathElements=function(e){var t=e.clientX>0?e.clientX:0,i=e.clientY>0?e.clientY:0;return document.elementsFromPoint(t,i)},t.prototype.triggerOutFunction=function(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},t.prototype.getDragPosition=function(e){var t=tn({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t},t.prototype.getDocumentWidthHeight=function(e){var t=document.body,i=document.documentElement;return Math.max(t["scroll"+e],i["scroll"+e],t["offset"+e],i["offset"+e],i["client"+e])},t.prototype.intDragStop=function(e){if(this.dragProcessStarted=!1,rn(e.changedTouches)||1===e.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){var t=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:t,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");var i=this.checkTargetElement(e);i.target&&i.instance&&(i.instance.dragStopCalled=!0,i.instance.dragData[this.scope]=this.droppables[this.scope],i.instance.intDrop(e,i.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),er.remove(document,$n.isSafari()?"touchmove":$n.touchMoveEvent,this.intDragStart),er.remove(document,$n.isSafari()?"touchend":$n.touchEndEvent,this.intDragStop),er.remove(document,$n.isSafari()?"touchend":$n.touchEndEvent,this.intDestroy),er.remove(document,$n.isSafari()?"touchmove":$n.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.isDragStarted=function(e){return e&&(es.isDragged=!es.isDragged),es.isDragged},t.prototype.setDragArea=function(){var e,t,i,n=0,r=0;if(i="string"===typeof this.dragArea?hr(this.dragArea):this.dragArea){var s=i.getBoundingClientRect();e=i.scrollWidth?i.scrollWidth:s.right-s.left,t=i.scrollHeight?this.dragArea&&!nn(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?i.clientHeight:i.scrollHeight:s.bottom-s.top;for(var o=["Top","Left","Bottom","Right"],a=getComputedStyle(i),l=0;l<o.length;l++){var h=o[parseInt(l.toString(),10)],c=a["border"+h+"Width"],u=a["padding"+h],p=h.toLowerCase();this.borderWidth[""+p]=isNaN(parseFloat(c))?0:parseFloat(c),this.padding[""+p]=isNaN(parseFloat(u))?0:parseFloat(u)}n=this.dragArea&&!nn(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?s.top+document.scrollingElement.scrollTop:s.top,r=s.left,this.dragLimit.left=r+this.borderWidth.left+this.padding.left,this.dragLimit.top=i.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=r+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=n+t-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(e){var t,i=this.getCoordinates(e),n=this.helperElement.style.pointerEvents||"",r=-1!==e.type.indexOf("pointer")&&"safari"===$n.info.name&&parseInt($n.info.version,10)>12;return on(e.target,this.helperElement)||-1!==e.type.indexOf("touch")||r?(this.helperElement.style.pointerEvents="none",t=document.elementFromPoint(i.clientX,i.clientY),this.helperElement.style.pointerEvents=n):t=e.target,t},t.prototype.currentStateCheck=function(e,t){return nn(this.currentStateTarget)||this.currentStateTarget===e?nn(t)?e:t:this.currentStateTarget},t.prototype.getMousePosition=function(e,t){var i,n,r=void 0!==e.srcElement?e.srcElement:e.target,s=this.getCoordinates(e),o=nn(r.offsetParent);if(t?(i=this.clone?s.pageX:s.pageX+(o?0:r.offsetParent.scrollLeft)-this.relativeXPosition,n=this.clone?s.pageY:s.pageY+(o?0:r.offsetParent.scrollTop)-this.relativeYPosition):(i=this.clone?s.pageX:s.pageX+window.pageXOffset-this.relativeXPosition,n=this.clone?s.pageY:s.pageY+window.pageYOffset-this.relativeYPosition),document.scrollingElement&&!t&&!this.clone){var a=document.scrollingElement,l=a.scrollHeight>0&&a.scrollHeight>a.clientHeight&&a.scrollTop>0;i=a.scrollWidth>0&&a.scrollWidth>a.clientWidth&&a.scrollLeft>0?i-a.scrollLeft:i,n=l?n-a.scrollTop:n}return{left:i-(this.margin.left+this.cursorAt.left),top:n-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e},t.prototype.getHelperElement=function(e){var t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=ir("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t},t.prototype.setGlobalDroppables=function(e,t,i){this.droppables[this.scope]=e?null:{draggable:t,helper:i,draggedElement:this.element}},t.prototype.checkTargetElement=function(e){var t=this.getProperTargetElement(e),i=this.getDropInstance(t);if(!i&&t&&!nn(t.parentNode)){var n=ur(t.parentNode,".e-droppable")||t.parentElement;n&&(i=this.getDropInstance(n))}return{target:t,instance:i}},t.prototype.getDropInstance=function(e){var t,i=e&&e.ej2_instances;if(i)for(var n=0,r=i;n<r.length;n++){var s=r[n];if("droppable"===s.getModuleName()){t=s;break}}return t},t.prototype.destroy=function(){this.toggleEvents(!0),e.prototype.destroy.call(this)},Zr([_r({},ts)],t.prototype,"cursorAt",void 0),Zr([wr(!0)],t.prototype,"clone",void 0),Zr([wr()],t.prototype,"dragArea",void 0),Zr([wr()],t.prototype,"isDragScroll",void 0),Zr([wr()],t.prototype,"isReplaceDragEle",void 0),Zr([wr(!0)],t.prototype,"isPreventSelect",void 0),Zr([Ir()],t.prototype,"drag",void 0),Zr([Ir()],t.prototype,"dragStart",void 0),Zr([Ir()],t.prototype,"dragStop",void 0),Zr([wr(1)],t.prototype,"distance",void 0),Zr([wr()],t.prototype,"handle",void 0),Zr([wr()],t.prototype,"abort",void 0),Zr([wr()],t.prototype,"helper",void 0),Zr([wr("default")],t.prototype,"scope",void 0),Zr([wr("")],t.prototype,"dragTarget",void 0),Zr([wr()],t.prototype,"axis",void 0),Zr([wr()],t.prototype,"queryPositionInfo",void 0),Zr([wr(!1)],t.prototype,"enableTailMode",void 0),Zr([wr(!1)],t.prototype,"skipDistanceCheck",void 0),Zr([wr(!0)],t.prototype,"preventDefault",void 0),Zr([wr(!1)],t.prototype,"enableAutoScroll",void 0),Zr([wr(!1)],t.prototype,"enableTapHold",void 0),Zr([wr(750)],t.prototype,"tapHoldThreshold",void 0),Zr([wr(!1)],t.prototype,"enableScrollHandler",void 0),t=i=Zr([Nr],t)}(mr),function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),ns=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},rs=(function(e){function t(t,i){var n=e.call(this,i,t)||this;return n.mouseOver=!1,n.dragData={},n.dragStopCalled=!1,n.bind(),n}is(t,e),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){er.add(this.element,$n.isSafari()?"touchend":$n.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(e,t){if(!this.mouseOver){var i=this.dragData[this.scope];this.trigger("over",{event:e,target:t,dragData:i}),this.mouseOver=!0}},t.prototype.intOut=function(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)},t.prototype.intDrop=function(e,t){if(this.dragStopCalled){this.dragStopCalled=!1;var i,n=!0,r=this.dragData[this.scope],s=!!r&&(r.helper&&or(r.helper));s&&(i=this.isDropArea(e,r.helper,t),this.accept&&(n=dr(r.helper,this.accept))),s&&this.drop&&i.canDrop&&n&&this.trigger("drop",{event:e,target:i.target,droppedElement:r.helper,dragData:r}),this.mouseOver=!1}},t.prototype.isDropArea=function(e,t,i){var n={canDrop:!0,target:i||e.target},r="touchend"===e.type;if(r||n.target===t){t.style.display="none";var s=r?e.changedTouches[0]:e,o=document.elementFromPoint(s.clientX,s.clientY);n.canDrop=!1,n.canDrop=on(o,this.element),n.canDrop&&(n.target=o),t.style.display=""}return n},t.prototype.destroy=function(){er.remove(this.element,$n.isSafari()?"touchend":$n.touchEndEvent,this.intDrop),e.prototype.destroy.call(this)},ns([wr()],t.prototype,"accept",void 0),ns([wr("default")],t.prototype,"scope",void 0),ns([Ir()],t.prototype,"drop",void 0),ns([Ir()],t.prototype,"over",void 0),ns([Ir()],t.prototype,"out",void 0),t=ns([Nr],t)}(mr),function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),ss=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},os={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},as=(function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.keyPressHandler=function(e){for(var t=e.altKey,n=e.ctrlKey,s=e.shiftKey,o=e.which,a=0,l=Object.keys(r.keyConfigs);a<l.length;a++)for(var h=l[a],c=0,u=r.keyConfigs[""+h].split(",");c<u.length;c++){var p=u[c],d=i.getKeyConfigData(p.trim());t===d.altKey&&n===d.ctrlKey&&s===d.shiftKey&&o===d.keyCode&&(e.action=h,r.keyAction&&r.keyAction(e))}},r.bind(),r}var i;rs(t,e),i=t,t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(e){if(e in this.configCache)return this.configCache[""+e];var t=e.toLowerCase().split("+"),n={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return t[t.length-1].length>1&&Number(t[t.length-1])?n.keyCode=Number(t[t.length-1]):n.keyCode=i.getKeyCode(t[t.length-1]),i.configCache[""+e]=n,n},t.getKeyCode=function(e){return os[""+e]||e.toUpperCase().charCodeAt(0)},t.configCache={},ss([wr({})],t.prototype,"keyConfigs",void 0),ss([wr("keyup")],t.prototype,"eventName",void 0),ss([Ir()],t.prototype,"keyAction",void 0),t=i=ss([Nr],t)}(mr),function(){function e(e,t,i){this.controlName=e,this.localeStrings=t,this.setLocale(i||Pn)}return e.prototype.setLocale=function(t){var i=this.intGetControlConstant(e.locale,t);this.currentLocale=i||this.localeStrings},e.load=function(e){this.locale=tn(this.locale,e,{},!0)},e.prototype.getConstant=function(e){return nn(this.currentLocale[""+e])?this.localeStrings[""+e]||"":this.currentLocale[""+e]},e.prototype.intGetControlConstant=function(e,t){return e[""+t]?e[""+t][this.controlName]:null},e.locale={},e}()),ls=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hs=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ls(t,e),hs([wr(50)],t.prototype,"swipeThresholdDistance",void 0),t}(zr),us=/(Up|Down)/,ps=(function(e){function t(t,i){var n=e.call(this,i,t)||this;return n.touchAction=!0,n.tapCount=0,n.startEvent=function(e){if(!0===n.touchAction){var t=n.updateChangeTouches(e);void 0!==e.changedTouches&&(n.touchAction=!1),n.isTouchMoved=!1,n.movedDirection="",n.startPoint=n.lastMovedPoint={clientX:t.clientX,clientY:t.clientY},n.startEventData=t,n.hScrollLocked=n.vScrollLocked=!1,n.tStampStart=Date.now(),n.timeOutTapHold=setTimeout((function(){n.tapHoldEvent(e)}),n.tapHoldThreshold),er.add(n.element,$n.touchMoveEvent,n.moveEvent,n),er.add(n.element,$n.touchEndEvent,n.endEvent,n),er.add(n.element,$n.touchCancelEvent,n.cancelEvent,n)}},n.moveEvent=function(e){var t=n.updateChangeTouches(e);n.movedPoint=t,n.isTouchMoved=!(t.clientX===n.startPoint.clientX&&t.clientY===n.startPoint.clientY);var i={};n.isTouchMoved&&(clearTimeout(n.timeOutTapHold),n.calcScrollPoints(e),i=tn(i,{},{startEvents:n.startEventData,originalEvent:e,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,scrollDirection:n.scrollDirection,velocity:n.getVelocity(t)}),n.trigger("scroll",i),n.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},n.cancelEvent=function(e){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap),n.tapCount=0,n.swipeFn(e),er.remove(n.element,$n.touchCancelEvent,n.cancelEvent)},n.endEvent=function(e){n.swipeFn(e),n.isTouchMoved||"function"===typeof n.tap&&(n.trigger("tap",{originalEvent:e,tapCount:++n.tapCount}),n.timeOutTap=setTimeout((function(){n.tapCount=0}),n.tapThreshold)),n.modeclear()},n.swipeFn=function(e){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap);var t=n.updateChangeTouches(e),i=t.clientX-n.startPoint.clientX,r=t.clientY-n.startPoint.clientY;i=Math.floor(i<0?-1*i:i),r=Math.floor(r<0?-1*r:i),n.isTouchMoved=i>1||r>1,/Firefox/.test($n.userAgent)&&0===t.clientX&&0===t.clientY&&"mouseup"===e.type&&(n.isTouchMoved=!1),n.endPoint=t,n.calcPoints(e);var s={originalEvent:e,startEvents:n.startEventData,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,swipeDirection:n.movedDirection,velocity:n.getVelocity(t)};if(n.isTouchMoved){var o=n.swipeSettings.swipeThresholdDistance,a=tn(void 0,n.defaultArgs,s),l=!1,h=n.element,c=n.isScrollable(h),u=us.test(n.movedDirection);(o<n.distanceX&&!u||o<n.distanceY&&u)&&(l=!c||n.checkSwipe(h,u)),l&&n.trigger("swipe",a)}n.modeclear()},n.modeclear=function(){n.modeClear=setTimeout((function(){n.touchAction=!0}),"function"!==typeof n.tap?0:20),n.lastTapTime=(new Date).getTime(),er.remove(n.element,$n.touchMoveEvent,n.moveEvent),er.remove(n.element,$n.touchEndEvent,n.endEvent),er.remove(n.element,$n.touchCancelEvent,n.cancelEvent)},n.bind(),n}ls(t,e),t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents(),$n.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.wireEvents=function(){er.add(this.element,$n.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){er.remove(this.element,$n.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var t=getComputedStyle(e),i=t.overflow+t.overflowX+t.overflowY;return!!/(auto|scroll)/.test(i)},t.prototype.tapHoldEvent=function(e){this.tapCount=0,this.touchAction=!0,er.remove(this.element,$n.touchMoveEvent,this.moveEvent),er.remove(this.element,$n.touchEndEvent,this.endEvent);var t={originalEvent:e};this.trigger("tapHold",t),er.remove(this.element,$n.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=t.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=t.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var t=e.clientX,i=e.clientY,n=Date.now(),r=t-this.startPoint.clientX,s=i-this.startPoint.clientX,o=n-this.tStampStart;return Math.sqrt(r*r+s*s)/o},t.prototype.checkSwipe=function(e,t){var i=["scroll","offset"],n=t?["Height","Top"]:["Width","Left"];return e[i[0]+n[0]]<=e[i[1]+n[0]]||(0===e[i[0]+n[1]]||e[i[1]+n[0]]+e[i[0]+n[1]]>=e[i[0]+n[0]])},t.prototype.updateChangeTouches=function(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e},hs([Ir()],t.prototype,"tap",void 0),hs([Ir()],t.prototype,"tapHold",void 0),hs([Ir()],t.prototype,"swipe",void 0),hs([Ir()],t.prototype,"scroll",void 0),hs([wr(350)],t.prototype,"tapThreshold",void 0),hs([wr(750)],t.prototype,"tapHoldThreshold",void 0),hs([_r({},cs)],t.prototype,"swipeSettings",void 0),t=hs([Nr],t)}(mr),new RegExp("\\n|\\r|\\s\\s+","g")),ds=new RegExp(/'|"/g),fs=new RegExp("if ?\\("),gs=new RegExp("else if ?\\("),ms=new RegExp("else"),ys=new RegExp("for ?\\("),vs=new RegExp("(/if|/for)"),bs=new RegExp("\\((.*)\\)",""),Ms=new RegExp("^[0-9]+$","g"),Ss=new RegExp("[\\w\"'.\\s+]+","g"),ws=new RegExp('"(.*?)"',"g"),_s=new RegExp("[\\w\"'@#$.\\s-+]+","g"),Is=new RegExp("\\${([^}]*)}","g"),Ns=/^\..*/gm,Cs=/\\/gi,xs=/\\\\/gi,Ds=new RegExp("[\\w\"'@#$.\\s+]+","g"),Ts=/\window\./gm;function As(e,t,i){if("function"===typeof e)return e;var n="data",r=function(e,t,i,n){var r=0,s=[],o=e.match(/class="([^"]+|)\s{2}/g),a="";o&&o.forEach((function(t){a=t.replace(/\s\s+/g," "),e=e.replace(t,a)}));if(Is.test(e)){for(var l=!1,h="",c=0;c<e.length;c++)"$"===e[c+""]&&"{"===e[c+1]?l=!0:"}"===e[c+""]&&(l=!1),h+='"'!==e[c+""]||l?e[c+""]:'\\"';e=h}else e=e.replace(/\\?"/g,'\\"');return e.replace(ps,"").replace(ws,"'$1'").replace(Is,(function(e,o,a,l){var h=/@|#|\$/gm,c=o.match(bs);if(c){var u=c[1];if(gs.test(o))o='";} '+o.replace(c[1],u.replace(Ss,(function(e){return js(e=e.trim(),!ds.test(e)&&-1===s.indexOf(e),t,s,n)})))+'{ \n str = str + "';else if(fs.test(o))o='"; '+o.replace(c[1],u.replace(_s,(function(e){return zs(e,t,s,n)})))+'{ \n str = str + "';else if(ys.test(o)){var p=c[1].split(" of ");o='"; '+o.replace(c[1],(function(e){return s.push(p[0]),s.push(p[0]+"Index"),"var i"+(r+=1)+"=0; i"+r+" < "+js(p[1],!0,t,s,n)+".length; i"+r+"++"}))+"{ \n "+p[0]+"= "+js(p[1],!0,t,s,n)+"[i"+r+"]; \n var "+p[0]+"Index=i"+r+'; \n str = str + "'}else{var d=o.split("("),f=i&&Object.prototype.hasOwnProperty.call(i,d[0])?"this.":"global";f=/\./.test(d[0])?"":f;var g=c[1].split(",");0===c[1].length||/data/.test(g[0])||/window./.test(g[0])||(c[1]="global"===f?t+"."+c[1]:c[1]);var m=/@|\$|#/gm,y=/\]\./gm;if(Ts.test(o)&&y.test(o)||m.test(o))/@|\$|#|\]\./gm.test(o)&&(o='"+ '+("global"===f?"":f)+o.replace(c[1],u.replace(Ds,(function(e){return zs(e,t,s,n)})))+'+ "');else o='" + '+("global"===f?"":f)+o.replace(u,js(c[1].replace(/,( |)data.|,/gi,","+t+".").replace(/,( |)data.window/gi,",window"),"global"!==f,t,s,n))+'+"'}}else ms.test(o)?o='"; '+o.replace(ms,'} else { \n str = str + "'):o.match(vs)?o=o.replace(vs,'"; \n } \n str = str + "'):h.test(o)?(o.match(Cs)&&(o=ks(o)),o='"+'+Es(o,-1===s.indexOf(o),t,s)+'"]+"'):o=o.match(Cs)?'"+'+Es(o=ks(o),-1===s.indexOf(o),t,s)+'"]+"':""!==o?'"+'+js(o.replace(/,/gi,"+"+t+"."),-1===s.indexOf(o),t,s,n)+'+"':"${}";return o}))}(e,n,t,i);return new Function(n,'var str="'+r+"\";var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25a0\\s]+)['])/g);\n        var hrefRegex = (/(?:href)([\\s='\"./]+)([\\w-./?=&\\\\#\"]+)((.)([\\w)(!-;/?-\u25a0\\s]+)['])/g);\n        if(str.match(valueRegEx)){\n            var check = str.match(valueRegEx);\n            var str1 = str;\n            for (var i=0; i < check.length; i++) {\n                var check1 = str.match(valueRegEx)[i].split('value=')[1];\n                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                str1 = str1.replace(check1, change);\n            }\n            str = str.replace(str, str1);\n        }\n        else if (str.match(/(?:href='')/) === null) {\n            if(str.match(hrefRegex)) {\n                var check = str.match(hrefRegex);\n                var str1 = str;\n                for (var i=0; i < check.length; i++) {\n                    var check1 = str.match(hrefRegex)[i].split('href=')[1];\n                    if (check1) {\n                        var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                        change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                        str1 = str1.replace(check1, change);\n                    }\n                }\n                str = str.replace(str, str1);\n            }\n        }\n         return str;").bind(t)}function js(e,t,i,n,r){return!t||Ms.test(e)||-1!==n.indexOf(e.split(".")[0])||r||"true"===e||"false"===e?e:i+"."+e}function Es(e,t,i,n){return t&&!Ms.test(e)&&-1===n.indexOf(e.split(".")[0])?i+'["'+e:e}function ks(e){return e.match(xs)?e:e.replace(Cs,"\\\\")}function zs(e,t,i,n){e=e.trim();if(/\window\./gm.test(e))return e;var r=/'|"/gm;return/@|\$|#/gm.test(e)&&(e=Es(e,-1===i.indexOf(e),t,i)+'"]'),Ns.test(e)?function(e,t,i,n){return!t||Ms.test(e)||-1!==n.indexOf(e.split(".")[0])||/^\..*/gm.test(e)?e:i+"."+e}(e,!r.test(e)&&-1===i.indexOf(e),t,i):js(e,!r.test(e)&&-1===i.indexOf(e),t,i,n)}var Ls,Os={compile:(new(function(){function e(){}return e.prototype.compile=function(e,t,i){return void 0===t&&(t={}),As(e,t)},e}())).compile},Ps=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],Rs=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],Fs=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","oncanplay","oncanplaythrough","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeypress","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onstart","onpropertychange","oncopy","ontoggle","onpointerout","onpointermove","onpointerleave","onpointerenter","onpointerrawupdate","onpointerover","onbeforecopy","onbeforecut","onbeforeinput"],Bs=(function(){function e(){}e.beforeSanitize=function(){return{selectors:{tags:Ps,attributes:Rs}}},e.sanitize=function(e){if(nn(e))return e;var t=this.beforeSanitize();return this.serializeValue(t,e)},e.serializeValue=function(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var i=this.wrapElement.innerHTML;return this.removeElement(),this.wrapElement=null,i.replace(/&amp;/g,"&")},e.removeElement=function(){for(var e=this.wrapElement.children,t=0;t<e.length;t++)for(var i=e[parseInt(t.toString(),10)].attributes,n=0;n<i.length;n++)this.wrapElement.children[parseInt(t.toString(),10)].removeAttribute(i[parseInt(n.toString(),10)].localName)},e.removeXssTags=function(){var e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach((function(e){ar(e)}))},e.removeJsEvents=function(){var e=this.wrapElement.querySelectorAll("["+Fs.join("],[")+"]");e.length>0&&e.forEach((function(e){Fs.forEach((function(t){e.hasAttribute(t)&&e.removeAttribute(t)}))}))},e.removeXssAttrs=function(){var e=this;this.removeAttrs.forEach((function(t,i){var n=e.wrapElement.querySelectorAll(t.selector);n.length>0&&n.forEach((function(e){e.removeAttribute(t.attribute)}))}))}}(),"e-rtl"),Vs="e-disabled",Us="e-input",Hs="e-multi-line-input",Ws="e-input-group",Ys="e-float-input",Qs="e-float-line",qs="e-float-text",Gs="e-float-text-content",Ks="e-clear-icon",Xs="e-clear-icon-hide",Js="e-label-top",Zs="e-label-bottom",$s="e-no-float-label",eo="e-input-custom-tag",to="e-float-custom-tag",io=["title","style","class"],no="e-input-focus";!function(e){var t=!0;function i(t){n(t.floatLabelType,t.element);var i=function(){return function(t){var i=d(t.element);(i.classList.contains("e-input-group")||i.classList.contains("e-outline")||i.classList.contains("e-filled"))&&i.classList.add("e-input-focus"),"Never"!==t.floatLabelType&&setTimeout((function(){e.calculateWidth(t.element,i)}),80)}(t)},r=function(){return function(t){var i=d(t.element);(i.classList.contains("e-input-group")||i.classList.contains("e-outline")||i.classList.contains("e-filled"))&&i.classList.remove("e-input-focus"),"Never"!==t.floatLabelType&&setTimeout((function(){e.calculateWidth(t.element,i)}),80)}(t)},s=function(){return function(e){n(e.floatLabelType,e.element)}(t)};t.element.addEventListener("focus",i),t.element.addEventListener("blur",r),t.element.addEventListener("input",s),t.element.__eventHandlers.inputFocusHandler={focusHandler:i},t.element.__eventHandlers.inputBlurHandler={blurHandler:r},t.element.__eventHandlers.inputHandler={inputHandler:s}}function n(e,t){var i=t.value,n=t.parentElement,r=n.parentElement;""===i||nn(i)?"Always"!==e&&(n&&n.classList.contains("e-input-group")?n.classList.remove("e-valid-input"):r&&r.classList.contains("e-input-group")&&r.classList.remove("e-valid-input")):n&&n.classList.contains("e-input-group")?n.classList.add("e-valid-input"):r&&r.classList.contains("e-input-group")&&r.classList.add("e-valid-input")}function r(){var e=d(this).getElementsByClassName("e-float-text")[0];nn(e)||(nr([e],Js),e.classList.contains(Zs)&&rr([e],Zs))}function s(){var e=d(this);if(e.getElementsByTagName("textarea")[0]?""===e.getElementsByTagName("textarea")[0].value:""===e.getElementsByTagName("input")[0].value){var t=e.getElementsByClassName("e-float-text")[0];nn(t)||(t.classList.contains(Js)&&rr([t],Js),nr([t],Zs))}}function o(e){e.addEventListener("focus",r),e.addEventListener("blur",s)}function a(e){nn(e)||(e.removeEventListener("focus",r),e.removeEventListener("blur",s))}function l(e,t,i){var n=nn(i)?ir:i;"Auto"===e.floatLabelType&&o(e.element),nn(t.container)?(t.container=m(e,Ys,to,"div",n),t.container.classList.add(Ws),e.element.parentNode&&e.element.parentNode.insertBefore(t.container,e.element)):(nn(e.customTag)||t.container.classList.add(to),t.container.classList.add(Ys));var r=n("span",{className:Qs}),s=n("label",{className:qs});if(nn(e.element.id)||""===e.element.id||(s.id="label_"+e.element.id.replace(/ /g,"_"),lr(e.element,{"aria-labelledby":s.id})),nn(e.element.placeholder)||""===e.element.placeholder||(s.innerText=y(e.element.placeholder),e.element.removeAttribute("placeholder")),nn(e.properties)||nn(e.properties.placeholder)||""===e.properties.placeholder||(s.innerText=y(e.properties.placeholder)),s.innerText||t.container.classList.add($s),t.container.classList.contains("e-float-icon-left")){var a=t.container.querySelector(".e-input-in-wrap");a.appendChild(e.element),a.appendChild(r),a.appendChild(s)}else t.container.appendChild(e.element),t.container.appendChild(r),t.container.appendChild(s);if(p(e.element.value,s),"Always"===e.floatLabelType&&(s.classList.contains(Zs)&&rr([s],Zs),nr([s],Js)),"Auto"===e.floatLabelType){var l=function(){return function(e){g(e.element,e.floatLabelType)}(e)},c=function(){return function(e){g(e.element,e.floatLabelType)}(e)};e.element.addEventListener("input",l),e.element.addEventListener("blur",c),e.element.__eventHandlers.floatInputHandler={inputFloatHandler:l},e.element.__eventHandlers.floatBlurHandler={blurFloatHandler:c}}else h(e);nn(e.element.getAttribute("id"))||s.setAttribute("for",e.element.getAttribute("id"))}function h(e){if(!nn(e.element)&&!nn(e.element.__eventHandlers)&&!nn(e.element.__eventHandlers.floatInputHandler)&&!nn(e.element.__eventHandlers.floatBlurHandler)){var t=e.element.__eventHandlers.floatInputHandler.inputFloatHandler,i=e.element.__eventHandlers.floatBlurHandler.blurFloatHandler;e.element.removeEventListener("input",t),e.element.removeEventListener("blur",i),delete e.element.__eventHandlers.floatInputHandler,delete e.element.__eventHandlers.floatBlurHandler}}function c(e,t){"Always"===e&&t.classList.contains("e-outline")&&t.classList.add("e-valid-input")}function u(e,t,i){nn(t)||(e&&!i?rr([t],Xs):nr([t],Xs))}function p(e,t,i){(void 0===i&&(i=null),e)?(nr([t],Js),t.classList.contains(Zs)&&rr([t],Zs)):(null==i||i!==document.activeElement)&&(t.classList.contains(Js)&&rr([t],Js),nr([t],Zs))}function d(e){var t=nn(e.parentNode)?e:e.parentNode;return t&&t.classList.contains("e-input-in-wrap")&&(t=t.parentNode),t}function f(e,i,n){if(void 0===t||t){var r=function(t){return function(e,t,i){t.classList.contains(Vs)||t.readOnly||(e.preventDefault(),t!==document.activeElement&&t.focus(),t.value="",nr([i],Xs))}(t,e,i)};i.addEventListener("click",r),e.__eventHandlers.clearClickHandler={clickHandlerEvent:r}}var s=function(){return function(e,t){u(e.value,t)}(e,i)},o=function(){return function(e,t){u(e.value,t,e.readOnly)}(e,i)},a=function(){return function(e,t){setTimeout((function(){nn(t)||(nr([t],Xs),t=!nn(e)&&e.classList.contains("e-combobox")?null:t)}),200)}(e,i)};e.addEventListener("input",s),e.addEventListener("focus",o),e.addEventListener("blur",a),e.__eventHandlers.clearInputHandler={inputHandlerEvent:s},e.__eventHandlers.clearFocusHandler={focusHandlerEvent:o},e.__eventHandlers.clearBlurHandler={blurHandlerEvent:a}}function g(e,t){if(d(e).classList.contains(Ys)&&"Auto"===t){var i=d(e).getElementsByClassName("e-float-text")[0];p(e.value,i,e)}}function m(e,t,i,n,r){var s,o=nn(r)?ir:r;return nn(e.customTag)?s=o(n,{className:t}):(s=o(e.customTag,{className:t})).classList.add(i),s.classList.add("e-control-wrapper"),s}function y(e){var t="";if(!nn(e)&&""!==e){var i=document.createElement("span");i.innerHTML='<input  placeholder="'+e+'"/>',t=i.children[0].placeholder}return t}function v(e,t,i){nn(i)||""===i||rr(t,i.split(" ")),nn(e)||""===e||nr(t,e.split(" "))}function b(e,t,i){if("multiselect"===i||function(e){if(!e)return!1;var t=e;for(;t&&t!==document.body;){if("none"===window.getComputedStyle(t).display)return!1;t=t.parentElement}return!0}(e)){var n="multiselect"===i?e:e.clientWidth-parseInt(getComputedStyle(e,null).getPropertyValue("padding-left"),10);nn(t.getElementsByClassName("e-float-text-content")[0])||(t.getElementsByClassName("e-float-text-content")[0].classList.contains("e-float-text-overflow")&&t.getElementsByClassName("e-float-text-content")[0].classList.remove("e-float-text-overflow"),(n<t.getElementsByClassName("e-float-text-content")[0].clientWidth||n===t.getElementsByClassName("e-float-text-content")[0].clientWidth)&&t.getElementsByClassName("e-float-text-content")[0].classList.add("e-float-text-overflow"))}}function M(e,t){e=y(e);var i,n=d(t);n.classList.contains(Ys)?nn(e)||""===e?(n.classList.add($s),(i=n.getElementsByClassName("e-float-text-content")[0])?i.children[0].textContent="":n.getElementsByClassName(qs)[0].textContent=""):((i=n.getElementsByClassName("e-float-text-content")[0])&&i.children[0]?i.children[0].textContent=e:n.getElementsByClassName(qs)[0].textContent=e,n.classList.remove($s),t.removeAttribute("placeholder")):nn(e)||""===e?t.removeAttribute("placeholder"):lr(t,{placeholder:e})}function S(e,t,i){e?lr(t,{readonly:""}):t.removeAttribute("readonly"),nn(i)||g(t,i)}function w(e,t){e?nr(t,Bs):rr(t,Bs)}function _(e,t,i,n){var r={disabled:"","aria-disabled":"true"},s=!nn(n);e?(t.classList.remove(Vs),N(r,t),s&&rr([n],Vs)):(t.classList.add(Vs),C(r,t),s&&nr([n],Vs)),nn(i)||g(t,i)}function I(e,t,i,n,r){var s=nn(r)?ir:r;e?i.clearButton=function(e,t,i,n){var r=(nn(n)?ir:n)("span",{className:Ks}),s=t.container;return nn(i)?(t.container.classList.contains(Ys)?t.container.querySelector("."+qs):e).insertAdjacentElement("afterend",r):s.appendChild(r),nr([r],Xs),f(e,r),r.setAttribute("aria-label","close"),r}(t,i,n,s):(!function(e){var t=e.parentNode;er.clearEvents(e),t.removeChild(e)}(i.clearButton),i.clearButton=null)}function N(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i],s=d(t);"disabled"===r&&t.classList.remove(Vs),"disabled"===r&&s.classList.contains(Ws)&&s.classList.remove(Vs),"placeholder"===r&&s.classList.contains(Ys)?s.getElementsByClassName(qs)[0].textContent="":t.removeAttribute(r)}}function C(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i],s=d(t);"disabled"===r&&t.classList.add(Vs),"disabled"===r&&s.classList.contains(Ws)&&s.classList.add(Vs),"placeholder"===r&&s.classList.contains(Ys)?s.getElementsByClassName(qs)[0].textContent=e[""+r]:t.setAttribute(r,e[""+r])}}function x(e,t){if(e.classList.contains("e-outline")&&e.getElementsByClassName("e-float-text")[0]){var i=t("span",{className:Gs});i.innerHTML=e.getElementsByClassName("e-float-text")[0].innerHTML,e.getElementsByClassName("e-float-text")[0].innerHTML="",e.getElementsByClassName("e-float-text")[0].appendChild(i)}}function D(e,t,i){var n=[];n.push(i);var r=nn(i)?t.querySelectorAll(".e-input-group-icon"):n;if(e&&r.length>0)for(var s=0;s<r.length;s++)r[parseInt(s.toString(),10)].addEventListener("mousedown",T,!1),r[parseInt(s.toString(),10)].addEventListener("mouseup",A,!1);else if(r.length>0)for(s=0;s<r.length;s++)r[parseInt(s.toString(),10)].removeEventListener("mousedown",T,this),r[parseInt(s.toString(),10)].removeEventListener("mouseup",A,this)}function T(){for(var e,t,i=this.parentElement;!i.classList.contains("e-input-group");)i=i.parentElement;t=this,(e=i).classList.contains("e-disabled")||e.querySelector("input").readOnly||t.classList.add("e-input-btn-ripple")}function A(){var e=this;setTimeout((function(){e.classList.remove("e-input-btn-ripple")}),500)}function j(e,t){var i=t("span",{className:e});return i.classList.add("e-input-group-icon"),i}function E(e,t,i,n){var r=nn(n)?ir:n,s=j(e,r);t.classList.add("e-float-icon-left");var o=t.querySelector(".e-input-in-wrap");if(nn(o)){o=r("span",{className:"e-input-in-wrap"}),i.parentNode.insertBefore(o,i);var a=t.querySelectorAll(i.tagName+" ~ *");o.appendChild(i);for(var l=0;l<a.length;l++){var h=a[parseInt(l.toString(),10)],c=o.parentElement;h.classList.contains("e-float-line")&&(c&&c.classList.contains("e-filled")||!c)||o.appendChild(h)}}return o.parentNode.insertBefore(s,o),D(!0,t,s),s}function k(e,t,i){var n=j(e,nn(i)?ir:i);return(t.classList.contains("e-float-icon-left")?t.querySelector(".e-input-in-wrap"):t).appendChild(n),D(!0,t,n),n}function z(e,t){"hidden"===t.type?e.classList.add("e-hidden"):e.classList.contains("e-hidden")&&e.classList.remove("e-hidden")}function L(e){var t=e;return nn(e)||""===e||(t=e.replace(/\s+/g," ").trim()),t}e.createInput=function(e,n){e.element.__eventHandlers={};var r=nn(n)?ir:n,s={container:null,buttons:[],clearButton:null};if(e.floatLabelType,t=e.bindClearAction,nn(e.floatLabelType)||"Never"===e.floatLabelType?(s.container=m(e,Ws,eo,"span",r),e.element.parentNode.insertBefore(s.container,e.element),nr([e.element],Us),s.container.appendChild(e.element)):l(e,s,r),i(e),nn(e.properties)||nn(e.properties.showClearButton)||!e.properties.showClearButton||(I(e.properties.showClearButton,e.element,s,!0,r),s.clearButton.setAttribute("role","button"),s.container.classList.contains(Ys)&&nr([s.container],Ws)),!nn(e.buttons))for(var o=0;o<e.buttons.length;o++)s.buttons.push(k(e.buttons[o],s.container,r));return nn(e.element)||"TEXTAREA"!==e.element.tagName||nr([s.container],Hs),z(s.container,e.element),s=function(e,t){if(!nn(e.properties))for(var i=0,n=Object.keys(e.properties);i<n.length;i++){switch(n[i]){case"cssClass":v(e.properties.cssClass,[t.container]),c(e.floatLabelType,t.container);break;case"enabled":_(e.properties.enabled,e.element,e.floatLabelType,t.container);break;case"enableRtl":w(e.properties.enableRtl,[t.container]);break;case"placeholder":M(e.properties.placeholder,e.element);break;case"readonly":S(e.properties.readonly,e.element)}}return t}(e,s),x(s.container,r),s},e.bindInitialEvent=i,e.wireFloatingEvents=o,e.wireClearBtnEvents=f,e.destroy=function(e,i){void 0===i&&(i=null),function(e){if(!nn(e.element)&&!nn(e.element.__eventHandlers)&&!nn(e.element.__eventHandlers.inputFocusHandler)&&!nn(e.element.__eventHandlers.inputBlurHandler)&&!nn(e.element.__eventHandlers.inputHandler)){var t=e.element.__eventHandlers.inputFocusHandler.focusHandler,i=e.element.__eventHandlers.inputBlurHandler.blurHandler,n=e.element.__eventHandlers.inputHandler.inputHandler;e.element.removeEventListener("focus",t),e.element.removeEventListener("blur",i),e.element.removeEventListener("input",n),delete e.element.__eventHandlers.inputFocusHandler,delete e.element.__eventHandlers.inputBlurHandler,delete e.element.__eventHandlers.inputHandler}}(e),"Auto"===e.floatLabelType&&h(e),e.properties.showClearButton&&function(e,i){if(!nn(e)&&!nn(e.__eventHandlers)){if(!nn(e.__eventHandlers.clearClickHandler)){var n=e.__eventHandlers.clearClickHandler.clickHandlerEvent;(void 0===t||t)&&(nn(i)||i.removeEventListener("click",n)),delete e.__eventHandlers.clearClickHandler}if(!nn(e.__eventHandlers.clearInputHandler)&&!nn(e.__eventHandlers.clearFocusHandler)&&!nn(e.__eventHandlers.clearBlurHandler)){var r=e.__eventHandlers.clearInputHandler.inputHandlerEvent,s=e.__eventHandlers.clearFocusHandler.focusHandlerEvent,o=e.__eventHandlers.clearBlurHandler.blurHandlerEvent;e.removeEventListener("input",r),e.removeEventListener("focus",s),e.removeEventListener("blur",o),delete e.__eventHandlers.clearInputHandler,delete e.__eventHandlers.clearFocusHandler,delete e.__eventHandlers.clearBlurHandler}}}(e.element,i),nn(e.buttons)||D(!1,null,e.buttons),a(e.element),nn(e.element)||(delete e.element.__eventHandlers,e.element.classList.contains(Us)&&e.element.classList.remove(Us)),null},e.setValue=function(e,t,i,r){if(t.value=e,"Never"!==i&&b(t,t.parentElement),nn(i)||"Auto"!==i||g(t,i),!nn(r)&&r){var s=d(t);if(!nn(s)){var o=s.getElementsByClassName(Ks)[0];nn(o)||(t.value&&!nn(s)&&s.classList.contains("e-input-focus")?rr([o],Xs):nr([o],Xs))}}n(i,t)},e.setCssClass=v,e.calculateWidth=b,e.setWidth=function(e,t){"number"===typeof e?t.style.width=ln(e):"string"===typeof e&&(t.style.width=e.match(/px|%|em/)?e:ln(e)),b(t.firstChild,t)},e.setPlaceholder=M,e.setReadonly=S,e.setEnableRtl=w,e.setEnabled=_,e.setClearButton=I,e.removeAttributes=N,e.addAttributes=C,e.removeFloating=function(e){var t,i,n=e.container;if(!nn(n)&&n.classList.contains(Ys)){var r=n.querySelector("textarea")?n.querySelector("textarea"):n.querySelector("input"),s=n.querySelector("."+qs).textContent,o=null!==n.querySelector(".e-clear-icon");ar(n.querySelector("."+Qs)),ar(n.querySelector("."+qs)),i=[Ys],nr([t=n],[Ws]),rr([t],i),a(r),lr(r,{placeholder:s}),r.classList.add(Us),o||"INPUT"!==r.tagName||r.removeAttribute("required")}},e.addFloating=function(e,t,i,n){var r=nn(n)?ir:n,s=ur(e,"."+Ws);t;var o=s.tagName,a={element:e,floatLabelType:t,customTag:o="DIV"!==o&&"SPAN"!==o?o:null,properties:{placeholder:i}};if("Never"!==t){var u=s.querySelector(".e-clear-icon"),p={container:s};e.classList.remove(Us),l(a,p,r),x(p.container,r),b(a.element,p.container);var d=s.classList.contains("e-float-icon-left");if(nn(u))if(d)u=s.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon");else u=s.querySelector(".e-input-group-icon");if(nn(u))d&&(u=s.querySelector(".e-input-group-icon"));else{var f=s.querySelector("."+Qs),g=s.querySelector("."+qs),m=d?s.querySelector(".e-input-in-wrap"):s;m.insertBefore(e,u),m.insertBefore(f,u),m.insertBefore(g,u)}}else h(a);c(t,e.parentElement)},e.createSpanElement=x,e.setRipple=function(e,t){for(var i=0;i<t.length;i++)D(e,t[parseInt(i.toString(),10)].container)},e.addIcon=function(e,t,i,n,r){var s="string"===typeof t?t.split(","):t;if("append"===e.toLowerCase())for(var o=0,a=s;o<a.length;o++){k(a[o],i,r)}else for(var l=0,h=s;l<h.length;l++){E(h[l],i,n,r)}i.getElementsByClassName("e-input-group-icon")[0]&&i.getElementsByClassName("e-float-text-overflow")[0]&&i.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon")},e.prependSpan=E,e.appendSpan=k,e.validateInputType=z,e.updateHTMLAttributesToElement=function(e,t){if(!nn(e))for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];io.indexOf(r)<0&&t.setAttribute(r,e[""+r])}},e.updateCssClass=function(e,t,i){v(L(e),[i],L(t))},e.getInputValidClassList=L,e.updateHTMLAttributesToWrapper=function(e,t){if(!nn(e))for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];if(io.indexOf(r)>-1)if("class"===r){var s=this.getInputValidClassList(e[""+r]);""!==s&&nr([t],s.split(" "))}else if("style"===r){var o=t.getAttribute(r);o=nn(o)?e[""+r]:o+e[""+r],t.setAttribute(r,o)}else t.setAttribute(r,e[""+r])}},e.isBlank=function(e){return!e||/^\s*$/.test(e)}}(Ls||(Ls={}));var ro=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),so=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},oo=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.previousValue=null,n.isHiddenInput=!1,n.isForm=!1,n.inputPreviousValue=null,n.textboxOptions=t,n}return ro(t,e),t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"floatLabelType":Ls.removeFloating(this.textboxWrapper),Ls.addFloating(this.respectiveElement,this.floatLabelType,this.placeholder);break;case"enabled":Ls.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container),this.bindClearEvent();break;case"width":Ls.setWidth(e.width,this.textboxWrapper.container);break;case"value":var r=this.isProtectedOnChange;this.isProtectedOnChange=!0,Ls.isBlank(this.value)||(this.value=this.value.toString()),this.isProtectedOnChange=r,Ls.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.inputPreviousValue=this.respectiveElement.value,(this.isAngular||this.isVue)&&!0===this.preventChange?(this.previousValue=this.isAngular?this.value:this.previousValue,this.preventChange=!1):(nn(this.isAngular)||!this.isAngular||this.isAngular&&!this.preventChange||this.isAngular&&nn(this.preventChange))&&this.raiseChangeEvent();break;case"htmlAttributes":this.updateHTMLAttributesToElement(),this.updateHTMLAttributesToWrapper(),this.checkAttributes(!0),this.multiline&&!nn(this.textarea)?Ls.validateInputType(this.textboxWrapper.container,this.textarea):Ls.validateInputType(this.textboxWrapper.container,this.element);break;case"readonly":Ls.setReadonly(this.readonly,this.respectiveElement);break;case"type":"TEXTAREA"!==this.respectiveElement.tagName&&(this.respectiveElement.setAttribute("type",this.type),Ls.validateInputType(this.textboxWrapper.container,this.element),this.raiseChangeEvent());break;case"showClearButton":Ls.setClearButton(this.showClearButton,this.respectiveElement,this.textboxWrapper),this.bindClearEvent();break;case"enableRtl":Ls.setEnableRtl(this.enableRtl,[this.textboxWrapper.container]);break;case"placeholder":Ls.setPlaceholder(this.placeholder,this.respectiveElement),Ls.calculateWidth(this.respectiveElement,this.textboxWrapper.container);break;case"autocomplete":"on"!==this.autocomplete&&""!==this.autocomplete?this.respectiveElement.autocomplete=this.autocomplete:this.removeAttributes(["autocomplete"]);break;case"cssClass":Ls.updateCssClass(e.cssClass,t.cssClass,this.textboxWrapper.container);break;case"locale":this.globalize=new Fn(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),Ls.setPlaceholder(this.placeholder,this.respectiveElement)}}},t.prototype.getModuleName=function(){return"textbox"},t.prototype.preRender=function(){if(this.cloneElement=this.element.cloneNode(!0),this.formElement=ur(this.element,"form"),nn(this.formElement)||(this.isForm=!0),"EJS-TEXTBOX"===this.element.tagName){for(var e=Xi("ej2_instances",this.element),t=this.multiline?this.createElement("textarea"):this.createElement("input"),i=0;i<this.element.attributes.length;i++){"id"!==(s=this.element.attributes[i].nodeName)&&"class"!==s?(t.setAttribute(s,this.element.attributes[i].nodeValue),t.innerHTML=this.element.innerHTML,"name"===s&&this.element.removeAttribute("name")):"class"===s&&t.setAttribute(s,this.element.className.split(" ").filter((function(e){return 0!==e.indexOf("ng-")})).join(" "))}this.element.appendChild(t),this.element=t,Ji("ej2_instances",e,this.element)}this.updateHTMLAttributesToElement(),this.checkAttributes(!1),!nn(this.textboxOptions)&&void 0!==this.textboxOptions.value||""===this.element.value||this.setProperties({value:this.element.value},!0),"TEXTAREA"!==this.element.tagName&&this.element.setAttribute("type",this.type),("text"===this.type||"INPUT"===this.element.tagName&&this.multiline&&this.isReact)&&this.element.setAttribute("role","textbox"),this.globalize=new Fn(this.locale);var n={placeholder:this.placeholder};if(this.l10n=new as("textbox",n,this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",sn("textbox")),this.element.hasAttribute("name")||this.element.setAttribute("name",this.element.getAttribute("id")),"INPUT"===this.element.tagName&&this.multiline){this.isHiddenInput=!0,this.textarea=this.createElement("textarea"),this.element.parentNode.insertBefore(this.textarea,this.element),this.element.setAttribute("type","hidden"),this.textarea.setAttribute("name",this.element.getAttribute("name")),this.element.removeAttribute("name"),this.textarea.setAttribute("role",this.element.getAttribute("role")),this.element.removeAttribute("role"),this.textarea.setAttribute("id",sn("textarea"));var r=["placeholder","disabled","value","readonly","type","autocomplete"];for(i=0;i<this.element.attributes.length;i++){var s=this.element.attributes[i].nodeName;this.element.hasAttribute(s)&&io.indexOf(s)<0&&"id"!==s&&"type"!==s&&"e-mappinguid"!==s&&(this.textarea.setAttribute(s,this.element.attributes[i].nodeValue),r.indexOf(s)<0&&(this.element.removeAttribute(s),i--))}}},t.prototype.checkAttributes=function(e){for(var t=0,i=e?nn(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["placeholder","disabled","value","readonly","type","autocomplete"];t<i.length;t++){var n=i[t];if(!nn(this.element.getAttribute(n)))switch(n){case"disabled":if(nn(this.textboxOptions)||void 0===this.textboxOptions.enabled||e){var r="disabled"!==this.element.getAttribute(n)&&""!==this.element.getAttribute(n)&&"true"!==this.element.getAttribute(n);this.setProperties({enabled:r},!e)}break;case"readonly":if(nn(this.textboxOptions)||void 0===this.textboxOptions.readonly||e){var s="readonly"===this.element.getAttribute(n)||""===this.element.getAttribute(n)||"true"===this.element.getAttribute(n);this.setProperties({readonly:s},!e)}break;case"placeholder":(nn(this.textboxOptions)||void 0===this.textboxOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"autocomplete":if(nn(this.textboxOptions)||void 0===this.textboxOptions.autocomplete||e){var o="off"===this.element.autocomplete?"off":"on";this.setProperties({autocomplete:o},!e)}break;case"value":(nn(this.textboxOptions)||void 0===this.textboxOptions.value||e)&&""!==this.element.value&&this.setProperties({value:this.element.value},!e);break;case"type":(nn(this.textboxOptions)||void 0===this.textboxOptions.type||e)&&this.setProperties({type:this.element.type},!e)}}},t.prototype.render=function(){var e=this.cssClass;nn(this.cssClass)||""===this.cssClass||(e=Ls.getInputValidClassList(this.cssClass)),this.respectiveElement=this.isHiddenInput?this.textarea:this.element,this.textboxWrapper=Ls.createInput({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:{enabled:this.enabled,enableRtl:this.enableRtl,cssClass:e,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}}),this.updateHTMLAttributesToWrapper(),this.isHiddenInput&&this.respectiveElement.parentNode.insertBefore(this.element,this.respectiveElement),this.wireEvents(),nn(this.value)||(Ls.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value)),nn(this.value)||(this.initialValue=this.value,this.setInitialValue()),"on"!==this.autocomplete&&""!==this.autocomplete?this.respectiveElement.autocomplete=this.autocomplete:nn(this.textboxOptions)||void 0===this.textboxOptions.autocomplete||this.removeAttributes(["autocomplete"]),this.previousValue=this.value,this.inputPreviousValue=this.value,this.respectiveElement.defaultValue=this.respectiveElement.value,Ls.setWidth(this.width,this.textboxWrapper.container),!nn(ur(this.element,"fieldset"))&&ur(this.element,"fieldset").disabled&&(this.enabled=!1),this.element.hasAttribute("aria-labelledby")||this.element.hasAttribute("placeholder")||this.element.setAttribute("aria-label","textbox"),this.renderComplete()},t.prototype.updateHTMLAttributesToWrapper=function(){Ls.updateHTMLAttributesToWrapper(this.htmlAttributes,this.textboxWrapper.container)},t.prototype.updateHTMLAttributesToElement=function(){Ls.updateHTMLAttributesToElement(this.htmlAttributes,this.respectiveElement?this.respectiveElement:this.multiline&&!nn(this.textarea)?this.textarea:this.element)},t.prototype.setInitialValue=function(){this.isAngular||this.respectiveElement.setAttribute("value",this.initialValue)},t.prototype.wireEvents=function(){er.add(this.respectiveElement,"focus",this.focusHandler,this),er.add(this.respectiveElement,"blur",this.focusOutHandler,this),er.add(this.respectiveElement,"keydown",this.keydownHandler,this),er.add(this.respectiveElement,"input",this.inputHandler,this),er.add(this.respectiveElement,"change",this.changeHandler,this),this.isForm&&er.add(this.formElement,"reset",this.resetForm,this),this.bindClearEvent(),!nn(this.textboxWrapper.container.querySelector(".e-float-text"))&&"Auto"===this.floatLabelType&&this.textboxWrapper.container.classList.contains("e-autofill")&&this.textboxWrapper.container.classList.contains("e-outline")&&er.add(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler,this)},t.prototype.animationHandler=function(){this.textboxWrapper.container.classList.add("e-valid-input");var e=this.textboxWrapper.container.querySelector(".e-float-text");nn(e)||(e.classList.add("e-label-top"),e.classList.contains("e-label-bottom")&&e.classList.remove("e-label-bottom"))},t.prototype.resetValue=function(e){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=e,null==e&&this.textboxWrapper.container.classList.contains("e-valid-input")&&this.textboxWrapper.container.classList.remove("e-valid-input"),this.isProtectedOnChange=t},t.prototype.resetForm=function(){if(this.isAngular?this.resetValue(""):this.resetValue(this.initialValue),!nn(this.textboxWrapper)){var e=this.textboxWrapper.container.querySelector(".e-float-text");nn(e)||"Always"===this.floatLabelType||(nn(this.initialValue)||""===this.initialValue?(e.classList.add("e-label-bottom"),e.classList.remove("e-label-top")):""!==this.initialValue&&(e.classList.add("e-label-top"),e.classList.remove("e-label-bottom")))}},t.prototype.focusHandler=function(e){var t={container:this.textboxWrapper.container,event:e,value:this.value};this.trigger("focus",t)},t.prototype.focusOutHandler=function(e){null===this.previousValue&&null===this.value&&""===this.respectiveElement.value||this.previousValue===this.value||this.raiseChangeEvent(e,!0);var t={container:this.textboxWrapper.container,event:e,value:this.value};this.trigger("blur",t)},t.prototype.keydownHandler=function(e){13!==e.keyCode&&9!==e.keyCode||!(null!==this.previousValue&&""!==this.previousValue||null!==this.value&&""!==this.value||""!==this.respectiveElement.value)||this.setProperties({value:this.respectiveElement.value},!0)},t.prototype.inputHandler=function(e){var t=this,i={event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};this.inputPreviousValue=this.respectiveElement.value,this.isAngular&&(t.localChange({value:this.respectiveElement.value}),this.preventChange=!0),this.isVue&&(this.preventChange=!0),this.trigger("input",i),e.stopPropagation()},t.prototype.changeHandler=function(e){this.setProperties({value:this.respectiveElement.value},!0),this.previousValue!==this.value&&this.raiseChangeEvent(e,!0),e.stopPropagation()},t.prototype.raiseChangeEvent=function(e,t){var i={event:e,value:this.value,previousValue:this.previousValue,container:this.textboxWrapper.container,isInteraction:t||!1,isInteracted:t||!1};this.preventChange=!1,this.trigger("change",i),this.previousValue=this.value,"INPUT"===this.element.tagName&&this.multiline&&"mozilla"===$n.info.name&&(this.element.value=this.respectiveElement.value)},t.prototype.bindClearEvent=function(){this.showClearButton&&(this.enabled?er.add(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler,this):er.remove(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler))},t.prototype.resetInputHandler=function(e){if(e.preventDefault(),!this.textboxWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.textboxWrapper.container.classList.contains("e-static-clear")){Ls.setValue("",this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.setProperties({value:this.respectiveElement.value},!0);var t={event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};if(this.trigger("input",t),this.inputPreviousValue=this.respectiveElement.value,this.raiseChangeEvent(e,!0),ur(this.element,"form")){var i=this.element,n=document.createEvent("KeyboardEvent");n.initEvent("keyup",!1,!0),i.dispatchEvent(n)}}},t.prototype.unWireEvents=function(){er.remove(this.respectiveElement,"focus",this.focusHandler),er.remove(this.respectiveElement,"blur",this.focusOutHandler),er.remove(this.respectiveElement,"keydown",this.keydownHandler),er.remove(this.respectiveElement,"input",this.inputHandler),er.remove(this.respectiveElement,"change",this.changeHandler),this.isForm&&er.remove(this.formElement,"reset",this.resetForm),!nn(this.textboxWrapper.container.querySelector(".e-float-text"))&&"Auto"===this.floatLabelType&&this.textboxWrapper.container.classList.contains("e-outline")&&this.textboxWrapper.container.classList.contains("e-autofill")&&er.remove(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler)},t.prototype.destroy=function(){this.unWireEvents(),this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),"INPUT"===this.element.tagName&&this.multiline&&(ar(this.textboxWrapper.container.getElementsByTagName("textarea")[0]),this.respectiveElement=this.element,this.element.removeAttribute("type")),this.respectiveElement.value=this.respectiveElement.defaultValue,this.respectiveElement.classList.remove("e-input"),this.removeAttributes(["aria-disabled","aria-readonly","aria-labelledby"]),nn(this.textboxWrapper)||(this.textboxWrapper.container.insertAdjacentElement("afterend",this.respectiveElement),ar(this.textboxWrapper.container)),this.textboxWrapper=null,Ls.destroy({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),e.prototype.destroy.call(this)},t.prototype.addIcon=function(e,t){Ls.addIcon(e,t,this.textboxWrapper.container,this.respectiveElement,this.createElement)},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.addAttributes=function(e){for(var t=0,i=Object.keys(e);t<i.length;t++){var n=i[t];"disabled"===n?(this.setProperties({enabled:!1},!0),Ls.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===n?(this.setProperties({readonly:!0},!0),Ls.setReadonly(this.readonly,this.respectiveElement)):"class"===n?this.respectiveElement.classList.add(e[""+n]):"placeholder"===n?(this.setProperties({placeholder:e[""+n]},!0),Ls.setPlaceholder(this.placeholder,this.respectiveElement)):("rows"===n&&this.respectiveElement.tagName,this.respectiveElement.setAttribute(n,e[""+n]))}},t.prototype.removeAttributes=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];"disabled"===n?(this.setProperties({enabled:!0},!0),Ls.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===n?(this.setProperties({readonly:!1},!0),Ls.setReadonly(this.readonly,this.respectiveElement)):"placeholder"===n?(this.setProperties({placeholder:null},!0),Ls.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.removeAttribute(n)}},t.prototype.focusIn=function(){document.activeElement!==this.respectiveElement&&this.enabled&&(this.respectiveElement.focus(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&nr([this.textboxWrapper.container],[no]))},t.prototype.focusOut=function(){document.activeElement===this.respectiveElement&&this.enabled&&(this.respectiveElement.blur(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&rr([this.textboxWrapper.container],[no]))},so([wr("text")],t.prototype,"type",void 0),so([wr(!1)],t.prototype,"readonly",void 0),so([wr(null)],t.prototype,"value",void 0),so([wr("Never")],t.prototype,"floatLabelType",void 0),so([wr("")],t.prototype,"cssClass",void 0),so([wr(null)],t.prototype,"placeholder",void 0),so([wr("on")],t.prototype,"autocomplete",void 0),so([wr({})],t.prototype,"htmlAttributes",void 0),so([wr(!1)],t.prototype,"multiline",void 0),so([wr(!0)],t.prototype,"enabled",void 0),so([wr(!1)],t.prototype,"showClearButton",void 0),so([wr(!1)],t.prototype,"enablePersistence",void 0),so([wr(null)],t.prototype,"width",void 0),so([Ir()],t.prototype,"created",void 0),so([Ir()],t.prototype,"destroyed",void 0),so([Ir()],t.prototype,"change",void 0),so([Ir()],t.prototype,"blur",void 0),so([Ir()],t.prototype,"focus",void 0),so([Ir()],t.prototype,"input",void 0),t=so([Nr],t)}(Xr),ao=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),lo=["alt","className","disabled","form","id","readOnly","style","tabIndex","title","type","name","onClick","onFocus","onBlur"],ho=["accordion","tab","splitter"],co=/\]/,uo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mountingState=!1,t.attrKeys=[],t.cachedTimeOut=0,t.isAppendCalled=!1,t.initRenderCalled=!1,t.isReactForeceUpdate=!1,t.isReact=!0,t.isshouldComponentUpdateCalled=!1,t.isCreated=!1,t}return ao(t,e),t.prototype.componentDidMount=function(){this.refreshChild(!0),this.canDelayUpdate=-1!==ho.indexOf(this.getModuleName()),this.renderReactComponent(),this.portals&&this.portals.length&&(this.mountingState=!0,this.renderReactTemplates(),this.mountingState=!1)},t.prototype.componentDidUpdate=function(e){this.isshouldComponentUpdateCalled||!this.initRenderCalled||this.isReactForeceUpdate||e!==this.props&&(this.isshouldComponentUpdateCalled=!0,this.updateProperties(this.props,!1,e))},t.prototype.renderReactComponent=function(){var e=this.reactElement;e&&!this.isAppendCalled&&(this.isAppendCalled=!0,this.appendTo(e))},t.prototype.shouldComponentUpdate=function(e){return this.isshouldComponentUpdateCalled=!0,this.initRenderCalled?(this.isAppendCalled||(clearTimeout(this.cachedTimeOut),this.isAppendCalled=!0,this.appendTo(this.reactElement)),this.updateProperties(e),!0):(this.updateProperties(e,!0),!0)},t.prototype.updateProperties=function(e,t,i){for(var n=this,r=tn({},e),s=Object.keys(e),o=tn({},i||this.props),a=nn(o.statelessTemplates)?nn(this.statelessTemplateProps)?[]:this.statelessTemplateProps:o.statelessTemplates,l=0,h=s;l<h.length;l++){var c=h[l],u="className"===c;if("children"!==c)if(u||nn(this.htmlattributes[""+c])||this.htmlattributes[""+c]===r[""+c]||(this.htmlattributes[""+c]=r[""+c]),this.compareValues(o[""+c],e[""+c]))delete r[""+c];else if(-1!==this.attrKeys.indexOf(c))if(u){this.clsName=!0;for(var p=o[""+c].split(" "),d=0;d<p.length;d++)this.element.classList.remove(p[parseInt(d.toString(),10)]);for(var f=r[""+c].split(" "),g=0;g<f.length;g++)this.element.classList.add(f[parseInt(g.toString(),10)])}else"disabled"===c||Object.prototype.hasOwnProperty.call(this.properties,c)||delete r[""+c];else("value"===c&&e[""+c]===this[""+c]||a.indexOf(c)>-1&&("content"===c&&"function"===typeof r[""+c]||e[""+c].toString()===this[""+c].toString()))&&delete r[""+c]}r.children&&delete r.children,this.initRenderCalled&&(this.canDelayUpdate||o.delayUpdate)?setTimeout((function(){n.refreshProperties(r,e,t)})):this.refreshProperties(r,e,t)},t.prototype.refreshProperties=function(e,t,i){var n=nn(this.props.statelessTemplates)?[]:this.props.statelessTemplates;Object.keys(e).length&&(i||this.processComplexTemplate(e,this),this.setProperties(e,i)),-1===n.indexOf("directiveTemplates")&&this.refreshChild(i,t)},t.prototype.processComplexTemplate=function(e,t){var i=t.complexTemplate;if(i)for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var r=i[""+n];e[""+n]&&Ji(r,Xi(n,e),e)}},t.prototype.getDefaultAttributes=function(){var e=this;this.isReact=!0;var i=Object.keys(this.props),n=["children","statelessTemplates","immediateRender","isLegacyTemplate","delayUpdate"];this.htmlattributes||(this.htmlattributes={}),this.attrKeys=lo.concat(this.controlAttributes||[]);for(var r=0,s=i;r<s.length;r++){var o=s[r];(-1!==o.indexOf("data-")||-1!==o.indexOf("aria-")||-1!==this.attrKeys.indexOf(o)||-1===Object.keys(this.properties).indexOf(""+o)&&-1===n.indexOf(""+o))&&this.htmlattributes[""+o]!==this.props[""+o]&&(this.htmlattributes[""+o]=this.props[""+o])}if(!this.htmlattributes.ref){this.htmlattributes.ref=function(t){e.reactElement=t};-1!==["autocomplete","combobox","dropdownlist","dropdowntree","multiselect","listbox","colorpicker","numerictextbox","textbox","uploader","maskedtextbox","slider","datepicker","datetimepicker","daterangepicker","timepicker","checkbox","switch","radio","rating","textarea","multicolumncombobox"].indexOf(this.getModuleName())&&(this.htmlattributes.key=""+t.reactUid,t.reactUid++,this.type&&!this.htmlattributes.type&&(this.htmlattributes.type=this.multiline?"hidden":this.type),this.name&&!this.htmlattributes.name&&(this.htmlattributes.name=this.name))}if(this.clsName)for(var a=this.element.classList,l=this.htmlattributes.className,h=0;h<a.length;h++)-1===l.indexOf(a[parseInt(h.toString(),10)])&&(this.htmlattributes.className=this.htmlattributes.className+" "+a[parseInt(h.toString(),10)]);return this.htmlattributes},t.prototype.trigger=function(e,t,i){var n=this;if(!0!==this.isDestroyed&&this.modelObserver){if(co.test(e)){var r=Xi(e,this);r?(r.call(this,t),i&&i.call(this,t)):i&&i.call(this,t)}"change"!==e&&"input"!==e||this.props.onChange&&t.event&&this.props.onChange.call(void 0,{syntheticEvent:t.event,nativeEvent:{text:t.value},value:t.value,target:this});var s=this.isProtectedOnChange;this.isProtectedOnChange=!1,"created"===e?setTimeout((function(){n.isCreated=!0,n.isDestroyed||n.modelObserver.notify(e,t,i)}),10):this.modelObserver.notify(e,t,i),this.isProtectedOnChange=s}},t.prototype.compareValues=function(e,t){if(typeof e===typeof t){if(e===t)return!0;if((!nn(e)&&e.constructor)!==(!nn(t)&&t.constructor))return!1;if(e instanceof Date||e instanceof RegExp||e instanceof String||e instanceof Number)return e.toString()===t.toString();if($i(e)||Array.isArray(e)){var i=e,n=t;return $i(i)&&(i=[e],n=[t]),this.compareObjects(i,n).status}if(e.constructor&&e.constructor.name===t.constructor.name&&("Query"===e.constructor.name||"DataManager"===e.constructor.name)&&JSON.stringify(e)===JSON.stringify(t))return!0}return!1},t.prototype.compareObjects=function(e,t,i){var n=!0,r=e.length===t.length,s=[],o=nn(this.templateProps)?[]:this.templateProps;if(r)for(var a=0,l=t.length;a<l;a++){var h={},c=e[parseInt(a.toString(),10)],u=t[parseInt(a.toString(),10)],p=Object.keys(u);if(0!==p.length)for(var d=0,f=p;d<f.length;d++){var g=f[d],m=c[""+g],y=u[""+g];if("items"===g)for(var v=0;v<y.length;v++)if("richtexteditor"===this.getModuleName()&&"object"===typeof y[parseInt(v.toString(),10)])return{status:!0};if("grid"===this.getModuleName()&&"field"===g&&(h[""+g]=y),!Object.prototype.hasOwnProperty.call(c,g)||!(o.length>0&&-1===o.indexOf(""+g)&&"function"===typeof y?this.compareValues(m.toString(),y.toString()):this.compareValues(m,y))){if(!i)return{status:!1};n=!1,h[""+g]=y}}else if(t[parseInt(a.toString(),10)]===e[parseInt(a.toString(),10)])n=!0;else{if(!i)return{status:!1};n=!1}"grid"===this.getModuleName()&&"columns"===i&&nn(h.field)&&(h.field=void 0),Object.keys(h).length&&s.push({index:a,value:h,key:i})}else n=!1;return{status:n,changedProperties:s}},t.prototype.refreshChild=function(e,t){if(this.checkInjectedModules){for(var i=this.getInjectedModules()||[],n=0,r=this.getInjectedServices()||[];n<r.length;n++){var s=r[n];-1===i.indexOf(s)&&i.push(s)}this.injectedModules=i}if(this.directivekeys){var o=[],a="",l=this.validateChildren({},this.directivekeys,t||this.props);if(l&&Object.keys(l).length){if(!e&&this.skipRefresh)for(var h=0,c=this.skipRefresh;h<c.length;h++){delete l[""+c[h]]}if(this.prevProperties){for(var u=Object.keys(this.prevProperties),p=0;p<u.length;p++)if(a=u[parseInt(p.toString(),10)],Object.prototype.hasOwnProperty.call(l,a)){var d=this.compareObjects(this.prevProperties[""+a],l[""+a],a);if(d.status)delete l[""+a];else{d.changedProperties.length&&(o=o.concat(d.changedProperties));var f={};f[""+a]=l[""+a],this.prevProperties=tn(this.prevProperties,f)}}}else this.prevProperties=tn({},l,{},!0);if(o.length)if("grid"===this.getModuleName()&&"columns"===a)for(var g=0,m=this.columns;g<m.length;g++){if(Xi("field",m[parseInt(g.toString(),10)])===Xi(g+".value.field",o))(b=Xi(o[parseInt(g.toString(),10)].key+"."+o[parseInt(g.toString(),10)].index,this))&&b.setProperties?b.setProperties(o[parseInt(g.toString(),10)].value):tn(b,o[parseInt(g.toString(),10)].value);else this.setProperties(l,e)}else for(var y=0,v=o;y<v.length;y++){var b,M=v[y];(b=Xi(M.key+"."+M.index,this))&&b.setProperties?b.setProperties(M.value):tn(b,M.value)}else this.setProperties(l,e)}}},t.prototype.componentWillUnmount=function(){clearTimeout(this.cachedTimeOut);var e=!!["dropdowntree","checkbox"].indexOf(this.getModuleName())||document.body.contains(this.element);this.initRenderCalled&&this.isAppendCalled&&this.element&&e&&!this.isDestroyed&&this.isCreated&&this.destroy(),zn.offIntlEvents()},t.prototype.appendReactElement=function(e,t){var i=o.createPortal(e,t);this.portals?this.portals.push(i):this.portals=[i]},t.prototype.renderReactTemplates=function(e){this.isReactForeceUpdate=!0,e?this.forceUpdate(e):this.forceUpdate(),this.isReactForeceUpdate=!1},t.prototype.clearTemplate=function(e,t,i){var n=this,r=[];e&&e.length?Array.prototype.forEach.call(e,(function(e){var i=0;if(n.portals.forEach((function(t){t.propName===e&&(r.push(i),i++)})),!nn(t)&&n.portals[t]&&n.portals[t].propName===e)n.portals.splice(t,1);else for(var s=0;s<n.portals.length;s++)n.portals[parseInt(s.toString(),10)].propName===e&&(n.portals.splice(s,1),s--)})):this.portals=[],this.renderReactTemplates(i)},t.prototype.validateChildren=function(e,t,i){for(var r=!1,s=0,o=n.Children.toArray(i.children);s<o.length;s++){var a=o[s],l=this.getChildType(a),h=t[""+l];if(l&&t){var c=this.getChildProps(n.Children.toArray(a.props.children),h);c.length&&(r=!0,e[a.type.propertyName||l]=c)}}return r?e:null},t.prototype.getChildType=function(e){return e.type&&e.type.isDirective&&e.type.moduleName||""},t.prototype.getChildProps=function(e,t){for(var i=[],n=0,r=e;n<r.length;n++){var s=r[n],o=!1,a=void 0;"string"===typeof t?(o=!0,a=t):a=Object.keys(t)[0];var l=s.props;if(this.getChildType(s)===a)if(o||!l.children){var h=tn({},l,{},!0);this.processComplexTemplate(h,s.type),i.push(h)}else{var c=this.validateChildren(tn({},l),t[""+a],l)||l;c.children&&delete c.children,this.processComplexTemplate(c,s.type),i.push(c)}}return i},t.prototype.getInjectedServices=function(){for(var e=0,t=n.Children.toArray(this.props.children);e<t.length;e++){var i=t[e];if(i.type&&i.type.isService)return i.props.services}return[]},t.reactUid=1,t}(n.Component);var po,fo=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),go=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}fo(t,e),t.prototype.render=function(){return null},t.isDirective=!0}(n.PureComponent),function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),mo=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}go(t,e),t.prototype.render=function(){return null},t.isService=!0}(n.PureComponent),Os.compile);po={compile:function(e,t){return"string"===typeof e||e.prototype&&e.prototype.CSPTemplate&&"function"===typeof e?mo(e,t):function(t,i,r,s){var a,l=e,h=t;"object"===typeof l&&(l=e.template,h=tn({},t,e.data||{})),a=s||document.createElement("div");var c=n.createElement(l,h),u=o.createPortal(c,a);if(u.propName=r,i.portals?i.portals.push(u):i.portals=[u],!s)return[a]}}},Os.compile=po.compile;var yo,vo=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),bo=function(e){function t(t){var i=e.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!1,i.statelessTemplateProps=null,i.templateProps=null,i.immediateRender=!0,i.portals=[],i}return vo(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing)||this.isReactForeceUpdate)return n.createElement(n.Fragment,null,[].concat(n.createElement("input",this.getDefaultAttributes()),this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(oo);yo=bo,[uo,n.Component].forEach((function(e){Object.getOwnPropertyNames(e.prototype).forEach((function(t){"isMounted"!==t&&"replaceState"!==t&&"render"!==t&&(yo.prototype[""+t]=e.prototype[""+t])}))}));var Mo="ej2_instances",So=0,wo=!1;function _o(e,t){var i=t;return i.unshift(void 0),new(Function.prototype.bind.apply(e,i))}function Io(e){var t,i=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(i);var n="ej2"+function(e){for(var t="",i=0;i<5;i++)t+=(i?",":"")+e[parseInt(i.toString(),10)];return t}(i),r=function(i){i.source===window&&"string"===typeof i.data&&i.data.length<=32&&i.data===n&&(e(),t())};return window.addEventListener("message",r,!1),window.postMessage(n,"*"),t=function(){window.removeEventListener("message",r),e=r=n=void 0}}function No(e,t){for(var i=t,n=e.replace(/\[/g,".").replace(/\]/g,"").split("."),r=0;r<n.length&&!zo(i);r++)i=i[n[parseInt(r.toString(),10)]];return i}function Co(e,t,i){var n,r,s=e.replace(/\[/g,".").replace(/\]/g,"").split("."),o=i||{},a=o,l=s.length;for(n=0;n<l;n++)r=s[parseInt(n.toString(),10)],n+1===l?a[""+r]=void 0===t?{}:t:ko(a[""+r])&&(a[""+r]={}),a=a[""+r];return o}function xo(e,t){delete e[""+t]}var Do="undefined"!==typeof window?window:{};function To(e){return!ko(e)&&e.constructor==={}.constructor}function Ao(e,t){return e[t]}function jo(e,t){if(!ko(t))for(var i=e,n=t,r="deepMerge",s=0,o=Object.keys(t);s<o.length;s++){var a=o[s];ko(i[""+r])||-1===i[""+r].indexOf(a)||!To(n[""+a])&&!Array.isArray(n[""+a])?i[""+a]=n[""+a]:Eo(i[""+a],i[""+a],n[""+a],!0)}}function Eo(e,t,i,n){var r=e&&"object"===typeof e?e:{},s=arguments.length;n&&(s-=1);for(var o=function(e){if(!a[e])return"continue";var t=a[e];Object.keys(t).forEach((function(e){var i,s=r[""+e],o=t[""+e],a=Array.isArray(o)&&Array.isArray(s)&&o.length!==s.length,l=!Bo()||!(s instanceof Event)&&!a;n&&l&&(To(o)||Array.isArray(o))?To(o)?(i=s||{},Array.isArray(i)&&i.hasOwnProperty("isComplexArray")?Eo(i,{},o,n):r[""+e]=Eo(i,{},o,n)):(i=Bo()?s&&Object.keys(o).length:s||[],r[""+e]=Eo([],i,o,i&&i.length||o&&o.length)):r[""+e]=o}))},a=arguments,l=1;l<s;l++)o(l);return r}function ko(e){return void 0===e||null===e}function zo(e){return"undefined"===typeof e}function Lo(e){return e+"_"+So++}function Oo(e,t){var i;return function(){var n=this,r=arguments;clearTimeout(i),i=setTimeout((function(){return i=null,e.apply(n,r)}),t)}}function Po(e,t){return e===t||!(e===document||!e)&&Po(e.parentNode,t)}function Ro(e){try{throw new Error(e)}catch(lE){throw lE.message+"\n"+lE.stack}}function Fo(e){var t=e+"";return t.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)?t:t+"px"}function Bo(){return wo}function Vo(e,t){var i="string"===typeof e?document.querySelector(e):e;if(i[""+Mo])for(var n=0,r=i[""+Mo];n<r.length;n++){var s=r[n];if(s instanceof t)return s}return null}var Uo,Ho={latn:{_digits:"0123456789",_type:"numeric"}},Wo={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},Yo=[0,1,2,3,4,5,6,7,8,9],Qo=function(){function e(){}return e.getMainObject=function(e,t){return No(Bo()?t:"main."+t,e)},e.getNumberingSystem=function(e){return No("supplemental.numberingSystems",e)||this.numberingSystems},e.reverseObject=function(e,t){for(var i={},n=0,r=t||Object.keys(e);n<r.length;n++){var s=r[n];i.hasOwnProperty(e[s])||(i[e[s]]=s)}return i},e.getSymbolRegex=function(e){var t=e.map((function(e){return e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")})).join("|");return new RegExp(t,"g")},e.getSymbolMatch=function(e){for(var t={},i=0,n=Object.keys(Wo);i<n.length;i++){var r=n[i];t[e[r]]=Wo[r]}return t},e.constructRegex=function(e){for(var t=e.length,i="",n=0;n<t;n++)i+=n!==t-1?e[parseInt(n.toString(),10)]+"|":e[parseInt(n.toString(),10)];return i},e.convertValueParts=function(e,t,i){return e.replace(t,(function(e){return i[e]}))},e.getDefaultNumberingSystem=function(e){var t={};return t.obj=No("numbers",e),t.nSystem=No("defaultNumberingSystem",t.obj),t},e.getCurrentNumericOptions=function(e,t,i,n){var r={},s=this.getDefaultNumberingSystem(e);if(!zo(s.nSystem)||n){var o=n?No("obj.mapperDigits",s):No(s.nSystem+"._digits",t);if(!zo(o)){r.numericPair=this.reverseObject(o,Yo);var a=RegExp;r.numberParseRegex=new a(this.constructRegex(o),"g"),r.numericRegex="["+o[0]+"-"+o[9]+"]",i&&(r.numericRegex=o[0]+"-"+o[9],r.symbolNumberSystem=No(n?"numberSymbols":"symbols-numberSystem-"+s.nSystem,s.obj),r.symbolMatch=this.getSymbolMatch(r.symbolNumberSystem),r.numberSystem=s.nSystem)}}return r},e.getNumberMapper=function(e,t,i){var n={mapper:{}},r=this.getDefaultNumberingSystem(e);if(!zo(r.nSystem)){n.numberSystem=r.nSystem,n.numberSymbols=No("symbols-numberSystem-"+r.nSystem,r.obj),n.timeSeparator=No("timeSeparator",n.numberSymbols);var s=No(r.nSystem+"._digits",t);if(!zo(s))for(var o=0,a=Yo;o<a.length;o++){var l=a[o];n.mapper[l]=s[l]}}return n},e.nPair="numericPair",e.nRegex="numericRegex",e.numberingSystems=Ho,e}(),qo={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.",BHD:"\u062f.\u0628.",DZD:"\u062f.\u062c.",EGP:"\u062c.\u0645.",ILS:"\u20aa",IQD:"\u062f.\u0639.",JOD:"\u062f.\u0627.",KMF:"CF",KWD:"\u062f.\u0643.",LBP:"\u0644.\u0644.",LYD:"\u062f.\u0644.",MAD:"\u062f.\u0645.",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.",QAR:"\u0631.\u0642.",SAR:"\u0631.\u0633.",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.",TND:"\u062f.\u062a.",YER:"\u0631.\u064a.",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};!function(e){var t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];e.getHijriDate=function(e){var i=e.getDate(),n=e.getMonth(),r=e.getFullYear(),s=n+1,o=r;s<3&&(o-=1,s+=12);var a=Math.floor(o/100),l=a-Math.floor(a/4)-2,h=Math.floor(365.25*(o+4716))+Math.floor(30.6001*(s+1))+i-l-1524,c=h+(l=(a=Math.floor((h-1867216.25)/36524.25))-Math.floor(a/4)+1)+1524,u=Math.floor((c-122.1)/365.25),p=Math.floor(365.25*u),d=Math.floor((c-p)/30.6001);i=c-p-Math.floor(30.6001*d),(n=Math.floor((c-p)/20.6001))>13&&(u+=1,n-=12),n-=1,r=u-4716;var f=h-24e5,g=10631/30,m=h-1948084,y=Math.floor(m/10631);m-=10631*y;var v=Math.floor((m-.1335)/g),b=30*y+v;m-=Math.floor(v*g+.1335);var M=Math.floor((m+28.5001)/29.5);13===M&&(M=12);for(var S=m-Math.floor(29.5001*M-29),w=0;w<t.length&&!(t[parseInt(w.toString(),10)]>f);w++);var _=w+16260,I=Math.floor((_-1)/12),N=I+1,C=_-12*I,x=f-t[w-1]+1;return(x+"").length>2&&(x=S,C=M,N=b),{year:N,month:C,date:x}},e.toGregorian=function(e,i,n){var r=n+t[12*(e-1)+1+(i-1)-16260-1]-1+24e5,s=Math.floor(r+.5),o=Math.floor((s-1867216.25)/36524.25),a=(o=s+1+o-Math.floor(o/4))+1524,l=Math.floor((a-122.1)/365.25),h=Math.floor(365.25*l),c=Math.floor((a-h)/30.6001),u=a-h-Math.floor(30.6001*c),p=c-(c>13.5?13:1),d=l-(p>2.5?4716:4715);return d<=0&&p--,new Date(d+"/"+p+"/"+u)}}(Uo||(Uo={}));var Go=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,Ko="stand-alone",Xo=["sun","mon","tue","wed","thu","fri","sat"],Jo={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},Zo={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},$o=function(){function e(){}return e.dateFormat=function(e,t,i){var n=this,r=Sa.getDependables(i,e,t.calendar),s=No("parserObject.numbers",r),o=r.dateObject,a={isIslamic:Sa.islamicRegex.test(t.calendar)};Bo()&&t.isServerRendered&&(t=Sa.compareBlazorDateFormats(t,e));var l=t.format||Sa.getResultantPattern(t.skeleton,r.dateObject,t.type,!1,Bo()?e:"");if(a.dateSeperator=Bo()?No("dateSeperator",o):Sa.getDateSeparator(r.dateObject),zo(l))Ro("Format options or type given must be invalid");else{l=Sa.ConvertDateToWeekFormat(l),Bo()&&(l=l.replace(/tt/,"a")),a.pattern=l,a.numMapper=Bo()?Eo({},s):Qo.getNumberMapper(r.parserObject,Qo.getNumberingSystem(i));for(var h=0,c=l.match(Go)||[];h<c.length;h++){var u=c[h],p=u.length,d=u[0];switch("K"===d&&(d="h"),d){case"E":case"c":Bo()?a.weekday=No("days."+Sa.monthIndex[p],o):a.weekday=r.dateObject[Sa.days][Ko][Sa.monthIndex[p]];break;case"M":case"L":Bo()?a.month=No("months."+Sa.monthIndex[p],o):a.month=r.dateObject[Sa.month][Ko][Sa.monthIndex[p]];break;case"a":a.designator=Bo()?No("dayPeriods",o):No("dayPeriods.format.wide",o);break;case"G":var f=p<=3?"eraAbbr":4===p?"eraNames":"eraNarrow";a.era=Bo()?No("eras",o):No("eras."+f,r.dateObject);break;case"z":a.timeZone=No("dates.timeZoneNames",r.parserObject)}}}return function(e){return isNaN(e.getDate())?null:n.intDateFormatter(e,a)}},e.intDateFormatter=function(e,t){for(var i="",n=t.pattern.match(Sa.dateParseRegex),r=this.getCurrentDateValue(e,t.isIslamic),s=0,o=n;s<o.length;s++){var a=o[s],l=a.length,h=a[0];"K"===h&&(h="h");var c=void 0,u="",p=void 0,d=void 0,f="";switch(h){case"M":case"L":c=r.month,l>2?i+=t.month[c]:p=!0;break;case"E":case"c":i+=t.weekday[Xo[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(p=!0,"d"===h)c=r.date;else if("f"===h){p=!1,d=!0;var g=(u=(u=e[Jo[h]]().toString()).substring(0,l)).length;if(l!==g){if(l>3)continue;for(var m=0;m<l-g;m++)u="0"+u.toString()}f+=u}else c=e[Jo[h]]();"h"===h&&(c=c%12||12);break;case"y":d=!0,f+=r.year,2===l&&(f=f.substr(f.length-2));break;case"a":var y=e.getHours()<12?"am":"pm";i+=t.designator[y];break;case"G":var v=e.getFullYear()<0?0:1,b=t.era[v];ko(b)&&(b=t.era[v?0:1]),i+=b||"";break;case"'":i+="''"===a?"'":a.replace(/'/g,"");break;case"z":var M=e.getTimezoneOffset(),S=l<4?"+H;-H":t.timeZone.hourFormat;S=S.replace(/:/g,t.numMapper.timeSeparator),0===M?i+=t.timeZone.gmtZeroFormat:(d=!0,f=this.getTimeZoneValue(M,S)),f=t.timeZone.gmtFormat.replace(/\{0\}/,f);break;case":":i+=t.numMapper.numberSymbols.timeSeparator;break;case"/":i+=t.dateSeperator;break;case"W":p=!0,c=Sa.getWeekOfYear(e);break;default:i+=a}p&&(d=!0,f=this.checkTwodigitNumber(c,l)),d&&(i+=Qo.convertValueParts(f,Sa.latnParseRegex,t.numMapper.mapper))}return i},e.getCurrentDateValue=function(e,t){return t?Uo.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}},e.checkTwodigitNumber=function(e,t){var i=e+"";return 2===t&&2!==i.length?"0"+i:i},e.getTimeZoneValue=function(e,t){var i=this,n=t.split(";")[e>0?1:0],r=Math.abs(e);return n.replace(/HH?|mm/g,(function(e){var t=e.length,n=-1!==e.indexOf("H");return i.checkTwodigitNumber(Math.floor(n?r/60:r%60),t)}))},e}(),ea={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},ta=["infinity","nan","group","decimal","exponential"],ia=function(){function e(){}return e.numberFormatter=function(e,t,i){var n,r=this,s=Eo({},t),o={},a={},l=Sa.getDependables(i,e,"",!0),h=l.numericObject;a.numberMapper=Bo()?Eo({},h):Qo.getNumberMapper(l.parserObject,Qo.getNumberingSystem(i),!0),a.currencySymbol=Bo()?No("currencySymbol",h):Sa.getCurrencySymbol(l.numericObject,s.currency||ma,t.altSymbol),a.percentSymbol=Bo()?No("numberSymbols.percentSign",h):a.numberMapper.numberSymbols.percentSign,a.minusSymbol=Bo()?No("numberSymbols.minusSign",h):a.numberMapper.numberSymbols.minusSign;var c=a.numberMapper.numberSymbols;if(t.format&&!Sa.formatRegex.test(t.format))o=Sa.customFormat(t.format,a,l.numericObject);else{if(Eo(s,Sa.getProperNumericSkeleton(t.format||"N")),s.isCurrency="currency"===s.type,s.isPercent="percent"===s.type,Bo()||(n=Sa.getSymbolPattern(s.type,a.numberMapper.numberSystem,l.numericObject,s.isAccount)),s.groupOne=this.checkValueRange(s.maximumSignificantDigits,s.minimumSignificantDigits,!0),this.checkValueRange(s.maximumFractionDigits,s.minimumFractionDigits,!1,!0),zo(s.fractionDigits)||(s.minimumFractionDigits=s.maximumFractionDigits=s.fractionDigits),zo(s.useGrouping)&&(s.useGrouping=!0),s.isCurrency&&!Bo()&&(n=n.replace(/\u00A4/g,Sa.defaultCurrency)),Bo())o.nData=Eo({},{},No(s.type+"nData",h)),o.pData=Eo({},{},No(s.type+"pData",h)),"currency"===s.type&&t.currency&&Sa.replaceBlazorCurrency([o.pData,o.nData],a.currencySymbol,t.currency);else{var u=n.split(";");o.nData=Sa.getFormatData(u[1]||"-"+u[0],!0,a.currencySymbol),o.pData=Sa.getFormatData(u[0],!1,a.currencySymbol),s.useGrouping&&(s.groupSeparator=c[ta[2]],s.groupData=this.getGroupingDetails(u[0]))}if(zo(s.minimumFractionDigits)&&(s.minimumFractionDigits=o.nData.minimumFraction),zo(s.maximumFractionDigits)){var p=o.nData.maximumFraction;s.maximumFractionDigits=zo(p)&&s.isPercent?0:p}var d=s.minimumFractionDigits,f=s.maximumFractionDigits;zo(d)||zo(f)||d>f&&(s.maximumFractionDigits=d)}return Eo(o.nData,s),Eo(o.pData,s),function(e){return isNaN(e)?c[ta[1]]:isFinite(e)?r.intNumberFormatter(e,o,a,t):c[ta[0]]}},e.getGroupingDetails=function(e){var t={},i=e.match(Sa.negativeDataRegex);if(i&&i[4]){var n=i[4],r=n.lastIndexOf(",");if(-1!==r){var s=n.split(".")[0];t.primary=s.length-r-1;var o=n.lastIndexOf(",",r-1);-1!==o&&(t.secondary=r-1-o)}}return t},e.checkValueRange=function(e,t,i,n){var r=n?"f":"s",s=0,o=ea["l"+r],a=ea["m"+r];if(zo(e)||(this.checkRange(e,o,n),s++),zo(t)||(this.checkRange(t,a,n),s++),2===s){if(!(e<t))return!0;Ro(a+"specified must be less than the"+o)}else i&&1===s&&Ro("Both"+a+"and"+a+"must be present");return!1},e.checkRange=function(e,t,i){var n=i?[0,20]:[1,21];(e<n[0]||e>n[1])&&Ro(t+"value must be within the range"+n[0]+"to"+n[1])},e.intNumberFormatter=function(e,t,i,n){var r;if(!zo(t.nData.type)){e<0?(e*=-1,r=t.nData):r=0===e&&t.zeroData||t.pData;var s="";if(r.isPercent&&(e*=100),r.groupOne)s=this.processSignificantDigits(e,r.minimumSignificantDigits,r.maximumSignificantDigits);else if(s=this.processFraction(e,r.minimumFractionDigits,r.maximumFractionDigits,n),r.minimumIntegerDigits&&(s=this.processMinimumIntegers(s,r.minimumIntegerDigits)),i.isCustomFormat&&r.minimumFractionDigits<r.maximumFractionDigits&&/\d+\.\d+/.test(s)){for(var o=s.split("."),a=o[1],l=a.length-1;l>=0&&("0"===a[""+l]&&l>=r.minimumFractionDigits);l--)a=a.slice(0,l);s=o[0]+"."+a}return"scientific"===r.type&&(s=(s=e.toExponential(r.maximumFractionDigits)).replace("e",i.numberMapper.numberSymbols[ta[4]])),s=s.replace(".",i.numberMapper.numberSymbols[ta[3]]),s="#,###,,;(#,###,,)"===r.format?this.customPivotFormat(parseInt(s)):s,r.useGrouping&&(s=this.groupNumbers(s,r.groupData.primary,r.groupSeparator||",",i.numberMapper.numberSymbols[ta[3]]||".",r.groupData.secondary)),s=Qo.convertValueParts(s,Sa.latnParseRegex,i.numberMapper.mapper),"N/A"===r.nlead?r.nlead:"0"===s&&n&&"0"===n.format?s+r.nend:r.nlead+s+r.nend}},e.processSignificantDigits=function(e,t,i){var n=e+"";return n.length<t?e.toPrecision(t):+(n=e.toPrecision(i))+""},e.groupNumbers=function(e,t,i,n,r){for(var s=!ko(r)&&0!==r,o=e.split(n),a=o[0],l=a.length,h="";l>t;)h=a.slice(l-t,l)+(h.length?i+h:""),l-=t,s&&(t=r,s=!1);return o[0]=a.slice(0,l)+(h.length?i:"")+h,o.join(n)},e.processFraction=function(e,t,i,n){var r=(e+"").split(".")[1],s=r?r.length:0;if(t&&s<t){var o="";if(0!==s){o+=e;for(var a=0;a<t-s;a++)o+="0";return o}return o=e.toFixed(t),e.toFixed(t)}if(!ko(i)&&(s>i||0===i))return e.toFixed(i);var l=e+"";return"0"===l[0]&&n&&"###.00"===n.format&&(l=l.slice(1)),l},e.processMinimumIntegers=function(e,t){var i=e.split("."),n=i[0],r=n.length;if(r<t){for(var s=0;s<t-r;s++)n="0"+n;i[0]=n}return i.join(".")},e.customPivotFormat=function(e){if(e>=5e5){var t=(e/=1e6).toString().split("."),i=(t[0],t[1]);return i&&+i.substring(0,1)>=5?Math.ceil(e).toString():Math.floor(e).toString()}return""},e}(),na="stand-alone",ra=/^[0-9]*$/,sa={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},oa=function(){function e(){}return e.dateParser=function(e,t,i){var n=this,r=Sa.getDependables(i,e,t.calendar),s=Qo.getCurrentNumericOptions(r.parserObject,Qo.getNumberingSystem(i),!1,Bo()),o={};Bo()&&t.isServerRendered&&(t=Sa.compareBlazorDateFormats(t,e));var a,l=t.format||Sa.getResultantPattern(t.skeleton,r.dateObject,t.type,!1,Bo()?e:""),h="";if(zo(l))Ro("Format options or type given must be invalid");else{l=Sa.ConvertDateToWeekFormat(l),o={isIslamic:Sa.islamicRegex.test(t.calendar),pattern:l,evalposition:{},culture:e};for(var c=l.match(Sa.dateParseRegex)||[],u=c.length,p=0,d=0,f=!1,g=s.numericRegex,m=Bo()?r.parserObject.numbers:Qo.getNumberMapper(r.parserObject,Qo.getNumberingSystem(i)),y=0;y<u;y++){var v=c[parseInt(y.toString(),10)],b=v.length,M="K"===v[0]?"h":v[0],S=void 0,w=void 0,_=Zo[M],I=2===b?"":"?";switch(f&&(p=d,f=!1),M){case"E":case"c":var N=void 0;N=Bo()?No("days."+Sa.monthIndex[b],r.dateObject):r.dateObject[Sa.days][na][Sa.monthIndex[b]];var C=Qo.reverseObject(N);h+="("+Object.keys(C).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(w=!0,("M"===M||"L"===M)&&b>2){var x=void 0;x=Bo()?No("months."+Sa.monthIndex[b],r.dateObject):r.dateObject.months[na][Sa.monthIndex[b]],o[_]=Qo.reverseObject(x),h+="("+Object.keys(o[_]).join("|")+")"}else if("f"===M){if(b>3)continue;S=!0,h+="("+g+g+"?"+g+"?)"}else S=!0,h+="("+g+g+I+")";"h"===M&&(o.hour12=!0);break;case"W":h+="("+g+(1===b?"?":"")+g+")";break;case"y":w=S=!0,h+=2===b?"("+g+g+")":"("+g+"{"+b+",})";break;case"a":w=!0;var D=Bo()?No("dayPeriods",r.dateObject):No("dayPeriods.format.wide",r.dateObject);o[_]=Qo.reverseObject(D),h+="("+Object.keys(o[_]).join("|")+")";break;case"G":w=!0;var T=b<=3?"eraAbbr":4===b?"eraNames":"eraNarrow";o[_]=Qo.reverseObject(Bo()?No("eras",r.dateObject):No("eras."+T,r.dateObject)),h+="("+Object.keys(o[_]).join("|")+"?)";break;case"z":w=0!==(new Date).getTimezoneOffset(),o[_]=No("dates.timeZoneNames",r.parserObject);var A=o[_],j=(a=b<4)?"+H;-H":A.hourFormat;j=j.replace(/:/g,m.timeSeparator),h+="("+this.parseTimeZoneRegx(j,A,g)+")?",f=!0,d=a?6:12;break;case"'":h+="("+v.replace(/'/g,"")+")?";break;default:h+="([\\D])"}if(w&&(o.evalposition[""+_]={isNumber:S,pos:y+1+p,hourOnly:a}),y===u-1&&!ko(h)){var E=RegExp;o.parserRegex=new E("^"+h+"$","i")}}}return function(e){var t=n.internalDateParse(e,o,s);if(ko(t)||!Object.keys(t).length)return null;if(o.isIslamic){var i={},r=t.year,a=t.day,l=t.month,h=r?r+"":"",c=2===h.length;r&&l&&a&&!c||(i=Uo.getHijriDate(new Date)),c&&(r=parseInt((i.year+"").slice(0,2)+h,10));var u=Uo.toGregorian(r||i.year,l||i.month,a||i.date);t.year=u.getFullYear(),t.month=u.getMonth()+1,t.day=u.getDate()}return n.getDateObject(t)}},e.getDateObject=function(e,t){var i=t||new Date;i.setMilliseconds(0);var n=e.year,r=e.designator,s=e.timeZone;if(!zo(n)){if((n+"").length<=2)n+=100*Math.floor(i.getFullYear()/100);i.setFullYear(n)}for(var o=0,a=["hour","minute","second","milliseconds","month","day"];o<a.length;o++){var l=a[o],h=e[l];if(zo(h)&&"day"===l&&i.setDate(1),!zo(h))if("month"===l){if((h-=1)<0||h>11)return new Date("invalid");var c=i.getDate();i.setDate(1),i[sa[l]](h);var u=new Date(i.getFullYear(),h+1,0).getDate();i.setDate(c<u?c:u)}else{if("day"===l){var p=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(h<1||h>p)return null}i[sa[l]](h)}}if(!zo(r)){var d=i.getHours();"pm"===r?i.setHours(d+(12===d?0:12)):12===d&&i.setHours(0)}if(!zo(s)){var f=s-i.getTimezoneOffset();0!==f&&i.setMinutes(i.getMinutes()+f)}return i},e.internalDateParse=function(e,t,i){var n=e.match(t.parserRegex),r={hour:0,minute:0,second:0};if(ko(n))return null;for(var s=0,o=Object.keys(t.evalposition);s<o.length;s++){var a=o[s],l=t.evalposition[""+a],h=n[l.pos];if(l.isNumber)r[a]=this.internalNumberParser(h,i);else if("timeZone"!==a||zo(h))h="month"!==a||t.isIslamic||"en"!==t.culture&&"en-GB"!==t.culture&&"en-US"!==t.culture?h:h[0].toUpperCase()+h.substring(1).toLowerCase(),h="month"!==a&&"designator"===a&&"en-GB"===t.culture?h.toLowerCase():h,r[a]=t[a][h];else{var c=l.pos,u=void 0,p=n[c+1],d=!zo(p);l.hourOnly?u=60*this.getZoneValue(d,p,n[c+4],i):(u=60*this.getZoneValue(d,p,n[c+7],i),u+=this.getZoneValue(d,n[c+4],n[c+10],i)),ko(u)||(r[""+a]=u)}}return t.hour12&&(r.hour12=!0),r},e.internalNumberParser=function(e,t){return e=Qo.convertValueParts(e,t.numberParseRegex,t.numericPair),ra.test(e)?+e:null},e.parseTimeZoneRegx=function(e,t,i){var n,r,s=t.gmtFormat,o="("+i+")("+i+")";return n=e.replace("+","\\+"),r=(n=-1!==e.indexOf("HH")?n.replace(/HH|mm/g,"("+o+")"):n.replace(/H|m/g,"("+o+"?)")).split(";").map((function(e){return s.replace("{0}",e)})),n=r.join("|")+"|"+t.gmtZeroFormat},e.getZoneValue=function(e,t,i,n){var r=e?t:i;if(!r)return 0;var s=this.internalNumberParser(r,n);return e?-s:s},e}(),aa=new RegExp("^([^0-9]*)(([0-9,]*[0-9]+)(.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$"),la=/,/g,ha=["minusSign","infinity"],ca=function(){function e(){}return e.numberParser=function(e,t,i){var n,r=this,s=Sa.getDependables(i,e,"",!0),o={custom:!0};Sa.formatRegex.test(t.format)||!t.format?(Eo(o,Sa.getProperNumericSkeleton(t.format||"N")),o.custom=!1,o.fractionDigits||t.maximumFractionDigits&&(o.maximumFractionDigits=t.maximumFractionDigits)):Eo(o,Sa.customFormat(t.format,null,null));var a,l=No("numbers",s.parserObject);if(n=Qo.getCurrentNumericOptions(s.parserObject,Qo.getNumberingSystem(i),!0,Bo()),o.symbolRegex=Qo.getSymbolRegex(Object.keys(n.symbolMatch)),o.infinity=n.symbolNumberSystem[ha[1]],Bo())o.nData=Eo({},{},No(o.type+"nData",l)),o.pData=Eo({},{},No(o.type+"pData",l)),"currency"===o.type&&t.currency&&Sa.replaceBlazorCurrency([o.pData,o.nData],No("currencySymbol",l),t.currency);else if(a=Sa.getSymbolPattern(o.type,n.numberSystem,s.numericObject,o.isAccount)){var h=(a=a.replace(/\u00A4/g,Sa.defaultCurrency)).split(";");o.nData=Sa.getFormatData(h[1]||"-"+h[0],!0,""),o.pData=Sa.getFormatData(h[0],!0,"")}return function(e){return r.getParsedNumber(e,o,n)}},e.getParsedNumber=function(e,t,i){var n,r,s,o,a,l;if(-1!==e.indexOf(t.infinity))return 1/0;e=Qo.convertValueParts(e,t.symbolRegex,i.symbolMatch),0===(e=-1!==(e=Qo.convertValueParts(e,i.numberParseRegex,i.numericPair)).indexOf("-")?e.replace("-.","-0."):e).indexOf(".")&&(e="0"+e);var h=e.match(aa);if(ko(h))return NaN;o=h[1],s=h[2];var c=h[5];return a=h[6],r=(n=t.custom?o===t.nData.nlead&&a===t.nData.nend:-1!==o.indexOf(t.nData.nlead)&&-1!==a.indexOf(t.nData.nend))?t.nData.isPercent:t.pData.isPercent,s=s.replace(la,""),c&&(s+=c),l=+s,("percent"===t.type||r)&&(l/=100),(t.custom||t.fractionDigits)&&(l=parseFloat(l.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),t.maximumFractionDigits&&(l=this.convertMaxFracDigits(s,t,l,n)),n&&(l*=-1),l},e.convertMaxFracDigits=function(e,t,i,n){var r=e.split(".");return r[1]&&r[1].length>t.maximumFractionDigits&&(i=+i.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.maximumFractionDigits)),i},e}(),ua=function(){function e(e){this.ranArray=[],this.boundedEvents={},ko(e)||(this.context=e)}return e.prototype.on=function(e,t,i,n){if(!ko(t)){var r=i||this.context;this.notExist(e)?this.boundedEvents[""+e]=[{handler:t,context:r,id:n}]:ko(n)?this.isHandlerPresent(this.boundedEvents[""+e],t)||this.boundedEvents[""+e].push({handler:t,context:r}):-1===this.ranArray.indexOf(n)&&(this.ranArray.push(n),this.boundedEvents[""+e].push({handler:t,context:r,id:n}))}},e.prototype.off=function(e,t,i){if(!this.notExist(e)){var n=No(e,this.boundedEvents);if(t){for(var r=0;r<n.length;r++)if(i){if(n[parseInt(r.toString(),10)].id===i){n.splice(r,1);var s=this.ranArray.indexOf(i);-1!==s&&this.ranArray.splice(s,1);break}}else if(t===n[parseInt(r.toString(),10)].handler){n.splice(r,1);break}}else delete this.boundedEvents[""+e]}},e.prototype.notify=function(e,t,i,n){if(this.notExist(e))i&&i.call(this,t);else{t&&(t.name=e);var r=No(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(r,t,i,n,0);for(var s=0,o=r;s<o.length;s++){var a=o[s];a.handler.call(a.context,t)}i&&i.call(this,t)}},e.prototype.blazorCallback=function(e,t,i,n,r){var s=this,o=r===e.length-1;if(r<e.length){var a=e[parseInt(r.toString(),10)],l=a.handler.call(a.context,t);if(l&&"function"===typeof l.then){if(!i)return l;l.then((function(l){if(l="string"===typeof l&&s.isJson(l)?JSON.parse(l,s.dateReviver):l,Eo(t,t,l,!0),!i||!o)return s.blazorCallback(e,t,i,n,r+1);i.call(a.context,t)})).catch((function(e){n&&n.call(a.context,"string"===typeof e&&s.isJson(e)?JSON.parse(e,s.dateReviver):e)}))}else{if(!i||!o)return this.blazorCallback(e,t,i,n,r+1);i.call(a.context,t)}}},e.prototype.dateReviver=function(e,t){return Bo&&"string"===typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t},e.prototype.isJson=function(e){try{JSON.parse(e)}catch(lE){return!1}return!0},e.prototype.destroy=function(){this.boundedEvents=this.context=void 0},e.prototype.offIntlEvents=function(){var e=this.boundedEvents.notifyExternalChange;if(e){for(var t=0;t<e.length;t++){var i=e[""+t].context;i&&i.detectFunction&&i.randomId&&!i.isRendered&&(this.off("notifyExternalChange",i.detectFunction,i.randomId),t--)}this.boundedEvents.notifyExternalChange.length||delete this.boundedEvents.notifyExternalChange}},e.prototype.notExist=function(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0},e.prototype.isHandlerPresent=function(e,t){for(var i=0,n=e;i<n.length;i++){if(n[i].handler===t)return!0}return!1},e}(),pa=new ua,da=!1,fa={},ga="en-US",ma="USD",ya=["numericObject","dateObject"],va=function(){function e(e){e&&(this.culture=e)}return e.prototype.getDateFormat=function(e){return $o.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},fa)},e.prototype.getNumberFormat=function(e){return e&&!e.currency&&(e.currency=ma),Bo()&&e&&!e.format&&(e.minimumFractionDigits=0),ia.numberFormatter(this.getCulture(),e||{},fa)},e.prototype.getDateParser=function(e){return oa.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},fa)},e.prototype.getNumberParser=function(e){return Bo()&&e&&!e.format&&(e.minimumFractionDigits=0),ca.numberParser(this.getCulture(),e||{format:"N"},fa)},e.prototype.formatNumber=function(e,t){return this.getNumberFormat(t)(e)},e.prototype.formatDate=function(e,t){return this.getDateFormat(t)(e)},e.prototype.parseDate=function(e,t){return this.getDateParser(t)(e)},e.prototype.parseNumber=function(e,t){return this.getNumberParser(t)(e)},e.prototype.getDatePattern=function(e,t){return Sa.getActualDateTimeFormat(this.getCulture(),e,fa,t)},e.prototype.getNumberPattern=function(e,t){return Sa.getActualNumberFormat(this.getCulture(),e,fa,t)},e.prototype.getFirstDayOfWeek=function(){return Sa.getWeekData(this.getCulture(),fa)},e.prototype.getCulture=function(){return this.culture||ga},e}();function ba(e,t){var i=Sa.getDependables(fa,e,"",!0)[ya[0]],n=Sa.getDependables(fa,e,"")[ya[1]],r=No("defaultNumberingSystem",i),s=Bo()?No("numberSymbols",i):No("symbols-numberSystem-"+r,i),o=Sa.getSymbolPattern(t||"decimal",r,i,!1);return Eo(s,Sa.getFormatData(o,!0,"",!0),{dateSeparator:Sa.getDateSeparator(n)})}function Ma(e){return Sa.getDependables(fa,"",e,!1)[ya[1]]}var Sa,wa=RegExp,_a={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};!function(e){e.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*[0#\ ]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;e.defaultCurrency="$";var i=["infinity","nan","group","decimal"],n=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,r={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};e.dateConverterMapper=/dddd|ddd/gi;e.islamicRegex=/^islamic/;var s={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};e.formatRegex=new wa("(^[ncpae]{1})([0-1]?[0-9]|20)?$","i"),e.currencyFormatRegex=new wa("(^[ca]{1})([0-1]?[0-9]|20)?$","i"),e.curWithoutNumberRegex=/(c|a)$/gi;var o={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function a(t,i,n,r,s){var o,a=n||"date";if(s)o=u({skeleton:t},s).format||u({skeleton:"d"},"en-US").format;else{if(-1!==e.basicPatterns.indexOf(t)){if(o=No(a+"Formats."+t,i),"dateTime"===a){var l=No("dateFormats."+t,i),h=No("timeFormats."+t,i);o=o.replace("{1}",l).replace("{0}",h)}}else o=No("dateTimeFormats.availableFormats."+t,i);zo(o)&&"yMd"===t&&(o="M/d/y")}return o}function l(t,i,n,r){var s={},o=n||"gregorian";if(s.parserObject=Qo.getMainObject(t,i)||(Bo()?e.blazorDefaultObject:e.defaultObject),r)s.numericObject=No("numbers",s.parserObject);else{var a=Bo()?"dates":"dates.calendars."+o;s.dateObject=No(a,s.parserObject)}return s}function h(e,t,i,n){return No(e+"Formats-numberSystem-"+t+(n?".accounting":".standard"),i)||(n?No(e+"Formats-numberSystem-"+t+".standard",i):"")}function c(t){var i=t.match(e.dateConverterMapper);if(i&&Bo()){var n=3===i[0].length?"EEE":"EEEE";return t.replace(e.dateConverterMapper,n)}return t}function u(e,t){var i=e.format||e.skeleton,n=No((t||"en-US")+"."+i,_a);return n||(n=No("en-US."+i,_a)),n&&(n=c(n),e.format=n.replace(/tt/,"a")),e}function p(t){var i=t.match(e.formatRegex),n={},r=i[1].toUpperCase();return n.isAccount="A"===r,n.type=e.patternMatcher[r],t.length>1&&(n.fractionDigits=parseInt(i[2],10)),n}function d(i,n,r,s){var o=s?{}:{nlead:"",nend:""},a=i.match(e.customRegex);if(a){s||(o.nlead=f(a[1],r),o.nend=f(a[10],r),o.groupPattern=a[4]);var l=a[7];if(l&&n){var h=l.match(t);ko(h)?o.minimumFraction=0:o.minimumFraction=h.length,o.maximumFraction=l.length-1}}return o}function f(t,i){return t?t.replace(e.defaultCurrency,i):""}function g(e,t,i){return No("currencies."+t+(i?"."+i:".symbol"),e)||No("currencies."+t+".symbol-alt-narrow",e)||"$"}function m(t,n,r){var s={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},o=t.match(e.customRegex);if(ko(o)||""===o[5]&&"N/A"!==t)return s.type=void 0,s;s.nlead=o[1],s.nend=o[10];var a=o[6],l=!!a.match(/\ $/g),c=-1!==a.replace(/\ $/g,"").indexOf(" ");s.useGrouping=-1!==a.indexOf(",")||c,a=a.replace(/,/g,"");var u=o[7];if(-1!==a.indexOf("0")&&(s.minimumIntegerDigits=a.length-a.indexOf("0")),ko(u)||(s.minimumFractionDigits=u.lastIndexOf("0"),s.maximumFractionDigits=u.lastIndexOf("#"),-1===s.minimumFractionDigits&&(s.minimumFractionDigits=0),(-1===s.maximumFractionDigits||s.maximumFractionDigits<s.minimumFractionDigits)&&(s.maximumFractionDigits=s.minimumFractionDigits)),ko(n)?Eo(s,y([s.nlead,s.nend],"%","%")):(n.isCustomFormat=!0,Eo(s,y([s.nlead,s.nend],"$",n.currencySymbol)),s.isCurrency||Eo(s,y([s.nlead,s.nend],"%",n.percentSymbol))),!ko(r)){var p=h(s.type,n.numberMapper.numberSystem,r,!1);s.useGrouping&&(s.groupSeparator=c?" ":n.numberMapper.numberSymbols[i[2]],s.groupData=ia.getGroupingDetails(p.split(";")[0])),s.nlead=s.nlead.replace(/'/g,""),s.nend=l?" "+s.nend.replace(/'/g,""):s.nend.replace(/'/g,"")}return s}function y(e,t,i){for(var n={nlead:e[0],nend:e[1]},r=0;r<2;r++){var s=e[parseInt(r.toString(),10)],a=s.indexOf(t);if(-1!==a&&(a<s.indexOf("'")||a>s.lastIndexOf("'"))){n[o[r]]=s.substr(0,a)+i+s.substr(a+1),n[o[t]]=!0,n.type=n.isCurrency?"currency":"percent";break}}return n}function v(e,t,i){e+=".";for(var n=0;n<t;n++)e+="0";if(t<i)for(var r=i-t,s=0;s<r;s++)e+="#";return e}function b(e,t){for(var i=e.split("."),n="",r=0;r<t;r++)n+="0";return i[1]?n+"."+i[1]:n}function M(e){var t=e.split("."),i=t[0],n=3-i.length%3;e="";for(var r=(i=(n&&1===n?"#":2===n?"##":"")+i).length-1;r>0;r-=3)e=","+i[r-2]+i[r-1]+i[parseInt(r.toString(),10)]+e;return e=e.slice(1),t[1]?e+"."+t[1]:e}e.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,e.basicPatterns=["short","medium","long","full"],e.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},e.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},e.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},e.month="months",e.days="days",e.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},e.getResultantPattern=a,e.getDependables=l,e.getSymbolPattern=h,e.ConvertDateToWeekFormat=c,e.compareBlazorDateFormats=u,e.getProperNumericSkeleton=p,e.getFormatData=d,e.changeCurrencySymbol=f,e.getCurrencySymbol=g,e.customFormat=function(e,t,i){for(var n={},r=e.split(";"),s=["pData","nData","zeroData"],o=0;o<r.length;o++)n[s[o]]=m(r[o],t,i);return ko(n.nData)&&(n.nData=Eo({},n.pData),n.nData.nlead=ko(t)?"-"+n.nData.nlead:t.minusSymbol+n.nData.nlead),n},e.customNumberFormat=m,e.isCurrencyPercent=y,e.getDateSeparator=function(e){var t=(No("dateFormats.short",e)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return t?t[1]:"/"},e.getActualDateTimeFormat=function(e,t,i,s){var o=l(i,e,t.calendar);Bo()&&(t=u(t,e));var h=t.format||a(t.skeleton,o.dateObject,t.type);if(s){if(h=h.replace(n,(function(e){return r[e]})),-1!==h.indexOf("z")){var c=h.match(/z/g).length,p=void 0,d={timeZone:{}};d.numMapper=Qo.getNumberMapper(o.parserObject,Qo.getNumberingSystem(i)),d.timeZone=No("dates.timeZoneNames",o.parserObject);var f=(new Date).getTimezoneOffset(),g=c<4?"+H;-H":d.timeZone.hourFormat;g=g.replace(/:/g,d.numMapper.timeSeparator),0===f?p=d.timeZone.gmtZeroFormat:(p=$o.getTimeZoneValue(f,g),p=d.timeZone.gmtFormat.replace(/\{0\}/,p)),h=h.replace(/[z]+/,'"'+p+'"')}h=h.replace(/ $/,"")}return h},e.getActualNumberFormat=function(t,i,n,r){var s,o,a=l(n,t,"",!0),c={custom:!0},u=a.numericObject,f={},m=(i.format||"").match(e.currencyFormatRegex),y=e.formatRegex.test(i.format)?p(i.format||"N"):{},S={};if(m){S.numberMapper=Bo()?Eo({},a.numericObject):Qo.getNumberMapper(a.parserObject,Qo.getNumberingSystem(n),!0);var w=Bo()?No("currencySymbol",a.numericObject):g(a.numericObject,i.currency||ma,i.altSymbol),_=h("currency",S.numberMapper.numberSystem,a.numericObject,/a/i.test(i.format)),I=(_=_.replace(/\u00A4/g,w)).split(";");f.hasNegativePattern=!!Bo()||I.length>1,f.nData=Bo()?No(y.type+"nData",u):d(I[1]||"-"+I[0],!0,w),f.pData=Bo()?No(y.type+"pData",u):d(I[0],!1,w),m[2]||i.minimumFractionDigits||i.maximumFractionDigits||(s=d(_.split(";")[0],!0,"",!0).minimumFraction)}if(e.formatRegex.test(i.format)||!i.format){if(Eo(c,p(i.format||"N")),c.custom=!1,o="###0",c.fractionDigits||i.minimumFractionDigits||i.maximumFractionDigits||s){c.fractionDigits&&(i.minimumFractionDigits=i.maximumFractionDigits=c.fractionDigits),o=v(o,s||c.fractionDigits||i.minimumFractionDigits||0,i.maximumFractionDigits||0)}if(i.minimumIntegerDigits&&(o=b(o,i.minimumIntegerDigits)),i.useGrouping&&(o=M(o)),"currency"===c.type||c.type&&Bo()){Bo()&&"currency"!==c.type&&(f.pData=No(c.type+"pData",u),f.nData=No(c.type+"nData",u));var N=o;o=f.pData.nlead+N+f.pData.nend,(f.hasNegativePattern||Bo())&&(o+=";"+f.nData.nlead+N+f.nData.nend)}"percent"!==c.type||Bo()||(o+=" %")}else o=i.format.replace(/'/g,'"');return Object.keys(S).length>0&&(o=r?o:function(e,t){if(-1!==e.indexOf(",")){var i=e.split(",");e=i[0]+No("numberMapper.numberSymbols.group",t)+i[1].replace(".",No("numberMapper.numberSymbols.decimal",t))}else e=e.replace(".",No("numberMapper.numberSymbols.decimal",t));return e}(o,S)),o},e.fractionDigitsPattern=v,e.minimumIntegerPattern=b,e.groupingPattern=M,e.getWeekData=function(e,t){var i="sun",n=No("supplemental.weekData.firstDay",t),r=e;return/en-/.test(r)&&(r=r.slice(3)),r=r.slice(0,2).toUpperCase()+r.substr(2),n&&(i=n[""+r]||n[r.slice(0,2)]||"sun"),s[""+i]},e.replaceBlazorCurrency=function(e,t,i){var n=No(i||"",qo);if(t!==n)for(var r=0,s=e;r<s.length;r++){var o=s[r];o.nend=o.nend.replace(t,n),o.nlead=o.nlead.replace(t,n)}},e.getWeekOfYear=function(e){var t,i=new Date(e.getFullYear(),0,1),n=i.getDay();n=n>=0?n:n+7;var r=Math.floor((e.getTime()-i.getTime()-6e4*(e.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)+1;if(n<4){if((t=Math.floor((r+n-1)/7)+1)>52){var s=new Date(e.getFullYear()+1,0,1).getDay();t=(s=s>=0?s:s+7)<4?1:53}}else t=Math.floor((r+n-1)/7);return t}}(Sa||(Sa={}));var Ia=/^(.*?):[ \t]*([^\r\n]*)$/gm,Na=(function(){function e(e,t,i,n){this.mode=!0,this.emitError=!0,this.options={},"string"===typeof e?(this.url=e,this.type=t?t.toUpperCase():"GET",this.mode=!!ko(i)||i):"object"===typeof e&&(this.options=e,jo(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:n}e.prototype.send=function(e){var t=this;this.data=ko(e)?this.data:e;var i={cancel:!1,httpRequest:null};return new Promise((function(e,n){t.httpRequest=new XMLHttpRequest,t.httpRequest.onreadystatechange=function(){t.stateChange(e,n)},ko(t.onLoad)||(t.httpRequest.onload=t.onLoad),ko(t.onProgress)||(t.httpRequest.onprogress=t.onProgress),ko(t.onAbort)||(t.httpRequest.onabort=t.onAbort),ko(t.onError)||(t.httpRequest.onerror=t.onError),ko(t.onUploadProgress)||(t.httpRequest.upload.onprogress=t.onUploadProgress),t.httpRequest.open(t.type,t.url,t.mode),ko(t.data)||null===t.contentType||t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8"),t.beforeSend&&(i.httpRequest=t.httpRequest,t.beforeSend(i)),i.cancel||t.httpRequest.send(ko(t.data)?null:t.data)}))},e.prototype.successHandler=function(e){return this.onSuccess&&this.onSuccess(e,this),e},e.prototype.failureHandler=function(e){return this.onFailure&&this.onFailure(this.httpRequest),e},e.prototype.stateChange=function(e,t){var i=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===i)i=void 0;else try{i=JSON.parse(i)}catch(n){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(i)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())},e.prototype.getResponseHeader=function(e){var t,i;t={};for(var n=Ia.exec(this.httpRequest.getAllResponseHeaders());n;)t[n[1].toLowerCase()]=n[2],n=Ia.exec(this.httpRequest.getAllResponseHeaders());return ko(i=t[e.toLowerCase()])?null:i}}(),function(){function e(e,t,i){this.type="GET",this.emitError=!0,"string"===typeof e?(this.url=e,this.type=ko(t)?this.type:t.toUpperCase(),this.contentType=i):To(e)&&Object.keys(e).length>0&&jo(this,e),this.contentType=ko(this.contentType)?"application/json; charset=utf-8":this.contentType}return e.prototype.send=function(e){var t=this,i={"application/json":"json","multipart/form-data":"formData","application/octet-stream":"blob","application/x-www-form-urlencoded":"formData"};try{ko(this.fetchRequest)&&"GET"===this.type?this.fetchRequest=new Request(this.url,{method:this.type}):ko(this.fetchRequest)&&(this.data=ko(e)?this.data:e,this.fetchRequest=new Request(this.url,{method:this.type,headers:{"Content-Type":this.contentType},body:this.data}));var n={cancel:!1,fetchRequest:this.fetchRequest};return this.triggerEvent(this.beforeSend,n),n.cancel?null:(this.fetchResponse=fetch(this.fetchRequest),this.fetchResponse.then((function(e){if(t.triggerEvent(t.onLoad,e),!e.ok)throw e;for(var n="text",r=0,s=Object.keys(i);r<s.length;r++){var o=s[r];-1!==e.headers.get("Content-Type").indexOf(o)&&(n=i[o])}return e[n]()})).then((function(e){return t.triggerEvent(t.onSuccess,e,t),e})).catch((function(e){var i={};return t.emitError&&(t.triggerEvent(t.onFailure,e),i=Promise.reject(e)),i})))}catch(r){return r}},e.prototype.triggerEvent=function(e,t,i){ko(e)||"function"!==typeof e||e(t,i)},e}()),Ca=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,xa=/msie|trident/i,Da=/Trident\/7\./,Ta=/(ipad|iphone|ipod touch)/i,Aa=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,ja=/android/i,Ea=/trident|windows phone|edge/i,ka=/(version)[ /]([\w.]+)/i,za={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!==typeof window&&(window.browserDetails=window.browserDetails||{});var La=function(){function e(){}return e.extractBrowserDetail=function(){for(var t={culture:{}},i=[],n=0,r=Object.keys(za);n<r.length;n++){var s=r[n];if(i=e.userAgent.match(za[""+s])){if(t.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),t.name="crios"===i[1].toLowerCase()?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,e.userAgent.match(Da)){t.name="msie";break}var o=e.userAgent.match(ka);"safari"===t.name&&o&&(t.version=o[2]);break}}return t},e.getEvent=function(t){var i={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return e.isPointer?i[""+t].isPointer:e.isTouch?i[""+t].isTouch+(e.isDevice?"":" "+i[""+t].isDevice):i[""+t].isDevice},e.getTouchStartEvent=function(){return e.getEvent("start")},e.getTouchEndEvent=function(){return e.getEvent("end")},e.getTouchMoveEvent=function(){return e.getEvent("move")},e.getTouchCancelEvent=function(){return e.getEvent("cancel")},e.isSafari=function(){return e.isDevice&&e.isIos&&e.isTouch&&"undefined"!==typeof window&&-1===window.navigator.userAgent.toLowerCase().indexOf("iphone")&&window.navigator.userAgent.toLowerCase().indexOf("safari")>-1},e.getValue=function(t,i){var n="undefined"!==typeof window?window.browserDetails:{};return"undefined"!==typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!0===e.isTouch&&!za.CHROME.test(navigator.userAgent)&&(n.isIos=!0,n.isDevice=!0,n.isTouch=!0,n.isPointer=!0),"undefined"===typeof n[""+t]?n[""+t]=i.test(e.userAgent):n[""+t]},Object.defineProperty(e,"userAgent",{get:function(){return e.uA},set:function(t){e.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"info",{get:function(){return zo(window.browserDetails.info)?window.browserDetails.info=e.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIE",{get:function(){return e.getValue("isIE",xa)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isTouch",{get:function(){return zo(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isPointer",{get:function(){return zo(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isMSPointer",{get:function(){return zo(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isDevice",{get:function(){return e.getValue("isDevice",Ca)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos",{get:function(){return e.getValue("isIos",Ta)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos7",{get:function(){return e.getValue("isIos7",Aa)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){return e.getValue("isAndroid",ja)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWebView",{get:function(){return zo(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(zo(window.cordova)&&zo(window.PhoneGap)&&zo(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWindows",{get:function(){return e.getValue("isWindows",Ea)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchStartEvent",{get:function(){return zo(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=e.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchMoveEvent",{get:function(){return zo(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=e.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchEndEvent",{get:function(){return zo(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=e.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchCancelEvent",{get:function(){return zo(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=e.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),e.uA="undefined"!==typeof navigator?navigator.userAgent:"",e}(),Oa=function(){function e(){}return e.addOrGetEventData=function(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])},e.add=function(t,i,n,r,s){var o,a=e.addOrGetEventData(t);o=s?Oo(n,s):n,r&&(o=o.bind(r));for(var l=i.split(" "),h=0;h<l.length;h++)a.push({name:l[parseInt(h.toString(),10)],listener:n,debounce:o}),La.isIE?t.addEventListener(l[parseInt(h.toString(),10)],o):t.addEventListener(l[parseInt(h.toString(),10)],o,{passive:!1});return o},e.remove=function(t,i,n){for(var r=e.addOrGetEventData(t),s=i.split(" "),o=function(e){var i,o=-1;r&&0!==r.length&&r.some((function(t,r){return t.name===s[parseInt(e.toString(),10)]&&t.listener===n&&(o=r,i=t.debounce,!0)})),-1!==o&&r.splice(o,1),i&&t.removeEventListener(s[parseInt(e.toString(),10)],i)},a=0;a<s.length;a++)o(a)},e.clearEvents=function(t){var i,n;n=Eo([],n,i=e.addOrGetEventData(t));for(var r=0;r<n.length;r++)t.removeEventListener(n[parseInt(r.toString(),10)].name,n[parseInt(r.toString(),10)].debounce),i.shift()},e.trigger=function(t,i,n){for(var r=0,s=e.addOrGetEventData(t);r<s.length;r++){var o=s[r];o.name===i&&o.debounce.call(this,n)}},e}(),Pa=/^svg|^path|^g/;function Ra(e,t){var i=Pa.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return"undefined"===typeof t||(i.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(i.className=t.className),void 0!==t.id&&(i.id=t.id),void 0!==t.styles&&i.setAttribute("style",t.styles),void 0!==t.attrs&&Ga(i,t.attrs)),i}function Fa(e,t){for(var i=Va(t),n=RegExp,r=0,s=e;r<s.length;r++)for(var o=s[r],a=0,l=i;a<l.length;a++){var h=l[a];if(To(o)){var c=No("attributes.className",o);ko(c)?Co("attributes.className",h,o):new n("\\b"+h+"\\b","i").test(c)||Co("attributes.className",c+" "+h,o)}else o.classList.contains(h)||o.classList.add(h)}return e}function Ba(e,t){for(var i=Va(t),n=0,r=e;n<r.length;n++){var s=r[n],o=To(s);if(o?No("attributes.className",s):""!==s.className)for(var a=0,l=i;a<l.length;a++){var h=l[a];if(o){var c=No("attributes.className",s).split(" "),u=c.indexOf(h);-1!==u&&c.splice(u,1),Co("attributes.className",c.join(" "),s)}else s.classList.remove(h)}}return e}function Va(e){var t=[];return"string"===typeof e?t.push(e):t=e,t}function Ua(e){var t=e;return""===t.style.visibility&&t.offsetWidth>0}function Ha(e,t,i){for(var n=document.createDocumentFragment(),r=0,s=e;r<s.length;r++){var o=s[r];n.appendChild(o)}return t.insertBefore(n,t.firstElementChild),i&&Ya(t),e}function Wa(e,t,i){var n=document.createDocumentFragment();if(e instanceof NodeList)for(;e.length>0;)n.appendChild(e[0]);else for(var r=0,s=e;r<s.length;r++){var o=s[r];n.appendChild(o)}return t.appendChild(n),i&&Ya(t),e}function Ya(e){e.querySelectorAll("script").forEach((function(e){var t=document.createElement("script");t.text=e.innerHTML,document.head.appendChild(t),Qa(t)}))}function Qa(e){var t=e.parentNode;if(t)return t.removeChild(e)}function qa(e){var t=e.parentNode;Oa.clearEvents(e),t.removeChild(e)}function Ga(e,t){for(var i=e,n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];if(To(i)){var o=s;"tabindex"===s&&(o="tabIndex"),i.attributes[""+o]=t[""+s]}else i.setAttribute(s,t[""+s])}return i}function Ka(e,t,i){return void 0===t&&(t=document),e=Ja(e),t.querySelector(e)}function Xa(e,t,i){return void 0===t&&(t=document),e=Ja(e),t.querySelectorAll(e)}function Ja(e){var t=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(e.match(/#[0-9]/g)||e.match(t)){for(var i=e.split(","),n=0;n<i.length;n++){for(var r=i[parseInt(n.toString(),10)].split(" "),s=0;s<r.length;s++)if(r[parseInt(s.toString(),10)].indexOf("#")>-1&&!r[parseInt(s.toString(),10)].match(/\[.*\]/)){var o=r[parseInt(s.toString(),10)].split("#");if(o[1].match(/^\d/)||o[1].match(t)){var a=r[parseInt(s.toString(),10)].split(".");a[0]=a[0].replace(/#/,"[id='")+"']",r[parseInt(s.toString(),10)]=a.join(".")}}i[parseInt(n.toString(),10)]=r.join(" ")}return i.join(",")}return e}function Za(e,t){var i=e;if("function"===typeof i.closest)return i.closest(t);for(;i&&1===i.nodeType;){if(tl(i,t))return i;i=i.parentNode}return null}function $a(e,t){void 0!==t&&Object.keys(t).forEach((function(i){e.style[i]=t[i]}))}function el(e,t,i){Fa([e],t),Ba([e],i)}function tl(e,t){var i=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return i?i.call(e,t):-1!==[].indexOf.call(document.querySelectorAll(t),e)}var il=new RegExp("]"),nl=function(){function e(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new ua(this),zo(t)||(this.element="string"===typeof t?document.querySelector(t):t,ko(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),zo(e)||this.setProperties(e,!0),this.isDestroyed=!1}return e.prototype.setProperties=function(e,t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!!t,jo(this,e),!0!==t?(jo(this.changedProperties,e),this.dataBind()):Bo()&&this.isRendered&&this.serverDataBind(e),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i},e.callChildDataBind=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];if(t[""+r]instanceof Array)for(var s=0,o=t[""+r];s<o.length;s++){var a=o[s];void 0!==a.dataBind&&a.dataBind()}else t[""+r].dataBind()}},e.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},e.prototype.dataBind=function(){if(e.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,i=this.changedProperties,n=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(i,n),this.isProtectedOnChange=t}},e.prototype.serverDataBind=function(e){if(Bo()){e=e||{},Eo(this.bulkChanges,{},e,!0);var t="sfBlazor";this.allowServerDataBinding&&window[""+t].updateModel&&(window[""+t].updateModel(this),this.bulkChanges={})}},e.prototype.saveChanges=function(e,t,i){if(Bo()){var n={};n[""+e]=t,this.serverDataBind(n)}this.isProtectedOnChange||(this.oldProperties[""+e]=i,this.changedProperties[""+e]=t,this.finalUpdate(),this.finalUpdate=Io(this.dataBind.bind(this)))},e.prototype.addEventListener=function(e,t){this.modelObserver.on(e,t)},e.prototype.removeEventListener=function(e,t){this.modelObserver.off(e,t)},e.prototype.trigger=function(e,t,i,n){var r=this;if(!0!==this.isDestroyed){var s=this.isProtectedOnChange;this.isProtectedOnChange=!1;var o=this.modelObserver.notify(e,t,i,n);if(il.test(e)){var a=No(e,this);if(a){if(window.Blazor){var l=a.call(this,t);l&&"function"===typeof l.then?i?l.then((function(e){i&&(e="string"===typeof e&&r.modelObserver.isJson(e)?JSON.parse(e):e,i.call(r,e))})).catch((function(e){n&&(e="string"===typeof e&&r.modelObserver.isJson(e)?JSON.parse(e):e,n.call(r,e))})):o=l:i&&i.call(this,t)}else a.call(this,t),i&&i.call(this,t)}else i&&i.call(this,t)}return this.isProtectedOnChange=s,o}},e.prototype.addInstance=function(){var e="e-"+this.getModuleName().toLowerCase();Fa([this.element],["e-lib",e]),ko(this.element.ej2_instances)?Co("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},e.prototype.destroy=function(){var e=this;this.element.ej2_instances=this.element.ej2_instances.filter((function(t){return t!==e})),Ba([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&Ba([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},e}();function rl(e,t,i,n){return e.properties.hasOwnProperty(t)&&e.properties[t]instanceof n||(e.properties[""+t]=_o(n,[e,t,i])),e.properties[""+t]}function sl(e,t,i,n,r,s){for(var o=[],a=i?i.length:0,l=0;l<a;l++){var h=n;if(s&&(h=n(i[parseInt(l.toString(),10)],e)),r){var c=_o(h,[e,t,{},!0]);c.setProperties(i[parseInt(l.toString(),10)],!0),o.push(c)}else o.push(_o(h,[e,t,i[parseInt(l.toString(),10)],!1]))}return o}function ol(e,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[""+t]=e),this.properties[""+t]}}function al(e,t){return function(i){if(this.properties[""+t]!==i){var n=this.properties.hasOwnProperty(t)?this.properties[t]:e;this.saveChanges(t,i,n),this.properties[""+t]=i}}}function ll(e,t,i){return function(){return rl(this,t,e,i)}}function hl(e,t,i){return function(n){rl(this,t,e,i).setProperties(n)}}function cl(e,t,i){return function(){var n=this;if(!this.properties.hasOwnProperty(t)){var r=sl(this,t,e,i,!1);this.properties[""+t]=r}var s=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return this.properties[t].hasOwnProperty("push")||s||["push","pop"].forEach((function(e){var r={value:pl(e,t,i,n.properties[""+t]).bind(n),configurable:!0};Object.defineProperty(n.properties[""+t],e,r)})),this.properties[t].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[""+t],"isComplexArray",{value:!0}),this.properties[""+t]}}function ul(e,t,i){return function(n){this.isComplexArraySetter=!0;var r=sl(this,t,e,i,!1),s=sl(this,t,n,i,!0);this.isComplexArraySetter=!1,this.saveChanges(t,s,r),this.properties[""+t]=s}}function pl(e,t,i,n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var s=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(e){case"push":for(var o=0;o<i.length;o++){Array.prototype[""+e].apply(n,[i[parseInt(o.toString(),10)]]);var a=dl(s+(n.length-1),i[parseInt(o.toString(),10)],!this.controlParent,e);this.serverDataBind(a,i[parseInt(o.toString(),10)],!1,e)}break;case"pop":Array.prototype[""+e].apply(n);var l=dl(s+n.length,null,!this.controlParent,e);this.serverDataBind(l,{ejsAction:"pop"},!1,e)}return n}}function dl(e,t,i,n){var r=e;if(i&&((r={})[""+e]=t,t&&"object"===typeof t)){r[""+e].ejsAction=n}return r}function fl(e){return function(t,i){var n={set:al(e,i),get:ol(e,i),enumerable:!0,configurable:!0};Object.defineProperty(t,i,n),bl(t,i,"prop",e)}}function gl(e,t){return function(i,n){var r={set:hl(e,n,t),get:ll(e,n,t),enumerable:!0,configurable:!0};Object.defineProperty(i,n,r),bl(i,n,"complexProp",e,t)}}function ml(e,t){return function(i,n){var r={set:ul(e,n,t),get:cl(e,n,t),enumerable:!0,configurable:!0};Object.defineProperty(i,n,r),bl(i,n,"colProp",e,t)}}function yl(){return function(e,t){var i={set:function(e){var i=this.properties[""+t];if(i!==e){var n=Ml(this,t);!1===zo(i)&&n.context.removeEventListener(n.prefix,i),n.context.addEventListener(n.prefix,e),this.properties[""+t]=e}},get:ol(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i),bl(e,t,"event")}}function vl(e){}function bl(e,t,i,n,r){zo(e.propList)&&(e.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),e.propList[i+"s"].push({propertyName:t,defaultValue:n,type:r}),e.propList[i+"Names"].push(t)}function Ml(e,t){if(!1===e.hasOwnProperty("parentObj"))return{context:e,prefix:t};var i=No("propName",e);return i&&(t=i+"-"+t),Ml(No("parentObj",e),t)}var Sl=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wl=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},_l=function(e){function t(t){var i=e.call(this,t,void 0)||this;return i.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},i}var i;return Sl(t,e),i=t,t.prototype.animate=function(e,t){t=t||{};var n=this.getModel(t);if("string"===typeof e)for(var r=0,s=Array.prototype.slice.call(Xa(e,document));r<s.length;r++){var o=s[r];n.element=o,i.delayAnimation(n)}else n.element=e,i.delayAnimation(n)},t.stop=function(e,t){e.style.animation="",e.removeAttribute("e-animate");var i=e.getAttribute("e-animation-id");if(i){var n=parseInt(i,10);cancelAnimationFrame(n),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)},t.delayAnimation=function(e){"Disable"===Tl||Tl===Al.Disable?(e.begin&&e.begin.call(this,e),e.end&&e.end.call(this,e)):e.delay?setTimeout((function(){i.applyAnimation(e)}),e.delay):i.applyAnimation(e)},t.applyAnimation=function(e){var t=this;e.timeStamp=0;var i=0,n=0,r=0,s=e.duration;e.element.setAttribute("e-animate","true");var o=function(a){try{if(a){r=0===r?a:r,e.timeStamp=a+e.timeStamp-r,r=a,!i&&e.begin&&e.begin.call(t,e),i+=1;var l=e.timeStamp/i;e.timeStamp<s&&e.timeStamp+l<s&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(t,e),requestAnimationFrame(o)):(cancelAnimationFrame(n),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(t,e))}else n=requestAnimationFrame(o),e.element.setAttribute("e-animation-id",n.toString())}catch(lE){cancelAnimationFrame(n),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(t,lE)}};o()},t.prototype.getModel=function(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},wl([fl("FadeIn")],t.prototype,"name",void 0),wl([fl(400)],t.prototype,"duration",void 0),wl([fl("ease")],t.prototype,"timingFunction",void 0),wl([fl(0)],t.prototype,"delay",void 0),wl([yl()],t.prototype,"progress",void 0),wl([yl()],t.prototype,"begin",void 0),wl([yl()],t.prototype,"end",void 0),wl([yl()],t.prototype,"fail",void 0),t=i=wl([vl],t)}(nl);function Il(e,t,i){var n=function(e){var t={selector:e&&e.selector?e.selector:null,ignore:e&&e.ignore?e.ignore:null,rippleFlag:e&&e.rippleFlag,isCenterRipple:e&&e.isCenterRipple,duration:e&&e.duration?e.duration:350};return t}(t);return!1===n.rippleFlag||void 0===n.rippleFlag&&!jl?function(){}:(e.setAttribute("data-ripple","true"),Oa.add(e,"mousedown",Nl,{parent:e,rippleOptions:n}),Oa.add(e,"mouseup",Cl,{parent:e,rippleOptions:n,done:i}),Oa.add(e,"mouseleave",xl,{parent:e,rippleOptions:n}),La.isPointer&&Oa.add(e,"transitionend",xl,{parent:e,rippleOptions:n}),function(){e.removeAttribute("data-ripple"),Oa.remove(e,"mousedown",Nl),Oa.remove(e,"mouseup",Cl),Oa.remove(e,"mouseleave",xl),Oa.remove(e,"transitionend",xl)})}function Nl(e){var t=e.target,i=this.rippleOptions.selector,n=i?Za(t,i):t;if(!(!n||this.rippleOptions&&Za(t,this.rippleOptions.ignore))){var r=n.getBoundingClientRect(),s=e.pageX-document.body.scrollLeft,o=e.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),a=Math.max(Math.abs(s-r.left),Math.abs(s-r.right)),l=Math.max(Math.abs(o-r.top),Math.abs(o-r.bottom)),h=Math.sqrt(a*a+l*l),c=2*h+"px",u=s-r.left-h,p=o-r.top-h;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(u=0,p=0,c="100%"),n.classList.add("e-ripple");var d=Ra("div",{className:"e-ripple-element",styles:"width: "+c+";height: "+c+";left: "+u+"px;top: "+p+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});n.appendChild(d),window.getComputedStyle(d).getPropertyValue("opacity"),d.style.transform="scale(1)",n!==this.parent&&Oa.add(n,"mouseleave",xl,{parent:this.parent,rippleOptions:this.rippleOptions})}}function Cl(e){Dl(e,this)}function xl(e){Dl(e,this)}function Dl(e,t){var i=t.rippleOptions.duration,n=e.target,r=t.rippleOptions.selector,s=r?Za(n,r):n;if(s&&(!s||-1!==s.className.indexOf("e-ripple"))){var o=Xa(".e-ripple-element",s),a=o[o.length-1];a&&(a.style.opacity="0.5"),t.parent!==s&&Oa.remove(s,"mouseleave",xl),setTimeout((function(){a&&a.parentNode&&a.parentNode.removeChild(a),s.getElementsByClassName("e-ripple-element").length||s.classList.remove("e-ripple"),t.done&&t.done(e)}),i)}}var Tl,Al,jl=!1;!function(e){e.Default="Default",e.Enable="Enable",e.Disable="Disable"}(Al||(Al={}));var El,kl=function(){function e(e){this.loadedModules=[],this.parent=e}return e.prototype.inject=function(e,t){var i=e.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(e);for(var n=0;n<i;n++)for(var r=e[parseInt(n.toString(),10)],s=0,o=t;s<o.length;s++){var a=o[s],l=r.member;if(a&&a.prototype.getModuleName()===r.member&&!this.isModuleLoaded(l)){var h=_o(a,r.args),c=this.getMemberName(l);r.isProperty?Co(c,a,this.parent):Co(c,h,this.parent);var u=r;u.member=c,this.loadedModules.push(u)}}}else this.clean()},e.prototype.clean=function(){for(var e=0,t=this.loadedModules;e<t.length;e++){var i=t[e];i.isProperty||No(i.member,this.parent).destroy()}this.loadedModules=[]},e.prototype.clearUnusedModule=function(e){for(var t=this,i=e.map((function(e){return t.getMemberName(e.member)})),n=0,r=this.loadedModules.filter((function(e){return-1===i.indexOf(e.member)}));n<r.length;n++){var s=r[n];s.isProperty||No(s.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(s),1),xo(this.parent,s.member)}},e.prototype.getMemberName=function(e){return e[0].toLowerCase()+e.substring(1)+"Module"},e.prototype.isModuleLoaded=function(e){for(var t=0,i=this.loadedModules;t<i.length;t++){if(i[t].member===this.getMemberName(e))return!0}return!1},e}(),zl=function(){function e(e,t,i,n){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=No("callChildDataBind",nl),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=n,this.setProperties(i,!0)}return e.prototype.updateChange=function(e,t){!0===e?this.parentObj.childChangedProperties[""+t]=e:delete this.parentObj.childChangedProperties[""+t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)},e.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=function(){clearTimeout(e)}}},e.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},e.prototype.setProperties=function(e,t){!0===t?(jo(this,e),this.updateChange(!1,this.propName),this.clearChanges()):jo(this,e)},e.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(Co(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),Co(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},e.prototype.saveChanges=function(e,t,i,n){this.controlParent.isProtectedOnChange||(n||this.serverDataBind(e,t,!0),this.oldProperties[""+e]=i,this.changedProperties[""+e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},e.prototype.serverDataBind=function(e,t,i,n){if(Bo()&&!this.parentObj.isComplexArraySetter){var r,s={},o=i?this.getParentKey(!0)+"."+e:e;if(-1!==o.indexOf(".")){var a=o.split(".");r=s;for(var l=0;l<a.length;l++){var h=l===a.length-1;r[a[parseInt(l.toString(),10)]]=h?t:{},r=h?r:r[a[parseInt(l.toString(),10)]]}}else s[""+o]={},r=s[""+o],s[""+o][""+e]=t;if(this.isParentArray){r.ejsAction=n||"none"}this.controlParent.serverDataBind(s)}},e.prototype.getParentKey=function(e){var t="",i=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);var n=this.parentObj[this.propName].length;n=e?n:n>0?n-1:0,i+=t=-1!==t?"-"+t:"-"+n}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+t),i},e}(),Ll=["grid","pivotview","treegrid","spreadsheet","rangeNavigator","DocumentEditor","listbox","inplaceeditor","PdfViewer","richtexteditor","DashboardLayout","chart","stockChart","circulargauge","diagram","heatmap","lineargauge","maps","slider","smithchart","barcode","sparkline","treemap","bulletChart","kanban","daterangepicker","schedule","gantt","signature","query-builder","drop-down-tree","carousel","filemanager","uploader","accordion","tab","treeview"],Ol=[115,121,110,99,102,117,115,105,111,110,46,105,115,76,105,99,86,97,108,105,100,97,116,101,100],Pl=function(){function e(e){this.isValidated=!1,this.isLicensed=!0,this.version="23",this.platform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats|essentialstudio/i,this.errors={noLicense:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",trailExpired:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",versionMismatched:"<span>The included Syncfusion license key is invalid.</span>",platformMismatched:"<span>The included Syncfusion license key is invalid.</span>",invalidKey:"<span>The included Syncfusion license key is invalid.</span>"},this.manager=function(){var e=null;return{setKey:function(t){e=t},getKey:function(){return e}}}(),this.npxManager={getKey:function(){return"npxKeyReplace"}},this.manager.setKey(e)}return e.prototype.validate=function(){if(!this.isValidated&&Do&&!No(Fl(Ol),Do)&&!No("Blazor",Do)){var e=void 0,t=void 0;if(this.manager&&this.manager.getKey()||this.npxManager&&"npxKeyReplace"!==this.npxManager.getKey()){var i=this.getInfoFromKey();if(i&&i.length)for(var n=0,r=i;n<r.length;n++){var s=r[n];if(!this.platform.test(s.platform)||s.invalidPlatform)e=this.errors.platformMismatched;else if(-1===s.version.indexOf(this.version))e=(e=(e=this.errors.versionMismatched).replace("##LicenseVersion",s.version)).replace("##Requireversion",this.version+".x");else if(s.expiryDate){var o=new Date(s.expiryDate),a=new Date;if(!(o!==a&&o<a))break;e=this.errors.trailExpired}}else e=this.errors.invalidKey}else{var l=No(Fl([115,121,110,99,102,117,115,105,111,110,46,108,105,99,101,110,115,101,67,111,110,116,101,110,116]),Do);t=No(Fl([115,121,110,99,102,117,115,105,111,110,46,99,108,97,105,109,65,99,99,111,117,110,116,85,82,76]),Do),e=l&&""!==l?l:this.errors.noLicense}if(e&&"undefined"!==typeof document&&!ko(document)){var h=Ra("div",{innerHTML:"<img src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE5OV80KSI+CjxwYXRoIGQ9Ik0xMiAyMUMxNi45NzA2IDIxIDIxIDE2Ljk3MDYgMjEgMTJDMjEgNy4wMjk0NCAxNi45NzA2IDMgMTIgM0M3LjAyOTQ0IDMgMyA3LjAyOTQ0IDMgMTJDMyAxNi45NzA2IDcuMDI5NDQgMjEgMTIgMjFaIiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBmaWxsPSIjNjE2MDYzIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS44MTI1IDlDMTIuNDMzOCA5IDEyLjkzNzUgOC40OTYzMiAxMi45Mzc1IDcuODc1QzEyLjkzNzUgNy4yNTM2OCAxMi40MzM4IDYuNzUgMTEuODEyNSA2Ljc1QzExLjE5MTIgNi43NSAxMC42ODc1IDcuMjUzNjggMTAuNjg3NSA3Ljg3NUMxMC42ODc1IDguNDk2MzIgMTEuMTkxMiA5IDExLjgxMjUgOVoiIGZpbGw9IiM3MzczNzMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xOTlfNCI+CjxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K' style=\"top: 6px;\n                    position: absolute;\n                    left: 16px;\n                    width: 24px;\n                    height: 24px;\"/>"+e+' <a style="text-decoration: none;color: #0D6EFD;font-weight: 500;" href='+(El=t&&""!==t?t:"https://www.syncfusion.com/account/claim-license-key?pl=SmF2YVNjcmlwdA==&vs=MjM=&utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information")+">Claim your free account</a>"});h.setAttribute("style","position: fixed;\n                top: 10px;\n                left: 10px;\n                right: 10px;\n                font-size: 14px;\n                background: #EEF2FF;\n                color: #222222;\n                z-index: 999999999;\n                text-align: left;\n                border: 1px solid #EEEEEE;\n                padding: 10px 11px 10px 50px;\n                border-radius: 8px;\n                font-family: Helvetica Neue, Helvetica, Arial;"),document.body.appendChild(h),this.isLicensed=!1}this.isValidated=!0,Co(Fl(Ol),this.isValidated,Do)}return this.isLicensed},e.prototype.getDecryptedData=function(e){try{return atob(e)}catch(t){return""}},e.prototype.getInfoFromKey=function(){try{var e="",t=[5439488,7929856,5111808,6488064,4587520,7667712,5439488,6881280,5177344,7208960,4194304,4456448,6619136,7733248,5242880,7077888,6356992,7602176,4587520,7274496,7471104,7143424],i=[],n=[],r=!1,s=!1;this.manager.getKey()?e=this.manager.getKey():(s=!0,e=this.npxManager.getKey().split("npxKeyReplace")[1]);for(var o=e.split(";"),a=0,l=o;a<l.length;a++){var h=l[a],c=this.getDecryptedData(h);if(c){var u=0,p="";if(s){var d=c[c.length-1],f=[];for(g=0;g<c.length;g++)f[parseInt(g.toString(),10)]=c[parseInt(g.toString(),10)].charCodeAt(0)-d.charCodeAt(0);for(g=0;g<f.length;g++)p+=String.fromCharCode(f[parseInt(g.toString(),10)])}else for(var g=0;g<c.length;g++,u++){u===t.length&&(u=0);var m=c.charCodeAt(g);p+=String.fromCharCode(m^t[parseInt(u.toString(),10)]>>16)}this.platform.test(p)?(i=p.split(";"),r=!1,i.length>3&&n.push({platform:i[0],version:i[1],expiryDate:i[2]})):p&&p.split(";").length>3&&(r=!0)}}return r&&!n.length?[{invalidPlatform:r}]:n.length?n:null}catch(y){return null}},e}(),Rl=new Pl;function Fl(e){for(var t="",i=0,n=e;i<n.length;i++){var r=n[i];t+=String.fromCharCode(r)}return t}function Bl(e){Rl=new Pl(e)}var Vl,Ul=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Hl=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},Wl=0,Yl=0,Ql=0,ql=!0,Gl=!1,Kl=!1;var Xl=function(e){function t(t,i){var n,r=e.call(this,t,i)||this;return r.randomId=function(){if("undefined"!==typeof window){var e=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(e)}}(),r.isStringTemplate=!1,r.needsID=!1,r.isReactHybrid=!1,ko(r.enableRtl)&&r.setProperties({enableRtl:da},!0),ko(r.locale)&&r.setProperties({locale:ga},!0),r.moduleLoader=new kl(r),r.localObserver=new ua(r),pa.on("notifyExternalChange",r.detectFunction,r,r.randomId),"undefined"===typeof window||"undefined"===typeof document||(n&&Bl(n),Rl.validate())||-1!==Ll.indexOf(r.getModuleName())&&(Ql+=1)>5&&(ql=!1),zo(i)||r.appendTo(),r}return Ul(t,e),t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&(this.setPersistData(),this.detachUnloadEvent()),this.localObserver.destroy(),this.refreshing||(Ba([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),e.prototype.destroy.call(this),this.moduleLoader.clean(),pa.off("notifyExternalChange",this.detectFunction,this.randomId)))},t.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new ua(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},t.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},t.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},t.prototype.getLocalData=function(){var e=this.getModuleName()+this.element.id;return Kl?window.localStorage.getItem(e+this.ej2StatePersistenceVersion):window.localStorage.getItem(e)},t.prototype.attachUnloadEvent=function(){this.handleUnload=this.handleUnload.bind(this),window.addEventListener("unload",this.handleUnload)},t.prototype.handleUnload=function(){this.setPersistData()},t.prototype.detachUnloadEvent=function(){window.removeEventListener("unload",this.handleUnload)},t.prototype.appendTo=function(t){if(ko(t)||"string"!==typeof t?ko(t)||(this.element=t):this.element=Ka(t,document),!ko(this.element)){var i="e-"+this.getModuleName().toLowerCase();Fa([this.element],["e-control",i]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),this.attachUnloadEvent());var n=No("ej2_instances",this.element);n&&-1!==n.indexOf(this)||e.prototype.addInstance.call(this),this.preRender(),this.injectModules(),ql||Gl||(!function(){var e='\n    <div style="\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 99999;\n    ">\n        <div style="\n    background: #FFFFFF;\n    height: 455px;\n    width: 840px;\n    font-family: Helvetica Neue, Helvetica, Arial;\n    color: #000000;\n    box-shadow: 0px 4.8px 14.4px rgb(0 0 0 / 18%), 0px 25.6px 57.6px rgb(0 0 0 / 22%);\n    display: block;\n    margin: 8% auto;\n    border-radius: 20px;\n    ">\n            <div style="\n    position: absolute;\nwidth: 838px;\nheight: 62px;\nbackground-color: #F9F9F9;\nborder: 1px solid #EEEEEE;\nborder-top-left-radius: 20px;\nborder-top-right-radius: 20px;\n">\n                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ2IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTQ2IDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNDAuNTk2NSAxNS4wMDc4SDMyLjQyNUMzMS41NTU3IDE1LjAwNzggMzAuOTAzNyAxNS4xODEyIDMwLjUxMjUgMTUuNDg0NkMzMC4xMjEzIDE1LjgzMTQgMjkuOTA0IDE2LjMwODIgMjkuOTA0IDE3LjA0NTFDMjkuOTA0IDE3LjYwODYgMzAuMDc3OCAxOC4wNDIxIDMwLjQyNTYgMTguMzAyMkMzMC43NzMzIDE4LjYwNTYgMzEuMjk0OSAxOC43MzU2IDMxLjk5MDMgMTguNzM1NkgzNi4zMzY5QzM4LjExODkgMTguNzM1NiAzOS40MjI5IDE5LjA4MjQgNDAuMTYxOCAxOS43MzI2QzQwLjk0NDIgMjAuNDI2MiA0MS4yOTE5IDIxLjU1MzIgNDEuMjkxOSAyMy4xMTM3QzQxLjI5MTkgMjQuNzE3NiA0MC44NTcyIDI1Ljg4OCAzOS45ODc5IDI2LjY2ODJDMzkuMTE4NiAyNy40MDUxIDM3LjcyNzcgMjcuNzk1MyAzNS44NTg3IDI3Ljc5NTNIMjcuMDc4N1YyNS4wMjFIMzUuMzM3MkMzNi4yOTM0IDI1LjAyMSAzNi45NDU0IDI0Ljg5MSAzNy4zMzY2IDI0LjYzMDlDMzcuNzI3NyAyNC4zNzA4IDM3LjkwMTYgMjMuODk0IDM3LjkwMTYgMjMuMjg3MUMzNy45MDE2IDIyLjYzNjkgMzcuNzI3NyAyMi4xNjAxIDM3LjM4IDIxLjlDMzcuMDMyMyAyMS42Mzk5IDM2LjQyMzggMjEuNDY2NSAzNS41NTQ1IDIxLjQ2NjVIMzEuNjQyNkMyOS44NjA1IDIxLjQ2NjUgMjguNTEzMSAyMS4xMTk4IDI3LjY4NzMgMjAuMzgyOEMyNi44NjE0IDE5LjY0NTkgMjYuNDI2OCAxOC41MTg5IDI2LjQyNjggMTcuMDAxN0MyNi40MjY4IDE1LjM1NDUgMjYuODYxNCAxNC4xNDA4IDI3LjczMDcgMTMuMzYwNkMyOC42IDEyLjU4MDMgMjkuOTkwOSAxMi4yMzM1IDMxLjkwMzQgMTIuMjMzNUg0MC41OTY1VjE1LjAwNzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik00OC4wNzI3IDI1LjI4MTFINTAuNTA2OFYxNi4zOTQ5SDUzLjU0OTNWMjcuNTM1MkM1My41NDkzIDI5LjA1MjQgNTMuMjAxNiAzMC4xNzk0IDUyLjUwNjIgMzAuOTE2M0M1MS44MTA3IDMxLjY1MzIgNTAuNzI0MSAzMiA0OS4yNDYzIDMySDQzLjMzNVYyOS42NTkySDQ4LjcyNDdDNDkuMjg5NyAyOS42NTkyIDQ5Ljc2NzkgMjkuNTI5MiA1MC4wNzIxIDI5LjIyNThDNTAuMzc2NCAyOC45NjU3IDUwLjU1MDIgMjguNTMyMiA1MC41NTAyIDI4LjAxMlYyNy44Mzg2SDQ3Ljg5ODlDNDYuMjAzNyAyNy44Mzg2IDQ0Ljk0MzIgMjcuNDkxOSA0NC4yNDc4IDI2Ljg0MTZDNDMuNTA4OSAyNi4xNDgxIDQzLjE2MTEgMjUuMDY0NCA0My4xNjExIDIzLjQ2MDVWMTYuMzk0OUg0Ni4xNjAyVjIzLjIwMDVDNDYuMTYwMiAyNC4wNjc0IDQ2LjI5MDYgMjQuNjMwOSA0Ni41NTE0IDI0Ljg5MUM0Ni43MjUzIDI1LjE1MTEgNDcuMjQ2OSAyNS4yODExIDQ4LjA3MjcgMjUuMjgxMVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTU1Ljg5NjUgMTYuMzk0OUg2MS41OTA0QzYzLjMyOTEgMTYuMzk0OSA2NC41NDYxIDE2LjY5ODMgNjUuMjg1IDE3LjM0ODVDNjYuMDIzOSAxNy45OTg4IDY2LjM3MTYgMTkuMDgyNCA2Ni4zNzE2IDIwLjU1NjNWMjcuNzk1M0g2My4zMjkxVjIwLjk0NjRDNjMuMzI5MSAyMC4wNzk0IDYzLjE5ODcgMTkuNTE1OSA2Mi45Mzc5IDE5LjI5OTJDNjIuNjc3MSAxOS4wMzkxIDYyLjE1NTUgMTguOTA5MSA2MS4zMjk3IDE4LjkwOTFINTguODk1NlYyNy44Mzg2SDU1Ljg1M1YxNi4zOTQ5SDU1Ljg5NjVaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03NC45MzQyIDI1LjM2NzhINzguMTUwNlYyNy43OTUySDc0LjAyMTRDNzIuOTc4MiAyNy43OTUyIDcyLjEwODkgMjcuNjY1MiA3MS40NTcgMjcuNDkxOEM3MC44MDUgMjcuMjc1IDcwLjE5NjUgMjYuOTI4MyA2OS43MTgzIDI2LjQ1MTRDNjkuMTk2OCAyNS45MzEzIDY4Ljc2MjEgMjUuMjgxMSA2OC40NTc4IDI0LjU0NDJDNjguMTUzNiAyMy44MDcyIDY4LjAyMzIgMjIuOTgzNiA2OC4wMjMyIDIyLjE2QzY4LjAyMzIgMjEuMjkzMSA2OC4xNTM2IDIwLjQ2OTUgNjguNDU3OCAxOS42ODkyQzY4Ljc2MjEgMTguOTA5IDY5LjE1MzMgMTguMzAyMSA2OS43MTgzIDE3Ljc4MTlDNzAuMjM5OSAxNy4zMDUxIDcwLjgwNSAxNi45NTgzIDcxLjUwMDQgMTYuNzQxNkM3Mi4xOTU5IDE2LjUyNDkgNzMuMDIxNyAxNi40MzgyIDc0LjA2NDkgMTYuNDM4Mkg3OC4xOTQxVjE4LjkwOUg3NC45MzQyQzczLjQ5OTggMTguOTA5IDcyLjU0MzYgMTkuMTY5MSA3MS45Nzg1IDE5LjY0NTlDNzEuNDU2OSAyMC4xMjI3IDcxLjE1MjcgMjAuOTg5NyA3MS4xNTI3IDIyLjIwMzRDNzEuMTUyNyAyMi44OTY5IDcxLjI4MzEgMjMuNDYwNSA3MS41MDA0IDIzLjkzNzNDNzEuNzE3NyAyNC40MTQxIDcyLjA2NTUgMjQuNzYwOSA3Mi41MDAxIDI1LjA2NDNDNzIuNzE3NCAyNS4xOTQ0IDcyLjk3ODIgMjUuMjgxMSA3My4yODI1IDI1LjM2NzhDNzMuNjMwMiAyNS4zMjQ0IDc0LjE1MTggMjUuMzY3OCA3NC45MzQyIDI1LjM2NzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik04MC44NDU2IDE4LjY0ODlINzguNjcyNFYxNi4zNTE1SDgwLjg0NTZWMTUuMTgxMUM4MC44NDU2IDE0LjAxMDggODEuMDYzIDEzLjIzMDUgODEuNDk3NiAxMi44NDA0QzgxLjkzMjMgMTIuNDUwMyA4Mi43NTgxIDEyLjIzMzUgODMuOTc1MSAxMi4yMzM1SDg2Ljg0MzhWMTQuNDAwOUg4NS40MDk1Qzg0Ljg4NzkgMTQuNDAwOSA4NC41NDAyIDE0LjQ4NzYgODQuMzIyOSAxNC42NjFDODQuMTA1NSAxNC44MzQ0IDgzLjk3NTEgMTUuMDk0NSA4My45NzUxIDE1LjQ0MTJWMTYuMzUxNUg4Ni44NDM4VjE4LjY0ODlIODMuOTc1MVYyNy43OTUzSDgwLjg0NTZWMTguNjQ4OVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTk4LjQwNTYgMjcuNzk1M0g5Mi43MTE2QzkxLjAxNjUgMjcuNzk1MyA4OS44NDI5IDI3LjQ0ODUgODkuMDYwNSAyNi43OTgzQzg4LjMyMTYgMjYuMTQ4MSA4Ny45MzA0IDI1LjA2NDQgODcuOTMwNCAyMy41OTA2VjE2LjM5NDlIOTAuOTI5NVYyMy40MTcyQzkwLjkyOTUgMjQuMTk3NCA5MS4wNTk5IDI0LjY3NDMgOTEuMzIwNyAyNC45MzQ0QzkxLjU4MTUgMjUuMTk0NCA5Mi4xMDMxIDI1LjMyNDUgOTIuOTI4OSAyNS4zMjQ1SDk1LjM2M1YxNi4zOTQ5SDk4LjQwNTZWMjcuNzk1M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTEwMC42MjIgMjUuNDExMkgxMDcuMDExQzEwNy41NzcgMjUuNDExMiAxMDguMDExIDI1LjMyNDUgMTA4LjI3MiAyNS4xNTExQzEwOC41MzMgMjQuOTc3NyAxMDguNjYzIDI0LjY3NDMgMTA4LjY2MyAyNC4zMjc1QzEwOC42NjMgMjMuOTM3NCAxMDguNTMzIDIzLjY3NzMgMTA4LjI3MiAyMy40NjA1QzEwOC4wMTEgMjMuMjg3MSAxMDcuNTc3IDIzLjIwMDUgMTA3LjA1NSAyMy4yMDA1SDEwNC40NDdDMTAyLjg4MiAyMy4yMDA1IDEwMS44MzkgMjIuOTgzNyAxMDEuMzE4IDIyLjUwNjlDMTAwLjc1MiAyMi4wMzAxIDEwMC40OTIgMjEuMjA2NSAxMDAuNDkyIDE5Ljk5MjdDMTAwLjQ5MiAxOC43NzkgMTAwLjgzOSAxNy44Njg3IDEwMS40OTEgMTcuMjYxOEMxMDIuMTQzIDE2LjY5ODMgMTAzLjE4NyAxNi4zOTQ5IDEwNC41MzQgMTYuMzk0OUgxMTEuMDU0VjE4Ljc3OUgxMDUuNzA4QzEwNC44MzggMTguNzc5IDEwNC4yNzMgMTguODY1NyAxMDQuMDEyIDE4Ljk5NTdDMTAzLjc1MiAxOS4xNjkxIDEwMy42MjEgMTkuNDI5MiAxMDMuNjIxIDE5LjgxOTRDMTAzLjYyMSAyMC4xNjYxIDEwMy43NTIgMjAuNDI2MiAxMDMuOTY5IDIwLjU5OTZDMTA0LjE4NiAyMC43NzMgMTA0LjU3NyAyMC44NTk3IDEwNS4wNTYgMjAuODU5N0gxMDcuNzk0QzEwOS4wNTQgMjAuODU5NyAxMTAuMDExIDIxLjE2MzEgMTEwLjY2MyAyMS43MjY2QzExMS4zMTUgMjIuMjkwMiAxMTEuNjYyIDIzLjE1NzEgMTExLjY2MiAyNC4yNDA4QzExMS42NjIgMjUuMjgxMSAxMTEuMzU4IDI2LjE0ODEgMTEwLjc5MyAyNi43OTgzQzExMC4yMjggMjcuNDQ4NSAxMDkuNDQ2IDI3Ljc5NTMgMTA4LjUzMyAyNy43OTUzSDEwMC43MDlWMjUuNDExMkgxMDAuNjIyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTE2LjU3NCAxNS4wOTQ0SDExMy40MDFWMTIuMjc2OUgxMTYuNTc0VjE1LjA5NDRaTTExNi41NzQgMjcuNzk1M0gxMTMuNDAxVjE2LjM5NDlIMTE2LjU3NFYyNy43OTUzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMwLjMwOSAyMi4xMTY3QzEzMC4zMDkgMjMuODkzOSAxMjkuNzQ0IDI1LjMyNDQgMTI4LjY1NyAyNi40MDgxQzEyNy41NzEgMjcuNDkxOCAxMjYuMDkzIDI4LjAxMiAxMjQuMjI0IDI4LjAxMkMxMjIuMzU1IDI4LjAxMiAxMjAuODc3IDI3LjQ5MTggMTE5Ljc5IDI2LjQwODFDMTE4LjcwNCAyNS4zMjQ0IDExOC4xMzkgMjMuODkzOSAxMTguMTM5IDIyLjExNjdDMTE4LjEzOSAyMC4zMzk0IDExOC43MDQgMTguOTA5IDExOS43OSAxNy44MjUzQzEyMC44NzcgMTYuNzQxNiAxMjIuMzk4IDE2LjIyMTQgMTI0LjIyNCAxNi4yMjE0QzEyNi4wNDkgMTYuMjIxNCAxMjcuNTI3IDE2Ljc0MTYgMTI4LjY1NyAxNy44MjUzQzEyOS43NDQgMTguODY1NiAxMzAuMzA5IDIwLjI5NjEgMTMwLjMwOSAyMi4xMTY3Wk0xMjEuMjY4IDIyLjExNjdDMTIxLjI2OCAyMy4yMDA0IDEyMS41MjkgMjQuMDY3MyAxMjIuMDUxIDI0LjY3NDJDMTIyLjU3MiAyNS4yODExIDEyMy4yNjggMjUuNTg0NSAxMjQuMTggMjUuNTg0NUMxMjUuMDkzIDI1LjU4NDUgMTI1Ljc4OSAyNS4yODExIDEyNi4zMSAyNC42NzQyQzEyNi44MzIgMjQuMDY3MyAxMjcuMDkzIDIzLjIwMDQgMTI3LjA5MyAyMi4xMTY3QzEyNy4wOTMgMjEuMDMzIDEyNi44MzIgMjAuMTY2MSAxMjYuMzEgMTkuNjAyNUMxMjUuNzg5IDE4Ljk5NTcgMTI1LjA5MyAxOC42OTIyIDEyNC4xMzcgMTguNjkyMkMxMjMuMjI0IDE4LjY5MjIgMTIyLjUyOSAxOC45OTU3IDEyMi4wMDcgMTkuNjAyNUMxMjEuNTI5IDIwLjE2NjEgMTIxLjI2OCAyMS4wMzMgMTIxLjI2OCAyMi4xMTY3WiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMxLjc4NyAxNi4zOTQ5SDEzNy40ODFDMTM5LjIxOSAxNi4zOTQ5IDE0MC40MzYgMTYuNjk4MyAxNDEuMTc1IDE3LjM0ODVDMTQxLjkxNCAxNy45OTg4IDE0Mi4yNjIgMTkuMDgyNCAxNDIuMjYyIDIwLjU1NjNWMjcuNzk1M0gxMzkuMjE5VjIwLjk0NjRDMTM5LjIxOSAyMC4wNzk0IDEzOS4wODkgMTkuNTE1OSAxMzguODI4IDE5LjI5OTJDMTM4LjU2NyAxOS4wMzkxIDEzOC4wNDYgMTguOTA5MSAxMzcuMjIgMTguOTA5MUgxMzQuNzg2VjI3LjgzODZIMTMxLjc0M1YxNi4zOTQ5SDEzMS43ODdaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDMuNzM3NDNIMFYxMC44NDY0SDcuMTI4MzFWMy43Mzc0M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTIzLjI1MTMgLTIuMTU3MjVlLTA1TDE4LjU1MTMgNS41MTY4NUwyNC4wODMxIDEwLjIwNDFMMjguNzgzMSA0LjY4NzI1TDIzLjI1MTMgLTIuMTU3MjVlLTA1WiIgZmlsbD0iI0ZGODYwMCIvPgo8cGF0aCBkPSJNMTUuNjA0MSAzLjczNzQzSDguNDc1ODNWMTAuODQ2NEgxNS42MDQxVjMuNzM3NDNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDEyLjE5MDJIMFYxOS4yOTkySDcuMTI4MzFWMTIuMTkwMloiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMTIuMTkwMkg4LjQ3NTgzVjE5LjI5OTJIMTUuNjA0MVYxMi4xOTAyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMDc5NyAxMi4xOTAySDE2Ljk1MTRWMTkuMjk5MkgyNC4wNzk3VjEyLjE5MDJaIiBmaWxsPSIjRkY4NjAwIi8+CjxwYXRoIGQ9Ik03LjEyODMxIDIwLjY4NjNIMFYyNy43OTUzSDcuMTI4MzFWMjAuNjg2M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMjAuNjg2M0g4LjQ3NTgzVjI3Ljc5NTNIMTUuNjA0MVYyMC42ODYzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMTIzMiAyMC42ODYzSDE2Ljk5NDlWMjcuNzk1M0gyNC4xMjMyVjIwLjY4NjNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik0xNDYgMTUuODMxM0MxNDYgMTYuODcxNyAxNDUuMTc0IDE3LjY5NTMgMTQ0LjEzMSAxNy42OTUzQzE0My4wODggMTcuNjk1MyAxNDIuMjYyIDE2Ljg3MTcgMTQyLjI2MiAxNS44MzEzQzE0Mi4yNjIgMTQuNzkxIDE0My4wODggMTQuMDEwNyAxNDQuMTMxIDE0LjAxMDdDMTQ1LjEzMSAxMy45Njc0IDE0NiAxNC43OTEgMTQ2IDE1LjgzMTNaTTE0Mi45NTcgMTQuNzkxQzE0Mi42OTcgMTUuMDUxMSAxNDIuNTY2IDE1LjQ0MTIgMTQyLjU2NiAxNS44MzEzQzE0Mi41NjYgMTYuNjk4MyAxNDMuMjYyIDE3LjM5MTggMTQ0LjEzMSAxNy4zOTE4QzE0NSAxNy4zOTE4IDE0NS42OTYgMTYuNjk4MyAxNDUuNjk2IDE1LjgzMTNDMTQ1LjY5NiAxNS4wMDc3IDE0NSAxNC4yNzA4IDE0NC4xNzQgMTQuMjcwOEMxNDMuNjUzIDE0LjI3MDggMTQzLjI2MiAxNC40NDQyIDE0Mi45NTcgMTQuNzkxWk0xNDQuODcgMTYuOTE1SDE0NC40NzlMMTQzLjkxNCAxNi4wOTE0VjE2LjkxNUgxNDMuNjA5VjE0Ljc0NzZIMTQzLjk1N0MxNDQuNDM1IDE0Ljc0NzYgMTQ0LjY1MyAxNC45NjQ0IDE0NC42NTMgMTUuMzU0NUMxNDQuNjUzIDE1LjY1NzkgMTQ0LjQ3OSAxNS44NzQ3IDE0NC4xNzQgMTUuOTYxNEwxNDQuODcgMTYuOTE1Wk0xNDQuMDQ0IDE1LjY1NzlDMTQ0LjI2MSAxNS42NTc5IDE0NC4zOTIgMTUuNTI3OSAxNDQuMzkyIDE1LjM1NDVDMTQ0LjM5MiAxNS4xMzc4IDE0NC4yNjEgMTUuMDUxMSAxNDQuMDAxIDE1LjA1MTFIMTQzLjkxNFYxNS42NTc5SDE0NC4wNDRaIiBmaWxsPSIjMzU0M0E4Ii8+Cjwvc3ZnPgo=" style="\n    text-align: left;\n    width: 146px;\n    position: absolute;\n    top: 14px;\n    left: 31px;\n">\n            </div>\n            <div style="\n    position: relative;\n    top: 80px;\n    left: 32px;\n    font-size: 20px;\n    text-align: left;\n    font-weight: 700;\n    letter-spacing: 0.02em;\n    font-style: normal;\n    line-height: 125%;\n    ">Claim your FREE account and get a key in less than a minute</div>\n            <ul style="\n        font-size: 15px;\n        font-weight: 400;\n        color: #333333;\n        letter-spacing: 0.01em;\n        position: relative;\n        left: 32px;\n        top: 88px;\n        line-height: 180%;\n        ">\n                <li><span>Access to a 30-day free trial of any of our products.</span></li>\n                <li><span>Access to 24x5 support by developers via the <a href="https://support.syncfusion.com/create?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">support tickets</a>, <a href="https://www.syncfusion.com/forums?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">forum</a>, <a href="https://www.syncfusion.com/feedback?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information\n                " style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">feature &amp; feedback page</a> and chat.</span></li>\n                <li><span>200+ <a href="https://www.syncfusion.com/succinctly-free-ebooks?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">ebooks </a>on the latest technologies, industry trends, and research topics.</span>\n                </li>\n                <li><span>Largest collection of over 7,000 flat and wireframe icons for free with Syncfusion <a href="https://www.syncfusion.com/downloads/metrostudio?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information\n                " style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">Metro Studio.</a></span></li>\n                <li><span>Free and unlimited access to Syncfusion technical <a href="https://www.syncfusion.com/blogs/?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information\n                " style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">blogs</a> and <a href="https://www.syncfusion.com/resources/techportal/whitepapers?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">whitepapers.</a></span></li>\n            </ul>\n            <div style="\n            font-size: 18px;\n            font-weight: 700;\n            position: relative;\n            line-height: 125%;\n            letter-spacing: 0.02em;\n            top: 90px;\n            left: 32px;\n    ">Syncfusion is trusted by 29,000+ businesses worldwide</div>\n            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODIwIiBoZWlnaHQ9IjU2IiB2aWV3Qm94PSIwIDAgODIwIDU2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MjcuNjE3IDIyLjU2NTlWMjQuNzIyNkM0MjYuNTU4IDI0LjM2MzggNDI1LjM5OCAyNC4xNTQ0IDQyNC40NzQgMjQuMTU0NEM0MjMuMzMzIDI0LjE1NDQgNDIyLjY5OCAyNC40OTEyIDQyMi42OTggMjUuMDk2M0M0MjIuNjk4IDI1LjQ4MjQgNDIyLjk3NiAyNS43MzgzIDQyMy43NzMgMjYuMDg1NEw0MjUuOTE3IDI3LjAxNzRDNDI3LjYzMyAyNy43NjM5IDQyOC40OTcgMjguODUzIDQyOC40OTcgMzAuMjY4MUM0MjguNDk3IDMyLjQ1MjIgNDI2LjU0NiAzMy44MyA0MjMuNDUyIDMzLjgzQzQyMi4zMjQgMzMuODMgNDIxLjAxOCAzMy42NzM2IDQxOS42MzYgMzMuMzcwOVYzMS4xNDE2QzQyMS4wMDYgMzEuNTAyOCA0MjIuMjYyIDMxLjY5NTcgNDIzLjIzOSAzMS42OTU3QzQyNC41MTggMzEuNjk1NyA0MjUuMjAzIDMxLjM1MDYgNDI1LjIwMyAzMC43MDc0QzQyNS4yMDMgMzAuMzIwOCA0MjQuOTM1IDMwLjAzNjcgNDI0LjMyMiAyOS43NzE3TDQyMS45NzUgMjguNzU5M0M0MjAuMjM2IDI4LjAwNzggNDE5LjQzMyAyNi45OTU0IDQxOS40MzMgMjUuNTUyMUM0MTkuNDMzIDIzLjQ4MzcgNDIxLjMxNCAyMi4xNjQ5IDQyNC4yNjUgMjIuMTY0OUM0MjUuMjk4IDIyLjE2NDkgNDI2LjU3IDIyLjMxNzEgNDI3LjYxNyAyMi41NjU5VjIyLjU2NTlaTTQzMC4xNjcgMjIuMzkwOUg0MzMuNjM1VjMzLjYwMzlINDMwLjE2N1YyMi4zOTA5Wk00NDQuOTExIDIyLjM5MDlWMjQuNDQ1MUg0MzkuNjc1VjI2Ljk3NDJINDQ0LjI0OVYyOC44MzIzSDQzOS42NzVWMzEuNDU0M0g0NDQuOTc4VjMzLjYwMzlINDM2LjMwNVYyMi4zOTA5SDQ0NC45MTFaTTQ2MS4yOTQgMjIuMzkwOVYzMy42MDM5SDQ1Ny45MzlWMjYuMjIzNkw0NTQuNjUyIDMzLjY5MTVINDUyLjUzMUw0NDkuMjY2IDI2LjIyMzZWMzMuNjAzOUg0NDYuOTQ5VjIyLjM5MDlINDUxLjE4NEw0NTQuMTc4IDI5LjIxMTRMNDU3LjE1NiAyMi4zOTA5SDQ2MS4yOTRWMjIuMzkwOVpNNDcyLjU3OSAyMi4zOTA5VjI0LjQ0NTFINDY3LjMzNVYyNi45NzQySDQ3MS45MDhWMjguODMyM0g0NjcuMzM1VjMxLjQ1NDNINDcyLjYzOFYzMy42MDM5SDQ2My45NTdWMjIuMzkwOUg0NzIuNTc5Wk00ODQuNzk0IDIyLjM5MDlWMzMuNjAzOUg0ODEuMDkzTDQ3Ni45MjYgMjYuNDEyM1YzMy42MDM5SDQ3NC42MDhWMjIuMzkwOUg0NzguNDA3TDQ4Mi40ODQgMjkuNDg3NlYyMi4zOTA5SDQ4NC43OTRaTTQ5NC44NTggMjIuNTY1OVYyNC43MjI2QzQ5My44MDcgMjQuMzY2MyA0OTIuNjQgMjQuMTU0NCA0OTEuNzMyIDI0LjE1NDRDNDkwLjU3MyAyNC4xNTQ0IDQ4OS45MzkgMjQuNDg1OCA0ODkuOTM5IDI1LjA5M0M0ODkuOTM5IDI1LjQ4ODYgNDkwLjE5OCAyNS43MjUgNDkxLjAyMyAyNi4wODU5TDQ5My4xNTcgMjcuMDE3OEM0OTQuODg1IDI3Ljc3MjIgNDk1LjczOSAyOC44NTE4IDQ5NS43MzkgMzAuMjgzNUM0OTUuNzM5IDMyLjQ1NTkgNDkzLjc4NiAzMy44MzA4IDQ5MC42OTkgMzMuODMwOEM0ODkuNTY5IDMzLjgzMDggNDg4LjI1OSAzMy42NzM2IDQ4Ni44NzggMzMuMzcxN1YzMS4xNDI0QzQ4OC4yNDcgMzEuNTAyOCA0ODkuNDk5IDMxLjY5NjUgNDkwLjQ3IDMxLjY5NjVDNDkxLjc0IDMxLjY5NjUgNDkyLjQ0NCAzMS4zNTE1IDQ5Mi40NDQgMzAuNzI4NUM0OTIuNDQ0IDMwLjMxNjMgNDkyLjE5NyAzMC4wNTA0IDQ5MS41NTUgMjkuNzcyNUw0ODkuMjE4IDI4Ljc2MDFDNDg3LjQ2NyAyOC4wMDI4IDQ4Ni42NzQgMjcuMDAyIDQ4Ni42NzQgMjUuNTUzM0M0ODYuNjc0IDIzLjQ4NjIgNDg4LjU1NiAyMi4xNjY1IDQ5MS41IDIyLjE2NjVDNDkyLjUzNiAyMi4xNjUzIDQ5My44MTMgMjIuMzE3MSA0OTQuODU4IDIyLjU2NTlWMjIuNTY1OVoiIGZpbGw9IiMwMEEwQjAiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzUyLjQxMyAyNi44MTlDMzUwLjk5MiAyNS4yNzU5IDM0OS42MzggMjMuODMxNSAzNDguMzQ5IDIyLjE1NzRMMzQ3LjkyIDIxLjU5OTVDMzQ5LjQwNiAyMS4zNjkzIDM1MC42OTUgMjAuMzg0OCAzNTAuNjk1IDE4Ljc0MzNDMzUwLjY5NSAxNy4yMzMxIDM0OS41MzkgMTYuMjQ4MiAzNDcuODIxIDE2LjI0ODJDMzQ2LjU5OCAxNi4yNDgyIDM0NS43MDYgMTYuMzEzNyAzNDUuMjQzIDE2LjMxMzdDMzQ0LjcxNSAxNi4zMTM3IDM0NC4yODUgMTYuMzEzNyAzNDMuNzkgMTYuMjgwOEMzNDMuODU2IDE4LjE1MjEgMzQzLjg4OSAxOC4yODM0IDM0My44ODkgMTkuNDMyMlYyMy42MzQzQzM0My44ODkgMjQuNDU1MyAzNDMuODU2IDI1LjI3NTkgMzQzLjc5IDI2LjgxODZDMzQ0LjE1MyAyNi43MjAyIDM0NC41MTcgMjYuNzIwMiAzNDQuNzgxIDI2LjcyMDJDMzQ1LjA0NSAyNi43MjAyIDM0NS40MDkgMjYuNzUzMSAzNDUuNzA2IDI2LjgxODZDMzQ1LjY0IDI1Ljc2NzkgMzQ1LjYwNyAyNC4wMjgzIDM0NS42MDcgMjMuNjM0M1YyMS4yMDUxQzM0Ny4xNiAyMy4yMDc3IDM0OS4yMDkgMjUuNjY5NSAzNTAuMDAxIDI2LjgxODZDMzUwLjM5OCAyNi43MjAyIDM1MC43MjggMjYuNzIwMiAzNTEuMTI0IDI2LjcyMDJDMzUxLjQ1NSAyNi43MjA2IDM1MS45MTggMjYuNzIwNiAzNTIuNDEzIDI2LjgxOVYyNi44MTlaTTM0OC44NzggMTkuMDA2QzM0OC44NzggMjAuMDIzNCAzNDguMzE3IDIxLjIwNTQgMzQ2Ljc5NyAyMS4yMDU0QzM0Ni40IDIxLjIwNTQgMzQ2LjAwMyAyMS4yMDU0IDM0NS42MDcgMjEuMTcyNVYxNy4wNjg4QzM0Ni4wMDMgMTYuOTcwNCAzNDYuNDk5IDE2LjkwNDYgMzQ2Ljc2MyAxNi45MDQ2QzM0OC4wODUgMTYuOTA0OSAzNDguODc4IDE3LjY2IDM0OC44NzggMTkuMDA2VjE5LjAwNlpNMzgyLjM4IDI2Ljg4NDVDMzgxLjgxOSAyNi4yOTM2IDM4MC45NiAyNS4zNDE3IDM4MC4xMzQgMjQuNDIyM0MzODAuODI4IDIzLjY2NzIgMzgxLjU1NSAyMi41NTEgMzgxLjk4NCAyMS41OTkxQzM4MS43MTkgMjEuNDY3OCAzODEuMzU2IDIxLjIwNTEgMzgxLjA5MiAyMC45NzUzQzM4MC45OTMgMjEuNzk1OSAzODAuNDMyIDIyLjg3OTIgMzc5LjYzOSAyMy44MzE1QzM3OC41MTUgMjIuNTE4NSAzNzguMjE4IDIyLjE1NzQgMzc3LjE5MyAyMC43Nzg1QzM3OC41ODEgMTkuODkyMSAzNzkuMjQyIDE4Ljg3NDMgMzc5LjI0MiAxOC4wNTM3QzM3OS4yNDIgMTcuMTAxNyAzNzguNTgxIDE2LjExNjkgMzc2Ljk2MiAxNi4xMTY5QzM3NS4yMTEgMTYuMTE2OSAzNzQuMzUyIDE3LjIwMDIgMzc0LjM1MiAxOC40ODAzQzM3NC4zNTIgMTkuMjM1NCAzNzQuNTUgMTkuODkxNyAzNzUuMzc2IDIwLjk3NTNDMzc0LjA1NCAyMS42OTc1IDM3Mi43NjYgMjIuNzQ3OSAzNzIuNzY2IDI0LjQyMjNDMzcyLjc2NiAyNi4wNjM5IDM3NC4wODcgMjYuOTE3NCAzNzUuNzA3IDI2LjkxNzRDMzc3LjE5MyAyNi45MTc0IDM3OC4xNTEgMjYuMzI2NiAzNzguOTEyIDI1LjYzNjlMMzc5LjkwMiAyNi44MTlDMzgwLjIgMjYuNzg2MSAzODAuNTMxIDI2LjcyMDYgMzgwLjg2MSAyNi43MjA2QzM4MS4zMjQgMjYuNzIwNiAzODEuODUyIDI2Ljc4NjEgMzgyLjM4IDI2Ljg4NDVWMjYuODg0NVpNMzgzLjM3MiA0MC4wMTU4QzM4MS45MTggMzguNDczIDM4MC41OTcgMzcuMDYxMiAzNzkuMzA4IDM1LjM4NzFMMzc4Ljg3OCAzNC44Mjg4QzM4MC4zMzIgMzQuNTk5MSAzODEuNjU0IDMzLjYxNSAzODEuNjU0IDMxLjk0MDFDMzgxLjY1NCAzMC40NjMyIDM4MC40OTggMjkuNDQ1NCAzNzguNzc5IDI5LjQ0NTRDMzc3LjU1NyAyOS40NDU0IDM3Ni42MzIgMjkuNTQzNSAzNzYuMTY5IDI5LjU0MzVDMzc1LjY3MyAyOS41NDM1IDM3NS4yNDQgMjkuNTQzNSAzNzQuNzQ4IDI5LjQ3NzZDMzc0LjgxNCAzMS4zODIyIDM3NC44NDggMzEuNDgwMiAzNzQuODQ4IDMyLjYyOTRWMzYuODMxMUMzNzQuODQ4IDM3LjY1MjQgMzc0LjgxNCAzOC41MDUyIDM3NC43NDggNDAuMDE1NEMzNzUuMTEyIDM5Ljk0OTYgMzc1LjQ3NSAzOS45NDk2IDM3NS43MDcgMzkuOTQ5NkMzNzYuMDA0IDM5Ljk0OTYgMzc2LjM2OCAzOS45NDk2IDM3Ni42MzIgNDAuMDE1NEMzNzYuNTY1IDM4Ljk5OCAzNzYuNTMzIDM3LjI1ODEgMzc2LjUzMyAzNi44MzExVjM0LjQzNDhDMzc4LjExOSAzNi40MDQyIDM4MC4xNjcgMzguODk5NiAzODAuOTYgNDAuMDE1NEMzODEuMzU2IDM5Ljk0OTYgMzgxLjY4NyAzOS45NDk2IDM4Mi4wODMgMzkuOTQ5NkMzODIuMzggMzkuOTUgMzgyLjg3NiAzOS45NSAzODMuMzcyIDQwLjAxNThaTTM2Mi4xNiAyNi44MTlDMzYwLjk3MSAyNS41NzE1IDM1OC44ODkgMjIuOTc4IDM1OC4wNjMgMjEuOTkzNUwzNTcuMjM3IDIwLjk3NTdDMzU4LjA5NiAxOS45NTgzIDM1OC42OSAxOS4zMzQxIDM1OS4zMTkgMTguNTc5QzM2MC4wNDUgMTcuNzkxIDM2MC43MDYgMTYuOTcwNCAzNjEuNDk5IDE2LjI0ODJDMzYxLjEzNiAxNi4zMTM3IDM2MC45MzcgMTYuMzEzNyAzNjAuNzM5IDE2LjMxMzdDMzYwLjU0MSAxNi4zMTM3IDM2MC4zNDMgMTYuMzEzNyAzNjAuMTQ0IDE2LjI0ODJDMzU5LjkxMyAxNi42MDkzIDM1OS41NSAxNy4wNjg4IDM1OS4xNTMgMTcuNTI4N0MzNTguNzU2IDE3Ljk1NTYgMzU4LjM2IDE4LjM4MjIgMzU4LjA2MyAxOC43NDMzQzM1Ny4yMzYgMTkuNjk1MiAzNTYuNzc0IDIwLjE1NDcgMzU1LjU4NSAyMS4yNzA5VjE5LjQ2NTVDMzU1LjU4NSAxOC40MTUxIDM1NS41ODUgMTcuNzI1NSAzNTUuNjUxIDE2LjI0ODJDMzU1LjMyMSAxNi4zMTM3IDM1NC45NTcgMTYuMzEzNyAzNTQuNzI2IDE2LjMxMzdDMzU0LjQ2MSAxNi4zMTM3IDM1NC4wMzIgMTYuMzEzNyAzNTMuNzY4IDE2LjI0ODJDMzUzLjgzMyAxNy44MjM5IDM1My44NjcgMTguMjgzNCAzNTMuODY3IDE5LjQzMjVWMjMuNjM0N0MzNTMuODY3IDI0LjY4NSAzNTMuODMzIDI1LjMwODggMzUzLjc2OCAyNi44MTlDMzU0LjE2NCAyNi43MjA2IDM1NC40OTUgMjYuNzIwNiAzNTQuNzI2IDI2LjcyMDZDMzU0Ljk1NyAyNi43MjA2IDM1NS4zNTMgMjYuNzUzNSAzNTUuNjUxIDI2LjgxOUMzNTUuNTg1IDI1LjE0NDkgMzU1LjU4NSAyNC4xNTk3IDM1NS41ODUgMjMuNjM0N1YyMS40MzUyQzM1Ni44MDcgMjIuODc5NiAzNTguNjkgMjUuMjQzMyAzNTkuNzQ4IDI2LjgxOUMzNjAuMTMgMjYuNzU2MyAzNjAuNTE3IDI2LjcyMzQgMzYwLjkwNSAyNi43MjA2QzM2MS4yMDIgMjYuNzIwNiAzNjEuNjY1IDI2LjcyMDYgMzYyLjE2IDI2LjgxOVYyNi44MTlaTTM3Mi42MDEgNDAuMDE1OEMzNzIuNTY4IDM5Ljg1MTkgMzcyLjUzNSAzOS43MjA2IDM3Mi41MzUgMzkuNTIzNEMzNzIuNTM1IDM5LjM5MjggMzcyLjU2OCAzOS4yMjgxIDM3Mi42MDEgMzkuMDk2NEMzNzEuMjggMzkuMTI5NyAzNjguOTAxIDM5LjE5NTIgMzY4LjM3MiAzOS4xOTUyVjM0LjY2NDlDMzY5LjY5NCAzNC42NjQ5IDM3MC45ODIgMzQuNjY0OSAzNzIuMjcgMzQuNzk2M0MzNzIuMjM4IDM0LjYzMjQgMzcyLjIwNCAzNC40Njc3IDM3Mi4yMDQgMzQuMzM2NEMzNzIuMjA0IDM0LjIwNTggMzcyLjIwNCAzNC4wNDE5IDM3Mi4yNyAzMy44NDQ3QzM3MS4zNDYgMzMuOTQyOCAzNjkuMTk4IDMzLjk3NiAzNjguMzcyIDMzLjk3NlYzMC4yNjZDMzY5LjgyNiAzMC4yNjYgMzcwLjY4NSAzMC4yNjYgMzcxLjE4IDMwLjI5OTNMMzcyLjUwMiAzMC4zNjUxQzM3Mi40MzYgMzAuMTY3OSAzNzIuNDM2IDMwLjA2OTIgMzcyLjQzNiAyOS45MDUzQzM3Mi40MzYgMjkuNzQxNCAzNzIuNDM2IDI5LjcwODEgMzcyLjUwMiAyOS40NDU4QzM3MS40MTEgMjkuNDc4MyAzNjkuOTI1IDI5LjU0MzggMzY5LjI2NCAyOS41NDM4QzM2OC44MDIgMjkuNTQzOCAzNjcuMzQ4IDI5LjUxMTMgMzY2LjU4NyAyOS40NDU4QzM2Ni42NTQgMzAuMjY2NCAzNjYuNjg2IDMxLjYxMjMgMzY2LjY4NiAzMi41NjQyVjM2Ljg2NTFDMzY2LjY4NiAzNy40ODg1IDM2Ni42MiAzOC43MzU3IDM2Ni41ODcgNDAuMDE2MkMzNjcuNTEzIDM5Ljk1MDMgMzY4LjgwMiAzOS45NTAzIDM2OS4yNjQgMzkuOTUwM0MzNzAuMDI0IDM5Ljk1IDM3MS42NDMgMzkuOTUgMzcyLjYwMSA0MC4wMTU4Wk0zNjQuNjA1IDM5LjEyOTRDMzY0LjQ0IDM4LjgwMDggMzY0LjM0MSAzOC4zMDg4IDM2NC4yNzUgMzguMDQ2MUMzNjIuOTIgMzkuMTYxOSAzNjEuOTk1IDM5LjM5MjQgMzYwLjkzOCAzOS4zOTI0QzM1OC41OTIgMzkuMzkyNCAzNTcuMzM3IDM3LjI5MTMgMzU3LjMzNyAzNC42NjQ5QzM1Ny4zMzcgMzEuNzQzNiAzNTguNzU3IDMwLjAzNjIgMzYxLjE2OSAzMC4wMzYyQzM2Mi40MjUgMzAuMDM2MiAzNjMuNjE0IDMwLjU5NDUgMzY0LjE3NiAzMS4xNTI4QzM2NC4yMDggMzAuODg5OCAzNjQuMzA4IDMwLjM2NDggMzY0LjQ3MyAzMC4wNjg4QzM2My4zMTYgMjkuNTExMyAzNjIuMjU5IDI5LjM0NjYgMzYxLjEwMiAyOS4zNDY2QzM1Ny4yMzcgMjkuMzQ2NiAzNTUuNDUzIDMxLjc0MzYgMzU1LjQ1MyAzNC44Mjg4QzM1NS40NTMgMzguMzA5MSAzNTcuNzk4IDQwLjE0NzEgMzYwLjczOSA0MC4xNDcxQzM2Mi40MjUgNDAuMTQ3MSAzNjMuODEyIDM5LjYyMjIgMzY0LjYwNSAzOS4xMjk0VjM5LjEyOTRaTTM0Mi4zMDMgMjYuODE5QzM0MC41MTkgMjMuNDA0OSAzMzguOCAxOS4xMzczIDMzNy41NzggMTYuMTE2OUgzMzcuMzhDMzM2LjU4NyAxOC4wMjA3IDMzNS4xMzMgMjEuMjcwOSAzMzQuNzM3IDIyLjE4OTlDMzM0LjI3NCAyMy4zMDYxIDMzMy4yNSAyNS41MDU2IDMzMi41ODkgMjYuODE4NkMzMzIuODAzIDI2Ljc1MzggMzMzLjAyNiAyNi43MjA2IDMzMy4yNSAyNi43MjAyQzMzMy40NDggMjYuNzIwMiAzMzMuNjEzIDI2Ljc1MzEgMzMzLjg0NSAyNi44MTg2QzMzNC4xNzUgMjUuOTMyMiAzMzQuNjM4IDI0LjgxNiAzMzUuMTMzIDIzLjYzNDNDMzM1Ljc5NCAyMy42MDE0IDMzNi4zODkgMjMuNTY4OCAzMzYuOTg0IDIzLjU2ODhDMzM3LjYxMiAyMy41Njg4IDMzOC4yNzIgMjMuNjAxNCAzMzguOTMzIDIzLjYzNDNMMzM5LjU5NCAyNS4yMUwzNDAuMjU1IDI2LjgxODZDMzQwLjcxNyAyNi43MjAyIDM0MS4wOCAyNi43MjAyIDM0MS4zMTIgMjYuNzIwMkMzNDEuNjA5IDI2LjcyMDYgMzQxLjg3MyAyNi43MjA2IDM0Mi4zMDMgMjYuODE5VjI2LjgxOVpNMzUzLjYzNiAyOS40NDU0QzM1My40MzggMjkuNTExMyAzNTMuMjczIDI5LjU0MzUgMzUzLjEwNyAyOS41NDM1QzM1Mi45MDkgMjkuNTQzNSAzNTIuNzQ0IDI5LjUxMDkgMzUyLjU0NiAyOS40NDU0QzM1Mi42NDQgMzAuNzU4NCAzNTIuNjc4IDMyLjA3MTQgMzUyLjY3OCAzMy4zNTE5VjM2LjczMzRDMzUyLjE0OSAzNi4yNzM2IDM1MC44NiAzNS4wOTE5IDM0OS4zNzQgMzMuNzEzQzM0Ny44NiAzMi4zMDc0IDM0Ni4zOTQgMzAuODUxMSAzNDQuOTc5IDI5LjM0NjZIMzQ0Ljc0OEMzNDQuNzgxIDMwLjgyNDMgMzQ0LjgxNCAzMi40IDM0NC44MTQgMzMuODExNFYzNS44Nzk5QzM0NC44MTQgMzcuNjUyOCAzNDQuODE0IDM4LjYwNDcgMzQ0LjcxNSA0MC4wMTYyQzM0NC45OCAzOS45NTAzIDM0NS4xMTIgMzkuOTUwMyAzNDUuMzEgMzkuOTUwM0MzNDUuNDQyIDM5Ljk1MDMgMzQ1LjU3NSAzOS45NTAzIDM0NS44MDYgNDAuMDE2MkMzNDUuNzQgMzguNjcwNiAzNDUuNzA3IDM2LjQ3MDggMzQ1LjcwNyAzNS44Nzk5VjMyLjU5NjhDMzQ4LjE4NSAzNC44NjI1IDM1MS4yMjQgMzcuODgyNiAzNTMuNDcxIDQwLjE0NzVIMzUzLjYwM0MzNTMuNjAzIDM4LjkzMjkgMzUzLjUzNyAzNy43MTc5IDM1My41MzcgMzYuNTA0VjM0LjYzMjdDMzUzLjUzNiAzMi40MzI1IDM1My41MzYgMzEuMzQ5MyAzNTMuNjM2IDI5LjQ0NTRaTTM0Mi41NjcgNDAuMDE1OEMzNDIuNTM0IDM5Ljg1MTkgMzQyLjUwMSAzOS43MjA2IDM0Mi41MDEgMzkuNTIzNEMzNDIuNTAxIDM5LjM5MjggMzQyLjUzNCAzOS4yMjgxIDM0Mi41NjcgMzkuMDk2NEMzNDEuMjQ2IDM5LjEyOTcgMzM4Ljg2NyAzOS4xOTUyIDMzOC4zNzEgMzkuMTk1MlYzNC42NjQ5QzMzOS42NiAzNC42NjQ5IDM0MC45NDggMzQuNjY0OSAzNDIuMjM3IDM0Ljc5NjNDMzQyLjIwNCAzNC42MzI0IDM0Mi4xNzEgMzQuNDY3NyAzNDIuMTcxIDM0LjMzNjRDMzQyLjE3MSAzNC4yMDU4IDM0Mi4xNzEgMzQuMDQxOSAzNDIuMjM3IDMzLjg0NDdDMzQxLjMxMiAzMy45NDI4IDMzOS4xOTcgMzMuOTc2IDMzOC4zNzEgMzMuOTc2VjMwLjI2NkMzMzkuNzkyIDMwLjI2NiAzNDAuNjUxIDMwLjI2NiAzNDEuMTc5IDMwLjI5OTNMMzQyLjQ2OCAzMC4zNjUxQzM0Mi40MzUgMzAuMTY3OSAzNDIuNDM1IDMwLjA2OTIgMzQyLjQzNSAyOS45MDUzQzM0Mi40MzUgMjkuNzQxNCAzNDIuNDM1IDI5LjY3NTUgMzQyLjQ2OCAyOS40NDU4QzM0MS4zNzggMjkuNDc4MyAzMzkuODkxIDI5LjU0MzggMzM5LjIzIDI5LjU0MzhDMzM4Ljc2NyAyOS41NDM4IDMzNy4zMTQgMjkuNTExMyAzMzYuNTU0IDI5LjQ0NThDMzM2LjYyIDMwLjI2NjQgMzM2LjY1MyAzMS42MTIzIDMzNi42NTMgMzIuNTY0MlYzNi44NjUxQzMzNi42NTMgMzcuNDg4NSAzMzYuNTg3IDM4LjczNTcgMzM2LjU1NCA0MC4wMTYyQzMzNy41MTIgMzkuOTUwMyAzMzguNzY3IDM5Ljk1MDMgMzM5LjIzIDM5Ljk1MDNDMzM5Ljk5IDM5Ljk1IDM0MS42NDIgMzkuOTUgMzQyLjU2NyA0MC4wMTU4VjQwLjAxNThaTTMzMS4yMDEgMjYuODE5QzMzMC42NzMgMjMuMjQwNiAzMzAuMjEgMTkuNDk4NCAzMjkuODQ3IDE2LjExNjlDMzI5Ljc0OCAxNi4xNDk4IDMyOS43MTQgMTYuMTQ5OCAzMjkuNjQ5IDE2LjExNjlDMzI4Ljk1NSAxNy4zMzE1IDMyOC4xNjIgMTguNjQ0NSAzMjcuNTY3IDE5LjU2MzlDMzI3LjAwNiAyMC40NTAzIDMyNi4zNDUgMjEuNTAwNyAzMjUuNTg1IDIyLjYxNjlDMzIzLjk5OSAyMC41ODE3IDMyMi4zNDcgMTguMDIxMSAzMjEuMjU2IDE2LjExNjlDMzIxLjE5IDE2LjE0OTggMzIxLjE1NyAxNi4xMTY5IDMyMS4wOTEgMTYuMTE2OUMzMjAuNzI4IDE5LjQ5OCAzMjAuMjMyIDIzLjI3MzIgMzE5LjczNiAyNi44MTlDMzIwLjAwMSAyNi43MjA2IDMyMC4xNjYgMjYuNzIwNiAzMjAuMjk4IDI2LjcyMDZDMzIwLjQ5NiAyNi43MjA2IDMyMC42MjggMjYuNzUzNSAzMjAuODU5IDI2LjgxOUMzMjAuOTkyIDI0LjQ1NTMgMzIxLjI1NiAyMi4xMjQ0IDMyMS41NTMgMTkuNjYyM0MzMjIuODQyIDIxLjUzMzYgMzIzLjk2NSAyMy4xNDIyIDMyNS4yMjEgMjQuODQ5M0MzMjYuMjc4IDIzLjIwNzcgMzI3LjM2OCAyMS40MzQ4IDMyOC41NTggMTkuNjI5NEMzMjguODg4IDIyLjE1NyAzMjkuMTg2IDI0LjQ1NTMgMzI5LjM1MSAyNi44MTlDMzI5Ljc4IDI2LjcyMDYgMzMwLjA3OCAyNi43MjA2IDMzMC4yNzYgMjYuNzIwNkMzMzAuNTQgMjYuNzIwNiAzMzAuODA1IDI2LjcyMDYgMzMxLjIwMSAyNi44MTlWMjYuODE5Wk0zMzQuOTY4IDMyLjIwMjhDMzM0Ljk2OCAzMC4yOTg5IDMzMy40NDggMjkuNDQ1NCAzMzEuNTk4IDI5LjQ0NTRDMzMwLjc3MiAyOS40NDU0IDMyOS44OCAyOS41NDM1IDMyOS4yNTIgMjkuNTQzNUMzMjkuMDIxIDI5LjU0MzUgMzI4LjUyNSAyOS41NDM1IDMyNy45OTcgMjkuNDc3NkMzMjguMDMgMzAuNTI4MyAzMjguMDk2IDMxLjQxNDggMzI4LjA5NiAzMi40MzIyVjM2LjkyOTVDMzI4LjA5NiAzNy45MTQ4IDMyOC4wMyAzOC45OTggMzI3Ljk5NyA0MC4wMTU0QzMyOC40MjYgMzkuOTQ5NiAzMjguNzI0IDM5Ljk0OTYgMzI4LjkyMiAzOS45NDk2QzMyOS4xNTMgMzkuOTQ5NiAzMjkuNDg0IDM5Ljk0OTYgMzI5Ljg4IDQwLjAxNTRDMzI5LjgxNSAzOS4wMzE5IDMyOS43ODIgMzguMDQ2NSAzMjkuNzgxIDM3LjA2MDlWMzUuNDJDMzMwLjE0NSAzNS40NTI2IDMzMC41MDggMzUuNDUyNiAzMzAuOTA1IDM1LjQ1MjZDMzMyLjgyIDM1LjQ1MjYgMzM0Ljk2OCAzNC43MzA0IDMzNC45NjggMzIuMjAyOFYzMi4yMDI4Wk0zMjYuMDE0IDM2Ljg5NzNDMzI2LjAxNCAzNS4yNTU4IDMyNC45MjQgMzQuNTMzNiAzMjMuMDQgMzMuNzQ1NkMzMjEuNjg2IDMzLjE4OCAzMjAuOTkyIDMyLjY5NTYgMzIwLjk5MiAzMS42NDQ1QzMyMC45OTIgMzAuNjYgMzIxLjc1MiAzMC4wMzYyIDMyMy4wMDggMzAuMDM2MkMzMjMuODM0IDMwLjAzNjIgMzI0LjU2MSAzMC4zMzE1IDMyNS4yMjIgMzAuODU2OEMzMjUuMjg3IDMwLjQ5NTcgMzI1LjQ1MyAzMC4xMzQ3IDMyNS42NTEgMjkuODM5NEMzMjQuODU4IDI5LjQ3ODMgMzIzLjk5OSAyOS4zNDcgMzIzLjA3NCAyOS4zNDdDMzIwLjM2NSAyOS4zNDcgMzE5LjUwNSAzMC44OTA1IDMxOS41MDUgMzIuMjAzNUMzMTkuNTA1IDMzLjgxMTggMzIwLjI5OSAzNC41NjcyIDMyMi4zNDcgMzUuMzU1M0MzMjMuNjM2IDM1Ljg0NyAzMjQuMjk2IDM2LjQ3MTEgMzI0LjI5NiAzNy41NTQ0QzMyNC4yOTYgMzguNzAzNSAzMjMuNDM3IDM5LjQyNTcgMzIyLjI0OCAzOS40MjU3QzMyMS41NTQgMzkuNDI1NyAzMjAuMzY1IDM5LjA2NDYgMzE5LjUzOSAzOC4zMDk5QzMxOS41MDUgMzguNzM2MSAzMTkuNTA1IDM5LjEzMDQgMzE5LjM3MyAzOS40OTE1QzMxOS45MDIgMzkuNzU0NiAzMjEuMTI1IDQwLjE0NzkgMzIyLjIxNSA0MC4xNDc5QzMyNC45OSA0MC4xNDcxIDMyNi4wMTQgMzguNDM5NyAzMjYuMDE0IDM2Ljg5NzNWMzYuODk3M1pNMzc4LjE1MiAxNy45ODgyQzM3OC4xNTIgMTguOTczIDM3Ny40NTggMTkuNjYyMyAzNzYuNzY0IDIwLjIyMDJDMzc2LjMwMSAxOS41NjM5IDM3NS43NCAxOC42NzcxIDM3NS43NCAxNy45ODgyQzM3NS43NCAxNy4yMzMxIDM3Ni4yNjggMTYuODA2MSAzNzYuOTk1IDE2LjgwNjFDMzc3Ljk4NyAxNi44MDY1IDM3OC4xNTIgMTcuNjkyNiAzNzguMTUyIDE3Ljk4ODJWMTcuOTg4MlpNMzc4LjQ4MiAyNS4wMTMyQzM3OC4xMTkgMjUuMzQxNyAzNzcuMjYgMjUuOTY1NSAzNzYuNTMzIDI1Ljk2NTVDMzc1LjU3NCAyNS45NjU1IDM3NC40MTggMjUuMjc1OSAzNzQuNDE4IDIzLjc5ODZDMzc0LjQxOCAyMi40ODU1IDM3NS4yNzcgMjEuODk0NyAzNzUuODA2IDIxLjU2NjVDMzc3LjAyOCAyMy4yNDA2IDM3Ny4wOTUgMjMuMzM5MSAzNzguNDgyIDI1LjAxMzJaTTM3OS44MDQgMzIuMjAyOEMzNzkuODA0IDMzLjI1MzUgMzc5LjI3NSAzNC40MDI2IDM3Ny43NTUgMzQuNDAyNkMzNzcuMzI2IDM0LjQwMjYgMzc2LjkyOSAzNC40MDI2IDM3Ni41MzMgMzQuMzY5M1YzMC4yNjU2QzM3Ni45MjkgMzAuMTY3NiAzNzcuNDI1IDMwLjEzNDMgMzc3LjcyMiAzMC4xMzQzQzM3OS4wMTEgMzAuMTM0MyAzNzkuODA0IDMwLjg4OTggMzc5LjgwNCAzMi4yMDI4Wk0zMzguNjAyIDIyLjgxNDFDMzM3LjkwOSAyMi44NDY2IDMzNy41NDUgMjIuODQ2NiAzMzcuMDgyIDIyLjg0NjZDMzM2LjUyMSAyMi44NDY2IDMzNi4xOSAyMi44NDY2IDMzNS40NjMgMjIuODE0MUwzMzcuMDgyIDE5LjAwNkwzMzguNjAyIDIyLjgxNDFaTTMzMy4xNTEgMzIuMzAwOEMzMzMuMTUxIDMzLjgxMTEgMzMyLjI1OCAzNC43OTU5IDMzMC44MDUgMzQuNzk1OUMzMzAuNTA3IDM0Ljc5NTkgMzMwLjE3NyAzNC43OTU5IDMyOS43OCAzNC43MzAxVjMwLjIzMjdDMzMwLjI0MyAzMC4xNjY5IDMzMC42MzkgMzAuMTMzOSAzMzEuMDM2IDMwLjEzMzlDMzMyLjQyNCAzMC4xMzQzIDMzMy4xNTEgMzEuMDIxMSAzMzMuMTUxIDMyLjMwMDhaTTM2OS41MjggMjMuNjY3NkMzNjkuNTI4IDIyLjAyNiAzNjguNDM4IDIxLjMwMzkgMzY2LjU1NSAyMC41MTYyQzM2NS4yIDE5Ljk1ODMgMzY0LjUwNiAxOS40OTg4IDM2NC41MDYgMTguNDE1MUMzNjQuNTA2IDE3LjQ2MzIgMzY1LjI2NiAxNi44MDY1IDM2Ni41MjEgMTYuODA2NUMzNjcuMzQ4IDE2LjgwNjUgMzY4LjA3NSAxNy4xMDE3IDM2OC43MzUgMTcuNjI3NUMzNjguODAyIDE3LjI2NjQgMzY4Ljk2NyAxNi45MDQ5IDM2OS4xMzEgMTYuNjQyMkMzNjguMzcyIDE2LjI4MTEgMzY3LjQ3OSAxNi4xMTcyIDM2Ni41ODcgMTYuMTE3MkMzNjMuOTQ0IDE2LjExNzIgMzYyLjk4NiAxNy42NiAzNjIuOTg2IDE5LjAwNkMzNjIuOTg2IDIwLjU4MTcgMzYzLjgxMiAyMS4zMzY4IDM2NS44NjEgMjIuMTI0NEMzNjcuMTQ5IDIyLjYxNjkgMzY3LjgxIDIzLjI0MDYgMzY3LjgxIDI0LjM1NjhDMzY3LjgxIDI1LjQ3MyAzNjYuOTUxIDI2LjE5NTIgMzY1Ljc2MiAyNi4xOTUyQzM2NS4wMzUgMjYuMTk1MiAzNjMuODc5IDI1LjgzNDEgMzYzLjA1MiAyNS4xMTE5QzM2My4wMiAyNS41Mzg5IDM2Mi45ODYgMjUuOSAzNjIuODg3IDI2LjI2MTFDMzYzLjM4MyAyNi41MjM4IDM2NC42MDYgMjYuOTE3NCAzNjUuNzI5IDI2LjkxNzRDMzY4LjUwNCAyNi45MTc0IDM2OS41MjggMjUuMjQzMyAzNjkuNTI4IDIzLjY2NzZWMjMuNjY3NloiIGZpbGw9IiMwMzY1NTUiLz4NCjxwYXRoIGQ9Ik02NDAuNDE2IDIwLjU1NzNDNjM4LjY3MSAxOS44MzU0IDYzNy42MzEgMTkuNTU1MSA2MzYuNTk4IDE5LjU1NTFDNjM1LjUxNCAxOS41NTUxIDYzNC44MTkgMTkuOTE3IDYzNC44MTkgMjAuNDc2NUM2MzQuODE5IDIyLjE2NDUgNjQwLjk2MiAyMS42ODkzIDY0MC45NjIgMjUuNTkzNkM2NDAuOTYyIDI3Ljc0NjQgNjM5LjAyNCAyOC45OTc0IDYzNi4zMzIgMjguOTk3NEM2MzQuMjIgMjguOTk3NCA2MzMuMTggMjguNDg4IDYzMS45ODMgMjcuOTExNlYyNS40OTYyQzYzMy43MSAyNi41NjM1IDYzNC43NjggMjYuOTQwMSA2MzYuMTAxIDI2Ljk0MDFDNjM3LjI1NiAyNi45NDAxIDYzNy44NzkgMjYuNTYzNSA2MzcuODc5IDI1LjkwNjNDNjM3Ljg3OSAyNC4wNjg1IDYzMS43MzcgMjQuNzQxNSA2MzEuNzM3IDIwLjcyMTNDNjMxLjczNyAxOC43ODI3IDYzMy41MzQgMTcuNDk5IDYzNi4zMzIgMTcuNDk5QzYzNy42ODIgMTcuNDk5IDYzOC45MDEgMTcuNzYzNSA2NDAuNDE2IDE4LjM3MDdWMjAuNTU3M1pNNjQ5LjAxNiAyOC40ODQxQzY0Ny45OTIgMjguODMwNiA2NDcuMTI2IDI4Ljk5NTQgNjQ2LjI2MiAyOC45OTU0QzY0My40MDIgMjguOTk1NCA2NDEuNTUyIDI3LjQ0MjIgNjQxLjU1MiAyNS4wNzkyQzY0MS41NTIgMjIuNzU5NCA2NDMuNDczIDIxLjEyMDIgNjQ2LjE1NiAyMS4xMjAyQzY0Ni45ODUgMjEuMTIwMiA2NDguMDQ0IDIxLjMxODIgNjQ4Ljg5MSAyMS42MTIzVjIzLjM4ODFDNjQ4LjIyMSAyMy4wNTYyIDY0Ny40NDQgMjIuODc0MSA2NDYuODA5IDIyLjg3NDFDNjQ1LjI3MyAyMi44NzQxIDY0NC4yODYgMjMuNzM0MyA2NDQuMjg2IDI1LjA2MTlDNjQ0LjI4NiAyNi40MDggNjQ1LjI1NiAyNy4yOTQgNjQ2LjcyIDI3LjI5NEM2NDcuMzM3IDI3LjI5NCA2NDcuODg2IDI3LjE2MjMgNjQ5LjAxNiAyNi43NjhMNjQ5LjAxNiAyOC40ODQxWk02NzEuMzIgMjQuMjA5QzY3MS40MjUgMjMuMTU0OCA2NzIuMDgxIDIyLjU0NTcgNjczLjA4NyAyMi41NDU3QzY3NC4wNzYgMjIuNTQ1NyA2NzQuNzQ2IDIzLjE3MjEgNjc0Ljg1MiAyNC4yMDlINjcxLjMyWk02NzIuOTEgMjEuMTIyOUM2NzAuNCAyMS4xMjI5IDY2OC42MTQgMjIuNzc1NSA2NjguNjE0IDI1LjEwMTJDNjY4LjYxNCAyNy40NDQxIDY3MC40NzEgMjguOTk1NCA2NzMuMzM1IDI4Ljk5NTRDNjczLjk3IDI4Ljk5NTQgNjc1LjUwNCAyOC45OTU0IDY3Ni45NjYgMjcuOTg3VjI2LjUwNDJDNjc1Ljc2OSAyNy4yOTkzIDY3NC45NzcgMjcuNTczMSA2NzMuOTU1IDI3LjU3MzFDNjcyLjM0MSAyNy41NzMxIDY3MS4zNTQgMjYuNzk0OSA2NzEuMjY1IDI1LjQ2NjZINjc3LjExQzY3Ny4yMzIgMjIuNjkzOSA2NzUuMjc5IDIxLjEyMjkgNjcyLjkxIDIxLjEyMjlWMjEuMTIyOVpNNjc4LjA5OSAyOC44NTcySDY4MC42NTRWMjEuMjYyN0g2NzguMDk5VjI4Ljg1NzJaTTY4Ny43NjcgMjYuNzgxNUM2ODcuMjM0IDI3LjIyODEgNjg2Ljc5MiAyNy40MDcyIDY4Ni4yNDYgMjcuNDA3MkM2ODUuMDQzIDI3LjQwNzIgNjg0LjI4MSAyNi40ODM4IDY4NC4yODEgMjUuMTAwNEM2ODQuMjgxIDIzLjU4NDEgNjg1LjA0MyAyMi43MTAxIDY4Ni4zMzEgMjIuNzEwMUM2ODYuNzkyIDIyLjcxMDEgNjg3LjM5NCAyMi45MDggNjg3Ljc2NyAyMy4xNTU5VjI2Ljc4MTVaTTY4Ny43NjcgMTcuNjM5MVYyMS41OTU4QzY4Ny4wNzYgMjEuMjg0NyA2ODYuMzg4IDIxLjEyMDIgNjg1LjY0NCAyMS4xMjAyQzY4My4zMTMgMjEuMTIwMiA2ODEuNyAyMi43MjY2IDY4MS43IDI1LjA1MDdDNjgxLjcgMjcuMzI0OCA2ODMuMzEzIDI4Ljk5NzQgNjg1LjUgMjguOTk3NEM2ODYuMzY3IDI4Ljk5NzQgNjg3LjAzNyAyOC43ODU2IDY4Ny43NjcgMjguMjQzNVYyOC44NTQ5SDY5MC4zMjJWMTcuNjM5MUg2ODcuNzY3Wk02OTQuMTA1IDI0LjIwOUM2OTQuMjExIDIzLjE1NDggNjk0Ljg2NCAyMi41NDU3IDY5NS44NjggMjIuNTQ1N0M2OTYuODU4IDIyLjU0NTcgNjk3LjUzNSAyMy4xNzIxIDY5Ny42NDEgMjQuMjA5SDY5NC4xMDVaTTY5NS42OTQgMjEuMTIyOUM2OTMuMTg0IDIxLjEyMjkgNjkxLjQgMjIuNzc1NSA2OTEuNCAyNS4xMDEyQzY5MS40IDI3LjQ0NDEgNjkzLjI1OSAyOC45OTU0IDY5Ni4xMTkgMjguOTk1NEM2OTYuNzUzIDI4Ljk5NTQgNjk4LjI5IDI4Ljk5NTQgNjk5Ljc1NSAyNy45ODdWMjYuNTA0MkM2OTguNTU3IDI3LjI5OTMgNjk3Ljc2MyAyNy41NzMxIDY5Ni43MzYgMjcuNTczMUM2OTUuMTMxIDI3LjU3MzEgNjk0LjE0IDI2Ljc5NDkgNjk0LjA1MSAyNS40NjY2SDY5OS44OTRDNzAwLjAxNSAyMi42OTM5IDY5OC4wNjEgMjEuMTIyOSA2OTUuNjk0IDIxLjEyMjkiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik03MDMuNzIxIDIzLjQzNjhINzAzLjc1OEM3MDQuNTE3IDIxLjg1NjIgNzA1LjM2NiAyMS4xMTUgNzA2LjM1MiAyMS4xMTVDNzA2Ljg2MiAyMS4xMTUgNzA3LjMwMyAyMS4yOTY0IDcwOC4wNDQgMjEuODA3Nkw3MDcuMzQxIDIzLjkxMzNDNzA2LjY3IDIzLjUxODYgNzA2LjIyOSAyMy4zNTM1IDcwNS44MjMgMjMuMzUzNUM3MDQuODg2IDIzLjM1MzUgNzA0LjI4NiAyNC4xNzc1IDcwMy43MjEgMjUuNTcwNFYyOC44NDY2SDcwMS4xNjJWMjEuMjU0MUg3MDMuNzIxVjIzLjQzNjhaTTY4MC43NzUgMTguMDY3NEM2ODEuMDE1IDE4LjY1NzUgNjgwLjU4MyAxOS40ODA1IDY3OS44MTQgMTkuOTA0QzY3OS4wNDEgMjAuMzI3MSA2NzguMjI0IDIwLjE5MjggNjc3Ljk4NiAxOS42MDI3QzY3Ny43NDMgMTkuMDExNyA2NzguMTczIDE4LjE4NzcgNjc4Ljk0NSAxNy43NjY2QzY3OS43MTYgMTcuMzQxMSA2ODAuNTMzIDE3LjQ3NTkgNjgwLjc3NSAxOC4wNjc0WiIgZmlsbD0iIzAwOUU0RCIvPg0KPHBhdGggZD0iTTY1OC4yMiAyNC4wMjMxQzY1OC4yMiAyMS45NjUxIDY1Ni43MTkgMjEuMTIyNiA2NTUuMjM5IDIxLjEyMjZDNjU0LjIzMiAyMS4xMjI2IDY1My40MDQgMjEuNTE4NCA2NTIuNjY0IDIyLjM5MjFINjUyLjYyOVYxNy42MzkySDY1MC4wNzFWMjguODM1M0g2NTIuNjI5VjI0LjAyMzFDNjUzLjIyOCAyMy4yMTYxIDY1My43MzggMjIuODcxMSA2NTQuMzM4IDIyLjg3MTFDNjU1LjEzNCAyMi44NzExIDY1NS42NjIgMjMuMzk4NiA2NTUuNjYyIDI0LjUzMjlWMjcuMjAwOEM2NTYuNTIgMjYuNzg5NiA2NTcuMzkzIDI2LjUzNzQgNjU4LjIyIDI2LjQ0MzhWMjQuMDIzMVpNNjY0LjYzNiAyMS4xMTk5QzY2My41OTQgMjEuMTE5OSA2NjIuNzk5IDIxLjQ4MTEgNjYxLjk4NCAyMi4zNDkzVjIxLjI2MjRINjU5LjQyOFYyNi40MjM0QzY2MC4zMTMgMjYuNTA1OCA2NjEuNDQzIDI2Ljg4NDcgNjYxLjk4NCAyNy41MTA0VjIzLjk2MzRDNjYyLjY1NyAyMy4wMjMyIDY2My4xMzQgMjIuNzA5NyA2NjMuNzcgMjIuNzA5N0M2NjQuNDk0IDIyLjcwOTcgNjY1LjA0NSAyMy4xNTU2IDY2NS4wNDUgMjQuMjI2NFYyOC44MzcySDY2Ny42MDJWMjQuMDI4OUM2NjcuNjAyIDIxLjc5MjYgNjY1LjkwOCAyMS4xMTk5IDY2NC42MzYgMjEuMTE5OVYyMS4xMTk5Wk02NjkuMDE1IDMxLjAxODFINjY2LjA0M1YzMi45ODY0SDY2OC45MDlWMzMuODMxMkg2NjYuMDQzVjM1Ljg2MTlINjY5LjEwM1YzNi43MDU1SDY2NS4wNDZWMzAuMTc1Mkg2NjkuMDE1TDY2OS4wMTUgMzEuMDE4MVpNNjcxLjQ0MiAzNi43MDkzSDY3Mi4zNTJWMzAuMTczM0g2NzEuNDQyVjM2LjcwOTNaTTY3Ni44NTkgMzMuMDQ4NEM2NzcuNTA0IDMzLjA0ODQgNjc3LjkwNCAzMy40NjMxIDY3Ny45MzUgMzQuMTE0Mkg2NzUuNjE2QzY3NS43NDIgMzMuNDM0MiA2NzYuMTYxIDMzLjA0ODQgNjc2Ljg1OSAzMy4wNDg0Wk02NzUuNiAzNC42ODFINjc4Ljg0MkM2NzguODQyIDMzLjA4NjkgNjc4LjA2MiAzMi4zMTggNjc2LjgzOCAzMi4zMThDNjc1LjU2OSAzMi4zMTggNjc0LjY4OCAzMy4xOTI0IDY3NC42ODggMzQuNDk2OUM2NzQuNjg4IDM1LjY4OSA2NzUuNDg0IDM2Ljc4OTggNjc2LjkxNyAzNi43ODk4QzY3Ny42OTggMzYuNzg5OCA2NzguMjAzIDM2LjYyODEgNjc4Ljc2MyAzNi4yODJWMzUuNDU2QzY3OC4yMjIgMzUuNzg1NiA2NzcuNjk4IDM1Ljk3NTggNjc3LjE0NyAzNS45NzU4QzY3Ni4yNjUgMzUuOTc1OCA2NzUuNzQyIDM1LjUzNSA2NzUuNiAzNC42ODA2VjM0LjY4MVpNNjg0Ljc4NiAzMy41MzA5QzY4NC4yNjMgMzMuMTk2NiA2ODMuOTE0IDMzLjA5ODUgNjgzLjUxNSAzMy4wOTg1QzY4Mi42ODIgMzMuMDk4NSA2ODIuMTA1IDMzLjY5NDUgNjgyLjEwNSAzNC41NjdDNjgyLjEwNSAzNS40NTYgNjgyLjcxOSAzNS45OTE2IDY4My42NjggMzUuOTkxNkM2ODQuMDU4IDM1Ljk5MTYgNjg0LjQzIDM1Ljg5NzMgNjg0Ljg4OCAzNS43MDU5VjM2LjU0MjZDNjg0LjU4MiAzNi42Nzc0IDY4My45OTcgMzYuNzg5OCA2ODMuNTE1IDM2Ljc4OThDNjgyLjEzNiAzNi43ODk4IDY4MS4xOCAzNS45MDYyIDY4MS4xOCAzNC42NDMyQzY4MS4xOCAzMy4yMTc4IDY4Mi4wNTQgMzIuMzE4IDY4My40NTMgMzIuMzE4QzY4My45ODcgMzIuMzE4IDY4NC4zNDYgMzIuNDMzOSA2ODQuNzg3IDMyLjYxNDVMNjg0Ljc4NiAzMy41MzA5Wk02ODguOTM0IDMyLjQwMDRINjkwLjM5NVYzMy4xNjUxSDY4OC45MzRWMzUuMzc1MkM2ODguOTM0IDM1Ljg4MTEgNjg5LjMyNyAzNi4wMjc0IDY4OS41OTMgMzYuMDI3NEM2ODkuOTIyIDM2LjAyNzQgNjkwLjI2MiAzNS45MiA2OTAuNjMgMzUuNzA3OVYzNi41MDM3QzY5MC4zMSAzNi42Njc4IDY4OS44MiAzNi43ODk4IDY4OS41MTkgMzYuNzg5OEM2ODguNTI4IDM2Ljc4OTggNjg4LjAyNyAzNi4yMTYxIDY4OC4wMjcgMzUuNDM5MVYzMy4xNjUxSDY4Ny4yMjRWMzMuMDcwM0w2ODguOTM0IDMxLjUxMDJWMzIuNDAwNFpNNjkzLjg3NiAzMi40MDA0VjMzLjM5NjlINjkzLjg5NUM2OTQuMzU5IDMyLjYzNDUgNjk0LjggMzIuMzE4IDY5NS4yMyAzMi4zMThDNjk1LjYwMSAzMi4zMTggNjk1Ljk0NyAzMi40ODAxIDY5Ni4zMjkgMzIuODE2Nkw2OTUuODQ3IDMzLjU2NDRDNjk1LjU3IDMzLjMwOTEgNjk1LjIxMSAzMy4xMzMxIDY5NC45OTUgMzMuMTMzMUM2OTQuMzY4IDMzLjEzMzEgNjkzLjg3NiAzMy43MjY4IDY5My44NzYgMzQuNDYyNlYzNi43MDkzSDY5Mi45NjdWMzIuNDAwNEg2OTMuODc2Wk03MDUuNjU3IDMzLjUzMDlDNzA1LjEzMSAzMy4xOTY2IDcwNC43ODIgMzMuMDk4NSA3MDQuMzgxIDMzLjA5ODVDNzAzLjU0OSAzMy4wOTg1IDcwMi45NzcgMzMuNjk0NSA3MDIuOTc3IDM0LjU2N0M3MDIuOTc3IDM1LjQ1NiA3MDMuNTkyIDM1Ljk5MTYgNzA0LjUzNSAzNS45OTE2QzcwNC45MjUgMzUuOTkxNiA3MDUuMjk1IDM1Ljg5NzMgNzA1Ljc2IDM1LjcwNTlWMzYuNTQyNkM3MDUuNDQ3IDM2LjY3NzQgNzA0Ljg2MiAzNi43ODk4IDcwNC4zOCAzNi43ODk4QzcwMy4wMDQgMzYuNzg5OCA3MDIuMDQ0IDM1LjkwNjIgNzAyLjA0NCAzNC42NDMyQzcwMi4wNDQgMzMuMjE3OCA3MDIuOTIyIDMyLjMxOCA3MDQuMzIgMzIuMzE4QzcwNC44NTUgMzIuMzE4IDcwNS4yMTIgMzIuNDMzOSA3MDUuNjU3IDMyLjYxNDVMNzA1LjY1NyAzMy41MzA5Wk02OTguNzQyIDM2LjcwOTNINjk5LjY1MlYzMi40MDA4SDY5OC43NDJWMzYuNzA5M1oiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik02OTkuNjg0IDMwLjg1MjVDNjk5Ljc3MyAzMS4wNjA0IDY5OS42MTggMzEuMzU0NCA2OTkuMzQ0IDMxLjUwNDFDNjk5LjA2OCAzMS42NTQzIDY5OC43NzYgMzEuNjA2MiA2OTguNjkzIDMxLjM5NzhDNjk4LjYxIDMxLjE4NzQgNjk4Ljc2MSAzMC44OTU4IDY5OS4wMzggMzAuNzQ1NkM2OTkuMzExIDMwLjU5MzUgNjk5LjYwMSAzMC42NDIxIDY5OS42ODQgMzAuODUyNVYzMC44NTI1Wk02NTguOTQgMzEuMjAwOUM2NTguNzc5IDMxLjIwMDkgNjU4LjcxMSAzMS4yMjU1IDY1OC42NDYgMzEuMjkzOEM2NTguNjIgMzEuMzIwMyA2NTguNjEgMzEuMzQ3MiA2NTguNiAzMS40MDExTDY1Ny43ODQgMzQuMjg3QzY1Ny41OTMgMzUuMjk5MiA2NTYuMjU5IDM2LjMwOTkgNjU0LjUyMSAzNi4zMDk5SDY1Mi4xMDRMNjUyLjUyMyAzNC44MjdINjU0LjA3NkM2NTQuMjM0IDM0LjgyNyA2NTQuMzU4IDM0Ljc3MjEgNjU0LjQ2MiAzNC42NjQzQzY1NC41IDM0LjYyMjUgNjU0LjU1IDM0LjU1NyA2NTQuNTU2IDM0LjQ4OTZMNjU1LjIwMSAzMS45NjgxQzY1NS4zOTEgMzAuOTU1NSA2NTYuNTM4IDI5LjgzNjkgNjU4LjI3NiAyOS44MzY5SDY2MC43NTFMNjYwLjQzNSAzMS4yMDA5SDY1OC45NFpNNjU5LjQ5NyAzMi45NTk2TDY1OS43NzMgMzIuMDI1OUg2NjIuMjg4QzY2Mi41OTggMzAuNjcyIDY2Mi4zNTQgMjkuNDE3NyA2NjEuNDczIDI4LjU5NjFDNjU5LjY4OSAyNi45MzMyIDY1NS45NTcgMjcuNDk4MyA2NTMuMTc3IDI5Ljk3NzlDNjUyLjc0MyAzMC4zNjMgNjUyLjM3NiAzMC43NzkzIDY1Mi4wNDIgMzEuMjA0OEg2NTMuNTU2TDY1My4yMDQgMzIuMTQwNEg2NTEuMzk1QzY1MS4yMjIgMzIuNDM1NCA2NTEuMDYgMzIuNzI4MSA2NTAuOTM2IDMzLjAyNUg2NTMuMDgxTDY1Mi43MzcgMzMuOTYwN0g2NTAuNjNDNjUwLjI2OSAzNS4zOTAxIDY1MC40OTkgMzYuNzIzMyA2NTEuNDA2IDM3LjU2OTlDNjUzLjE2NyAzOS4yMTE2IDY1Ni44ODggMzguNjM0NiA2NTkuNjY3IDM2LjE1NTRDNjYwLjE1MyAzNS43MjQyIDY2MC41NTUgMzUuMjU4NyA2NjAuOTE4IDM0Ljc4MDhINjU4Ljk3M0w2NTkuMjY5IDMzLjg0NzFINjYxLjU0M0M2NjEuNzEgMzMuNTUwMSA2NjEuODYzIDMzLjI1NjUgNjYxLjk4MyAzMi45NTk2SDY1OS40OTdaIiBmaWxsPSIjMDA5RTREIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNThfMTExKSI+DQo8cGF0aCBkPSJNNzc1LjA2OCA0MS4yMjc0Qzc2Ni4yODUgNDIuMDQ2MyA3NTcuMTMxIDQwLjc1NjQgNzU1Ljg0OCAzMy44MTlDNzU1LjIyMSAzMC4zOTkgNzU2Ljc2NSAyNi43NzI1IDc1OC44MSAyNC41MTg0VjIzLjMxNDhDNzU1LjEyNiAyNi41OCA3NTMuMTMgMzAuNzExNSA3NTQuMjggMzUuNTkyQzc1NS43NDggNDEuODUxOCA3NjMuNjAzIDQ1LjM5NjcgNzc1LjU5NSA0NC4yMTk1Qzc4MC4zNDIgNDMuNzU0NSA3ODYuNTUgNDIuMjEyIDc5MC44NjkgMzkuODE0NFYzNi40MTA5Qzc4Ni45NDkgMzguNzcxMyA3ODAuNDY4IDQwLjcyMTEgNzc1LjA2OCA0MS4yMjc0VjQxLjIyNzRaTTc5OC4yMDUgMjMuMjMzNUM3OTYuMTIyIDEyLjk1MzMgNzc2LjM3MyAxMi4zMDE2IDc2My42NDMgMjAuMTMzOFYyMC45OTg5Qzc3Ni4zNTkgMTQuMzkxNSA3OTQuMzk1IDE0LjQzMTcgNzk2LjAzNyAyMy45MDE2Qzc5Ni41ODkgMjcuMDM0MiA3OTQuODQzIDMwLjI5NzggNzkxLjcyMyAzMi4xNzdWMzQuNjM0MkM3OTUuNDc2IDMzLjI0MzIgNzk5LjMyNCAyOC43NDQyIDc5OC4yMDUgMjMuMjMzNVYyMy4yMzM1WiIgZmlsbD0iIzBFN0RDMiIvPg0KPHBhdGggZD0iTTc5MC4xNTkgMjEuNzM2OEg3ODcuODU2VjMyLjEwM0M3ODcuODU2IDMzLjMxNzkgNzg4LjQzNyAzNC4zNzQ0IDc5MC4xNTkgMzQuNTQzMlYyMS43MzY4Wk03NjIuNzM5IDI1LjUyMTdINzYwLjQzMkw3NjAuNDMxIDMyLjI5NDNDNzYwLjQzMSAzMy41MTM0IDc2MS4wMTMgMzQuNTY4OCA3NjIuNzM5IDM0LjczNDRWMjUuNTIxN1YyNS41MjE3Wk03NjAuNDMyIDIyLjA1MjFINzYyLjczMlYyNC4yNTg0SDc2MC40MzJWMjIuMDUyMVpNNzc2LjUzIDM0LjYyNzJDNzc0LjY2NiAzNC42MjcyIDc3My44NzcgMzMuMzE3NyA3NzMuODc3IDMyLjAyOFYyMy4wMzU1SDc3Ni4xNlYyNS41MjE3SDc3Ny44NzlWMjcuMzg1M0g3NzYuMTZWMzEuODg1NEM3NzYuMTYgMzIuNDExMyA3NzYuNDA3IDMyLjcwNDQgNzc2Ljk1IDMyLjcwNDRINzc3Ljg3OVYzNC42MjcyTDc3Ni41MyAzNC42MjcyVjM0LjYyNzJaTTc4MC43MzEgMzAuNzk2MUM3ODAuNzMxIDMxLjk3NjggNzgxLjQ2MSAzMi44NDQ2IDc4Mi43NTQgMzIuODQ0NkM3ODMuNzY2IDMyLjg0NDYgNzg0LjI2NiAzMi41NjA1IDc4NC44NSAzMS45NzY4TDc4Ni4yNjEgMzMuMzM0OUM3ODUuMzU3IDM0LjIzNzkgNzg0LjQwOSAzNC43ODcgNzgyLjczNyAzNC43ODdDNzgwLjU1MiAzNC43ODcgNzc4LjQ1OSAzMy41ODE5IDc3OC40NTkgMzAuMDY4NkM3NzguNDU5IDI3LjA2NTEgNzgwLjI4OCAyNS4zNjczIDc4Mi42ODYgMjUuMzY3M0M3ODUuMTI0IDI1LjM2NzMgNzg2LjUyNSAyNy4zNTQ5IDc4Ni41MjUgMjkuOTYzOVYzMC43OTYzSDc4MC43MzFWMzAuNzk2MVpNNzgyLjU4NiAyNy4yNzU2Qzc4MS44MDUgMjcuMjc1NiA3ODEuMjA0IDI3LjY4MjMgNzgwLjk1IDI4LjIzMDlDNzgwLjgwMiAyOC41NjA3IDc4MC43NDcgMjguODE3NyA3ODAuNzMxIDI5LjIyMjlINzg0LjI0OUM3ODQuMjA0IDI4LjIzMDkgNzgzLjc1OSAyNy4yNzU2IDc4Mi41ODYgMjcuMjc1NlpNNzY4LjkzOSAyNy4zODUzQzc2OS42MDggMjcuMzg1MyA3NjkuODg3IDI3LjcxOTggNzY5Ljg4NyAyOC4yNjI2VjM0LjY0MDZINzcyLjE3VjI4LjI0OTJDNzcyLjE3IDI2Ljk1NDIgNzcxLjQ4NyAyNS41MjQxIDc2OS40ODIgMjUuNTI0MUw3NjQuNzY2IDI1LjUyMTdWMzQuNjQwNkg3NjcuMDVWMjcuMzg1M0g3NjguOTM5VjI3LjM4NTNaTTc5Mi42MzcgMjMuNTg5MUM3OTIuMTI5IDIzLjU4OTEgNzkxLjcyNCAyMy4xNzU0IDc5MS43MjQgMjIuNjYyOUM3OTEuNzI0IDIyLjE1MjkgNzkyLjEyOSAyMS43MzY4IDc5Mi42MzcgMjEuNzM2OEM3OTMuMTQyIDIxLjczNjggNzkzLjU1NiAyMi4xNTI5IDc5My41NTYgMjIuNjYyOUM3OTMuNTU2IDIzLjE3NTQgNzkzLjE0MiAyMy41ODkxIDc5Mi42MzcgMjMuNTg5MVpNNzkyLjYzNyAyMS44OTEyQzc5Mi4yMTggMjEuODkxMiA3OTEuODgyIDIyLjI0MDcgNzkxLjg4MiAyMi42NjI5Qzc5MS44ODIgMjMuMDg3NiA3OTIuMjE4IDIzLjQzMDkgNzkyLjYzNyAyMy40MzA5Qzc5My4wNTUgMjMuNDMwOSA3OTMuNDAyIDIzLjA4NzYgNzkzLjQwMiAyMi42NjI5Qzc5My40MDIgMjIuMjQwNyA3OTMuMDU1IDIxLjg5MTIgNzkyLjYzNyAyMS44OTEyWk03OTMuMDQzIDIzLjIxOEg3OTIuODcyQzc5Mi44NjQgMjMuMjE3OSA3OTIuODU3IDIzLjIxNTcgNzkyLjg1MSAyMy4yMTE2Qzc5Mi44NDUgMjMuMjA3NSA3OTIuODQgMjMuMjAxNyA3OTIuODM3IDIzLjE5NDlMNzkyLjYwNSAyMi43OTdDNzkyLjU5OCAyMi43ODg1IDc5Mi41NzkgMjIuNzc4OCA3OTIuNTczIDIyLjc3ODhINzkyLjQ2N1YyMy4xNzU0Qzc5Mi40NjcgMjMuMTk1IDc5Mi40NTMgMjMuMjE4MSA3OTIuNDI4IDIzLjIxODFINzkyLjI3NEM3OTIuMjUxIDIzLjIxODEgNzkyLjIzNSAyMy4xOTUgNzkyLjIzNSAyMy4xNzU0VjIyLjE3NDlDNzkyLjIzNSAyMi4xMTY0IDc5Mi4yNTQgMjIuMDkyNCA3OTIuMzA1IDIyLjA4NUM3OTIuMzYxIDIyLjA3OSA3OTIuNTA1IDIyLjA3MTYgNzkyLjU4NiAyMi4wNzE2Qzc5Mi44NzIgMjIuMDcxNiA3OTMuMDM5IDIyLjE1NjYgNzkzLjAzOSAyMi40MjQ0VjIyLjQ0NEM3OTMuMDM5IDIyLjYwOTQgNzkyLjk1OSAyMi42OTk1IDc5Mi44MzMgMjIuNzM5N0w3OTMuMDc0IDIzLjE1NDdDNzkzLjA3OCAyMy4xNjQgNzkzLjA4IDIzLjE3MzkgNzkzLjA4IDIzLjE4NEM3OTMuMDggMjMuMTk5NyA3OTMuMDcyIDIzLjIxOCA3OTMuMDQzIDIzLjIxOFYyMy4yMThaTTc5Mi44MjEgMjIuNDI0NEM3OTIuODIxIDIyLjMxMjcgNzkyLjc1MiAyMi4yNzczIDc5Mi42MDUgMjIuMjc3M0g3OTIuNDU5VjIyLjU5NDdDNzkyLjQ4MiAyMi41OTQ3IDc5Mi41ODYgMjIuNTk5NiA3OTIuNjA1IDIyLjU5OTZDNzkyLjc1MiAyMi41OTk2IDc5Mi44MjEgMjIuNTUgNzkyLjgyMSAyMi40NDRWMjIuNDI0NFoiIGZpbGw9IiMwRTdEQzIiLz4NCjwvZz4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMV81OF8xMTEpIj4NCjxwYXRoIGQ9Ik01MzMuNzczIDIwLjk5MTFDNTI5LjI2MyAyMC45OTExIDUyNS41OTkgMjQuNjU0NyA1MjUuNTk5IDI5LjE2NDRDNTI1LjU5OSAzMy42NzQxIDUyOS4yNjMgMzcuMzM3NyA1MzMuNzczIDM3LjMzNzdDNTM4LjI4MiAzNy4zMzc3IDU0MS45NDYgMzMuNjc0MSA1NDEuOTQ2IDI5LjE2NDRDNTQxLjk0NiAyNC42NTQ3IDUzOC4yODIgMjAuOTkxMSA1MzMuNzczIDIwLjk5MTFaTTUzMy43NzMgMzYuNTE4NkM1MjkuNzEzIDM2LjUxODYgNTI2LjQxOSAzMy4yMTUgNTI2LjQxOSAyOS4xNjQ0QzUyNi40MTkgMjUuMTEzNyA1MjkuNzEzIDIxLjgxMDIgNTMzLjc3MyAyMS44MTAyQzUzNy44MzIgMjEuODEwMiA1NDEuMTI3IDI1LjExMzcgNTQxLjEyNyAyOS4xNjQ0QzU0MS4xMjcgMzMuMjE1IDUzNy44MzIgMzYuNTE4NiA1MzMuNzczIDM2LjUxODZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTUzNi42OSAyMy45MjUyQzUzNi42NjMgMjMuOTA3MiA1MzYuNjI3IDIzLjg5ODIgNTM2LjU5MSAyMy44OTgyQzUzNi40ODMgMjMuODk4MiA1MzYuNDAyIDIzLjk3OTIgNTM2LjQwMiAyNC4wODczVjI2LjY0MzdDNTM2LjQwMiAyNi43MzM3IDUzNi4zMyAyNi44MDU3IDUzNi4yNCAyNi44MDU3SDUzMS4yOUM1MzEuMiAyNi44MDU3IDUzMS4xMzcgMjYuNzMzNyA1MzEuMTI4IDI2LjY0MzdWMjQuMDg3M0M1MzEuMTI4IDI0LjA1MTMgNTMxLjExOSAyNC4wMjQyIDUzMS4xMDEgMjMuOTg4MkM1MzEuMDQ3IDIzLjg5ODIgNTMwLjkzIDIzLjg3MTIgNTMwLjgzOSAyMy45MjUyQzUyOS4wMTIgMjUuMDUwNCA1MjcuOTA1IDI3LjAwMzcgNTI3LjkwNSAyOS4xNjQxQzUyNy45MDUgMzEuMzI0NCA1MjkuMDEyIDMzLjI3NzcgNTMwLjg1NyAzNC40MDI5QzUzMC44ODUgMzQuNDIwOSA1MzAuOTIxIDM0LjQyOTkgNTMwLjk1NyAzNC40Mjk5QzUzMS4wNjUgMzQuNDI5OSA1MzEuMTQ2IDM0LjM0ODkgNTMxLjE0NiAzNC4yNDA5VjMxLjY4NDVDNTMxLjE0NiAzMS41OTQ0IDUzMS4yMTggMzEuNTMxNCA1MzEuMzA4IDMxLjUyMjRINTM2LjI1OEM1MzYuMzQ4IDMxLjUyMjQgNTM2LjQyIDMxLjU5NDQgNTM2LjQyIDMxLjY4NDVWMzQuMjQwOUM1MzYuNDIgMzQuMjc2OSA1MzYuNDI5IDM0LjMwMzkgNTM2LjQ0NyAzNC4zMzk5QzUzNi41MDEgMzQuNDI5OSA1MzYuNjE4IDM0LjQ1NjkgNTM2LjcwOCAzNC40MDI5QzUzOC41NTQgMzMuMjc3NyA1MzkuNjYxIDMxLjMyNDQgNTM5LjY2MSAyOS4xNjQxQzUzOS42NjEgMjcuMDAzNyA1MzguNTM2IDI1LjA1MDQgNTM2LjY5IDIzLjkyNTJWMjMuOTI1MlpNNTMwLjE5MSAzMi4zNjg2TDUzMC4yMTggMzIuNjc0Nkw1MzAuMDIgMzIuNDMxNkM1MjguNDk5IDMwLjUxNDMgNTI4LjQ5OSAyNy44MDQ4IDUzMC4wMiAyNS44ODc1TDUzMC4xOTEgMjUuNjcxNUw1MzAuMjE4IDI1LjY0NDVMNTMwLjE5MSAyNS45NTk2QzUzMC4xNjQgMjYuMjExNiA1MzAuMTU1IDI2LjQ3MjYgNTMwLjE1NSAyNi43MzM3VjMxLjU4NTRDNTMwLjE1NSAzMS44NDY1IDUzMC4xNzMgMzIuMTA3NSA1MzAuMTkxIDMyLjM2ODZaTTUzNi40MDIgMzAuMzg4M0M1MzYuNDAyIDMwLjQ3ODMgNTM2LjMzIDMwLjU1MDMgNTM2LjI0IDMwLjU1MDNINTMxLjI5QzUzMS4yIDMwLjU1MDMgNTMxLjEzNyAzMC40NzgzIDUzMS4xMjggMzAuMzg4M1YyNy45Mzk5QzUzMS4xMjggMjcuODQ5OSA1MzEuMiAyNy43Nzc4IDUzMS4yOSAyNy43Nzc4SDUzNi4yNEM1MzYuMzMgMjcuNzc3OCA1MzYuNDAyIDI3Ljg0OTkgNTM2LjQwMiAyNy45Mzk5VjMwLjM4ODNaTTUzNy41MTkgMzIuNDMxNkw1MzcuMzIxIDMyLjY3NDZMNTM3LjM0OCAzMi4zNjg2QzUzNy4zNzUgMzIuMTE2NSA1MzcuMzg0IDMxLjg1NTUgNTM3LjM4NCAzMS41OTQ0VjI2LjczMzdDNTM3LjM4NCAyNi40NzI2IDUzNy4zNzUgMjYuMjExNiA1MzcuMzQ4IDI1Ljk1OTZMNTM3LjMzOSAyNS44MjQ1TDUzNy4zMyAyNS42ODA1VjI1LjY0NDVMNTM3LjUxOSAyNS44ODc1QzUzOC4yNTcgMjYuODA1NyA1MzguNjYyIDI3Ljk3NTkgNTM4LjY2MiAyOS4xNTUxQzUzOC42NjIgMzAuMzM0MiA1MzguMjU3IDMxLjUxMzQgNTM3LjUxOSAzMi40MzE2VjMyLjQzMTZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTU1NC4yNzYgMjkuMDIwMkM1NTQuMjMxIDI5LjAwMjIgNTU0LjE3NyAyOC45ODQyIDU1NC4xNzcgMjguOTMwMkM1NTQuMTc3IDI4Ljg5NDIgNTU0LjE5NSAyOC44NjcyIDU1NC4yMzEgMjguODQ5MkM1NTQuMjk0IDI4LjgyMjIgNTU1Ljg1MSAyOC4yNjQxIDU1NS44NTEgMjYuNDI3OEM1NTUuODUxIDI0LjM4NDUgNTU0LjQ3NCAyMy4xNjkzIDU1Mi4xNTIgMjMuMTY5M0g1NDYuNTI2VjM1LjE3NzJINTUyLjY2NUM1NTQuNDU2IDM1LjE3NzIgNTU2LjM4MiAzMy45MDggNTU2LjM4MiAzMS44NjQ2QzU1Ni4zODIgMjkuOTExMyA1NTQuOTA2IDI5LjIyNzIgNTU0LjI3NiAyOS4wMjAyVjI5LjAyMDJaTTU0OS4zNjEgMjUuNjI2N0M1NDkuMzYxIDI1LjU4MTcgNTQ5LjM5NyAyNS41NDU2IDU0OS40NDIgMjUuNTQ1Nkg1NTEuNjc1QzU1Mi40MTMgMjUuNTQ1NiA1NTIuOTE3IDI2LjA0MDcgNTUyLjkxNyAyNi43Nzg4QzU1Mi45MTcgMjcuMzU0OSA1NTIuNDY3IDI3Ljk3NiA1NTEuNjIxIDI3Ljk3Nkg1NDkuNDQyQzU0OS4zOTcgMjcuOTc2IDU0OS4zNjEgMjcuOTQgNTQ5LjM2MSAyNy44OTVWMjUuNjI2N1pNNTUxLjY3NSAzMi44MDk4SDU0OS40NDJDNTQ5LjM5NyAzMi44MDk4IDU0OS4zNjEgMzIuNzczOCA1NDkuMzYxIDMyLjcyODhWMzAuMzM0NEM1NDkuMzYxIDMwLjI4OTQgNTQ5LjM5NyAzMC4yNTM0IDU0OS40NDIgMzAuMjUzNEg1NTEuNjIxQzU1Mi42OTIgMzAuMjUzNCA1NTMuMzA0IDMwLjcxMjUgNTUzLjMwNCAzMS41MjI2QzU1My4zMDQgMzIuMzU5NyA1NTIuNzM3IDMyLjgwOTggNTUxLjY3NSAzMi44MDk4VjMyLjgwOThaTTU3NS4zODQgMjcuOTQ5TDU3NC45NTIgMjcuODU5QzU3My45OCAyNy42NTIgNTczLjAzNSAyNy4zOTA5IDU3My4wMzUgMjYuNTUzOEM1NzMuMDM1IDI1LjcxNjcgNTczLjgxOCAyNS4zMzg2IDU3NC41OTIgMjUuMzM4NkM1NzUuNTAxIDI1LjMzODYgNTc2LjQwMSAyNS43NDM3IDU3Ny4wODYgMjYuNDQ1OEw1NzguODY4IDI0LjY4MTVDNTc4LjEwMyAyMy44MzU0IDU3Ni43NDQgMjIuODYzMiA1NzQuNTQ3IDIyLjg2MzJDNTcxLjkwMSAyMi44NjMyIDU3MC4xMTggMjQuMzY2NSA1NzAuMTE4IDI2LjYwNzhDNTcwLjExOCAyOC45NzUyIDU3MS45ODIgMjkuODY2MyA1NzMuNTQ4IDMwLjE5OTRMNTczLjk3MSAzMC4yODk0QzU3NS40OTIgMzAuNjEzNSA1NzYuMjEyIDMwLjg1NjUgNTc2LjIxMiAzMS43MjA2QzU3Ni4yMTIgMzIuNDk0NyA1NzUuNTE5IDMzLjAwNzggNTc0LjQ5MyAzMy4wMDc4QzU3My4yODcgMzMuMDA3OCA1NzIuMjE2IDMyLjQ3NjcgNTcxLjQwNiAzMS40Nzc2TDU2OS41NzggMzMuMjY4OUM1NzAuNTUxIDM0LjQyMTEgNTcxLjgzOCAzNS40NjUyIDU3NC41MjkgMzUuNDY1MkM1NzYuODI1IDM1LjQ2NTIgNTc5LjE1NiAzNC4xMzMgNTc5LjE1NiAzMS41NzY2QzU3OS4xNDcgMjguOTU3MiA1NzcuMzY1IDI4LjM2MzEgNTc1LjM4NCAyNy45NDlWMjcuOTQ5Wk01OTkuMTAzIDIzLjE2OTNWMjcuNTYyQzU5OS4xMDMgMjcuNjA3IDU5OS4wNjcgMjcuNjQzIDU5OS4wMjIgMjcuNjQzSDU5NS4zMzFDNTk1LjI4NiAyNy42NDMgNTk1LjI1IDI3LjYwNyA1OTUuMjUgMjcuNTYyVjIzLjE2OTNINTkyLjIyNlYzNS4xNzcySDU5NS4yNVYzMC40NjA0QzU5NS4yNSAzMC40MTU0IDU5NS4yODYgMzAuMzc5NCA1OTUuMzMxIDMwLjM3OTRINTk5LjAyMkM1OTkuMDY3IDMwLjM3OTQgNTk5LjEwMyAzMC40MTU0IDU5OS4xMDMgMzAuNDYwNFYzNS4xNzcySDYwMi4xNDZWMjMuMTY5M0g1OTkuMTAzWk01ODYuMTQxIDMyLjcxOThDNTg0Ljc4MiAzMi43MTk4IDU4My4zMTUgMzEuNTg1NiA1ODMuMzE1IDI5LjA5MjJDNTgzLjMxNSAyNi44MTQ4IDU4NC42OTIgMjUuNjI2NyA1ODYuMDUxIDI1LjYyNjdDNTg3LjA0MSAyNS42MjY3IDU4Ny43MzQgMjYuMDQwNyA1ODguMjgzIDI2Ljk1ODlMNTkwLjYwNiAyNS40MTk2QzU4OS40MTggMjMuNjczMyA1ODguMDA0IDIyLjg4MTIgNTg2LjAzMyAyMi44ODEyQzU4Mi4xNzEgMjIuODgxMiA1ODAuNDQzIDI2LjAwNDcgNTgwLjQ0MyAyOS4wOTIyQzU4MC40NDMgMzIuODQ1OCA1ODIuNzI5IDM1LjQ2NTIgNTg1Ljk5NyAzNS40NjUyQzU4OC40MjcgMzUuNDY1MiA1ODkuNTM1IDM0LjU3NDEgNTkwLjY5NiAzMi45MjY4TDU4OC4zNTUgMzEuMzUxNkM1ODcuODMzIDMyLjE5NzcgNTg3LjI2NiAzMi43MTk4IDU4Ni4xNDEgMzIuNzE5OFpNNTYzLjE3OCAyMi44NjMyQzU1OS44NzUgMjIuODYzMiA1NTcuNjYxIDI1LjM5MjYgNTU3LjY2MSAyOS4xNjQyQzU1Ny42NjEgMzIuOTM1OCA1NTkuODc1IDM1LjQ2NTIgNTYzLjE3OCAzNS40NjUyQzU2Ni40ODIgMzUuNDY1MiA1NjguNjk2IDMyLjkzNTggNTY4LjY5NiAyOS4xNjQyQzU2OC42OTYgMjUuMzkyNiA1NjYuNDgyIDIyLjg2MzIgNTYzLjE3OCAyMi44NjMyVjIyLjg2MzJaTTU2My4xNzggMzIuNzE5OEM1NjEuNTU4IDMyLjcxOTggNTYwLjUxNCAzMS4zMjQ2IDU2MC41MTQgMjkuMTY0MkM1NjAuNTE0IDI3LjAxMjkgNTYxLjU1OCAyNS42MjY3IDU2My4xNzggMjUuNjI2N0M1NjQuODA4IDI1LjYyNjcgNTY1Ljg2MSAyNy4wMTI5IDU2NS44NjEgMjkuMTY0MkM1NjUuODYxIDMxLjMyNDYgNTY0LjgwOCAzMi43MTk4IDU2My4xNzggMzIuNzE5OFoiIGZpbGw9IiNGODAwMDAiLz4NCjwvZz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTQ2LjM0NCAyMi4xODExQzE0Ny41OTUgMjIuMjg1NCAxNDguODQ1IDIxLjU1NTMgMTQ5LjYyNyAyMC42Mjk4QzE1MC4zOTUgMTkuNjc4MSAxNTAuOTAzIDE4LjQwMDUgMTUwLjc3MyAxNy4wOTY5QzE0OS42NjYgMTcuMTQ5MSAxNDguMjk4IDE3LjgyNjkgMTQ3LjUxNyAxOC43Nzg2QzE0Ni44IDE5LjU5OTkgMTQ2LjE4OCAyMC45Mjk2IDE0Ni4zNDQgMjIuMTgxMVpNMTQ3Ljg0MSAyMy4wNzk3QzE0OC42NTMgMjIuNzYwNiAxNDkuNjU4IDIyLjM2NTYgMTUwLjc2IDIyLjQyOTFDMTUxLjQ2MyAyMi40ODEyIDE1My40OTUgMjIuNjg5OCAxNTQuNzk4IDI0LjYxOTJDMTU0Ljc5MiAyNC42MjM3IDE1NC43NzggMjQuNjMyMyAxNTQuNzU5IDI0LjY0NUMxNTQuNDM2IDI0Ljg1NDggMTUyLjM5IDI2LjE4NzEgMTUyLjQxNCAyOC44MTY5QzE1Mi40MzkgMzEuOTQ5OSAxNTQuOTg4IDMzLjExODMgMTU1LjMyMiAzMy4yNzExQzE1NS4zNDQgMzMuMjgxMSAxNTUuMzU2IDMzLjI4NjcgMTU1LjM1OCAzMy4yODgzQzE1NS4zNTYgMzMuMjkyNiAxNTUuMzU0IDMzLjMwMSAxNTUuMzUgMzMuMzEzM0MxNTUuMjgzIDMzLjUyODggMTU0Ljg0NSAzNC45NDg5IDE1My44NDcgMzYuNDA0QzE1Mi45MjIgMzcuNzU5OCAxNTEuOTcxIDM5LjA4OTUgMTUwLjQ2IDM5LjExNTZDMTQ5Ljc0OSAzOS4xMjgzIDE0OS4yNyAzOC45MjExIDE0OC43NzIgMzguNzA1NEMxNDguMjQ3IDM4LjQ3ODUgMTQ3LjcwMSAzOC4yNDIyIDE0Ni44NCAzOC4yNDIyQzE0NS45NDcgMzguMjQyMiAxNDUuMzc2IDM4LjQ4NDggMTQ0LjgyNiAzOC43MTg0QzE0NC4zNDggMzguOTIxNCAxNDMuODg3IDM5LjExNzQgMTQzLjI0NSAzOS4xNDE3QzE0MS43ODYgMzkuMTkzOCAxNDAuNjc5IDM3LjcwNzcgMTM5Ljc1NCAzNi4zNTE5QzEzNy44NjYgMzMuNjE0MyAxMzYuNDIgMjguNjM0NCAxMzguMzc0IDI1LjI3MUMxMzkuMzI1IDIzLjU4OTMgMTQxLjA1NyAyMi41MzM0IDE0Mi45MTkgMjIuNTA3M0MxNDMuNzMyIDIyLjQ5MjUgMTQ0LjUwNyAyMi44MDA2IDE0NS4xODQgMjMuMDcwMUMxNDUuNzAyIDIzLjI3NTggMTQ2LjE2MiAyMy40NTg5IDE0Ni41NCAyMy40NTg5QzE0Ni44NzcgMjMuNDU4OSAxNDcuMzE5IDIzLjI4NTEgMTQ3Ljg0MSAyMy4wNzk3WiIgZmlsbD0iYmxhY2siLz4NCjxwYXRoIGQ9Ik0zNi44NTg3IDM3LjUyNDFIMzEuOTg3NEwzNS4wMzQyIDE5LjY2NjhIMzkuOTA1MkwzNi44NTg3IDM3LjUyNDFaIiBmaWxsPSIjMDA1NzlGIi8+DQo8cGF0aCBkPSJNNTQuNTE1NyAyMC4xMDQxQzUzLjU1NDkgMTkuNzQyOCA1Mi4wMzA5IDE5LjM0MzggNTAuMTQ2NiAxOS4zNDM4QzQ1LjMzNjEgMTkuMzQzOCA0MS45NDg2IDIxLjc3NTMgNDEuOTI3OCAyNS4yNTE2QzQxLjg4NzggMjcuODE2NSA0NC4zNTMxIDI5LjI0MSA0Ni4xOTcgMzAuMDk2MkM0OC4wODE2IDMwLjk3MDEgNDguNzIyMyAzMS41NDA1IDQ4LjcyMjMgMzIuMzE5NEM0OC43MDMxIDMzLjUxNTcgNDcuMTk5NCAzNC4wNjcyIDQ1Ljc5NjkgMzQuMDY3MkM0My44NTIxIDM0LjA2NzIgNDIuODEgMzMuNzgyOSA0MS4yMjY0IDMzLjExNzNMNDAuNTg1IDMyLjgzMkwzOS45MDMzIDM2Ljg0MDZDNDEuMDQ1OCAzNy4zMzM5IDQzLjE1MDcgMzcuNzcxNyA0NS4zMzYxIDM3Ljc5MDlDNTAuNDQ3MyAzNy43OTA5IDUzLjc3NDkgMzUuMzk3MSA1My44MTQzIDMxLjY5MjVDNTMuODMzOCAyOS42NTk3IDUyLjUzMiAyOC4xMDIgNDkuNzI1NCAyNi44MjkyQzQ4LjAyMTcgMjYuMDEyMSA0Ni45NzgzIDI1LjQ2MTIgNDYuOTc4MyAyNC42MjUyQzQ2Ljk5ODMgMjMuODY1MiA0Ny44NjA4IDIzLjA4NjggNDkuNzg0IDIzLjA4NjhDNTEuMzY3NyAyMy4wNDg2IDUyLjUzMTIgMjMuNDA5NCA1My40MTI2IDIzLjc3MDVMNTMuODUzMiAyMy45NjAxTDU0LjUxNTcgMjAuMTA0MVoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik02MC45OTI0IDMxLjE5NzlDNjEuMzkzNiAzMC4xNzIgNjIuOTM3MiAyNi4yMDE2IDYyLjkzNzIgMjYuMjAxNkM2Mi45MTcgMjYuMjM5NyA2My4zMzc2IDI1LjE1NjggNjMuNTc4MSAyNC40OTE5TDYzLjkxODYgMjYuMDMwNkM2My45MTg2IDI2LjAzMDYgNjQuODQxIDMwLjMwNTEgNjUuMDQxNCAzMS4xOTc5QzY0LjI4IDMxLjE5NzkgNjEuOTU0NiAzMS4xOTc5IDYwLjk5MjQgMzEuMTk3OVpNNjcuMDA1NCAxOS42NjY4SDYzLjIzNzRDNjIuMDc1NSAxOS42NjY4IDYxLjE5MjcgMTkuOTg5NSA2MC42OTE0IDIxLjE0ODRMNTMuNDU1OCAzNy41MjM5SDU4LjU2NzFDNTguNTY3MSAzNy41MjM5IDU5LjQwODUgMzUuMzE5OSA1OS41ODk0IDM0Ljg0NTJDNjAuMTUwMSAzNC44NDUyIDY1LjEyMjMgMzQuODQ1MiA2NS44NDM3IDM0Ljg0NTJDNjUuOTgzNSAzNS40NzIxIDY2LjQyNDkgMzcuNTIzOSA2Ni40MjQ5IDM3LjUyMzlINzAuOTM1Mkw2Ny4wMDU0IDE5LjY2NjhWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0yNy45MTggMTkuNjY2OEwyMy4xNDc1IDMxLjg0MzhMMjIuNjI2MiAyOS4zNzQxQzIxLjc0NDIgMjYuNTI0NSAxOC45NzgxIDIzLjQyODQgMTUuODkxNCAyMS44ODlMMjAuMjYxIDM3LjUwNTJIMjUuNDEyMkwzMy4wNjkgMTkuNjY2OEgyNy45MThWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0xOC43MTg0IDE5LjY2NjhIMTAuODgxMUwxMC44MDA5IDIwLjAyNzZDMTYuOTE0NSAyMS41MDk1IDIwLjk2MzUgMjUuMDgxNSAyMi42MjcgMjkuMzc0OUwyMC45MjMyIDIxLjE2NzlDMjAuNjQyNyAyMC4wMjc0IDE5Ljc4MDcgMTkuNzA0NCAxOC43MTg0IDE5LjY2NjhaIiBmaWxsPSIjRkFBNjFBIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDJfNThfMTExKSI+DQo8cGF0aCBkPSJNMjIxLjE1OCAxNy40OTlWMTguOTM1NkgyMzEuMzA2VjE3LjQ5OUgyMjEuMTU4Wk0yMzIuNzQ0IDE3LjQ5OVYxOC45MzU2SDI0Ny4yMDZDMjQ3LjIwNiAxOC45MzU2IDI0NS43MjkgMTcuNDk5IDI0My43NzMgMTcuNDk5SDIzMi43NDRaTTI1MC4wNDMgMTcuNDk5VjE4LjkzNTZIMjU4Ljc5M0wyNTguMjczIDE3LjQ5OUgyNTAuMDQzWk0yNjUuMDY1IDE3LjQ5OUwyNjQuNTQ2IDE4LjkzNTZIMjczLjIxNlYxNy40OTlIMjY1LjA2NVpNMjIxLjE1OCAyMC4yOTI5VjIxLjcyOTZIMjMxLjMwNlYyMC4yOTI5SDIyMS4xNThaTTIzMi43NDQgMjAuMjk1VjIxLjcyOTdIMjQ4Ljg4NEMyNDguODg0IDIxLjcyOTcgMjQ4LjY5NiAyMC42MjM5IDI0OC4zNjcgMjAuMjk1SDIzMi43NDRaTTI1MC4wNDMgMjAuMjk1VjIxLjcyOTdIMjU5Ljc1MkwyNTkuMjcxIDIwLjI5NUgyNTAuMDQzWk0yNjQuMDI3IDIwLjI5NUwyNjMuNTQ2IDIxLjcyOTdIMjczLjIxNlYyMC4yOTVIMjY0LjAyN1YyMC4yOTVaTTIyNC4wNzQgMjMuMDg2OVYyNC41MjU3SDIyOC40NjlWMjMuMDg2OUgyMjQuMDc0VjIzLjA4NjlaTTIzNS42NjEgMjMuMDg2OVYyNC41MjU3SDI0MC4wNTZWMjMuMDg2OUgyMzUuNjYxVjIzLjA4NjlaTTI0NC4zMzEgMjMuMDg2OVYyNC41MjU3SDI0OC43MjZDMjQ4LjcyNiAyNC41MjU3IDI0OS4wMDUgMjMuNzY1OSAyNDkuMDA1IDIzLjA4NjlIMjQ0LjMzMVYyMy4wODY5Wk0yNTIuOTYgMjMuMDg2OVYyNC41MjU3SDI2MC43NTJMMjYwLjIzMiAyMy4wODY5SDI1Mi45NlYyMy4wODY5Wk0yNjMuMDY5IDIzLjA4NjlMMjYyLjU0OCAyNC41MjU3SDI3MC4zNzlWMjMuMDg2OUgyNjMuMDY5VjIzLjA4NjlaTTIyNC4wNzQgMjUuODgzVjI3LjMxOTdIMjI4LjQ2OVYyNS44ODNIMjI0LjA3NFYyNS44ODNaTTIzNS42NjEgMjUuODgzVjI3LjMxOTdIMjQ2Ljg4N0MyNDYuODg3IDI3LjMxOTcgMjQ3LjgyNiAyNi41ODI1IDI0OC4xMjUgMjUuODgzSDIzNS42NjFaTTI1Mi45NiAyNS44ODNWMjcuMzE5N0gyNTcuMzU1VjI2LjUyTDI1Ny42MzQgMjcuMzE5N0gyNjUuNjg0TDI2NS45ODQgMjYuNTJWMjcuMzE5N0gyNzAuMzc5VjI1Ljg4M0gyNjIuMTI5TDI2MS42OTEgMjcuMDk5OUwyNjEuMjUxIDI1Ljg4M0gyNTIuOTZaTTIyNC4wNzQgMjguNjc3VjMwLjExMzdIMjI4LjQ2OVYyOC42NzdIMjI0LjA3NFpNMjM1LjY2MSAyOC42NzdWMzAuMTEzN0gyNDguMTI1QzI0Ny44MjYgMjkuNDE2NSAyNDYuODg3IDI4LjY3NyAyNDYuODg3IDI4LjY3N0gyMzUuNjYxWk0yNTIuOTYgMjguNjc3VjMwLjExMzdIMjU3LjM1NVYyOC42NzdIMjUyLjk2Wk0yNTguMTUzIDI4LjY3N0wyNTguNjg1IDMwLjExMzdIMjY0LjcyMUwyNjUuMjI2IDI4LjY3N0gyNTguMTUzWk0yNjUuOTg0IDI4LjY3N1YzMC4xMTM3SDI3MC4zNzlWMjguNjc3SDI2NS45ODRaTTIyNC4wNzQgMzEuNDcxVjMyLjkwNzZIMjI4LjQ2OVYzMS40NzFIMjI0LjA3NFpNMjM1LjY2MSAzMS40NzFWMzIuOTA3NkgyNDAuMDU2VjMxLjQ3MUgyMzUuNjYxWk0yNDQuMzMxIDMxLjQ3MVYzMi45MDc2SDI0OS4wMDVDMjQ5LjAwNSAzMi4yMjk2IDI0OC43MjYgMzEuNDcxIDI0OC43MjYgMzEuNDcxSDI0NC4zMzFWMzEuNDcxWk0yNTIuOTYgMzEuNDcxVjMyLjkwNzZIMjU3LjM1NVYzMS40NzFIMjUyLjk2Wk0yNTkuMTUxIDMxLjQ3MUwyNTkuNjY2IDMyLjkwNzZIMjYzLjcxM0wyNjQuMjMyIDMxLjQ3MUgyNTkuMTUxWk0yNjUuOTg0IDMxLjQ3MVYzMi45MDc2SDI3MC4zNzlWMzEuNDcxSDI2NS45ODRaTTIyMS4yMzcgMzQuMjY1VjM1LjcwMzdIMjMxLjM4NlYzNC4yNjVIMjIxLjIzN1pNMjMyLjc0NCAzNC4yNjVWMzUuNzAzN0gyNDguMzY3QzI0OC42OTYgMzUuMzc0MyAyNDguODg0IDM0LjI2NSAyNDguODg0IDM0LjI2NUgyMzIuNzQ0VjM0LjI2NVpNMjUwLjEyMyAzNC4yNjVWMzUuNzAzN0gyNTcuMzU1VjM0LjI2NUgyNTAuMTIzWk0yNjAuMTUxIDM0LjI2NUwyNjAuNjggMzUuNzAzN0gyNjIuNzM5TDI2My4yMzYgMzQuMjY1SDI2MC4xNTFaTTI2NS45ODQgMzQuMjY1VjM1LjcwMzdIMjczLjI5NVYzNC4yNjVIMjY1Ljk4NFpNMjIxLjIzNyAzNy4wNjFWMzguNDk3N0gyMzEuMzg2VjM3LjA2MUgyMjEuMjM3Wk0yMzIuNzQ0IDM3LjA2MVYzOC40OTU2SDI0My43NzNDMjQ1LjcyOSAzOC40OTU2IDI0Ny4yMDYgMzcuMDYxIDI0Ny4yMDYgMzcuMDYxSDIzMi43NDRaTTI1MC4xMjMgMzcuMDYxVjM4LjQ5NzdIMjU3LjM1NVYzNy4wNjFIMjUwLjEyM1pNMjYxLjE1NSAzNy4wNjFMMjYxLjY2NCAzOC40OTM2TDI2MS43NTIgMzguNDk1NkwyNjIuMjY5IDM3LjA2MUgyNjEuMTU1VjM3LjA2MVpNMjY1Ljk4NCAzNy4wNjFWMzguNDk3N0gyNzMuMjk1VjM3LjA2MUgyNjUuOTg0WiIgZmlsbD0iIzFGNzBDMSIvPg0KPC9nPg0KPGRlZnM+DQo8Y2xpcFBhdGggaWQ9ImNsaXAwXzU4XzExMSI+DQo8cmVjdCB3aWR0aD0iNDQuNDQ3MyIgaGVpZ2h0PSIyOS42MzE1IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUzLjk1NSAxNC44MTU1KSIvPg0KPC9jbGlwUGF0aD4NCjxjbGlwUGF0aCBpZD0iY2xpcDFfNThfMTExIj4NCjxyZWN0IHdpZHRoPSI3Ni41NDgxIiBoZWlnaHQ9IjE2LjM1MDciIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MjUuNTk5IDIwLjk4ODkpIi8+DQo8L2NsaXBQYXRoPg0KPGNsaXBQYXRoIGlkPSJjbGlwMl81OF8xMTEiPg0KPHJlY3Qgd2lkdGg9IjUyLjEzNzIiIGhlaWdodD0iMjAuOTk4NyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyMS4xNTggMTcuNDk5KSIvPg0KPC9jbGlwUGF0aD4NCjwvZGVmcz4NCjwvc3ZnPg0K" style="\n            width: 742.5px;\n            position: relative;\n            top: 107px;\n            left: 32px;\n            ">\n            <a href='+El+' style="\n        float: left;\n        border-radius: 56px;\n        background: #0D6EFD;\n        padding-top: 8px;\n        width: 280px;\n        height: 38px;\n        text-align: center;\n        position: relative;\n        top: 127px;\n        left: 274px;\n        font-size: 16px;\n        color: white;\n        text-decoration: none;\n        letter-spacing: 0.02em;\n    ">Claim your FREE account</a>\n            <div style="\n    font-size: 14px;\n    position: relative;\n    top: 180px;\n    left: 19px;\n    letter-spacing: 0.02em;\n    font-weight: 500;\n    line-height: 125%;\n">have a Syncfusion account? <a href="https://www.syncfusion.com/account/login?ReturnUrl=/account/login" style="text-decoration: none;\ncolor: #0D6EFD;\nfont-weight: 500;">Sign In</a></div>\n        </div>\n    </div>';if("undefined"!==typeof document&&!ko(document)){var t=Ra("div",{innerHTML:e});document.body.appendChild(t)}}(),Gl=!0),this.render(),this.mount?this.accessMount():this.trigger("created")}},t.prototype.renderComplete=function(e){if(Bo()){window.sfBlazor.renderComplete(this.element,e)}this.isRendered=!0},t.prototype.dataBind=function(){this.injectModules(),e.prototype.dataBind.call(this)},t.prototype.on=function(e,t,i){if("string"===typeof e)this.localObserver.on(e,t,i);else for(var n=0,r=e;n<r.length;n++){var s=r[n];this.localObserver.on(s.event,s.handler,s.context)}},t.prototype.off=function(e,t){if("string"===typeof e)this.localObserver.off(e,t);else for(var i=0,n=e;i<n.length;i++){var r=n[i];this.localObserver.off(r.event,r.handler)}},t.prototype.notify=function(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var i=0;i<e.length;i++)-1===this.prototype.injectedModules.indexOf(e[parseInt(i.toString(),10)])&&this.prototype.injectedModules.push(e[parseInt(i.toString(),10)])},t.prototype.createElement=function(e,t,i){return Ra(e,t)},t.prototype.triggerStateChange=function(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.detectFunction=function(e){var t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])},t.prototype.mergePersistData=function(){var e;ko(e=Kl?window.localStorage.getItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion):window.localStorage.getItem(this.getModuleName()+this.element.id))||""===e||this.setProperties(JSON.parse(e),!0)},t.prototype.setPersistData=function(){this.isDestroyed||(Kl?window.localStorage.setItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion,this.getPersistData()):window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData()))},t.prototype.renderReactTemplates=function(e){ko(e)||e()},t.prototype.clearTemplate=function(e,t){},t.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(Wl=0),Vl=this.pageID(location.href),Yl=history.length,e+"_"+Vl+"_"+Wl++},t.prototype.pageID=function(e){var t=0;if(0===e.length)return t;for(var i=0;i<e.length;i++){t=(t<<5)-t+e.charCodeAt(i),t|=0}return Math.abs(t)},t.prototype.isHistoryChanged=function(){return Vl!==this.pageID(location.href)||Yl!==history.length},t.prototype.addOnPersist=function(e){for(var t=this,i={},n=0,r=e;n<r.length;n++){var s,o=r[n];zo(s=No(o,this))||Co(o,this.getActualProperties(s),i)}return JSON.stringify(i,(function(e,i){return t.getActualProperties(i)}))},t.prototype.getActualProperties=function(e){return e instanceof zl?No("properties",e):e},t.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},t.prototype.iterateJsonProperties=function(e,t){for(var i={},n=function(n){if(-1===t.indexOf(n)){var s=e[n];if("object"!==typeof s||s instanceof Array)i[""+n]=s;else{var o=t.filter((function(e){return new RegExp(n+".").test(e)})).map((function(e){return e.replace(n+".","")}));i[""+n]=r.iterateJsonProperties(r.getActualProperties(s),o)}}},r=this,s=0,o=Object.keys(e);s<o.length;s++){n(o[s])}return i},Hl([fl(!1)],t.prototype,"enablePersistence",void 0),Hl([fl()],t.prototype,"enableRtl",void 0),Hl([fl()],t.prototype,"locale",void 0),t=Hl([vl],t)}(nl);"undefined"!==typeof window&&window.addEventListener("popstate",(function(){Wl=0}));var Jl=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Zl=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},$l={left:0,top:0,bottom:0,right:0},eh={isDragged:!1},th=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jl(t,e),Zl([fl(0)],t.prototype,"left",void 0),Zl([fl(0)],t.prototype,"top",void 0),t}(zl),ih=function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.dragLimit=i.getDefaultPosition(),r.borderWidth=i.getDefaultPosition(),r.padding=i.getDefaultPosition(),r.diffX=0,r.prevLeft=0,r.prevTop=0,r.dragProcessStarted=!1,r.eleTop=0,r.tapHoldTimer=0,r.externalInitialize=!1,r.diffY=0,r.parentScrollX=0,r.parentScrollY=0,r.droppables={},r.bind(),r}var i;return Jl(t,e),i=t,t.prototype.bind=function(){this.toggleEvents(),La.isIE&&Fa([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return Eo({},$l)},t.prototype.toggleEvents=function(e){var t;zo(this.handle)||(t=Ka(this.handle,this.element));var i=this.enableTapHold&&La.isDevice&&La.isTouch?this.mobileInitialize:this.initialize;e?Oa.remove(t||this.element,La.isSafari()?"touchstart":La.touchStartEvent,i):Oa.add(t||this.element,La.isSafari()?"touchstart":La.touchStartEvent,i,this)},t.prototype.mobileInitialize=function(e){var t=this,i=e.currentTarget;this.tapHoldTimer=setTimeout((function(){t.externalInitialize=!0,t.removeTapholdTimer(),t.initialize(e,i)}),this.tapHoldThreshold),Oa.add(document,La.isSafari()?"touchmove":La.touchMoveEvent,this.removeTapholdTimer,this),Oa.add(document,La.isSafari()?"touchend":La.touchEndEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),Oa.remove(document,La.isSafari()?"touchmove":La.touchMoveEvent,this.removeTapholdTimer),Oa.remove(document,La.isSafari()?"touchend":La.touchEndEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(e,t){return ko(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[""+t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[""+t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?(this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY),this.tempScrollHeight=e.scrollHeight):(this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),this.tempScrollWidth=e.scrollWidth),ko(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)},t.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0;this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")},t.prototype.initialize=function(e,t){if(this.currentStateTarget=e.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){var i=this.abort;"string"===typeof i&&(i=[i]);for(var n=0;n<i.length;n++)if(!ko(Za(e.target,i[parseInt(n.toString(),10)])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!zo(e.changedTouches)&&"touchstart"!==e.type&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");var r=this.getCoordinates(e);if(this.initialPosition={x:r.pageX,y:r.pageY},!this.clone){var s=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=r.pageX-(s.left+this.parentScrollX),this.relativeYPosition=r.pageY-(s.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(Oa.add(document,La.isSafari()?"touchmove":La.touchMoveEvent,this.intDragStart,this),Oa.add(document,La.isSafari()?"touchend":La.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==e.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,Oa.trigger(document.documentElement,La.isSafari()?"touchstart":La.touchStartEvent,e)}},t.prototype.intDragStart=function(e){this.removeTapholdTimer();var t=!zo(e.changedTouches);if(!t||1===e.changedTouches.length){var i,n=this.getCoordinates(e),r=getComputedStyle(this.element);this.margin={left:parseInt(r.marginLeft,10),top:parseInt(r.marginTop,10),right:parseInt(r.marginRight,10),bottom:parseInt(r.marginBottom,10)};var s=this.element;if(this.clone&&this.dragTarget){var o=Za(e.target,this.dragTarget);ko(o)||(s=o)}this.isReplaceDragEle&&(s=this.currentStateCheck(e.target,s)),this.offset=this.calculateParentPosition(s),this.position=this.getMousePosition(e,this.isDragScroll);var a=this.initialPosition.x-n.pageX,l=this.initialPosition.y-n.pageY;if(Math.sqrt(a*a+l*l)>=this.distance||this.externalInitialize){var h=this.getHelperElement(e);if(!h||ko(h))return;t&&e.preventDefault();var c=this.helperElement=h;if(this.parentClientRect=this.calculateParentPosition(c.offsetParent),this.dragStart){var u={event:e,element:s,target:this.getProperTargetElement(e),bindEvents:Bo()?this.bindDragEvents.bind(this):null,dragElement:c};this.trigger("dragStart",u)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),i={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var p=getComputedStyle(s),d=parseFloat(p.marginTop);this.clone&&0!==d&&(i.top+=d),this.eleTop=isNaN(parseFloat(p.top))?0:parseFloat(p.top)-this.offset.top,this.enableScrollHandler&&!this.clone&&(i.top-=this.parentScrollY,i.left-=this.parentScrollX);var f=this.getProcessedPositionValue({top:i.top-this.diffY+"px",left:i.left-this.diffX+"px"});this.dragArea&&"string"!==typeof this.dragArea&&this.dragArea.classList.contains("e-kanban-content")&&"relative"===this.dragArea.style.position&&(i.top+=this.dragArea.scrollTop),this.dragElePosition={top:i.top,left:i.left},$a(c,this.getDragPosition({position:"absolute",left:f.left,top:f.top})),Oa.remove(document,La.isSafari()?"touchmove":La.touchMoveEvent,this.intDragStart),Oa.remove(document,La.isSafari()?"touchend":La.touchEndEvent,this.intDestroy),Bo()||this.bindDragEvents(c)}}},t.prototype.bindDragEvents=function(e){Ua(e)?(Oa.add(document,La.isSafari()?"touchmove":La.touchMoveEvent,this.intDrag,this),Oa.add(document,La.isSafari()?"touchend":La.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},t.prototype.elementInViewport=function(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)e=e.offsetParent,this.top+=e.offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(e){return this.queryPositionInfo?this.queryPositionInfo(e):e},t.prototype.calculateParentPosition=function(e){if(ko(e))return{left:0,top:0};var t=e.getBoundingClientRect(),i=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(i.marginLeft,10),top:t.top+window.pageYOffset-parseInt(i.marginTop,10)}},t.prototype.intDrag=function(e){if(zo(e.changedTouches)||1===e.changedTouches.length){var t,i;this.clone&&e.changedTouches&&La.isDevice&&La.isTouch&&e.preventDefault(),this.position=this.getMousePosition(e,this.isDragScroll);var n=this.getDocumentWidthHeight("Height");n<this.position.top&&(this.position.top=n);var r=this.getDocumentWidthHeight("Width");if(r<this.position.left&&(this.position.left=r),this.drag){var s=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:s})}var o=this.checkTargetElement(e);if(o.target&&o.instance){var a=!0;this.hoverObject&&(this.hoverObject.instance!==o.instance?this.triggerOutFunction(e,o):a=!1),a&&(o.instance.dragData[this.scope]=this.droppables[this.scope],o.instance.intOver(e,o.target),this.hoverObject=o)}else this.hoverObject&&this.triggerOutFunction(e,o);var l=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var h=this.parentClientRect.left,c=this.parentClientRect.top,u=this.getCoordinates(e),p=u.pageX,d=u.pageY,f=this.position.left-this.diffX,g=this.position.top-this.diffY,m=getComputedStyle(l);if(this.dragArea){if(this.enableAutoScroll&&this.setDragArea(),this.pageX!==p||this.skipDistanceCheck){var y=l.offsetWidth+(parseFloat(m.marginLeft)+parseFloat(m.marginRight));t=this.dragLimit.left>f&&f>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<f+y&&f>0?f-(f-this.dragLimit.right)+window.pageXOffset-y:f<0?this.dragLimit.left:f}if(this.pageY!==d||this.skipDistanceCheck){var v=l.offsetHeight+(parseFloat(m.marginTop)+parseFloat(m.marginBottom));i=this.dragLimit.top>g&&g>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<g+v&&g>0?g-(g-this.dragLimit.bottom)+window.pageYOffset-v:g<0?this.dragLimit.top:g}}else t=f,i=g;var b,M,S=c+this.borderWidth.top,w=h+this.borderWidth.left;if(this.dragProcessStarted&&(ko(i)&&(i=this.prevTop),ko(t)&&(t=this.prevLeft)),this.helperElement.classList.contains("e-treeview"))this.dragArea?(this.dragLimit.top=this.clone?this.dragLimit.top:0,b=i-S<0?this.dragLimit.top:i-this.borderWidth.top,M=t-w<0?this.dragLimit.left:t-this.borderWidth.left):(b=i-this.borderWidth.top,M=t-this.borderWidth.left);else if(this.dragArea){var _=this.helperElement.classList.contains("e-dialog");this.dragLimit.top=this.clone?this.dragLimit.top:0,b=i-S<0?this.dragLimit.top:i-S,M=t-w<0?_?t-(w-this.borderWidth.left):this.dragElePosition.left:t-w}else b=i-S,M=t-w;var I=parseFloat(getComputedStyle(this.element).marginTop);if(I>0&&(this.clone&&(b+=I,g<0&&(I+g>=0?b=I+g:b-=I),this.dragArea&&(b=this.dragLimit.bottom<b?this.dragLimit.bottom:b)),i-S<0))if(g+I+(l.offsetHeight-S)>=0){var N=this.dragLimit.top+g-S;N+I+S<0?b-=I+S:b=N}else b-=I+S;if(this.dragArea&&this.helperElement.classList.contains("e-treeview"))b=b+(v=l.offsetHeight+(parseFloat(m.marginTop)+parseFloat(m.marginBottom)))>this.dragLimit.bottom?this.dragLimit.bottom-v:b;this.enableScrollHandler&&!this.clone&&(b-=this.parentScrollY,M-=this.parentScrollX),this.dragArea&&"string"!==typeof this.dragArea&&this.dragArea.classList.contains("e-kanban-content")&&"relative"===this.dragArea.style.position&&(b+=this.dragArea.scrollTop);var C=this.getProcessedPositionValue({top:b+"px",left:M+"px"});$a(l,this.getDragPosition(C)),this.elementInViewport(l)||!this.enableAutoScroll||this.helperElement.classList.contains("e-treeview")||this.helperElement.scrollIntoView();var x=document.querySelectorAll(":hover");if(this.enableAutoScroll&&this.helperElement.classList.contains("e-treeview")){0===x.length&&(x=this.getPathElements(e));var D=this.getScrollParent(x,!1);this.elementInViewport(this.helperElement)?this.getScrollPosition(D,b):this.elementInViewport(this.helperElement)||(0===(x=[].slice.call(document.querySelectorAll(":hover"))).length&&(x=this.getPathElements(e)),D=this.getScrollParent(x,!0),this.getScrollPosition(D,b))}this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=i,this.position.left=t,this.position.top=i,this.pageX=p,this.pageY=d}},t.prototype.getScrollParent=function(e,t){for(var i,n=t?e.reverse():e,r=n.length-1;r>=0;r--)if(("auto"===(i=window.getComputedStyle(n[parseInt(r.toString(),10)])["overflow-y"])||"scroll"===i)&&n[parseInt(r.toString(),10)].scrollHeight>n[parseInt(r.toString(),10)].clientHeight)return n[parseInt(r.toString(),10)];if("visible"===(i=window.getComputedStyle(document.scrollingElement)["overflow-y"]))return document.scrollingElement.style.overflow="auto",document.scrollingElement},t.prototype.getScrollPosition=function(e,t){e&&e===document.scrollingElement?e.clientHeight+document.scrollingElement.scrollTop-this.helperElement.clientHeight<t&&e.getBoundingClientRect().height+this.parentClientRect.top>t?e.scrollTop+=this.helperElement.clientHeight:e.scrollTop>t-this.helperElement.clientHeight&&(e.scrollTop-=this.helperElement.clientHeight):e&&e!==document.scrollingElement&&(e.clientHeight+e.getBoundingClientRect().top-this.helperElement.clientHeight+document.scrollingElement.scrollTop<t?e.scrollTop+=this.helperElement.clientHeight:e.getBoundingClientRect().top>t-this.helperElement.clientHeight-document.scrollingElement.scrollTop&&(e.scrollTop-=this.helperElement.clientHeight))},t.prototype.getPathElements=function(e){var t=e.clientX>0?e.clientX:0,i=e.clientY>0?e.clientY:0;return document.elementsFromPoint(t,i)},t.prototype.triggerOutFunction=function(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},t.prototype.getDragPosition=function(e){var t=Eo({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t},t.prototype.getDocumentWidthHeight=function(e){var t=document.body,i=document.documentElement;return Math.max(t["scroll"+e],i["scroll"+e],t["offset"+e],i["offset"+e],i["client"+e])},t.prototype.intDragStop=function(e){if(this.dragProcessStarted=!1,zo(e.changedTouches)||1===e.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){var t=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:t,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");var i=this.checkTargetElement(e);i.target&&i.instance&&(i.instance.dragStopCalled=!0,i.instance.dragData[this.scope]=this.droppables[this.scope],i.instance.intDrop(e,i.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),Oa.remove(document,La.isSafari()?"touchmove":La.touchMoveEvent,this.intDragStart),Oa.remove(document,La.isSafari()?"touchend":La.touchEndEvent,this.intDragStop),Oa.remove(document,La.isSafari()?"touchend":La.touchEndEvent,this.intDestroy),Oa.remove(document,La.isSafari()?"touchmove":La.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.isDragStarted=function(e){return e&&(eh.isDragged=!eh.isDragged),eh.isDragged},t.prototype.setDragArea=function(){var e,t,i,n=0,r=0;if(i="string"===typeof this.dragArea?Ka(this.dragArea):this.dragArea){var s=i.getBoundingClientRect();e=i.scrollWidth?i.scrollWidth:s.right-s.left,t=i.scrollHeight?this.dragArea&&!ko(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?i.clientHeight:i.scrollHeight:s.bottom-s.top;for(var o=["Top","Left","Bottom","Right"],a=getComputedStyle(i),l=0;l<o.length;l++){var h=o[parseInt(l.toString(),10)],c=a["border"+h+"Width"],u=a["padding"+h],p=h.toLowerCase();this.borderWidth[""+p]=isNaN(parseFloat(c))?0:parseFloat(c),this.padding[""+p]=isNaN(parseFloat(u))?0:parseFloat(u)}n=this.dragArea&&!ko(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?s.top+document.scrollingElement.scrollTop:s.top,r=s.left,this.dragLimit.left=r+this.borderWidth.left+this.padding.left,this.dragLimit.top=i.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=r+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=n+t-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(e){var t,i=this.getCoordinates(e),n=this.helperElement.style.pointerEvents||"",r=-1!==e.type.indexOf("pointer")&&"safari"===La.info.name&&parseInt(La.info.version)>12;return Po(e.target,this.helperElement)||-1!==e.type.indexOf("touch")||r?(this.helperElement.style.pointerEvents="none",t=document.elementFromPoint(i.clientX,i.clientY),this.helperElement.style.pointerEvents=n):t=e.target,t},t.prototype.currentStateCheck=function(e,t){return ko(this.currentStateTarget)||this.currentStateTarget===e?ko(t)?e:t:this.currentStateTarget},t.prototype.getMousePosition=function(e,t){var i,n,r=void 0!==e.srcElement?e.srcElement:e.target,s=this.getCoordinates(e),o=ko(r.offsetParent);if(t?(i=this.clone?s.pageX:s.pageX+(o?0:r.offsetParent.scrollLeft)-this.relativeXPosition,n=this.clone?s.pageY:s.pageY+(o?0:r.offsetParent.scrollTop)-this.relativeYPosition):(i=this.clone?s.pageX:s.pageX+window.pageXOffset-this.relativeXPosition,n=this.clone?s.pageY:s.pageY+window.pageYOffset-this.relativeYPosition),document.scrollingElement&&!t&&!this.clone){var a=document.scrollingElement.scrollHeight>0&&document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight&&document.scrollingElement.scrollTop>0;i=document.scrollingElement.scrollWidth>0&&document.scrollingElement.scrollWidth>document.scrollingElement.clientWidth&&document.scrollingElement.scrollLeft>0?i-document.scrollingElement.scrollLeft:i,n=a?n-document.scrollingElement.scrollTop:n}return{left:i-(this.margin.left+this.cursorAt.left),top:n-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e},t.prototype.getHelperElement=function(e){var t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=Ra("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t},t.prototype.setGlobalDroppables=function(e,t,i){this.droppables[this.scope]=e?null:{draggable:t,helper:i,draggedElement:this.element}},t.prototype.checkTargetElement=function(e){var t=this.getProperTargetElement(e),i=this.getDropInstance(t);if(!i&&t&&!ko(t.parentNode)){var n=Za(t.parentNode,".e-droppable")||t.parentElement;n&&(i=this.getDropInstance(n))}return{target:t,instance:i}},t.prototype.getDropInstance=function(e){var t,i=e&&e.ej2_instances;if(i)for(var n=0,r=i;n<r.length;n++){var s=r[n];if("droppable"===s.getModuleName()){t=s;break}}return t},t.prototype.destroy=function(){this.toggleEvents(!0),e.prototype.destroy.call(this)},Zl([gl({},th)],t.prototype,"cursorAt",void 0),Zl([fl(!0)],t.prototype,"clone",void 0),Zl([fl()],t.prototype,"dragArea",void 0),Zl([fl()],t.prototype,"isDragScroll",void 0),Zl([fl()],t.prototype,"isReplaceDragEle",void 0),Zl([fl(!0)],t.prototype,"isPreventSelect",void 0),Zl([yl()],t.prototype,"drag",void 0),Zl([yl()],t.prototype,"dragStart",void 0),Zl([yl()],t.prototype,"dragStop",void 0),Zl([fl(1)],t.prototype,"distance",void 0),Zl([fl()],t.prototype,"handle",void 0),Zl([fl()],t.prototype,"abort",void 0),Zl([fl()],t.prototype,"helper",void 0),Zl([fl("default")],t.prototype,"scope",void 0),Zl([fl("")],t.prototype,"dragTarget",void 0),Zl([fl()],t.prototype,"axis",void 0),Zl([fl()],t.prototype,"queryPositionInfo",void 0),Zl([fl(!1)],t.prototype,"enableTailMode",void 0),Zl([fl(!1)],t.prototype,"skipDistanceCheck",void 0),Zl([fl(!0)],t.prototype,"preventDefault",void 0),Zl([fl(!1)],t.prototype,"enableAutoScroll",void 0),Zl([fl(!1)],t.prototype,"enableTapHold",void 0),Zl([fl(750)],t.prototype,"tapHoldThreshold",void 0),Zl([fl(!1)],t.prototype,"enableScrollHandler",void 0),t=i=Zl([vl],t)}(nl),nh=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),rh=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},sh=function(e){function t(t,i){var n=e.call(this,i,t)||this;return n.mouseOver=!1,n.dragData={},n.dragStopCalled=!1,n.bind(),n}return nh(t,e),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){Oa.add(this.element,La.isSafari()?"touchend":La.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(e,t){if(!this.mouseOver){var i=this.dragData[this.scope];this.trigger("over",{event:e,target:t,dragData:i}),this.mouseOver=!0}},t.prototype.intOut=function(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)},t.prototype.intDrop=function(e,t){if(this.dragStopCalled){this.dragStopCalled=!1;var i,n=!0,r=this.dragData[this.scope],s=!!r&&(r.helper&&Ua(r.helper));s&&(i=this.isDropArea(e,r.helper,t),this.accept&&(n=tl(r.helper,this.accept))),s&&this.drop&&i.canDrop&&n&&this.trigger("drop",{event:e,target:i.target,droppedElement:r.helper,dragData:r}),this.mouseOver=!1}},t.prototype.isDropArea=function(e,t,i){var n={canDrop:!0,target:i||e.target},r="touchend"===e.type;if(r||n.target===t){t.style.display="none";var s=r?e.changedTouches[0]:e,o=document.elementFromPoint(s.clientX,s.clientY);n.canDrop=!1,n.canDrop=Po(o,this.element),n.canDrop&&(n.target=o),t.style.display=""}return n},t.prototype.destroy=function(){Oa.remove(this.element,La.isSafari()?"touchend":La.touchEndEvent,this.intDrop),e.prototype.destroy.call(this)},rh([fl()],t.prototype,"accept",void 0),rh([fl("default")],t.prototype,"scope",void 0),rh([yl()],t.prototype,"drop",void 0),rh([yl()],t.prototype,"over",void 0),rh([yl()],t.prototype,"out",void 0),t=rh([vl],t)}(nl),oh=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ah=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},lh={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},hh=function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.keyPressHandler=function(e){for(var t=e.altKey,n=e.ctrlKey,s=e.shiftKey,o=e.which,a=0,l=Object.keys(r.keyConfigs);a<l.length;a++)for(var h=l[a],c=0,u=r.keyConfigs[""+h].split(",");c<u.length;c++){var p=u[c],d=i.getKeyConfigData(p.trim());t===d.altKey&&n===d.ctrlKey&&s===d.shiftKey&&o===d.keyCode&&(e.action=h,r.keyAction&&r.keyAction(e))}},r.bind(),r}var i;return oh(t,e),i=t,t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(e){if(e in this.configCache)return this.configCache[""+e];var t=e.toLowerCase().split("+"),n={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return t[t.length-1].length>1&&Number(t[t.length-1])?n.keyCode=Number(t[t.length-1]):n.keyCode=i.getKeyCode(t[t.length-1]),i.configCache[""+e]=n,n},t.getKeyCode=function(e){return lh[""+e]||e.toUpperCase().charCodeAt(0)},t.configCache={},ah([fl({})],t.prototype,"keyConfigs",void 0),ah([fl("keyup")],t.prototype,"eventName",void 0),ah([yl()],t.prototype,"keyAction",void 0),t=i=ah([vl],t)}(nl),ch=function(){function e(e,t,i){this.controlName=e,this.localeStrings=t,this.setLocale(i||ga)}return e.prototype.setLocale=function(t){var i=this.intGetControlConstant(e.locale,t);this.currentLocale=i||this.localeStrings},e.load=function(e){this.locale=Eo(this.locale,e,{},!0)},e.prototype.getConstant=function(e){return ko(this.currentLocale[""+e])?this.localeStrings[""+e]||"":this.currentLocale[""+e]},e.prototype.intGetControlConstant=function(e,t){return e[""+t]?e[""+t][this.controlName]:null},e.locale={},e}(),uh=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ph=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},dh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return uh(t,e),ph([fl(50)],t.prototype,"swipeThresholdDistance",void 0),t}(zl),fh=/(Up|Down)/,gh=function(e){function t(t,i){var n=e.call(this,i,t)||this;return n.touchAction=!0,n.tapCount=0,n.startEvent=function(e){if(!0===n.touchAction){var t=n.updateChangeTouches(e);void 0!==e.changedTouches&&(n.touchAction=!1),n.isTouchMoved=!1,n.movedDirection="",n.startPoint=n.lastMovedPoint={clientX:t.clientX,clientY:t.clientY},n.startEventData=t,n.hScrollLocked=n.vScrollLocked=!1,n.tStampStart=Date.now(),n.timeOutTapHold=setTimeout((function(){n.tapHoldEvent(e)}),n.tapHoldThreshold),Oa.add(n.element,La.touchMoveEvent,n.moveEvent,n),Oa.add(n.element,La.touchEndEvent,n.endEvent,n),Oa.add(n.element,La.touchCancelEvent,n.cancelEvent,n)}},n.moveEvent=function(e){var t=n.updateChangeTouches(e);n.movedPoint=t,n.isTouchMoved=!(t.clientX===n.startPoint.clientX&&t.clientY===n.startPoint.clientY);var i={};n.isTouchMoved&&(clearTimeout(n.timeOutTapHold),n.calcScrollPoints(e),i=Eo(i,{},{startEvents:n.startEventData,originalEvent:e,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,scrollDirection:n.scrollDirection,velocity:n.getVelocity(t)}),n.trigger("scroll",i),n.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},n.cancelEvent=function(e){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap),n.tapCount=0,n.swipeFn(e),Oa.remove(n.element,La.touchCancelEvent,n.cancelEvent)},n.endEvent=function(e){n.swipeFn(e),n.isTouchMoved||"function"===typeof n.tap&&(n.trigger("tap",{originalEvent:e,tapCount:++n.tapCount}),n.timeOutTap=setTimeout((function(){n.tapCount=0}),n.tapThreshold)),n.modeclear()},n.swipeFn=function(e){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap);var t=n.updateChangeTouches(e),i=t.clientX-n.startPoint.clientX,r=t.clientY-n.startPoint.clientY;i=Math.floor(i<0?-1*i:i),r=Math.floor(r<0?-1*r:i),n.isTouchMoved=i>1||r>1,/Firefox/.test(La.userAgent)&&0===t.clientX&&0===t.clientY&&"mouseup"===e.type&&(n.isTouchMoved=!1),n.endPoint=t,n.calcPoints(e);var s={originalEvent:e,startEvents:n.startEventData,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,swipeDirection:n.movedDirection,velocity:n.getVelocity(t)};if(n.isTouchMoved){var o=void 0,a=n.swipeSettings.swipeThresholdDistance;o=Eo(o,n.defaultArgs,s);var l=!1,h=n.element,c=n.isScrollable(h),u=fh.test(n.movedDirection);(a<n.distanceX&&!u||a<n.distanceY&&u)&&(l=!c||n.checkSwipe(h,u)),l&&n.trigger("swipe",o)}n.modeclear()},n.modeclear=function(){n.modeClear=setTimeout((function(){n.touchAction=!0}),"function"!==typeof n.tap?0:20),n.lastTapTime=(new Date).getTime(),Oa.remove(n.element,La.touchMoveEvent,n.moveEvent),Oa.remove(n.element,La.touchEndEvent,n.endEvent),Oa.remove(n.element,La.touchCancelEvent,n.cancelEvent)},n.bind(),n}return uh(t,e),t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents(),La.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.wireEvents=function(){Oa.add(this.element,La.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){Oa.remove(this.element,La.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var t=getComputedStyle(e),i=t.overflow+t.overflowX+t.overflowY;return!!/(auto|scroll)/.test(i)},t.prototype.tapHoldEvent=function(e){var t;this.tapCount=0,this.touchAction=!0,Oa.remove(this.element,La.touchMoveEvent,this.moveEvent),Oa.remove(this.element,La.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),Oa.remove(this.element,La.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=t.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=t.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var t=e.clientX,i=e.clientY,n=Date.now(),r=t-this.startPoint.clientX,s=i-this.startPoint.clientX,o=n-this.tStampStart;return Math.sqrt(r*r+s*s)/o},t.prototype.checkSwipe=function(e,t){var i=["scroll","offset"],n=t?["Height","Top"]:["Width","Left"];return e[i[0]+n[0]]<=e[i[1]+n[0]]||(0===e[i[0]+n[1]]||e[i[1]+n[0]]+e[i[0]+n[1]]>=e[i[0]+n[0]])},t.prototype.updateChangeTouches=function(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e},ph([yl()],t.prototype,"tap",void 0),ph([yl()],t.prototype,"tapHold",void 0),ph([yl()],t.prototype,"swipe",void 0),ph([yl()],t.prototype,"scroll",void 0),ph([fl(350)],t.prototype,"tapThreshold",void 0),ph([fl(750)],t.prototype,"tapHoldThreshold",void 0),ph([gl({},dh)],t.prototype,"swipeSettings",void 0),t=ph([vl],t)}(nl),mh=new RegExp("\\n|\\r|\\s\\s+","g"),yh=new RegExp(/'|"/g),vh=new RegExp("if ?\\("),bh=new RegExp("else if ?\\("),Mh=new RegExp("else"),Sh=new RegExp("for ?\\("),wh=new RegExp("(/if|/for)"),_h=new RegExp("\\((.*)\\)",""),Ih=new RegExp("^[0-9]+$","g"),Nh=new RegExp("[\\w\"'.\\s+]+","g"),Ch=new RegExp('"(.*?)"',"g"),xh=new RegExp("[\\w\"'@#$.\\s-+]+","g"),Dh=new RegExp("\\${([^}]*)}","g"),Th=/^\..*/gm,Ah=/\\/gi,jh=/\\\\/gi,Eh=new RegExp("[\\w\"'@#$.\\s+]+","g"),kh=/\window\./gm;function zh(e,t,i){if("function"===typeof e)return e;var n="data",r=function(e,t,i,n){var r=0,s=[],o=e.match(/class="([^"]+|)\s{2}/g),a="";o&&o.forEach((function(t){a=t.replace(/\s\s+/g," "),e=e.replace(t,a)}));return e.replace(mh,"").replace(Ch,"'$1'").replace(Dh,(function(e,o,a,l){var h=/@|#|\$/gm,c=o.match(_h);if(c){var u=c[1];if(bh.test(o))o='";} '+o.replace(c[1],u.replace(Nh,(function(e){return Lh(e=e.trim(),!yh.test(e)&&-1===s.indexOf(e),t,s,n)})))+'{ \n str = str + "';else if(vh.test(o))o='"; '+o.replace(c[1],u.replace(xh,(function(e){return Rh(e,t,s,n)})))+'{ \n str = str + "';else if(Sh.test(o)){var p=c[1].split(" of ");o='"; '+o.replace(c[1],(function(e){return s.push(p[0]),s.push(p[0]+"Index"),"var i"+(r+=1)+"=0; i"+r+" < "+Lh(p[1],!0,t,s,n)+".length; i"+r+"++"}))+"{ \n "+p[0]+"= "+Lh(p[1],!0,t,s,n)+"[i"+r+"]; \n var "+p[0]+"Index=i"+r+'; \n str = str + "'}else{var d=o.split("("),f=i&&i.hasOwnProperty(d[0])?"this.":"global";f=/\./.test(d[0])?"":f;var g=c[1].split(",");0===c[1].length||/data/.test(g[0])||/window./.test(g[0])||(c[1]="global"===f?t+"."+c[1]:c[1]);var m=/@|\$|#/gm,y=/\]\./gm;if(kh.test(o)&&y.test(o)||m.test(o))/@|\$|#|\]\./gm.test(o)&&(o='"+ '+("global"===f?"":f)+o.replace(c[1],u.replace(Eh,(function(e){return Rh(e,t,s,n)})))+'+ "');else o='" + '+("global"===f?"":f)+o.replace(u,Lh(c[1].replace(/,( |)data.|,/gi,","+t+".").replace(/,( |)data.window/gi,",window"),"global"!==f,t,s,n))+'+"'}}else Mh.test(o)?o='"; '+o.replace(Mh,'} else { \n str = str + "'):o.match(wh)?o=o.replace(wh,'"; \n } \n str = str + "'):h.test(o)?(o.match(Ah)&&(o=Ph(o)),o='"+'+Oh(o,-1===s.indexOf(o),t,s)+'"]+"'):o=o.match(Ah)?'"+'+Oh(o=Ph(o),-1===s.indexOf(o),t,s)+'"]+"':""!==o?'"+'+Lh(o.replace(/,/gi,"+"+t+"."),-1===s.indexOf(o),t,s,n)+'+"':"${}";return o}))}(e,n,t,i);return new Function(n,'var str="'+r+"\";var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25a0\\s]+)['])/g);\n        var hrefRegex = (/(?:href)([\\s='\"./]+)([\\w-./?=&\\\\#\"]+)((.)([\\w)(!-;/?-\u25a0\\s]+)['])/g);\n        if(str.match(valueRegEx)){\n            var check = str.match(valueRegEx);\n            var str1 = str;\n            for (var i=0; i < check.length; i++) {\n                var check1 = str.match(valueRegEx)[i].split('value=')[1];\n                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                str1 = str1.replace(check1, change);\n            }\n            str = str.replace(str, str1);\n        }\n        else if (str.match(/(?:href='')/) === null) {\n            if(str.match(hrefRegex)) {\n                var check = str.match(hrefRegex);\n                var str1 = str;\n                for (var i=0; i < check.length; i++) {\n                    var check1 = str.match(hrefRegex)[i].split('href=')[1];\n                    if (check1) {\n                        var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                        change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                        str1 = str1.replace(check1, change);\n                    }\n                }\n                str = str.replace(str, str1);\n            }\n        }\n         return str;").bind(t)}function Lh(e,t,i,n,r){return!t||Ih.test(e)||-1!==n.indexOf(e.split(".")[0])||r||"true"===e||"false"===e?e:i+"."+e}function Oh(e,t,i,n){return t&&!Ih.test(e)&&-1===n.indexOf(e.split(".")[0])?i+'["'+e:e}function Ph(e){return e.match(jh)||(e=e.replace(Ah,"\\\\")),e}function Rh(e,t,i,n){e=e.trim();if(/\window\./gm.test(e))return e;var r=/'|"/gm;return/@|\$|#/gm.test(e)&&(e=Oh(e,-1===i.indexOf(e),t,i)+'"]'),Th.test(e)?function(e,t,i,n){return!t||Ih.test(e)||-1!==n.indexOf(e.split(".")[0])||/^\..*/gm.test(e)?e:i+"."+e}(e,!r.test(e)&&-1===i.indexOf(e),t,i):Lh(e,!r.test(e)&&-1===i.indexOf(e),t,i,n)}var Fh=/^[\n\r.]+<tr|^<tr/,Bh=/^[\n\r.]+<svg|^<path|^<g/,Vh={};function Uh(e,t,i){var n=Kh.compile(e,t,i);return function(e,t,i,r,s,o,a,l){var h=n(e,t,i,a,l),c="BlazorTemplateId";if(Bo()&&!s){var u=r+("-"+Math.random().toString(36).substr(2,5));if(Vh[""+r]||(Vh[""+r]=[]),ko(o))e[""+c]=u,Vh[""+r].push(e);else for(var p=0,d=Object.keys(Vh[""+r][parseInt(o.toString(),10)]);p<d.length;p++){var f=d[p];f!==c&&e[""+f]&&(Vh[""+r][parseInt(o.toString(),10)][""+f]=e[""+f]),f===c&&(u=Vh[""+r][parseInt(o.toString(),10)][""+f])}return"rowTemplate"===i?[Ra("tr",{id:u,className:"e-blazor-template"})]:[Ra("div",{id:u,className:"e-blazor-template"})]}return"string"===typeof h?Bh.test(h)?Ra("svg",{innerHTML:h}).childNodes:Ra(Fh.test(h)?"table":"div",{innerHTML:h}).childNodes:h}}function Hh(e,t,i){var n=document.getElementById(e);if(n)for(var r=n.getElementsByClassName("blazor-inner-template"),s=0;s<r.length;s++){var o=" ";o=ko(i)?r[parseInt(s.toString(),10)].getAttribute("data-templateId"):r[parseInt(i.toString(),10)].getAttribute("data-templateId");var a=document.getElementById(o);if(a)for(var l=a.childNodes.length,h=0;h<l;h++)ko(i)?r[parseInt(s.toString(),10)].appendChild(a.childNodes[0]):(r[parseInt(i.toString(),10)].appendChild(a.childNodes[0]),s=r.length)}}var Wh,Yh,Qh,qh,Gh=function(){function e(){}return e.prototype.compile=function(e,t,i){return void 0===t&&(t={}),zh(e,t)},e}(),Kh={compile:(new Gh).compile},Xh=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],Jh=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],Zh=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","oncanplay","oncanplaythrough","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeypress","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onstart","onpropertychange","oncopy","ontoggle","onpointerout","onpointermove","onpointerleave","onpointerenter","onpointerrawupdate","onpointerover","onbeforecopy","onbeforecut","onbeforeinput"],$h=function(){function e(){}return e.beforeSanitize=function(){return{selectors:{tags:Xh,attributes:Jh}}},e.sanitize=function(e){var t=this.beforeSanitize();return this.serializeValue(t,e)},e.serializeValue=function(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var i=this.wrapElement.innerHTML;return this.removeElement(),this.wrapElement=null,i.replace(/&amp;/g,"&")},e.removeElement=function(){for(var e=this.wrapElement.children,t=0;t<e.length;t++)for(var i=e[parseInt(t.toString(),10)].attributes,n=0;n<i.length;n++)this.wrapElement.children[parseInt(t.toString(),10)].removeAttribute(i[parseInt(n.toString(),10)].localName)},e.removeXssTags=function(){var e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach((function(e){Qa(e)}))},e.removeJsEvents=function(){var e=this.wrapElement.querySelectorAll("["+Zh.join("],[")+"]");e.length>0&&e.forEach((function(e){Zh.forEach((function(t){e.hasAttribute(t)&&e.removeAttribute(t)}))}))},e.removeXssAttrs=function(){var e=this;this.removeAttrs.forEach((function(t,i){var n=e.wrapElement.querySelectorAll(t.selector);n.length>0&&n.forEach((function(e){e.removeAttribute(t.attribute)}))}))},e}(),ec={},tc=30,ic=30,nc=30,rc=30,sc=30,oc=36,ac=36,lc="e-spin-show",hc="e-spin-hide",cc="e-spin-material",uc="e-spin-material3",pc="e-spin-fabric",dc="e-spin-fluent",fc="e-spin-tailwind",gc="e-spin-bootstrap",mc="e-spin-bootstrap4",yc="e-spin-bootstrap5",vc="e-spin-high-contrast",bc="e-spinner-pane",Mc="e-spinner-inner",Sc="e-path-circle",wc="e-path-arc",_c="e-spin-label",Ic="e-spin-template",Nc=null,Cc=null;function xc(e,t){var i;if(e.target){var n,r=ko(t)?Ra:t,s=function(e,t){var i=t("div",{}),n=t("div",{});return i.classList.add(bc),n.classList.add(Mc),e.appendChild(i),i.appendChild(n),{wrap:i,inner_wrap:n}}(e.target,r);if(!ko(e.cssClass)){var o=e.cssClass.split(" ").filter((function(e){return""!==e.trim()}));(i=s.wrap.classList).add.apply(i,o)}if(ko(e.template)&&ko(Nc)){var a=ko(e.type)?function(e){var t=window.getComputedStyle(e,":after").getPropertyValue("content");return t.replace(/['"]+/g,"")}(s.wrap):e.type;n=function(e,t){var i;switch(t){case"Material":i=tc;break;case"Material3":i=ic;break;case"Fabric":case"Tailwind":case"Tailwind-dark":i=nc;break;case"Fluent":i=rc;break;case"Bootstrap4":i=oc;break;case"Bootstrap5":i=ac;break;default:i=sc}return e=e?parseFloat(e+""):i,"Bootstrap"===t?e:e/2}(ko(e.width)?void 0:e.width,a),Dc(a,s.wrap,n,r),ko(e.label)||function(e,t,i){var n=i("div",{});n.classList.add(_c),n.innerHTML=t,e.appendChild(n)}(s.inner_wrap,e.label,r)}else{var l=ko(e.template)?Nc:e.template;s.wrap.classList.add(Ic),Ac(s.wrap,l,Cc)}s.wrap.classList.add(hc),s=null}}function Dc(e,t,i,n){var r=t.querySelector("."+Mc),s=r.querySelector("svg");switch(ko(s)||r.removeChild(s),e){case"Material":!function(e,t,i){var n=jc();ec[""+n]={timeOut:0,type:"Material",radius:t},kc(e,n,i,cc),Lc(t,e,"Material",cc)}(r,i,n);break;case"Material3":!function(e,t,i){var n=jc();ec[""+n]={timeOut:0,type:"Material3",radius:t},kc(e,n,i,uc),Lc(t,e,"Material3",uc)}(r,i,n);break;case"Fabric":!function(e,t,i){var n=jc();ec[""+n]={timeOut:0,type:"Fabric",radius:t},Ec(e,n,pc,i),Fc(t,e,pc)}(r,i,n);break;case"Fluent":!function(e,t,i){var n=jc();ec[""+n]={timeOut:0,type:"Fluent",radius:t},Ec(e,n,dc,i),Fc(t,e,dc)}(r,i,n);break;case"Bootstrap":!function(e,t,i){var n=jc();ec[""+n]={timeOut:0,type:"Bootstrap",radius:t},function(e,t,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=64,s=32,o=2;n.setAttribute("id",t),n.setAttribute("class",gc),n.setAttribute("viewBox","0 0 "+r+" "+r),e.insertBefore(n,e.firstChild);for(var a=0;a<=7;a++){var l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("class",Sc+"_"+a),l.setAttribute("r",o+""),l.setAttribute("transform","translate("+s+","+s+")"),n.appendChild(l)}}(e,n),function(e,t){var i=e.querySelector("svg.e-spin-bootstrap"),n=0,r=0,s=24;i.style.width=i.style.height=t+"px";for(var o=90,a=0;a<=7;a++){var l=Bc(n,r,s,o),h=i.querySelector("."+Sc+"_"+a);h.setAttribute("cx",l.x+""),h.setAttribute("cy",l.y+""),o=o>=360?0:o,o+=45}}(e,t)}(r,i);break;case"HighContrast":!function(e,t,i){var n=jc();ec[""+n]={timeOut:0,type:"HighContrast",radius:t},Ec(e,n,vc,i),Fc(t,e,vc)}(r,i,n);break;case"Bootstrap4":!function(e,t,i){var n=jc();ec[""+n]={timeOut:0,type:"Bootstrap4",radius:t},kc(e,n,i,mc),Lc(t,e,"Bootstrap4",mc)}(r,i,n);break;case"Bootstrap5":!function(e,t,i){var n=jc();ec[""+n]={timeOut:0,type:"Bootstrap5",radius:t},kc(e,n,i,yc),Lc(t,e,"Bootstrap5",yc)}(r,i,n);break;case"Tailwind":case"Tailwind-dark":!function(e,t,i){var n=jc();ec[""+n]={timeOut:0,type:"Tailwind",radius:t},Ec(e,n,fc,i),Fc(t,e,fc)}(r,i,n)}}function Tc(e,t){var i=[],n=e,r=t,s=!1,o=1;return function e(t){i.push(t),(t!==r||1===o)&&(t<=n&&t>1&&!s?t=parseFloat((t-.2).toFixed(2)):1===t?(t=7,t=parseFloat((t+.2).toFixed(2)),s=!0):t<8&&s?8===(t=parseFloat((t+.2).toFixed(2)))&&(s=!1):t<=8&&!s&&(t=parseFloat((t-.2).toFixed(2))),++o,e(t))}(n),i}function Ac(e,t,i){ko(i)||e.classList.add(i),e.querySelector(".e-spinner-inner").innerHTML=t}function jc(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)e+=t.charAt(Math.floor(62*Math.random()));return e}function Ec(e,t,i,n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("id",t),r.setAttribute("class",i);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class",Sc);var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("class",wc),e.insertBefore(r,e.firstChild),r.appendChild(s),r.appendChild(o)}function kc(e,t,i,n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("class",n),r.setAttribute("id",t),s.setAttribute("class",Sc),e.insertBefore(r,e.firstChild),r.appendChild(s)}function zc(e){!function(e,t,i,n,r,s,o){var a=++o.globalInfo[o.uniqueID].previousId,l=(new Date).getTime(),h=t-e,c=(d=2*o.globalInfo[o.uniqueID].radius+"",parseFloat(d)),u=Oc(c),p=-90*(o.globalInfo[o.uniqueID].count||0);var d;function f(t){var r=Math.max(0,Math.min((new Date).getTime()-l,n));g(i(r,e,h,n),t.container),a===t.globalInfo[t.uniqueID].previousId&&r<n?ec[t.uniqueID].timeOut=setTimeout(f.bind(null,t),1):zc(t)}function g(e,t){if(!ko(t.querySelector("svg.e-spin-material"))||!ko(t.querySelector("svg.e-spin-material3"))){var i=void 0;if(ko(t.querySelector("svg.e-spin-material"))||ko(t.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))?ko(t.querySelector("svg.e-spin-material3"))||ko(t.querySelector("svg.e-spin-material3").querySelector("path.e-path-circle"))||(i=t.querySelector("svg.e-spin-material3")):i=t.querySelector("svg.e-spin-material"),!ko(i)){var n=i.querySelector("path.e-path-circle");n.setAttribute("stroke-dashoffset",Pc(c,u,e,s)+""),n.setAttribute("transform","rotate("+p+" "+c/2+" "+c/2+")")}}}f(o)}(1,149,Rc,1333,e.globalInfo[e.uniqueID].count,75,e),e.globalInfo[e.uniqueID].count=++e.globalInfo[e.uniqueID].count%4}function Lc(e,t,i,n){var r=2*e,s=t.querySelector("svg."+n),o=s.querySelector("path.e-path-circle"),a=Oc(r),l=r/2+"px";s.setAttribute("viewBox","0 0 "+r+" "+r),s.style.width=s.style.height=r+"px",s.style.transformOrigin=l+" "+l+" "+l,o.setAttribute("d",function(e,t){var i=e/2,n=t/2;return"M"+i+","+n+"A"+(i-n)+","+(i-n)+" 0 1 1 "+n+","+i}(r,a)),"Material"!==i&&"Material3"!==i||(o.setAttribute("stroke-width",a+""),o.setAttribute("stroke-dasharray",(r-a)*Math.PI*.75+""),o.setAttribute("stroke-dashoffset",Pc(r,a,1,75)+""))}function Oc(e){return.1*e}function Pc(e,t,i,n){return(e-t)*Math.PI*(3*n/100-i/100)}function Rc(e,t,i,n){var r=(e/=n)*e,s=r*e;return t+i*(6*s*r+-15*r*r+10*s)}function Fc(e,t,i){var n=e,r=e,s=2*e,o=t.querySelector("."+i),a=o.querySelector(".e-path-circle"),l=o.querySelector(".e-path-arc"),h=s/2+"px";a.setAttribute("d",function(e,t,i){var n=["M",e,t,"m",-i,0,"a",i,i,0,1,0,2*i,0,"a",i,i,0,1,0,2*-i,0].join(" ");return n}(n,r,e)),l.setAttribute("d",function(e,t,i,n,r){var s=Bc(e,t,i,r),o=Bc(e,t,i,n),a=["M",s.x,s.y,"A",i,i,0,0,0,o.x,o.y].join(" ");return a}(n,r,e,315,45)),o.setAttribute("viewBox","0 0 "+s+" "+s),o.style.transformOrigin=h+" "+h+" "+h,o.style.width=o.style.height=s+"px"}function Bc(e,t,i,n){var r=(n-90)*Math.PI/180;return{x:e+i*Math.cos(r),y:t+i*Math.sin(r)}}function Vc(e){Uc(e,!1),e=null}function Uc(e,t){var i;if(e)if(e.classList.contains(bc))i=e;else{var n=e.querySelectorAll("."+bc);if(La.isIE){for(var r=0;r<n.length;r++)if(n[r].parentElement&&n[r].parentElement===e){i=n[r];break}}else i=Array.from(n).find((function(t){return t.parentElement===e}))||null}if(e&&i){var s=i.querySelector("."+Mc);if(t?!i.classList.contains(Ic)&&!i.classList.contains(hc):!i.classList.contains(Ic)&&!i.classList.contains(lc)){var o=i.querySelector("svg");if(ko(o))return;var a=o.getAttribute("id");switch(ec[""+a].isAnimate=!t,ec[""+a].type){case"Material":case"Material3":t?clearTimeout(ec[a].timeOut):function(e,t,i){var n={};ec[""+t].timeOut=0,n[""+t]=function(e,t,i,n){return{radius:t,count:0,previousId:0}}(0,i),zc({uniqueID:t,container:e,globalInfo:n,timeOutVar:0})}(s,a,ec[a].radius);break;case"Bootstrap":t?clearTimeout(ec[a].timeOut):function(e){for(var t=e.querySelector("svg.e-spin-bootstrap").getAttribute("id"),i=1;i<=8;i++)n(e.getElementsByClassName("e-path-circle_"+(8===i?0:i))[0],i,i,Tc(i,i),t);function n(e,t,i,n,r){var s=0;!function t(i){ec[""+r].isAnimate&&(++s,e.setAttribute("r",i+""),s>=n.length&&(s=0),ec[r].timeOut=setTimeout(t.bind(null,n[s]),18))}(t)}}(s)}}t?el(i,[hc],[lc]):el(i,[lc],[hc]),e=null}}function Hc(e){Uc(e,!0),e=null}var Wc,Yc,Qc=!1;function qc(e,t){var i=!1,n={left:0,top:0},r=e;if(!e||!t)return n;for(ko(t.offsetParent)&&"fixed"===t.style.position&&(i=!0);(t.offsetParent||i)&&e&&t.offsetParent!==e;)n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent;for(e=r;(t.offsetParent||i)&&e&&t.offsetParent!==e;)n.left-=e.scrollLeft,n.top-=e.scrollTop,e=e.parentElement;return n}function Gc(e,t,i,n,r){if(Yh=void 0,Yh=r,Qc=!!n,!e)return{left:0,top:0};t||(t="left"),i||(i="top"),qh=e.ownerDocument,Qh=e;return function(e,t,i){switch(Wh=Qh.getBoundingClientRect(),t+e){case"topcenter":Kc(ru(),i),Xc(tu(),i);break;case"topright":Kc(nu(),i),Xc(tu(),i);break;case"centercenter":Kc(ru(),i),Xc(eu(),i);break;case"centerright":Kc(nu(),i),Xc(eu(),i);break;case"centerleft":Kc(iu(),i),Xc(eu(),i);break;case"bottomcenter":Kc(ru(),i),Xc($c(),i);break;case"bottomright":Kc(nu(),i),Xc($c(),i);break;case"bottomleft":Kc(iu(),i),Xc($c(),i);break;default:Kc(iu(),i),Xc(tu(),i)}return Qh=null,i}(t.toLowerCase(),i.toLowerCase(),{left:0,top:0})}function Kc(e,t){t.left=e}function Xc(e,t){t.top=e}function Jc(){return qh.documentElement.scrollTop||qh.body.scrollTop}function Zc(){return qh.documentElement.scrollLeft||qh.body.scrollLeft}function $c(){return Qc?Wh.bottom:Wh.bottom+Jc()}function eu(){return tu()+Wh.height/2}function tu(){return Qc?Wh.top:Wh.top+Jc()}function iu(){return Wh.left+Zc()}function nu(){var e=Qh&&(Qh.classList.contains("e-date-wrapper")||Qh.classList.contains("e-datetime-wrapper")||Qh.classList.contains("e-date-range-wrapper")||Qh.classList.contains("e-multiselect"))?Yh?Yh.width:0:Yh&&Wh.width>=Yh.width?Yh.width:0;return Wh.right+Zc()-e}function ru(){return iu()+Wh.width/2}function su(e,t,i,n){if(void 0===t&&(t=null),void 0===i&&(i={X:!1,Y:!1}),!i.Y&&!i.X)return{left:0,top:0};var r=e.getBoundingClientRect();if(Yc=t,Wc=e.ownerDocument,n||(n=Gc(e,"left","top")),i.X){var s=Yc?du():Iu(),o=vu(),a=bu(),l=o-n.left,h=n.left+r.width-a;r.width>s?n.left=l>0&&h<=0?a-r.width:h>0&&l<=0?o:l>h?a-r.width:o:l>0?n.left+=l:h>0&&(n.left-=h)}if(i.Y){var c=Yc?fu():_u(),u=yu(),p=Mu(),d=u-n.top,f=n.top+r.height-p;r.height>c?n.top=d>0&&f<=0?p-r.height:f>0&&d<=0?u:d>f?p-r.height:u:d>0?n.top+=d:f>0&&(n.top-=f)}return n}function ou(e,t,i,n){void 0===t&&(t=null);var r=Gc(e,"left","top");i&&(r.left=i),n&&(r.top=n);var s=[];Yc=t,Wc=e.ownerDocument;var o=e.getBoundingClientRect(),a=r.top,l=r.left,h=r.left+o.width,c=pu(a,r.top+o.height),u=hu(l,h);return c.topSide&&s.push("top"),u.rightSide&&s.push("right"),u.leftSide&&s.push("left"),c.bottomSide&&s.push("bottom"),s}function au(e,t,i,n,r,s,o,a,l){if(void 0===o&&(o=null),void 0===a&&(a={X:!0,Y:!0}),t&&e&&r&&s&&(a.X||a.Y)){var h,c={TL:null,TR:null,BL:null,BR:null},u={TL:null,TR:null,BL:null,BR:null};if("none"===window.getComputedStyle(e).display){var p=e.style.visibility;e.style.visibility="hidden",e.style.display="block",h=e.getBoundingClientRect(),e.style.removeProperty("display"),e.style.visibility=p}else h=e.getBoundingClientRect();var d={posX:r,posY:s,offsetX:i,offsetY:n,position:{left:0,top:0}};Yc=o,Wc=t.ownerDocument,function(e,t,i,n,r){i.position=Gc(e,i.posX,i.posY,n,r),t.TL=Gc(e,"left","top",n,r),t.TR=Gc(e,"right","top",n,r),t.BR=Gc(e,"left","bottom",n,r),t.BL=Gc(e,"right","bottom",n,r)}(t,c,d,l,h),lu(u,d,h),a.X&&cu(t,u,c,d,h,!0),a.Y&&c.TL.top>-1&&uu(t,u,c,d,h,!0),function(e,t,i){var n=0,r=0;if(null!=e.offsetParent&&("absolute"===getComputedStyle(e.offsetParent).position||"relative"===getComputedStyle(e.offsetParent).position)){var s=Gc(e.offsetParent,"left","top",!1,i);n=s.left,r=s.top}var o=1,a=1;if(e.offsetParent){var l=getComputedStyle(e.offsetParent).transform;if("none"!==l){var h=new DOMMatrix(l);o=h.a,a=h.d}}e.style.top=t.position.top/a+t.offsetY-r+"px",e.style.left=t.position.left/o+t.offsetX-n+"px"}(e,d,h)}}function lu(e,t,i){e.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},e.TR={top:e.TL.top,left:e.TL.left+i.width},e.BL={top:e.TL.top+i.height,left:e.TL.left},e.BR={top:e.TL.top+i.height,left:e.TL.left+i.width}}function hu(e,t){var i=!1,n=!1;return e-wu()<vu()&&(i=!0),t>bu()&&(n=!0),{leftSide:i,rightSide:n}}function cu(e,t,i,n,r,s){var o=hu(t.TL.left,t.TR.left);i.TL.left-wu()<=vu()&&(o.leftSide=!1),i.TR.left>bu()&&(o.rightSide=!1),(o.leftSide&&!o.rightSide||!o.leftSide&&o.rightSide)&&("right"===n.posX?n.posX="left":n.posX="right",n.offsetX=n.offsetX+r.width,n.offsetX=-1*n.offsetX,n.position=Gc(e,n.posX,n.posY,!1),lu(t,n,r),s&&cu(e,t,i,n,r,!1))}function uu(e,t,i,n,r,s){var o=pu(t.TL.top,t.BL.top);i.TL.top-Su()<=yu()&&(o.topSide=!1),i.BL.top>=Mu()&&e.getBoundingClientRect().bottom<window.innerHeight&&(o.bottomSide=!1),(o.topSide&&!o.bottomSide||!o.topSide&&o.bottomSide)&&("top"===n.posY?n.posY="bottom":n.posY="top",n.offsetY=n.offsetY+r.height,n.offsetY=-1*n.offsetY,n.position=Gc(e,n.posX,n.posY,!1,r),lu(t,n,r),s&&uu(e,t,i,n,r,!1))}function pu(e,t){var i=!1,n=!1;return e-Su()<yu()&&(i=!0),t>Mu()&&(n=!0),{topSide:i,bottomSide:n}}function du(){return Yc.getBoundingClientRect().width}function fu(){return Yc.getBoundingClientRect().height}function gu(){return Yc.getBoundingClientRect().left}function mu(){return Yc.getBoundingClientRect().top}function yu(){return Yc?mu():0}function vu(){return Yc?gu():0}function bu(){return Yc?wu()+gu()+du():wu()+Iu()}function Mu(){return Yc?Su()+mu()+fu():Su()+_u()}function Su(){return Wc.documentElement.scrollTop||Wc.body.scrollTop}function wu(){return Wc.documentElement.scrollLeft||Wc.body.scrollLeft}function _u(){return window.innerHeight}function Iu(){var e=window.innerWidth,t=document.documentElement.getBoundingClientRect();return e-(e-(ko(document.documentElement)?0:t.width))}function Nu(){Yc=null,Wc=null}var Cu=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),xu=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},Du=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cu(t,e),xu([fl("left")],t.prototype,"X",void 0),xu([fl("top")],t.prototype,"Y",void 0),t}(zl),Tu="e-popup",Au="e-rtl",ju="e-popup-open",Eu="e-popup-close",ku=function(e){function t(t,i){return e.call(this,i,t)||this}return Cu(t,e),t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"width":$a(this.element,{width:Fo(e.width)});break;case"height":$a(this.element,{height:Fo(e.height)});break;case"zIndex":$a(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var r=e.offsetX-t.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+r).toString()+"px";break;case"offsetY":var s=e.offsetY-t.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+s).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==e.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}}},t.prototype.getModuleName=function(){return"popup"},t.prototype.resolveCollision=function(){this.checkCollision()},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){this.element.classList.contains("e-popup-open")&&this.unwireEvents(),this.element.classList.remove(Tu,Au,ju,Eu),this.content=null,this.relateTo=null,Nu(),e.prototype.destroy.call(this)},t.prototype.render=function(){this.element.classList.add(Tu);var e={};1e3!==this.zIndex&&(e.zIndex=this.zIndex),"auto"!==this.width&&(e.width=Fo(this.width)),"auto"!==this.height&&(e.height=Fo(this.height)),$a(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()},t.prototype.wireEvents=function(){La.isDevice&&Oa.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()},t.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,t=this.getScrollableParent(this.getRelateToElement());e<t.length;e++){var i=t[e];Oa.add(i,"scroll",this.scrollRefresh,this)}},t.prototype.unwireEvents=function(){La.isDevice&&Oa.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()},t.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,t=this.getScrollableParent(this.getRelateToElement());e<t.length;e++){var i=t[e];Oa.remove(i,"scroll",this.scrollRefresh)}},t.prototype.getRelateToElement=function(){var e=""===this.relateTo||ko(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),"string"===typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo},t.prototype.scrollRefresh=function(e){if("reposition"===this.actionOnScroll?ko(this.element)||this.element.offsetParent===e.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==e.target.parentElement||this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){var t=this.isElementOnViewport(this.getRelateToElement(),e.target);t||this.targetInvisibleStatus?t&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}},t.prototype.isElementOnViewport=function(e,t){for(var i=this.getScrollableParent(e),n=0;n<i.length;n++)if(!this.isElementVisible(e,i[n]))return!1;return!0},t.prototype.isElementVisible=function(e,t){var i=this.checkGetBoundingClientRect(e);if(!i.height||!i.width)return!1;if(ko(this.checkGetBoundingClientRect(t))){var n=window,r={top:n.scrollY,left:n.scrollX,right:n.scrollX+n.outerWidth,bottom:n.scrollY+n.outerHeight},s=Gc(e),o={top:s.top,left:s.left,right:s.left+i.width,bottom:s.top+i.height},a={top:r.bottom-o.top,left:r.right-o.left,bottom:o.bottom-r.top,right:o.right-r.left};return a.top>0&&a.left>0&&a.right>0&&a.bottom>0}var l=t.getBoundingClientRect();return!(i.bottom<l.top)&&!(i.bottom>l.bottom)&&!(i.right>l.right)&&!(i.left<l.left)},t.prototype.preRender=function(){},t.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add(Au):this.element.classList.remove(Au)},t.prototype.setContent=function(){if(!ko(this.content))if(this.element.innerHTML="","string"===typeof this.content)this.element.textContent=this.content;else{var e=this.getRelateToElement(),t=this.content.props;e.classList.contains("e-dropdown-btn")&&!ko(t)||this.element.appendChild(this.content)}},t.prototype.orientationOnChange=function(){var e=this;setTimeout((function(){e.refreshPosition()}),200)},t.prototype.refreshPosition=function(e,t){ko(e)||this.checkFixedParent(e),this.reposition(),t||this.checkCollision()},t.prototype.reposition=function(){var e,t,i=this.getRelateToElement();if("number"===typeof this.position.X&&"number"===typeof this.position.Y)e={left:this.position.X,top:this.position.Y};else if("string"===typeof this.position.X&&"number"===typeof this.position.Y||"number"===typeof this.position.X&&"string"===typeof this.position.Y){var n=void 0,r=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(n=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),t=this.getAnchorPosition(i,this.element,this.position,this.offsetX,this.offsetY),e="string"===typeof this.position.X?{left:t.left,top:this.position.Y}:{left:this.position.X,top:t.top},this.element.style.display=r,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=n)}else if(i){var s=this.element.clientHeight;r=this.element.style.display;this.element.style.display="block",e=this.getAnchorPosition(i,this.element,this.position,this.offsetX,this.offsetY,s),this.element.style.display=r}else e={left:0,top:0};ko(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")},t.prototype.checkGetBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return null}},t.prototype.getAnchorPosition=function(e,t,i,n,r,s){void 0===s&&(s=0);var o=this.checkGetBoundingClientRect(t),a=this.checkGetBoundingClientRect(e);if(ko(o)||ko(a))return null;var l=e,h={left:0,top:0};switch(t.offsetParent&&"BODY"===t.offsetParent.tagName&&"BODY"===e.tagName?h=Gc(e):(t.classList.contains("e-dlg-modal")&&"BODY"!==l.tagName&&(t=t.parentElement),h=qc(l,t)),i.X){default:case"left":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===l.tagName&&"container"===this.targetType?h.left+=window.innerWidth/2-o.width/2:"container"===this.targetType?h.left+=a.width/2-o.width/2:h.left+=a.width/2;break;case"right":t.classList.contains("e-dlg-modal")&&"BODY"===l.tagName&&"container"===this.targetType?h.left+=window.innerWidth-o.width:"container"===this.targetType?h.left+=a.width-o.width:h.left+=a.width}switch(i.Y){default:case"top":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===l.tagName&&"container"===this.targetType?h.top+=window.innerHeight/2-o.height/2:"container"===this.targetType?h.top+=a.height/2-o.height/2:h.top+=a.height/2;break;case"bottom":t.classList.contains("e-dlg-modal")&&"BODY"===l.tagName&&"container"===this.targetType?h.top+=window.innerHeight-o.height:"container"!==this.targetType||t.classList.contains("e-dialog")?"container"===this.targetType&&t.classList.contains("e-dialog")?h.top+=a.height-s:h.top+=a.height:h.top+=a.height-o.height}return h.left+=n,h.top+=r,h},t.prototype.callFlip=function(e){var t=this.getRelateToElement();au(this.element,t,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)},t.prototype.callFit=function(e){if(0!==ou(this.element,this.viewPortElement).length)if(ko(this.viewPortElement)){var t=su(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=t.left+"px"),e.Y&&(this.element.style.top=t.top+"px")}else{var i=this.checkGetBoundingClientRect(this.element),n=this.checkGetBoundingClientRect(this.viewPortElement);if(ko(i)||ko(n))return null;e&&!0===e.Y&&(n.top>i.top?this.element.style.top="0px":n.bottom<i.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(i.bottom-n.bottom)+"px")),e&&!0===e.X&&(n.right<i.right?this.element.style.left=parseInt(this.element.style.left,10)-(i.right-n.right)+"px":n.left>i.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(n.left-i.left)+"px"))}},t.prototype.checkCollision=function(){var e=this.collision.X,t=this.collision.Y;"none"===e&&"none"===t||("flip"===e&&"flip"===t?this.callFlip({X:!0,Y:!0}):"fit"===e&&"fit"===t?this.callFit({X:!0,Y:!0}):("flip"===e?this.callFlip({X:!0,Y:!1}):"flip"===t&&this.callFlip({Y:!0,X:!1}),"fit"===e?this.callFit({X:!0,Y:!1}):"fit"===t&&this.callFit({X:!1,Y:!0})))},t.prototype.show=function(e,t){var i=this;if(this.getRelateToElement().classList.contains("e-filemanager")&&(this.fmDialogContainer=this.element.getElementsByClassName("e-file-select-wrap")[0]),this.wireEvents(),!ko(this.fmDialogContainer)&&La.isIos&&(this.fmDialogContainer.style.display="block"),1e3===this.zIndex||!ko(t)){var n=ko(t)?this.element:t;this.zIndex=Lu(n),$a(this.element,{zIndex:this.zIndex})}e=ko(e)||"object"!==typeof e?this.showAnimation:e,"none"===this.collision.X&&"none"===this.collision.Y||(Ba([this.element],Eu),Fa([this.element],ju),this.checkCollision(),Ba([this.element],ju),Fa([this.element],Eu)),ko(e)?(Ba([this.element],Eu),Fa([this.element],ju),this.trigger("open")):(e.begin=function(){i.isDestroyed||(Ba([i.element],Eu),Fa([i.element],ju))},e.end=function(){i.isDestroyed||i.trigger("open")},new _l(e).animate(this.element))},t.prototype.hide=function(e){var t=this;e=ko(e)||"object"!==typeof e?this.hideAnimation:e,ko(e)?(Ba([this.element],ju),Fa([this.element],Eu),this.trigger("close")):(e.end=function(){t.isDestroyed||(Ba([t.element],ju),Fa([t.element],Eu),t.trigger("close"))},new _l(e).animate(this.element)),this.unwireEvents()},t.prototype.getScrollableParent=function(e){return this.checkFixedParent(e),zu(e,this.fixedParent)},t.prototype.checkFixedParent=function(e){for(var t=e.parentElement;t&&"HTML"!==t.tagName;){var i=getComputedStyle(t);"fixed"===i.position&&!ko(this.element)&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&"hidden"!==getComputedStyle(this.element.offsetParent).overflow&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top,10)?Fo(window.scrollY-parseInt(this.element.style.top,10)):Fo(parseInt(this.element.style.top,10)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),t=t.parentElement,!ko(this.element)&&ko(this.element.offsetParent)&&"fixed"===i.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}},xu([fl("auto")],t.prototype,"height",void 0),xu([fl("auto")],t.prototype,"width",void 0),xu([fl(null)],t.prototype,"content",void 0),xu([fl("container")],t.prototype,"targetType",void 0),xu([fl(null)],t.prototype,"viewPortElement",void 0),xu([fl({X:"none",Y:"none"})],t.prototype,"collision",void 0),xu([fl("")],t.prototype,"relateTo",void 0),xu([gl({},Du)],t.prototype,"position",void 0),xu([fl(0)],t.prototype,"offsetX",void 0),xu([fl(0)],t.prototype,"offsetY",void 0),xu([fl(1e3)],t.prototype,"zIndex",void 0),xu([fl(!1)],t.prototype,"enableRtl",void 0),xu([fl("reposition")],t.prototype,"actionOnScroll",void 0),xu([fl(null)],t.prototype,"showAnimation",void 0),xu([fl(null)],t.prototype,"hideAnimation",void 0),xu([yl()],t.prototype,"open",void 0),xu([yl()],t.prototype,"close",void 0),xu([yl()],t.prototype,"targetExitViewport",void 0),t=xu([vl],t)}(Xl);function zu(e,t){for(var i=getComputedStyle(e),n=[],r=/(auto|scroll)/,s=e.parentElement;s&&"HTML"!==s.tagName;){var o=getComputedStyle(s);"absolute"===i.position&&"static"===o.position||!r.test(o.overflow+o.overflowY+o.overflowX)||n.push(s),s=s.parentElement}return t||n.push(document),n}function Lu(e){for(var t=e.parentElement,i=[];t&&"BODY"!==t.tagName;){var n=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");"auto"!==n&&"static"!==r&&i.push(n),t=t.parentElement}for(var s=[],o=0;o<document.body.children.length;o++)if(!e.isEqualNode(document.body.children[o])){n=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("position");"auto"!==n&&"static"!==r&&s.push(n)}s.push("999");var a=[];if(!ko(e.parentElement)&&"BODY"!==e.parentElement.tagName){var l=[].slice.call(e.parentElement.children);for(o=0;o<l.length;o++)if(!e.isEqualNode(l[o])){n=document.defaultView.getComputedStyle(l[o],null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(l[o],null).getPropertyValue("position");"auto"!==n&&"static"!==r&&a.push(n)}}var h=i.concat(s,a),c=Math.max.apply(Math,h)+1;return c>2147483647?2147483647:c}var Ou,Pu="e-rtl",Ru="e-disabled",Fu="e-input",Bu="e-multi-line-input",Vu="e-input-group",Uu="e-float-input",Hu="e-float-line",Wu="e-float-text",Yu="e-float-text-content",Qu="e-clear-icon",qu="e-clear-icon-hide",Gu="e-label-top",Ku="e-label-bottom",Xu="e-no-float-label",Ju="e-input-custom-tag",Zu="e-float-custom-tag";!function(e){var t,i,n=!0;function r(i){s(i.floatLabelType,i.element),i.element.addEventListener("focus",(function(){var t=d(this);(t.classList.contains("e-input-group")||t.classList.contains("e-outline")||t.classList.contains("e-filled"))&&t.classList.add("e-input-focus"),"Auto"===i.floatLabelType&&setTimeout((function(){e.calculateWidth(i.element,t)}),80)})),i.element.addEventListener("blur",(function(){var t=d(this);(t.classList.contains("e-input-group")||t.classList.contains("e-outline")||t.classList.contains("e-filled"))&&t.classList.remove("e-input-focus"),"Auto"===i.floatLabelType&&""===i.element.value&&setTimeout((function(){e.calculateWidth(i.element,t)}),80)})),i.element.addEventListener("input",(function(){s(t,i.element)}))}function s(e,t){var i=t.value,n=t.parentElement,r=n.parentElement;""===i||ko(i)?"Always"!==e&&(n&&n.classList.contains("e-input-group")?n.classList.remove("e-valid-input"):r&&r.classList.contains("e-input-group")&&r.classList.remove("e-valid-input")):n&&n.classList.contains("e-input-group")?n.classList.add("e-valid-input"):r&&r.classList.contains("e-input-group")&&r.classList.add("e-valid-input")}function o(){var e=d(this).getElementsByClassName("e-float-text")[0];ko(e)||(Fa([e],Gu),e.classList.contains(Ku)&&Ba([e],Ku))}function a(){var e=d(this);if(e.getElementsByTagName("textarea")[0]?""===e.getElementsByTagName("textarea")[0].value:""===e.getElementsByTagName("input")[0].value){var t=e.getElementsByClassName("e-float-text")[0];ko(t)||(t.classList.contains(Gu)&&Ba([t],Gu),Fa([t],Ku))}}function l(e){e.addEventListener("focus",o),e.addEventListener("blur",a)}function h(e,t,n){var r=ko(n)?Ra:n;"Auto"===e.floatLabelType&&l(e.element),ko(t.container)?(t.container=m(e,Uu,Zu,"div",r),t.container.classList.add(Vu),e.element.parentNode&&e.element.parentNode.insertBefore(t.container,e.element)):(ko(e.customTag)||t.container.classList.add(Zu),t.container.classList.add(Uu));var s=r("span",{className:Hu});if(i=r("label",{className:Wu}),ko(e.element.id)||""===e.element.id||(i.id="label_"+e.element.id.replace(/ /g,"_"),Ga(e.element,{"aria-labelledby":i.id})),ko(e.element.placeholder)||""===e.element.placeholder||(i.innerText=y(e.element.placeholder),e.element.removeAttribute("placeholder")),ko(e.properties)||ko(e.properties.placeholder)||""===e.properties.placeholder||(i.innerText=y(e.properties.placeholder)),i.innerText||t.container.classList.add(Xu),t.container.classList.contains("e-float-icon-left")){var o=t.container.querySelector(".e-input-in-wrap");o.appendChild(e.element),o.appendChild(s),o.appendChild(i)}else t.container.appendChild(e.element),t.container.appendChild(s),t.container.appendChild(i);p(e.element.value,i),"Always"===e.floatLabelType&&(i.classList.contains(Ku)&&Ba([i],Ku),Fa([i],Gu)),"Auto"===e.floatLabelType&&(e.element.addEventListener("input",(function(t){p(e.element.value,i,e.element)})),e.element.addEventListener("blur",(function(t){p(e.element.value,i)}))),ko(e.element.getAttribute("id"))||i.setAttribute("for",e.element.getAttribute("id"))}function c(e,t){"Always"===e&&t.classList.contains("e-outline")&&t.classList.add("e-valid-input")}function u(e,t,i){ko(t)||(e&&!i?Ba([t],qu):Fa([t],qu))}function p(e,t,i){(void 0===i&&(i=null),e)?(Fa([t],Gu),t.classList.contains(Ku)&&Ba([t],Ku)):(null==i||i!==document.activeElement)&&(t.classList.contains(Gu)&&Ba([t],Gu),Fa([t],Ku))}function d(e){var t=ko(e.parentNode)?e:e.parentNode;return t&&t.classList.contains("e-input-in-wrap")&&(t=t.parentNode),t}function f(e,t,i){(void 0===n||n)&&t.addEventListener("click",(function(i){e.classList.contains(Ru)||e.readOnly||(i.preventDefault(),e!==document.activeElement&&e.focus(),e.value="",Fa([t],qu))})),e.addEventListener("input",(function(i){u(e.value,t)})),e.addEventListener("focus",(function(i){u(e.value,t,e.readOnly)})),e.addEventListener("blur",(function(i){setTimeout((function(){ko(t)||(Fa([t],qu),t=!ko(e)&&e.classList.contains("e-combobox")?null:t)}),200)}))}function g(e,t){if(d(e).classList.contains(Uu)&&"Auto"===t){var i=d(e).getElementsByClassName("e-float-text")[0];p(e.value,i,e)}}function m(e,t,i,n,r){var s,o=ko(r)?Ra:r;return ko(e.customTag)?s=o(n,{className:t}):(s=o(e.customTag,{className:t})).classList.add(i),s.classList.add("e-control-wrapper"),s}function y(e){var t="";if(!ko(e)&&""!==e){var i=document.createElement("span");i.innerHTML='<input  placeholder="'+e+'"/>',t=i.children[0].placeholder}return t}function v(e,t,i){ko(i)||""===i||Ba(t,i.split(" ")),ko(e)||""===e||Fa(t,e.split(" "))}function b(e,t,i){var n="multiselect"===i?e:e.clientWidth-parseInt(getComputedStyle(e,null).getPropertyValue("padding-left"),10);ko(t.getElementsByClassName("e-float-text-content")[0])||(t.getElementsByClassName("e-float-text-content")[0].classList.contains("e-float-text-overflow")&&t.getElementsByClassName("e-float-text-content")[0].classList.remove("e-float-text-overflow"),(n<t.getElementsByClassName("e-float-text-content")[0].clientWidth||n===t.getElementsByClassName("e-float-text-content")[0].clientWidth)&&t.getElementsByClassName("e-float-text-content")[0].classList.add("e-float-text-overflow"))}function M(e,t){e=y(e);var i=d(t);i.classList.contains(Uu)?ko(e)||""===e?(i.classList.add(Xu),i.getElementsByClassName("e-float-text-content")[0]?i.getElementsByClassName(Wu)[0].children[0].textContent="":i.getElementsByClassName(Wu)[0].textContent=""):(i.getElementsByClassName("e-float-text-content")[0]?i.getElementsByClassName(Wu)[0].children[0].textContent=e:i.getElementsByClassName(Wu)[0].textContent=e,i.classList.remove(Xu),t.removeAttribute("placeholder")):ko(e)||""===e?t.removeAttribute("placeholder"):Ga(t,{placeholder:e})}function S(e,t,i){e?Ga(t,{readonly:""}):t.removeAttribute("readonly"),ko(i)||g(t,i)}function w(e,t){e?Fa(t,Pu):Ba(t,Pu)}function _(e,t,i,n){var r={disabled:"disabled","aria-disabled":"true"},s=!ko(n);e?(t.classList.remove(Ru),N(r,t),s&&Ba([n],Ru)):(t.classList.add(Ru),C(r,t),s&&Fa([n],Ru)),ko(i)||g(t,i)}function I(e,t,i,n,r){var s=ko(r)?Ra:r;e?i.clearButton=function(e,t,i,n){var r=(ko(n)?Ra:n)("span",{className:Qu}),s=t.container;return ko(i)?(t.container.classList.contains(Uu)?t.container.querySelector("."+Wu):e).insertAdjacentElement("afterend",r):s.appendChild(r),Fa([r],qu),f(e,r),r.setAttribute("aria-label","close"),r}(t,i,n,s):(qa(i.clearButton),i.clearButton=null)}function N(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i],s=d(t);"disabled"===r&&t.classList.remove(Ru),"disabled"===r&&s.classList.contains(Vu)&&s.classList.remove(Ru),"placeholder"===r&&s.classList.contains(Uu)?s.getElementsByClassName(Wu)[0].textContent="":t.removeAttribute(r)}}function C(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i],s=d(t);"disabled"===r&&t.classList.add(Ru),"disabled"===r&&s.classList.contains(Vu)&&s.classList.add(Ru),"placeholder"===r&&s.classList.contains(Uu)?s.getElementsByClassName(Wu)[0].textContent=e[""+r]:t.setAttribute(r,e[""+r])}}function x(e,t){if(e.classList.contains("e-outline")&&e.getElementsByClassName("e-float-text")[0]){var i=t("span",{className:Yu});i.innerHTML=e.getElementsByClassName("e-float-text")[0].innerHTML,e.getElementsByClassName("e-float-text")[0].innerHTML="",e.getElementsByClassName("e-float-text")[0].appendChild(i)}}function D(e,t,i){var n=[];n.push(i);var r=ko(i)?t.querySelectorAll(".e-input-group-icon"):n;if(e&&r.length>0)for(var s=0;s<r.length;s++)r[parseInt(s.toString())].addEventListener("mousedown",T,!1),r[parseInt(s.toString())].addEventListener("mouseup",A,!1);else if(r.length>0)for(s=0;s<r.length;s++)r[parseInt(s.toString())].removeEventListener("mousedown",T,this),r[parseInt(s.toString())].removeEventListener("mouseup",A,this)}function T(){for(var e,t,i=this.parentElement;!i.classList.contains("e-input-group");)i=i.parentElement;t=this,(e=i).classList.contains("e-disabled")||e.querySelector("input").readOnly||t.classList.add("e-input-btn-ripple")}function A(){var e=this;setTimeout((function(){e.classList.remove("e-input-btn-ripple")}),500)}function j(e,t){var i=t("span",{className:e});return i.classList.add("e-input-group-icon"),i}function E(e,t,i,n){var r=ko(n)?Ra:n,s=j(e,r);t.classList.add("e-float-icon-left");var o=t.querySelector(".e-input-in-wrap");if(ko(o)){o=r("span",{className:"e-input-in-wrap"}),i.parentNode.insertBefore(o,i);var a=t.querySelectorAll(i.tagName+" ~ *");o.appendChild(i);for(var l=0;l<a.length;l++){var h=a[parseInt(l.toString())],c=o.parentElement;h.classList.contains("e-float-line")&&(c&&c.classList.contains("e-filled")||!c)||o.appendChild(h)}}return o.parentNode.insertBefore(s,o),D(!0,t,s),s}function k(e,t,i){var n=j(e,ko(i)?Ra:i);return(t.classList.contains("e-float-icon-left")?t.querySelector(".e-input-in-wrap"):t).appendChild(n),D(!0,t,n),n}function z(e,t){"hidden"===t.type?e.classList.add("e-hidden"):e.classList.contains("e-hidden")&&e.classList.remove("e-hidden")}e.createInput=function(e,i){var s=ko(i)?Ra:i,o={container:null,buttons:[],clearButton:null};if(t=e.floatLabelType,n=e.bindClearAction,ko(e.floatLabelType)||"Never"===e.floatLabelType?(o.container=m(e,Vu,Ju,"span",s),e.element.parentNode.insertBefore(o.container,e.element),Fa([e.element],Fu),o.container.appendChild(e.element)):h(e,o,s),r(e),ko(e.properties)||ko(e.properties.showClearButton)||!e.properties.showClearButton||(I(e.properties.showClearButton,e.element,o,!0,s),o.clearButton.setAttribute("role","button"),o.container.classList.contains(Uu)&&Fa([o.container],Vu)),!ko(e.buttons))for(var a=0;a<e.buttons.length;a++)o.buttons.push(k(e.buttons[a],o.container,s));return ko(e.element)||"TEXTAREA"!==e.element.tagName||Fa([o.container],Bu),z(o.container,e.element),o=function(e,t){if(!ko(e.properties))for(var i=0,n=Object.keys(e.properties);i<n.length;i++){switch(n[i]){case"cssClass":v(e.properties.cssClass,[t.container]),c(e.floatLabelType,t.container);break;case"enabled":_(e.properties.enabled,e.element,e.floatLabelType,t.container);break;case"enableRtl":w(e.properties.enableRtl,[t.container]);break;case"placeholder":M(e.properties.placeholder,e.element);break;case"readonly":S(e.properties.readonly,e.element)}}return t}(e,o),x(o.container,s),o},e.bindInitialEvent=r,e.wireFloatingEvents=l,e.wireClearBtnEvents=f,e.destroy=function(){i=null,null},e.setValue=function(e,t,i,n){if(t.value=e,"Auto"===i&&""===e&&b(t,t.parentElement),ko(i)||"Auto"!==i||g(t,i),!ko(n)&&n){var r=d(t);if(!ko(r)){var o=r.getElementsByClassName(Qu)[0];ko(o)||(t.value&&!ko(r)&&r.classList.contains("e-input-focus")?Ba([o],qu):Fa([o],qu))}}s(i,t)},e.setCssClass=v,e.calculateWidth=b,e.setWidth=function(e,t){"number"===typeof e?t.style.width=Fo(e):"string"===typeof e&&(t.style.width=e.match(/px|%|em/)?e:Fo(e)),b(t.firstChild,t)},e.setPlaceholder=M,e.setReadonly=S,e.setEnableRtl=w,e.setEnabled=_,e.setClearButton=I,e.removeAttributes=N,e.addAttributes=C,e.removeFloating=function(e){var t,i=e.container;if(!ko(i)&&i.classList.contains(Uu)){var n=i.querySelector("textarea")?i.querySelector("textarea"):i.querySelector("input"),r=i.querySelector("."+Wu).textContent,s=null!==i.querySelector(".e-clear-icon");Qa(i.querySelector("."+Hu)),Qa(i.querySelector("."+Wu)),el(i,[Vu],[Uu]),(t=n).removeEventListener("focus",o),t.removeEventListener("blur",a),Ga(n,{placeholder:r}),n.classList.add(Fu),s||"INPUT"!==n.tagName||n.removeAttribute("required")}},e.addFloating=function(e,i,n,r){var s=ko(r)?Ra:r,o=Za(e,"."+Vu);if(t=i,"Never"!==i){var a=o.tagName,l={element:e,floatLabelType:i,customTag:a="DIV"!==a&&"SPAN"!==a?a:null,properties:{placeholder:n}},u=o.querySelector(".e-clear-icon"),p={container:o};e.classList.remove(Fu),h(l,p,s),x(p.container,s),b(l.element,p.container);var d=o.classList.contains("e-float-icon-left");if(ko(u))if(d)u=o.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon");else u=o.querySelector(".e-input-group-icon");if(ko(u))d&&(u=o.querySelector(".e-input-group-icon"));else{var f=o.querySelector("."+Hu),g=o.querySelector("."+Wu),m=d?o.querySelector(".e-input-in-wrap"):o;m.insertBefore(e,u),m.insertBefore(f,u),m.insertBefore(g,u)}}c(i,e.parentElement)},e.createSpanElement=x,e.setRipple=function(e,t){for(var i=0;i<t.length;i++)D(e,t[parseInt(i.toString())].container)},e.addIcon=function(e,t,i,n,r){var s="string"===typeof t?t.split(","):t;if("append"===e.toLowerCase())for(var o=0,a=s;o<a.length;o++){k(a[o],i,r)}else for(var l=0,h=s;l<h.length;l++){E(h[l],i,n,r)}i.getElementsByClassName("e-input-group-icon")[0]&&i.getElementsByClassName("e-float-text-overflow")[0]&&i.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon")},e.prependSpan=E,e.appendSpan=k,e.validateInputType=z}(Ou||(Ou={}));var $u="",ep="",tp=[],ip="";function np(e,t,i,n,r,s,o){var a=t;n=void 0===n||null===n||n;var l={item:null,index:null};if(e&&e.length){var h=e.length,c=n?e.toLocaleLowerCase():e;c=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");for(var u=function(e,a){var u,p=a[e],d=void 0;if(t&&r){var f=p,g=s.text.split(".");r.filter((function(e){Array.prototype.slice.call(g).forEach((function(t){("object"===o&&!e.isHeader&&-1!==f.textContent.toString().indexOf(e[t])&&f.getAttribute("data-value")===e[s.value].toString()||"string"===o&&-1!==f.textContent.toString().indexOf(e))&&(u="object"===o?e[t]:e)}))}))}if(d=r&&u?(n?u.toLocaleLowerCase():u).replace(/^\s+|\s+$/g,""):(n?p.textContent.toLocaleLowerCase():p.textContent).replace(/^\s+|\s+$/g,""),"Equal"===i&&d===c||"StartsWith"===i&&d.substr(0,h)===c||"EndsWith"===i&&d.substr(d.length-c.length)===c||"Contains"===i&&new RegExp(c,"g").test(d))return l.item=p,l.index=e,{value:{item:p,index:e}}},p=0,d=a;p<d.length;p++){var f=u(p,d);if("object"===typeof f)return f.value}return l}return l}var rp,sp=function(){function e(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"===typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}return e.prototype.setKey=function(e){return this.key=e,this},e.prototype.using=function(e){return this.dataManager=e,this},e.prototype.execute=function(e,t,i,n){return(e=e||this.dataManager)?e.executeQuery(this,t,i,n):bp.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.executeLocal=function(e){return(e=e||this.dataManager)?e.executeLocal(this):bp.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.clone=function(){var t=new e;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t.lazyLoad=this.lazyLoad.slice(0),t},e.prototype.from=function(e){return this.fromTable=e,this},e.prototype.addParams=function(e,t){return"function"===typeof t?this.params.push({key:e,fn:t}):this.params.push({key:e,value:t}),this},e.prototype.distinct=function(e){return this.distincts="string"===typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.expand=function(e){return this.expands="string"===typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.where=function(e,t,i,n,r,s){t=t?t.toLowerCase():null;var o=null;return"string"===typeof e?o=new op(e,t,i,n,r,s):e instanceof op&&(o=e),this.queries.push({fn:"onWhere",e:o}),this},e.prototype.search=function(e,t,i,n,r){"string"===typeof t&&(t=[t]),i&&"none"!==i||(i="contains");var s=bp.fnOperators[i];return this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:i,searchKey:e,ignoreCase:n,ignoreAccent:r,comparer:s}}),this},e.prototype.sortBy=function(e,t,i){return this.sortByForeignKey(e,t,i)},e.prototype.sortByForeignKey=function(t,i,n,r){var s,o,a=ko(r)?"ascending":r;if("string"===typeof t&&bp.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),i="descending"),i&&"string"!==typeof i||(a=i?i.toLowerCase():"ascending",i=bp.fnSort(i)),n){s=e.filterQueries(this.queries,"onSortBy");for(var l=0;l<s.length;l++)if("string"===typeof(o=s[l].e.fieldName)){if(o===t)return this}else if(o instanceof Array)for(var h=0;h<o.length;h++)if(o[h]===t||t.toLowerCase()===o[h]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:i,direction:a}}),this},e.prototype.sortByDesc=function(e){return this.sortBy(e,"descending")},e.prototype.group=function(e,t,i){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:i||null}}),this},e.prototype.page=function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},e.prototype.range=function(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},e.prototype.take=function(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this},e.prototype.skip=function(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this},e.prototype.select=function(e){return"string"===typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},e.prototype.hierarchy=function(e,t){return this.subQuerySelector=t,this.subQuery=e,this},e.prototype.foreignKey=function(e){return this.fKey=e,this},e.prototype.requiresCount=function(){return this.isCountRequired=!0,this},e.prototype.aggregate=function(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this},e.filterQueries=function(e,t){return e.filter((function(e){return e.fn===t}))},e.filterQueryLists=function(e,t){for(var i=e.filter((function(e){return-1!==t.indexOf(e.fn)})),n={},r=0;r<i.length;r++)n[i[r].fn]||(n[i[r].fn]=i[r].e);return n},e}(),op=function(){function e(t,i,n,r,s,o){return void 0===r&&(r=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"===typeof t?(this.field=t,this.operator=i.toLowerCase(),this.value=n,this.matchCase=o,this.ignoreCase=r,this.ignoreAccent=s,this.isComplex=!1,this.comparer=bp.fnOperators.processOperator(this.operator)):(t instanceof e&&n instanceof e||n instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[t],this.matchCase=t.matchCase,this.ignoreCase=t.ignoreCase,this.ignoreAccent=t.ignoreAccent,n instanceof Array?[].push.apply(this.predicates,n):this.predicates.push(n)),this}return e.and=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.combinePredicates([].slice.call(t,0),"and")},e.prototype.and=function(t,i,n,r,s){return e.combine(this,t,i,n,"and",r,s)},e.or=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.combinePredicates([].slice.call(t,0),"or")},e.prototype.or=function(t,i,n,r,s){return e.combine(this,t,i,n,"or",r,s)},e.ornot=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.combinePredicates([].slice.call(t,0),"or not")},e.prototype.ornot=function(t,i,n,r,s){return e.combine(this,t,i,n,"ornot",r,s)},e.andnot=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.combinePredicates([].slice.call(t,0),"and not")},e.prototype.andnot=function(t,i,n,r,s){return e.combine(this,t,i,n,"andnot",r,s)},e.fromJson=function(e){if(e instanceof Array){for(var t=[],i=0,n=e.length;i<n;i++)t.push(this.fromJSONData(e[i]));return t}var r=e;return this.fromJSONData(r)},e.prototype.validate=function(e){var t,i,n=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.condition&&-1!==this.condition.indexOf("not")?(this.condition=""===this.condition.split("not")[0]?void 0:this.condition.split("not")[0],!this.comparer.call(this,bp.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent)):this.comparer.call(this,bp.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);i=this.condition&&-1!==this.condition.indexOf("not")?-1!==this.condition.indexOf("and"):"and"===this.condition;for(var r=0;r<n.length;r++)if(r>0&&this.condition&&-1!==this.condition.indexOf("not")&&(n[r].condition=n[r].condition?n[r].condition+"not":"not"),t=n[r].validate(e),i){if(!t)return!1}else if(t)return!0;return i},e.prototype.toJson=function(){var e,t;if(this.isComplex){e=[],t=this.predicates;for(var i=0;i<t.length;i++)e.push(t[i].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e,matchCase:this.matchCase}},e.combinePredicates=function(t,i){if(1===t.length){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new e(t[0],i,t.slice(1))},e.combine=function(t,i,n,r,s,o,a){return i instanceof e?e[s](t,i):"string"===typeof i?e[s](t,new e(i,n,r,o,a)):bp.throwError("Predicate - "+s+" : invalid arguments")},e.fromJSONData=function(t){for(var i=t.predicates||[],n=i.length,r=[],s=0;s<n;s++)r.push(this.fromJSONData(i[s]));return t.isComplex?new e(r[0],t.condition,r.slice(1)):new e(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent)},e}(),ap=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),lp={GroupGuid:"{271bbba0-1ee7}"},hp=function(){function e(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=e,this.dataSource=t,this.pvt={}}return e.prototype.processResponse=function(e,t,i,n){return e},e}(),cp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype.processQuery=function(e,t){for(var i,n,r,s=e.dataSource.json.slice(0),o=s.length,a=!0,l={},h=0,c=[],u=0;u<t.lazyLoad.length;u++)h++,l[t.lazyLoad[u].key]=t.lazyLoad[u].value;var p={};for(u=0;u<t.queries.length;u++)"onPage"!==(n=t.queries[u]).fn&&"onGroup"!==n.fn||!t.lazyLoad.length?(i=this[n.fn].call(this,s,n.e,t),"onAggregates"===n.fn?p[n.e.field+" - "+n.e.type]=i:s=void 0!==i?i:s,"onPage"!==n.fn&&"onSkip"!==n.fn&&"onTake"!==n.fn&&"onRange"!==n.fn||(a=!1),a&&(o=s.length)):("onGroup"===n.fn&&c.push(n.e),"onPage"===n.fn&&(r=n.e));if(h){var d={query:t,lazyLoad:l,result:s,group:c,page:r},f=this.lazyLoadGroup(d);s=f.result,o=f.count}return t.isCountRequired&&(s={result:s,count:o,aggregates:p}),s},t.prototype.lazyLoadGroup=function(e){var t=0,i=this.getAggregate(e.query),n=e.result;if(ko(e.lazyLoad.onDemandGroupInfo)){o=e.group[0].fieldName;t=(n=bp.group(n,o,i,null,null,e.group[0].comparer,!0)).length;a=n;e.page&&(n=this.onPage(n,e.page,e.query)),this.formGroupResult(n,a)}else{for(var r=e.lazyLoad.onDemandGroupInfo,s=r.where.length-1;s>=0;s--)n=this.onWhere(n,r.where[s]);if(e.group.length!==r.level){var o=e.group[r.level].fieldName;n=bp.group(n,o,i,null,null,e.group[0].comparer,!0)}t=n.length;var a=n;n=(n=n.slice(r.skip)).slice(0,r.take),e.group.length!==r.level&&this.formGroupResult(n,a)}return{result:n,count:t}},t.prototype.formGroupResult=function(e,t){if(e.length&&t.length){var i="GroupGuid",n="childLevels",r="level",s="records";e[i]=t[i],e[n]=t[n],e[r]=t[r],e[s]=t[s]}return e},t.prototype.getAggregate=function(e){var t=sp.filterQueries(e.queries,"onAggregates"),i=[];if(t.length)for(var n=void 0,r=0;r<t.length;r++)n=t[r].e,i.push({type:n.type,field:bp.getValue(n.field,e)});return i},t.prototype.batchRequest=function(e,t,i){var n,r=t.deletedRecords.length;for(n=0;n<t.addedRecords.length;n++)this.insert(e,t.addedRecords[n]);for(n=0;n<t.changedRecords.length;n++)this.update(e,i.key,t.changedRecords[n]);for(n=0;n<r;n++)this.remove(e,i.key,t.deletedRecords[n]);return t},t.prototype.onWhere=function(e,t){return e&&e.length?e.filter((function(e){if(t)return t.validate(e)})):e},t.prototype.onAggregates=function(e,t){var i=bp.aggregates[t.type];return e&&i&&0!==e.length?i(e,t.field):null},t.prototype.onSearch=function(e,t){return e&&e.length?(0===t.fieldNames.length&&bp.getFieldList(e[0],t.fieldNames),e.filter((function(e){for(var i=0;i<t.fieldNames.length;i++)if(t.comparer.call(e,bp.getObject(t.fieldNames[i],e),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1}))):e},t.prototype.onSortBy=function(e,t,i){if(!e||!e.length)return e;var n,r=bp.getValue(t.fieldName,i);if(!r)return e.sort(t.comparer);if(r instanceof Array){for(var s=(r=r.slice(0)).length-1;s>=0;s--)r[s]&&(n=t.comparer,bp.endsWith(r[s]," desc")&&(n=bp.fnSort("descending"),r[s]=r[s].replace(" desc","")),e=bp.sort(e,r[s],n));return e}return bp.sort(e,r,t.comparer)},t.prototype.onGroup=function(e,t,i){if(!e||!e.length)return e;var n=this.getAggregate(i);return bp.group(e,bp.getValue(t.fieldName,i),n,null,null,t.comparer)},t.prototype.onPage=function(e,t,i){var n=bp.getValue(t.pageSize,i),r=(bp.getValue(t.pageIndex,i)-1)*n,s=r+n;return e&&e.length?e.slice(r,s):e},t.prototype.onRange=function(e,t){return e&&e.length?e.slice(bp.getValue(t.start),bp.getValue(t.end)):e},t.prototype.onTake=function(e,t){return e&&e.length?e.slice(0,bp.getValue(t.nos)):e},t.prototype.onSkip=function(e,t){return e&&e.length?e.slice(bp.getValue(t.nos)):e},t.prototype.onSelect=function(e,t){return e&&e.length?bp.select(e,bp.getValue(t.fieldNames)):e},t.prototype.insert=function(e,t,i,n,r){return ko(r)?e.dataSource.json.push(t):e.dataSource.json.splice(r,0,t)},t.prototype.remove=function(e,t,i,n){var r,s=e.dataSource.json;for("object"!==typeof i||i instanceof Date||(i=bp.getObject(t,i)),r=0;r<s.length&&bp.getObject(t,s[r])!==i;r++);return r!==s.length?s.splice(r,1):null},t.prototype.update=function(e,t,i,n){var r,s,o=e.dataSource.json;for(ko(t)||(s=No(t,i)),r=0;r<o.length&&(ko(t)||No(t,o[r])!==s);r++);return r<o.length?jo(o[r],i):null},t}(hp),up=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype.processQuery=function(e,t,i){var n,r,s=this.getQueryRequest(t),o=sp.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=t.params,l=e.dataSource.url,h=null,c=this.options,u={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in o?(n=o.onPage,r=((r=bp.getValue(n.pageIndex,t))-1)*(h=bp.getValue(n.pageSize,t))):"onRange"in o&&(r=(n=o.onRange).start,h=n.end-n.start);for(var p=0;p<s.sorts.length;p++)n=bp.getValue(s.sorts[p].e.fieldName,t),u.sorts.push(bp.callAdaptorFunction(this,"onEachSort",{name:n,direction:s.sorts[p].e.direction},t));i&&(n=this.getFiltersFrom(i,t))&&u.filters.push(bp.callAdaptorFunction(this,"onEachWhere",n.toJson(),t));for(p=0;p<s.filters.length;p++){var d=bp.callAdaptorFunction(this,"onEachWhere",s.filters[p].e.toJson(),t);this.getModuleName&&"ODataV4Adaptor"===this.getModuleName()&&!ko(s.filters[p].e.key)&&s.filters.length>1&&(d="("+d+")"),u.filters.push(d);for(var f=0,g="object"===typeof u.filters[p]?Object.keys(u.filters[p]):[];f<g.length;f++){var m=g[f];bp.isNull(u[m])&&delete u[m]}}for(p=0;p<s.searches.length;p++)n=s.searches[p].e,u.searches.push(bp.callAdaptorFunction(this,"onEachSearch",{fields:n.fieldNames,operator:n.operator,key:n.searchKey,ignoreCase:n.ignoreCase},t));for(p=0;p<s.groups.length;p++)u.groups.push(bp.getValue(s.groups[p].e.fieldName,t));for(p=0;p<s.aggregates.length;p++)n=s.aggregates[p].e,u.aggregates.push({type:n.type,field:bp.getValue(n.field,t)});var y={};if(this.getRequestQuery(c,t,o,u,y),bp.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:a,reqParams:y}),t.lazyLoad.length)for(p=0;p<t.lazyLoad.length;p++)y[t.lazyLoad[p].key]=t.lazyLoad[p].value;for(var v=0,b=Object.keys(y);v<b.length;v++){m=b[v];(bp.isNull(y[m])||""===y[m]||0===y[m].length)&&delete y[m]}c.skip in y&&c.take in y||null===h||(y[c.skip]=bp.callAdaptorFunction(this,"onSkip",r,t),y[c.take]=bp.callAdaptorFunction(this,"onTake",h,t));var M=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(y,bp.parse.jsonDateReplacer),url:l,pvtData:M,type:"POST",contentType:"application/json; charset=utf-8"}:(n=this.convertToQueryString(y,t,e),{type:"GET",url:(n=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+n).length?l.replace(/\/*$/,n):l,pvtData:M})},t.prototype.getRequestQuery=function(e,t,i,n,r){var s=r;s[e.from]=t.fromTable,e.apply&&t.distincts.length&&(s[e.apply]="onDistinct"in this?bp.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(s[e.expand]="onExpand"in this&&"onSelect"in i?bp.callAdaptorFunction(this,"onExpand",{selects:bp.getValue(i.onSelect.fieldNames,t),expands:t.expands},t):t.expands),s[e.select]="onSelect"in i&&!t.distincts.length?bp.callAdaptorFunction(this,"onSelect",bp.getValue(i.onSelect.fieldNames,t),t):"",s[e.count]=t.isCountRequired?bp.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",s[e.search]=n.searches.length?bp.callAdaptorFunction(this,"onSearch",n.searches,t):"",s[e.skip]="onSkip"in i?bp.callAdaptorFunction(this,"onSkip",bp.getValue(i.onSkip.nos,t),t):"",s[e.take]="onTake"in i?bp.callAdaptorFunction(this,"onTake",bp.getValue(i.onTake.nos,t),t):"",s[e.where]=n.filters.length||n.searches.length?bp.callAdaptorFunction(this,"onWhere",n.filters,t):"",s[e.sortBy]=n.sorts.length?bp.callAdaptorFunction(this,"onSortBy",n.sorts,t):"",s[e.group]=n.groups.length?bp.callAdaptorFunction(this,"onGroup",n.groups,t):"",s[e.aggregates]=n.aggregates.length?bp.callAdaptorFunction(this,"onAggregates",n.aggregates,t):"",s.param=[]},t.prototype.convertToQueryString=function(e,t,i){return""},t.prototype.processResponse=function(e,t,i,n,r,s){if(n&&n.headers.get("Content-Type")&&-1!==n.headers.get("Content-Type").indexOf("application/json")){var o=bp.timeZoneHandling;t&&!t.timeZoneHandling&&(bp.timeZoneHandling=!1),e=bp.parse.parseJson(e),bp.timeZoneHandling=o}var a=r,l=a.pvtData||{},h=e?e.groupDs:[];if(n&&n.headers.get("Content-Type")&&-1!==n.headers.get("Content-Type").indexOf("xml"))return i.isCountRequired?{result:[],count:0}:[];var c=JSON.parse(a.data);if(c&&"batch"===c.action&&e&&e.addedRecords)return s.addedRecords=e.addedRecords,s;e&&e.d&&(e=e.d);var u={};e&&"count"in e&&(u.count=e.count),u.result=e&&e.result?e.result:e;var p=!1;if(Array.isArray(e.result)&&e.result.length){if(ko(e.result[0].key)||(u.result=this.formRemoteGroupedData(u.result,1,l.groups.length-1)),i&&i.lazyLoad.length&&l.groups.length)for(var d=0;d<i.lazyLoad.length;d++)if("onDemandGroupInfo"===i.lazyLoad[d].key){var f=i.lazyLoad[d].value.level;l.groups.length===f&&(p=!0)}}return p||this.getAggregateResult(l,e,u,h,i),bp.isNull(u.count)?u.result:{result:u.result,count:u.count,aggregates:u.aggregates}},t.prototype.formRemoteGroupedData=function(e,t,i){for(var n=0;n<e.length;n++)e[n].items.length&&Object.keys(e[n].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[n].items,t+1,i-1);var r="GroupGuid",s="records";return e[r]=lp[r],e.level=t,e.childLevels=i,e[s]=e[0].items.length?this.getGroupedRecords(e,!ko(e[0].items[s])):[],e},t.prototype.getGroupedRecords=function(e,t){for(var i=[],n=0;n<e.length;n++)if(t)i=i.concat(e[n].items.records);else for(var r=0;r<e[n].items.length;r++)i.push(e[n].items[r]);return i},t.prototype.onGroup=function(e){return this.pvt.groups=e,e},t.prototype.onAggregates=function(e){this.pvt.aggregates=e},t.prototype.batchRequest=function(e,t,i,n,r){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(Eo({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i[undefined],key:i[undefined]},bp.getAddParams(this,e,n)))}},t.prototype.beforeSend=function(e,t){},t.prototype.insert=function(e,t,i,n){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Eo({},{value:t,table:i,action:"insert"},bp.getAddParams(this,e,n)))}},t.prototype.remove=function(e,t,i,n,r){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Eo({},{key:i,keyColumn:t,table:n,action:"remove"},bp.getAddParams(this,e,r)))}},t.prototype.update=function(e,t,i,n,r){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Eo({},{value:i,action:"update",keyColumn:t,key:bp.getObject(t,i),table:n},bp.getAddParams(this,e,r)))}},t.prototype.getFiltersFrom=function(e,t){var i,n=t.fKey,r=n,s=t.key,o=[];"object"!==typeof e[0]&&(r=null);for(var a=0;a<e.length;a++)i="object"===typeof e[0]?bp.getObject(s||r,e[a]):e[a],o.push(new op(n,"equal",i));return op.or(o)},t.prototype.getAggregateResult=function(e,t,i,n,r){var s=t;if(t&&t.result&&(s=t.result),e&&e.aggregates&&e.aggregates.length){var o=e.aggregates,a=void 0,l=s,h={};t.aggregate&&(l=t.aggregate);for(var c=0;c<o.length;c++)(a=bp.aggregates[o[c].type])&&(h[o[c].field+" - "+o[c].type]=a(l,o[c].field));i.aggregates=h}var u=Array.isArray(t.result)&&t.result.length&&!ko(t.result[0].key);if(e&&e.groups&&e.groups.length&&!u){var p=e.groups;for(c=0;c<p.length;c++){ko(n)||(n=bp.group(n,p[c]));var d=sp.filterQueries(r.queries,"onGroup")[c].e;s=bp.group(s,p[c],e.aggregates,null,n,d.comparer)}i.result=s}return i},t.prototype.getQueryRequest=function(e){var t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=sp.filterQueries(e.queries,"onSortBy"),t.groups=sp.filterQueries(e.queries,"onGroup"),t.filters=sp.filterQueries(e.queries,"onWhere"),t.searches=sp.filterQueries(e.queries,"onSearch"),t.aggregates=sp.filterQueries(e.queries,"onAggregates"),t},t.prototype.addParams=function(e){var t=e.reqParams;e.params.length&&(t.params={});for(var i=0,n=e.params;i<n.length;i++){var r=n[i];if(t[r.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[r.key]=r.value,r.fn&&(t[r.key]=r.fn.call(e.query,r.key,e.query,e.dm)),t.params[r.key]=t[r.key]}},t}(hp),pp=function(e){function t(t){var i=e.call(this)||this;return i.options=Eo({},i.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),Eo(i.options,t||{}),i}return ap(t,e),t.prototype.getModuleName=function(){return"ODataAdaptor"},t.prototype.onPredicate=function(e,i,n){var r,s,o="",a=e.value,l=typeof a,h=e.field?t.getField(e.field):null;if(a instanceof Date&&(a="datetime'"+bp.parse.replacer(a)+"'"),"string"===l&&(a=a.replace(/'/g,"''"),e.ignoreCase&&(a=a.toLowerCase()),"like"!==e.operator&&(a=encodeURIComponent(a)),"wildcard"!==e.operator&&"like"!==e.operator&&(a="'"+a+"'"),n&&(h="cast("+h+", 'Edm.String')"),bp.parse.isGuid(a)&&(s="guid"),e.ignoreCase&&(s||(h="tolower("+h+")"),a=a.toLowerCase())),"isempty"===e.operator||"isnull"===e.operator||"isnotempty"===e.operator||"isnotnull"===e.operator?(r=-1!==e.operator.indexOf("isnot")?bp.odBiOperator.notequal:bp.odBiOperator.equal,a="isnull"===e.operator||"isnotnull"===e.operator?null:"''"):r=bp.odBiOperator[e.operator],r)return o+=h,o+=r,s&&(o+=s),o+a;if("like"===(r=ko(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?bp.odUniOperator[e.operator]:bp.odv4UniOperator[e.operator]))-1!==a.indexOf("%")&&("%"===a.charAt(0)&&a.lastIndexOf("%")<2?(a=a.substring(1,a.length),r=ko(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?bp.odUniOperator.startswith:bp.odv4UniOperator.startswith):"%"===a.charAt(a.length-1)&&a.indexOf("%")>a.length-3?(a=a.substring(0,a.length-1),r=ko(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?bp.odUniOperator.endswith:bp.odv4UniOperator.endswith):a.lastIndexOf("%")!==a.indexOf("%")&&a.lastIndexOf("%")>a.indexOf("%")+1?(a=a.substring(a.indexOf("%")+1,a.lastIndexOf("%")),r=ko(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?bp.odUniOperator.contains:bp.odv4UniOperator.contains):r=ko(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?bp.odUniOperator.contains:bp.odv4UniOperator.contains),a="'"+(a=encodeURIComponent(a))+"'";else if("wildcard"===r)if(-1!==a.indexOf("*")){var c=a.split("*"),u=void 0,p=0;if(0!==a.indexOf("*")&&-1===c[0].indexOf("%3f")&&-1===c[0].indexOf("?")&&(u="'"+(u=c[0])+"'",o+=(r=ko(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?bp.odUniOperator.startswith:bp.odv4UniOperator.startswith)+"(",o+=h+",",s&&(o+=s),o+=u+")",p++),a.lastIndexOf("*")!==a.length-1&&-1===c[c.length-1].indexOf("%3f")&&-1===c[c.length-1].indexOf("?")&&(u="'"+(u=c[c.length-1])+"'",p>0&&(o+=" and "),o+=(r=ko(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?bp.odUniOperator.endswith:bp.odv4UniOperator.endswith)+"(",o+=h+",",s&&(o+=s),o+=u+")",p++),c.length>2)for(var d=1;d<c.length-1;d++)if(-1===c[d].indexOf("%3f")&&-1===c[d].indexOf("?")){if(u="'"+(u=c[d])+"'",p>0&&(o+=" and "),"substringof"===(r=ko(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?bp.odUniOperator.contains:bp.odv4UniOperator.contains)||"not substringof"===r){var f=u;u=h,h=f}o+=r+"(",o+=h+",",s&&(o+=s),o+=u+")",p++}0===p?(r=ko(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?bp.odUniOperator.contains:bp.odv4UniOperator.contains,-1===a.indexOf("?")&&-1===a.indexOf("%3f")||(a=-1!==a.indexOf("?")?a.split("?").join(""):a.split("%3f").join("")),a="'"+a+"'"):r="wildcard"}else r=ko(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?bp.odUniOperator.contains:bp.odv4UniOperator.contains,-1===a.indexOf("?")&&-1===a.indexOf("%3f")||(a=-1!==a.indexOf("?")?a.split("?").join(""):a.split("%3f").join("")),a="'"+a+"'";if("substringof"===r||"not substringof"===r){f=a;a=h,h=f}return"wildcard"!==r&&(o+=r+"(",o+=h+",",s&&(o+=s),o+=a+")"),o},t.prototype.addParams=function(t){e.prototype.addParams.call(this,t),delete t.reqParams.params},t.prototype.onComplexPredicate=function(e,t,i){for(var n=[],r=0;r<e.predicates.length;r++)n.push("("+this.onEachWhere(e.predicates[r],t,i)+")");return n.join(" "+e.condition+" ")},t.prototype.onEachWhere=function(e,t,i){return e.isComplex?this.onComplexPredicate(e,t,i):this.onPredicate(e,t,i)},t.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},t.prototype.onEachSearch=function(e){e.fields&&0===e.fields.length&&bp.throwError("Query() - Search : oData search requires list of field names to search");for(var t=this.pvt.search||[],i=0;i<e.fields.length;i++)t.push(new op(e.fields[i],e.operator,e.key,e.ignoreCase));this.pvt.search=t},t.prototype.onSearch=function(e){return this.pvt.search=op.or(this.pvt.search),""},t.prototype.onEachSort=function(e){var i=[];if(e.name instanceof Array)for(var n=0;n<e.name.length;n++)i.push(t.getField(e.name[n])+("descending"===e.direction?" desc":""));else i.push(t.getField(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},t.prototype.onSortBy=function(e){return e.reverse().join(",")},t.prototype.onGroup=function(e){return this.pvt.groups=e,[]},t.prototype.onSelect=function(e){for(var i=0;i<e.length;i++)e[i]=t.getField(e[i]);return e.join(",")},t.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},t.prototype.onCount=function(e){return!0===e?"allpages":""},t.prototype.beforeSend=function(e,t,i){bp.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()?(t.headers.set("Accept",this.options.multipartAccept),t.headers.set("DataServiceVersion","2.0")):t.headers.set("Accept",this.options.accept),t.headers.set("DataServiceVersion","2.0"),t.headers.set("MaxDataServiceVersion","2.0")},t.prototype.processResponse=function(e,t,i,n,r,s){var o="odata.metadata";if(r&&"GET"===r.type&&!this.rootUrl&&e[o]){var a=e[o].split("/$metadata#");this.rootUrl=a[0],this.resourceTableName=a[1]}if(!ko(e.d)){var l=i&&i.isCountRequired?e.d.results:e.d,h="__metadata";if(!ko(l))for(var c=0;c<l.length;c++)ko(l[c][h])||delete l[c][h]}var u=r&&r.pvtData,p=this.processBatchResponse(e,i,n,r,s);if(p)return p;var d=n&&r.fetchRequest.headers.get("DataServiceVersion"),f=null,g=d&&parseInt(d,10)||2;if(i&&i.isCountRequired){var m="__count";(e[m]||e["odata.count"])&&(f=e[m]||e["odata.count"]),e.d&&(e=e.d),(e[m]||e["odata.count"])&&(f=e[m]||e["odata.count"])}3===g&&e.value&&(e=e.value),e.d&&(e=e.d),g<3&&e.results&&(e=e.results);var y={};return y.count=f,y.result=e,this.getAggregateResult(u,e,y,null,i),bp.isNull(f)?y.result:{result:y.result,count:y.count,aggregates:y.aggregates}},t.prototype.convertToQueryString=function(e,t,i){var n=[],r="table",s=e[r]||"";delete e[r],i.dataSource.requiresFormat&&(e.$format="json");for(var o=0,a=Object.keys(e);o<a.length;o++){var l=a[o];n.push(l+"="+e[l])}return n=n.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!s?n:n.length?s+"?"+n:s||""},t.prototype.localTimeReplacer=function(e,t){for(var i=0,n=ko(t)?[]:Object.keys(t);i<n.length;i++){var r=n[i];t[r]instanceof Date&&(t[r]=bp.dateParse.toLocalTime(t[r]))}return t},t.prototype.insert=function(e,t,i){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}},t.prototype.remove=function(e,t,i,n){var r;return r="string"!==typeof i||bp.parse.isGuid(i)?"("+i+")":"('"+i+"')",{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:"")+r}},t.prototype.update=function(e,t,i,n,r,s){var o;return"PATCH"!==this.options.updateType||ko(s)||(i=this.compareAndRemove(i,s,t)),o="string"!==typeof i[t]||bp.parse.isGuid(i[t])?"("+i[t]+")":"('"+i[t]+"')",{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:"")+o,data:JSON.stringify(i,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},t.prototype.batchRequest=function(e,t,i,n,r){var s=i.guid=bp.getGuid(this.options.batchPre),o=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);i.url=this.resourceTableName?this.resourceTableName:i.url;var a={url:i.url,key:i.key,cid:1,cSet:bp.getGuid(this.options.changeSet)},l="--"+s+"\n";return l+="Content-Type: multipart/mixed; boundary="+a.cSet.replace("--","")+"\n",this.pvt.changeSet=0,l+=this.generateInsertRequest(t.addedRecords,a,e),l+=this.generateUpdateRequest(t.changedRecords,a,e,r?r.changedRecords:[]),l+=this.generateDeleteRequest(t.deletedRecords,a,e),l+=a.cSet+"--\n",{type:"POST",url:o,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+s,data:l+="--"+s+"--"}},t.prototype.generateDeleteRequest=function(e,t,i){if(!e)return"";var n={method:"DELETE ",url:function(e,t,i){var n=bp.getObject(i,e[t]);return"number"===typeof n||bp.parse.isGuid(n)?"("+n+")":n instanceof Date?"("+e[t][i].toJSON()+")":"('"+n+"')"},data:function(e,t){return""}};return this.generateBodyContent(e,t,n,i)+"\n"},t.prototype.generateInsertRequest=function(e,t,i){if(!e)return"";var n={method:"POST ",url:function(e,t,i){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return this.generateBodyContent(e,t,n,i)},t.prototype.generateUpdateRequest=function(e,t,i,n){var r=this;if(!e)return"";e.forEach((function(e){return e=r.compareAndRemove(e,n.filter((function(i){return bp.getObject(t.key,i)===bp.getObject(t.key,e)}))[0],t.key)}));var s={method:this.options.updateType+" ",url:function(e,t,i){return"number"===typeof e[t][i]||bp.parse.isGuid(e[t][i])?"("+e[t][i]+")":e[t][i]instanceof Date?"("+e[t][i].toJSON()+")":"('"+e[t][i]+"')"},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return this.generateBodyContent(e,t,s,i)},t.getField=function(e){return e.replace(/\./g,"/")},t.prototype.generateBodyContent=function(e,t,i,n){for(var r="",s=0;s<e.length;s++)r+="\n"+t.cSet+"\n",r+=this.options.changeSetContent+"\n\n",r+=i.method,"POST "===i.method?r+=(n.dataSource.insertUrl||n.dataSource.crudUrl||t.url)+i.url(e,s,t.key)+" HTTP/1.1\n":"PUT "===i.method||"PATCH "===i.method?r+=(n.dataSource.updateUrl||n.dataSource.crudUrl||t.url)+i.url(e,s,t.key)+" HTTP/1.1\n":"DELETE "===i.method&&(r+=(n.dataSource.removeUrl||n.dataSource.crudUrl||t.url)+i.url(e,s,t.key)+" HTTP/1.1\n"),r+="Accept: "+this.options.accept+"\n",r+="Content-Id: "+this.pvt.changeSet+++"\n",r+=this.options.batchChangeSetContentType+"\n",ko(e[s]["@odata.etag"])?r+="\n":(r+="If-Match: "+e[s]["@odata.etag"]+"\n\n",delete e[s]["@odata.etag"]),r+=i.data(e,s);return r},t.prototype.processBatchResponse=function(e,t,i,n,r){if(i&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(n&&this.options.batch&&bp.endsWith(n.url,this.options.batch)&&"post"===n.type.toLowerCase()){var s=i.headers.get("Content-Type"),o=void 0,a=void 0,l=e+"";if(s=s.substring(s.indexOf("=batchresponse")+1),(l=l.split(s)).length<2)return{};l=l[1];var h=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(l);h&&l.replace(h[0],"");for(var c=h?h[1]:"",u=(l=l.split(c)).length;u>-1;u--)/\bContent-ID:/i.test(l[u])&&/\bHTTP.+201/.test(l[u])&&(o=parseInt(/\bContent-ID: (\d+)/i.exec(l[u])[1],10),r.addedRecords[o]&&(a=bp.parse.parseJson(/^\{.+\}/m.exec(l[u])[0]),Eo({},r.addedRecords[o],this.processResponse(a))));return r}return null},t.prototype.compareAndRemove=function(e,t,i){var n=this;return ko(t)||Object.keys(e).forEach((function(r){r!==i&&"@odata.etag"!==r&&(bp.isPlainObject(e[r])?(n.compareAndRemove(e[r],t[r]),0===Object.keys(e[r]).filter((function(e){return"@odata.etag"!==e})).length&&delete e[r]):(e[r]===t[r]||e[r]&&t[r]&&e[r].valueOf()===t[r].valueOf())&&delete e[r])})),e},t}(up),dp=(function(e){function t(t){var i=e.call(this,t)||this;return i.options=Eo({},i.options,{requestType:"get",accept:"application/json, text/javascript, */*; q=0.01",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PATCH",localTime:!1,apply:"$apply"}),Eo(i.options,t||{}),i}ap(t,e),t.prototype.getModuleName=function(){return"ODataV4Adaptor"},t.prototype.onCount=function(e){return!0===e?"true":""},t.prototype.onPredicate=function(t,i,n){var r="",s=t.value,o=s instanceof Date;if(i instanceof sp)for(var a=this.getQueryRequest(i),l=0;l<a.filters.length;l++)a.filters[l].e.key===t.value&&(n=!0);return r=e.prototype.onPredicate.call(this,t,i,n),o&&(r=r.replace(/datetime'(.*)'$/,"$1")),bp.parse.isGuid(s)&&(r=r.replace("guid","").replace(/'/g,"")),r},t.prototype.onEachSearch=function(e){var t=this.pvt.searches||[];t.push(e.key),this.pvt.searches=t},t.prototype.onSearch=function(e){return this.pvt.searches.join(" OR ")},t.prototype.onExpand=function(e){var t=this,i={},n={},r=e.expands.slice(),s=[];return e.selects.filter((function(e){return e.indexOf(".")>-1})).forEach((function(e){var n=e.split(".");if(n[0]in i||(i[n[0]]=[]),2===n.length)i[n[0]].length&&-1!==Object.keys(i).indexOf(n[0])?-1!==i[n[0]][0].indexOf("$expand")&&-1===i[n[0]][0].indexOf(";$select=")?i[n[0]][0]=i[n[0]][0]+";$select="+n[1]:i[n[0]][0]=i[n[0]][0]+","+n[1]:i[n[0]].push("$select="+n[1]);else{for(var r="$select="+n[n.length-1],s="",o="",a=1;a<n.length-1;a++)s=s+"$expand="+n[a]+"(",o+=")";var l=s+r+o;if(i[n[0]].length&&-1!==Object.keys(i).indexOf(n[0])&&t.expandQueryIndex(i[n[0]],!0)){var h=t.expandQueryIndex(i[n[0]]);i[n[0]][h]=i[n[0]][h]+l.replace("$expand=",",")}else i[n[0]].push(l)}})),Object.keys(i).forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r.forEach((function(e){n[e]=e in i?e+"("+i[e].join(";")+")":e})),Object.keys(n).forEach((function(e){return s.push(n[e])})),s.join(",")},t.prototype.expandQueryIndex=function(e,t){for(var i=0;i<e.length;i++)if(-1!==e[i].indexOf("$expand"))return!!t||i;return!t&&0},t.prototype.onDistinct=function(e){return"groupby(("+e.map((function(e){return pp.getField(e)})).join(",")+"))"},t.prototype.onSelect=function(t){return e.prototype.onSelect.call(this,t.filter((function(e){return-1===e.indexOf(".")})))},t.prototype.beforeSend=function(e,t,i){"POST"!==i.type&&"PUT"!==i.type&&"PATCH"!==i.type||t.headers.set("Prefer","return=representation"),t.headers.set("Accept",this.options.accept)},t.prototype.processResponse=function(t,i,n,r,s,o){var a="@odata.context",l="@context";if(s&&"GET"===s.type&&!this.rootUrl&&(t[a]||t[l])){var h=t[a]?t[a].split("/$metadata#"):t[l].split("/$metadata#");this.rootUrl=h[0],this.resourceTableName=h[1]}var c=s&&s.pvtData,u=e.prototype.processBatchResponse.call(this,t,n,r,s,o);if(u)return u;var p=null,d="@odata.count",f="@count";n&&n.isCountRequired&&(d in t?p=t[d]:f in t&&(p=t[f])),t=ko(t.value)?t:t.value;var g={};return g.count=p,g.result=t,this.getAggregateResult(c,t,g,null,n),bp.isNull(p)?g.result:{result:g.result,count:p,aggregates:g.aggregates}}}(pp),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}ap(t,e),t.prototype.getModuleName=function(){return"WebApiAdaptor"},t.prototype.insert=function(e,t,i){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},t.prototype.remove=function(e,t,i,n){return{type:"DELETE",url:e.dataSource.url+"/"+i,data:JSON.stringify(i)}},t.prototype.update=function(e,t,i,n){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(i)}},t.prototype.batchRequest=function(e,t,i){var n=this,r=i.guid=bp.getGuid(this.options.batchPre),s=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);i.url=this.resourceTableName?this.resourceTableName:i.url;for(var o=[],a=function(n,s){t.addedRecords.forEach((function(s,a){var l=function(e,t,i){return""};o.push("--"+r),o.push("Content-Type: application/http; msgtype=request",""),o.push("POST /api/"+(e.dataSource.insertUrl||e.dataSource.crudUrl||i.url)+l(t.addedRecords,n,i.key)+" HTTP/1.1"),o.push("Content-Type: application/json; charset=utf-8"),o.push("Host: "+location.host),o.push("",s?JSON.stringify(s):"")}))},l=0,h=t.addedRecords.length;l<h;l++)a(l);var c=function(s,a){t.changedRecords.forEach((function(a,l){n.options.updateType;var h=function(e,t,i){return""};o.push("--"+r),o.push("Content-Type: application/http; msgtype=request",""),o.push("PUT /api/"+(e.dataSource.updateUrl||e.dataSource.crudUrl||i.url)+h(t.changedRecords,s,i.key)+" HTTP/1.1"),o.push("Content-Type: application/json; charset=utf-8"),o.push("Host: "+location.host),o.push("",a?JSON.stringify(a):"")}))};for(l=0,h=t.changedRecords.length;l<h;l++)c(l);var u=function(n,s){t.deletedRecords.forEach((function(s,a){var l=function(e,t,i){var n=bp.getObject(i,e[t]);return"number"===typeof n||bp.parse.isGuid(n)?"/"+n:n instanceof Date?"/"+e[t][i].toJSON():"/'"+n+"'"};o.push("--"+r),o.push("Content-Type: application/http; msgtype=request",""),o.push("DELETE /api/"+(e.dataSource.removeUrl||e.dataSource.crudUrl||i.url)+l(t.deletedRecords,n,i.key)+" HTTP/1.1"),o.push("Content-Type: application/json; charset=utf-8"),o.push("Host: "+location.host),o.push("",s?JSON.stringify(s):"")}))};for(l=0,h=t.deletedRecords.length;l<h;l++)u(l);return o.push("--"+r+"--",""),{type:"POST",url:s,contentType:"multipart/mixed; boundary="+r,data:o.join("\r\n")}},t.prototype.beforeSend=function(e,t,i){t.headers.set("Accept","application/json, text/javascript, */*; q=0.01")},t.prototype.processResponse=function(e,t,i,n,r,s){var o=r&&r.pvtData,a=null,l={};if(r&&"post"!==r.type.toLowerCase()){var h=n&&r.fetchRequest.headers.get("DataServiceVersion"),c=h&&parseInt(h,10)||2;i&&i.isCountRequired&&(bp.isNull(e.Count)||(a=e.Count)),c<3&&e.Items&&(e=e.Items),l.count=a,l.result=e,this.getAggregateResult(o,e,l,null,i)}return l.result=l.result||e,bp.isNull(a)?l.result:{result:l.result,count:l.count,aggregates:l.aggregates}}}(pp),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}ap(t,e),t.prototype.processQuery=function(e,t,i){var n=(new up).processQuery(e,t,i),r=bp.parse.parseJson(n.data),s={};if(r.param)for(var o=0;o<r.param.length;o++){var a=r.param[o],l=Object.keys(a)[0];s[l]=a[l]}s.value=r;return{data:JSON.stringify(s),url:n.url,pvtData:n.pvtData,type:"POST",contentType:"application/json; charset=utf-8"}}}(up),function(e){function t(){var t=e.call(this)||this;return Co("beforeSend",up.prototype.beforeSend,t),t}return ap(t,e),t.prototype.insert=function(e,t,i,n,r){return this.pvt.position=r,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Eo({},{value:t,table:i,action:"insert"},bp.getAddParams(this,e,n)))}},t.prototype.remove=function(t,i,n,r,s){return e.prototype.remove.call(this,t,i,n),{type:"POST",url:t.dataSource.removeUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(Eo({},{key:n,keyColumn:i,table:r,action:"remove"},bp.getAddParams(this,t,s)))}},t.prototype.update=function(e,t,i,n,r){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Eo({},{value:i,action:"update",keyColumn:t,key:i[t],table:n},bp.getAddParams(this,e,r)))}},t.prototype.processResponse=function(t,i,n,r,s,o,a){var l;if(t="batch"===(s?JSON.parse(s.data):t).action?bp.parse.parseJson(t):t,"add"===this.updateType&&e.prototype.insert.call(this,i,t,null,null,this.pvt.position),"update"===this.updateType&&e.prototype.update.call(this,i,this.updateKey,t),this.updateType=void 0,t.added)for(l=0;l<t.added.length;l++)e.prototype.insert.call(this,i,t.added[l]);if(t.changed)for(l=0;l<t.changed.length;l++)e.prototype.update.call(this,i,a.key,t.changed[l]);if(t.deleted)for(l=0;l<t.deleted.length;l++)e.prototype.remove.call(this,i,a.key,t.deleted[l]);return t},t.prototype.batchRequest=function(e,t,i,n,r){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(Eo({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i.url,key:i.key},bp.getAddParams(this,e,n)))}},t.prototype.addParams=function(e){(new up).addParams(e)},t}(cp)),fp=function(e){function t(t){var i=e.call(this)||this;return i.options=Eo({},i.options,{getData:new Function,addRecord:new Function,updateRecord:new Function,deleteRecord:new Function,batchUpdate:new Function}),Eo(i.options,t||{}),i}return ap(t,e),t.prototype.getModuleName=function(){return"CustomDataAdaptor"},t}(up),gp=(function(e){function t(t){var i=e.call(this)||this;return i.opt=t,i.schema=i.opt.response,i.query=i.opt.query,i.getVariables=i.opt.getVariables?i.opt.getVariables:function(){},i.getQuery=function(){return i.query},i}ap(t,e),t.prototype.getModuleName=function(){return"GraphQLAdaptor"},t.prototype.processQuery=function(t,i){var n=e.prototype.processQuery.apply(this,arguments),r=JSON.parse(n.data),s={};["skip","take","sorted","table","select","where","search","requiresCounts","aggregates","params"].filter((function(e){s[e]="searchwhereparams".indexOf(e)>-1?JSON.stringify(r[e]):r[e]}));var o=this.getVariables()||{};o.datamanager=s;var a=JSON.stringify({query:this.getQuery(),variables:o});return n.data=a,n},t.prototype.processResponse=function(e,t,i,n,r){var s,o,a=e,l=No(this.schema.result,a.data);this.schema.count&&(s=No(this.schema.count,a.data)),this.schema.aggregates&&(o=ko(o=No(this.schema.aggregates,a.data))?o:bp.parse.parseJson(o));var h=r.pvtData||{},c={result:l,aggregates:o},u=c;return h&&h.groups&&h.groups.length&&this.getAggregateResult(h,u,c,null,i),ko(s)?c.result:{result:c.result,count:s,aggregates:o}},t.prototype.insert=function(){var t=e.prototype.insert.apply(this,arguments);return this.generateCrudData(t,"insert")},t.prototype.update=function(){var t=e.prototype.update.apply(this,arguments);return this.generateCrudData(t,"update")},t.prototype.remove=function(){var t=e.prototype.remove.apply(this,arguments);return this.generateCrudData(t,"remove")},t.prototype.batchRequest=function(t,i,n,r,s){var o=e.prototype.batchRequest.apply(this,arguments),a=JSON.parse(o.data);return a.key=n.key,o.data=JSON.stringify(a),this.generateCrudData(o,"batch")},t.prototype.generateCrudData=function(e,t){var i=JSON.parse(e.data);return e.data=JSON.stringify({query:this.opt.getMutation(t),variables:i}),e}}(up),function(e){function t(t,i,n){var r=e.call(this)||this;r.isCrudAction=!1,r.isInsertAction=!1,ko(t)||(r.cacheAdaptor=t),r.pageSize=n,r.guidId=bp.getGuid("cacheAdaptor");window.localStorage.setItem(r.guidId,JSON.stringify({keys:[],results:[]}));var s=r.guidId;return ko(i)||setInterval((function(){for(var e=bp.parse.parseJson(window.localStorage.getItem(s)),t=[],n=0;n<e.results.length;n++){var r=+new Date,o=+new Date(e.results[n].timeStamp);e.results[n].timeStamp=r-o,r-o>i&&t.push(n)}for(n=0;n<t.length;n++)e.results.splice(t[n],1),e.keys.splice(t[n],1);window.localStorage.removeItem(s),window.localStorage.setItem(s,JSON.stringify(e))}),i),r}return ap(t,e),t.prototype.generateKey=function(e,t){var i=this.getQueryRequest(t),n=sp.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),r=e,s="onPage";s in n&&(r+=n[s].pageIndex),i.sorts.forEach((function(e){r+=e.e.direction+e.e.fieldName})),i.groups.forEach((function(e){r+=e.e.fieldName})),i.searches.forEach((function(e){r+=e.e.searchKey}));for(var o=0;o<i.filters.length;o++){var a=i.filters[o];if(a.e.isComplex){var l=t.clone();l.queries=[];for(var h=0;h<a.e.predicates.length;h++)l.queries.push({fn:"onWhere",e:a.e.predicates[h],filter:t.queries.filter});r+=a.e.condition+this.generateKey(e,l)}else r+=a.e.field+a.e.operator+a.e.value}return r},t.prototype.processQuery=function(e,t,i){var n=this.generateKey(e.dataSource.url,t),r=bp.parse.parseJson(window.localStorage.getItem(this.guidId)),s=r?r.results[r.keys.indexOf(n)]:null;return null==s||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):s},t.prototype.processResponse=function(e,t,i,n,r,s){if(this.isInsertAction||r&&this.cacheAdaptor.options.batch&&bp.endsWith(r.url,this.cacheAdaptor.options.batch)&&"post"===r.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,i,n,r,s);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var o=i?this.generateKey(t.dataSource.url,i):t.dataSource.url,a={},l=(a=bp.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(o);for(-1!==l&&(a.results.splice(l,1),a.keys.splice(l,1)),a.results[a.keys.push(o)-1]={keys:o,result:e.result,timeStamp:new Date,count:e.count};a.results.length>this.pageSize;)a.results.splice(0,1),a.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(a)),e},t.prototype.beforeSend=function(e,t,i){!ko(this.cacheAdaptor.options.batch)&&bp.endsWith(i.url,this.cacheAdaptor.options.batch)&&"post"===i.type.toLowerCase()&&t.headers.set("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.headers.set("Accept",this.cacheAdaptor.options.accept)},t.prototype.update=function(e,t,i,n){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,i,n)},t.prototype.insert=function(e,t,i){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,i)},t.prototype.remove=function(e,t,i,n){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,i,n)},t.prototype.batchRequest=function(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)},t}(up)),mp=function(){function e(e,t,i){var n,r=this;return this.dateParse=!0,this.timeZoneHandling=!0,this.persistQuery={},this.isInitialLoad=!1,this.requests=[],this.isInitialLoad=!0,e||this.dataSource||(e=[]),i=i||e.adaptor,e&&!1===e.timeZoneHandling&&(this.timeZoneHandling=e.timeZoneHandling),e instanceof Array?n={json:e,offline:!0}:"object"===typeof e?(e.json||(e.json=[]),e.enablePersistence||(e.enablePersistence=!1),e.id||(e.id=""),e.ignoreOnPersist||(e.ignoreOnPersist=[]),n={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof dp||e.adaptor instanceof fp)&&!e.url,requiresFormat:e.requiresFormat,enablePersistence:e.enablePersistence,id:e.id,ignoreOnPersist:e.ignoreOnPersist}):bp.throwError("DataManager: Invalid arguments"),void 0!==n.requiresFormat||bp.isCors()||(n.requiresFormat=!!ko(n.crossDomain)||n.crossDomain),void 0===n.dataType&&(n.dataType="json"),this.dataSource=n,this.defaultQuery=t,this.dataSource.enablePersistence&&this.dataSource.id&&window.addEventListener("unload",this.setPersistData.bind(this)),n.url&&n.offline&&!n.json.length?(this.isDataAvailable=!1,this.adaptor=i||new pp,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new sp),this.ready.then((function(e){r.dataSource.offline=!0,r.isDataAvailable=!0,n.json=e.result,r.adaptor=new cp}))):this.adaptor=n.offline?new cp:new pp,!n.jsonp&&this.adaptor instanceof pp&&(n.jsonp="callback"),this.adaptor=i||this.adaptor,n.enableCaching&&(this.adaptor=new gp(this.adaptor,n.timeTillExpiration,n.cachingPageSize)),this}return e.prototype.getPersistedData=function(e){var t=localStorage.getItem(e||this.dataSource.id);return JSON.parse(t)},e.prototype.setPersistData=function(e,t,i){localStorage.setItem(t||this.dataSource.id,JSON.stringify(i||this.persistQuery))},e.prototype.setPersistQuery=function(e){var t=this,i=this.getPersistedData();if(this.isInitialLoad&&i&&Object.keys(i).length){this.persistQuery=i,this.persistQuery.queries=this.persistQuery.queries.filter((function(e){if(t.dataSource.ignoreOnPersist&&t.dataSource.ignoreOnPersist.length&&e.fn&&t.dataSource.ignoreOnPersist.some((function(t){return e.fn===t})))return!1;if("onWhere"===e.fn){var i=e.e;if(i&&i.isComplex&&i.predicates instanceof Array){var n=i.predicates.map((function(e){if(e.predicates&&e.predicates instanceof Array){var t=e.predicates.map((function(e){var t=e.field,i=e.operator,n=e.value,r=e.ignoreCase,s=e.ignoreAccent,o=e.matchCase;return new op(t,i,n,r,s,o)}));return"and"===e.condition?op.and(t):op.or(t)}var i=e.field,n=e.operator,r=e.value,s=e.ignoreCase,o=e.ignoreAccent,a=e.matchCase;return new op(i,n,r,s,o,a)}));e.e=new op(n[0],i.condition,n.slice(1))}}return!0}));var n=Eo(new sp,this.persistQuery);return this.isInitialLoad=!1,n}return this.persistQuery=e,this.isInitialLoad=!1,e},e.prototype.setDefaultQuery=function(e){return this.defaultQuery=e,this},e.prototype.executeLocal=function(t){this.defaultQuery||t instanceof sp||bp.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||bp.throwError("DataManager - executeLocal() : Json data is required to execute"),this.dataSource.enablePersistence&&this.dataSource.id&&(t=this.setPersistQuery(t)),t=t||this.defaultQuery;var i=this.adaptor.processQuery(this,t);if(t.subQuery){var n=t.subQuery.fromTable,r=t.subQuery.lookups,s=t.isCountRequired?i.result:i;r&&r instanceof Array&&bp.buildHierarchy(t.subQuery.fKey,n,s,r,t.subQuery.key);for(var o=0;o<s.length;o++)s[o][n]instanceof Array&&(s[o]=Eo({},{},s[o]),s[o][n]=this.adaptor.processResponse(t.subQuery.using(new e(s[o][n].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(i,this,t)},e.prototype.executeQuery=function(t,i,n,r){var s=this,o="makeRequest";this.dataSource.enablePersistence&&this.dataSource.id&&(t=this.setPersistQuery(t)),"function"===typeof t&&(r=n,n=i,i=t,t=null),t||(t=this.defaultQuery),t instanceof sp||bp.throwError("DataManager - executeQuery() : A query is required to execute");var a=new yp,l={query:t};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!ko(this.adaptor[o])||this.isCustomDataAdaptor(this.adaptor)){var h=this.adaptor.processQuery(this,t);ko(this.adaptor[o])?!ko(h.url)||this.isCustomDataAdaptor(this.adaptor)?(this.requests=[],this.makeRequest(h,a,l,t)):(l=e.getDeferedArgs(t,h,l),a.resolve(l)):this.adaptor[o](h,a,l,t)}else e.nextTick((function(){var i=s.executeLocal(t);l=e.getDeferedArgs(t,i,l),a.resolve(l)}));return(i||n)&&a.promise.then(i,n),r&&a.promise.then(r,r),a.promise},e.getDeferedArgs=function(e,t,i){return e.isCountRequired?(i.result=t.result,i.count=t.count,i.aggregates=t.aggregates):i.result=t,i},e.nextTick=function(e){(window.setImmediate||window.setTimeout)(e,0)},e.prototype.extendRequest=function(e,t,i){return Eo({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:i},e)},e.prototype.makeRequest=function(e,t,i,n){var r=this,s=!!n.subQuerySelector,o=function(e){i.error=e,t.reject(i)},a=function(e,n,r,s,o,a,l){i.xhr=r,i.count=n?parseInt(n.toString(),10):0,i.result=e,i.request=s,i.aggregates=a,i.actual=o,i.virtualSelectRecords=l,t.resolve(i)},l=function(e,t){var l=new yp,h={parent:i};n.subQuery.isChild=!0;var c=r.adaptor.processQuery(r,n.subQuery,e?r.adaptor.processResponse(e):t),u=r.makeRequest(c,l,h,n.subQuery);return s||l.then((function(t){e&&(bp.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,e,t,n.subQuery.key),a(e,t.count,t.xhr))}),o),u},h=this.extendRequest(e,(function(e,t){if(r.isGraphQLAdaptor(r.adaptor)&&!ko(e.errors))return o(e.errors);r.isCustomDataAdaptor(r.adaptor)&&(t=Eo({},r.fetchReqOption,t)),-1===t.contentType.indexOf("xml")&&r.dateParse&&(e=bp.parse.parseJson(e));var i=r.adaptor.processResponse(e,r,n,t.fetchRequest,t),h=0,c=null,u=e.virtualSelectRecords;n.isCountRequired&&(h=i.count,c=i.aggregates,i=i.result),n.subQuery?s||l(i,t):a(i,h,t.fetchRequest,t.type,e,c,u)}),o);if(this.isCustomDataAdaptor(this.adaptor)){this.fetchReqOption=h;var c=h;this.adaptor.options.getData({data:c.data,onSuccess:c.onSuccess,onFailure:c.onFailure})}else{var u=new Na(h);u.beforeSend=function(){r.beforeSend(u.fetchRequest,u)},(h=u.send()).catch((function(e){return!0})),this.requests.push(u)}if(s){var p=n.subQuerySelector.call(this,{query:n.subQuery,parent:n});p&&p.length?Promise.all([h,l(null,p)]).then((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],o=r.adaptor.processResponse(i[0],r,n,r.requests[0].fetchRequest,r.requests[0]),l=0;n.isCountRequired&&(l=o.count,o=o.result);var h=r.adaptor.processResponse(i[1],r,n.subQuery,r.requests[1].fetchRequest,r.requests[1]);l=0,n.subQuery.isCountRequired&&(l=h.count,h=h.result),bp.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,o,h,n.subQuery.key),s=!1,a(o,l,r.requests[0].fetchRequest)})):s=!1}return h},e.prototype.beforeSend=function(e,t){this.adaptor.beforeSend(this,e,t);for(var i,n=this.dataSource.headers,r=0;n&&r<n.length;r++){i=[];for(var s=0,o=Object.keys(n[r]);s<o.length;s++){var a=o[s];i.push(a),e.headers.set(a,n[r][a])}}},e.prototype.saveChanges=function(e,t,i,n,r){var s=this;i instanceof sp&&(n=i,i=null);var o={url:i,key:t||this.dataSource.key},a=this.adaptor.batchRequest(this,e,o,n||new sp,r),l="dofetchRequest";if(this.dataSource.offline)return a;if(ko(this.adaptor[l])){if(this.isCustomDataAdaptor(this.adaptor))return this.dofetchRequest(a,this.adaptor.options.batchUpdate);var h=new yp,c=new Na(a);return c.beforeSend=function(){s.beforeSend(c.fetchRequest,c)},c.onSuccess=function(t,i){s.isGraphQLAdaptor(s.adaptor)&&(ko(t.errors)||c.onFailure(JSON.stringify(t.errors))),h.resolve(s.adaptor.processResponse(t,s,null,i.fetchRequest,i,e,o))},c.onFailure=function(e){h.reject([{error:e}])},c.send().catch((function(e){return!0})),h.promise}return this.adaptor[l](a)},e.prototype.insert=function(e,t,i,n){t instanceof sp&&(i=t,t=null);var r=this.adaptor.insert(this,e,t,i,n),s="dofetchRequest";return this.dataSource.offline?r:ko(this.adaptor[s])?this.dofetchRequest(r,this.adaptor.options.addRecord):this.adaptor[s](r)},e.prototype.remove=function(e,t,i,n){"object"===typeof t&&(t=bp.getObject(e,t)),i instanceof sp&&(n=i,i=null);var r=this.adaptor.remove(this,e,t,i,n),s="dofetchRequest";if(this.dataSource.offline)return r;if(ko(this.adaptor[s])){var o=this.adaptor.options.deleteRecord;return this.dofetchRequest(r,o)}return this.adaptor[s](r)},e.prototype.update=function(e,t,i,n,r){i instanceof sp&&(n=i,i=null);var s=this.adaptor.update(this,e,t,i,n,r),o="dofetchRequest";if(this.dataSource.offline)return s;if(ko(this.adaptor[o])){var a=this.adaptor.options.updateRecord;return this.dofetchRequest(s,a)}return this.adaptor[o](s)},e.prototype.isCustomDataAdaptor=function(e){return this.adaptor.getModuleName&&"CustomDataAdaptor"===this.adaptor.getModuleName()},e.prototype.isGraphQLAdaptor=function(e){return this.adaptor.getModuleName&&"GraphQLAdaptor"===this.adaptor.getModuleName()},e.prototype.successFunc=function(e,t){if(this.isGraphQLAdaptor(this.adaptor)){var i=JSON.parse(e);ko(i.errors)||this.failureFunc(JSON.stringify(i.errors))}this.isCustomDataAdaptor(this.adaptor)&&(t=Eo({},this.fetchReqOption,t));try{bp.parse.parseJson(e)}catch(lE){e=[]}e=this.adaptor.processResponse(bp.parse.parseJson(e),this,null,t.fetchRequest,t),this.fetchDeffered.resolve(e)},e.prototype.failureFunc=function(e){this.fetchDeffered.reject([{error:e}])},e.prototype.dofetchRequest=function(e,t){var i=this;if(e=Eo({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e),this.fetchDeffered=new yp,this.isCustomDataAdaptor(this.adaptor))this.fetchReqOption=e,t.call(this,{data:e.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this)});else{var n=new Na(e);n.beforeSend=function(){i.beforeSend(n.fetchRequest,n)},n.onSuccess=this.successFunc.bind(this),n.onFailure=this.failureFunc.bind(this),n.send().catch((function(e){return!0}))}return this.fetchDeffered.promise},e.prototype.clearPersistence=function(){window.removeEventListener("unload",this.setPersistData.bind(this)),this.dataSource.enablePersistence=!1,this.persistQuery={},window.localStorage.setItem(this.dataSource.id,"[]")},e}(),yp=function(){var e=this;this.promise=new Promise((function(t,i){e.resolve=t,e.reject=i})),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)},vp={GroupGuid:"{271bbba0-1ee7}"},bp=function(){function e(){}return e.getValue=function(e,t){return"function"===typeof e?e.call(t||{}):e},e.endsWith=function(e,t){return e.slice&&e.slice(-t.length)===t},e.notEndsWith=function(e,t){return e.slice&&e.slice(-t.length)!==t},e.startsWith=function(e,t){return e.slice(0,t.length)===t},e.notStartsWith=function(e,t){return e.slice(0,t.length)!==t},e.wildCard=function(e,t){var i,n;if(-1!==t.indexOf("[")&&(t=t.split("[").join("[[]")),-1!==t.indexOf("(")&&(t=t.split("(").join("[(]")),-1!==t.indexOf(")")&&(t=t.split(")").join("[)]")),-1!==t.indexOf("\\")&&(t=t.split("\\").join("[\\\\]")),-1!==t.indexOf("*")){"*"!==t.charAt(0)&&(t="^"+t),"*"!==t.charAt(t.length-1)&&(t+="$"),i=t.split("*");for(var r=0;r<i.length;r++)-1===i[r].indexOf(".")?i[r]=i[r]+".*":i[r]=i[r]+"*";t=i.join("")}return-1===t.indexOf("%3f")&&-1===t.indexOf("?")||(n=-1!==t.indexOf("%3f")?t.split("%3f"):t.split("?"),t=n.join(".")),new RegExp(t,"g").test(e)},e.like=function(t,i){return-1!==i.indexOf("%")&&("%"===i.charAt(0)&&i.lastIndexOf("%")<2?(i=i.substring(1,i.length),e.startsWith(e.toLowerCase(t),e.toLowerCase(i))):"%"===i.charAt(i.length-1)&&i.indexOf("%")>i.length-3?(i=i.substring(0,i.length-1),e.endsWith(e.toLowerCase(t),e.toLowerCase(i))):i.lastIndexOf("%")!==i.indexOf("%")&&i.lastIndexOf("%")>i.indexOf("%")+1?(i=i.substring(i.indexOf("%")+1,i.lastIndexOf("%")),-1!==t.indexOf(i)):-1!==t.indexOf(i))},e.fnSort=function(t){return"ascending"===(t=t?e.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending},e.fnAscending=function(e,t){return ko(e)&&ko(t)||null===t||void 0===t?-1:"string"===typeof e?e.localeCompare(t):null===e||void 0===e?1:e-t},e.fnDescending=function(e,t){return ko(e)&&ko(t)?-1:null===t||void 0===t?1:"string"===typeof e?-1*e.localeCompare(t):null===e||void 0===e?-1:t-e},e.extractFields=function(e,t){for(var i={},n=0;n<t.length;n++)i=this.setValue(t[n],this.getObject(t[n],e),i);return i},e.select=function(e,t){for(var i=[],n=0;n<e.length;n++)i.push(this.extractFields(e[n],t));return i},e.group=function(t,i,n,r,s,o,a){r=r||1;var l=t,h="GroupGuid";if(l.GroupGuid===vp[h]){for(var c=function(e){if(ko(s))l[e].items=u.group(l[e].items,i,n,l.level+1,null,o,a),l[e].count=l[e].items.length;else{var t,r=s.filter((function(t){return t.key===l[e].key}));t=s.indexOf(r[0]),l[e].items=u.group(l[e].items,i,n,l.level+1,s[t].items,o,a),l[e].count=s[t].count}},u=this,p=0;p<l.length;p++)c(p);return l.childLevels+=1,l}var d={},f=[];f.GroupGuid=vp[h],f.level=r,f.childLevels=0,f.records=l;for(var g=function(e){var t=m.getVal(l,e,i);if(ko(o)||(t=o(t,i)),!d[t]&&(d[t]={key:t,count:0,items:[],aggregates:{},field:i},f.push(d[t]),!ko(s))){var r=s.filter((function(e){return e.key===d[t].key}));d[t].count=r[0].count}d[t].count=ko(s)?d[t].count+=1:d[t].count,(!a||a&&n.length)&&d[t].items.push(l[e])},m=this,y=0;y<l.length;y++)g(y);if(n&&n.length){var v=function(t){for(var i={},r=void 0,o=n,a=0;a<n.length;a++)if(r=e.aggregates[n[a].type],ko(s))r&&(i[o[a].field+" - "+o[a].type]=r(f[t].items,o[a].field));else{var l=s.filter((function(e){return e.key===f[t].key}));r&&(i[o[a].field+" - "+o[a].type]=r(l[0].items,o[a].field))}f[t].aggregates=i};for(y=0;y<f.length;y++)v(y)}if(a&&f.length&&n.length)for(y=0;y<f.length;y++)f[y].items=[];return l.length&&f||l},e.buildHierarchy=function(e,t,i,n,r){var s,o={};for(n.result&&(n=n.result),n.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),s=0;s<n.length;s++){(o[a=this.getObject(e,n[s])]||(o[a]=[])).push(n[s])}for(s=0;s<i.length;s++){var a=this.getObject(r||e,i[s]);i[s][t]=o[a]}},e.getFieldList=function(e,t,i){if(void 0===i&&(i=""),void 0===t||null===t)return this.getFieldList(e,[],i);for(var n=e,r=0,s=Object.keys(e);r<s.length;r++){var o=s[r];"object"!==typeof n[o]||n[o]instanceof Array?t.push(i+o):this.getFieldList(n[o],t,i+o+".")}return t},e.getObject=function(e,t){if(!e)return t;if(t){if(-1===e.indexOf(".")){var i=e.charAt(0).toLowerCase()+e.slice(1),n=e.charAt(0).toUpperCase()+e.slice(1);return ko(t[e])?ko(t[i])?ko(t[n])?null:t[n]:t[i]:t[e]}for(var r=t,s=e.split("."),o=0;o<s.length&&null!=r;o++){if(void 0===(r=r[s[o]])){var a=s[o].charAt(0).toUpperCase()+s[o].slice(1);r=t[a]||t[a.charAt(0).toLowerCase()+a.slice(1)]||null}t=r}return r}},e.setValue=function(e,t,i){var n,r,s=e.toString().split("."),o=i||{},a=o,l=s.length;for(n=0;n<l;n++)r=s[n],n+1===l?a[r]=void 0===t?void 0:t:ko(a[r])&&(a[r]={}),a=a[r];return o},e.sort=function(e,t,i){if(e.length<=1)return e;var n=parseInt((e.length/2).toString(),10),r=e.slice(0,n),s=e.slice(n);return r=this.sort(r,t,i),s=this.sort(s,t,i),this.merge(r,s,t,i)},e.ignoreDiacritics=function(t){return"string"!==typeof t?t:t.split("").map((function(t){return t in e.diacritics?e.diacritics[t]:t})).join("")},e.merge=function(e,t,i,n){for(var r,s=[];e.length>0||t.length>0;)r=e.length>0&&t.length>0?n?n(this.getVal(e,0,i),this.getVal(t,0,i),e[0],t[0])<=0?e:t:e[0][i]<e[0][i]?e:t:e.length>0?e:t,s.push(r.shift());return s},e.getVal=function(e,t,i){return i?this.getObject(i,e[t]):e[t]},e.toLowerCase=function(e){return e?"string"===typeof e?e.toLowerCase():e.toString():0===e||!1===e?e.toString():""},e.callAdaptorFunction=function(e,t,i,n){if(t in e){var r=e[t](i,n);ko(r)||(i=r)}return i},e.getAddParams=function(t,i,n){var r={};return e.callAdaptorFunction(t,"addParams",{dm:i,query:n,params:n.params,reqParams:r}),r},e.isPlainObject=function(e){return!!e&&e.constructor===Object},e.isCors=function(){var e=null;try{e=new window.XMLHttpRequest}catch(lE){}return!!e&&"withCredentials"in e},e.getGuid=function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(function(e,i){if("crypto"in window&&"getRandomValues"in crypto){var n=new Uint8Array(1);window.crypto.getRandomValues(n),t=n[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===i?3&t|8:t]}))},e.isNull=function(e){return void 0===e||null===e},e.getItemFromComparer=function(t,i,n){var r,s,o,a=0,l="string"===typeof e.getVal(t,0,i);if(t.length)for(;ko(r)&&a<t.length;)r=e.getVal(t,a,i),o=t[a++];for(;a<t.length;a++)ko(s=e.getVal(t,a,i))||(l&&(r=+r,s=+s),n(r,s)>0&&(r=s,o=t[a]));return o},e.distinct=function(t,i,n){n=!ko(n)&&n;var r,s=[],o={};return t.forEach((function(a,l){(r="object"===typeof t[l]?e.getVal(t,l,i):t[l])in o||(s.push(n?t[l]:r),o[r]=1)})),s},e.processData=function(e,t){var i=this.prepareQuery(e),n=new mp(t);e.requiresCounts&&i.requiresCount();var r=n.executeLocal(i),s={result:e.requiresCounts?r.result:r,count:r.count,aggregates:JSON.stringify(r.aggregates)};return e.requiresCounts?s:r},e.prepareQuery=function(t){var i=this,n=new sp;(t.select&&n.select(t.select),t.where)&&e.parse.parseJson(t.where).filter((function(e){if(ko(e.condition))n.where(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent);else{var t=[];e.field?t.push(new op(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent)):t=t.concat(i.getPredicate(e.predicates)),"or"===e.condition?n.where(op.or(t)):"and"===e.condition&&n.where(op.and(t))}}));t.search&&e.parse.parseJson(t.search).filter((function(e){return n.search(e.key,e.fields,e.operator,e.ignoreCase,e.ignoreAccent)}));return t.aggregates&&t.aggregates.filter((function(e){return n.aggregate(e.type,e.field)})),t.sorted&&t.sorted.filter((function(e){return n.sortBy(e.name,e.direction)})),t.skip&&n.skip(t.skip),t.take&&n.take(t.take),t.group&&t.group.filter((function(e){return n.group(e)})),n},e.getPredicate=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(n.field)t.push(new op(n.field,n.operator,n.value,n.ignoreCase,n.ignoreAccent));else{for(var r=[],s=this.getPredicate(n.predicates),o=0,a=Object.keys(s);o<a.length;o++){var l=a[o];r.push(s[l])}t.push("or"===n.condition?op.or(r):op.and(r))}}return t},e.serverTimezoneOffset=null,e.timeZoneHandling=!0,e.throwError=function(e){try{throw new Error(e)}catch(lE){throw lE.message+"\n"+lE.stack}},e.aggregates={sum:function(t,i){for(var n,r=0,s="number"!==typeof e.getVal(t,0,i),o=0;o<t.length;o++)n=e.getVal(t,o,i),isNaN(n)||null===n||(s&&(n=+n),r+=n);return r},average:function(t,i){return e.aggregates.sum(t,i)/t.length},min:function(t,i){var n;return"function"===typeof i&&(n=i,i=null),e.getObject(i,e.getItemFromComparer(t,i,n||e.fnAscending))},max:function(t,i){var n;return"function"===typeof i&&(n=i,i=null),e.getObject(i,e.getItemFromComparer(t,i,n||e.fnDescending))},truecount:function(e,t){return new mp(e).executeLocal((new sp).where(t,"equal",!0,!0)).length},falsecount:function(e,t){return new mp(e).executeLocal((new sp).where(t,"equal",!1,!0)).length},count:function(e,t){return e.length}},e.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},e.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},e.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not substringof",wildcard:"wildcard",like:"like"},e.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not contains",wildcard:"wildcard",like:"like"},e.diacritics={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},e.fnOperators={equal:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?e.toLowerCase(t)===e.toLowerCase(i):t===i},notequal:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),!e.fnOperators.equal(t,i,n)},lessthan:function(t,i,n){return n?e.toLowerCase(t)<e.toLowerCase(i):(ko(t)&&(t=void 0),t<i)},greaterthan:function(t,i,n){return n?e.toLowerCase(t)>e.toLowerCase(i):t>i},lessthanorequal:function(t,i,n){return n?e.toLowerCase(t)<=e.toLowerCase(i):(ko(t)&&(t=void 0),t<=i)},greaterthanorequal:function(t,i,n){return n?e.toLowerCase(t)>=e.toLowerCase(i):t>=i},contains:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?!ko(t)&&!ko(i)&&-1!==e.toLowerCase(t).indexOf(e.toLowerCase(i)):!ko(t)&&!ko(i)&&-1!==t.toString().indexOf(i)},doesnotcontain:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?!ko(t)&&!ko(i)&&-1===e.toLowerCase(t).indexOf(e.toLowerCase(i)):!ko(t)&&!ko(i)&&-1===t.toString().indexOf(i)},isnotnull:function(e){return null!==e&&void 0!==e},isnull:function(e){return null===e||void 0===e},startswith:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?t&&i&&e.startsWith(e.toLowerCase(t),e.toLowerCase(i)):t&&i&&e.startsWith(t,i)},doesnotstartwith:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?t&&i&&e.notStartsWith(e.toLowerCase(t),e.toLowerCase(i)):t&&i&&e.notStartsWith(t,i)},like:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?t&&i&&e.like(e.toLowerCase(t),e.toLowerCase(i)):t&&i&&e.like(t,i)},isempty:function(e){return void 0===e||""===e},isnotempty:function(e){return void 0!==e&&""!==e},wildcard:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?(t||"boolean"===typeof t)&&i&&"object"!==typeof t&&e.wildCard(e.toLowerCase(t),e.toLowerCase(i)):(t||"boolean"===typeof t)&&i&&e.wildCard(t,i)},endswith:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?t&&i&&e.endsWith(e.toLowerCase(t),e.toLowerCase(i)):t&&i&&e.endsWith(t,i)},doesnotendwith:function(t,i,n,r){return r&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),n?t&&i&&e.notEndsWith(e.toLowerCase(t),e.toLowerCase(i)):t&&i&&e.notEndsWith(t,i)},processSymbols:function(t){var i=e.operatorSymbols[t];return i?e.fnOperators[i]:e.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){var i=e.fnOperators[t];return i||e.fnOperators.processSymbols(t)}},e.parse={parseJson:function(t){return"string"!==typeof t||!/^[\s]*\[|^[\s]*\{(.)+:/g.test(t)&&-1!==t.indexOf('"')?t instanceof Array?e.parse.iterateAndReviveArray(t):"object"===typeof t&&null!==t&&e.parse.iterateAndReviveJson(t):t=JSON.parse(t,e.parse.jsonReviver),t},iterateAndReviveArray:function(t){for(var i=0;i<t.length;i++)"object"===typeof t[i]&&null!==t[i]?e.parse.iterateAndReviveJson(t[i]):"string"!==typeof t[i]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[i])&&-1!==t[i].toString().indexOf('"')?t[i]=e.parse.parseJson(t[i]):t[i]=e.parse.jsonReviver("",t[i])},iterateAndReviveJson:function(t){for(var i,n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];e.startsWith(s,"__")||("object"===typeof(i=t[s])?i instanceof Array?e.parse.iterateAndReviveArray(i):i&&e.parse.iterateAndReviveJson(i):t[s]=e.parse.jsonReviver(t[s],i))}},jsonReviver:function(t,i){if("string"===typeof i){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(i),r=e.timeZoneHandling?e.serverTimezoneOffset:null;if(n)return e.dateParse.toTimeZone(new Date(parseInt(n[1],10)),r,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(i)){var s=i.indexOf("Z")>-1||i.indexOf("z")>-1,o=i.split(/[^0-9.]/);if(s){if(o[5].indexOf(".")>-1){var a=o[5].split(".");o[5]=a[0],o[6]=new Date(i).getUTCMilliseconds().toString()}else o[6]="00";i=e.dateParse.toTimeZone(new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5]?o[5]:"00",10),parseInt(o[6],10)),e.serverTimezoneOffset,!1)}else{var l=new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5]?o[5]:"00",10)),h=parseInt(o[6],10),c=parseInt(o[7],10);if(isNaN(h)&&isNaN(c))return l;i.indexOf("+")>-1?l.setHours(l.getHours()-h,l.getMinutes()-c):l.setHours(l.getHours()+h,l.getMinutes()+c),i=e.dateParse.toTimeZone(l,e.serverTimezoneOffset,!1)}null==e.serverTimezoneOffset&&(i=e.dateParse.addSelfOffset(i))}else if(/^\d{4}-\d{2}-\d{2}$/.test(i)){o=i.split(/[^0-9.]/);return new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10))}}return i},isJson:function(t){return"string"===typeof t[0]?t:e.parse.parseJson(t)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(t,i){return e.isPlainObject(t)?e.parse.jsonReplacer(t,i):t instanceof Array?e.parse.arrayReplacer(t):t instanceof Date?e.parse.jsonReplacer({val:t},i).val:t},jsonReplacer:function(t,i){for(var n,r=0,s=Object.keys(t);r<s.length;r++){var o=s[r];if((n=t[o])instanceof Date){var a=n;null==e.serverTimezoneOffset?t[o]=e.dateParse.toTimeZone(a,null).toJSON():(a=new Date(+a+36e5*e.serverTimezoneOffset),t[o]=e.dateParse.toTimeZone(e.dateParse.addSelfOffset(a),null).toJSON())}}return t},arrayReplacer:function(t){for(var i=0;i<t.length;i++)e.isPlainObject(t[i])?t[i]=e.parse.jsonReplacer(t[i]):t[i]instanceof Date&&(t[i]=e.parse.jsonReplacer({date:t[i]}).date);return t},jsonDateReplacer:function(t,i){if("value"===t&&i){if("string"===typeof i){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(i);if(n)i=e.dateParse.toTimeZone(new Date(parseInt(n[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(i)){var r=i.split(/[^0-9]/);i=e.dateParse.toTimeZone(new Date(parseInt(r[0],10),parseInt(r[1],10)-1,parseInt(r[2],10),parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10)),null,!0)}}if(i instanceof Date)return i=e.dateParse.addSelfOffset(i),null===e.serverTimezoneOffset?e.dateParse.toTimeZone(e.dateParse.addSelfOffset(i),null).toJSON():(i=e.dateParse.toTimeZone(i,i.getTimezoneOffset()/60-e.serverTimezoneOffset,!1)).toJSON()}return i}},e.dateParse={addSelfOffset:function(e){return new Date(+e-6e4*e.getTimezoneOffset())},toUTC:function(e){return new Date(+e+6e4*e.getTimezoneOffset())},toTimeZone:function(t,i,n){if(null===i)return t;var r=n?e.dateParse.toUTC(t):t;return new Date(+r-36e5*i)},toLocalTime:function(e){var t=e,i=-t.getTimezoneOffset(),n=i>=0?"+":"-",r=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return t.getFullYear()+"-"+r(t.getMonth()+1)+"-"+r(t.getDate())+"T"+r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds())+n+r(i/60)+":"+r(i%60)}},e}(),Mp={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"};function Sp(e,t){var i={};if(ko(e)||"string"===typeof e||"number"===typeof e||!ko(e.isHeader))return e;for(var n=0,r=Object.keys(t);n<r.length;n++){var s=t[""+r[n]],o=ko(s)||"string"!==typeof s?void 0:No(s,e);ko(o)||(i[""+s]=o)}return i}function wp(e){if(e)try{return"function"!==typeof e&&document.querySelector(e)?Uh(document.querySelector(e).innerHTML.trim()):Uh(e)}catch(lE){return Uh(e)}}!function(e){e.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null,sortBy:null};var t={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},i={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:e.defaultMappedFields,ariaAttributes:t,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function n(e,t,i,n,s){return b(e,r(e,t,i,n,s),null,n)}function r(e,t,n,r,s){var o=[],a=Eo({},i,r);Mp=m(a.moduleName);for(var l=d(),h=0;h<t.length;h++)if(!ko(t[h])){var c=void 0;if(a.itemCreating&&"function"===typeof a.itemCreating){var u={dataSource:t,curData:t[h],text:t[h],options:a};a.itemCreating(u)}if(c=n?g(e,t[h],void 0,null,null,[],null,l,h,r):v(e,t[h],void 0,null,null,r,s),a.itemCreated&&"function"===typeof a.itemCreated){u={dataSource:t,curData:t[h],text:t[h],item:c,options:a};a.itemCreated(u)}o.push(c)}return o}function s(n,r,s,o,a,l){var h=Eo({},i,s);Mp=m(h.moduleName);var p,y=!l||"listview"!==l.getModuleName()&&"multiselect"!==l.getModuleName()?Eo({},e.defaultMappedFields,h.fields):h.fields,b=Eo({},t,h.ariaAttributes),M=[];o&&(b.level=o);var S,w,_=[];r&&r.length&&!ko(c(r).item)&&!c(r).item.hasOwnProperty(y.id)&&(p=d());for(var I=0;I<r.length;I++){var N=Sp(r[I],y);if(!ko(r[I])){if(h.itemCreating&&"function"===typeof h.itemCreating){var C={dataSource:r,curData:r[I],text:N[y.text],options:h,fields:y};h.itemCreating(C)}var x=r[I];h.itemCreating&&"function"===typeof h.itemCreating&&(N=Sp(r[I],y)),N.hasOwnProperty(y.id)&&!ko(N[y.id])&&(p=N[y.id]);var D=[];if(h.showCheckBox&&(h.itemNavigable&&(N[y.url]||N[y.urlAttributes])?M.push(n("input",{className:Mp.check,attrs:{type:"checkbox"}})):D.push(n("input",{className:Mp.check,attrs:{type:"checkbox"}}))),!0===a)h.showIcon&&N.hasOwnProperty(y.iconCss)&&!ko(N[y.iconCss])&&D.push(n("span",{className:Mp.icon+" "+N[y.iconCss]})),w=(S=g(n,x,N,y,h.itemClass,D,!(!x.hasOwnProperty("isHeader")||!x.isHeader),p,I,s)).querySelector("."+Mp.anchorWrap),h.itemNavigable&&M.length&&Ha(M,S.firstElementChild);else{if((S=v(n,x,N,y,h.itemClass,s,l)).classList.add(Mp.level+"-"+b.level),S.setAttribute("aria-level",b.level.toString()),"presentation"!=b.groupItemRole&&"presentation"!=b.itemRole||S.removeAttribute("aria-level"),w=S.querySelector("."+Mp.anchorWrap),N.hasOwnProperty(y.tooltip)&&S.setAttribute("title",N[y.tooltip]),N.hasOwnProperty(y.htmlAttributes)&&N[y.htmlAttributes]&&u(S,N[y.htmlAttributes]),N.hasOwnProperty(y.enabled)&&!1===N[y.enabled]&&S.classList.add(Mp.disabled),N.hasOwnProperty(y.isVisible)&&!1===N[y.isVisible]&&(S.style.display="none"),N.hasOwnProperty(y.imageUrl)&&!ko(N[y.imageUrl])&&!h.template){var T={src:N[y.imageUrl]};jo(T,N[y.imageAttributes]);var A=n("img",{className:Mp.image,attrs:T});w?w.insertAdjacentElement("afterbegin",A):Ha([A],S.firstElementChild)}if(h.showIcon&&N.hasOwnProperty(y.iconCss)&&!ko(N[y.iconCss])&&!h.template){var j=n("div",{className:Mp.icon+" "+N[y.iconCss]});w?w.insertAdjacentElement("afterbegin",j):Ha([j],S.firstElementChild)}D.length&&Ha(D,S.firstElementChild),h.itemNavigable&&M.length&&Ha(M,S.firstElementChild),f(n,N,y,r,h,S,b.level)}if(w&&Fa([S],[Mp.navigable]),h.itemCreated&&"function"===typeof h.itemCreated){C={dataSource:r,curData:r[I],text:N[y.text],item:S,options:h,fields:y};h.itemCreated(C)}M=[],_.push(S)}}return _}function o(e,t,n,r,o,a){var l=Eo({},i,n);return b(e,s(e,t,n,r,o,a),l.listClass,n)}function a(e,t){if(t&&e){return Array.prototype.slice.call(t).indexOf(e)}}function l(e,t,i){if(void 0===i&&(i=new sp),"Ascending"===e)i.sortBy(t,"ascending",!0);else if("Descending"===e)i.sortBy(t,"descending",!0);else for(var n=0;n<i.queries.length;n++)"onSortBy"===i.queries[n].fn&&i.queries.splice(n,1);return i}function h(e,t){return new mp(e).executeLocal(t)}function c(e){for(var t={typeof:null,item:null},i=0;i<e.length;i++)if(!ko(e[i]))return{typeof:typeof e[i],item:e[i]};return t}function u(e,t){var i={};jo(i,t),i.class&&(Fa([e],i.class.split(" ")),delete i.class),Ga(e,i)}function p(e){for(var t={},i=e.attributes,n=0;n<i.length;n++)t[i[n].nodeName]=i[n].nodeValue;return t}function d(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function f(e,t,i,n,r,s,a){var l=t[i.child]||[],h=t[i.hasChildren];if(l.length&&(h=!0,s.classList.add(Mp.hasChild),r.processSubChild)){var c=o(e,l,r,++a);s.appendChild(c)}r.expandCollapse&&h&&!r.template&&(s.firstElementChild.classList.add(Mp.iconWrapper),("Left"===r.expandIconPosition?Ha:Wa)([e("div",{className:"e-icons "+r.expandIconClass})],s.querySelector("."+Mp.textContent)))}function g(e,n,r,s,o,a,l,h,c,p){var d,f,g=Eo({},i,p),m=Eo({},t,g.ariaAttributes),v=n,b=n;"string"!==typeof n&&"number"!==typeof n&&"boolean"!==typeof n&&(d=n,v="boolean"===typeof r[s.text]||"number"===typeof r[s.text]?r[s.text]:r[s.text]||"",b=r[s.value]),f=ko(d)||ko(r[s.id])||""===r[s.id]?h+"-"+c:h;var M=e("li",{className:(!0===l?Mp.group:Mp.li)+" "+(ko(o)?"":o),id:f,attrs:""!==m.groupItemRole&&""!==m.itemRole?{role:!0===l?m.groupItemRole:m.itemRole}:{}});return d&&r.hasOwnProperty(s.enabled)&&"false"===r[s.enabled].toString()&&M.classList.add(Mp.disabled),l?M.innerText=v:(M.setAttribute("data-value",ko(b)?"null":b),M.setAttribute("role","option"),d&&r.hasOwnProperty(s.htmlAttributes)&&r[s.htmlAttributes]&&u(M,r[s.htmlAttributes]),a.length&&!g.itemNavigable&&Wa(a,M),d&&(r[s.url]||r[s.urlAttributes]&&r[s.urlAttributes].href)?M.appendChild(y(e,d,s,v,a,g.itemNavigable)):(a.length&&g.itemNavigable&&Wa(a,M),M.appendChild(document.createTextNode(v)))),M}function m(e){return{li:"e-"+e+"-item",ul:"e-"+e+"-parent e-ul",group:"e-"+e+"-group-item",icon:"e-"+e+"-icon",text:"e-"+e+"-text",check:"e-"+e+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+e+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+e+"-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function y(e,t,i,n,r,s){var o,a=Sp(t,i),l={href:a[i.url]};if(a.hasOwnProperty(i.urlAttributes)&&a[i.urlAttributes]&&(jo(l,a[i.urlAttributes]),l.href=a[i.url]?a[i.url]:a[i.urlAttributes].href),s){o=e("a",{className:Mp.text+" "+Mp.url});var h=e("div",{className:Mp.anchorWrap});r&&r.length&&Wa(r,h),h.appendChild(document.createTextNode(n)),Wa([h],o)}else o=e("a",{className:Mp.text+" "+Mp.url,innerHTML:n});return u(o,l),o}function v(e,n,r,s,o,a,l){var h,c,u,p=Eo({},i,a),f=Eo({},t,p.ariaAttributes),g=n;"string"!==typeof n&&"number"!==typeof n&&(u=n,g=r[s.text]||"",h=ko(r._id)?r[s.id]:r._id,c=!(!n.hasOwnProperty("isHeader")||!n.isHeader)),a&&a.enableHtmlSanitizer;var m=e("li",{className:(!0===c?Mp.group:Mp.li)+" "+(ko(o)?"":o),attrs:""!==f.groupItemRole&&""!==f.itemRole?{role:!0===c?f.groupItemRole:f.itemRole}:{}});if(!0===!ko(h)?m.setAttribute("data-uid",h):m.setAttribute("data-uid",d()),c&&a&&a.groupTemplate){var v=wp(a.groupTemplate);if(l&&"listview"!==l.getModuleName())(b=v(n,l,"groupTemplate",p.groupTemplateID,!!p.isStringTemplate,null,m))&&Wa(b,m);else Wa(v(n,l,"groupTemplate",p.groupTemplateID,!!p.isStringTemplate),m)}else if(!c&&a&&a.template){var b;v=wp(a.template);if(l&&"listview"!==l.getModuleName())(b=v(n,l,"template",p.templateID,!!p.isStringTemplate,null,m))&&Wa(b,m);else Wa(v(n,l,"template",p.templateID,!!p.isStringTemplate),m)}else{var M=e("div",{className:Mp.textContent,attrs:""!==f.wrapperRole?{role:f.wrapperRole}:{}});if(u&&(r[s.url]||r[s.urlAttributes]&&r[s.urlAttributes].href))M.appendChild(y(e,u,s,g,null,p.itemNavigable));else{var S=e("span",{className:Mp.text,attrs:""!==f.itemText?{role:f.itemText}:{}});a&&a.enableHtmlSanitizer?S.innerText=$h.sanitize(g):S.innerHTML=g,M.appendChild(S)}m.appendChild(M)}return m}function b(e,n,r,s){var o=Eo({},i,s),a=Eo({},t,o.ariaAttributes),l=e("ul",{className:(Mp=m(o.moduleName)).ul+" "+(ko(r)?"":r),attrs:""!==a.listRole?{role:a.listRole}:{}});return Wa(n,l),l}e.createList=function(e,r,s,a,l){var h=Eo({},i,s),u=Eo({},t,h.ariaAttributes),p=c(r).typeof;return"string"===p||"number"===p?n(e,r,a,s,l):o(e,r,s,u.level,a,l)},e.createListFromArray=n,e.createListItemFromArray=r,e.createListItemFromJson=s,e.createListFromJson=o,e.getSiblingLI=function(e,t,n){if(Mp=m(i.moduleName),e&&e.length){var r,s,o=Array.prototype.slice.call(e);for(r=o[(s=t?a(t,o):!0===n?o.length:-1)+(!0===n?-1:1)];r&&(!Ua(r)||r.classList.contains(Mp.disabled));)r=o[s+=!0===n?-1:1];return r}},e.indexOf=a,e.groupDataSource=function(t,i,n){void 0===n&&(n="None");var r=Eo({},e.defaultMappedFields,i),s=(new sp).group(r.groupBy),o=h(t,s=l(n,"key",s));t=[];for(var a=0;a<o.length;a++){var c=o[a].items,u={};u[r.text]=o[a].key,u.isHeader=!0;var p=r.text;"id"===p&&(u[""+(p="text")]=o[a].key),u._id="group-list-item-"+(o[a].key?o[a].key.toString().trim():"undefined"),u.items=c,t.push(u);for(var d=0;d<c.length;d++)t.push(c[d])}return t},e.addSorting=l,e.getDataSource=h,e.createJsonFromElement=function t(n,r){var s=Eo({},i,r),o=Eo({},e.defaultMappedFields,s.fields),a=n.cloneNode(!0),l=[];a.classList.add("json-parent");var h=a.querySelectorAll(".json-parent>li");a.classList.remove("json-parent");for(var c=0;c<h.length;c++){for(var u=h[c],f=u.querySelector("a"),g=u.querySelector("ul"),m={},y=f?f.childNodes:u.childNodes,v=Object.keys(y),b=0;b<y.length;b++)y[Number(v[b])].hasChildNodes()||(m[o.text]=y[Number(v[b])].textContent);var M=p(u);M.id?(m[o.id]=M.id,delete M.id):m[o.id]=d(),Object.keys(M).length&&(m[o.htmlAttributes]=M),f&&(M=p(f),Object.keys(M).length&&(m[o.urlAttributes]=M)),g&&(m[o.child]=t(g,r)),l.push(m)}return l},e.renderContentTemplate=function(t,n,r,s,o,a){for(var l,h=t("ul",{className:(Mp=m(i.moduleName)).ul,attrs:{role:"presentation"}}),c=Eo({},i,o),u=Eo({},e.defaultMappedFields,s),p=wp(n),f=[],g=d(),y=0;y<r.length;y++){var v=Sp(r[y],u),b=r[y],M=b.isHeader;if(l="string"===typeof r[y]||"number"===typeof r[y]?b:v[u.value],c.itemCreating&&"function"===typeof c.itemCreating){var S={dataSource:r,curData:b,text:l,options:c,fields:u};c.itemCreating(S)}c.itemCreating&&"function"===typeof c.itemCreating&&(v=Sp(r[y],u),l="string"===typeof r[y]||"number"===typeof r[y]?b:v[u.value]);var w=t("li",{id:g+"-"+y,className:M?Mp.group:Mp.li,attrs:{role:"presentation"}});if(M)"string"===typeof r[y]||"number"===typeof r[y]?w.innerText=b:w.innerText=v[u.text];else{var _,I=M?c.groupTemplateID:c.templateID;if(M)if(a&&"listview"!=a.getModuleName())(_=p(b,a,"headerTemplate",I,!!c.isStringTemplate,null,w))&&Wa(_,w);else Wa(p(b,a,"headerTemplate",I,!!c.isStringTemplate),w);else if(a&&"listview"!==a.getModuleName())(_=p(b,a,"template",I,!!c.isStringTemplate,null,w))&&Wa(_,w);else Wa(p(b,a,"template",I,!!c.isStringTemplate),w);w.setAttribute("data-value",ko(l)?"null":l),w.setAttribute("role","option")}if(c.itemCreated&&"function"===typeof c.itemCreated){S={dataSource:r,curData:b,text:l,item:w,options:c,fields:u};c.itemCreated(S)}f.push(w)}return Wa(f,h),h},e.renderGroupTemplate=function(t,n,r,s,o,a){for(var l=wp(t),h=Eo({},e.defaultMappedFields,r),c=Eo({},i,o),u=h.groupBy,p=0,d=s;p<d.length;p++){var f=d[p],g={};if(g[""+u]=f.textContent,f.innerHTML="",a&&"listview"!==a.getModuleName()){var m=l(g,a,"groupTemplate",c.groupTemplateID,!!c.isStringTemplate,null,f);m&&Wa(m,f)}else Wa(l(g,a,"groupTemplate",c.groupTemplateID,!!c.isStringTemplate),f)}return s},e.generateId=d,e.generateUL=b,e.generateIcon=function(e,t,n,r){var s=Eo({},i,r);return Mp=m(s.moduleName),("Left"===s.expandIconPosition?Ha:Wa)([e("div",{className:"e-icons "+s.expandIconClass+" "+(ko(n)?"":n)})],t.querySelector("."+Mp.textContent)),t}}(rp||(rp={}));var _p,Ip,Np=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Cp=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},xp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Np(t,e),Cp([fl()],t.prototype,"text",void 0),Cp([fl()],t.prototype,"value",void 0),Cp([fl()],t.prototype,"iconCss",void 0),Cp([fl()],t.prototype,"groupBy",void 0),Cp([fl()],t.prototype,"htmlAttributes",void 0),t}(zl),Dp="e-dropdownbase",Tp="e-rtl",Ap="e-content",jp="e-active",Ep="e-hover",kp="e-nodata",zp="e-fixed-head",Lp="e-item-focus",Op="e-list-item",Pp="e-list-group-item",Rp="e-disabled",Fp="e-dd-group",Bp=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.preventChange=!1,n.isAngular=!1,n.isPreventChange=!1,n.isDynamicDataChange=!1,n.addedNewItem=!1,n.isAddNewItemTemplate=!1,n.isRequesting=!1,n.isVirtualizationEnabled=!1,n.isAllowFiltering=!1,n.virtualizedItemsCount=0,n.totalItemCount=0,n.dataCount=0,n}return Np(t,e),t.prototype.getPropObject=function(e,t,i){var n=new Object,r=new Object;n[e]=t[e],r[e]=i[e];var s=new Object;return s.newProperty=n,s.oldProperty=r,s},t.prototype.getValueByText=function(e,t,i){var n=null;return ko(this.listData)||(n=t?this.checkValueCase(e,!0,i):this.checkValueCase(e,!1,i)),n},t.prototype.checkValueCase=function(e,t,i,n){var r=this,s=null;n&&(s=e);var o=this.listData,a=this.fields,l=this.typeOfData(o).typeof;if("string"===l||"number"===l||"boolean"===l)for(var h=0,c=o;h<c.length;h++){var u=c[h];ko(u)||(i?s=this.checkingAccent(String(u),e,t):t?this.checkIgnoreCase(String(u),e)&&(s=this.getItemValue(String(u),e,t)):this.checkNonIgnoreCase(String(u),e)&&(s=this.getItemValue(String(u),e,t,n)))}else if(t)o.filter((function(t){!ko(No(a.value,t))&&r.checkIgnoreCase(No(a.text,t).toString(),e)&&(s=No(a.value,t))}));else if(n){var p=null;p=s,o.filter((function(e){var t=No(a.value,e);ko(t)||ko(s)||t.toString()!==p.toString()||(s=No(a.text,e))}))}else o.filter((function(t){r.checkNonIgnoreCase(No(a.text,t),e)&&(s=No(a.value,t))}));return s},t.prototype.checkingAccent=function(e,t,i){var n=bp.ignoreDiacritics(String(e)),r=bp.ignoreDiacritics(t.toString()),s=null;return i?this.checkIgnoreCase(n,r)&&(s=this.getItemValue(String(e),t,i)):this.checkNonIgnoreCase(String(e),t)&&(s=this.getItemValue(String(e),t,i)),s},t.prototype.checkIgnoreCase=function(e,t){return String(e).toLowerCase()===t.toString().toLowerCase()},t.prototype.checkNonIgnoreCase=function(e,t){return String(e)===t.toString()},t.prototype.getItemValue=function(e,t,i,n){var r=this.listData,s=this.typeOfData(r).typeof;return n?e.toString():i?"string"===s?String(e):this.getFormattedValue(String(e)):"string"===s?t:this.getFormattedValue(t)},t.prototype.templateCompiler=function(e){var t=!1;if("function"!==typeof e&&e)try{t=!!Xa(e,document).length}catch(i){t=!1}return t},t.prototype.l10nUpdate=function(e){var t="listbox"===this.getModuleName()?this.ulElement:this.list;if("No records found"!==this.noRecordsTemplate||"Request failed"!==this.actionFailureTemplate){var i=e?this.actionFailureTemplate:this.noRecordsTemplate,n=void 0,r=e?this.actionFailureTemplateId:this.noRecordsTemplateId;t.innerHTML="";var s=this.templateCompiler(i);n=Uh("function"!==typeof i&&s?Ka(i,document).innerHTML.trim():i);var o=e?"actionFailureTemplate":"noRecordsTemplate",a=void 0;if((a=this.isReact&&"function"===typeof i?n({},this,o,r,this.isStringTemplate,null):n({},this,o,r,this.isStringTemplate,null,t))&&a.length>0)for(var l=0;l<a.length;l++){if("listbox"===this.getModuleName()&&"noRecordsTemplate"===o)if("#text"===a[l].nodeName)(c=this.createElement("li")).textContent=a[l].textContent,c.classList.add("e-list-nrt"),c.setAttribute("role","option"),t.appendChild(c);else a[l].classList.add("e-list-nr-template"),t.appendChild(a[l]);else a[l]instanceof HTMLElement&&t.appendChild(a[l])}this.renderReactTemplates()}else{var h=new ch(this.getLocaleName(),{},this.locale);""!==h.getConstant("actionFailureTemplate")||""!==h.getConstant("noRecordsTemplate")?this.l10n=h:this.l10n=new ch("listbox"===this.getModuleName()?"listbox":"mention"===this.getModuleName()?"mention":"dropdowns",{noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed"},this.locale);var c,u=e?this.l10n.getConstant("actionFailureTemplate"):this.l10n.getConstant("noRecordsTemplate");if("listbox"===this.getModuleName())(c=this.createElement("li")).textContent=u,t.appendChild(c),c.classList.add("e-list-nrt"),c.setAttribute("role","option");else ko(t)||(t.innerHTML=u)}},t.prototype.getLocaleName=function(){return"drop-down-base"},t.prototype.getTextByValue=function(e){return this.checkValueCase(e,!1,!1,!0)},t.prototype.getFormattedValue=function(e){if(this.listData&&this.listData.length){var t=void 0;if(t=this.properties.allowCustomValue&&this.properties.value&&this.properties.value instanceof Array&&this.properties.value.length>0?this.typeOfData(this.properties.value):this.typeOfData(this.listData),"number"===typeof No(this.fields.value?this.fields.value:"value",t.item)||"number"===t.typeof)return parseFloat(e);if("boolean"===typeof No(this.fields.value?this.fields.value:"value",t.item)||"boolean"===t.typeof)return"true"===e||""+e==="true"}return e},t.prototype.setEnableRtl=function(){ko(this.enableRtlElements)||(this.list&&this.enableRtlElements.push(this.list),this.enableRtl?Fa(this.enableRtlElements,Tp):Ba(this.enableRtlElements,Tp))},t.prototype.initialize=function(e){if(this.bindEvent=!0,this.actionFailureTemplateId=this.element.id+"ActionFailureTemplate","UL"===this.element.tagName){var t=rp.createJsonFromElement(this.element);this.setProperties({fields:{text:"text",value:"text"}},!0),this.resetList(t,this.fields)}else if("SELECT"===this.element.tagName){(this.dataSource instanceof Array?this.dataSource.length>0:!ko(this.dataSource))?this.isDynamicDataChange&&this.setListData(this.dataSource,this.fields,this.query):this.renderItemsBySelect()}else this.setListData(this.dataSource,this.fields,this.query,e)},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.updateDataAttribute=function(e){for(var t=["class","style","id","type","aria-expanded","aria-autocomplete","aria-readonly"],i={},n=0;n<this.element.attributes.length;n++)-1!==t.indexOf(this.element.attributes[n].name)||"dropdownlist"===this.getModuleName()&&"readonly"===this.element.attributes[n].name||(i[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name));Eo(i,e,i),this.setProperties({htmlAttributes:i},!0)},t.prototype.renderItemsBySelect=function(){var e=this.element,t={value:"value",text:"text"},i=[],n=e.querySelectorAll("select>optgroup"),r=e.querySelectorAll("select>option");if(this.getJSONfromOption(i,r,t),n.length){for(var s=0;s<n.length;s++){var o=n[s],a={};a[t.text]=o.label,a.isHeader=!0;var l=o.querySelectorAll("option");i.push(a),this.getJSONfromOption(i,l,t)}e.querySelectorAll("select>option")}this.updateFields(t.text,t.value,this.fields.groupBy,this.fields.htmlAttributes,this.fields.iconCss),this.resetList(i,t)},t.prototype.updateFields=function(e,t,i,n,r){var s={fields:{text:e,value:t,groupBy:ko(i)?this.fields&&this.fields.groupBy:i,htmlAttributes:ko(n)?this.fields&&this.fields.htmlAttributes:n,iconCss:ko(r)?this.fields&&this.fields.iconCss:r}};this.setProperties(s,!0)},t.prototype.getJSONfromOption=function(e,t,i){for(var n=0,r=t;n<r.length;n++){var s=r[n],o={};o[i.text]=s.innerText,o[i.value]=ko(s.getAttribute(i.value))?s.innerText:s.getAttribute(i.value),e.push(o)}},t.prototype.preRender=function(){this.scrollTimer=-1,this.enableRtlElements=[],this.isRequested=!1,this.isDataFetched=!1,this.itemTemplateId=this.element.id+"ItemTemplate",this.displayTemplateId=this.element.id+"DisplayTemplate",this.spinnerTemplateId=this.element.id+"SpinnerTemplate",this.valueTemplateId=this.element.id+"ValueTemplate",this.groupTemplateId=this.element.id+"GroupTemplate",this.headerTemplateId=this.element.id+"HeaderTemplate",this.footerTemplateId=this.element.id+"FooterTemplate",this.noRecordsTemplateId=this.element.id+"NoRecordsTemplate"},t.prototype.setListData=function(e,t,i,n){var r,s=this;t=t||this.fields,this.isActive=!0;var o={cancel:!1,data:e,query:i};this.isPreventChange=!(!this.isAngular||!this.preventChange)||this.isPreventChange,this.isRequesting||this.trigger("actionBegin",o,(function(i){if(!i.cancel)if(s.isRequesting=!0,s.showSpinner(),e instanceof mp){if(s.isRequested=!0,s.isDataFetched)return void s.emptyDataRequest(t);i.data.executeQuery(s.getQuery(i.query)).then((function(e){s.isPreventChange=!(!s.isAngular||!s.preventChange)||s.isPreventChange,s.trigger("actionComplete",e,(function(e){if(!e.cancel){var i=e.result;0===i.length&&(s.isDataFetched=!0),s.dataCount=e.count,s.totalItemCount=e.count,r=s.renderItems(i,t),s.onActionComplete(r,i,e),s.groupTemplate&&s.renderGroupTemplate(r),s.isRequested=!1,s.bindChildItems(i,r,t,e)}s.isRequesting=!1}))})).catch((function(e){s.isRequested=!1,s.isRequesting=!1,s.onActionFailure(e),s.hideSpinner()}))}else{s.isRequesting=!1;var o=new mp(i.data),a=s.getQuery(i.query).executeLocal(o);s.dataCount=a.count,s.totalItemCount=a.count;var l={cancel:!1,result:a=s.isVirtualizationEnabled?a.result:a};s.isPreventChange=!(!s.isAngular||!s.preventChange)||s.isPreventChange,s.trigger("actionComplete",l,(function(e){e.cancel||(r=s.renderItems(e.result,t),s.onActionComplete(r,e.result,n),s.groupTemplate&&s.renderGroupTemplate(r),s.bindChildItems(e.result,r,t),setTimeout((function(){"multiselect"===s.getModuleName()&&null!=s.itemTemplate&&r.childElementCount>0&&(r.children[0].childElementCount>0||s.fields.groupBy&&r.children[1]&&r.children[1].childElementCount>0)&&s.updateDataList()})))}))}}))},t.prototype.bindChildItems=function(e,t,i,n){var r=this;e.length>=100&&"autocomplete"===this.getModuleName()?setTimeout((function(){Wa(r.remainingItems(r.sortedData,i),t),r.liCollections=r.list.querySelectorAll("."+Op),r.updateListValues(),r.raiseDataBound(e,n)}),0):this.raiseDataBound(e,n)},t.prototype.updateListValues=function(){},t.prototype.findListElement=function(e,t,i,n){var r=null;if(e)for(var s=[].slice.call(e.querySelectorAll(t)),o=0;o<s.length;o++)if(s[o].getAttribute(i)===n+""){r=s[o];break}return r},t.prototype.raiseDataBound=function(e,t){this.hideSpinner();var i={items:e,e:t};this.trigger("dataBound",i)},t.prototype.remainingItems=function(e,t){var i=new mp(e).executeLocal((new sp).skip(100));if(this.itemTemplate){var n=this.templateListItem(i,t);return[].slice.call(n.childNodes)}var r=this.typeOfData(i).typeof;return"string"===r||"number"===r||"boolean"===r?rp.createListItemFromArray(this.createElement,i,!0,this.listOption(i,t),this):rp.createListItemFromJson(this.createElement,i,this.listOption(i,t),1,!0,this)},t.prototype.emptyDataRequest=function(e){var t=[];this.onActionComplete(this.renderItems(t,e),t),this.isRequested=!1,this.hideSpinner()},t.prototype.showSpinner=function(){},t.prototype.hideSpinner=function(){},t.prototype.onActionFailure=function(e){this.liCollections=[],this.trigger("actionFailure",e),this.l10nUpdate(!0),ko(this.list)||Fa([this.list],kp)},t.prototype.onActionComplete=function(e,t,i){if(this.listData=t,this.isVirtualizationEnabled&&this.notify("setGeneratedData",{module:"VirtualScroll"}),"listbox"!==this.getModuleName()&&e.setAttribute("tabindex","0"),this.isReact&&this.clearTemplate(["itemTemplate","groupTemplate","actionFailureTemplate","noRecordsTemplate"]),this.fixedHeaderElement=ko(this.fixedHeaderElement)?this.fixedHeaderElement:null,"multiselect"===this.getModuleName()&&this.properties.allowCustomValue&&this.fields.groupBy)for(var n=0;n<e.childElementCount;n++)e.children[n].classList.contains("e-list-group-item")&&(ko(e.children[n].innerHTML)||""==e.children[n].innerHTML)&&Fa([e.children[n]],"e-hide-group-header");ko(this.list)||this.isVirtualizationEnabled||(this.list.innerHTML="",this.list.appendChild(e),this.liCollections=this.list.querySelectorAll("."+Op),this.ulElement=this.list.querySelector("ul"),this.postRender(this.list,t,this.bindEvent))},t.prototype.postRender=function(e,t,i){var n=e.querySelector("."+Op),r=e.querySelector("."+jp);n&&!r&&n.classList.add(Lp),t.length<=0?(this.l10nUpdate(),Fa([e],kp)):e.classList.remove(kp)},t.prototype.getQuery=function(e){return e||(this.query?this.query:new sp)},t.prototype.updateVirtualizationProperties=function(e,t){this.isVirtualizationEnabled=!0,this.virtualizedItemsCount=e,this.isAllowFiltering=t},t.prototype.renderGroupTemplate=function(e){if(null!==this.fields.groupBy&&this.dataSource||this.element.querySelector("."+Pp)){var t=this.dataSource,i={groupTemplateID:this.groupTemplateId,isStringTemplate:this.isStringTemplate},n=e.querySelectorAll("."+Pp),r=this.templateCompiler(this.groupTemplate);if("function"!==typeof this.groupTemplate&&r){var s=Ka(this.groupTemplate,document).innerHTML.trim(),o=rp.renderGroupTemplate(s,t,this.fields.properties,n,i,this);if(this.isGroupChecking)for(var a=0;a<o.length;a++)this.notify("addItem",{module:"CheckBoxSelection",item:o[a]})}else{o=rp.renderGroupTemplate(this.groupTemplate,t,this.fields.properties,n,i,this);if(this.isGroupChecking)for(a=0;a<o.length;a++)this.notify("addItem",{module:"CheckBoxSelection",item:o[a]})}this.renderReactTemplates()}},t.prototype.createListItems=function(e,t){e&&t.groupBy||this.element.querySelector("optgroup")?(t.groupBy&&("None"!==this.sortOrder&&(e=this.getSortedDataSource(e)),e=rp.groupDataSource(e,t.properties,this.sortOrder)),Fa([this.list],Fp)):e=this.getSortedDataSource(e);var i=this.listOption(e,t),n=e.length>100?new mp(e).executeLocal((new sp).take(100)):e;return this.sortedData=e,rp.createList(this.createElement,"autocomplete"===this.getModuleName()?n:e,i,!0,this)},t.prototype.listOption=function(e,t){var i=!ko(t.iconCss),n=ko(t.properties)?t:t.properties;return Eo({},null!==t.text||null!==t.value?{fields:n,showIcon:i,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},t,!0)},t.prototype.setFloatingHeader=function(e){ko(this.list)||this.list.classList.contains(kp)||(ko(this.fixedHeaderElement)&&(this.fixedHeaderElement=this.createElement("div",{className:zp}),ko(this.list)||this.list.querySelector("li").classList.contains(Pp)||(this.fixedHeaderElement.style.display="none"),ko(this.fixedHeaderElement)||ko(this.list)||Ha([this.fixedHeaderElement],this.list),this.setFixedHeader()),ko(this.fixedHeaderElement)||"0"!==this.fixedHeaderElement.style.zIndex||this.setFixedHeader(),this.scrollStop(e))},t.prototype.scrollStop=function(e){for(var t=ko(e)?this.list:e.target,i=parseInt(getComputedStyle(this.getValidLi(),null).getPropertyValue("height"),10),n=Math.round(t.scrollTop/i),r=this.list.querySelectorAll("li:not(.e-hide-listitem)"),s=n;s>-1;s--){if(!ko(r[s])&&r[s].classList.contains(Pp)){var o=r[s];this.fixedHeaderElement.innerHTML=o.innerHTML,this.fixedHeaderElement.style.top=t.scrollTop+"px",this.fixedHeaderElement.style.display="block";break}this.fixedHeaderElement.style.display="none",this.fixedHeaderElement.style.top="none"}},t.prototype.getValidLi=function(){return this.liCollections[0]},t.prototype.renderItems=function(e,t){var i;if(this.itemTemplate&&e){var n=e;n&&t.groupBy?("None"!==this.sortOrder&&(n=this.getSortedDataSource(n)),n=rp.groupDataSource(n,t.properties,this.sortOrder)):n=this.getSortedDataSource(n),this.sortedData=n;var r=n.length>100?new mp(n).executeLocal((new sp).take(100)):n;if(i=this.templateListItem("autocomplete"===this.getModuleName()?r:n,t),this.isVirtualizationEnabled){var s=this.list.querySelector(".e-list-parent"),o=this.list.querySelector(".e-virtual-ddl-content");e.length>=this.virtualizedItemsCount&&s&&o||s&&o&&this.isAllowFiltering||s&&o&&"autocomplete"===this.getModuleName()?(o.replaceChild(i,s),this.liCollections=this.list.querySelectorAll("."+Op),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent)):o||(this.list.innerHTML="",this.list.appendChild(i),this.liCollections=this.list.querySelectorAll("."+Op),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent))}}else if(i=this.createListItems(e,t),this.isVirtualizationEnabled){s=this.list.querySelector(".e-list-parent"),o=this.list.querySelector(".e-virtual-ddl-content");e.length>=this.virtualizedItemsCount&&s&&o||s&&o&&this.isAllowFiltering||s&&o&&"autocomplete"===this.getModuleName()?(o.replaceChild(i,s),this.liCollections=this.list.querySelectorAll("."+Op),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent)):o||(this.list.innerHTML="",this.list.appendChild(i),this.liCollections=this.list.querySelectorAll("."+Op),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent))}return i},t.prototype.templateListItem=function(e,t){var i=this.listOption(e,t);i.templateID=this.itemTemplateId,i.isStringTemplate=this.isStringTemplate;var n=this.templateCompiler(this.itemTemplate);if("function"!==typeof this.itemTemplate&&n){var r=Ka(this.itemTemplate,document).innerHTML.trim();return rp.renderContentTemplate(this.createElement,r,e,t.properties,i,this)}return rp.renderContentTemplate(this.createElement,this.itemTemplate,e,t.properties,i,this)},t.prototype.typeOfData=function(e){for(var t={typeof:null,item:null},i=0;!ko(e)&&i<e.length;i++){if(!ko(e[i]))if(!ko("string"===typeof e[i]||"number"===typeof e[i]||"boolean"===typeof e[i]?e[i]:No(this.fields.value?this.fields.value:"value",e[i])))return{typeof:typeof e[i],item:e[i]}}return t},t.prototype.setFixedHeader=function(){ko(this.list)||(this.list.parentElement.style.display="block");var e=0;this.list&&this.list.parentElement&&(e=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-width"),10),isNaN(e)&&(e=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-top-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-bottom-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-left-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-right-width"),10)));if(!ko(this.liCollections)){var t=this.getValidLi().offsetWidth-e;this.fixedHeaderElement.style.width=t.toString()+"px"}$a(this.fixedHeaderElement,{zIndex:10});var i=this.ulElement.querySelector("."+Pp+":not(.e-hide-listitem)");this.fixedHeaderElement.innerHTML=i.innerHTML},t.prototype.getSortedDataSource=function(e){if(e&&"None"!==this.sortOrder){var t=this.fields.text?this.fields.text:"text";"string"!==this.typeOfData(e).typeof&&"number"!==this.typeOfData(e).typeof&&"boolean"!==this.typeOfData(e).typeof||(t=""),e=rp.getDataSource(e,rp.addSorting(this.sortOrder,t))}return e},t.prototype.getIndexByValueFilter=function(e){for(var t,i=this.renderItems(this.selectData,this.fields),n=0;n<i.children.length;n++)if(!ko(e)&&i.children[n].getAttribute("data-value")===e.toString()){t=n;break}return t},t.prototype.getIndexByValue=function(e){for(var t,i=this.getItems(),n=0;n<i.length;n++)if(!ko(e)&&i[n].getAttribute("data-value")===e.toString()){t=n;break}return t},t.prototype.dispatchEvent=function(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!1,!0),e&&e.dispatchEvent(i)},t.prototype.setFields=function(){this.fields.value&&!this.fields.text?this.updateFields(this.fields.value,this.fields.value):!this.fields.value&&this.fields.text?this.updateFields(this.fields.text,this.fields.text):this.fields.value||this.fields.text||this.updateFields("text","text")},t.prototype.resetList=function(e,t,i,n){if(this.list){if("SELECT"===this.element.tagName&&this.element.options.length>0||"UL"===this.element.tagName&&this.element.childNodes.length>0)!(e instanceof Array?e.length>0:!ko(e))&&this.selectData&&this.selectData.length>0&&(e=this.selectData);e="combobox"===this.getModuleName()&&this.selectData&&e instanceof Array&&e.length<this.selectData.length&&this.addedNewItem?this.selectData:e,this.addedNewItem=!1,this.setListData(e,t,i,n)}},t.prototype.updateSelectElementData=function(e){(e||this.isVirtualizationEnabled)&&ko(this.selectData)&&this.listData&&this.listData.length>0&&(this.selectData=this.listData)},t.prototype.updateSelection=function(){},t.prototype.renderList=function(){this.render()},t.prototype.updateDataSource=function(e){this.resetList(this.dataSource),this.totalItemCount=this.dataSource instanceof mp?this.dataSource.dataSource.json.length:0},t.prototype.setUpdateInitial=function(e,t){this.isDataFetched=!1;for(var i={},n=0;e.length>n;n++)t[e[n]]&&"fields"===e[n]?(this.setFields(),i[e[n]]=t[e[n]]):t[e[n]]&&(i[e[n]]=t[e[n]]);Object.keys(i).length>0&&(-1===Object.keys(i).indexOf("dataSource")&&(i.dataSource=this.dataSource),this.updateDataSource(i))},t.prototype.onPropertyChanged=function(e,t){"dropdownbase"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],e),this.setUpdateInitial(["sortOrder","itemTemplate"],e);for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"query":case"sortOrder":case"dataSource":case"itemTemplate":break;case"enableRtl":this.setEnableRtl();break;case"groupTemplate":if(this.renderGroupTemplate(this.list),this.ulElement&&this.fixedHeaderElement){var r=this.ulElement.querySelector("."+Pp);this.fixedHeaderElement.innerHTML=r.innerHTML}break;case"locale":this.list&&!ko(this.liCollections)&&0===this.liCollections.length&&this.l10nUpdate();break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex()}}},t.prototype.render=function(e,t){"listbox"===this.getModuleName()?this.list=this.createElement("div",{className:Ap,attrs:{tabindex:"0"}}):this.list=this.createElement("div",{className:Ap}),this.list.classList.add(Dp),this.setFields();var i={duration:300,selector:"."+Op};this.rippleFun=Il(this.list,i);var n=this.element.querySelector("select>optgroup");if(!this.fields.groupBy&&ko(n)||this.isGroupChecking||Oa.add(this.list,"scroll",this.setFloatingHeader,this),"dropdownbase"===this.getModuleName()){this.element.getAttribute("tabindex")&&this.list.setAttribute("tabindex",this.element.getAttribute("tabindex")),Ba([this.element],Dp),this.element.style.display="none";var r=this.createElement("div");this.element.parentElement.insertBefore(r,this.element),r.appendChild(this.element),r.appendChild(this.list)}this.setEnableRtl(),t||this.initialize(e)},t.prototype.removeScrollEvent=function(){this.list&&Oa.remove(this.list,"scroll",this.setFloatingHeader)},t.prototype.getModuleName=function(){return"dropdownbase"},t.prototype.getItems=function(){return this.ulElement.querySelectorAll("."+Op)},t.prototype.addItem=function(e,t){if((!this.list||this.list.textContent===this.noRecordsTemplate&&"listbox"!==this.getModuleName())&&this.renderList(),"None"!==this.sortOrder&&ko(t)){var i=[].slice.call(this.listData);i.push(e),i=this.getSortedDataSource(i),t=this.fields.groupBy?(i=rp.groupDataSource(i,this.fields.properties,this.sortOrder)).indexOf(e):i.indexOf(e)}var n,r=this.getItems().length,s=this.list.querySelector("."+jp);e=e instanceof Array?e:[e],n=ko(t)||t<0||t>r-1?r:t;var o=this.fields;e&&o.groupBy&&(e=rp.groupDataSource(e,o.properties));for(var a=[],l=0;l<e.length;l++){var h=e[l],c=h.isHeader,u=this.createElement("li",{className:c?Pp:Op,id:"option-add-"+l}),p=h instanceof Object?No(o.text,h):h;if(c&&(u.innerText=p),this.itemTemplate&&!c){var d=this.templateCompiler(this.itemTemplate),f=("function"!==typeof this.itemTemplate&&d?Uh(Ka(this.itemTemplate,document).innerHTML.trim()):Uh(this.itemTemplate))(h,this,"itemTemplate",this.itemTemplateId,this.isStringTemplate,null,u);f&&Wa(f,u)}else c||u.appendChild(document.createTextNode(p));u.setAttribute("data-value",h instanceof Object?No(o.value,h):h),u.setAttribute("role","option"),this.notify("addItem",{module:"CheckBoxSelection",item:u}),a.push(u),this.listData.push(h),"None"===this.sortOrder&&ko(t)&&0===n&&(n=null),this.updateActionCompleteData(u,h,n),this.trigger("beforeItemRender",{element:u,item:h})}if(0===r&&ko(this.list.querySelector("ul")))ko(this.list)||(this.list.innerHTML="",this.list.classList.remove(kp),this.isAddNewItemTemplate=!0,ko(this.ulElement)||this.list.appendChild(this.ulElement)),this.liCollections=a,ko(a)||ko(this.ulElement)||Wa(a,this.ulElement),this.updateAddItemList(this.list,r);else{"listbox"===this.getModuleName()&&0===r&&(this.ulElement.innerHTML="");var g=[];for(l=0;l<e.length;l++){for(var m=this.ulElement.querySelectorAll(".e-list-group-item"),y=0;y<m.length;y++)g[y]=m[y].innerText;if(g.indexOf(a[l].innerText)>-1&&o.groupBy){for(y=0;y<m.length;y++)if(g[y]===a[l].innerText){"None"===this.sortOrder?this.ulElement.insertBefore(a[l+1],m[y+1]):this.ulElement.insertBefore(a[l+1],this.ulElement.childNodes[t]),l+=1;break}}else this.liCollections[n]?this.liCollections[n].parentNode.insertBefore(a[l],this.liCollections[n]):this.ulElement.appendChild(a[l]);var v=[].slice.call(this.liCollections);v.splice(n,0,a[l]),this.liCollections=v,n+=1,"multiselect"===this.getModuleName()&&this.updateDataList()}}"listbox"===this.getModuleName()&&this.isReact&&this.renderReactTemplates(),(s||0===t)&&this.updateSelection(),this.addedNewItem=!0},t.prototype.validationAttribute=function(e,t){var i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");for(var n=["required","aria-required","form"],r=0;r<n.length;r++)if(e.getAttribute(n[r])){var s=e.getAttribute(n[r]);t.setAttribute(n[r],s),e.removeAttribute(n[r])}},t.prototype.setZIndex=function(){},t.prototype.updateActionCompleteData=function(e,t,i){},t.prototype.updateAddItemList=function(e,t){},t.prototype.updateDataList=function(){},t.prototype.getDataByValue=function(e){if(!ko(this.listData)){var t=this.typeOfData(this.listData).typeof;if("string"===t||"number"===t||"boolean"===t)for(var i=0,n=this.listData;i<n.length;i++){if(!ko(o=n[i])&&o===e)return o}else for(var r=0,s=this.listData;r<s.length;r++){var o;if(!ko(o=s[r])&&No(this.fields.value?this.fields.value:"value",o)===e)return o}}return null},t.prototype.destroy=function(){document.body.contains(this.list)&&(Oa.remove(this.list,"scroll",this.setFloatingHeader),ko(this.rippleFun)||this.rippleFun(),Qa(this.list)),this.liCollections=null,this.ulElement=null,this.list=null,this.enableRtlElements=null,this.rippleFun=null,e.prototype.destroy.call(this)},Cp([gl({text:null,value:null,iconCss:null,groupBy:null},xp)],t.prototype,"fields",void 0),Cp([fl(null)],t.prototype,"itemTemplate",void 0),Cp([fl(null)],t.prototype,"groupTemplate",void 0),Cp([fl("No records found")],t.prototype,"noRecordsTemplate",void 0),Cp([fl("Request failed")],t.prototype,"actionFailureTemplate",void 0),Cp([fl("None")],t.prototype,"sortOrder",void 0),Cp([fl([])],t.prototype,"dataSource",void 0),Cp([fl(null)],t.prototype,"query",void 0),Cp([fl("StartsWith")],t.prototype,"filterType",void 0),Cp([fl(!0)],t.prototype,"ignoreCase",void 0),Cp([fl(1e3)],t.prototype,"zIndex",void 0),Cp([fl(!1)],t.prototype,"ignoreAccent",void 0),Cp([fl()],t.prototype,"locale",void 0),Cp([yl()],t.prototype,"actionBegin",void 0),Cp([yl()],t.prototype,"actionComplete",void 0),Cp([yl()],t.prototype,"actionFailure",void 0),Cp([yl()],t.prototype,"select",void 0),Cp([yl()],t.prototype,"dataBound",void 0),Cp([yl()],t.prototype,"created",void 0),Cp([yl()],t.prototype,"destroyed",void 0),t=Cp([vl],t)}(Xl),Vp=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Up=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},Hp={TEXTSHAPE:"e-skeleton-text",CIRCLESHAPE:"e-skeleton-circle",SQUARESHAPE:"e-skeleton-square",RECTANGLESHAPE:"e-skeleton-rectangle",WAVEEFFECT:"e-shimmer-wave",PULSEEFFECT:"e-shimmer-pulse",FADEEFFECT:"e-shimmer-fade",VISIBLENONE:"e-visible-none"};!function(e){e.Text="Text",e.Circle="Circle",e.Square="Square",e.Rectangle="Rectangle"}(_p||(_p={})),function(e){e.Wave="Wave",e.Fade="Fade",e.Pulse="Pulse",e.None="None"}(Ip||(Ip={}));var Wp=function(e){function t(t,i){return e.call(this,t,i)||this}return Vp(t,e),t.prototype.getModuleName=function(){return"skeleton"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.preRender=function(){this.element.id||(this.element.id=Lo("e-"+this.getModuleName())),this.updateCssClass(),Ga(this.element,{role:"alert","aria-busy":"true","aria-live":"polite","aria-label":this.label})},t.prototype.render=function(){this.initialize()},t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"width":case"height":this.updateDimension();break;case"shape":this.updateShape();break;case"shimmerEffect":this.updateEffect();break;case"visible":this.updateVisibility();break;case"label":this.element.setAttribute("aria-label",this.label);break;case"cssClass":t.cssClass&&Ba([this.element],t.cssClass.split(" ")),this.updateCssClass()}}},t.prototype.destroy=function(){e.prototype.destroy.call(this);var t=["role","aria-live","aria-busy","aria-label"],i=[];this.cssClass&&(i=i.concat(this.cssClass.split(" ")));for(var n=0;n<t.length;n++)this.element.removeAttribute(t[parseInt(n.toString(),10)]);i=(i=i.concat(this.element.classList.value.match(/(e-skeleton-[^\s]+)/g))).concat(this.element.classList.value.match(/(e-shimmer-[^\s]+)/g)),Ba([this.element],i)},t.prototype.initialize=function(){this.updateShape(),this.updateEffect(),this.updateVisibility()},t.prototype.updateShape=function(){var e=Hp[this.shape.toUpperCase()+"SHAPE"],t=this.element.classList.value.match(/(e-skeleton-[^\s]+)/g);this.updateDimension(),t&&Ba([this.element],t),Fa([this.element],[e])},t.prototype.updateDimension=function(){var e=!this.width&&["Text","Rectangle"].indexOf(this.shape)>-1?"100%":Fo(this.width),t=["Circle","Square"].indexOf(this.shape)>-1?e:Fo(this.height);this.element.style.width=e,this.element.style.height=t},t.prototype.updateEffect=function(){var e=this.element.classList.value.match(/(e-shimmer-[^\s]+)/g);e&&Ba([this.element],e),Fa([this.element],[Hp[this.shimmerEffect.toUpperCase()+"EFFECT"]])},t.prototype.updateVisibility=function(){this.element.classList[this.visible?"remove":"add"](Hp.VISIBLENONE)},t.prototype.updateCssClass=function(){this.cssClass&&Fa([this.element],this.cssClass.split(" "))},Up([fl("")],t.prototype,"width",void 0),Up([fl("")],t.prototype,"height",void 0),Up([fl(!0)],t.prototype,"visible",void 0),Up([fl("Text")],t.prototype,"shape",void 0),Up([fl("Wave")],t.prototype,"shimmerEffect",void 0),Up([fl("Loading...")],t.prototype,"label",void 0),Up([fl("")],t.prototype,"cssClass",void 0),t=Up([vl],t)}(Xl),Yp=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qp=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},qp={root:"e-dropdownlist",hover:Ep,selected:jp,rtl:Tp,li:Op,disable:Rp,base:Dp,focus:Lp,content:Ap,input:"e-input-group",inputFocus:"e-input-focus",icon:"e-input-group-icon e-ddl-icon",iconAnimation:"e-icon-anim",value:"e-input-value",device:"e-ddl-device",backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",filterParent:"e-filter-parent",mobileFilter:"e-ddl-device-filter",footer:"e-ddl-footer",header:"e-ddl-header",clearIcon:"e-clear-icon",clearIconHide:"e-clear-icon-hide",popupFullScreen:"e-popup-full-page",disableIcon:"e-ddl-disable-icon",hiddenElement:"e-ddl-hidden",virtualList:"e-list-item e-virtual-list"},Gp={container:null,buttons:[]},Kp=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.skeletonCount=32,n.isListSearched=!1,n.preventChange=!1,n.isAngular=!1,n.itemCount=10,n.virtualListHeight=0,n.isVirtualScrolling=!1,n.isPreventScrollAction=!1,n.scrollPreStartIndex=0,n.isScrollActionTriggered=!1,n.previousStartIndex=0,n.isMouseScrollAction=!1,n.isKeyBoardAction=!1,n.isUpwardScrolling=!1,n.startIndex=0,n.currentPageNumber=0,n.pageCount=0,n.isPreventKeyAction=!1,n.generatedDataObject={},n.isTouched=!1,n.virtualListInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.selectedValueInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.IsScrollerAtEnd=function(){return this.list&&this.list.scrollTop+this.list.clientHeight>=this.list.scrollHeight},n}return Yp(t,e),t.prototype.preRender=function(){this.valueTempElement=null,this.element.style.opacity="0",this.initializeData(),e.prototype.preRender.call(this),this.activeIndex=this.index,this.queryString=""},t.prototype.initializeData=function(){this.isPopupOpen=!1,this.isDocumentClick=!1,this.isInteracted=!1,this.isFilterFocus=!1,this.beforePopupOpen=!1,this.initial=!0,this.initRemoteRender=!1,this.isNotSearchList=!1,this.isTyped=!1,this.isSelected=!1,this.preventFocus=!1,this.preventAutoFill=!1,this.isValidKey=!1,this.typedString="",this.isEscapeKey=!1,this.isPreventBlur=!1,this.isTabKey=!1,this.actionCompleteData={isUpdated:!1},this.actionData={isUpdated:!1},this.prevSelectPoints={},this.isSelectCustom=!1,this.isDropDownClick=!1,this.preventAltUp=!1,this.isCustomFilter=!1,this.isSecondClick=!1,this.previousValue=null,this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"},this.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount}},t.prototype.setZIndex=function(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})},t.prototype.requiredModules=function(){var e=[];return this.enableVirtualization&&e.push({args:[this],member:"VirtualScroll"}),e},t.prototype.renderList=function(t,i){e.prototype.render.call(this,t,i),this.totalItemCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.unWireListEvents(),this.wireListEvents()},t.prototype.floatLabelChange=function(){if("dropdownlist"===this.getModuleName()&&"Auto"===this.floatLabelType){var e=this.inputWrapper.container.querySelector(".e-float-text");""!==this.inputElement.value||this.isInteracted?el(e,["e-label-top"],["e-label-bottom"]):el(e,["e-label-bottom"],["e-label-top"])}},t.prototype.resetHandler=function(e){e.preventDefault(),this.clearAll(e),this.enableVirtualization&&(this.list.scrollTop=0,this.virtualListInfo=null,this.previousStartIndex=0,this.previousEndIndex=0)},t.prototype.resetFocusElement=function(){if(this.removeHover(),this.removeSelection(),this.removeFocus(),this.list.scrollTop=0,"autocomplete"!==this.getModuleName()&&!ko(this.ulElement)){var e=this.ulElement.querySelector("."+qp.li);this.enableVirtualization&&(e=this.liCollections[this.skeletonCount]),e&&e.classList.add(qp.focus)}},t.prototype.clearAll=function(e,t){this.previousItemData=ko(this.itemData)?null:this.itemData,!ko(t)&&(ko(t)||!ko(t.dataSource)&&(t.dataSource instanceof mp||0!==t.dataSource.length))||(this.isActive=!0,this.resetSelection(t));var i=this.getItemData();this.previousValue!==i.value&&(this.onChangeEvent(e),this.checkAndResetCache(),this.enableVirtualization&&this.updateInitialData())},t.prototype.resetSelection=function(e){this.list&&(ko(e)||!ko(e.dataSource)&&(e.dataSource instanceof mp||0!==e.dataSource.length)?(this.allowFiltering&&"autocomplete"!==this.getModuleName()&&!ko(this.actionCompleteData.ulElement)&&!ko(this.actionCompleteData.list)&&this.actionCompleteData.list.length>0&&this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(!0),this.actionCompleteData.list),this.resetFocusElement()):(this.selectedLI=null,this.actionCompleteData.isUpdated=!1,this.actionCompleteData.ulElement=null,this.actionCompleteData.list=null,this.resetList(e.dataSource))),ko(this.hiddenElement)||(this.hiddenElement.innerHTML=""),ko(this.inputElement)||(this.inputElement.value=""),this.value=null,this.itemData=null,this.text=null,this.index=null,this.activeIndex=null,this.item=null,this.queryString="",this.valueTempElement&&(Qa(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null),this.setSelection(null,null),this.isSelectCustom=!1,this.updateIconState(),this.cloneElements()},t.prototype.setHTMLAttributes=function(){if(Object.keys(this.htmlAttributes).length)for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];if("class"===i){var n=this.htmlAttributes[""+i].replace(/\s+/g," ").trim();""!==n&&Fa([this.inputWrapper.container],n.split(" "))}else if("disabled"===i&&"disabled"===this.htmlAttributes[""+i])this.enabled=!1,this.setEnable();else if("readonly"!==i||ko(this.htmlAttributes[""+i]))if("style"===i)this.inputWrapper.container.setAttribute("style",this.htmlAttributes[""+i]);else if("aria-label"===i)"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||this.readonly?"dropdownlist"===this.getModuleName()&&this.inputWrapper.container.setAttribute("aria-label",this.htmlAttributes[""+i]):this.inputElement.setAttribute("aria-label",this.htmlAttributes[""+i]);else{var r=["title","id","placeholder","role","autocomplete","autocapitalize","spellcheck","minlength","maxlength"];"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||r.push("tabindex"),["name","required"].indexOf(i)>-1||0===i.indexOf("data")?this.hiddenElement.setAttribute(i,this.htmlAttributes[""+i]):r.indexOf(i)>-1?"placeholder"===i?Ou.setPlaceholder(this.htmlAttributes[""+i],this.inputElement):this.inputElement.setAttribute(i,this.htmlAttributes[""+i]):this.inputWrapper.container.setAttribute(i,this.htmlAttributes[""+i])}else this.readonly=!0,this.dataBind()}"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||this.inputWrapper.container.removeAttribute("tabindex")},t.prototype.getAriaAttributes=function(){return{"aria-disabled":"false",role:"combobox","aria-expanded":"false","aria-live":"polite","aria-labelledby":this.hiddenElement.id}},t.prototype.setEnableRtl=function(){Ou.setEnableRtl(this.enableRtl,[this.inputElement.parentElement]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},t.prototype.setEnable=function(){Ou.setEnabled(this.enabled,this.inputElement),this.enabled?(Ba([this.inputWrapper.container],qp.disable),this.inputElement.setAttribute("aria-disabled","false"),this.targetElement().setAttribute("tabindex",this.tabIndex)):(this.hidePopup(),Fa([this.inputWrapper.container],qp.disable),this.inputElement.setAttribute("aria-disabled","true"),this.targetElement().tabIndex=-1)},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.getLocaleName=function(){return"drop-down-list"},t.prototype.preventTabIndex=function(e){"dropdownlist"===this.getModuleName()&&(e.tabIndex=-1)},t.prototype.targetElement=function(){return ko(this.inputWrapper)?null:this.inputWrapper.container},t.prototype.getNgDirective=function(){return"EJS-DROPDOWNLIST"},t.prototype.getElementByText=function(e){return this.getElementByValue(this.getValueByText(e))},t.prototype.getElementByValue=function(e){for(var t,i=0,n=this.getItems();i<n.length;i++){var r=n[i];if(this.getFormattedValue(r.getAttribute("data-value"))===e){t=r;break}}return t},t.prototype.initValue=function(){this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.itemCount,this.renderList(),this.dataSource instanceof mp?this.initRemoteRender=!0:this.updateValues()},t.prototype.updateValues=function(){if(this.selectedValueInfo=this.viewPortInfo,ko(this.value))if(this.text&&ko(this.value)){var e=this.getElementByText(this.text);if(ko(e))return void this.setProperties({text:null});this.setSelection(e,null)}else this.setSelection(this.liCollections[this.activeIndex],null);else this.setSelection(this.getElementByValue(this.value),null);this.setHiddenValue(),Ou.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.onBlurHandler=function(e){if(this.enabled){var t=e.relatedTarget,i=e.target,n=this.isPreventBlur;this.isPreventBlur=!1,!n||this.isDocumentClick||!this.isPopupOpen||ko(i)&&(this.isFilterLayout()||!ko(t))?this.isDocumentClick||!ko(this.popupObj)&&document.body.contains(this.popupObj.element)&&this.popupObj.element.classList.contains(qp.mobileFilter)?this.beforePopupOpen||(this.isDocumentClick=!1):(("dropdownlist"===this.getModuleName()&&!this.isFilterFocus&&t!==this.inputElement&&(document.activeElement!==t||document.activeElement===t&&i.classList.contains(qp.inputFocus))||ko(t)&&"dropdownlist"===this.getModuleName()&&this.allowFiltering&&i!==this.inputWrapper.container||"dropdownlist"!==this.getModuleName()&&!this.inputWrapper.container.contains(t)||this.isTabKey)&&(this.isDocumentClick=!!this.isPopupOpen,this.focusOutAction(e),this.isTabKey=!1),!this.isRequested||this.isPopupOpen||this.isPreventBlur||(this.isActive=!1,this.beforePopupOpen=!1)):"dropdownlist"===this.getModuleName()&&this.allowFiltering&&this.isPopupOpen?this.filterInput.focus():this.targetElement().focus()}},t.prototype.focusOutAction=function(e){this.isInteracted=!1,this.focusOut(e),this.onFocusOut()},t.prototype.onFocusOut=function(){this.enabled&&(this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(null)),this.floatLabelChange(),this.dispatchEvent(this.hiddenElement,"change"),"dropdownlist"===this.getModuleName()&&"INPUT"!==this.element.tagName&&this.dispatchEvent(this.inputElement,"blur"),this.inputWrapper.clearButton&&Fa([this.inputWrapper.clearButton],qp.clearIconHide),this.trigger("blur"))},t.prototype.onFocus=function(e){if(!this.isInteracted){this.isInteracted=!0;var t={isInteracted:!!e,event:e};this.trigger("focus",t)}this.updateIconState()},t.prototype.resetValueHandler=function(e){var t=Za(this.inputElement,"form");if(t&&e.target===t){var i=this.element.tagName===this.getNgDirective()?null:this.inputElement.getAttribute("value");this.text=i}},t.prototype.wireEvent=function(){Oa.add(this.inputWrapper.container,"mousedown",this.dropDownClick,this),Oa.add(this.inputWrapper.container,"focus",this.focusIn,this),Oa.add(this.inputWrapper.container,"keypress",this.onSearch,this),Oa.add(window,"resize",this.windowResize,this),this.bindCommonEvent()},t.prototype.bindCommonEvent=function(){Oa.add(this.targetElement(),"blur",this.onBlurHandler,this);var e=Za(this.inputElement,"form");e&&Oa.add(e,"reset",this.resetValueHandler,this),La.isDevice?this.keyboardModule=new hh(this.targetElement(),{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}):this.keyboardModule=new hh(this.targetElement(),{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.bindClearEvent()},t.prototype.windowResize=function(){this.isPopupOpen&&this.popupObj.refreshPosition(this.inputWrapper.container)},t.prototype.bindClearEvent=function(){this.showClearButton&&Oa.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)},t.prototype.unBindCommonEvent=function(){!ko(this.inputWrapper)&&this.targetElement()&&Oa.remove(this.targetElement(),"blur",this.onBlurHandler);var e=this.inputElement&&Za(this.inputElement,"form");e&&Oa.remove(e,"reset",this.resetValueHandler),La.isDevice||this.keyboardModule.destroy(),this.showClearButton&&Oa.remove(this.inputWrapper.clearButton,"mousedown",this.resetHandler)},t.prototype.updateIconState=function(){this.showClearButton&&(""===this.inputElement.value||this.readonly?Fa([this.inputWrapper.clearButton],qp.clearIconHide):Ba([this.inputWrapper.clearButton],qp.clearIconHide))},t.prototype.wireListEvents=function(){ko(this.list)||(Oa.add(this.list,"click",this.onMouseClick,this),Oa.add(this.list,"mouseover",this.onMouseOver,this),Oa.add(this.list,"mouseout",this.onMouseLeave,this))},t.prototype.onSearch=function(e){32!==e.charCode&&13!==e.charCode&&(void 0===this.list&&this.renderList(),this.searchKeyEvent=e,this.onServerIncrementalSearch(e))},t.prototype.onServerIncrementalSearch=function(e){this.isRequested||ko(this.list)||ko(this.list.querySelector("li"))||!this.enabled||this.readonly||this.incrementalSearch(e)},t.prototype.onMouseClick=function(e){var t=e.target;this.keyboardEvent=null;var i=Za(t,"."+Op);if(this.isValidLI(i))if(this.setSelection(i,e),La.isDevice&&this.isFilterLayout())history.back();else{this.closePopup(100,e)}},t.prototype.onMouseOver=function(e){var t=Za(e.target,"."+Op);this.setHover(t)},t.prototype.setHover=function(e){this.enabled&&this.isValidLI(e)&&!e.classList.contains(Ep)&&(this.removeHover(),Fa([e],Ep))},t.prototype.onMouseLeave=function(){this.removeHover()},t.prototype.removeHover=function(){if(this.list){var e=this.list.querySelectorAll("."+Ep);e&&e.length&&Ba(e,Ep)}},t.prototype.isValidLI=function(e){return e&&e.hasAttribute("role")&&"option"===e.getAttribute("role")},t.prototype.incrementalSearch=function(e){if(this.liCollections.length>0){var t=function(e,t,i,n,r){var s;if($u+=String.fromCharCode(e),setTimeout((function(){$u=""}),1e3),$u=n?$u.toLowerCase():$u,ip===r&&ep===$u){for(var o=0;o<tp.length;o++)if(tp[o].classList.contains("e-active")){s=o;break}return tp[s+=1]?tp[s]:tp[0]}var a=t,l=$u.length,h=void 0;o=i=i?i+1:0,tp=[];do{o===a.length&&(o=-1),h=a[s=-1===o?0:o],(n?h.innerText.toLowerCase():h.innerText).substr(0,l)===$u&&tp.push(a[s]),o++}while(o!==i);return ep=$u,ip=r,tp[0]}(e.charCode,this.liCollections,this.activeIndex,!0,this.element.id);ko(t)||(this.setSelection(t,e),this.setScrollPosition())}},t.prototype.hideSpinner=function(){ko(this.spinnerElement)||(Hc(this.spinnerElement),Ba([this.spinnerElement],qp.disableIcon),this.spinnerElement.innerHTML="",this.spinnerElement=null)},t.prototype.showSpinner=function(){ko(this.spinnerElement)&&(this.spinnerElement=La.isDevice&&!ko(this.filterInputObj)&&this.filterInputObj.buttons[1]||!ko(this.filterInputObj)&&this.filterInputObj.buttons[0]||this.inputWrapper.buttons[0],Fa([this.spinnerElement],qp.disableIcon),xc({target:this.spinnerElement,width:La.isDevice?"16px":"14px"},this.createElement),Vc(this.spinnerElement))},t.prototype.keyActionHandler=function(e){if(this.enabled){this.keyboardEvent=e,this.isPreventKeyAction&&this.enableVirtualization&&e.preventDefault();var t="pageUp"===e.action||"pageDown"===e.action,i="dropdownlist"!==this.getModuleName()&&("home"===e.action||"end"===e.action);this.isEscapeKey="escape"===e.action,this.isTabKey=!this.isPopupOpen&&"tab"===e.action;var n="down"===e.action||"up"===e.action||"pageUp"===e.action||"pageDown"===e.action||"home"===e.action||"end"===e.action;if((!(this.isEditTextBox()||t||i)||this.isPopupOpen)&&!this.readonly){var r="tab"===e.action||"close"===e.action;if(!ko(this.list)||this.isRequested||r||"escape"===e.action||(this.searchKeyEvent=e,this.renderList(e)),ko(this.list)||!ko(this.liCollections)&&n&&0===this.liCollections.length||this.isRequested)return;switch((r&&"autocomplete"!==this.getModuleName()&&this.isPopupOpen||"escape"===e.action)&&e.preventDefault(),this.isSelected="escape"!==e.action&&this.isSelected,this.isTyped=!n&&"escape"!==e.action&&this.isTyped,e.action){case"down":case"up":this.updateUpDownAction(e);break;case"pageUp":this.pageUpSelection(this.activeIndex-this.getPageCount(),e),e.preventDefault();break;case"pageDown":this.pageDownSelection(this.activeIndex+this.getPageCount(),e),e.preventDefault();break;case"home":case"end":this.isMouseScrollAction=!0,this.updateHomeEndAction(e);break;case"space":"dropdownlist"===this.getModuleName()&&(this.beforePopupOpen||this.showPopup());break;case"open":this.showPopup(e);break;case"hide":this.preventAltUp=this.isPopupOpen,this.hidePopup(e),this.focusDropDown(e);break;case"enter":this.selectCurrentItem(e);break;case"tab":this.selectCurrentValueOnTab(e);break;case"escape":case"close":this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))}}}},t.prototype.updateUpDownAction=function(e,t){if(this.allowFiltering&&!this.enableVirtualization&&"autocomplete"!==this.getModuleName()){var i=this.getItemData().value;ko(c=this.getIndexByValue(i))||(this.activeIndex=c)}var n=this.list.querySelector("."+qp.focus);if(this.isSelectFocusItem(n)&&!t){if(this.setSelection(n,e),this.enableVirtualization){var r=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop;this.list.scrollTop=r-this.list.querySelectorAll(".e-virtual-list").length*this.selectedLI.offsetHeight}}else if(!ko(this.liCollections)){var s=this.activeIndex,o="down"===e.action?this.activeIndex+1:this.activeIndex-1;o=t?s:o;var a=0;"autocomplete"===this.getModuleName()&&(a="down"===e.action&&ko(this.activeIndex)?0:this.liCollections.length-1,o=o<0?this.liCollections.length-1:o===this.liCollections.length?0:o);var l=void 0;if("autocomplete"!==this.getModuleName()||"autocomplete"===this.getModuleName()&&this.isPopupOpen)if(this.enableVirtualization)if(t)if("autocomplete"===this.getModuleName()){var h=this.selectedLI.dataset.value;l=this.getElementByValue(h)}else l=this.getElementByValue(this.getItemData().value);else l=ko(this.activeIndex)?this.liCollections[this.skeletonCount]:this.liCollections[o],l=ko(l)||l.classList.contains("e-virtual-list")?null:l;else l=ko(this.activeIndex)?this.liCollections[a]:this.liCollections[o];ko(l)||this.setSelection(l,e)}if(this.allowFiltering&&!this.enableVirtualization&&"autocomplete"!==this.getModuleName()){var c,u=this.getItemData().value;ko(c=this.getIndexByValueFilter(u))||(this.activeIndex=c)}e.preventDefault()},t.prototype.updateHomeEndAction=function(e,t){if("dropdownlist"===this.getModuleName()){var i=0;if("home"===e.action?(i=0,this.enableVirtualization&&(i=this.skeletonCount)):i=this.getItems().length-1,e.preventDefault(),this.activeIndex===i)return void(t&&this.setSelection(this.liCollections[i],e));this.setSelection(this.liCollections[i],e)}},t.prototype.selectCurrentValueOnTab=function(e){"autocomplete"===this.getModuleName()?this.selectCurrentItem(e):this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))},t.prototype.mobileKeyActionHandler=function(e){if(this.enabled&&(!this.isEditTextBox()||this.isPopupOpen)&&!this.readonly){if(void 0!==this.list||this.isRequested||(this.searchKeyEvent=e,this.renderList()),ko(this.list)||!ko(this.liCollections)&&0===this.liCollections.length||this.isRequested)return;"enter"===e.action&&this.selectCurrentItem(e)}},t.prototype.handleVirtualKeyboardActions=function(e,t){switch(e.action){case"down":case"up":null==this.itemData&&"autocomplete"!==this.getModuleName()||this.updateUpDownAction(e,!0);break;case"pageUp":var i=2*t-4;this.activeIndex=Math.round(i),this.pageUpSelection(this.activeIndex-this.getPageCount(),e,!0),e.preventDefault();break;case"pageDown":this.activeIndex=1,this.pageDownSelection(this.activeIndex+this.getPageCount(),e,!0),e.preventDefault();break;case"home":case"end":this.isMouseScrollAction=!0,this.updateHomeEndAction(e,!0)}this.keyboardEvent=null},t.prototype.selectCurrentItem=function(e){if(this.isPopupOpen){var t=this.list.querySelector("."+qp.focus);t&&(this.setSelection(t,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e)),this.hidePopup(e),this.focusDropDown(e)}else this.showPopup()},t.prototype.isSelectFocusItem=function(e){return!ko(e)},t.prototype.getPageCount=function(e){var t=this.list.classList.contains(kp)?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height"),i=Math.round(this.list.getBoundingClientRect().height/parseInt(t,10));return e?i:Math.round(i)},t.prototype.pageUpSelection=function(e,t,i){var n=e>=0?this.liCollections[e+1]:this.liCollections[0];(this.enableVirtualization&&null==this.activeIndex||i)&&(n=e>=0?this.liCollections[e+this.skeletonCount+1]:this.liCollections[0]),!ko(n)&&n.classList.contains("e-virtual-list")&&(n=this.liCollections[this.skeletonCount]),this.PageUpDownSelection(n,t)},t.prototype.PageUpDownSelection=function(e,t){this.enableVirtualization&&(ko(e)||("autocomplete"===this.getModuleName()||e.classList.contains("e-active"))&&("autocomplete"!==this.getModuleName()||e.classList.contains("e-item-focus")))||this.setSelection(e,t)},t.prototype.pageDownSelection=function(e,t,i){var n=this.getItems(),r=e<=n.length?this.liCollections[e-1]:this.liCollections[n.length-1];(this.enableVirtualization&&null==this.activeIndex||i)&&(r=e<=n.length?this.liCollections[e+this.skeletonCount-1]:this.liCollections[n.length-1]),this.PageUpDownSelection(r,t)},t.prototype.unWireEvent=function(){ko(this.inputWrapper)||(Oa.remove(this.inputWrapper.container,"mousedown",this.dropDownClick),Oa.remove(this.inputWrapper.container,"keypress",this.onSearch),Oa.remove(this.inputWrapper.container,"focus",this.focusIn),Oa.remove(window,"resize",this.windowResize)),this.unBindCommonEvent()},t.prototype.unWireListEvents=function(){this.list&&(Oa.remove(this.list,"click",this.onMouseClick),Oa.remove(this.list,"mouseover",this.onMouseOver),Oa.remove(this.list,"mouseout",this.onMouseLeave))},t.prototype.checkSelector=function(e){return'[id="'+e.replace(/(:|\.|\[|\]|,|=|@|\\|\/|#)/g,"\\$1")+'"]'},t.prototype.onDocumentClick=function(e){var t=e.target;if(!ko(this.popupObj)&&Za(t,this.checkSelector(this.popupObj.element.id))||ko(this.inputWrapper)||this.inputWrapper.container.contains(e.target))t===this.inputElement||this.allowFiltering&&t===this.filterInput||"combobox"===this.getModuleName()&&!this.allowFiltering&&La.isDevice&&t===this.inputWrapper.buttons[0]||(this.isPreventBlur=(La.isIE||"edge"===La.info.name)&&(document.activeElement===this.targetElement()||document.activeElement===this.filterInput),e.preventDefault());else if(this.inputWrapper.container.classList.contains(qp.inputFocus)||this.isPopupOpen){this.isDocumentClick=!0;var i=this.isRequested;this.isInteracted=!1,this.hidePopup(e),i||(this.onFocusOut(),this.inputWrapper.container.classList.remove(qp.inputFocus))}},t.prototype.activeStateChange=function(){this.isDocumentClick&&(this.hidePopup(),this.onFocusOut(),this.inputWrapper.container.classList.remove(qp.inputFocus))},t.prototype.focusDropDown=function(e){!this.initial&&this.isFilterLayout()&&this.focusIn(e)},t.prototype.dropDownClick=function(e){if(3!==e.which&&2!==e.button&&(this.keyboardEvent=null,!this.targetElement().classList.contains(qp.disable)&&this.inputWrapper.clearButton!==e.target)){var t=e.target;if(t===this.inputElement||this.allowFiltering&&t===this.filterInput||"combobox"===this.getModuleName()||e.preventDefault(),this.readonly)this.focusIn(e);else{this.isPopupOpen?(this.hidePopup(e),this.isFilterLayout()&&this.focusDropDown(e)):(this.focusIn(e),this.floatLabelChange(),this.queryString=""===this.inputElement.value.trim()?null:this.inputElement.value,this.isDropDownClick=!0,this.showPopup(e));var i=this,n=this.element.tagName===this.getNgDirective()&&this.itemTemplate?500:100;this.isSecondClick||setTimeout((function(){i.cloneElements(),i.isSecondClick=!0}),n)}}},t.prototype.cloneElements=function(){if(this.list){var e=this.list.querySelector("ul");e&&(e=e.cloneNode?e.cloneNode(!0):e,this.actionCompleteData.ulElement=e)}},t.prototype.updateSelectedItem=function(e,t,i,n){var r=this;this.removeSelection(),e.classList.add(jp),this.removeHover();var s="null"!==e.getAttribute("data-value")?this.getFormattedValue(e.getAttribute("data-value")):null,o=this.getDataByValue(s);if(this.initial||i||ko(t))this.selectEventCallback(e,t,i,o,s),n&&this.setSelectOptions(e,t);else{var a=this.detachChanges(o);this.isSelected=!0;var l={e:t,item:e,itemData:a,isInteracted:!!t,cancel:!1};this.trigger("select",l,(function(a){a.cancel?e.classList.remove(jp):(r.selectEventCallback(e,t,i,o,s),n&&r.setSelectOptions(e,t))}))}},t.prototype.selectEventCallback=function(e,t,i,n,r){this.previousItemData=ko(this.itemData)?null:this.itemData,this.itemData!=n&&(this.previousValue=ko(this.itemData)?null:"object"==typeof this.itemData?this.checkFieldValue(this.itemData,this.fields.value.split(".")):this.itemData),this.item=e,this.itemData=n;var s=this.list.querySelector("."+Lp);if(s&&Ba([s],Lp),e.setAttribute("aria-selected","true"),ko(r)&&(r="null"),this.allowFiltering&&!this.enableVirtualization&&"autocomplete"!==this.getModuleName()){var o=this.getIndexByValueFilter(r);ko(o)?this.activeIndex=this.getIndexByValue(r):this.activeIndex=o}else this.activeIndex=this.getIndexByValue(r)},t.prototype.activeItem=function(e){this.isValidLI(e)&&!e.classList.contains(jp)&&(this.removeSelection(),e.classList.add(jp),this.removeHover(),e.setAttribute("aria-selected","true"))},t.prototype.setValue=function(e){var t=this.getItemData();null===t.value?Ou.setValue(null,this.inputElement,this.floatLabelType,this.showClearButton):Ou.setValue(t.text,this.inputElement,this.floatLabelType,this.showClearButton),this.valueTemplate&&null!==this.itemData?this.setValueTemplate():ko(this.valueTempElement)||this.inputElement.previousSibling!==this.valueTempElement||(Qa(this.valueTempElement),this.inputElement.style.display="block"),ko(t.value)||this.enableVirtualization||!this.allowFiltering||(this.activeIndex=this.getIndexByValueFilter(t.value));var i=qp.clearIcon,n=this.isFiltering()&&this.filterInput&&"combobox"===this.getModuleName()&&this.filterInput.parentElement.querySelector("."+i);return this.isFiltering()&&n&&n.style.removeProperty("visibility"),this.previousValue===t.value?(this.isSelected=!1,!0):(this.isSelected=!this.initial,this.isSelectCustom=!1,"dropdownlist"===this.getModuleName()&&this.updateIconState(),!1)},t.prototype.setSelection=function(e,t){if(this.isValidLI(e)&&(!e.classList.contains(jp)||this.isPopupOpen&&this.isSelected&&e.classList.contains(jp)))this.updateSelectedItem(e,t,!1,!0);else if(this.setSelectOptions(e,t),this.enableVirtualization){var i=this.fields.value?this.fields.value:"",n=new mp(this.dataSource).executeLocal((new sp).where(new op(i,"equal",this.value)));n&&n.length>0&&(this.itemData=n[0],this.setProperties({text:n[0].text,value:n[0].value},!0))}},t.prototype.setSelectOptions=function(e,t){this.list&&this.removeHover(),this.previousSelectedLI=ko(this.selectedLI)?null:this.selectedLI,this.selectedLI=e,this.setValue(t)||((!this.isPopupOpen&&!ko(e)||this.isPopupOpen&&!ko(t)&&("keydown"!==t.type||"keydown"===t.type&&"enter"===t.action))&&(this.isSelectCustom=!1,this.onChangeEvent(t)),!this.isPopupOpen||ko(this.selectedLI)||null===this.itemData||t&&"click"===t.type||this.setScrollPosition(t),"mozilla"!==La.info.name&&this.targetElement()&&(Ga(this.targetElement(),{"aria-describedby":""!==this.inputElement.id?this.inputElement.id:this.element.id}),this.targetElement().removeAttribute("aria-live")),!this.isPopupOpen||ko(this.ulElement)||ko(this.ulElement.getElementsByClassName("e-item-focus")[0])?!this.isPopupOpen||ko(this.ulElement)||ko(this.ulElement.getElementsByClassName("e-active")[0])||Ga(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-active")[0].id}):Ga(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}))},t.prototype.dropdownCompiler=function(e){var t=!1;if("function"!==typeof e&&e)try{t=!!document.querySelectorAll(e).length}catch(i){t=!1}return t},t.prototype.setValueTemplate=function(){this.isReact&&(this.clearTemplate(["valueTemplate"]),this.valueTempElement&&(Qa(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null)),this.valueTempElement||(this.valueTempElement=this.createElement("span",{className:qp.value}),this.inputElement.parentElement.insertBefore(this.valueTempElement,this.inputElement),this.inputElement.style.display="none"),this.isReact||(this.valueTempElement.innerHTML="");var e=this.dropdownCompiler(this.valueTemplate),t=("function"!==typeof this.valueTemplate&&e?Uh(document.querySelector(this.valueTemplate).innerHTML.trim()):Uh(this.valueTemplate))(this.itemData,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,this.valueTempElement);t&&t.length>0&&Wa(t,this.valueTempElement),this.renderReactTemplates()},t.prototype.removeSelection=function(){if(this.list){var e=this.list.querySelectorAll("."+jp);e.length&&(Ba(e,jp),e[0].removeAttribute("aria-selected"))}},t.prototype.getItemData=function(){var e,t,i,n=this.fields;return ko(e=this.itemData)||(t=No(n.value,e),i=No(n.text,e)),{value:ko(e)||zo(t)?e:t,text:ko(e)||zo(t)?e:i}},t.prototype.onChangeEvent=function(e){var t=this.getItemData(),i=this.isSelectCustom?null:this.activeIndex;this.setProperties({index:i,text:t.text,value:t.value},!0),this.detachChangeEvent(e)},t.prototype.detachChanges=function(e){return"string"===typeof e||"boolean"===typeof e||"number"===typeof e?Object.defineProperties({},{value:{value:e,enumerable:!0},text:{value:e,enumerable:!0}}):e},t.prototype.detachChangeEvent=function(e){if(this.isSelected=!1,this.previousValue=this.value,this.activeIndex=this.index,this.typedString=ko(this.text)?"":this.text,!this.initial){var t=this.detachChanges(this.itemData),i=void 0;i="string"===typeof this.previousItemData||"boolean"===typeof this.previousItemData||"number"===typeof this.previousItemData?Object.defineProperties({},{value:{value:this.previousItemData,enumerable:!0},text:{value:this.previousItemData,enumerable:!0}}):this.previousItemData,this.setHiddenValue();var n={e:e,item:this.item,itemData:t,previousItem:this.previousSelectedLI,previousItemData:i,isInteracted:!!e,value:this.value,element:this.element,event:e};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",n)}!ko(this.value)&&""!==this.value||"Always"===this.floatLabelType||Ba([this.inputWrapper.container],"e-valid-input")},t.prototype.setHiddenValue=function(){var e;ko(this.value)?this.hiddenElement.innerHTML="":this.hiddenElement.querySelector("option")?((e=this.hiddenElement.querySelector("option")).textContent=this.text,e.setAttribute("value",this.value.toString())):ko(this.hiddenElement)||(this.hiddenElement.innerHTML="<option selected>"+this.text+"</option>",(e=this.hiddenElement.querySelector("option")).setAttribute("value",this.value.toString()))},t.prototype.onFilterUp=function(e){if(e.ctrlKey&&86===e.keyCode||!this.isValidKey&&40!==e.keyCode&&38!==e.keyCode)this.isValidKey=!1;else switch(this.isValidKey=!1,e.keyCode){case 38:case 40:"autocomplete"!==this.getModuleName()||this.isPopupOpen||this.preventAltUp||this.isRequested?this.preventAutoFill=!1:(this.preventAutoFill=!0,this.searchLists(e)),this.preventAltUp=!1,"autocomplete"!==this.getModuleName()||ko(this.ulElement)||ko(this.ulElement.getElementsByClassName("e-item-focus")[0])||Ga(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}),e.preventDefault();break;case 46:case 8:this.typedString=this.filterInput.value,!this.isPopupOpen&&""!==this.typedString||this.isPopupOpen&&this.queryString.length>0||""===this.typedString&&""===this.queryString&&"autocomplete"!==this.getModuleName()?(this.preventAutoFill=!0,this.searchLists(e)):""===this.typedString&&(this.list&&this.resetFocusElement(),this.activeIndex=null,"dropdownlist"!==this.getModuleName()&&(this.preventAutoFill=!0,this.searchLists(e),"autocomplete"===this.getModuleName()&&this.hidePopup())),e.preventDefault();break;default:this.typedString=this.filterInput.value,this.preventAutoFill=!1,this.searchLists(e),this.enableVirtualization&&this.getFilteringSkeletonCount()}},t.prototype.getFilteringSkeletonCount=function(){var e=this.dataCount-this.viewPortInfo.endIndex,t=this.skeletonCount;if(this.getSkeletonCount(!0),this.skeletonCount=this.dataCount>2*this.itemCount||e>this.skeletonCount?this.skeletonCount:e>0?e:0,!this.list.classList.contains(kp)){this.skeletonCount;t!==this.skeletonCount?this.UpdateSkeleton(!0,Math.abs(t-this.skeletonCount)):this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight(),this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues()}},t.prototype.getSkeletonCount=function(e){this.virtualListHeight=null!=this.listHeight?parseInt(this.listHeight,10):this.virtualListHeight;var t=this.virtualListHeight>0?Math.floor(this.virtualListHeight/this.listItemHeight):0;this.skeletonCount=2*t<this.itemCount?this.itemCount:2*t,this.itemCount=e?this.itemCount:this.skeletonCount,this.skeletonCount=Math.floor(this.skeletonCount/2)+2},t.prototype.onFilterDown=function(e){switch(e.keyCode){case 13:break;case 40:case 38:this.queryString=this.filterInput.value,e.preventDefault();break;case 9:this.isPopupOpen&&"autocomplete"!==this.getModuleName()&&e.preventDefault();break;default:this.prevSelectPoints=this.getSelectionPoints(),this.queryString=this.filterInput.value}},t.prototype.removeFillSelection=function(){if(this.isInteracted){var e=this.getSelectionPoints();this.inputElement.setSelectionRange(e.end,e.end)}},t.prototype.getQuery=function(e){var t;if(!this.isCustomFilter&&this.allowFiltering&&this.filterInput){t=e?e.clone():this.query?this.query.clone():new sp;var i=""===this.typedString?"contains":this.filterType,n=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof mp||"string"!==n)&&"number"!==n){var r=this.fields.text?this.fields.text:"";t.where(r,i,this.typedString,this.ignoreCase,this.ignoreAccent)}else t.where("",i,this.typedString,this.ignoreCase,this.ignoreAccent)}else t=e?e.clone():this.query?this.query.clone():new sp;if(this.enableVirtualization&&0!=this.viewPortInfo.endIndex){var s=this.getTakeValue();this.allowFiltering&&t.skip(this.virtualItemStartIndex),t.take(s),t.requiresCount()}return t},t.prototype.getSelectionPoints=function(){var e=this.inputElement;return{start:Math.abs(e.selectionStart),end:Math.abs(e.selectionEnd)}},t.prototype.searchLists=function(e){var t=this;(this.isTyped=!0,this.activeIndex=null,this.isListSearched=!0,this.filterInput.parentElement.querySelector("."+qp.clearIcon))&&(this.filterInput.parentElement.querySelector("."+qp.clearIcon).style.visibility=""===this.filterInput.value?"hidden":"visible");if(this.isDataFetched=!1,this.isFiltering()){this.checkAndResetCache();var i={preventDefaultAction:!1,text:this.filterInput.value,updateData:function(e,n,r){i.cancel||(t.isCustomFilter=!0,t.filteringAction(e,n,r))},baseEventArgs:e,cancel:!1};this.trigger("filtering",i,(function(e){e.cancel||t.isCustomFilter||e.preventDefaultAction||t.filteringAction(t.dataSource,null,t.fields)}))}},t.prototype.filter=function(e,t,i){this.isCustomFilter=!0,this.filteringAction(e,t,i)},t.prototype.filteringAction=function(e,t,i){if(!ko(this.filterInput)){this.beforePopupOpen=!(!this.isPopupOpen&&"combobox"===this.getModuleName()&&""===this.filterInput.value);var n=this.list.classList.contains(kp);if(""!==this.filterInput.value.trim()||this.itemTemplate){if(this.isNotSearchList=!1,t=""===this.filterInput.value.trim()?null:t,this.enableVirtualization&&this.isFiltering()&&this.isTyped&&(this.isPreventScrollAction=!0,this.list.scrollTop=0,this.previousStartIndex=0,this.virtualListInfo=null),this.resetList(e,i,t),this.enableVirtualization&&n&&!this.list.classList.contains(kp)&&(this.list.querySelector(".e-virtual-ddl-content")||this.list.appendChild(this.createElement("div",{className:"e-virtual-ddl-content",styles:this.getTransformValues()})).appendChild(this.list.querySelector(".e-list-parent")),!this.list.querySelector(".e-virtual-ddl"))){r=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl",styles:this.GetVirtualTrackHeight()});document.getElementsByClassName("e-popup")[0].querySelector(".e-dropdownbase").appendChild(r)}}else{if(this.actionCompleteData.isUpdated=!1,this.isTyped=!1,!ko(this.actionCompleteData.ulElement)&&!ko(this.actionCompleteData.list)){if(this.enableVirtualization&&(this.totalItemCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.resetList(e,i,t),n&&!this.list.classList.contains(kp)&&(this.list.querySelector(".e-virtual-ddl-content")||this.list.appendChild(this.createElement("div",{className:"e-virtual-ddl-content",styles:this.getTransformValues()})).appendChild(this.list.querySelector(".e-list-parent")),!this.list.querySelector(".e-virtual-ddl")))){var r=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl",styles:this.GetVirtualTrackHeight()});document.getElementsByClassName("e-popup")[0].querySelector(".e-dropdownbase").appendChild(r)}this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list)}this.isTyped=!0,ko(this.itemData)||"dropdownlist"!==this.getModuleName()||(this.focusIndexItem(),this.setScrollPosition()),this.isNotSearchList=!0}this.enableVirtualization&&this.getFilteringSkeletonCount(),this.renderReactTemplates()}},t.prototype.setSearchBox=function(e){if(this.isFiltering()){var t=e.querySelector("."+qp.filterParent)?e.querySelector("."+qp.filterParent):this.createElement("span",{className:qp.filterParent});this.filterInput=this.createElement("input",{attrs:{type:"text"},className:qp.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element);var i=!1;return La.isDevice&&(i=!0),this.filterInputObj=Ou.createInput({element:this.filterInput,buttons:i?[qp.backIcon,qp.filterBarClearIcon]:[qp.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),ko(this.cssClass)||(-1!==this.cssClass.split(" ").indexOf("e-outline")?Fa([this.filterInputObj.container],"e-outline"):-1!==this.cssClass.split(" ").indexOf("e-filled")&&Fa([this.filterInputObj.container],"e-filled")),Wa([this.filterInputObj.container],t),Ha([t],e),Ga(this.filterInput,{"aria-disabled":"false",role:"combobox",autocomplete:"off",autocapitalize:"off",spellcheck:"false"}),this.clearIconElement=this.filterInput.parentElement.querySelector("."+qp.clearIcon),!La.isDevice&&this.clearIconElement&&(Oa.add(this.clearIconElement,"click",this.clearText,this),this.clearIconElement.style.visibility="hidden"),La.isDevice?this.searchKeyModule=new hh(this.filterInput,{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}):this.searchKeyModule=new hh(this.filterInput,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),Oa.add(this.filterInput,"input",this.onInput,this),Oa.add(this.filterInput,"keyup",this.onFilterUp,this),Oa.add(this.filterInput,"keydown",this.onFilterDown,this),Oa.add(this.filterInput,"blur",this.onBlurHandler,this),Oa.add(this.filterInput,"paste",this.pasteHandler,this),this.filterInputObj}return Gp},t.prototype.onInput=function(e){this.isValidKey=!0,"combobox"===this.getModuleName()&&this.updateIconState(),La.isDevice&&"mozilla"===La.info.name&&(this.typedString=this.filterInput.value,this.preventAutoFill=!0,this.searchLists(e))},t.prototype.pasteHandler=function(e){var t=this;setTimeout((function(){t.typedString=t.filterInput.value,t.searchLists(e)}))},t.prototype.onActionFailure=function(t){e.prototype.onActionFailure.call(this,t),this.beforePopupOpen&&this.renderPopup()},t.prototype.UpdateSkeleton=function(e,t){var i=this.list.querySelector(".e-virtual-ddl-content"),n=this.list.querySelector(".e-virtual-list");if(i&&(!n||e)&&this.enableVirtualization)for(var r=e?t:this.skeletonCount,s=0;s<r;s++){var o=this.createElement("li",{className:qp.virtualList,styles:"overflow: inherit"});this.enableVirtualization&&this.itemTemplate&&(o.style.height=this.listItemHeight+"px");var a=new Wp({shape:"Text",height:"10px",width:"95%",cssClass:"e-skeleton-text"});a.appendTo(this.createElement("div")),o.appendChild(a.element),i.firstChild.insertBefore(o,i.firstChild.children[0])}},t.prototype.getTakeValue=function(){return this.allowFiltering&&"dropdownlist"===this.getModuleName()&&La.isDevice?Math.round(window.outerHeight/this.listItemHeight):this.itemCount},t.prototype.onActionComplete=function(t,i,n,r){var s=this;if(this.dataSource instanceof mp&&!ko(n)&&(this.totalItemCount=n.count),!this.isNotSearchList||this.enableVirtualization){var o=this.itemCount;if(this.isActive||!ko(t)){var a=this.selectedLI?this.selectedLI.cloneNode(!0):null;if(e.prototype.onActionComplete.call(this,t,i,n),this.skeletonCount=0!=this.totalItemCount&&this.totalItemCount<2*this.itemCount?0:this.skeletonCount,this.updateSelectElementData(this.allowFiltering),this.isRequested&&!ko(this.searchKeyEvent)&&"keydown"===this.searchKeyEvent.type&&(this.isRequested=!1,this.keyActionHandler(this.searchKeyEvent),this.searchKeyEvent=null),this.isRequested&&!ko(this.searchKeyEvent)&&(this.incrementalSearch(this.searchKeyEvent),this.searchKeyEvent=null),this.enableVirtualization||(this.list.scrollTop=0),ko(t)||Ga(t,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"}),this.initRemoteRender){if(this.initial=!0,this.activeIndex=this.index,this.initRemoteRender=!1,this.value&&this.dataSource instanceof mp){var l=ko(this.fields.value)?this.fields.text:this.fields.value,h=this.fields.value.split(".");i.some((function(e){return ko(e[l])&&h.length>1?s.checkFieldValue(e,h)===s.value:e[l]===s.value}))?this.updateValues():this.dataSource.executeQuery(this.getQuery(this.query).where(new op(l,"equal",this.value))).then((function(e){e.result.length>0?(s.addItem(e.result,i.length),s.updateValues()):s.updateValues()}))}else this.updateValues();this.initial=!1}else"autocomplete"===this.getModuleName()&&this.value&&this.setInputValue();if("autocomplete"!==this.getModuleName()&&this.isFiltering()&&!this.isTyped)(!this.actionCompleteData.isUpdated||!this.isCustomFilter&&!this.isFilterFocus||ko(this.itemData)&&this.allowFiltering&&(this.dataSource instanceof mp||!ko(this.dataSource)&&!ko(this.dataSource.length)&&0!==this.dataSource.length))&&(this.itemTemplate&&"EJS-COMBOBOX"===this.element.tagName&&this.allowFiltering?setTimeout((function(){s.updateActionCompleteDataValues(t,i)}),0):this.updateActionCompleteDataValues(t,i)),((this.allowCustom||this.allowFiltering&&!this.isValueInList(i,this.value)&&this.dataSource instanceof mp)&&!this.enableVirtualization||(this.allowCustom||this.allowFiltering&&this.isValueInList(i,this.value))&&!this.enableVirtualization)&&this.addNewItem(i,a),(!ko(this.itemData)||ko(this.itemData)&&this.enableVirtualization)&&this.focusIndexItem(),this.enableVirtualization&&this.updateActionCompleteDataValues(t,i);else if(this.enableVirtualization&&"autocomplete"!==this.getModuleName()&&!this.isFiltering()){var c=this.getItemData().value;this.activeIndex=this.getIndexByValue(c);var u=this.findListElement(this.list,"li","data-value",c);this.selectedLI=u}else this.enableVirtualization&&"autocomplete"===this.getModuleName()&&(this.activeIndex=this.skeletonCount);this.beforePopupOpen&&(this.renderPopup(n),this.enableVirtualization&&(this.list.querySelector(".e-virtual-list")||(this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"))),this.enableVirtualization&&o!=this.itemCount&&this.resetList(this.dataSource,this.fields))}}else this.isNotSearchList=!1},t.prototype.isValueInList=function(e,t){if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(e[i]===t)return!0}else if("object"===typeof e&&null!==e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&e[n]===t)return!0;return!1},t.prototype.checkFieldValue=function(e,t){var i=e;return t.forEach((function(e){i=i[e]})),i},t.prototype.updateActionCompleteDataValues=function(e,t){this.actionCompleteData={ulElement:e.cloneNode(!0),list:t,isUpdated:!0},this.actionData.list!==this.actionCompleteData.list&&this.actionCompleteData.ulElement&&this.actionCompleteData.list&&(this.actionData=this.actionCompleteData)},t.prototype.addNewItem=function(e,t){var i=this;if(!ko(this.itemData)&&!ko(t)){var n=this.getItemData().value;e.some((function(e){return("string"===typeof e||"number"===typeof e)&&e===n||No(i.fields.value,e)===n}))||this.addItem(this.itemData)}},t.prototype.updateActionCompleteData=function(e,t,i){var n=this;"autocomplete"!==this.getModuleName()&&this.actionCompleteData.ulElement&&(this.itemTemplate&&"EJS-COMBOBOX"===this.element.tagName&&this.allowFiltering?setTimeout((function(){n.actionCompleteDataUpdate(e,t,i)}),0):this.actionCompleteDataUpdate(e,t,i))},t.prototype.actionCompleteDataUpdate=function(e,t,i){null!==i?this.actionCompleteData.ulElement.insertBefore(e.cloneNode(!0),this.actionCompleteData.ulElement.childNodes[i]):this.actionCompleteData.ulElement.appendChild(e.cloneNode(!0)),this.isFiltering()&&this.actionCompleteData.list.indexOf(t)<0&&this.actionCompleteData.list.push(t)},t.prototype.focusIndexItem=function(){var e=this.getItemData().value;this.activeIndex=this.getIndexByValue(e);var t=this.findListElement(this.list,"li","data-value",e);this.selectedLI=t,this.activeItem(t),this.enableVirtualization&&ko(t)||this.removeFocus()},t.prototype.updateSelection=function(){var e=this.list.querySelector("."+jp);e?(this.setProperties({index:this.getIndexByValue(e.getAttribute("data-value"))}),this.activeIndex=this.index):(this.removeFocus(),this.list.querySelector("."+Op).classList.add(qp.focus))},t.prototype.updateSelectionList=function(){if(!(this.list&&this.list.querySelector(".e-active"))&&!ko(this.value)){var e=this.findListElement(this.list,"li","data-value",this.value);e&&e.classList.add("e-active")}},t.prototype.checkAndResetCache=function(){this.enableVirtualization&&(this.generatedDataObject={},this.virtualItemStartIndex=this.virtualItemEndIndex=0,this.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount},this.selectedValueInfo=null)},t.prototype.removeFocus=function(){var e=this.list.querySelectorAll("."+qp.focus);e&&e.length&&Ba(e,qp.focus)},t.prototype.getTransformValues=function(){var e=this.viewPortInfo.startIndex*this.listItemHeight;return e-=this.skeletonCount*this.listItemHeight,"transform: translate(0px, "+(e=0===this.viewPortInfo.startIndex&&this.listData&&0===this.listData.length?0:e)+"px);"},t.prototype.GetVirtualTrackHeight=function(){return"height: "+((this.totalItemCount===this.viewPortInfo.endIndex?this.totalItemCount*this.listItemHeight-this.itemCount*this.listItemHeight:this.totalItemCount*this.listItemHeight)-this.itemCount*this.listItemHeight)+"px;"},t.prototype.renderPopup=function(e){var t=this;if(this.popupObj&&document.body.contains(this.popupObj.element))this.refreshPopup();else{this.trigger("beforeOpen",{cancel:!1},(function(i){if(i.cancel)t.beforePopupOpen=!1;else{var n=t.createElement("div",{id:t.element.id+"_popup",className:"e-ddl e-popup "+(null!==t.cssClass?t.cssClass:"")}),r=t.setSearchBox(n);if(t.listHeight=Fo(t.popupHeight),t.headerTemplate&&t.setHeaderTemplate(n),Wa([t.list],n),t.footerTemplate&&t.setFooterTemplate(n),document.body.appendChild(n),t.enableVirtualization&&t.itemTemplate){var s=n.querySelectorAll("li.e-list-item:not(.e-virtual-list)");t.listItemHeight=s.length>0?Math.ceil(s[0].getBoundingClientRect().height):0}if(t.enableVirtualization&&!t.list.classList.contains(kp))if(t.list.querySelector(".e-virtual-ddl-content")?t.list.getElementsByClassName("e-virtual-ddl-content")[0].style=t.getTransformValues():t.list.appendChild(t.createElement("div",{className:"e-virtual-ddl-content",styles:t.getTransformValues()})).appendChild(t.list.querySelector(".e-list-parent")),t.UpdateSkeleton(),t.liCollections=t.list.querySelectorAll("."+Op),t.virtualItemCount=t.itemCount,t.list.querySelector(".e-virtual-ddl"))t.list.getElementsByClassName("e-virtual-ddl")[0].style=t.GetVirtualTrackHeight();else{var o=t.createElement("div",{id:t.element.id+"_popup",className:"e-virtual-ddl",styles:t.GetVirtualTrackHeight()});n.querySelector(".e-dropdownbase").appendChild(o)}if(n.style.visibility="hidden","auto"!==t.popupHeight){if(t.searchBoxHeight=0,ko(r.container)||"combobox"===t.getModuleName()||"autocomplete"===t.getModuleName()||(t.searchBoxHeight=r.container.parentElement.getBoundingClientRect().height,t.listHeight=(parseInt(t.listHeight,10)-t.searchBoxHeight).toString()+"px"),t.headerTemplate){t.header=t.header?t.header:n.querySelector(".e-ddl-header");var a=Math.round(t.header.getBoundingClientRect().height);t.listHeight=(parseInt(t.listHeight,10)-(a+t.searchBoxHeight)).toString()+"px"}if(t.footerTemplate){t.footer=t.footer?t.footer:n.querySelector(".e-ddl-footer");a=Math.round(t.footer.getBoundingClientRect().height);t.listHeight=(parseInt(t.listHeight,10)-(a+t.searchBoxHeight)).toString()+"px"}t.list.style.maxHeight=(parseInt(t.listHeight,10)-2).toString()+"px",n.style.maxHeight=Fo(t.popupHeight)}else n.style.height="auto";var l=0,h=void 0;if(t.isPreventScrollAction=!0,!ko(t.selectedLI)&&!ko(t.activeIndex)&&t.activeIndex>=0||t.enableVirtualization?t.setScrollPosition():t.list.scrollTop=0,La.isDevice&&!t.allowFiltering&&("dropdownlist"===t.getModuleName()||t.isDropDownClick&&"combobox"===t.getModuleName())){l=t.getOffsetValue(n);var c=t.isEmptyList()?t.list:t.liCollections[0];ko(t.inputElement)||(h=-(parseInt(getComputedStyle(c).textIndent,10)-parseInt(getComputedStyle(t.inputElement).paddingLeft,10)+parseInt(getComputedStyle(t.inputElement.parentElement).borderLeftWidth,10)))}t.getFocusElement(),t.createPopup(n,l,h),t.popupContentElement=t.popupObj.element.querySelector(".e-content"),t.checkCollision(n),La.isDevice&&(t.popupObj.element.classList.add(qp.device),("dropdownlist"===t.getModuleName()||"combobox"===t.getModuleName()&&!t.allowFiltering&&t.isDropDownClick)&&(t.popupObj.collision={X:"fit",Y:"fit"}),t.isFilterLayout()&&(t.popupObj.element.classList.add(qp.mobileFilter),t.popupObj.position={X:0,Y:0},t.popupObj.dataBind(),Ga(t.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;"}),Fa([document.body,t.popupObj.element],qp.popupFullScreen),t.setSearchBoxPosition(),t.backIconElement=r.container.querySelector(".e-back-icon"),t.clearIconElement=r.container.querySelector("."+qp.clearIcon),Oa.add(t.backIconElement,"click",t.clickOnBackIcon,t),Oa.add(t.clearIconElement,"click",t.clearText,t))),n.style.visibility="visible",Fa([n],"e-popup-close");for(var u=0,p=t.popupObj.getScrollableParent(t.inputWrapper.container);u<p.length;u++){var d=p[u];Oa.add(d,"scroll",t.scrollHandler,t)}ko(t.list)||(t.unWireListEvents(),t.wireListEvents()),t.selectedElementID=t.selectedLI?t.selectedLI.id:null,t.enableVirtualization&&(t.notify("bindScrollEvent",{module:"VirtualScroll",component:t.getModuleName(),enable:t.enableVirtualization}),setTimeout((function(){t.value&&(t.updateSelectionList(),t.selectedValueInfo&&t.viewPortInfo&&t.viewPortInfo.offsets.top?t.list.scrollTop=t.viewPortInfo.offsets.top:t.scrollBottom(!0,!0))}),5)),Ga(t.targetElement(),{"aria-expanded":"true","aria-owns":t.element.id+"_options"}),t.inputElement.setAttribute("aria-expanded","true"),Fa([t.isFiltering()?t.filterInput.parentElement:t.inputWrapper.container],[qp.inputFocus]);t.beforePopupOpen=!0;var f={popup:t.popupObj,event:e,cancel:!1,animation:{name:"FadeIn",duration:100}};t.trigger("open",f,(function(e){e.cancel?(t.beforePopupOpen=!1,t.destroyPopup()):(ko(t.inputWrapper)||Fa([t.inputWrapper.container],[qp.iconAnimation]),t.renderReactTemplates(),ko(t.popupObj)||t.popupObj.show(new _l(e.animation),1e3===t.zIndex?t.element:null))}))}}))}},t.prototype.checkCollision=function(e){(!La.isDevice||La.isDevice&&"dropdownlist"!==this.getModuleName()&&!this.isDropDownClick)&&(ou(e).length>0&&(e.style.marginTop=-parseInt(getComputedStyle(e).marginTop,10)+"px"),this.popupObj.resolveCollision())},t.prototype.getOffsetValue=function(e){var t=getComputedStyle(e),i=parseInt(t.borderTopWidth,10),n=parseInt(t.borderBottomWidth,10);return this.setPopupPosition(i+n)},t.prototype.createPopup=function(e,t,i){var n=this;this.popupObj=new ku(e,{width:this.setWidth(),targetType:"relative",relateTo:this.inputWrapper.container,collision:this.enableRtl?{X:"fit",Y:"flip"}:{X:"flip",Y:"flip"},offsetY:t,enableRtl:this.enableRtl,offsetX:i,position:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},zIndex:this.zIndex,close:function(){n.isDocumentClick||n.focusDropDown(),n.isReact&&n.clearTemplate(["headerTemplate","footerTemplate"]),n.isNotSearchList=!1,n.isDocumentClick=!1,n.destroyPopup(),n.isFiltering()&&n.actionCompleteData.list&&n.actionCompleteData.list[0]&&(n.isActive=!0,n.onActionComplete(n.actionCompleteData.ulElement,n.actionCompleteData.list,null,!0))},open:function(){Oa.add(document,"mousedown",n.onDocumentClick,n),n.isPopupOpen=!0;var e=n.actionCompleteData&&n.actionCompleteData.ulElement&&n.actionCompleteData.ulElement.querySelector("li"),t=n.list.querySelector("ul li");ko(n.ulElement)||ko(n.ulElement.getElementsByClassName("e-item-focus")[0])?ko(n.ulElement)||ko(n.ulElement.getElementsByClassName("e-active")[0])||Ga(n.targetElement(),{"aria-activedescendant":n.ulElement.getElementsByClassName("e-active")[0].id}):Ga(n.targetElement(),{"aria-activedescendant":n.ulElement.getElementsByClassName("e-item-focus")[0].id}),n.isFiltering()&&n.itemTemplate&&n.element.tagName===n.getNgDirective()&&e&&t&&e.textContent!==t.textContent&&"EJS-COMBOBOX"!==n.element.tagName&&n.cloneElements(),n.isFilterLayout()&&(Ba([n.inputWrapper.container],[qp.inputFocus]),n.isFilterFocus=!0,n.filterInput.focus(),n.inputWrapper.clearButton&&Fa([n.inputWrapper.clearButton],qp.clearIconHide)),n.activeStateChange()},targetExitViewport:function(){La.isDevice||n.hidePopup()}})},t.prototype.isEmptyList=function(){return!ko(this.liCollections)&&0===this.liCollections.length},t.prototype.getFocusElement=function(){},t.prototype.isFilterLayout=function(){return"dropdownlist"===this.getModuleName()&&this.allowFiltering},t.prototype.scrollHandler=function(){La.isDevice&&("dropdownlist"===this.getModuleName()&&!this.isFilterLayout()||"combobox"===this.getModuleName()&&!this.allowFiltering&&this.isDropDownClick)&&this.hidePopup()},t.prototype.setSearchBoxPosition=function(){var e=this.filterInput.parentElement.getBoundingClientRect().height;this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%",this.list.style.maxHeight=window.innerHeight-e+"px",this.list.style.height=window.innerHeight-e+"px";var t=this.filterInput.parentElement.querySelector("."+qp.clearIcon);Qa(this.filterInput),t.parentElement.insertBefore(this.filterInput,t)},t.prototype.setPopupPosition=function(e){var t,i=e,n=this.list.querySelector("."+qp.focus)||this.selectedLI,r=this.isEmptyList()?this.list:this.liCollections[0],s=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],o=r.getBoundingClientRect().height;this.listItemHeight=o;var a=this.list.offsetHeight/2,l=ko(n)?r.offsetTop:n.offsetTop;if(s.offsetTop-a<l&&!ko(this.liCollections)&&this.liCollections.length>0&&!ko(n)){var h=this.list.offsetHeight/o,c=parseInt(getComputedStyle(this.list).paddingBottom,10);t=(h-(this.liCollections.length-this.activeIndex))*o-i+c,this.list.scrollTop=n.offsetTop}else l>a&&!this.enableVirtualization?(t=a-o/2,this.list.scrollTop=l-a+o/2):t=l;return-(t=t+o+i-(o-this.inputWrapper.container.offsetHeight)/2)},t.prototype.setWidth=function(){var e=Fo(this.popupWidth);e.indexOf("%")>-1&&(e=(this.inputWrapper.container.offsetWidth*parseFloat(e)/100).toString()+"px");if(La.isDevice&&!this.allowFiltering&&("dropdownlist"===this.getModuleName()||this.isDropDownClick&&"combobox"===this.getModuleName())){var t=this.isEmptyList()?this.list:this.liCollections[0];e=parseInt(e,10)+2*(parseInt(getComputedStyle(t).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))+"px"}return e},t.prototype.scrollBottom=function(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=null),ko(this.selectedLI)&&this.enableVirtualization&&(this.selectedLI=this.list.querySelector("."+Op),!ko(this.selectedLI)&&this.selectedLI.classList.contains("e-virtual-list")&&(this.selectedLI=this.liCollections[this.skeletonCount])),!ko(this.selectedLI)){this.isUpwardScrolling=!1;var n=this.list.querySelectorAll(".e-virtual-list").length,r=this.list.querySelector("li:last-of-type")?this.list.querySelector("li:last-of-type").getAttribute("data-value"):null,s=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop,o=this.list.offsetHeight,a=s-n*this.selectedLI.offsetHeight+this.selectedLI.offsetHeight-this.list.scrollTop,l=this.list.scrollTop+a-o,h=!1;l=e?l+2*parseInt(getComputedStyle(this.list).paddingTop,10):l+parseInt(getComputedStyle(this.list).paddingTop,10);var c=s-n*this.selectedLI.offsetHeight+this.selectedLI.offsetHeight-this.list.scrollTop;if(c=this.fields.groupBy&&!ko(this.fixedHeaderElement)?c-this.fixedHeaderElement.offsetHeight:c,0!==this.activeIndex||this.enableVirtualization){if(a>o||!(c>0&&this.list.offsetHeight>c)){var u=this.selectedLI?this.selectedLI.getAttribute("data-value"):null,p="pageDown"==i?this.getPageCount()-2:1;!this.enableVirtualization||this.isKeyBoardAction||t?this.isKeyBoardAction&&this.enableVirtualization&&r&&u===r&&"end"!=i&&!this.isVirtualScrolling?(this.isPreventKeyAction=!0,this.enableVirtualization&&this.itemTemplate?this.list.scrollTop+=l:this.list.scrollTop+=this.selectedLI.offsetHeight*p,this.isPreventKeyAction=!this.IsScrollerAtEnd()&&this.isPreventKeyAction,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1):this.enableVirtualization&&"end"==i?(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1,this.list.scrollTop=this.list.scrollHeight):("pageDown"==i&&this.enableVirtualization&&!this.isVirtualScrolling&&(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1,l+=this.selectedLI.offsetHeight*p),this.list.scrollTop=l):this.list.scrollTop=this.virtualListInfo&&this.virtualListInfo.startIndex?this.virtualListInfo.startIndex*this.listItemHeight:0,h=this.isKeyBoardAction,!0}}else this.list.scrollTop=0,h=this.isKeyBoardAction;this.isKeyBoardAction=h}},t.prototype.scrollTop=function(e){if(void 0===e&&(e=null),!ko(this.selectedLI)){var t=this.list.querySelectorAll(".e-virtual-list").length,i=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop,n=i-t*this.selectedLI.offsetHeight-this.list.scrollTop,r=this.list.querySelector("li.e-list-item:not(.e-virtual-list)")?this.list.querySelector("li.e-list-item:not(.e-virtual-list)").getAttribute("data-value"):null;n=this.fields.groupBy&&!ko(this.fixedHeaderElement)?n-this.fixedHeaderElement.offsetHeight:n;var s=i-t*this.selectedLI.offsetHeight+this.selectedLI.offsetHeight-this.list.scrollTop,o=this.enableVirtualization&&"autocomplete"===this.getModuleName()&&n<=0;if(0!==this.activeIndex||this.enableVirtualization)if(n<0||o){var a=this.selectedLI?this.selectedLI.getAttribute("data-value"):null,l="pageUp"==e?this.getPageCount()-2:1;this.enableVirtualization&&this.isKeyBoardAction&&r&&a===r&&"home"!=e&&!this.isVirtualScrolling?(this.isUpwardScrolling=!0,this.isPreventKeyAction=!0,this.list.scrollTop-=this.selectedLI.offsetHeight*l,this.isPreventKeyAction=0!=this.list.scrollTop&&this.isPreventKeyAction,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1):this.enableVirtualization&&"home"==e?(this.isPreventScrollAction=!1,this.isPreventKeyAction=!0,this.isKeyBoardAction=!1,this.list.scrollTo(0,0)):("pageUp"==e&&this.enableVirtualization&&!this.isVirtualScrolling&&(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1,n-=this.selectedLI.offsetHeight*l),this.list.scrollTop=this.list.scrollTop+n)}else s>0&&this.list.offsetHeight>s||(this.list.scrollTop=this.selectedLI.offsetTop-(this.fields.groupBy&&!ko(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0));else this.list.scrollTop=0}},t.prototype.isEditTextBox=function(){return!1},t.prototype.isFiltering=function(){return this.allowFiltering},t.prototype.isPopupButton=function(){return!0},t.prototype.setScrollPosition=function(e){if(this.isPreventScrollAction=!0,ko(e))this.scrollBottom(!0);else switch(e.action){case"pageDown":case"down":case"end":this.isKeyBoardAction=!0,this.scrollBottom(!1,!1,e.action);break;default:this.isKeyBoardAction="up"==e.action||"pageUp"==e.action||"open"==e.action,this.scrollTop(e.action)}this.isKeyBoardAction=!1},t.prototype.clearText=function(){this.filterInput.value=this.typedString="",this.searchLists(null),this.enableVirtualization&&(this.list.scrollTop=0,this.totalItemCount=this.dataCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.list.getElementsByClassName("e-virtual-ddl")[0]&&(this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight()),this.getSkeletonCount(),this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl-content")[0]&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues()))},t.prototype.setEleWidth=function(e){ko(e)||("number"===typeof e?this.inputWrapper.container.style.width=Fo(e):"string"===typeof e&&(this.inputWrapper.container.style.width=e.match(/px|%|em/)?e:Fo(e)))},t.prototype.closePopup=function(e,t){var i=this,n=!ko(this.filterInput)&&!ko(this.filterInput.value)&&""!==this.filterInput.value;"combobox"===this.getModuleName()&&this.typedString;if(this.isTyped=!1,this.popupObj&&document.body.contains(this.popupObj.element)&&this.beforePopupOpen){this.keyboardEvent=null,Oa.remove(document,"mousedown",this.onDocumentClick),this.isActive=!1,this.filterInputObj=null,this.isDropDownClick=!1,this.preventAutoFill=!1;for(var r=0,s=this.popupObj.getScrollableParent(this.inputWrapper.container);r<s.length;r++){var o=s[r];Oa.remove(o,"scroll",this.scrollHandler)}La.isDevice&&this.isFilterLayout()&&Ba([document.body,this.popupObj.element],qp.popupFullScreen),this.isFilterLayout()&&(La.isDevice||(this.searchKeyModule.destroy(),this.clearIconElement&&Oa.remove(this.clearIconElement,"click",this.clearText)),this.backIconElement&&(Oa.remove(this.backIconElement,"click",this.clickOnBackIcon),Oa.remove(this.clearIconElement,"click",this.clearText)),ko(this.filterInput)||(Oa.remove(this.filterInput,"input",this.onInput),Oa.remove(this.filterInput,"keyup",this.onFilterUp),Oa.remove(this.filterInput,"keydown",this.onFilterDown),Oa.remove(this.filterInput,"blur",this.onBlurHandler),Oa.remove(this.filterInput,"paste",this.pasteHandler)),this.filterInput=null),Ga(this.targetElement(),{"aria-expanded":"false"}),this.inputElement.setAttribute("aria-expanded","false"),this.targetElement().removeAttribute("aria-owns"),this.targetElement().removeAttribute("aria-activedescendant"),this.inputWrapper.container.classList.remove(qp.iconAnimation),this.isFiltering()&&(this.actionCompleteData.isUpdated=!1),this.enableVirtualization&&(null==this.value||this.isTyped?(this.viewPortInfo.endIndex=this.viewPortInfo&&this.viewPortInfo.endIndex>0?this.viewPortInfo.endIndex:this.itemCount,("autocomplete"===this.getModuleName()||"dropdownlist"===this.getModuleName()&&!ko(this.typedString)&&""!=this.typedString||"combobox"===this.getModuleName()&&this.allowFiltering&&!ko(this.typedString)&&""!=this.typedString)&&this.checkAndResetCache()):"autocomplete"===this.getModuleName()&&this.checkAndResetCache(),"dropdownlist"!==this.getModuleName()&&"combobox"!==this.getModuleName()||0==this.skeletonCount||this.getSkeletonCount(!0)),this.beforePopupOpen=!1;var a={name:"FadeOut",duration:100,delay:e||0},l={popup:this.popupObj,cancel:!1,animation:a,event:t||null};this.trigger("close",l,(function(e){if(!ko(i.popupObj)&&!ko(i.popupObj.element.querySelector(".e-fixed-head"))){var t=i.popupObj.element.querySelector(".e-fixed-head");t.parentNode.removeChild(t),i.fixedHeaderElement=null}e.cancel||("autocomplete"===i.getModuleName()&&i.rippleFun(),i.isPopupOpen?i.popupObj.hide(new _l(e.animation)):i.destroyPopup())})),this.isReact&&this.isFiltering()&&null!=this.itemTemplate&&(this.actionCompleteData.ulElement=this.ulElement.cloneNode(!0));var h=this.dataSource&&this.dataSource.length?this.dataSource.length:0;this.enableVirtualization&&this.isFiltering()&&null!=this.value&&n&&this.totalItemCount!==h&&(this.updateInitialData(),this.checkAndResetCache())}},t.prototype.updateInitialData=function(){var e=this.selectData,t=this.renderItems(e,this.fields);this.list.scrollTop=0,this.virtualListInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},"combobox"===this.getModuleName()&&(this.typedString=""),this.previousStartIndex=0,this.previousEndIndex=0,this.totalItemCount=this.dataCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.list.getElementsByClassName("e-virtual-ddl")[0]&&(this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight()),"autocomplete"!==this.getModuleName()&&0!=this.totalItemCount&&this.totalItemCount>2*this.itemCount&&this.getSkeletonCount(),this.UpdateSkeleton(),this.listData=e,this.updateActionCompleteDataValues(t,e),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl-content")[0]&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues())},t.prototype.destroyPopup=function(){this.isPopupOpen=!1,this.isFilterFocus=!1,this.popupObj&&(this.popupObj.destroy(),Qa(this.popupObj.element))},t.prototype.clickOnBackIcon=function(){this.hidePopup(),this.focusIn()},t.prototype.render=function(){this.preselectedIndex=ko(this.index)?null:this.index,"INPUT"===this.element.tagName?(this.inputElement=this.element,ko(this.inputElement.getAttribute("role"))&&this.inputElement.setAttribute("role","combobox"),ko(this.inputElement.getAttribute("type"))&&this.inputElement.setAttribute("type","text"),this.inputElement.setAttribute("aria-expanded","false")):(this.inputElement=this.createElement("input",{attrs:{role:"combobox",type:"text"}}),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.parentElement.insertBefore(this.inputElement,this.element),this.preventTabIndex(this.inputElement));var e=this.cssClass;ko(this.cssClass)||""===this.cssClass||(e=this.cssClass.replace(/\s+/g," ").trim()),!ko(Za(this.element,"fieldset"))&&Za(this.element,"fieldset").disabled&&(this.enabled=!1),this.inputWrapper=Ou.createInput({element:this.inputElement,buttons:this.isPopupButton()?[qp.icon]:null,floatLabelType:this.floatLabelType,properties:{readonly:"dropdownlist"===this.getModuleName()||this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton}},this.createElement),this.element.tagName===this.getNgDirective()?this.element.appendChild(this.inputWrapper.container):this.inputElement.parentElement.insertBefore(this.element,this.inputElement),this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true","aria-label":this.getModuleName(),tabindex:"-1",class:qp.hiddenElement}}),Ha([this.hiddenElement],this.inputWrapper.container),this.validationAttribute(this.element,this.hiddenElement),this.setReadOnly(),this.setFields(),this.inputWrapper.container.style.width=Fo(this.width),this.inputWrapper.container.classList.add("e-ddl"),"Auto"===this.floatLabelType&&Ou.calculateWidth(this.inputElement,this.inputWrapper.container),!ko(this.inputWrapper.buttons[0])&&this.inputWrapper.container.getElementsByClassName("e-float-text-content")[0]&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon"),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex");var t=this.element.getAttribute("id")?this.element.getAttribute("id"):Lo("ej2_dropdownlist");if(this.element.id=t,this.hiddenElement.id=t+"_hidden",this.targetElement().setAttribute("tabindex",this.tabIndex),"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||this.readonly?"dropdownlist"===this.getModuleName()&&Ga(this.targetElement(),{"aria-label":this.getModuleName()}):this.inputElement.setAttribute("aria-label",this.getModuleName()),Ga(this.targetElement(),this.getAriaAttributes()),this.updateDataAttribute(this.htmlAttributes),this.setHTMLAttributes(),this.targetElement()===this.inputElement&&this.inputElement.removeAttribute("aria-labelledby"),null!==this.value||null!==this.activeIndex||null!==this.text)this.enableVirtualization&&(this.listItemHeight=this.getListHeight(),this.getSkeletonCount(),this.updateVirtualizationProperties(this.itemCount,this.allowFiltering)),this.initValue(),this.selectedValueInfo=this.viewPortInfo,this.enableVirtualization&&(this.activeIndex=this.activeIndex+this.skeletonCount);else if("SELECT"===this.element.tagName&&this.element.options[0]){var i=this.element;this.value=i.options[i.selectedIndex].value,this.text=ko(this.value)?null:i.options[i.selectedIndex].textContent,this.initValue()}this.setEnabled(),this.preventTabIndex(this.element),this.enabled||(this.targetElement().tabIndex=-1),this.initial=!1,this.element.style.opacity="",this.inputElement.onselect=function(e){e.stopImmediatePropagation()},this.inputElement.onchange=function(e){e.stopImmediatePropagation()},this.element.hasAttribute("autofocus")&&this.focusIn(),ko(this.text)||this.inputElement.setAttribute("value",this.text),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false");var n=this.inputWrapper.container.getElementsByClassName("e-float-text")[0];ko(this.element.id)||""===this.element.id||ko(n)||(n.id="label_"+this.element.id.replace(/ /g,"_"),Ga(this.inputElement,{"aria-labelledby":n.id})),this.renderComplete(),this.listItemHeight=this.getListHeight(),this.getSkeletonCount(),this.enableVirtualization&&this.updateVirtualizationProperties(this.itemCount,this.allowFiltering),this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.viewPortInfo.startIndex>0?this.viewPortInfo.endIndex:this.itemCount},t.prototype.getListHeight=function(){var e=this.createElement("div",{className:"e-dropdownbase"}),t=this.createElement("li",{className:"e-list-item"}),i=Fo(this.popupHeight);e.style.height=parseInt(i,10).toString()+"px",e.appendChild(t),document.body.appendChild(e),this.virtualListHeight=e.getBoundingClientRect().height;var n=Math.ceil(t.getBoundingClientRect().height);return e.remove(),n},t.prototype.setFooterTemplate=function(e){this.footer?this.isReact&&"function"===typeof this.footerTemplate?this.clearTemplate(["footerTemplate"]):this.footer.innerHTML="":(this.footer=this.createElement("div"),Fa([this.footer],qp.footer));var t=this.dropdownCompiler(this.footerTemplate),i=("function"!==typeof this.footerTemplate&&t?Uh(Ka(this.footerTemplate,document).innerHTML.trim()):Uh(this.footerTemplate))({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);i&&i.length>0&&Wa(i,this.footer),Wa([this.footer],e)},t.prototype.setHeaderTemplate=function(e){this.header?this.header.innerHTML="":(this.header=this.createElement("div"),Fa([this.header],qp.header));var t=this.dropdownCompiler(this.headerTemplate),i=("function"!==typeof this.headerTemplate&&t?Uh(Ka(this.headerTemplate,document).innerHTML.trim()):Uh(this.headerTemplate))({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);i&&i.length&&Wa(i,this.header);var n=e.querySelector("div.e-content");e.insertBefore(this.header,n)},t.prototype.setEnabled=function(){this.element.setAttribute("aria-disabled",this.enabled?"false":"true")},t.prototype.setOldText=function(e){this.text=e},t.prototype.setOldValue=function(e){this.value=e},t.prototype.refreshPopup=function(){ko(this.popupObj)||!document.body.contains(this.popupObj.element)||(!this.allowFiltering||La.isDevice&&this.isFilterLayout())&&"autocomplete"!==this.getModuleName()||(Ba([this.popupObj.element],"e-popup-close"),this.popupObj.refreshPosition(this.inputWrapper.container),this.popupObj.resolveCollision())},t.prototype.checkData=function(e){!e.dataSource||ko(Object.keys(e.dataSource))||!this.itemTemplate||!this.allowFiltering||this.isListSearched&&e.dataSource instanceof mp||(this.list=null,this.actionCompleteData={ulElement:null,list:null,isUpdated:!1}),this.isListSearched=!1;var t=-1!==Object.keys(e).indexOf("value")&&ko(e.value),i=-1!==Object.keys(e).indexOf("text")&&ko(e.text);"autocomplete"!==this.getModuleName()&&this.allowFiltering&&(t||i)&&(this.itemData=null),this.allowFiltering&&e.dataSource&&!ko(Object.keys(e.dataSource))?(this.actionCompleteData={ulElement:null,list:null,isUpdated:!1},this.actionData=this.actionCompleteData):this.allowFiltering&&e.query&&!ko(Object.keys(e.query))&&(this.actionCompleteData="combobox"===this.getModuleName()?{ulElement:null,list:null,isUpdated:!1}:this.actionCompleteData,this.actionData=this.actionCompleteData)},t.prototype.updateDataSource=function(e){""===this.inputElement.value&&(ko(e)||!ko(e.dataSource)&&(e.dataSource instanceof mp||0!==e.dataSource.length))||this.clearAll(null,e),this.fields.groupBy&&e.fields&&!this.isGroupChecking&&this.list&&(Oa.remove(this.list,"scroll",this.setFloatingHeader),Oa.add(this.list,"scroll",this.setFloatingHeader,this)),(ko(e)||!ko(e.dataSource)&&(e.dataSource instanceof mp||0!==e.dataSource.length)||e.dataSource!==[])&&(this.typedString="",this.resetList(this.dataSource)),this.isCustomFilter||this.isFilterFocus||document.activeElement===this.filterInput||this.checkCustomValue()},t.prototype.checkCustomValue=function(){this.itemData=this.getDataByValue(this.value);var e=this.getItemData();this.setProperties({text:e.text,value:e.value})},t.prototype.updateInputFields=function(){"dropdownlist"===this.getModuleName()&&Ou.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.onPropertyChanged=function(t,i){var n=this;ko(t.dataSource)||this.isTouched||!ko(t.value)||!ko(t.index)||ko(this.preselectedIndex)||(t.index=this.preselectedIndex),ko(t.value)&&ko(t.index)||(this.isTouched=!0),"dropdownlist"===this.getModuleName()&&(this.checkData(t),this.setUpdateInitial(["fields","query","dataSource"],t));for(var r=function(r){switch(r){case"query":case"dataSource":s.getSkeletonCount(),s.checkAndResetCache();break;case"htmlAttributes":s.setHTMLAttributes();break;case"width":s.setEleWidth(t.width),Ou.calculateWidth(s.inputElement,s.inputWrapper.container);break;case"placeholder":Ou.setPlaceholder(t.placeholder,s.inputElement);break;case"filterBarPlaceholder":s.filterInput&&Ou.setPlaceholder(t.filterBarPlaceholder,s.filterInput);break;case"readonly":"dropdownlist"!==s.getModuleName()&&Ou.setReadonly(t.readonly,s.inputElement),s.setReadOnly();break;case"cssClass":s.setCssClass(t.cssClass,i.cssClass),Ou.calculateWidth(s.inputElement,s.inputWrapper.container);break;case"enableRtl":s.setEnableRtl();break;case"enabled":s.setEnable();break;case"text":if(null===t.text){s.clearAll();break}if(s.list||(s.dataSource instanceof mp&&(s.initRemoteRender=!0),s.renderList()),!s.initRemoteRender){var o=s.getElementByText(t.text);if(!s.checkValidLi(o))if(s.liCollections&&100===s.liCollections.length&&"autocomplete"===s.getModuleName()&&s.listData.length>100)s.setSelectionData(t.text,i.text,"text");else if(t.text&&s.dataSource instanceof mp){var a=s.getItems().length,l=ko(s.fields.text)?s.fields.value:s.fields.text;s.typedString="",s.dataSource.executeQuery(s.getQuery(s.query).where(new op(l,"equal",t.text))).then((function(e){e.result.length>0?(n.addItem(e.result,a),n.updateValues()):n.setOldText(i.text)}))}else"autocomplete"===s.getModuleName()?s.setInputValue(t,i):s.setOldText(i.text);s.updateInputFields()}break;case"value":if(null===t.value){s.clearAll();break}if(s.notify("beforeValueChange",{newProp:t}),s.list||(s.dataSource instanceof mp&&(s.initRemoteRender=!0),s.renderList()),!s.initRemoteRender){var h=s.getElementByValue(t.value);if(!s.checkValidLi(h))if(s.liCollections&&100===s.liCollections.length&&"autocomplete"===s.getModuleName()&&s.listData.length>100)s.setSelectionData(t.value,i.value,"value");else if(t.value&&s.dataSource instanceof mp){var c=s.getItems().length;l=ko(s.fields.value)?s.fields.text:s.fields.value;s.typedString="",s.dataSource.executeQuery(s.getQuery(s.query).where(new op(l,"equal",t.value))).then((function(e){e.result.length>0?(n.addItem(e.result,c),n.updateValues()):n.setOldValue(i.value)}))}else"autocomplete"===s.getModuleName()?s.setInputValue(t,i):s.setOldValue(i.value);s.updateInputFields(),s.preventChange=s.isAngular&&s.preventChange?!s.preventChange:s.preventChange}break;case"index":if(null===t.index){s.clearAll();break}if(s.list||(s.dataSource instanceof mp&&(s.initRemoteRender=!0),s.renderList()),!s.initRemoteRender&&s.liCollections){var u=s.liCollections[t.index];s.checkValidLi(u)||(s.liCollections&&100===s.liCollections.length&&"autocomplete"===s.getModuleName()&&s.listData.length>100?s.setSelectionData(t.index,i.index,"index"):s.index=i.index),s.updateInputFields()}break;case"footerTemplate":s.popupObj&&s.setFooterTemplate(s.popupObj.element);break;case"headerTemplate":s.popupObj&&s.setHeaderTemplate(s.popupObj.element);break;case"valueTemplate":ko(s.itemData)||null===s.valueTemplate||s.setValueTemplate();break;case"allowFiltering":s.allowFiltering&&(s.actionCompleteData={ulElement:s.ulElement,list:s.listData,isUpdated:!0},s.actionData=s.actionCompleteData,s.updateSelectElementData(s.allowFiltering));break;case"floatLabelType":Ou.removeFloating(s.inputWrapper),Ou.addFloating(s.inputElement,t.floatLabelType,s.placeholder,s.createElement),!ko(s.inputWrapper.buttons[0])&&s.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0]&&"Never"!==s.floatLabelType&&s.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"showClearButton":s.inputWrapper.clearButton||(Ou.setClearButton(t.showClearButton,s.inputElement,s.inputWrapper,null,s.createElement),s.bindClearEvent());break;default:var p=s.getPropObject(r,t,i);e.prototype.onPropertyChanged.call(s,p.newProperty,p.oldProperty)}},s=this,o=0,a=Object.keys(t);o<a.length;o++){r(a[o])}},t.prototype.checkValidLi=function(e){return!!this.isValidLI(e)&&(this.setSelection(e,null),!0)},t.prototype.setSelectionData=function(e,t,i){var n,r=this;this.updateListValues=function(){"text"===i?(n=r.getElementByText(e),r.checkValidLi(n)||r.setOldText(t)):"value"===i?(n=r.getElementByValue(e),r.checkValidLi(n)||r.setOldValue(t)):"index"===i&&(n=r.liCollections[e],r.checkValidLi(n)||(r.index=t))}},t.prototype.setReadOnly=function(){this.readonly?Fa([this.inputWrapper.container],["e-readonly"]):Ba([this.inputWrapper.container],["e-readonly"])},t.prototype.setInputValue=function(e,t){},t.prototype.setCssClass=function(e,t){ko(t)||(t=t.replace(/\s+/g," ").trim()),ko(e)||(e=e.replace(/\s+/g," ").trim()),Ou.setCssClass(e,[this.inputWrapper.container],t),this.popupObj&&Ou.setCssClass(e,[this.popupObj.element],t)},t.prototype.getModuleName=function(){return"dropdownlist"},t.prototype.showPopup=function(e){this.enabled&&(this.isReact&&"combobox"===this.getModuleName()&&this.itemTemplate&&this.isCustomFilter&&this.isAddNewItemTemplate&&(this.renderList(),this.isAddNewItemTemplate=!1),this.isFiltering()&&this.dataSource instanceof mp&&this.actionData.list!==this.actionCompleteData.list&&this.actionData.list&&this.actionData.ulElement&&(this.actionCompleteData=this.actionData,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)),this.beforePopupOpen?this.refreshPopup():(this.beforePopupOpen=!0,this.isFiltering()&&!this.isActive&&this.actionCompleteData.list&&this.actionCompleteData.list[0]?(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)):(ko(this.list)||!zo(this.list)&&(this.list.classList.contains(kp)||this.list.querySelectorAll("."+Op).length<=0))&&this.renderList(e),this.enableVirtualization&&this.listData&&this.listData.length&&(ko(this.value)||"dropdownlist"!==this.getModuleName()&&"combobox"!==this.getModuleName()||this.removeHover(),this.beforePopupOpen||this.notify("setCurrentViewDataAsync",{module:"VirtualScroll"})),this.invokeRenderPopup(e),this.enableVirtualization&&!this.allowFiltering&&null!=this.selectedValueInfo&&this.selectedValueInfo.startIndex>0&&null!=this.value&&this.notify("dataProcessAsync",{module:"VirtualScroll",isOpen:!0})))},t.prototype.invokeRenderPopup=function(e){if(La.isDevice&&this.isFilterLayout()){var t=this;window.onpopstate=function(){t.hidePopup()},history.pushState({},"")}ko(this.list)||ko(this.list.children[0])&&!this.list.classList.contains(kp)||this.renderPopup(e)},t.prototype.renderHightSearch=function(){},t.prototype.hidePopup=function(e){if(this.isEscapeKey&&"dropdownlist"===this.getModuleName())if(ko(this.inputElement)||Ou.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1,ko(this.index))this.resetSelection();else{var t=this.findListElement(this.ulElement,"li","data-value",this.value);this.selectedLI=this.liCollections[this.index]||t,this.selectedLI&&(this.updateSelectedItem(this.selectedLI,null,!0),this.valueTemplate&&null!==this.itemData&&this.setValueTemplate())}this.closePopup(0,e);var i=this.getItemData(),n=!ko(this.selectedLI);this.inputElement&&""===this.inputElement.value.trim()&&!this.isInteracted&&(this.isSelectCustom||n&&this.inputElement.value!==i.text)&&(this.isSelectCustom=!1,this.clearAll(e))},t.prototype.focusIn=function(e){if(this.enabled&&!this.targetElement().classList.contains(qp.disable)){var t=!1;this.preventFocus&&La.isDevice&&(this.inputWrapper.container.tabIndex=1,this.inputWrapper.container.focus(),this.preventFocus=!1,t=!0),t||this.targetElement().focus(),Fa([this.inputWrapper.container],[qp.inputFocus]),this.onFocus(e),"Auto"===this.floatLabelType&&Ou.calculateWidth(this.inputElement,this.inputWrapper.container)}},t.prototype.focusOut=function(e){this.enabled&&(this.enableVirtualization||"combobox"!==this.getModuleName()||(this.isTyped=!0),this.hidePopup(e),this.targetElement()&&this.targetElement().blur(),Ba([this.inputWrapper.container],[qp.inputFocus]),"Auto"===this.floatLabelType&&""===this.inputElement.value&&Ou.calculateWidth(this.inputElement,this.inputWrapper.container))},t.prototype.destroy=function(){var t;if(this.isActive=!1,t=this.element.id,ip===t&&(ip="",ep="",$u="",tp=[]),this.isReact&&this.clearTemplate(),this.hidePopup(),this.unWireEvent(),this.list&&this.unWireListEvents(),!this.element||this.element.classList.contains("e-"+this.getModuleName())){if(this.inputElement){for(var i=["readonly","aria-disabled","placeholder","aria-labelledby","aria-expanded","autocomplete","aria-readonly","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-describedby","aria-label"],n=0;n<i.length;n++)this.inputElement.removeAttribute(i[n]);this.inputElement.setAttribute("tabindex",this.tabIndex),this.inputElement.classList.remove("e-input"),Ou.setValue("",this.inputElement,this.floatLabelType,this.showClearButton)}this.element.style.display="block",this.inputWrapper.container.parentElement.tagName===this.getNgDirective()||this.inputWrapper.container.parentElement.insertBefore(this.element,this.inputWrapper.container),Qa(this.inputWrapper.container),this.hiddenElement=null,this.inputWrapper=null,this.keyboardModule=null,this.ulElement=null,this.list=null,this.popupObj=null,this.popupContentElement=null,this.rippleFun=null,this.selectedLI=null,this.liCollections=null,this.item=null,this.inputWrapper=null,this.footer=null,this.header=null,this.previousSelectedLI=null,this.valueTempElement=null,this.actionData.ulElement=null,this.inputElement&&!ko(this.inputElement.onchange)&&(this.inputElement.onchange=null),this.isAngular&&(this.inputElement=null),e.prototype.destroy.call(this)}},t.prototype.getItems=function(){return this.list||(this.dataSource instanceof mp&&(this.initRemoteRender=!0),this.renderList()),this.ulElement?e.prototype.getItems.call(this):[]},t.prototype.getDataByValue=function(t){return e.prototype.getDataByValue.call(this,t)},t.prototype.clear=function(){this.value=null},Qp([fl(null)],t.prototype,"cssClass",void 0),Qp([fl("100%")],t.prototype,"width",void 0),Qp([fl(!0)],t.prototype,"enabled",void 0),Qp([fl(!1)],t.prototype,"enablePersistence",void 0),Qp([fl("300px")],t.prototype,"popupHeight",void 0),Qp([fl("100%")],t.prototype,"popupWidth",void 0),Qp([fl(null)],t.prototype,"placeholder",void 0),Qp([fl(null)],t.prototype,"filterBarPlaceholder",void 0),Qp([fl({})],t.prototype,"htmlAttributes",void 0),Qp([fl(null)],t.prototype,"query",void 0),Qp([fl(null)],t.prototype,"valueTemplate",void 0),Qp([fl(null)],t.prototype,"headerTemplate",void 0),Qp([fl(null)],t.prototype,"footerTemplate",void 0),Qp([fl(!1)],t.prototype,"allowFiltering",void 0),Qp([fl(!1)],t.prototype,"readonly",void 0),Qp([fl(!1)],t.prototype,"enableVirtualization",void 0),Qp([fl(null)],t.prototype,"text",void 0),Qp([fl(null)],t.prototype,"value",void 0),Qp([fl(null)],t.prototype,"index",void 0),Qp([fl("Never")],t.prototype,"floatLabelType",void 0),Qp([fl(!1)],t.prototype,"showClearButton",void 0),Qp([yl()],t.prototype,"filtering",void 0),Qp([yl()],t.prototype,"change",void 0),Qp([yl()],t.prototype,"beforeOpen",void 0),Qp([yl()],t.prototype,"open",void 0),Qp([yl()],t.prototype,"close",void 0),Qp([yl()],t.prototype,"blur",void 0),Qp([yl()],t.prototype,"focus",void 0),t=Qp([vl],t)}(Bp),Xp=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jp=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},Zp="e-atc-spinner-icon";qp.root="e-combobox";var $p={container:null,buttons:[]},ed=function(e){function t(t,i){return e.call(this,t,i)||this}return Xp(t,e),t.prototype.preRender=function(){e.prototype.preRender.call(this)},t.prototype.getLocaleName=function(){return"combo-box"},t.prototype.wireEvent=function(){"combobox"===this.getModuleName()&&(Oa.add(this.inputWrapper.buttons[0],"mousedown",this.preventBlur,this),Oa.add(this.inputWrapper.container,"blur",this.onBlurHandler,this)),ko(this.inputWrapper.buttons[0])||Oa.add(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick,this),Oa.add(this.inputElement,"focus",this.targetFocus,this),this.readonly||(Oa.add(this.inputElement,"input",this.onInput,this),Oa.add(this.inputElement,"keyup",this.onFilterUp,this),Oa.add(this.inputElement,"keydown",this.onFilterDown,this),Oa.add(this.inputElement,"paste",this.pasteHandler,this),Oa.add(window,"resize",this.windowResize,this)),this.bindCommonEvent()},t.prototype.preventBlur=function(e){(this.allowFiltering||document.activeElement===this.inputElement||document.activeElement.classList.contains(qp.input)||!La.isDevice)&&La.isDevice||e.preventDefault()},t.prototype.onBlurHandler=function(t){var i=this.inputElement&&""===this.inputElement.value?null:this.inputElement&&this.inputElement.value;ko(this.listData)||ko(i)||i===this.text||this.customValue(t),e.prototype.onBlurHandler.call(this,t)},t.prototype.targetElement=function(){return this.inputElement},t.prototype.setOldText=function(e){Ou.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue(),this.removeSelection()},t.prototype.setOldValue=function(e){this.allowCustom?this.valueMuteChange(this.value):this.valueMuteChange(null),this.removeSelection(),this.setHiddenValue()},t.prototype.valueMuteChange=function(e){var t=ko(e)?null:e.toString();Ou.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e,text:e,index:null},!0),this.activeIndex=this.index;var i=this.fields,n={};n[i.text]=ko(e)?null:e.toString(),n[i.value]=ko(e)?null:e.toString(),this.itemData=n,this.item=null,this.previousValue!==this.value&&this.detachChangeEvent(null)},t.prototype.updateValues=function(){if(ko(this.value))if(this.text&&ko(this.value)){var e;(e=this.getElementByText(this.text))?this.setSelection(e,null):(Ou.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue())}else this.setSelection(this.liCollections[this.activeIndex],null);else(e=this.getElementByValue(this.value))?this.setSelection(e,null):this.allowCustom?this.valueMuteChange(this.value):this.valueMuteChange(null);this.setHiddenValue(),Ou.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.updateIconState=function(){this.showClearButton&&(this.inputElement&&""!==this.inputElement.value&&!this.readonly?Ba([this.inputWrapper.clearButton],qp.clearIconHide):Fa([this.inputWrapper.clearButton],qp.clearIconHide))},t.prototype.getAriaAttributes=function(){return{role:"combobox","aria-autocomplete":"both","aria-labelledby":this.hiddenElement.id,"aria-expanded":"false","aria-readonly":this.readonly.toString(),autocomplete:"off",autocapitalize:"off",spellcheck:"false"}},t.prototype.searchLists=function(t){this.isTyped=!0,this.isFiltering()?(e.prototype.searchLists.call(this,t),this.ulElement&&""===this.filterInput.value.trim()&&this.setHoverList(this.ulElement.querySelector("."+qp.li))):(this.ulElement&&""===this.inputElement.value&&this.preventAutoFill&&this.setHoverList(this.ulElement.querySelector("."+qp.li)),this.incrementalSearch(t))},t.prototype.getNgDirective=function(){return"EJS-COMBOBOX"},t.prototype.setSearchBox=function(){return this.filterInput=this.inputElement,this.isFiltering()||this.isReact&&"combobox"===this.getModuleName()?this.inputWrapper:$p},t.prototype.onActionComplete=function(t,i,n,r){var s=this;e.prototype.onActionComplete.call(this,t,i,n),this.isSelectCustom&&this.removeSelection(),!this.preventAutoFill&&"combobox"===this.getModuleName()&&this.isTyped&&setTimeout((function(){s.inlineSearch()}))},t.prototype.getFocusElement=function(){var e=this.isSelectCustom?{text:""}:this.getItemData(),t=ko(this.list)?this.list:this.list.querySelector("."+qp.selected);if(e.text===this.inputElement.value&&!ko(t))return t;if((La.isDevice&&!this.isDropDownClick||!La.isDevice)&&!ko(this.liCollections)&&this.liCollections.length>0){var i=this.inputElement.value,n=this.sortedData,r=this.typeOfData(n).typeof,s=np(i,this.liCollections,this.filterType,!0,n,this.fields,r).item;if(ko(s))this.isSelectCustom&&""!==this.inputElement.value.trim()&&(this.removeFocus(),this.enableVirtualization||(this.list.scrollTop=0));else{var o=this.getIndexByValue(s.getAttribute("data-value"))-1,a=parseInt(getComputedStyle(this.liCollections[0],null).getPropertyValue("height"),10);if(!isNaN(a)&&"autocomplete"!==this.getModuleName()){this.removeFocus();var l=this.fields.groupBy?this.liCollections[0].offsetHeight:0;this.enableVirtualization||(this.list.scrollTop=o*a+l),Fa([s],qp.focus)}}return s}return null},t.prototype.setValue=function(t){return t&&"keydown"===t.type&&"enter"===t.action&&this.removeFillSelection(),this.autofill&&"combobox"===this.getModuleName()&&t&&"keydown"===t.type&&"enter"!==t.action?(this.preventAutoFill=!1,this.inlineSearch(t),!1):e.prototype.setValue.call(this,t)},t.prototype.checkCustomValue=function(){this.itemData=this.getDataByValue(this.value);var e=this.getItemData();this.allowCustom&&ko(e.value)&&ko(e.text)||this.setProperties({value:e.value},!this.allowCustom)},t.prototype.showSpinner=function(){ko(this.spinnerElement)&&(this.spinnerElement="autocomplete"===this.getModuleName()?this.inputWrapper.buttons[0]||this.inputWrapper.clearButton||Ou.appendSpan("e-input-group-icon "+Zp,this.inputWrapper.container,this.createElement):this.inputWrapper.buttons[0]||this.inputWrapper.clearButton,Fa([this.spinnerElement],qp.disableIcon),xc({target:this.spinnerElement,width:La.isDevice?"16px":"14px"},this.createElement),Vc(this.spinnerElement))},t.prototype.hideSpinner=function(){ko(this.spinnerElement)||(Hc(this.spinnerElement),Ba([this.spinnerElement],qp.disableIcon),this.spinnerElement.classList.contains(Zp)?Qa(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)},t.prototype.setAutoFill=function(e,t){if(t||this.setHoverList(e),this.autofill&&!this.preventAutoFill){var i=this.getTextByValue(e.getAttribute("data-value")).toString(),n=this.getFormattedValue(e.getAttribute("data-value"));"combobox"===this.getModuleName()&&(this.isSelected||this.previousValue===n?this.updateSelectedItem(e,null,!0):(this.updateSelectedItem(e,null),this.isSelected=!0,this.previousValue=this.getFormattedValue(e.getAttribute("data-value")))),this.isAndroidAutoFill(i)||this.setAutoFillSelection(i,t)}},t.prototype.isAndroidAutoFill=function(e){if(La.isAndroid){var t=this.getSelectionPoints(),i=this.prevSelectPoints.end,n=t.end,r=this.prevSelectPoints.start,s=t.start;return 0!==i&&(i===e.length&&r===e.length||r>s&&i>n||i===n&&r===s)}return!1},t.prototype.clearAll=function(t,i){(ko(i)||!ko(i)&&ko(i.dataSource))&&e.prototype.clearAll.call(this,t),this.isFiltering()&&!ko(t)&&t.target===this.inputWrapper.clearButton&&this.searchLists(t)},t.prototype.isSelectFocusItem=function(e){return!ko(e)},t.prototype.inlineSearch=function(e){var t=e&&("down"===e.action||"up"===e.action||"home"===e.action||"end"===e.action||"pageUp"===e.action||"pageDown"===e.action),i=t?this.liCollections[this.activeIndex]:this.getFocusElement();if(ko(i))if(""===this.inputElement.value){if(this.activeIndex=null,!ko(this.list)){this.enableVirtualization||(this.list.scrollTop=0);var n=this.list.querySelector("."+qp.li);this.setHoverList(n)}}else this.activeIndex=null,this.removeSelection(),this.liCollections&&this.liCollections.length>0&&!this.isCustomFilter&&this.removeFocus();else{if(!t){var r=this.getFormattedValue(i.getAttribute("data-value"));this.activeIndex=this.getIndexByValue(r),this.activeIndex=ko(this.activeIndex)?null:this.activeIndex}this.preventAutoFill=""!==this.inputElement.value&&this.preventAutoFill,this.setAutoFill(i,t)}},t.prototype.incrementalSearch=function(e){this.showPopup(e),ko(this.listData)||(this.inlineSearch(e),e.preventDefault())},t.prototype.setAutoFillSelection=function(e,t){void 0===t&&(t=!1);var i=this.getSelectionPoints(),n=this.inputElement.value.substr(0,i.start);if(n&&n.toLowerCase()===e.substr(0,i.start).toLowerCase()){var r=n+e.substr(n.length,e.length);Ou.setValue(r,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(i.start,this.inputElement.value.length)}else t&&(Ou.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(0,this.inputElement.value.length))},t.prototype.getValueByText=function(t){return e.prototype.getValueByText.call(this,t,!0,this.ignoreAccent)},t.prototype.unWireEvent=function(){"combobox"===this.getModuleName()&&(Oa.remove(this.inputWrapper.buttons[0],"mousedown",this.preventBlur),Oa.remove(this.inputWrapper.container,"blur",this.onBlurHandler)),ko(this.inputWrapper.buttons[0])||Oa.remove(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick),this.inputElement&&(Oa.remove(this.inputElement,"focus",this.targetFocus),this.readonly||(Oa.remove(this.inputElement,"input",this.onInput),Oa.remove(this.inputElement,"keyup",this.onFilterUp),Oa.remove(this.inputElement,"keydown",this.onFilterDown),Oa.remove(this.inputElement,"paste",this.pasteHandler),Oa.remove(window,"resize",this.windowResize))),this.unBindCommonEvent()},t.prototype.setSelection=function(t,i){e.prototype.setSelection.call(this,t,i),ko(t)||this.autofill||this.isDropDownClick||this.removeFocus()},t.prototype.selectCurrentItem=function(e){var t;this.isPopupOpen&&((t=this.isSelected?this.list.querySelector("."+qp.selected):this.list.querySelector("."+qp.focus))&&(this.setSelection(t,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e))),"enter"===e.action&&""===this.inputElement.value.trim()?this.clearAll(e):this.isTyped&&!this.isSelected&&ko(t)&&this.customValue(e),this.hidePopup(e)},t.prototype.setHoverList=function(e){this.removeSelection(),this.isValidLI(e)&&!e.classList.contains(qp.selected)&&(this.removeFocus(),e.classList.add(qp.focus))},t.prototype.targetFocus=function(e){La.isDevice&&!this.allowFiltering&&(this.preventFocus=!1),this.onFocus(e),Ou.calculateWidth(this.inputElement,this.inputWrapper.container)},t.prototype.dropDownClick=function(t){t.preventDefault(),La.isDevice&&!this.isFiltering()&&(this.preventFocus=!0),e.prototype.dropDownClick.call(this,t)},t.prototype.customValue=function(e){var t=this,i=this.getValueByText(this.inputElement.value);if(this.allowCustom||""===this.inputElement.value)if(""!==this.inputElement.value.trim()){var n=this.value;if(ko(i)){var r=""===this.inputElement.value?null:this.inputElement.value,s={text:r,item:{}};this.initial?this.updateCustomValueCallback(r,s,n):this.trigger("customValueSpecifier",s,(function(i){t.updateCustomValueCallback(r,i,n,e)}))}else this.isSelectCustom=!1,this.setProperties({value:i}),n!==this.value&&this.onChangeEvent(e)}else this.allowCustom&&(this.isSelectCustom=!0);else{var o=this.previousValue,a=this.value;this.setProperties({value:i}),ko(this.value)&&Ou.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.autofill&&o===this.value&&a!==this.value&&this.onChangeEvent(null)}},t.prototype.updateCustomValueCallback=function(e,t,i,n){var r=this.fields,s=t.item,o={};s&&No(r.text,s)&&No(r.value,s)?o=s:(Co(r.text,e,o),Co(r.value,e,o)),this.itemData=o;var a={text:No(r.text,this.itemData),value:No(r.value,this.itemData),index:null};this.setProperties(a,!0),this.setSelection(null,null),this.isSelectCustom=!0,i!==this.value&&this.onChangeEvent(n)},t.prototype.onPropertyChanged=function(t,i){"combobox"===this.getModuleName()&&(this.checkData(t),this.setUpdateInitial(["fields","query","dataSource"],t));for(var n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];switch(s){case"readonly":Ou.setReadonly(this.readonly,this.inputElement),this.readonly?(Oa.remove(this.inputElement,"input",this.onInput),Oa.remove(this.inputElement,"keyup",this.onFilterUp),Oa.remove(this.inputElement,"keydown",this.onFilterDown)):(Oa.add(this.inputElement,"input",this.onInput,this),Oa.add(this.inputElement,"keyup",this.onFilterUp,this),Oa.add(this.inputElement,"keydown",this.onFilterDown,this)),this.setReadOnly();break;case"allowFiltering":this.setSearchBox(),this.isFiltering()&&"combobox"===this.getModuleName()&&ko(this.list)&&e.prototype.renderList.call(this);break;case"allowCustom":break;default:var o=this.getPropObject(s,t,i);e.prototype.onPropertyChanged.call(this,o.newProperty,o.oldProperty),this.isFiltering()&&"dataSource"===s&&ko(this.list)&&this.itemTemplate&&"combobox"===this.getModuleName()&&e.prototype.renderList.call(this)}}},t.prototype.render=function(){e.prototype.render.call(this),this.setSearchBox(),this.isFiltering()&&"combobox"===this.getModuleName()&&ko(this.list)&&e.prototype.renderList.call(this),this.renderComplete()},t.prototype.getModuleName=function(){return"combobox"},t.prototype.addItem=function(t,i){e.prototype.addItem.call(this,t,i)},t.prototype.filter=function(t,i,n){e.prototype.filter.call(this,t,i,n)},t.prototype.showPopup=function(t){e.prototype.showPopup.call(this,t)},t.prototype.hidePopup=function(t){var i=this.inputElement&&""===this.inputElement.value?null:this.inputElement&&this.inputElement.value;if(!ko(this.listData)){var n=this.isEscapeKey;this.isEscapeKey&&(Ou.setValue(this.typedString,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1),this.autofill&&this.removeFillSelection();var r=this.isSelectCustom?{text:""}:this.getItemData(),s=ko(this.list)?null:this.list.querySelector("."+qp.selected);if(this.inputElement&&r.text===this.inputElement.value&&!ko(s))return this.isSelected&&(this.onChangeEvent(t),this.isSelectCustom=!1),void e.prototype.hidePopup.call(this,t);if("combobox"===this.getModuleName()&&""!==this.inputElement.value.trim()){var o=this.sortedData,a=this.typeOfData(o).typeof,l=np(this.inputElement.value,this.liCollections,"Equal",!0,o,this.fields,a);this.selectedLI=l.item,ko(l.index)&&(l.index=np(this.inputElement.value,this.liCollections,"StartsWith",!0,o,this.fields,a).index),this.activeIndex=l.index,ko(this.selectedLI)?n&&(this.isSelectCustom=!0,this.removeSelection()):this.updateSelectedItem(this.selectedLI,null,!0)}this.isEscapeKey||!this.isTyped||this.isInteracted||this.customValue(t)}ko(this.listData)&&this.allowCustom&&!ko(i)&&i!==this.value&&this.customValue(),e.prototype.hidePopup.call(this,t)},t.prototype.focusIn=function(){this.enabled&&(La.isDevice&&!this.isFiltering()&&(this.preventFocus=!0),e.prototype.focusIn.call(this))},t.prototype.clear=function(){this.value=null},t.prototype.focusOut=function(t){e.prototype.focusOut.call(this,t)},t.prototype.getItems=function(){return e.prototype.getItems.call(this)},t.prototype.getDataByValue=function(t){return e.prototype.getDataByValue.call(this,t)},t.prototype.renderHightSearch=function(){},Jp([fl(!1)],t.prototype,"autofill",void 0),Jp([fl(!0)],t.prototype,"allowCustom",void 0),Jp([fl({})],t.prototype,"htmlAttributes",void 0),Jp([fl(!1)],t.prototype,"allowFiltering",void 0),Jp([fl(null)],t.prototype,"query",void 0),Jp([fl(null)],t.prototype,"index",void 0),Jp([fl(!0)],t.prototype,"showClearButton",void 0),Jp([fl(!1)],t.prototype,"enableRtl",void 0),Jp([yl()],t.prototype,"customValueSpecifier",void 0),Jp([yl()],t.prototype,"filtering",void 0),Jp([fl(null)],t.prototype,"valueTemplate",void 0),Jp([fl("Never")],t.prototype,"floatLabelType",void 0),Jp([fl(null)],t.prototype,"filterBarPlaceholder",void 0),Jp([fl(null)],t.prototype,"cssClass",void 0),Jp([fl(null)],t.prototype,"headerTemplate",void 0),Jp([fl(null)],t.prototype,"footerTemplate",void 0),Jp([fl(null)],t.prototype,"placeholder",void 0),Jp([fl("100%")],t.prototype,"width",void 0),Jp([fl("300px")],t.prototype,"popupHeight",void 0),Jp([fl("100%")],t.prototype,"popupWidth",void 0),Jp([fl(!1)],t.prototype,"readonly",void 0),Jp([fl(null)],t.prototype,"text",void 0),Jp([fl(null)],t.prototype,"value",void 0),t=Jp([vl],t)}(Kp),td=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),id=["alt","className","disabled","form","id","readOnly","style","tabIndex","title","type","name","onClick","onFocus","onBlur"],nd=["accordion","tab","splitter"],rd=new RegExp("]"),sd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mountingState=!1,t.attrKeys=[],t.cachedTimeOut=0,t.isAppendCalled=!1,t.initRenderCalled=!1,t.isReactForeceUpdate=!1,t.isReact=!0,t.isshouldComponentUpdateCalled=!1,t.isCreated=!1,t}return td(t,e),t.prototype.componentDidMount=function(){this.refreshChild(!0),this.canDelayUpdate=-1!==nd.indexOf(this.getModuleName()),this.renderReactComponent(),this.portals&&this.portals.length&&(this.mountingState=!0,this.renderReactTemplates(),this.mountingState=!1)},t.prototype.componentDidUpdate=function(e){this.isshouldComponentUpdateCalled||!this.initRenderCalled||this.isReactForeceUpdate||e!==this.props&&(this.isshouldComponentUpdateCalled=!0,this.refreshProperties(this.props,this.props))},t.prototype.renderReactComponent=function(){var e=this.reactElement;e&&!this.isAppendCalled&&(this.isAppendCalled=!0,this.appendTo(e))},t.prototype.shouldComponentUpdate=function(e){return this.isshouldComponentUpdateCalled=!0,this.initRenderCalled?(this.isAppendCalled||(clearTimeout(this.cachedTimeOut),this.isAppendCalled=!0,this.appendTo(this.reactElement)),this.updateProperties(e),!0):(this.updateProperties(e,!0),!0)},t.prototype.updateProperties=function(e,t){for(var i=this,n=Eo({},e),r=Object.keys(e),s=ko(this.props.statelessTemplates)?ko(this.statelessTemplateProps)?[]:this.statelessTemplateProps:this.props.statelessTemplates,o=0,a=r;o<a.length;o++){var l=a[o],h="className"===l;if("children"!==l)if(h||ko(this.htmlattributes[""+l])||this.htmlattributes[""+l]===n[""+l]||(this.htmlattributes[""+l]=n[""+l]),this.compareValues(this.props[""+l],e[""+l]))delete n[""+l];else if(-1!==this.attrKeys.indexOf(l))if(h){this.clsName=!0;for(var c=this.props[""+l].split(" "),u=0;u<c.length;u++)this.element.classList.remove(c[parseInt(u.toString(),10)]);for(var p=n[""+l].split(" "),d=0;d<p.length;d++)this.element.classList.add(p[parseInt(d.toString(),10)])}else"disabled"===l||this.properties.hasOwnProperty(l)||delete n[""+l];else("value"===l&&e[""+l]===this[""+l]||s.indexOf(l)>-1&&("content"===l&&"function"===typeof n[""+l]||e[""+l].toString()===this[""+l].toString()))&&delete n[""+l]}n.children&&delete n.children,this.initRenderCalled&&(this.canDelayUpdate||this.props.delayUpdate)?setTimeout((function(){i.refreshProperties(n,e,t)})):this.refreshProperties(n,e,t)},t.prototype.refreshProperties=function(e,t,i){var n=ko(this.props.statelessTemplates)?[]:this.props.statelessTemplates;Object.keys(e).length&&(i||this.processComplexTemplate(e,this),this.setProperties(e,i)),-1===n.indexOf("directiveTemplates")&&this.refreshChild(i,t)},t.prototype.processComplexTemplate=function(e,t){var i=t.complexTemplate;if(i)for(var n in i){var r=i[""+n];e[""+n]&&Co(r,No(n,e),e)}},t.prototype.getDefaultAttributes=function(){var e=this;this.isReact=!0;var i=Object.keys(this.props);this.htmlattributes||(this.htmlattributes={}),this.attrKeys=id.concat(this.controlAttributes||[]);for(var n=0,r=i;n<r.length;n++){var s=r[n];-1===s.indexOf("data-")&&-1===s.indexOf("aria-")&&-1===this.attrKeys.indexOf(s)||this.htmlattributes[""+s]!==this.props[""+s]&&(this.htmlattributes[""+s]=this.props[""+s])}if(!this.htmlattributes.ref){this.htmlattributes.ref=function(t){e.reactElement=t};-1!==["autocomplete","combobox","dropdownlist","dropdowntree","multiselect","listbox","colorpicker","numerictextbox","textbox","uploader","maskedtextbox","slider","datepicker","datetimepicker","daterangepicker","timepicker","checkbox","switch","radio"].indexOf(this.getModuleName())&&(this.htmlattributes.key=""+t.reactUid,t.reactUid++,this.type&&!this.htmlattributes.type&&(this.htmlattributes.type=this.multiline?"hidden":this.type),this.name&&!this.htmlattributes.name&&(this.htmlattributes.name=this.name))}if(this.clsName){for(var o=this.element.classList,a=this.htmlattributes.className,l=0;l<o.length;l++)-1===a.indexOf(o[parseInt(l.toString(),10)])&&(this.htmlattributes.className=this.htmlattributes.className+" "+o[parseInt(l.toString(),10)]);this.clsName=!1}return this.htmlattributes},t.prototype.trigger=function(e,t,i){var n=this;if(!0!==this.isDestroyed&&this.modelObserver){if(rd.test(e)){var r=No(e,this);r?(r.call(this,t),i&&i.call(this,t)):i&&i.call(this,t)}"change"!==e&&"input"!==e||this.props.onChange&&t.event&&this.props.onChange.call(void 0,{syntheticEvent:t.event,nativeEvent:{text:t.value},value:t.value,target:this});var s=this.isProtectedOnChange;this.isProtectedOnChange=!1,"created"===e?setTimeout((function(){n.isCreated=!0,n.isDestroyed||n.modelObserver.notify(e,t,i)}),10):this.modelObserver.notify(e,t,i),this.isProtectedOnChange=s}},t.prototype.compareValues=function(e,t){if(typeof e===typeof t){if(e===t)return!0;if((!ko(e)&&e.constructor)!==(!ko(t)&&t.constructor))return!1;if(e instanceof Date||e instanceof RegExp||e instanceof String||e instanceof Number)return e.toString()===t.toString();if(To(e)||Array.isArray(e)){var i=e,n=t;return To(i)&&(i=[e],n=[t]),this.compareObjects(i,n).status}if(e.constructor&&e.constructor.name===t.constructor.name&&("Query"===e.constructor.name||"DataManager"===e.constructor.name)&&JSON.stringify(e)===JSON.stringify(t))return!0}return!1},t.prototype.compareObjects=function(e,t,i){var n=!0,r=e.length===t.length,s=[],o=ko(this.templateProps)?[]:this.templateProps;if(r)for(var a=0,l=t.length;a<l;a++){var h={},c=e[parseInt(a.toString(),10)],u=t[parseInt(a.toString(),10)],p=Object.keys(u);if(0!==p.length)for(var d=0,f=p;d<f.length;d++){var g=f[d],m=c[""+g],y=u[""+g];if("items"===g)for(var v=0;v<y.length;v++)if("richtexteditor"===this.getModuleName()&&"object"===typeof y[parseInt(v.toString(),10)])return{status:!0};if("grid"===this.getModuleName()&&"field"===g&&(h[""+g]=y),!c.hasOwnProperty(g)||!(o.length>0&&-1===o.indexOf(""+g)&&"function"===typeof y?this.compareValues(m.toString(),y.toString()):this.compareValues(m,y))){if(!i)return{status:!1};n=!1,h[""+g]=y}}else if(t[parseInt(a.toString(),10)]===e[parseInt(a.toString(),10)])n=!0;else{if(!i)return{status:!1};n=!1}"grid"===this.getModuleName()&&"columns"===i&&ko(h.field)&&(h.field=void 0),Object.keys(h).length&&s.push({index:a,value:h,key:i})}else n=!1;return{status:n,changedProperties:s}},t.prototype.refreshChild=function(e,t){if(this.checkInjectedModules){for(var i=this.getInjectedModules()||[],n=0,r=this.getInjectedServices()||[];n<r.length;n++){var s=r[n];-1===i.indexOf(s)&&i.push(s)}this.injectedModules=i}if(this.directivekeys){var o=[],a=this.validateChildren({},this.directivekeys,t||this.props);if(a&&Object.keys(a).length){if(!e&&this.skipRefresh)for(var l=0,h=this.skipRefresh;l<h.length;l++){delete a[""+h[l]]}if(this.prevProperties)for(var c=Object.keys(this.prevProperties),u=0;u<c.length;u++){var p=c[parseInt(u.toString(),10)];if(a.hasOwnProperty(p)){var d=this.compareObjects(this.prevProperties[""+p],a[""+p],p);if(d.status)delete a[""+p];else{d.changedProperties.length&&(o=o.concat(d.changedProperties));var f={};f[""+p]=a[""+p],this.prevProperties=Eo(this.prevProperties,f)}}}else this.prevProperties=Eo({},a,{},!0);if(o.length)if("grid"===this.getModuleName()&&"columns"===p)for(var g=0,m=this.columns;g<m.length;g++){if(No("field",m[parseInt(g.toString(),10)])===No(g+".value.field",o)){var y=No(o[parseInt(g.toString(),10)].key+"."+o[parseInt(g.toString(),10)].index,this);y&&y.setProperties?y.setProperties(o[parseInt(g.toString(),10)].value):Eo(y,o[parseInt(g.toString(),10)].value)}else this.setProperties(a,e)}else for(var v=0,b=o;v<b.length;v++){var M=b[v],S=No(M.key+"."+M.index,this);S&&S.setProperties?S.setProperties(M.value):Eo(S,M.value)}else this.setProperties(a,e)}}},t.prototype.componentWillUnmount=function(){clearTimeout(this.cachedTimeOut);this.initRenderCalled&&this.isAppendCalled&&this.element&&(["dropdowntree","checkbox"].indexOf(this.getModuleName())||document.body.contains(this.element))&&!this.isDestroyed&&this.isCreated&&this.destroy(),pa.offIntlEvents()},t.prototype.appendReactElement=function(e,t){var i=o.createPortal(e,t);this.portals?this.portals.push(i):this.portals=[i]},t.prototype.renderReactTemplates=function(e){this.isReactForeceUpdate=!0,e?this.forceUpdate(e):this.forceUpdate(),this.isReactForeceUpdate=!1},t.prototype.clearTemplate=function(e,t,i){var n=this,r=[];e&&e.length?Array.prototype.forEach.call(e,(function(e){var i=0;if(n.portals.forEach((function(t){t.propName===e&&(r.push(i),i++)})),!ko(t)&&n.portals[t]&&n.portals[t].propName===e)n.portals.splice(t,1);else for(var s=0;s<n.portals.length;s++)n.portals[parseInt(s.toString(),10)].propName===e&&(n.portals.splice(s,1),s--)})):this.portals=[],this.renderReactTemplates(i)},t.prototype.validateChildren=function(e,t,i){for(var r=!1,s=0,o=n.Children.toArray(i.children);s<o.length;s++){var a=o[s],l=this.getChildType(a),h=t[""+l];if(l&&t){var c=this.getChildProps(n.Children.toArray(a.props.children),h);c.length&&(r=!0,e[a.type.propertyName||l]=c)}}return r?e:null},t.prototype.getChildType=function(e){return e.type&&e.type.isDirective&&e.type.moduleName||""},t.prototype.getChildProps=function(e,t){for(var i=[],n=0,r=e;n<r.length;n++){var s=r[n],o=!1,a=void 0;"string"===typeof t?(o=!0,a=t):a=Object.keys(t)[0];var l=s.props;if(this.getChildType(s)===a)if(o||!l.children){var h=Eo({},l,{},!0);this.processComplexTemplate(h,s.type),i.push(h)}else{var c=this.validateChildren(Eo({},l),t[""+a],l)||l;c.children&&delete c.children,this.processComplexTemplate(c,s.type),i.push(c)}}return i},t.prototype.getInjectedServices=function(){for(var e=0,t=n.Children.toArray(this.props.children);e<t.length;e++){var i=t[e];if(i.type&&i.type.isService)return i.props.services}return[]},t.reactUid=1,t}(n.Component);function od(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(i){"isMounted"!==i&&"replaceState"!==i&&(e.prototype[""+i]=t.prototype[""+i])}))}))}var ad=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ad(t,e),t.prototype.render=function(){return null},t.isDirective=!0,t}(n.PureComponent),hd=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),cd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hd(t,e),t.prototype.render=function(){return null},t.isService=!0,t}(n.PureComponent),ud=Kh.compile;!function(e){Kh.compile=e.compile}({compile:function(e,t){return"string"===typeof e||e.prototype&&e.prototype.CSPTemplate&&"function"===typeof e?ud(e,t):function(t,i,r,s){var a,l=e,h=t;"object"===typeof l&&(l=e.template,h=Eo({},t,e.data||{})),a=s||document.createElement("div");var c=n.createElement(l,h),u=o.createPortal(c,a);if(u.propName=r,i.portals?i.portals.push(u):i.portals=[u],!s)return[a]}}});var pd=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),dd=function(e){function t(t){var i=e.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.statelessTemplateProps=["headerTemplate","itemTemplate"],i.templateProps=null,i.immediateRender=!1,i.portals=[],i}return pd(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing)||this.isReactForeceUpdate)return n.createElement(n.Fragment,null,[].concat(n.createElement("input",this.getDefaultAttributes()),this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(ed);od(dd,[sd,n.Component]);const fd=e=>{let{onUpload:t,defaultImage:i}=e;const[r,s]=(0,n.useState)(i);return(0,Hi.jsxs)("div",{className:"custom-file",children:[r&&(0,Hi.jsx)("div",{className:"mt-2",children:(0,Hi.jsx)("img",{src:r,alt:"Preview",className:"img-thumbnail",style:{width:"150px",height:"200px"}})}),(0,Hi.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:async e=>{const i=e.target.files[0],n=new FormData;n.append("file",i);try{const e=(await Vi.post("https://api.benzosoft.com/nschapi/api/FileBuffer",n)).data.result.path;s(e),t(e)}catch(r){console.error("Error uploading file:",r)}}})]})};var gd=i(139),md=i.n(gd);const yd=["xxl","xl","lg","md","sm","xs"],vd="xs",bd=n.createContext({prefixes:{},breakpoints:yd,minBreakpoint:vd}),{Consumer:Md,Provider:Sd}=bd;function wd(e,t){const{prefixes:i}=(0,n.useContext)(bd);return e||i[t]||t}function _d(){const{breakpoints:e}=(0,n.useContext)(bd);return e}function Id(){const{minBreakpoint:e}=(0,n.useContext)(bd);return e}const Nd=n.forwardRef(((e,t)=>{let{className:i,bsPrefix:n,as:r="div",...s}=e;return n=wd(n,"card-body"),(0,Hi.jsx)(r,{ref:t,className:md()(i,n),...s})}));Nd.displayName="CardBody";const Cd=Nd,xd=n.forwardRef(((e,t)=>{let{className:i,bsPrefix:n,as:r="div",...s}=e;return n=wd(n,"card-footer"),(0,Hi.jsx)(r,{ref:t,className:md()(i,n),...s})}));xd.displayName="CardFooter";const Dd=xd,Td=n.createContext(null);Td.displayName="CardHeaderContext";const Ad=Td,jd=n.forwardRef(((e,t)=>{let{bsPrefix:i,className:r,as:s="div",...o}=e;const a=wd(i,"card-header"),l=(0,n.useMemo)((()=>({cardHeaderBsPrefix:a})),[a]);return(0,Hi.jsx)(Ad.Provider,{value:l,children:(0,Hi.jsx)(s,{ref:t,...o,className:md()(r,a)})})}));jd.displayName="CardHeader";const Ed=jd,kd=n.forwardRef(((e,t)=>{let{bsPrefix:i,className:n,variant:r,as:s="img",...o}=e;const a=wd(i,"card-img");return(0,Hi.jsx)(s,{ref:t,className:md()(r?"".concat(a,"-").concat(r):a,n),...o})}));kd.displayName="CardImg";const zd=kd,Ld=n.forwardRef(((e,t)=>{let{className:i,bsPrefix:n,as:r="div",...s}=e;return n=wd(n,"card-img-overlay"),(0,Hi.jsx)(r,{ref:t,className:md()(i,n),...s})}));Ld.displayName="CardImgOverlay";const Od=Ld,Pd=n.forwardRef(((e,t)=>{let{className:i,bsPrefix:n,as:r="a",...s}=e;return n=wd(n,"card-link"),(0,Hi.jsx)(r,{ref:t,className:md()(i,n),...s})}));Pd.displayName="CardLink";const Rd=Pd,Fd=e=>n.forwardRef(((t,i)=>(0,Hi.jsx)("div",{...t,ref:i,className:md()(t.className,e)}))),Bd=Fd("h6"),Vd=n.forwardRef(((e,t)=>{let{className:i,bsPrefix:n,as:r=Bd,...s}=e;return n=wd(n,"card-subtitle"),(0,Hi.jsx)(r,{ref:t,className:md()(i,n),...s})}));Vd.displayName="CardSubtitle";const Ud=Vd,Hd=n.forwardRef(((e,t)=>{let{className:i,bsPrefix:n,as:r="p",...s}=e;return n=wd(n,"card-text"),(0,Hi.jsx)(r,{ref:t,className:md()(i,n),...s})}));Hd.displayName="CardText";const Wd=Hd,Yd=Fd("h5"),Qd=n.forwardRef(((e,t)=>{let{className:i,bsPrefix:n,as:r=Yd,...s}=e;return n=wd(n,"card-title"),(0,Hi.jsx)(r,{ref:t,className:md()(i,n),...s})}));Qd.displayName="CardTitle";const qd=Qd,Gd=n.forwardRef(((e,t)=>{let{bsPrefix:i,className:n,bg:r,text:s,border:o,body:a=!1,children:l,as:h="div",...c}=e;const u=wd(i,"card");return(0,Hi.jsx)(h,{ref:t,...c,className:md()(n,u,r&&"bg-".concat(r),s&&"text-".concat(s),o&&"border-".concat(o)),children:a?(0,Hi.jsx)(Cd,{children:l}):l})}));Gd.displayName="Card";const Kd=Object.assign(Gd,{Img:zd,Title:qd,Subtitle:Ud,Body:Cd,Link:Rd,Text:Wd,Header:Ed,Footer:Dd,ImgOverlay:Od});var Xd=i(173),Jd=i.n(Xd);const Zd={type:Jd().string,tooltip:Jd().bool,as:Jd().elementType},$d=n.forwardRef(((e,t)=>{let{as:i="div",className:n,type:r="valid",tooltip:s=!1,...o}=e;return(0,Hi.jsx)(i,{...o,ref:t,className:md()(n,"".concat(r,"-").concat(s?"tooltip":"feedback"))})}));$d.displayName="Feedback",$d.propTypes=Zd;const ef=$d,tf=n.createContext({}),nf=n.forwardRef(((e,t)=>{let{id:i,bsPrefix:r,className:s,type:o="checkbox",isValid:a=!1,isInvalid:l=!1,as:h="input",...c}=e;const{controlId:u}=(0,n.useContext)(tf);return r=wd(r,"form-check-input"),(0,Hi.jsx)(h,{...c,ref:t,type:o,id:i||u,className:md()(s,r,a&&"is-valid",l&&"is-invalid")})}));nf.displayName="FormCheckInput";const rf=nf,sf=n.forwardRef(((e,t)=>{let{bsPrefix:i,className:r,htmlFor:s,...o}=e;const{controlId:a}=(0,n.useContext)(tf);return i=wd(i,"form-check-label"),(0,Hi.jsx)("label",{...o,ref:t,htmlFor:s||a,className:md()(r,i)})}));sf.displayName="FormCheckLabel";const of=sf;const af=n.forwardRef(((e,t)=>{let{id:i,bsPrefix:r,bsSwitchPrefix:s,inline:o=!1,reverse:a=!1,disabled:l=!1,isValid:h=!1,isInvalid:c=!1,feedbackTooltip:u=!1,feedback:p,feedbackType:d,className:f,style:g,title:m="",type:y="checkbox",label:v,children:b,as:M="input",...S}=e;r=wd(r,"form-check"),s=wd(s,"form-switch");const{controlId:w}=(0,n.useContext)(tf),_=(0,n.useMemo)((()=>({controlId:i||w})),[w,i]),I=!b&&null!=v&&!1!==v||function(e,t){return n.Children.toArray(e).some((e=>n.isValidElement(e)&&e.type===t))}(b,of),N=(0,Hi.jsx)(rf,{...S,type:"switch"===y?"checkbox":y,ref:t,isValid:h,isInvalid:c,disabled:l,as:M});return(0,Hi.jsx)(tf.Provider,{value:_,children:(0,Hi.jsx)("div",{style:g,className:md()(f,I&&r,o&&"".concat(r,"-inline"),a&&"".concat(r,"-reverse"),"switch"===y&&s),children:b||(0,Hi.jsxs)(Hi.Fragment,{children:[N,I&&(0,Hi.jsx)(of,{title:m,children:v}),p&&(0,Hi.jsx)(ef,{type:d,tooltip:u,children:p})]})})})}));af.displayName="FormCheck";const lf=Object.assign(af,{Input:rf,Label:of});i(440);const hf=n.forwardRef(((e,t)=>{let{bsPrefix:i,type:r,size:s,htmlSize:o,id:a,className:l,isValid:h=!1,isInvalid:c=!1,plaintext:u,readOnly:p,as:d="input",...f}=e;const{controlId:g}=(0,n.useContext)(tf);return i=wd(i,"form-control"),(0,Hi.jsx)(d,{...f,type:r,size:o,ref:t,readOnly:p,id:a||g,className:md()(l,u?"".concat(i,"-plaintext"):i,s&&"".concat(i,"-").concat(s),"color"===r&&"".concat(i,"-color"),h&&"is-valid",c&&"is-invalid")})}));hf.displayName="FormControl";const cf=Object.assign(hf,{Feedback:ef}),uf=n.forwardRef(((e,t)=>{let{className:i,bsPrefix:n,as:r="div",...s}=e;return n=wd(n,"form-floating"),(0,Hi.jsx)(r,{ref:t,className:md()(i,n),...s})}));uf.displayName="FormFloating";const pf=uf,df=n.forwardRef(((e,t)=>{let{controlId:i,as:r="div",...s}=e;const o=(0,n.useMemo)((()=>({controlId:i})),[i]);return(0,Hi.jsx)(tf.Provider,{value:o,children:(0,Hi.jsx)(r,{...s,ref:t})})}));df.displayName="FormGroup";const ff=df;const gf=n.forwardRef(((e,t)=>{const[{className:i,...n},{as:r="div",bsPrefix:s,spans:o}]=function(e){let{as:t,bsPrefix:i,className:n,...r}=e;i=wd(i,"col");const s=_d(),o=Id(),a=[],l=[];return s.forEach((e=>{const t=r[e];let n,s,h;delete r[e],"object"===typeof t&&null!=t?({span:n,offset:s,order:h}=t):n=t;const c=e!==o?"-".concat(e):"";n&&a.push(!0===n?"".concat(i).concat(c):"".concat(i).concat(c,"-").concat(n)),null!=h&&l.push("order".concat(c,"-").concat(h)),null!=s&&l.push("offset".concat(c,"-").concat(s))})),[{...r,className:md()(n,...a,...l)},{as:t,bsPrefix:i,spans:a}]}(e);return(0,Hi.jsx)(r,{...n,ref:t,className:md()(i,!o.length&&s)})}));gf.displayName="Col";const mf=gf,yf=n.forwardRef(((e,t)=>{let{as:i="label",bsPrefix:r,column:s=!1,visuallyHidden:o=!1,className:a,htmlFor:l,...h}=e;const{controlId:c}=(0,n.useContext)(tf);r=wd(r,"form-label");let u="col-form-label";"string"===typeof s&&(u="".concat(u," ").concat(u,"-").concat(s));const p=md()(a,r,o&&"visually-hidden",s&&u);return l=l||c,s?(0,Hi.jsx)(mf,{ref:t,as:"label",className:p,htmlFor:l,...h}):(0,Hi.jsx)(i,{ref:t,className:p,htmlFor:l,...h})}));yf.displayName="FormLabel";const vf=yf,bf=n.forwardRef(((e,t)=>{let{bsPrefix:i,className:r,id:s,...o}=e;const{controlId:a}=(0,n.useContext)(tf);return i=wd(i,"form-range"),(0,Hi.jsx)("input",{...o,type:"range",ref:t,className:md()(r,i),id:s||a})}));bf.displayName="FormRange";const Mf=bf,Sf=n.forwardRef(((e,t)=>{let{bsPrefix:i,size:r,htmlSize:s,className:o,isValid:a=!1,isInvalid:l=!1,id:h,...c}=e;const{controlId:u}=(0,n.useContext)(tf);return i=wd(i,"form-select"),(0,Hi.jsx)("select",{...c,size:s,ref:t,className:md()(o,i,r&&"".concat(i,"-").concat(r),a&&"is-valid",l&&"is-invalid"),id:h||u})}));Sf.displayName="FormSelect";const wf=Sf,_f=n.forwardRef(((e,t)=>{let{bsPrefix:i,className:n,as:r="small",muted:s,...o}=e;return i=wd(i,"form-text"),(0,Hi.jsx)(r,{...o,ref:t,className:md()(n,i,s&&"text-muted")})}));_f.displayName="FormText";const If=_f,Nf=n.forwardRef(((e,t)=>(0,Hi.jsx)(lf,{...e,ref:t,type:"switch"})));Nf.displayName="Switch";const Cf=Object.assign(Nf,{Input:lf.Input,Label:lf.Label}),xf=n.forwardRef(((e,t)=>{let{bsPrefix:i,className:n,children:r,controlId:s,label:o,...a}=e;return i=wd(i,"form-floating"),(0,Hi.jsxs)(ff,{ref:t,className:md()(n,i),controlId:s,...a,children:[r,(0,Hi.jsx)("label",{htmlFor:s,children:o})]})}));xf.displayName="FloatingLabel";const Df=xf,Tf={_ref:Jd().any,validated:Jd().bool,as:Jd().elementType},Af=n.forwardRef(((e,t)=>{let{className:i,validated:n,as:r="form",...s}=e;return(0,Hi.jsx)(r,{...s,ref:t,className:md()(i,n&&"was-validated")})}));Af.displayName="Form",Af.propTypes=Tf;const jf=Object.assign(Af,{Group:ff,Control:cf,Floating:pf,Check:lf,Switch:Cf,Label:vf,Text:If,Range:Mf,Select:wf,FloatingLabel:Df}),Ef=n.forwardRef(((e,t)=>{let{bsPrefix:i,className:n,as:r="div",...s}=e;const o=wd(i,"row"),a=_d(),l=Id(),h="".concat(o,"-cols"),c=[];return a.forEach((e=>{const t=s[e];let i;delete s[e],null!=t&&"object"===typeof t?({cols:i}=t):i=t;const n=e!==l?"-".concat(e):"";null!=i&&c.push("".concat(h).concat(n,"-").concat(i))})),(0,Hi.jsx)(r,{ref:t,...s,className:md()(n,o,...c)})}));Ef.displayName="Row";const kf=Ef,zf=e=>{let{parentData:t,onParentChange:i,relation:n}=e;t||(t={unqRowID:0,studentID:0,relationType:"Father"===n?"Father":"Mother",firstName:"",lastName:"",contactNo:"",dob:"",qualification:"",natureofjob:"",designation:"",residentialAddressID:0,residential_AddressLine1:"",residential_AddressLine2:"",residential_Landmark:"",residential_City:"",residential_Pincode:"",residential_Statecode:"",officeAddressID:0,office_AddressLine1:"",office_AddressLine2:"",office_Landmark:"",office_City:"",office_Pincode:"",office_Statecode:"",emailID:"",photo_DocumentPath:"",photo_DocumentID:0});const r=(e,n)=>{i({...t,[e]:n})};return(0,Hi.jsx)(Kd,{className:"mb-4",children:(0,Hi.jsxs)(Kd.Body,{children:[(0,Hi.jsxs)(Kd.Title,{children:[n," Details"]}),(0,Hi.jsx)(jf,{children:(0,Hi.jsxs)(kf,{children:[(0,Hi.jsxs)(mf,{md:10,children:[(0,Hi.jsxs)(kf,{className:"mb-4",children:[(0,Hi.jsx)(mf,{md:4,children:(0,Hi.jsxs)(jf.Group,{children:[(0,Hi.jsx)(jf.Label,{children:"First Name:"}),(0,Hi.jsx)(bo,{value:t.firstName,placeholder:"First Name",onChange:e=>r("firstName",e.value)})]})}),(0,Hi.jsx)(mf,{md:4,children:(0,Hi.jsxs)(jf.Group,{children:[(0,Hi.jsx)(jf.Label,{children:"Last Name:"}),(0,Hi.jsx)(bo,{value:t.lastName,placeholder:"Last Name",onChange:e=>r("lastName",e.value)})]})}),(0,Hi.jsx)(mf,{md:4,children:(0,Hi.jsxs)(jf.Group,{children:[(0,Hi.jsx)(jf.Label,{children:"Contact No:"}),(0,Hi.jsx)(bo,{value:t.contactNo,placeholder:"Contact No",onChange:e=>r("contactNo",e.value)})]})})]}),(0,Hi.jsxs)(kf,{className:"mb-4",children:[(0,Hi.jsx)(mf,{md:4,children:(0,Hi.jsxs)(jf.Group,{children:[(0,Hi.jsx)(jf.Label,{children:"Date of Birth:"}),(0,Hi.jsx)(bo,{value:t.dob,placeholder:"Date of Birth",onChange:e=>r("dob",e.value)})]})}),(0,Hi.jsx)(mf,{md:4,children:(0,Hi.jsxs)(jf.Group,{children:[(0,Hi.jsx)(jf.Label,{children:"Qualification:"}),(0,Hi.jsx)(bo,{value:t.qualification,placeholder:"Qualification",onChange:e=>r("qualification",e.value)})]})}),(0,Hi.jsx)(mf,{md:4,children:(0,Hi.jsxs)(jf.Group,{children:[(0,Hi.jsx)(jf.Label,{children:"Nature of Job:"}),(0,Hi.jsx)(bo,{value:t.natureofjob,placeholder:"Nature of Job",onChange:e=>r("natureofjob",e.value)})]})})]}),(0,Hi.jsxs)(kf,{className:"mb-4",children:[(0,Hi.jsx)(mf,{md:4,children:(0,Hi.jsxs)(jf.Group,{children:[(0,Hi.jsx)(jf.Label,{children:"Designation:"}),(0,Hi.jsx)(bo,{value:t.designation,placeholder:"Designation",onChange:e=>r("designation",e.value)})]})}),(0,Hi.jsx)(mf,{md:4,children:(0,Hi.jsxs)(jf.Group,{children:[(0,Hi.jsx)(jf.Label,{children:"Email ID:"}),(0,Hi.jsx)(bo,{value:t.emailID,placeholder:"Email ID",onChange:e=>r("emailID",e.value)})]})})]}),(0,Hi.jsxs)(kf,{className:"mb-4",children:[(0,Hi.jsx)(mf,{md:6,children:(0,Hi.jsxs)(jf.Group,{children:[(0,Hi.jsx)(jf.Label,{children:"Residential Address:"}),(0,Hi.jsx)(bo,{value:t.residential_AddressLine1,placeholder:"Address Line 1",onChange:e=>r("residential_AddressLine1",e.value)}),(0,Hi.jsx)(bo,{value:t.residential_AddressLine2,placeholder:"Address Line 2",onChange:e=>r("residential_AddressLine2",e.value)}),(0,Hi.jsx)(bo,{value:t.residential_Landmark,placeholder:"Landmark",onChange:e=>r("residential_Landmark",e.value)}),(0,Hi.jsx)(bo,{value:t.residential_City,placeholder:"City",onChange:e=>r("residential_City",e.value)}),(0,Hi.jsx)(bo,{value:t.residential_Pincode,placeholder:"Pincode",onChange:e=>r("residential_Pincode",e.value)}),(0,Hi.jsx)(bo,{value:t.residential_Statecode,placeholder:"Statecode",onChange:e=>r("residential_Statecode",e.value)})]})}),(0,Hi.jsx)(mf,{md:6,children:(0,Hi.jsxs)(jf.Group,{children:[(0,Hi.jsx)(jf.Label,{children:"Office Address:"}),(0,Hi.jsx)(bo,{value:t.office_AddressLine1,placeholder:"Address Line 1",onChange:e=>r("office_AddressLine1",e.value)}),(0,Hi.jsx)(bo,{value:t.office_AddressLine2,placeholder:"Address Line 2",onChange:e=>r("office_AddressLine2",e.value)}),(0,Hi.jsx)(bo,{value:t.office_Landmark,placeholder:"Landmark",onChange:e=>r("office_Landmark",e.value)}),(0,Hi.jsx)(bo,{value:t.office_City,placeholder:"City",onChange:e=>r("office_City",e.value)}),(0,Hi.jsx)(bo,{value:t.office_Pincode,placeholder:"Pincode",onChange:e=>r("office_Pincode",e.value)}),(0,Hi.jsx)(bo,{value:t.office_Statecode,placeholder:"Statecode",onChange:e=>r("office_Statecode",e.value)})]})})]})]}),(0,Hi.jsx)(mf,{md:2,children:(0,Hi.jsx)(kf,{children:(0,Hi.jsx)(mf,{md:12,children:(0,Hi.jsxs)(jf.Group,{children:[(0,Hi.jsx)(jf.Label,{children:"Parent Image:"}),(0,Hi.jsx)(fd,{onUpload:e=>{i({...t,photo_DocumentPath:e})},defaultImage:t.photo_DocumentPath||"../images/Father.jpg"})]})})})})]})})]})})},Lf=["as","disabled"];function Of(e){let{tagName:t,disabled:i,href:n,target:r,rel:s,role:o,onClick:a,tabIndex:l=0,type:h}=e;t||(t=null!=n||null!=r||null!=s?"a":"button");const c={tagName:t};if("button"===t)return[{type:h||"button",disabled:i},c];const u=e=>{(i||"a"===t&&function(e){return!e||"#"===e.trim()}(n))&&e.preventDefault(),i?e.stopPropagation():null==a||a(e)};return"a"===t&&(n||(n="#"),i&&(n=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:i?void 0:l,href:n,target:"a"===t?r:void 0,"aria-disabled":i||void 0,rel:"a"===t?s:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},c]}const Pf=n.forwardRef(((e,t)=>{let{as:i,disabled:n}=e,r=function(e,t){if(null==e)return{};var i,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,Lf);const[s,{tagName:o}]=Of(Object.assign({tagName:i,disabled:n},r));return(0,Hi.jsx)(o,Object.assign({},r,s,{ref:t}))}));Pf.displayName="Button";const Rf=n.forwardRef(((e,t)=>{let{as:i,bsPrefix:n,variant:r="primary",size:s,active:o=!1,disabled:a=!1,className:l,...h}=e;const c=wd(n,"btn"),[u,{tagName:p}]=Of({tagName:i,disabled:a,...h}),d=p;return(0,Hi.jsx)(d,{...u,...h,ref:t,disabled:a,className:md()(l,c,o&&"active",r&&"".concat(c,"-").concat(r),s&&"".concat(c,"-").concat(s),h.href&&a&&"disabled")})}));Rf.displayName="Button";const Ff=Rf,Bf=()=>{const e=te(),{studentID:t}=function(){let{matches:e}=n.useContext(X),t=e[e.length-1];return t?t.params:{}}(),[i,r]=(0,n.useState)({firstName:"",lastName:"",grade:"",sec:"",religion:"",community:"",subCaste:"",emino:"",verification:{studentID:0,aadharNo:"",aadharDocPath:"",dP_DocPath:"",dP_DocID:0,isManualVerified:""},family:[]}),[s,o]=(0,n.useState)("");(0,n.useEffect)((()=>{Vi.get("https://api.benzosoft.com/nschapi/api/Student?LoginUserID=1&LoginRoleID=1&StudentID=".concat(t)).then((e=>{if(e.data.isSuccess){const t=e.data.result;Array.isArray(t.family)||(t.family=[]);const i=t.family.find((e=>"Father"===e.relationType)),n=t.family.find((e=>"Mother"===e.relationType));i||t.family.push({unqRowID:0,studentID:0,relationType:"Father",firstName:"",lastName:"",contactNo:"",dob:"",qualification:"",natureofjob:"",designation:"",residentialAddressID:0,residential_AddressLine1:"",residential_AddressLine2:"",residential_Landmark:"",residential_City:"",residential_Pincode:"",residential_Statecode:"",officeAddressID:0,office_AddressLine1:"",office_AddressLine2:"",office_Landmark:"",office_City:"",office_Pincode:"",office_Statecode:"",emailID:"",photo_DocumentPath:"",photo_DocumentID:0}),n||t.family.push({unqRowID:0,studentID:0,relationType:"Mother",firstName:"",lastName:"",contactNo:"",dob:"",qualification:"",natureofjob:"",designation:"",residentialAddressID:0,residential_AddressLine1:"",residential_AddressLine2:"",residential_Landmark:"",residential_City:"",residential_Pincode:"",residential_Statecode:"",officeAddressID:0,office_AddressLine1:"",office_AddressLine2:"",office_Landmark:"",office_City:"",office_Pincode:"",office_Statecode:"",emailID:"",photo_DocumentPath:"",photo_DocumentID:0}),r(t)}else alert("Failed to fetch student data")}))}),[]);const a=(e,t)=>{e.startsWith("verification.")?r((i=>({...i,verification:{...i.verification,[e.substring(13)]:t}}))):r((i=>({...i,[e]:t})))},l=(e,t)=>{const n=i.family.map((i=>i.relationType===e?t:i));r((e=>({...e,family:n})))};return(0,Hi.jsx)("div",{className:"container mt-5",children:(0,Hi.jsx)(Kd,{children:(0,Hi.jsxs)(Kd.Body,{children:[(0,Hi.jsx)("h2",{className:"mb-4",children:"Student Details"}),(0,Hi.jsxs)("form",{children:[(0,Hi.jsxs)(kf,{className:"mb-4",children:[(0,Hi.jsxs)(mf,{md:10,children:[(0,Hi.jsxs)(kf,{className:"mb-4",children:[(0,Hi.jsxs)(mf,{md:4,children:[(0,Hi.jsx)("label",{children:"First Name:"}),(0,Hi.jsx)(bo,{value:i.firstName,placeholder:"First Name",onChange:e=>a("firstName",e.value)})]}),(0,Hi.jsxs)(mf,{md:4,children:[(0,Hi.jsx)("label",{children:"Last Name:"}),(0,Hi.jsx)(bo,{value:i.lastName,placeholder:"Last Name",onChange:e=>a("lastName",e.value)})]}),(0,Hi.jsxs)(mf,{md:4,children:[(0,Hi.jsx)("label",{children:"Grade:"}),(0,Hi.jsx)(dd,{value:i.grade,placeholder:"Grade",dataSource:["Grade 1","Grade 2","Grade 3"],onChange:e=>a("grade",e.value)})]})]}),(0,Hi.jsxs)(kf,{className:"mb-4",children:[(0,Hi.jsxs)(mf,{md:4,children:[(0,Hi.jsx)("label",{children:"Section:"}),(0,Hi.jsx)(dd,{value:i.sec,placeholder:"Section",dataSource:["A","B","C"],onChange:e=>a("sec",e.value)})]}),(0,Hi.jsxs)(mf,{md:4,children:[(0,Hi.jsx)("label",{children:"Religion:"}),(0,Hi.jsx)(bo,{value:i.religion,placeholder:"Religion",onChange:e=>a("religion",e.value)})]}),(0,Hi.jsxs)(mf,{md:4,children:[(0,Hi.jsx)("label",{children:"Community:"}),(0,Hi.jsx)(bo,{value:i.community,placeholder:"Community",onChange:e=>a("community",e.value)})]})]}),(0,Hi.jsxs)(kf,{className:"mb-4",children:[(0,Hi.jsxs)(mf,{md:4,children:[(0,Hi.jsx)("label",{children:"Subcaste:"}),(0,Hi.jsx)(bo,{value:i.subCaste,placeholder:"Subcaste",onChange:e=>a("subCaste",e.value)})]}),(0,Hi.jsxs)(mf,{md:4,children:[(0,Hi.jsx)("label",{children:"EMI No:"}),(0,Hi.jsx)(bo,{value:i.emino,placeholder:"EMI No",onChange:e=>a("emino",e.value)})]}),(0,Hi.jsxs)(mf,{md:4,children:[(0,Hi.jsx)("label",{children:"Aadhaar No:"}),(0,Hi.jsx)(bo,{value:i.verification.aadharNo,placeholder:"Aadhaar No",onChange:e=>a("verification.aadharNo",e.value)})]})]})]}),(0,Hi.jsx)(mf,{md:2,children:(0,Hi.jsx)(kf,{children:(0,Hi.jsxs)(mf,{md:12,children:[(0,Hi.jsx)("label",{children:"Student Image:"}),(0,Hi.jsx)(fd,{onUpload:e=>{o(e),r((t=>({...t,verification:{...t.verification,dP_DocPath:e}})))},defaultImage:s||"".concat("/neelan","/images/Father.jpg")})]})})})]}),i.family.length>0&&(0,Hi.jsxs)(Hi.Fragment,{children:[(0,Hi.jsx)(zf,{parentData:i.family.find((e=>"Father"===e.relationType)),onParentChange:e=>l("Father",e),relation:"Father"}),(0,Hi.jsx)(zf,{parentData:i.family.find((e=>"Mother"===e.relationType)),onParentChange:e=>l("Mother",e),relation:"Mother"})]}),(0,Hi.jsxs)("div",{className:"d-flex justify-content-end mb-2",children:[(0,Hi.jsx)(Ff,{className:"btn btn-primary me-2",onClick:()=>{const e={LoginUsedID:1,LoginRoldID:1,LoginOUID:1,data:i};Vi.post("https://api.benzosoft.com/nschapi/api/Student",e).then((e=>{e.data.isSuccess?alert("Student data submitted successfully"):alert("Failed to submit student data")}))},children:"Submit"}),(0,Hi.jsx)(Ff,{className:"btn btn-secondary",onClick:()=>{e("/StudentView")},children:"Cancel"})]})]})]})})})};var Vf=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Uf=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},Hf="e-tooltip",Wf="e-rtl",Yf="e-icons",Qf="e-tooltip-close",qf="e-tooltip-wrap",Gf="e-tip-content",Kf="e-arrow-tip",Xf="e-arrow-tip-outer",Jf="e-arrow-tip-inner",Zf="e-tip-bottom",$f="e-tip-top",eg="e-tip-left",tg="e-tip-right",ig="e-popup",ng="e-popup-open",rg="e-popup-close",sg="e-lib",og="e-tooltip-popup-container",ag=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vf(t,e),Uf([fl({effect:"FadeIn",duration:150,delay:0})],t.prototype,"open",void 0),Uf([fl({effect:"FadeOut",duration:150,delay:0})],t.prototype,"close",void 0),t}(zl),lg=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.mouseMoveEvent=null,n.mouseMoveTarget=null,n.containerElement=null,n.isBodyContainer=!0,n}return Vf(t,e),t.prototype.initialize=function(){this.formatPosition(),Fa([this.element],Hf)},t.prototype.formatPosition=function(){var e,t;0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=t[0],this.tooltipPositionY=t[1])},t.prototype.renderArrow=function(){this.setTipClass(this.position);var e=this.createElement("div",{className:Kf+" "+this.tipClass});e.appendChild(this.createElement("div",{className:Xf+" "+this.tipClass})),e.appendChild(this.createElement("div",{className:Jf+" "+this.tipClass})),this.tooltipEle.appendChild(e)},t.prototype.setTipClass=function(e){0===e.indexOf("Right")?this.tipClass=eg:0===e.indexOf("Bottom")?this.tipClass=$f:0===e.indexOf("Left")?this.tipClass=tg:this.tipClass=Zf},t.prototype.renderPopup=function(e){var t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove(sg),this.popupObj=new ku(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},t.prototype.getScalingFactor=function(e){if(!e)return{x:1,y:1};var t={x:1,y:1},i=e.closest('[style*="transform: scale"]');if(i&&i!=this.tooltipEle&&i.contains(this.tooltipEle)){var n=window.getComputedStyle(i).getPropertyValue("transform").match(/matrix\(([^)]+)\)/)[1].split(",").map(parseFloat);t.x=n[0],t.y=n[3]}return t},t.prototype.getTooltipPosition=function(e){this.tooltipEle.style.display="block";var t=this.element.closest('[style*="zoom"]');t&&(t.contains(this.tooltipEle)||(this.tooltipEle.style.zoom=getComputedStyle(t).zoom));var i=Gc(e,this.tooltipPositionX,this.tooltipPositionY,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect()),n=this.getScalingFactor(e),r=this.calculateTooltipOffset(this.position,n.x,n.y),s=this.calculateElementPosition(i,r),o=s[0],a=s[1],l=this.collisionFlipFit(e,o,a);return l.left=l.left/n.x,l.top=l.top/n.y,this.tooltipEle.style.display="",l},t.prototype.windowResize=function(){this.reposition(this.findTarget())},t.prototype.reposition=function(e){if(this.popupObj&&e){var t=this.getTooltipPosition(e);this.popupObj.position={X:t.left,Y:t.top},this.popupObj.dataBind()}},t.prototype.openPopupHandler=function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs),this.tooltipEventArgs=null},t.prototype.closePopupHandler=function(){!this.isReact||"Click"===this.opensOn&&"function"===typeof this.content||this.clearTemplate(["content"]),this.clear(),this.trigger("afterClose",this.tooltipEventArgs),this.tooltipEventArgs=null},t.prototype.calculateTooltipOffset=function(e,t,i){void 0===t&&(t=1),void 0===i&&(i=1);var n,r,s,o,a,l,h,c,u={top:0,left:0};if(1!=t||1!=i){var p=this.tooltipEle.getBoundingClientRect(),d=void 0;s=Math.round(p.width),o=Math.round(p.height),(a=Ka("."+Kf,this.tooltipEle))&&(d=a.getBoundingClientRect()),n=a?Math.round(d.width):0,r=a?Math.round(d.height):0,l=this.showTipPointer?0:8,h=r/2+2+(o-this.tooltipEle.clientHeight*i),c=n/2+2+(s-this.tooltipEle.clientWidth*t)}else s=this.tooltipEle.offsetWidth,o=this.tooltipEle.offsetHeight,n=(a=Ka("."+Kf,this.tooltipEle))?a.offsetWidth:0,r=a?a.offsetHeight:0,l=this.showTipPointer?0:8,h=r/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),c=n/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(l+=2),e){case"RightTop":u.left+=n+l,u.top-=o-h;break;case"RightCenter":u.left+=n+l,u.top-=o/2;break;case"RightBottom":u.left+=n+l,u.top-=h;break;case"BottomRight":u.top+=r+l,u.left-=c;break;case"BottomCenter":u.top+=r+l,u.left-=s/2;break;case"BottomLeft":u.top+=r+l,u.left-=s-c;break;case"LeftBottom":u.left-=n+s+l,u.top-=h;break;case"LeftCenter":u.left-=n+s+l,u.top-=o/2;break;case"LeftTop":u.left-=n+s+l,u.top-=o-h;break;case"TopLeft":u.top-=o+r+l,u.left-=s-c;break;case"TopRight":u.top-=o+r+l,u.left-=c;break;default:u.top-=o+r+l,u.left-=s/2}return u.left+=this.offsetX,u.top+=this.offsetY,u},t.prototype.updateTipPosition=function(e){var t=Xa("."+Kf+",."+Xf+",."+Jf,this.tooltipEle);Ba(t,[Zf,$f,eg,tg]),this.setTipClass(e),Fa(t,this.tipClass)},t.prototype.adjustArrow=function(e,t,i,n){var r=Ka("."+Kf,this.tooltipEle);if(!1!==this.showTipPointer&&null!==r){var s,o;this.updateTipPosition(t),this.tooltipEle.style.display="block";var a,l=this.tooltipEle.clientWidth,h=this.tooltipEle.clientHeight,c=Ka("."+Jf,this.tooltipEle),u=r.offsetWidth,p=r.offsetHeight;if(this.tooltipEle.style.display="",this.tipClass===Zf||this.tipClass===$f){if(this.tipClass===Zf?(o="99.9%",c.style.top="-"+(p-2)+"px"):(o=-(p-1)+"px",c.style.top="-"+(p-6)+"px"),e)s=(a="Center"!==i||l>e.offsetWidth||this.mouseTrail)&&"Left"===i||!a&&"End"===this.tipPointerPosition?l-u-2+"px":a&&"Right"===i||!a&&"Start"===this.tipPointerPosition?"2px":!a||"End"!==this.tipPointerPosition&&"Start"!==this.tipPointerPosition?l/2-u/2+"px":"End"===this.tipPointerPosition?e.offsetWidth+(this.tooltipEle.offsetWidth-e.offsetWidth)/2-u/2-2+"px":(this.tooltipEle.offsetWidth-e.offsetWidth)/2-u/2+2+"px"}else this.tipClass===tg?(s="99.9%",c.style.left="-"+(u-2)+"px"):(s=-(u-1)+"px",c.style.left=u-2-u+"px"),o=(a="Center"!==n||h>e.offsetHeight||this.mouseTrail)&&"Top"===n||!a&&"End"===this.tipPointerPosition?h-p-2+"px":a&&"Bottom"===n||!a&&"Start"===this.tipPointerPosition?"2px":h/2-p/2+"px";r.style.top=o,r.style.left=s}},t.prototype.renderContent=function(e){var t=Ka("."+Gf,this.tooltipEle);if(this.cssClass&&Fa([this.tooltipEle],this.cssClass.split(" ")),e&&!ko(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),ko(this.content))e&&!ko(e.getAttribute("data-content"))&&(t.innerHTML=e.getAttribute("data-content"));else if(t.innerHTML="",this.content instanceof HTMLElement)t.appendChild(this.content);else if("string"===typeof this.content){if(this.enableHtmlSanitizer&&this.setProperties({content:$h.sanitize(this.content)},!0),this.enableHtmlParse)(i=Uh(this.content)({},this,"content",this.element.id+"content",void 0,void 0,t,this.root))&&Wa(i,t);else t.textContent=this.content}else{var i;(i=Uh(this.content)({},this,"content",this.element.id+"content",void 0,void 0,t))&&Wa(i,t),this.renderReactTemplates()}},t.prototype.renderCloseIcon=function(){if(this.isSticky){var e=this.createElement("div",{className:Yf+" "+Qf});this.tooltipEle.appendChild(e),Oa.add(e,La.touchStartEvent,this.onStickyClose,this)}else{var t=this.tooltipEle.querySelector("."+Yf+"."+Qf);t&&qa(t)}},t.prototype.addDataTooltipId=function(e,t){Ga(e,{"data-tooltip-id":t})},t.prototype.removeDataTooltipId=function(e){e.removeAttribute("data-tooltip-id")},t.prototype.tapHoldHandler=function(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)},t.prototype.touchEndHandler=function(e){var t=this;if(!this.isSticky){this.autoCloseTimer=setTimeout((function(){t.close()}),1500)}},t.prototype.targetClick=function(e){var t;ko(t=this.target?Za(e.target,this.target):this.element)||(null===t.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,t))},t.prototype.targetHover=function(e){var t;if(!(ko(t=this.target?Za(e.target,this.target):this.element)||null!==t.getAttribute("data-tooltip-id")&&0===this.closeDelay)){for(var i=0,n=[].slice.call(Xa('[data-tooltip-id= "'+this.ctrlId+'_content"]',document));i<n.length;i++){var r=n[i];this.restoreElement(r)}this.showTooltip(t,this.animation.open,e)}},t.prototype.mouseMoveBeforeOpen=function(e){this.mouseMoveEvent=e},t.prototype.mouseMoveBeforeRemove=function(){this.mouseMoveTarget&&Oa.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)},t.prototype.showTooltip=function(e,t,i){var n=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=e,Oa.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:e,event:i||null,element:this.tooltipEle,isInteracted:!ko(i)};this.trigger("beforeRender",this.tooltipEventArgs,function(r){n.beforeRenderCallback(r,e,i,t)}.bind(this))},t.prototype.beforeRenderCallback=function(e,t,i,n){if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove();else if(this.isHidden=!1,ko(this.tooltipEle)){if(this.ctrlId=this.element.getAttribute("id")?Lo(this.element.getAttribute("id")):Lo("tooltip"),this.tooltipEle=this.createElement("div",{className:qf+" "+ig+" "+sg,attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+Fo(this.width)+";height:"+Fo(this.height)+";position:absolute;"}),0!==Object.keys(this.htmlAttributes).length)for(var r in this.htmlAttributes)"class"===r?this.tooltipEle.classList.add(this.htmlAttributes[""+r]):this.tooltipEle.setAttribute(r,this.htmlAttributes[""+r]);this.tooltipBeforeRender(t,this),this.tooltipAfterRender(t,i,n,this)}else t&&(this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDataTooltipId(t,this.ctrlId+"_content"),this.renderContent(t),_l.stop(this.tooltipEle),this.reposition(t),this.tooltipAfterRender(t,i,n,this))},t.prototype.appendContainer=function(e){"string"==typeof this.container?"body"===this.container?this.containerElement=document.body:(this.isBodyContainer=!1,this.containerElement=Ka(this.container,document)):this.container instanceof HTMLElement&&(this.containerElement=this.container,this.isBodyContainer="BODY"===this.containerElement.tagName),this.isBodyContainer||Fa([this.containerElement],og),this.containerElement.appendChild(e.tooltipEle)},t.prototype.tooltipBeforeRender=function(e,t){e&&(La.isDevice&&Fa([t.tooltipEle],"e-bigger"),"auto"!==t.width&&(t.tooltipEle.style.maxWidth=Fo(t.width)),t.tooltipEle.appendChild(t.createElement("div",{className:Gf})),this.appendContainer(t),Ba([t.tooltipEle],"e-hidden"),t.addDataTooltipId(e,t.ctrlId+"_content"),t.renderContent(e),Fa([t.tooltipEle],ng),t.showTipPointer&&t.renderArrow(),t.renderCloseIcon(),t.renderPopup(e),t.adjustArrow(e,t.position,t.tooltipPositionX,t.tooltipPositionY),_l.stop(t.tooltipEle),t.reposition(e))},t.prototype.tooltipAfterRender=function(e,t,i,n){if(e){Ba([n.tooltipEle],ng),Fa([n.tooltipEle],rg),n.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:e,event:t||null,element:n.tooltipEle,isInteracted:!ko(t)},n.needTemplateReposition()&&!n.mouseTrail&&(n.tooltipEle.style.display="none");n.trigger("beforeOpen",n.tooltipEventArgs,function(r){n.beforeOpenCallback(r,e,i,t)}.bind(n))}},t.prototype.beforeOpenCallback=function(e,t,i,n){var r=this;if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(t);else{var s={name:"None"===i.effect&&"Enable"===Tl?"FadeIn":this.animation.open.effect,duration:i.duration,delay:i.delay,timingFunction:"easeOut"};if("None"===i.effect&&(s=void 0),this.openDelay>0){this.showTimer=setTimeout((function(){r.mouseTrail&&Oa.add(t,"mousemove touchstart mouseenter",r.onMouseMove,r),r.popupObj&&(r.popupObj.show(s,t),r.mouseMoveEvent&&r.mouseTrail&&r.onMouseMove(r.mouseMoveEvent))}),this.openDelay)}else this.popupObj&&this.popupObj.show(s,t)}n&&this.wireMouseEvents(n,t)},t.prototype.needTemplateReposition=function(){return!ko(this.viewContainerRef)&&"string"!==typeof this.viewContainerRef},t.prototype.checkCollision=function(e,t,i){var n={left:t,top:i,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},r=ou(this.tooltipEle,this.checkCollideTarget(),t,i);return r.length>0&&(n.horizontal=r.indexOf("left")>=0?"Right":r.indexOf("right")>=0?"Left":this.tooltipPositionX,n.vertical=r.indexOf("top")>=0?"Bottom":r.indexOf("bottom")>=0?"Top":this.tooltipPositionY),n},t.prototype.calculateElementPosition=function(e,t){return[this.isBodyContainer?e.left+t.left:e.left-this.containerElement.offsetLeft+t.left+window.pageXOffset+this.containerElement.scrollLeft,this.isBodyContainer?e.top+t.top:e.top-this.containerElement.offsetTop+t.top+window.pageYOffset+this.containerElement.scrollTop]},t.prototype.collisionFlipFit=function(e,t,i){var n=this.checkCollision(e,t,i),r=n.position;if(this.tooltipPositionY!==n.vertical&&(r=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?n.vertical+this.tooltipPositionX:this.tooltipPositionX+n.vertical),this.tooltipPositionX!==n.horizontal&&(0===r.indexOf("Left")&&(n.vertical="LeftTop"===r||"LeftCenter"===r?"Top":"Bottom",r=n.vertical+"Left"),0===r.indexOf("Right")&&(n.vertical="RightTop"===r||"RightCenter"===r?"Top":"Bottom",r=n.vertical+"Right"),n.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:r},this.trigger("beforeCollision",this.tooltipEventArgs),this.tooltipEventArgs.cancel)r=this.position;else{var s=n.vertical,o=n.horizontal;if(n.position!==r){var a=Gc(e,o,s,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect());this.adjustArrow(e,r,o,s);var l=this.getScalingFactor(e),h=this.calculateTooltipOffset(r,l.x,l.y);h.top-=this.getOffSetPosition("TopBottom",r,this.offsetY),h.left-=this.getOffSetPosition("RightLeft",r,this.offsetX),n.position=r;var c=this.calculateElementPosition(a,h);n.left=c[0],n.top=c[1]}else this.adjustArrow(e,r,o,s)}var u={left:n.left,top:n.top},p=this.isBodyContainer?su(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:this.windowCollision},u):u;this.tooltipEle.style.display="block";var d=Ka("."+Kf,this.tooltipEle);if(this.showTipPointer&&null!=d&&(0===r.indexOf("Bottom")||0===r.indexOf("Top"))){var f=parseInt(d.style.left,10)-(p.left-n.left);f<0?f=0:f+d.offsetWidth>this.tooltipEle.clientWidth&&(f=this.tooltipEle.clientWidth-d.offsetWidth),d.style.left=f.toString()+"px"}return this.tooltipEle.style.display="",u.left=p.left,u.top=p.top,u},t.prototype.getOffSetPosition=function(e,t,i){return-1!==e.indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!==e.indexOf(t.split(/(?=[A-Z])/)[0])?2*i:0},t.prototype.checkCollideTarget=function(){return!this.windowCollision&&this.target?this.element:null},t.prototype.hideTooltip=function(e,t,i){var n=this;if(this.closeDelay>0){clearTimeout(this.hideTimer),clearTimeout(this.showTimer);this.hideTimer=setTimeout((function(){n.closeDelay&&n.tooltipEle&&n.isTooltipOpen||n.tooltipHide(e,t,i)}),this.closeDelay)}else this.tooltipHide(e,t,i)},t.prototype.tooltipHide=function(e,t,i){var n,r=this;n=t?this.target?i||t.target:this.element:Ka('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:n,event:t||null,element:this.tooltipEle,isInteracted:!ko(t)},this.trigger("beforeClose",this.tooltipEventArgs,(function(t){t.cancel?r.isHidden=!1:(r.mouseMoveBeforeRemove(),r.popupHide(e,n))})),this.tooltipEventArgs=null},t.prototype.popupHide=function(e,t){t&&this.restoreElement(t),this.isHidden=!0;var i={name:"None"===e.effect&&"Enable"===Tl?"FadeOut":this.animation.close.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};"None"===e.effect&&(i=void 0),this.popupObj&&this.popupObj.hide(i)},t.prototype.restoreElement=function(e){this.unwireMouseEvents(e),ko(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDataTooltipId(e)},t.prototype.clear=function(){this.tooltipEle&&(Ba([this.tooltipEle],rg),Fa([this.tooltipEle],ng)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&qa(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},t.prototype.tooltipHover=function(e){this.tooltipEle&&(this.isTooltipOpen=!0)},t.prototype.tooltipMouseOut=function(e){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,e,this.findTarget())},t.prototype.onMouseOut=function(e){var t=e.relatedTarget;if(t&&!this.mouseTrail){var i=Za(t,"."+qf+"."+sg+"."+ig);i?Oa.add(i,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear()},t.prototype.tooltipElementMouseOut=function(e){this.hideTooltip(this.animation.close,e,this.findTarget()),Oa.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()},t.prototype.onStickyClose=function(e){this.close()},t.prototype.onMouseMove=function(e){var t=0,i=0;e.type.indexOf("touch")>-1?(e.preventDefault(),t=e.touches[0].pageX,i=e.touches[0].pageY):(t=e.pageX,i=e.pageY),_l.stop(this.tooltipEle),Ba([this.tooltipEle],rg),Fa([this.tooltipEle],ng),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var n=this.getScalingFactor(e.target),r=this.calculateTooltipOffset(this.position,n.x,n.y),s=t+r.left+this.offsetX,o=i+r.top+this.offsetY,a=this.checkCollision(e.target,s,o);if(this.tooltipPositionX!==a.horizontal||this.tooltipPositionY!==a.vertical){var l=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?a.vertical+a.horizontal:a.horizontal+a.vertical;a.position=l,this.adjustArrow(e.target,a.position,a.horizontal,a.vertical);var h=this.calculateTooltipOffset(a.position,n.x,n.y);a.left=t+h.left-this.offsetX,a.top=i+h.top-this.offsetY}this.tooltipEle.style.left=a.left+"px",this.tooltipEle.style.top=a.top+"px"},t.prototype.keyDown=function(e){this.tooltipEle&&27===e.keyCode&&this.close()},t.prototype.touchEnd=function(e){this.tooltipEle&&null===Za(e.target,"."+Hf)&&!this.isSticky&&this.close()},t.prototype.scrollHandler=function(e){this.tooltipEle&&!this.isSticky&&(Za(e.target,"."+qf+"."+sg+"."+ig)||this.close())},t.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()},t.prototype.preRender=function(){this.tipClass=Zf,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},t.prototype.wireEvents=function(e){for(var t=0,i=this.getTriggerList(e);t<i.length;t++){var n=i[t];if("Custom"===n)return;"Focus"===n&&this.wireFocusEvents(),"Click"===n&&Oa.add(this.element,La.touchStartEvent,this.targetClick,this),"Hover"===n&&(La.isDevice?(this.touchModule=new gh(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),Oa.add(this.element,La.touchEndEvent,this.touchEndHandler,this)):Oa.add(this.element,"mouseover",this.targetHover,this))}Oa.add(document,"touchend",this.touchEnd,this),Oa.add(document,"scroll wheel",this.scrollHandler,this),Oa.add(window,"resize",this.windowResize,this),Oa.add(document,"keydown",this.keyDown,this)},t.prototype.getTriggerList=function(e){return"Auto"===e&&(e=La.isDevice?"Hover":"Hover Focus"),e.split(" ")},t.prototype.wireFocusEvents=function(){if(ko(this.target))Oa.add(this.element,"focusin",this.targetHover,this);else{var e=[].slice.call(Xa(this.target,this.element));this.targetsList=e;for(var t=0,i=e;t<i.length;t++){var n=i[t];Oa.add(n,"focus",this.targetHover,this)}}},t.prototype.wireMouseEvents=function(e,t){this.tooltipEle&&(this.isSticky||("focus"===e.type&&Oa.add(t,"blur",this.onMouseOut,this),"focusin"===e.type&&Oa.add(t,"focusout",this.onMouseOut,this),"mouseover"===e.type&&Oa.add(t,"mouseleave",this.onMouseOut,this),this.closeDelay&&(Oa.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),Oa.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&0===this.openDelay&&Oa.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))},t.prototype.unwireEvents=function(e){for(var t=0,i=this.getTriggerList(e);t<i.length;t++){var n=i[t];if("Custom"===n)return;"Focus"===n&&this.unwireFocusEvents(),"Click"===n&&Oa.remove(this.element,La.touchStartEvent,this.targetClick),"Hover"===n&&(La.isDevice?(this.touchModule&&this.touchModule.destroy(),Oa.remove(this.element,La.touchEndEvent,this.touchEndHandler)):Oa.remove(this.element,"mouseover",this.targetHover))}Oa.remove(document,"touchend",this.touchEnd),Oa.remove(document,"scroll wheel",this.scrollHandler),Oa.remove(window,"resize",this.windowResize),Oa.remove(document,"keydown",this.keyDown)},t.prototype.unwireFocusEvents=function(){if(ko(this.target))Oa.remove(this.element,"focusin",this.targetHover);else for(var e=0,t=[].slice.call(Xa(this.target,this.element));e<t.length;e++){var i=t[e];Oa.remove(i,"focus",this.targetHover)}},t.prototype.unwireMouseEvents=function(e){if(!this.isSticky){for(var t=0,i=this.getTriggerList(this.opensOn);t<i.length;t++){var n=i[t];"Focus"===n&&(Oa.remove(e,"blur",this.onMouseOut),Oa.remove(e,"focusout",this.onMouseOut)),"Hover"!==n||La.isDevice||Oa.remove(e,"mouseleave",this.onMouseOut)}this.closeDelay&&(Oa.remove(e,"mouseenter",this.tooltipHover),Oa.remove(e,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&Oa.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)},t.prototype.findTarget=function(){return Ka('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)},t.prototype.getModuleName=function(){return"tooltip"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.onPropertyChanged=function(e,t){for(var i=this.findTarget(),n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"width":this.tooltipEle&&i&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=Fo(e.width),this.reposition(i));break;case"height":this.tooltipEle&&i&&(this.tooltipEle.style.height=Fo(e.height),this.reposition(i));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(t.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&i){var s=Ka("."+Jf,this.tooltipEle);s&&(s.style.top=s.style.left=null),this.reposition(i)}break;case"tipPointerPosition":this.tooltipEle&&i&&this.reposition(i);break;case"offsetX":if(this.tooltipEle){var o=e.offsetX-t.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+o).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var a=e.offsetY-t.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+a).toString()+"px"}break;case"cssClass":this.tooltipEle&&(t.cssClass&&Ba([this.tooltipEle],t.cssClass.split(" ")),e.cssClass&&Fa([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?Fa([this.tooltipEle],Wf):Ba([this.tooltipEle],Wf));break;case"isSticky":this.tooltipEle&&i&&(this.renderCloseIcon(),this.reposition(i));break;case"container":ko(this.containerElement)||Ba([this.containerElement],og),this.container=e.container,this.tooltipEle&&i&&(this.appendContainer(this),this.reposition(i))}}},t.prototype.open=function(e,t){ko(t)&&(t=this.animation.open),ko(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,t)},t.prototype.close=function(e){e||(e=this.animation.close),this.hideTooltip(e)},t.prototype.refresh=function(e){(this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e),ko(this.targetsList)||ko(this.target))||Xa(this.target,this.element).length!==this.targetsList.length&&(this.unwireEvents(this.opensOn),this.wireEvents(this.opensOn))},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltipEle&&qa(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),Nu(),Ba([this.element],Hf),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null;for(var t=0,i=Xa('[data-tooltip-id= "'+this.ctrlId+'_content"]',this.element);t<i.length;t++){var n=i[t];this.restoreElement(n)}},Uf([fl("auto")],t.prototype,"width",void 0),Uf([fl("auto")],t.prototype,"height",void 0),Uf([fl()],t.prototype,"content",void 0),Uf([fl("body")],t.prototype,"container",void 0),Uf([fl()],t.prototype,"target",void 0),Uf([fl("TopCenter")],t.prototype,"position",void 0),Uf([fl(0)],t.prototype,"offsetX",void 0),Uf([fl(0)],t.prototype,"offsetY",void 0),Uf([fl(!0)],t.prototype,"showTipPointer",void 0),Uf([fl(!0)],t.prototype,"enableHtmlParse",void 0),Uf([fl(!1)],t.prototype,"windowCollision",void 0),Uf([fl("Auto")],t.prototype,"tipPointerPosition",void 0),Uf([fl("Auto")],t.prototype,"opensOn",void 0),Uf([fl(!1)],t.prototype,"mouseTrail",void 0),Uf([fl(!1)],t.prototype,"isSticky",void 0),Uf([gl({},ag)],t.prototype,"animation",void 0),Uf([fl(0)],t.prototype,"openDelay",void 0),Uf([fl(0)],t.prototype,"closeDelay",void 0),Uf([fl()],t.prototype,"cssClass",void 0),Uf([fl(!1)],t.prototype,"enableHtmlSanitizer",void 0),Uf([fl("")],t.prototype,"htmlAttributes",void 0),Uf([yl()],t.prototype,"beforeRender",void 0),Uf([yl()],t.prototype,"beforeOpen",void 0),Uf([yl()],t.prototype,"afterOpen",void 0),Uf([yl()],t.prototype,"beforeClose",void 0),Uf([yl()],t.prototype,"afterClose",void 0),Uf([yl()],t.prototype,"beforeCollision",void 0),Uf([yl()],t.prototype,"created",void 0),Uf([yl()],t.prototype,"destroyed",void 0),t=Uf([vl],t)}(Xl),hg=function(){function e(e){this.intl=new va,ko(e)||(this.intl.culture=e)}return e.prototype.getFormatFunction=function(e){return e.type?this.intl.getDateFormat(e):this.intl.getNumberFormat(e)},e.prototype.getParserFunction=function(e){return e.type?this.intl.getDateParser(e):this.intl.getNumberParser(e)},e.prototype.fromView=function(e,t,i){return"date"!==i&&"datetime"!==i&&"number"!==i||ko(t)?e:t(e)},e.prototype.toView=function(e,t){var i=e;return ko(t)||ko(e)||(i=t(e)),i},e.prototype.setCulture=function(e){ko(e)||function(e){ga=e,pa.notify("notifyExternalChange",{locale:ga})}(e)},e}(),cg=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ug=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},pg=function(){function e(e,t){var i=this;this.disableHtmlEncode=!0,this.allowSorting=!0,this.allowResizing=!0,this.allowFiltering=!0,this.allowGrouping=!0,this.allowReordering=!0,this.showColumnMenu=!0,this.enableGroupByFormat=!1,this.allowEditing=!0,this.filter={},this.showInColumnChooser=!0,this.edit={},this.allowSearching=!0,this.autoFit=!1,this.sortDirection="Descending",this.getEditTemplate=function(){return i.editTemplateFn},this.getFilterTemplate=function(){return i.filterTemplateFn},jo(this,e),this.parent=t,"none"===this.type?this.type=null:this.type&&(this.type="string"===typeof this.type?this.type.toLowerCase():void 0),this.editType&&(this.editType=this.editType.toLowerCase()),ko(this.uid)&&(this.uid=tv("grid-column"));var n=new hg;if(e.format&&(e.format.skeleton||e.format.format&&"string"===typeof e.format.format)&&(this.setFormatter(n.getFormatFunction(Eo({},e.format))),this.setParser(n.getParserFunction(e.format))),this.toJSON=function(){for(var e={},t=["filter","dataSource","headerText","template","headerTemplate","edit","editTemplate","filterTemplate","commandsTemplate","parent"],n=Object.keys(i),r=0;r<n.length;r++)if("columns"===n[parseInt(r.toString(),10)]){e[n[parseInt(r.toString(),10)]]=[];for(var s=0;s<i[n[parseInt(r.toString(),10)]].length;s++)e[n[parseInt(r.toString(),10)]].push(i[n[parseInt(r.toString(),10)]][parseInt(s.toString(),10)].toJSON())}else t.indexOf(n[parseInt(r.toString(),10)])<0&&(e[n[parseInt(r.toString(),10)]]=i[n[parseInt(r.toString(),10)]]);return e},this.field||(this.allowFiltering=!1,this.allowGrouping=!1,this.allowSorting=!1,this.columns&&(this.allowResizing=this.columns.some((function(e){return e.allowResizing})))),this.commands&&!this.textAlign&&(this.textAlign="Right"),(this.template||this.commandsTemplate)&&(this.templateFn=Wy(this.template||this.commandsTemplate)),this.headerTemplate&&(this.headerTemplateFn=Wy(this.headerTemplate)),!ko(this.filter)&&this.filter.itemTemplate&&(this.fltrTemplateFn=Wy(this.filter.itemTemplate)),this.editTemplate&&(this.editTemplateFn=Wy(this.editTemplate)),this.filterTemplate&&(this.filterTemplateFn=Wy(this.filterTemplate)),this.isForeignColumn()&&(ko(this.editType)||"dropdownedit"===this.editType||"defaultedit"===this.editType)&&(this.editType="dropdownedit",this.edit.params&&this.edit.params.dataSource&&(this.edit.params.ddEditedData=!0),this.edit.params=Eo({dataSource:this.dataSource,query:new sp,fields:{value:this.foreignKeyField||this.field,text:this.foreignKeyValue}},this.edit.params)),this.sortComparer){var r=this.sortComparer;this.sortComparer=function(e,t,n,s){if("string"===typeof r&&(r=Tv(r,window)),"Descending"===i.sortDirection){var o=e;e=t,t=o;var a=n;n=s,s=a}return r(e,t,n,s)}}!this.sortComparer&&this.isForeignColumn()&&(this.sortComparer=function(e,t){return e=Tv(i.foreignKeyValue,Iv(i,{},e)[0]),t=Tv(i.foreignKeyValue,Iv(i,{},t)[0]),"Descending"===i.sortDirection?bp.fnDescending(e,t):bp.fnAscending(e,t)})}return e.prototype.getSortDirection=function(){return this.sortDirection},e.prototype.setSortDirection=function(e){this.sortDirection=e},e.prototype.getFreezeTableName=function(){return this.freezeTable},e.prototype.setProperties=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)this[t[parseInt(i.toString(),10)]]=e[t[parseInt(i.toString(),10)]],this.parent&&this.parent.isReact&&("template"===t[parseInt(i.toString(),10)]?(this.templateFn=Wy(e[t[parseInt(i.toString(),10)]]),this.parent.refreshReactColumnTemplateByUid(this.uid,!0)):"headerTemplate"===t[parseInt(i.toString(),10)]?(this.headerTemplateFn=Wy(e[t[parseInt(i.toString(),10)]]),this.parent.refreshReactHeaderTemplateByUid(this.uid)):"editTemplate"===t[parseInt(i.toString(),10)]&&(this.editTemplateFn=Wy(e[t[parseInt(i.toString(),10)]])))},e.prototype.isForeignColumn=function(){return!(!this.dataSource||!this.foreignKeyValue)},e.prototype.getFormatter=function(){return this.formatFn},e.prototype.setFormatter=function(e){this.formatFn=e},e.prototype.getParser=function(){return this.parserFn},e.prototype.setParser=function(e){this.parserFn=e},e.prototype.getColumnTemplate=function(){return this.templateFn},e.prototype.getHeaderTemplate=function(){return this.headerTemplateFn},e.prototype.getFilterItemTemplate=function(){return this.fltrTemplateFn},e.prototype.getDomSetter=function(){return this.disableHtmlEncode?"textContent":"innerHTML"},e}(),dg=(function(){function e(){}ug([fl()],e.prototype,"title",void 0),ug([fl()],e.prototype,"type",void 0),ug([fl()],e.prototype,"buttonOption",void 0)}(),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cg(t,e),ug([fl(null)],t.prototype,"columns",void 0),t}(pg)),fg=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}cg(t,e)}(dg),"load"),gg="rowDataBound",mg="queryCellInfo",yg="headerCellInfo",vg="actionBegin",bg="actionComplete",Mg="actionFailure",Sg="dataBound",wg="rowSelecting",_g="rowSelected",Ig="rowDeselecting",Ng="rowDeselected",Cg="cellSelecting",xg="cellSelected",Dg="cellDeselecting",Tg="cellDeselected",Ag="columnSelecting",jg="columnSelected",Eg="beforePrint",kg="printComplete",zg="batchCancel",Lg="beforeDataBound",Og="beforeOpenAdaptiveDialog",Pg="filterchoicerequest",Rg="filterafteropen",Fg="filterbeforeopen",Bg="exportGroupCaption",Vg="initial-load",Ug="initial-end",Hg="data-ready",Wg="content-ready",Yg="ui-update",Qg="on-empty",qg="inbound-model-changed",Gg="model-changed",Kg="colgroup-refresh",Xg="header-refreshed",Jg="filtering-complete",Zg="searching-complete",$g="group-aggregates",em="refresh-footer-rendered",tm="beforecellfocused",im="cellfocused",nm="key-pressed",rm="click",sm="destroy",om="column-visible-changed",am="scroll",lm="column-width-changed",hm="column-position-changed",cm="rows-added",um="rows-removed",pm="datasource-modified",dm="toolbar-refresh",fm="auto-col",gm="tooltip-destroy",mm="update-data",ym="prevent-batch",vm="add-delete-Action",bm="exportDetailDataBound",Mm="exportDetailTemplate",Sm="pdfExportComplete",wm="freezerender",_m="filterOpen",Im="filterDialogCreated",Nm="filter-menu-close",Cm="getForeignKeyData",xm="generateQuery",Dm="showEmptyGrid",Tm="foreignKeyData",Am="dataStateChange",jm="dataSourceChanged",Em="beforeFragAppend",km="textWrapRefresh",zm="recordAdded",Lm="cancel-Begin",Om="hierarchyprint",Pm="export-RowDataBound",Rm="partial-refresh",Fm="columns-prepared",Bm="cbox-filter-begin",Vm="cbox-filter-complete",Um="filter-Prevent",Hm="restore-Focus",Wm="detail-indentcell-info",Ym="infinite-edit-handler",Qm="close-filter-dialog",qm="group-collapse",Gm="refreshResizeHandlers",Km="before-refresh-on-data-change",Xm="filter-dialog-close",Jm="refresh-cutsom-filter-ok-button",Zm="refresh-cutsom-filter-clear-button",$m="render-responsive-cmenu",ey="filter-cmenu-select",ty="custom-filter-close",iy="set-fullscreen-dialog",ny="refresh-Expand-and-Collapse",ry="row-mode-change",sy="enter-key-handler",oy="pager-refresh",ay="refresh-infinite-persist-selection",ly="after-filter-column-menu-close",hy="refresh-Frozen-Position",cy="refresh-Split-Frozen-Column",uy="e-rowcell",py="e-gridheader",dy="e-gridcontent",fy="e-gridfooter",gy="e-headercontent",my="e-movablecontent",yy="e-movableheader",vy="e-content",by="e-table",My="e-row",Sy="e-gridchkbox",wy="e-editedrow",_y="e-addedrow",Iy="addedRecords",Ny="deletedRecords",Cy="Left-Right",xy="data-colindex",Dy="aria-colindex",Ty="data-rowindex",Ay="aria-rowindex",jy="tbody",Ey="colgroup",ky="open",zy="change",Ly="focus",Oy="created";var Py=function(){function e(e,t){this.isAsyncPrint=!1,this.defered=new yp,this.parent=e,this.parent.isDestroyed||(this.parent.on(Wg,this.isContentReady(),this),this.actionBeginFunction=this.actionBegin.bind(this),this.parent.addEventListener(vg,this.actionBeginFunction),this.parent.on(Qg,this.onEmpty.bind(this)),this.parent.on(Om,this.hierarchyPrint,this),this.scrollModule=t)}return e.prototype.isContentReady=function(){var e=this;return!this.isPrintGrid()||"None"!==this.parent.hierarchyPrintMode&&this.parent.childGrid?function(){e.defered.promise.then((function(){e.contentReady()})),e.isPrintGrid()&&e.hierarchyPrint()}:this.contentReady},e.prototype.hierarchyPrint=function(){this.removeColGroup(this.parent);var e=window.printGridObj;e&&!e.element.querySelector("[aria-busy=true")&&e.printModule.defered.resolve()},e.prototype.print=function(){this.renderPrintGrid()},e.prototype.onEmpty=function(){this.isPrintGrid()&&this.contentReady()},e.prototype.actionBegin=function(){this.isPrintGrid()&&(this.isAsyncPrint=!0)},e.prototype.renderPrintGrid=function(){var e=this.parent,t=Ra("div",{id:this.parent.element.id+"_print",className:e.element.className+" e-print-grid"});t.classList.remove("e-gridhover"),document.body.appendChild(t);for(var i=new sw(jv(e,e.hierarchyPrintMode)),n=0;n<i.columns.length;n++)i.columns[parseInt(n.toString(),10)]=Eo({},i.columns[parseInt(n.toString(),10)]),e.isFrozenGrid()&&!e.getFrozenColumns()&&(i.columns[parseInt(n.toString(),10)].freeze=void 0);this.parent.isAngular&&(i.viewContainerRef=this.parent.viewContainerRef),i.load=function(){},i.query=e.getQuery().clone(),window.printGridObj=i,i.isPrinting=!0;var r=i.getInjectedModules(),s=e.getInjectedModules();r&&r.length===s.length||i.setInjectedModules(s),e.notify("printGrid-Init",{element:t,printgrid:i}),this.parent.log("exporting_begin",this.getModuleName()),i.registeredTemplate=this.parent.registeredTemplate,i.isVue=this.parent.isVue,i.appendTo(t),e.isVue3||(i.trigger=e.trigger)},e.prototype.contentReady=function(){if(this.isPrintGrid()){var e=this.parent;if(this.isAsyncPrint)return void this.printGrid();var t={requestType:"print",element:e.element,selectedRows:e.getContentTable().querySelectorAll('tr[aria-selected="true"]'),cancel:!1,hierarchyPrintMode:e.hierarchyPrintMode};if(this.isAsyncPrint||e.trigger(Eg,t),t.cancel)return void Qa(e.element);this.isAsyncPrint||this.printGrid()}},e.prototype.printGrid=function(){var e=this.parent;if("auto"!==e.height){var t=this.scrollModule.getCssProperties(),i=e.element.querySelector("."+vy),n=e.element.querySelector("."+py);i.style.height="auto",i.style.overflowY="auto",n.style[t.padding]="",n.firstElementChild.style[t.border]=""}e.allowGrouping&&(e.groupSettings.columns.length?this.removeColGroup(e):e.element.querySelector(".e-groupdroparea").style.display="none");for(var r=0,s=[].slice.call(e.element.getElementsByClassName(vy));r<s.length;r++){s[r].style.overflowX="hidden"}for(var o=[].slice.call(e.element.getElementsByClassName("e-spin-show")),a=0,l=[].slice.call(o);a<l.length;a++){el(l[a],["e-spin-hide"],["e-spin-show"])}this.printGridElement(e),e.isPrinting=!1,delete window.printGridObj;var h={element:e.element};e.trigger(kg,h),e.destroy(),this.parent.log("exporting_complete",this.getModuleName())},e.prototype.printGridElement=function(e){el(e.element,["e-print-grid-layout"],["e-print-grid"]),e.isPrinting&&Qa(e.element),this.printWind=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWind.moveTo(0,0),this.printWind.resizeTo(screen.availWidth,screen.availHeight),this.printWind=function(e,t){var i=document.createElement("div"),n=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("base, link, style")),r=[].slice.call(document.getElementsByTagName("body")[0].querySelectorAll("link, style"));if(r.length)for(var s=0,o=r.length;s<o;s++)n.push(r[parseInt(s.toString(),10)]);var a="";ko(t)&&(t=window.open("","print","height=452,width=1024,tabbar=no")),i.appendChild(e.cloneNode(!0));var l=0;for(o=n.length;l<o;l++)a+=n[parseInt(l.toString(),10)].outerHTML;t.document.write("<!DOCTYPE html> <html><head>"+a+"</head><body>"+i.innerHTML+"<script> (function() { window.ready = true; })(); <\/script></body></html>"),t.document.close(),t.focus();var h=setInterval((function(){t.ready&&(t.print(),t.close(),clearInterval(h))}),500);return t}(e.element,this.printWind)},e.prototype.removeColGroup=function(e){var t=e.groupSettings.columns.length,i=e.element,n="#"+e.element.id;if(t){for(var r=Xa(".e-groupcaption",i),s=r[t-1].getAttribute("colspan"),o=0;o<r.length;o++)r[parseInt(o.toString(),10)].setAttribute("colspan",s);var a=Xa("colgroup"+n+"colgroup",i),l=Xa(".e-content colgroup",i);this.hideColGroup(a,t),this.hideColGroup(l,t)}},e.prototype.hideColGroup=function(e,t){for(var i=0;i<e.length;i++)for(var n=0;n<t;n++)e[parseInt(i.toString(),10)].children[parseInt(n.toString(),10)].style.display="none"},e.prototype.isPrintGrid=function(){return this.parent.element.id.indexOf("_print")>0&&this.parent.isPrinting},e.prototype.destroy=function(){this.parent.isDestroyed||(this.parent.off(Wg,this.contentReady.bind(this)),this.parent.removeEventListener(vg,this.actionBeginFunction),this.parent.off(Qg,this.onEmpty.bind(this)),this.parent.off(Om,this.hierarchyPrint))},e.prototype.getModuleName=function(){return"print"},e.printGridProp=["aggregates","allowGrouping","allowFiltering","allowMultiSorting","allowReordering","allowSorting","allowTextWrap","childGrid","columns","currentViewData","dataSource","detailTemplate","enableAltRow","enableColumnVirtualization","filterSettings","gridLines","groupSettings","height","locale","pageSettings","printMode","query","queryString","enableRtl","rowHeight","rowTemplate","sortSettings","textWrapSettings","allowPaging","hierarchyPrintMode","searchSettings","queryCellInfo","beforeDataBound"].concat([Eg,kg,fg]),e}();function Ry(e,t,i){return ko(e)||""===e?"":bp.getObject(e,t)}function Fy(e,t){requestAnimationFrame((function(){try{t(null,e())}catch(lE){t(lE)}}))}function By(e){return!ko(e)&&!ko(e.columns)&&e.columns.length>0}function Vy(e,t){for(var i=e.columns,n=t.columns,r=0;r<i.length;r++)if(n.length-1>=r)if(n[parseInt(r.toString(),10)].columns)for(var s=0;s<n[parseInt(r.toString(),10)].columns.length;s++)i[parseInt(r.toString(),10)].columns[parseInt(s.toString(),10)].type=n[parseInt(r.toString(),10)].columns[parseInt(s.toString(),10)].type;else i[parseInt(r.toString(),10)].type=n[parseInt(r.toString(),10)].type}function Uy(e,t){for(var i=[],n=0,r=e.length;n<r;n++){var s=t(e[parseInt(n.toString(),10)],n);ko(s)||i.push(s)}return i}function Hy(e){for(var t=[],i=0;i<e.length;i++)t.push(Eo({},Xy(e[parseInt(i.toString(),10)]),{},!0));return t}function Wy(e){if(e)try{var t="<"!==e[0];return"function"===typeof e?Uh(e):t&&document.querySelectorAll(e).length?Uh(document.querySelector(e).innerHTML.trim()):Uh(e)}catch(lE){return Uh(e)}}function Yy(e,t){var i={},n=["style","class"];Eo(i,t,{}),"style"in i&&($a(e,i[n[0]]),delete i[n[0]]),"class"in i&&(Fa([e],i[n[1]]),delete i[n[1]]),Ga(e,i)}function Qy(e,t,i,n){for(var r=Eo(e,t,i),s=Object.keys(r),o=0;o<s.length;o++)n&&-1!==n.indexOf(s[parseInt(o.toString(),10)])&&delete r[s[parseInt(o.toString(),10)]];return r}function qy(e,t){void 0===t&&(t=0);for(var i=0,n=e.length;i<n;i++)e[parseInt(i.toString(),10)].columns?(e[parseInt(i.toString(),10)].index=ko(e[parseInt(i.toString(),10)].index)?t:e[parseInt(i.toString(),10)].index,t++,t=qy(e[parseInt(i.toString(),10)].columns,t)):(e[parseInt(i.toString(),10)].index=ko(e[parseInt(i.toString(),10)].index)?t:e[parseInt(i.toString(),10)].index,t++);return t}function Gy(e,t,i){for(var n=0,r=e.length;n<r;n++){var s=void 0;"string"===typeof e[parseInt(n.toString(),10)]?s=new pg({field:e[parseInt(n.toString(),10)]},i):e[parseInt(n.toString(),10)]instanceof pg&&!e[parseInt(n.toString(),10)].columns?s=e[parseInt(n.toString(),10)]:e[parseInt(n.toString(),10)].columns?(e[parseInt(n.toString(),10)].columns=Gy(e[parseInt(n.toString(),10)].columns,null,i),s=new pg(e[parseInt(n.toString(),10)],i)):s=new pg(e[parseInt(n.toString(),10)],i),s.type&&"checkbox"===s.type.toLowerCase()&&(s.allowReordering=!1),s.headerText=ko(s.headerText)?s.foreignKeyValue||s.field||"":s.headerText,s.foreignKeyField=s.foreignKeyField||s.field,s.valueAccessor=("string"===typeof s.valueAccessor?No(s.valueAccessor,window):s.valueAccessor)||Ry,s.width=t&&ko(s.width)?200:s.width,ko(s.visible)&&(s.visible=!0),e[parseInt(n.toString(),10)]=s}return e}function Ky(e,t,i){var n=e.querySelector("span"),r=e.parentElement.getBoundingClientRect(),s=t.target.getBoundingClientRect();n.className=i,e.style.display="";var o=(ko(t.clientY)?t.changedTouches[0].clientY:t.clientY)>e.offsetHeight+10;e.style.top=s.top-r.top+(o?-(e.offsetHeight+10):e.offsetHeight+10)+"px",e.style.left=function(e,t,i,n){var r=e.offsetWidth/2,s=$y(t).x;return s-i.left<r?i.left-n:i.right-s<r?i.right-n-2*r:s-n-r}(e,t,s,r.left)+"px",o?(e.querySelector(".e-downtail").style.display="",e.querySelector(".e-uptail").style.display="none"):(e.querySelector(".e-downtail").style.display="none",e.querySelector(".e-uptail").style.display="")}function Xy(e){return e instanceof zl?No("properties",e):e}function Jy(e,t,i){for(var n=e;n&&!(i?n.id===t:n.classList.contains(t));)n=n.parentElement;return n}function Zy(e){for(var t=[],i=0,n=e.length;i<n;i++)e[parseInt(i.toString(),10)].hasOwnProperty("properties")?t.push(e[parseInt(i.toString(),10)].properties):t.push(e[parseInt(i.toString(),10)]);return t}function $y(e){var t={};return t.x=ko(e.clientX)?e.changedTouches[0].clientX:e.clientX,t.y=ko(e.clientY)?e.changedTouches[0].clientY:e.clientY,t}var ev=0;function tv(e){return e+ev++}function iv(e,t){for(var i=0,n=t.length;i<n;i++)n===t.length?e.appendChild(t[parseInt(i.toString(),10)]):e.appendChild(t[0]);return e}function nv(e,t,i,n){if("Custom"===e){var r=i.customAggregate;return"string"===typeof r&&(r=No(r,window)),r?r.call(n,t,i):""}return i.field in t||t instanceof Array?bp.aggregates[e.toLowerCase()](t,i.field):null}var rv,sv,ov,av,lv,hv,cv,uv=null;function pv(){if(null!==uv)return uv;var e,t=document.createElement("div");return t.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth|0,document.body.removeChild(t),uv=e}function dv(e){return e.split(".").length>1}function fv(e){return void 0===e&&(e=""),e.replace(/\./g,"___")}function gv(e){var t=Ka("#"+e.element.id+"EditConfirm",e.element);return"Batch"===e.editSettings.mode&&(Xa(".e-updatedtd",e.element).length||Xa(".e-gridform.e-formvalidator",e.element).length)&&e.editSettings.showConfirmDialog&&(!t||t.classList.contains("e-popup-close"))}function mv(e,t){var i="e-wrap";e=e instanceof Array?e:[e];for(var n=0;n<e.length;n++)t?e[parseInt(n.toString(),10)].classList.add(i):e[parseInt(n.toString(),10)].classList.remove(i)}function yv(e,t){var i,n=e.getService("valueFormatter");switch("date"!==t.type&&"datetime"!==t.type&&"dateonly"!==t.type||(i={type:"dateonly"===t.type?"date":t.type,skeleton:t.format},"string"===typeof t.format&&"yMd"!==t.format&&(i.format=t.format)),t.type){case"date":case"dateonly":case"datetime":t.setFormatter(n.getFormatFunction(i)),t.setParser(n.getParserFunction(i));break;case"number":t.setFormatter(n.getFormatFunction({format:t.format})),t.setParser(n.getParserFunction({format:t.format}))}}function vv(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];for(var r=0,s=e.length;r<s;r++)t?(el(e[parseInt(r.toString(),10)],i.slice(),[]),e[parseInt(r.toString(),10)].setAttribute("aria-selected","true")):(el(e[parseInt(r.toString(),10)],[],i.slice()),e[parseInt(r.toString(),10)].removeAttribute("aria-selected"))}function bv(e,t){var i=t.element.style.display;t.element.style.display="block";var n=t.width,r=qc(e,t.element);t.element.style.display=i,t.element.style.top=r.top+e.getBoundingClientRect().height-5+"px";var s=r.left-n+e.clientWidth;t.element.style.left=s<1?n+s-16+"px":s+-4+"px"}function Mv(e,t){e.popup.element.style.zIndex=(t.zIndex+1).toString()}function Sv(e,t){e.checked=t}function wv(e,t,i){var n=Ra("div",{className:i});return n.appendChild(t),n.setAttribute("uid",e),n}function _v(e,t){Ba([e],["e-check","e-stop","e-uncheck"]),t?e.classList.add("e-check"):e.classList.add("e-uncheck")}function Iv(e,t,i,n){var r=e.foreignKeyField,s=ko(i)?Ry(e.field,t):i;s=ko(s)?"":s;var o=new sp,a=n||(e.dataSource instanceof mp&&e.dataSource.dataSource.json.length?e.dataSource.dataSource.json:e.columnData);return s.getDay?o.where(xv({field:r,operator:"equal",value:s,matchCase:!1})):o.where(r,"==",s,!1),new mp(a).executeLocal(o)}function Nv(e,t){var i;return t.some((function(t){return i=t,t.foreignKeyValue===e}))&&i}function Cv(e){return e<10?"0"+e:String(e)}function xv(e,t,i){var n,r,s,o=Eo({},Xy(e)),a=Eo({},Xy(e));if(ko(e.value)||""===e.value)return n=new op(o.field,o.operator,o.value,!1);var l=new Date(e.value);if("dateonly"!==t||i)if("equal"===e.operator||"notequal"===e.operator){"datetime"===t?(r=new Date(l.setSeconds(l.getSeconds()-1)),s=new Date(l.setSeconds(l.getSeconds()+2)),e.value=new Date(l.setSeconds(s.getSeconds()-1))):(r=new Date(l.setHours(0)-1),s=new Date(l.setHours(24))),o.value=r,a.value=s,"equal"===e.operator?(o.operator="greaterthan",a.operator="lessthan"):"notequal"===e.operator&&(o.operator="lessthanorequal",a.operator="greaterthanorequal");var h=new op(o.field,o.operator,o.value,!1),c=new op(a.field,a.operator,a.value,!1);n="equal"===e.operator?h.and(c):h.or(c)}else{"date"!==t||"lessthanorequal"!==e.operator&&"greaterthan"!==e.operator||(o.value=new Date(l.setHours(24)-1)),"string"===typeof o.value&&(o.value=new Date(o.value)),n=new op(o.field,o.operator,o.value,!1)}else{"string"===typeof o.value&&(o.value=new Date(o.value));var u=o.value.getFullYear()+"-"+Cv(o.value.getMonth()+1)+"-"+Cv(o.value.getDate());n=new op(o.field,o.operator,u,!1)}return e.setProperties?e.setProperties({ejpredicate:n},!0):e.ejpredicate=n,n}function Dv(e){return e.enableVirtualization&&e.groupSettings.columns.length>0&&e.isVirtualAdaptive&&!e.groupSettings.enableLazyLoading}function Tv(e,t){if(void 0===e&&(e=""),e){for(var i=t,n=e.split("."),r=0;r<n.length&&!ko(i);r++)if(zo(i=i[n[parseInt(r.toString(),10)]])){var s=n[parseInt(r.toString(),10)].charAt(0).toUpperCase()+n[parseInt(r.toString(),10)].slice(1);i=t[""+s]||t[(""+s).charAt(0).toLowerCase()+(""+s).slice(1)]}return i}}function Av(e,t){var i=new va,n="format",r="type";return"date"===t?"object"===typeof e?i.getDatePattern({type:e[""+r]?e[""+r]:"date",format:e[""+n]},!1):i.getDatePattern({type:"dateTime",skeleton:e},!1):"object"===typeof e?i.getDatePattern({type:e[""+r]?e[""+r]:"dateTime",format:e[""+n]},!1):i.getDatePattern({type:"dateTime",skeleton:e},!1)}function jv(e,t){void 0===t&&(t="Expanded");var i={};if(!e)return i;for(var n=0,r=Py.printGridProp;n<r.length;n++){var s=r[n];i[""+s]="columns"===s?Zy(e.getColumns()):"allowPaging"===s?"CurrentPage"===e.printMode:Xy(e[""+s])}return i.enableHover=!1,(e.childGrid||e.detailTemplate)&&"None"!==t&&(i.expandedRows=function(e,t){for(var i={},n=0,r=e.getRowsObject();n<r.length;n++){var s=r[n];if(s.isExpand&&!s.isDetailRow){var o=e.allowPaging&&"AllPages"===e.printMode?s.index+e.pageSettings.currentPage*e.pageSettings.pageSize-e.pageSettings.pageSize:s.index;o&&(i[parseInt(o.toString(),10)]={},i[parseInt(o.toString(),10)].isExpand=!0,e.childGrid&&(i[parseInt(o.toString(),10)].gridModel=jv(s.childGrid,t),i[parseInt(o.toString(),10)].gridModel.query=e.childGrid.query))}}return i}(e,t)),i}function Ev(e,t,i,n){var r=e||{},s=arguments.length;n&&(s-=1);for(var o=1;o<s;o++)if(arguments[parseInt(o.toString(),10)])for(var a=arguments[parseInt(o.toString(),10)],l=Object.keys(Object.getPrototypeOf(a)).length?Object.keys(a).concat(kv(a)):Object.keys(a),h=0;h<l.length;h++){var c=r[l[parseInt(h.toString(),10)]],u=a[l[parseInt(h.toString(),10)]],p=void 0;n&&(To(u)||Array.isArray(u))?To(u)?(p=c||{},r[l[parseInt(h.toString(),10)]]=Eo({},p,u,n)):(p=c||[],r[l[parseInt(h.toString(),10)]]=Eo([],p,u,n)):r[l[parseInt(h.toString(),10)]]=u}return r}function kv(e){for(var t=[];Object.getPrototypeOf(e)&&Object.keys(Object.getPrototypeOf(e)).length;)t=t.concat(Object.keys(Object.getPrototypeOf(e))),e=Object.getPrototypeOf(e);return t}function zv(e){for(var t=0,i=0;i<e.length;i++){var n=Lv(e[parseInt(i.toString(),10)],0);t<n&&(t=n)}return t+1}function Lv(e,t){var i=t,n=[];if(e.columns){t++;for(var r=0;r<e.columns.length;r++)n[parseInt(r.toString(),10)]=Lv(e.columns[parseInt(r.toString(),10)],t);for(var s=0;s<n.length;s++)i<n[parseInt(s.toString(),10)]&&(i=n[parseInt(s.toString(),10)]);t=i}return t}function Ov(e){var t=document.defaultView.getComputedStyle(e,null).getPropertyValue("transform").replace(/,/g,"");return{width:parseFloat(t.split(" ")[4]),height:parseFloat(t.split(" ")[5])}}function Pv(e,t){e.classList.contains("e-bigger")&&t.classList.add("e-bigger")}function Rv(e){var t=e.getContent().firstElementChild;return t.scrollWidth>t.offsetWidth?pv():0}function Fv(e,t){var i=0,n=e.getColumns(),r=30*t;e.isRowDragable()&&(i++,r+=30),i+=e.groupSettings.columns.length-t,r+=30*(e.groupSettings.columns.length-t);for(var s=0;s<n.length;s++)if(n[parseInt(s.toString(),10)].visible&&(r+=parseInt(n[parseInt(s.toString(),10)].width.toString(),10),i++),r>parseInt(e.width.toString(),10)-Rv(e)){i--;break}return i}function Bv(e,t){var i=function(e){var t=new up,i=new mp({url:"",adaptor:new up}),n=t.processQuery(i,e),r=JSON.parse(n.data);return r}(t),n=new yp;return i.dataSource=n.resolve,i.action=e,{state:i,deffered:n}}function Vv(e){for(var t=e.getVisibleColumns(),i=0,n=0,r=0;r<t.length;r++)zo(t[parseInt(r.toString(),10)].width)?n++:-1!==t[parseInt(r.toString(),10)].width.toString().indexOf("%")&&i++;return("auto"===e.width||"string"===typeof e.width&&-1!==e.width.indexOf("%"))&&!e.groupSettings.showGroupedColumn&&e.groupSettings.columns.length&&i&&!n}function Uv(e,t,i,n){var r=e.dataToBeUpdated[""+i].concat(t[""+i]).reduce((function(e,t){return e[t[""+n]]=void 0===e[t[""+n]]?t:Object.assign(e[t[""+n]],t),e}),{});e.dataToBeUpdated[""+i]=Object.keys(r).map((function(e){return r[""+e]}))}function Hv(e,t){var i=[];return i.push(e.uid),Wv(e,i),i.indexOf(t)>-1}function Wv(e,t){for(var i=0;i<e.columns.length;i++)e.columns[parseInt(i.toString(),10)].uid&&t.push(e.columns[parseInt(i.toString(),10)].uid),e.columns[parseInt(i.toString(),10)].columns&&e.columns[parseInt(i.toString(),10)].columns.length&&Wv(e.columns[parseInt(i.toString(),10)],t)}function Yv(e){return e.columns[0].freeze||e.columns[0].isFrozen?"Left"===e.columns[0].freeze||e.columns[0].isFrozen?"Left":"Right"===e.columns[0].freeze?"Right":"Fixed"===e.columns[0].freeze?"Fixed":"None":e.columns[0].columns&&e.columns[0].columns.length?Yv(e.columns[0]):"None"}function Qv(e){if(e.querySelector(".e-fixedfreeze"))for(var t=[].slice.call(e.querySelectorAll(".e-filterbarcell:not(.e-hide),.e-summarycell:not(.e-hide),.e-headercell:not(.e-hide),.e-rowcell:not(.e-hide)")),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].classList.contains("e-fixedfreeze")&&(!t[i-1]||t[i-1]&&!t[i-1].classList.contains("e-fixedfreeze"))&&t[parseInt(i.toString(),10)].classList.add("e-freezeleftborder"),t[parseInt(i.toString(),10)].classList.contains("e-fixedfreeze")&&(!t[i+1]||t[i+1]&&!t[i+1].classList.contains("e-fixedfreeze"))&&t[parseInt(i.toString(),10)].classList.add("e-freezerightborder")}function qv(e,t,i,n){"Left"===n&&(i?e.style.right=t+"px":e.style.left=t+"px"),"Right"===n&&(i?e.style.left=t+"px":e.style.right=t+"px")}function Gv(e,t,i){if("Left"===t.freeze||t.isFrozen)if(i.classList.add("e-leftfreeze"),"Left"===t.border&&i.classList.add("e-freezeleftborder"),0===t.index)qv(i,30*e.getIndentCount(),e.enableRtl,"Left"),e.enableColumnVirtualization&&(t.valueX=30*e.getIndentCount());else{for(var n=e.getColumns(),r=30*e.getIndentCount(),s=0;s<n.length&&t.uid!==n[parseInt(s.toString(),10)].uid;s++)n[parseInt(s.toString(),10)].visible&&(r+=parseFloat(n[parseInt(s.toString(),10)].width.toString()));qv(i,r,e.enableRtl,"Left"),e.enableColumnVirtualization&&(t.valueX=r)}else if("Right"===t.freeze){i.classList.add("e-rightfreeze");n=e.getColumns();if("Right"===t.border&&i.classList.add("e-freezerightborder"),t.index===n[n.length-1].index){qv(i,r="Right"===e.getFrozenMode()&&e.isRowDragable()?30:0,e.enableRtl,"Right"),e.enableColumnVirtualization&&(t.valueX=r)}else{for(r="Right"===e.getFrozenMode()&&e.isRowDragable()?30:0,s=n.length-1;s>=0&&t.uid!==n[parseInt(s.toString(),10)].uid;s--)n[parseInt(s.toString(),10)].visible&&(r+=parseFloat(n[parseInt(s.toString(),10)].width.toString()));qv(i,r,e.enableRtl,"Right"),e.enableColumnVirtualization&&(t.valueX=r)}}else if("Fixed"===t.freeze){i.classList.add("e-fixedfreeze");n=e.getColumns(),r=0;e.getVisibleFrozenLeftCount()?r=30*e.getIndentCount():"Right"===e.getFrozenMode()&&(r=30*e.groupSettings.columns.length);for(s=0;s<n.length&&t.uid!==n[parseInt(s.toString(),10)].uid;s++)("Left"===n[parseInt(s.toString(),10)].freeze||n[parseInt(s.toString(),10)].isFrozen||"Fixed"===n[parseInt(s.toString(),10)].freeze)&&n[parseInt(s.toString(),10)].visible&&(r+=parseFloat(n[parseInt(s.toString(),10)].width.toString()));qv(i,r-1,e.enableRtl,"Left"),r="Right"===e.getFrozenMode()&&e.isRowDragable()?30:0;for(s=n.length-1;s>=0&&t.uid!==n[parseInt(s.toString(),10)].uid;s--)"Right"!==n[parseInt(s.toString(),10)].freeze&&"Fixed"!==n[parseInt(s.toString(),10)].freeze||n[parseInt(s.toString(),10)].visible&&(r+=parseFloat(n[parseInt(s.toString(),10)].width.toString()));qv(i,r-1,e.enableRtl,"Right")}else i.classList.add("e-unfreeze")}function Kv(e,t,i){return[].slice.call(e.getDataRows()[parseInt(i.toString(),10)].getElementsByClassName(uy))}function Xv(e,t,i,n){var r,s=new va;if("number"===t)try{r=s.getNumberPattern({format:e,currency:n,useGrouping:!0},!0)}catch(a){r=e}else if("date"===t||"time"===t||"datetime"===t)try{if(ko(r=s.getDatePattern({skeleton:e,type:t},i)))throw"error"}catch(a){try{r=s.getDatePattern({format:e,type:t},i)}catch(a){r=e}}else r=e;if("number"!==t){var o={G:"",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};r=r.replace(/G|H|c|'| a|yy|y|EEEE|E/g,(function(e){return o[""+e]}))}return r}function Jv(e,t){for(var i,n=e.split(".").length,r=e.split("."),s=t,o=0;o<n;o++)s=i=s[r[parseInt(o.toString(),10)]];return i}function Zv(e,t,i,n){for(var r=0,s=t;r<s.length;r++){var o=s[r];i?e.on(o.event,o.handler,n):e.off(o.event,o.handler)}}function $v(e,t){var i;e.columnModel||e.getColumns();for(var n=0,r=e.columnModel;n<r.length;n++){var s=r[n];if(s.field===t){i=s;break}}return i}function eb(e,t,i,n){n.eventHandlers[""+e]={};for(var r=0;r<t.length;r++)n.eventHandlers[""+e][t[parseInt(r.toString(),10)]]=i[t[parseInt(r.toString(),10)]]}function tb(e,t,i){for(var n=0;n<t.length&&!e.isDestroyed;n++)e.removeEventListener(t[parseInt(n.toString(),10)],i.eventHandlers[e.element.id][t[parseInt(n.toString(),10)]])}function ib(e,t){e.destroyTemplate(t),e.isReact&&e.renderTemplates()}function nb(e,t,i){var n=e,r=t,s=!1;if(i)for(var o=r[0];o<n.length;o++)for(var a=n[parseInt(o.toString(),10)],l=0;l<a.length;l++){if(s&&1===n[parseInt(o.toString(),10)][parseInt(l.toString(),10)])return r=[o,l];s||r.toString()!==[o,l].toString()||(s=!0)}else for(o=r[0];o>=0;o--)for(l=(a=n[parseInt(o.toString(),10)]).length-1;l>=0;l--){if(s&&1===n[parseInt(o.toString(),10)][parseInt(l.toString(),10)])return r=[o,l];s||r.toString()!==[o,l].toString()||(s=!0)}return r}function rb(e,t,i,n,r,s){var o=n;if(n.tagName===t){var a=No("ej2_instances",n);o=e("input",{attrs:{type:i}});for(var l=["change","cssClass","label","labelPosition","id"],h=0,c=n.attributes.length;h<c;h++)-1===l.indexOf(n.attributes[h].nodeName)&&o.setAttribute(n.attributes[h].nodeName,n.attributes[h].nodeValue);Ga(n,{class:r}),n.appendChild(o),Co("ej2_instances",a,o),xo(n,"ej2_instances")}return o}function sb(e){for(var t,i=e.childNodes,n=0;n<i.length;n++)if(3===(t=i[n]).nodeType)return t;return null}function ob(e,t,i){void 0===t&&(t=!1),void 0===i&&(i={});var n=e("div",{className:"e-checkbox-wrapper e-css"});if(i.cssClass&&Fa([n],i.cssClass.split(" ")),i.enableRtl&&n.classList.add("e-rtl"),t){var r=e("span",{className:"e-ripple-container"});Il(r,{isCenterRipple:!0,duration:400}),n.appendChild(r)}var s=e("span",{className:"e-frame e-icons"});if(i.checked&&s.classList.add("e-check"),n.appendChild(s),i.label){var o=e("span",{className:"e-label"});i.disableHtmlEncode?o.textContent=i.label:o.innerHTML=i.label,n.appendChild(o)}return n}function ab(e,t){if(t){var i=document.createEvent("MouseEvents");i.initEvent(e.type,!1,!0),t.dispatchEvent(i)}}!function(e){e.timer=null}(sv||(sv={})),function(e){e[e.Data=0]="Data",e[e.Header=1]="Header",e[e.Summary=2]="Summary",e[e.GroupSummary=3]="GroupSummary",e[e.CaptionSummary=4]="CaptionSummary",e[e.Filter=5]="Filter",e[e.Indent=6]="Indent",e[e.GroupCaption=7]="GroupCaption",e[e.GroupCaptionEmpty=8]="GroupCaptionEmpty",e[e.Expand=9]="Expand",e[e.HeaderIndent=10]="HeaderIndent",e[e.StackedHeader=11]="StackedHeader",e[e.DetailHeader=12]="DetailHeader",e[e.DetailExpand=13]="DetailExpand",e[e.CommandColumn=14]="CommandColumn",e[e.DetailFooterIntent=15]="DetailFooterIntent",e[e.RowDragIcon=16]="RowDragIcon",e[e.RowDragHIcon=17]="RowDragHIcon"}(ov||(ov={})),function(e){e[e.Header=0]="Header",e[e.Content=1]="Content",e[e.Summary=2]="Summary"}(av||(av={})),function(e){e[e.Add=0]="Add",e[e.Edit=1]="Edit",e[e.Update=2]="Update",e[e.Delete=3]="Delete",e[e.Cancel=4]="Cancel",e[e.Print=5]="Print",e[e.Search=6]="Search",e[e.ColumnChooser=7]="ColumnChooser",e[e.PdfExport=8]="PdfExport",e[e.ExcelExport=9]="ExcelExport",e[e.CsvExport=10]="CsvExport",e[e.WordExport=11]="WordExport"}(lv||(lv={})),function(e){e[e.isEdit=0]="isEdit",e[e.isAdd=1]="isAdd",e[e.isSort=2]="isSort",e[e.isFilter=3]="isFilter"}(hv||(hv={})),function(e){e[e.isInitial=0]="isInitial",e[e.isSearch=1]="isSearch"}(cv||(cv={}));var lb,hb=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),cb=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};!function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom"}(lb||(lb={}));new ua;var ub,pb,db,fb,gb,mb,yb,vb,bb="e-rtl",Mb="e-btn",Sb="e-primary",wb="e-icon-btn",_b=function(e){function t(t,i){return e.call(this,t,i)||this}return hb(t,e),t.prototype.preRender=function(){},t.prototype.render=function(){this.initialize(),this.removeRippleEffect=Il(this.element,{selector:"."+Mb}),this.renderComplete()},t.prototype.initialize=function(){if(this.cssClass&&Fa([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPrimary&&this.element.classList.add(Sb),!Bo()||Bo()&&"progress-btn"!==this.getModuleName()){if(this.content){var e=this.enableHtmlSanitizer?$h.sanitize(this.content):this.content;this.element.innerHTML=e}this.setIconCss()}this.enableRtl&&this.element.classList.add(bb),this.disabled?this.controlStatus(this.disabled):this.wireEvents()},t.prototype.controlStatus=function(e){this.element.disabled=e},t.prototype.setIconCss=function(){if(this.iconCss){var e=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(e.classList.add("e-icon-"+this.iconPosition.toLowerCase()),"Top"!==this.iconPosition&&"Bottom"!==this.iconPosition||this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add(wb);var t=this.element.childNodes[0];!t||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(e):this.element.insertBefore(e,t)}},t.prototype.wireEvents=function(){this.isToggle&&Oa.add(this.element,"click",this.btnClickHandler,this)},t.prototype.unWireEvents=function(){this.isToggle&&Oa.remove(this.element,"click",this.btnClickHandler)},t.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},t.prototype.destroy=function(){var t=[Sb,bb,wb,"e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(t=t.concat(this.cssClass.split(" "))),e.prototype.destroy.call(this),Ba([this.element],t),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));var i=this.element.querySelector("span.e-btn-icon");i&&Qa(i),this.unWireEvents(),jl&&this.removeRippleEffect()},t.prototype.getModuleName=function(){return"btn"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.Inject=function(){},t.prototype.onPropertyChanged=function(e,t){for(var i=this.element.querySelector("span.e-btn-icon"),n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"isPrimary":e.isPrimary?this.element.classList.add(Sb):this.element.classList.remove(Sb);break;case"disabled":this.controlStatus(e.disabled);break;case"iconCss":(i=this.element.querySelector("span.e-btn-icon"))?e.iconCss?(i.className="e-btn-icon "+e.iconCss,this.element.textContent.trim()&&("Left"===this.iconPosition?i.classList.add("e-icon-left"):i.classList.add("e-icon-right"))):Qa(i):this.setIconCss();break;case"iconPosition":Ba([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),(i=this.element.querySelector("span.e-btn-icon"))&&Qa(i),this.setIconCss();break;case"cssClass":t.cssClass&&Ba([this.element],t.cssClass.split(" ")),e.cssClass&&Fa([this.element],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?this.element.classList.add(bb):this.element.classList.remove(bb);break;case"content":sb(this.element)||this.element.classList.remove(wb),(!Bo()||Bo()&&!this.isServerRendered&&"progress-btn"!==this.getModuleName())&&(this.enableHtmlSanitizer&&(e.content=$h.sanitize(e.content)),this.element.innerHTML=e.content,this.setIconCss());break;case"isToggle":e.isToggle?Oa.add(this.element,"click",this.btnClickHandler,this):(Oa.remove(this.element,"click",this.btnClickHandler),Ba([this.element],["e-active"]))}}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},cb([fl("Left")],t.prototype,"iconPosition",void 0),cb([fl("")],t.prototype,"iconCss",void 0),cb([fl(!1)],t.prototype,"disabled",void 0),cb([fl(!1)],t.prototype,"isPrimary",void 0),cb([fl("")],t.prototype,"cssClass",void 0),cb([fl("")],t.prototype,"content",void 0),cb([fl(!1)],t.prototype,"isToggle",void 0),cb([fl()],t.prototype,"locale",void 0),cb([fl(!1)],t.prototype,"enableHtmlSanitizer",void 0),cb([yl()],t.prototype,"created",void 0),t=cb([vl],t)}(Xl),Ib=["north-west","north","north-east","west","east","south-west","south","south-east"],Nb="e-resize-handle",Cb="e-focused-handle",xb="e-dlg-resizable",Db=["e-restrict-left"],Tb="e-resize-viewport",Ab=["north","west","east","south"],jb=0,Eb=0,kb=0,zb=0,Lb=0,Ob=0,Pb=null,Rb=null,Fb=null,Bb=!0,Vb=0,Ub=!0;function Hb(e){Kb();var t=Ra("span",{attrs:{unselectable:"on",contenteditable:"false"}});t.setAttribute("class","e-dialog-border-resize e-"+e),"south"===e&&(t.style.height="2px",t.style.width="100%",t.style.bottom="0px",t.style.left="0px"),"north"===e&&(t.style.height="2px",t.style.width="100%",t.style.top="0px",t.style.left="0px"),"east"===e&&(t.style.height="100%",t.style.width="2px",t.style.right="0px",t.style.top="0px"),"west"===e&&(t.style.height="100%",t.style.width="2px",t.style.left="0px",t.style.top="0px"),ub.appendChild(t)}function Wb(e){var t;return ko(e)||(t="string"===typeof e?document.querySelector(e):e),t}function Yb(e){ko(e)&&(e=this);for(var t=ub.querySelectorAll("."+Nb),i=0;i<t.length;i++){pb=t[i],Oa.add(pb,"mousedown",qb,e);var n="msie"===La.info.name?"pointerdown":"touchstart";Oa.add(pb,n,Xb,e)}var r=ub.querySelectorAll(".e-dialog-border-resize");if(!ko(r))for(i=0;i<r.length;i++){pb=r[i],Oa.add(pb,"mousedown",qb,e);n="msie"===La.info.name?"pointerdown":"touchstart";Oa.add(pb,n,Xb,e)}}function Qb(e){return e.indexOf("mouse")>-1?"mouse":"touch"}function qb(e){if(e.preventDefault(),ub=e.target.parentElement,Kb(),Lb=e.pageX,Ob=e.pageY,e.target.classList.add(Cb),ko(Pb)||!0!==Pb(e,this)){this.targetEle&&ub&&ub.querySelector("."+xb)&&(yb="body"===this.target?null:this.targetEle,mb=this.targetEle.clientWidth,fb=this.targetEle.clientHeight);var t=ko(yb)?document:yb;Oa.add(t,"mousemove",Jb,this),Oa.add(document,"mouseup",Gb,this);for(var i=0;i<Db.length;i++)Bb=!ub.classList.contains(Db[i])}}function Gb(e){var t="msie"===La.info.name?"pointermove":"touchmove",i="msie"===La.info.name?"pointerup":"touchend",n=ko(yb)?document:yb,r="msie"===La.info.name?"pointerdown":"touchstart";Oa.remove(n,"mousemove",Jb),Oa.remove(n,t,Jb),Oa.remove(n,r,Jb),ko(document.body.querySelector("."+Cb))||document.body.querySelector("."+Cb).classList.remove(Cb),ko(Fb)||Fb(e,this),Oa.remove(document,"mouseup",Gb),Oa.remove(document,i,Gb)}function Kb(){jb=parseFloat(getComputedStyle(ub,null).getPropertyValue("width").replace("px","")),Eb=parseFloat(getComputedStyle(ub,null).getPropertyValue("height").replace("px","")),kb=ub.getBoundingClientRect().left,zb=ub.getBoundingClientRect().top}function Xb(e){ub=e.target.parentElement,Kb();var t=ub.classList.contains("e-dialog");(e.target.classList.contains(Nb)||e.target.classList.contains("e-dialog-border-resize"))&&t&&e.target.classList.add(Cb);var i=e.touches?e.changedTouches[0]:e;if(Lb=i.pageX,Ob=i.pageY,ko(Pb)||!0!==Pb(e,this)){var n="msie"===La.info.name?"pointermove":"touchmove",r="msie"===La.info.name?"pointerup":"touchend",s=ko(yb)?document:yb;Oa.add(s,n,Jb,this),Oa.add(document,r,Gb,this)}}function Jb(e){if(e.target.classList.contains(Nb)&&e.target.classList.contains(Cb)?pb=e.target:ko(document.body.querySelector("."+Cb))||(pb=document.body.querySelector("."+Cb)),!ko(pb)){for(var t="",i=0;i<Ib.length;i++)pb.classList.contains("e-"+Ib[i])&&(t=Ib[i]);switch(ko(Rb)||Rb(e,this),t){case"south":$b(e);break;case"north":eM(e);break;case"west":tM(e);break;case"east":iM(e);break;case"south-east":$b(e),iM(e);break;case"south-west":$b(e),tM(e);break;case"north-east":eM(e),iM(e);break;case"north-west":eM(e),tM(e)}}}function Zb(e){return e.getBoundingClientRect()}function $b(e){var t,i=document.documentElement.clientHeight,n=!1,r=(e.touches?e.changedTouches[0]:e).pageY,s=Zb(ub);ko(yb)||(t=Zb(yb)),ko(yb)?ko(yb)&&(i-r>=0||s.top<0)&&(n=!0):n=!0;var o=Eb+(r-Ob);o=o>db?o:db;var a=0;ko(yb)||(a=t.top);var l=ko(yb)?0:yb.offsetHeight-yb.clientHeight,h=s.top-a-l/2;if(h=h<0?0:h,s.top>0&&h+o>fb){if(n=!1,ub.classList.contains(Tb))return;ub.style.height=fb-parseInt(h.toString(),10)+"px"}else{var c=0;if(n){s.top<0&&i+(s.height+s.top)>0&&o+(c=s.top)<=30&&(o=s.height-(s.height+s.top)+30),o+s.top>=fb&&(ub.style.height=s.height+(i-(s.height+s.top))+"px");var u=ko(yb)?c:h;o>=db&&o+u<=fb&&(ub.style.height=o+"px")}}}function eM(e){var t,i=!1,n="mouse"===Qb(e.type)?e.pageY:e.touches[0].pageY,r=Zb(ub);ko(yb)||(t=Zb(yb)),(!ko(yb)&&r.top-t.top>0||ko(yb)&&n>0)&&(i=!0);var s=Eb-(n-Ob);if(i&&s>=db&&s<=fb){var o=0;ko(yb)||(o=t.top);var a=zb-o+(n-Ob);a=a>0?a:1,ub.style.height=s+"px",ub.style.top=a+"px"}}function tM(e){var t,i=document.documentElement.clientWidth,n=!1;ko(yb)||(t=Zb(yb));var r="mouse"===Qb(e.type)?e.pageX:e.touches[0].pageX,s=Zb(ub),o=ko(yb)?0:yb.offsetWidth-yb.clientWidth,a=ko(yb)?0:t.left,l=ko(yb)?0:t.width;ko(vb)&&(ko(yb)?vb=i:(vb=s.left-a-o/2+s.width,vb+=l-o-vb)),(!ko(yb)&&Math.floor(s.left-t.left+s.width+(t.right-s.right))-o<=mb||ko(yb)&&r>=0)&&(n=!0);var h=jb-(r-Lb);if(Bb&&(h=h>vb?vb:h),n&&h>=gb&&h<=mb){var c=0;ko(yb)||(c=t.left);var u=kb-c+(r-Lb);u=u>0?u:1,h!==Vb&&Ub&&(ub.style.width=h+"px"),Bb&&(ub.style.left=u+"px",Ub=1!==u)}Vb=h}function iM(e){var t,i=document.documentElement.clientWidth,n=!1;ko(yb)||(t=Zb(yb));var r=(e.touches?e.changedTouches[0]:e).pageX,s=Zb(ub);(!ko(yb)&&(s.left-t.left+s.width<=mb||s.right-t.left>=s.width)||ko(yb)&&i-r>0)&&(n=!0);var o=jb+(r-Lb),a=0;if(ko(yb)||(a=t.left),s.left-a+o>mb){if(n=!1,ub.classList.contains(Tb))return;ub.style.width=mb-(s.left-a)+"px"}n&&o>=gb&&o<=mb&&(ub.style.width=o+"px")}function nM(){for(var e=ub.querySelectorAll("."+Nb),t=0;t<e.length;t++)Qa(e[t]);var i=ub.querySelectorAll(".e-dialog-border-resize");if(!ko(i))for(t=0;t<i.length;t++)Qa(i[t])}var rM,sM=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),oM=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},aM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sM(t,e),oM([fl(!0)],t.prototype,"isFlat",void 0),oM([fl()],t.prototype,"buttonModel",void 0),oM([fl("Button")],t.prototype,"type",void 0),oM([yl()],t.prototype,"click",void 0),t}(zl),lM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sM(t,e),oM([fl("Fade")],t.prototype,"effect",void 0),oM([fl(400)],t.prototype,"duration",void 0),oM([fl(0)],t.prototype,"delay",void 0),t}(zl),hM="e-dialog",cM="e-rtl",uM="e-dlg-header-content",pM="e-dlg-header",dM="e-footer-content",fM="e-dlg-modal",gM="e-icon-dlg-close",mM="e-dlg-target",yM="e-scroll-disabled",vM="e-device",bM="e-dlg-fullscreen",MM="e-dlg-closeicon-btn",SM="e-popup-open",wM="Information",_M="e-scroll-disabled",IM="e-alert-dialog",NM="e-confirm-dialog",CM="e-dlg-resizable",xM="e-restrict-left",DM="e-resize-viewport",TM="user action",AM=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.needsID=!0,n}return sM(t,e),t.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=Fo(this.minHeight)),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()},t.prototype.initializeValue=function(){this.dlgClosedBy=TM},t.prototype.preRender=function(){var e=this;this.initializeValue(),this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(t){e.dlgClosedBy="close icon",e.hide(t)},this.dlgOverlayClickEventHandler=function(t){e.dlgClosedBy="overlayClick",t.preventFocus=!1,e.trigger("overlayClick",t,(function(t){t.preventFocus||e.focusContent(),e.dlgClosedBy=TM}))};if(this.l10n=new ch("dialog",{close:"Close"},this.locale),this.checkPositionData(),ko(this.target)){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=t}},t.prototype.updatePersistData=function(){this.enablePersistence&&this.setProperties({width:parseFloat(this.element.style.width),height:parseFloat(this.element.style.height),position:{X:parseFloat(this.dragObj.element.style.left),Y:parseFloat(this.dragObj.element.style.top)}},!0)},t.prototype.isNumberValue=function(e){return/^[-+]?\d*\.?\d+$/.test(e)},t.prototype.checkPositionData=function(){if(!ko(this.position)){if(!ko(this.position.X)&&"number"!==typeof this.position.X)if(this.isNumberValue(this.position.X)){var e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=e}if(!ko(this.position.Y)&&"number"!==typeof this.position.Y)if(this.isNumberValue(this.position.Y)){e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=e}}},t.prototype.getEle=function(e,t){for(var i=void 0,n=0;n<e.length;n++)if(e[n].classList.contains(t)){i=e[n];break}return i},t.prototype.getMinHeight=function(){var e="0px",t="0px";ko(this.element.querySelector("."+uM))||(e=getComputedStyle(this.headerContent).height);var i=this.getEle(this.element.children,dM);ko(i)||(t=getComputedStyle(i).height);var n,r=parseInt(e.slice(0,e.indexOf("p")),10),s=parseInt(t.slice(0,t.indexOf("p")),10);return n=r+30+(isNaN(s)?0:s),db=n,r+30+s},t.prototype.onResizeStart=function(e,t){return t.trigger("resizeStart",e),e.cancel},t.prototype.onResizing=function(e,t){t.trigger("resizing",e)},t.prototype.onResizeComplete=function(e,t){t.trigger("resizeStop",e),this.updatePersistData()},t.prototype.setResize=function(){if(this.enableResize){if(this.isBlazorServerRender()&&!ko(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add(CM);for(var e=getComputedStyle(this.element).minHeight,t=getComputedStyle(this.element).minWidth,i="",n=0;n<this.resizeHandles.length;n++){if("All"===this.resizeHandles[n]){i="south north east west north-east north-west south-east south-west";break}var r="";switch(this.resizeHandles[n].toString()){case"SouthEast":r="south-east";break;case"SouthWest":r="south-west";break;case"NorthEast":r="north-east";break;case"NorthWest":r="north-west";break;default:r=this.resizeHandles[n].toString()}i+=r.toLocaleLowerCase()+" "}this.enableRtl&&"south-east"===i.trim()?i="south-west":this.enableRtl&&"south-west"===i.trim()&&(i="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(xM):this.isModal&&this.target===document.body&&this.element.classList.add(DM),function(e){Pb=e.resizeBegin,Rb=e.resizing,Fb=e.resizeComplete,ub=Wb(e.element),yb=Wb(e.boundary);for(var t=e.direction.split(" "),i=0;i<t.length;i++)if(Ab.indexOf(t[i])>=0&&t[i])Hb(t[i]);else if(""!==t[i].trim()){var n=Ra("div",{className:"e-icons "+Nb+" e-"+t[i]});ub.appendChild(n)}db=e.minHeight,gb=e.minWidth,mb=e.maxWidth,fb=e.maxHeight,e.proxy&&e.proxy.element&&e.proxy.element.classList.contains("e-dialog")?Yb(e.proxy):Yb()}({element:this.element,direction:i,minHeight:parseInt(e.slice(0,t.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(t.slice(0,t.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else nM(),this.unWireWindowResizeEvent(),this.isModal?this.element.classList.remove(xM):this.element.classList.remove(DM),this.element.classList.remove(CM)},t.prototype.getFocusElement=function(e){var t=e.querySelectorAll('input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]');return{element:t[t.length-1]}},t.prototype.keyDown=function(e){var t=this;if(9===e.keyCode&&this.isModal){var i=void 0;ko(this.btnObj)||(i=this.btnObj[this.btnObj.length-1]),ko(this.btnObj)&&!ko(this.ftrTemplateContent)&&(i=this.getFocusElement(this.ftrTemplateContent)),ko(this.btnObj)&&ko(this.ftrTemplateContent)&&!ko(this.contentEle)&&(i=this.getFocusElement(this.contentEle)),ko(i)||document.activeElement!==i.element||e.shiftKey||(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),ko(i)||i.element.focus())}var n,r=document.activeElement,s=["input","textarea"].indexOf(r.tagName.toLowerCase())>-1,o=!1;if(s||(o=r.hasAttribute("contenteditable")&&"true"===r.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape){this.dlgClosedBy="escape";var a=document.querySelector(".e-popup-open:not(.e-dialog)");(ko(a)||a.classList.contains("e-toolbar-pop"))&&this.hide(e)}(13===e.keyCode&&!e.ctrlKey&&"textarea"!==r.tagName.toLowerCase()&&s&&!ko(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===r.tagName.toLowerCase()||o)&&!ko(this.primaryButtonEle))&&(this.buttons.some((function(e,t){n=t;var i=e.buttonModel;return!ko(i)&&!0===i.isPrimary}))&&"function"===typeof this.buttons[n].click&&setTimeout((function(){t.buttons[n].click.call(t,e)})))},t.prototype.initialize=function(){ko(this.target)||(this.targetEle="string"===typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||Fa([this.element],hM),La.isDevice&&Fa([this.element],vM),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()},t.prototype.initRender=function(){var e=this;if(this.initialRender=!0,this.isBlazorServerRender()||Ga(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&ko(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&ko(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),""===this.header||ko(this.header)||this.setHeader(),this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||ko(this.footerTemplate)?ko(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate()),this.isBlazorServerRender()&&(ko(this.buttons[0].buttonModel)||""!==this.footerTemplate||this.setButton()),this.allowDragging&&!ko(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(Ga(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&ko(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(var t=0,i=this.dlgContainer.children;t<i.length;t++)i[t].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=i[t])}if(!0!==this.element.classList.contains(IM)&&!0!==this.element.classList.contains(NM)&&!ko(this.element.parentElement)){var n=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),n.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}(ko(this.targetEle)||(this.isModal?this.targetEle.appendChild(this.dlgContainer):this.targetEle.appendChild(this.element)),this.popupObj=new ku(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:function(t){var i={container:e.isModal?e.dlgContainer:e.element,element:e.element,target:e.target,preventFocus:!1};e.enableResize&&e.resetResizeIcon(),e.trigger("open",i,(function(t){t.preventFocus||e.focusContent()}))},close:function(t){e.isModal&&Fa([e.dlgOverlay],"e-fade"),e.unBindEvent(e.element),e.isModal&&(e.dlgContainer.style.display="none"),e.trigger("close",e.closeArgs);var i=document.activeElement;ko(i)||ko(i.blur)||i.blur(),ko(e.storeActiveElement)||ko(e.storeActiveElement.focus)||e.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(Fa([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible)?(this.show(),this.isModal&&this.target instanceof Element&&"rtl"===window.getComputedStyle(this.target).getPropertyValue("direction")&&this.setPopupPosition()):this.isModal&&(this.dlgOverlay.style.display="none");this.initialRender=!1},t.prototype.resetResizeIcon=function(){var e=this.getMinHeight();if(this.targetEle.offsetHeight<e){var t=this.enableRtl?"e-south-west":"e-south-east",i=this.element.querySelector("."+t);ko(i)||(i.style.bottom="-"+e.toString()+"px")}},t.prototype.setOverlayZindex=function(e){var t;t=ko(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(t-1).toString(),this.dlgContainer.style.zIndex=t.toString()},t.prototype.positionChange=function(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},t.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},t.prototype.setAllowDragging=function(){var e=this,t="."+uM;this.element.classList.contains("e-draggable")||(this.dragObj=new ih(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:t,dragStart:function(t){e.trigger("dragStart",t,(function(e){Bo()&&e.bindEvents(t.dragElement)}))},dragStop:function(t){e.isModal&&(ko(e.position)||e.dlgContainer.classList.remove("e-dlg-"+e.position.X+"-"+e.position.Y),e.target instanceof Element&&("rtl"===window.getComputedStyle(e.target).getPropertyValue("direction")?e.element.style.position="absolute":e.element.style.position="relative"));e.trigger("dragStop",t),e.element.classList.remove(xM),e.updatePersistData()},drag:function(t){e.trigger("drag",t)}}),ko(this.targetEle)||(this.dragObj.dragArea=this.targetEle))},t.prototype.setButton=function(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(var e=0;e<this.buttons.length;e++){var t=ko(this.buttons[e].type)?"button":this.buttons[e].type.toLowerCase(),i=this.createElement("button",{className:this.cssClass,attrs:{type:t}});this.buttonContent.push(i.outerHTML)}this.setFooterTemplate()}e=0;for(var n,r=this.element.children;e<r.length;e++)r[e].classList.contains(dM)&&(n=r[e].querySelectorAll("button"));for(e=0;e<this.buttons.length;e++)this.isBlazorServerRender()||(this.btnObj[e]=new _b(this.buttons[e].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector("."+dM)),!ko(this.ftrTemplateContent)&&n.length>0&&("function"===typeof this.buttons[e].click&&Oa.add(n[e],"click",this.buttons[e].click,this),"object"===typeof this.buttons[e].click&&Oa.add(n[e],"click",this.buttonClickHandler.bind(this,e),this)),this.isBlazorServerRender()||ko(this.ftrTemplateContent)||(this.btnObj[e].appendTo(this.ftrTemplateContent.children[e]),this.buttons[e].isFlat&&this.btnObj[e].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])},t.prototype.buttonClickHandler=function(e){this.trigger("buttons["+e+"].click",{})},t.prototype.setContent=function(){if(this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement)this.contentEle.appendChild(this.innerContentElement);else if(!ko(this.content)&&""!==this.content||!this.initialRender){Object.keys(window);("string"!==typeof this.content||Bo())&&this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content")}ko(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(this.isBlazorServerRender()||!La.isIE||""!==this.element.style.width||ko(this.width)||(this.element.style.width=Fo(this.width)),this.setMaxHeight())},t.prototype.setTemplate=function(e,t,i){var n,r,s;Object.keys(window);r=t.classList.contains(pM)?this.element.id+"header":t.classList.contains(dM)?this.element.id+"footerTemplate":this.element.id+"content",ko(e.outerHTML)?("string"===typeof e||"string"!==typeof e||Bo()&&!this.isStringTemplate)&&("string"===typeof e&&(e=this.sanitizeHelper(e)),this.isVue||"string"!==typeof e?(n=Uh(e),s=e):t.innerHTML=e):t.appendChild(e);var o=[];if(!ko(n)){for(var a=0,l=n({},this,i,r,!(Bo()&&!this.isStringTemplate&&0===s.indexOf("<div>Blazor"))||this.isStringTemplate);a<l.length;a++){var h=l[a];o.push(h)}Wa([].slice.call(o),t)}},t.prototype.sanitizeHelper=function(e){if(this.enableHtmlSanitizer){var t=$h.beforeSanitize();Eo(t,t,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",t),t.cancel&&!ko(t.helper)?e=t.helper(e):t.cancel||(e=$h.serializeValue(t,e))}return e},t.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!ko(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,La.isIE&&"auto"===this.height&&!ko(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}},t.prototype.setEnableRTL=function(){this.isBlazorServerRender()||(this.enableRtl?Fa([this.element],cM):Ba([this.element],cM)),ko(this.element.querySelector(".e-resize-handle"))||(nM(),this.setResize())},t.prototype.setTargetContent=function(){var e=this;if(ko(this.content)||""===this.content){var t=""!==this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"");(this.element.children.length>0||t)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach((function(t){8!==t.nodeType&&e.innerContentElement.appendChild(t)})))}},t.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:pM}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),Ga(this.element,{"aria-labelledby":this.element.id+"_title"}),this.element.insertBefore(this.headerContent,this.element.children[0]),this.allowDragging&&!ko(this.headerContent)&&this.setAllowDragging()},t.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:dM}),""===this.footerTemplate||ko(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"),this.element.appendChild(this.ftrTemplateContent)},t.prototype.createHeaderContent=function(){ko(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:uM}))},t.prototype.renderCloseIcon=function(){this.showCloseIcon&&(this.closeIcon=this.createElement("button",{className:MM,attrs:{type:"button"}}),this.closeIconBtnObj=new _b({cssClass:"e-flat",iconCss:gM+" e-icons"}),this.closeIconTitle(),ko(this.headerContent)?(this.createHeaderContent(),Ha([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):Ha([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon))},t.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)},t.prototype.setCSSClass=function(e){e&&(Ba([this.element],e.split(" ")),this.isModal&&!ko(this.dlgContainer)&&Ba([this.dlgContainer],e.split(" "))),this.cssClass&&(Fa([this.element],this.cssClass.split(" ")),this.isModal&&!ko(this.dlgContainer)&&Fa([this.dlgContainer],this.cssClass.split(" ")))},t.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.setCSSClass(),this.element.classList.remove(SM),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),Fa([this.element],fM),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},t.prototype.getValidFocusNode=function(e){for(var t,i=0;i<e.length;i++){if(((t=e[i]).clientHeight>0||"a"===t.tagName.toLowerCase()&&t.hasAttribute("href"))&&t.tabIndex>-1&&!t.disabled&&!this.disableElement(t,'[disabled],[aria-disabled="true"],[type="hidden"]'))return t;t=null}return t},t.prototype.focusableElements=function(e){if(!ko(e)){var t=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(t)}return null},t.prototype.getAutoFocusNode=function(e){var t=e.querySelector("."+MM),i=e.querySelectorAll("[autofocus]"),n=this.getValidFocusNode(i);if(Bo()&&(this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]),ko(n)){if(!ko(n=this.focusableElements(this.contentEle)))return n;if(!ko(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else t=n;return t},t.prototype.disableElement=function(e,t){var i=e?e.matches||e.webkitMatchesSelector||e.msGetRegionContent:null;if(i)for(;e;e=e.parentNode)if(e instanceof Element&&i.call(e,t))return e;return null},t.prototype.focusContent=function(){var e=this.getAutoFocusNode(this.element),t=ko(e)?this.element:e,i=La.userAgent;(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0)&&this.element.focus(),t.focus(),this.unBindEvent(this.element),this.bindEvent(this.element)},t.prototype.bindEvent=function(e){Oa.add(e,"keydown",this.keyDown,this)},t.prototype.unBindEvent=function(e){Oa.remove(e,"keydown",this.keyDown)},t.prototype.updateSanitizeContent=function(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))},t.prototype.isBlazorServerRender=function(){return Bo()&&this.isServerRendered},t.prototype.getModuleName=function(){return"dialog"},t.prototype.onPropertyChanged=function(e,t){if(this.element.classList.contains(hM))for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"content":ko(this.content)||""===this.content?ko(this.contentEle)||(Qa(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),ko(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?this.isBlazorServerRender()&&!ko(this.element.querySelector(".e-dlg-content"))||this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"function"===typeof this.content?(this.clearTemplate(["content"]),Qa(this.contentEle),this.contentEle=null,this.setContent()):"string"===typeof this.content?this.isBlazorServerRender()&&""===this.contentEle.innerText?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||ko(this.header)?this.headerEle&&(Qa(this.headerEle),this.headerEle=null):this.isBlazorServerRender()&&!ko(this.element.querySelector(".e-dlg-header-content"))||this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||ko(this.footerTemplate)){if(!this.ftrTemplateContent)return;Qa(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else this.isBlazorServerRender()&&!ko(this.element.querySelector(".e-footer-content"))||this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(gM).length>0?this.showCloseIcon||""!==this.header&&!ko(this.header)?this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():Qa(this.closeIcon):(Qa(this.headerContent),this.headerContent=null):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":$a(this.element,{height:Fo(e.height)}),this.updatePersistData();break;case"width":$a(this.element,{width:Fo(e.width)}),this.updatePersistData();break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(t.cssClass);break;case"buttons":var r=this.buttons.length;ko(this.ftrTemplateContent)||this.isBlazorServerRender()||(Qa(this.ftrTemplateContent),this.ftrTemplateContent=null);for(var s=0;s<r;s++)ko(this.buttons[s].buttonModel)||(this.footerTemplate="",this.setButton());break;case"allowDragging":this.allowDragging&&!ko(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){var o=ko(t.position)||ko(t.position.X)?this.position.X:t.position.X,a=ko(t.position)||ko(t.position.Y)?this.position.Y:t.position.Y;this.dlgContainer.classList.contains("e-dlg-"+o+"-"+a)&&this.dlgContainer.classList.remove("e-dlg-"+o+"-"+a)}this.positionChange(),this.updatePersistData();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize();break;case"minHeight":""!==this.minHeight&&(this.element.style.minHeight=Fo(this.minHeight))}}},t.prototype.setTarget=function(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"===typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()},t.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)ko(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",ko(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for(Ba([this.element],fM),Ba([document.body],[mM,yM]),Qa(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&Oa.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.setzIndex=function(e,t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0;var n=Lu(e);this.zIndex=n>this.zIndex?n:this.zIndex,this.isProtectedOnChange=i,t&&(this.popupObj.zIndex=this.zIndex)},t.prototype.windowResizeHandler=function(){var e;e=this.targetEle.clientWidth,mb=e,function(e){fb=e}(this.targetEle.clientHeight),this.setMaxHeight()},t.prototype.getPersistData=function(){return this.addOnPersist(["width","height","position"])},t.prototype.destroy=function(){if(!this.isDestroyed){var t=[cM,fM,CM,xM,bM,vM],i=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(Ba([this.targetEle],[mM,yM]),!ko(this.element)&&this.element.classList.contains(bM)&&Ba([document.body],[mM,yM]),this.isModal&&Ba([ko(this.targetEle)?document.body:this.targetEle],yM),this.unWireEvents(),!ko(this.btnObj))for(var n=0;n<this.btnObj.length;n++)this.btnObj[n].destroy();if(ko(this.closeIconBtnObj)||this.closeIconBtnObj.destroy(),ko(this.dragObj)||this.dragObj.destroy(),!ko(this.popupObj.element)&&this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),Ba([this.element],t),ko(this.cssClass)||""===this.cssClass||Ba([this.element],this.cssClass.split(" ")),ko(this.refElement)||ko(this.refElement.parentElement)||(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),Qa(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(Qa(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),Qa(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!ko(this.element.children))for(n=0;n<=this.element.children.length;n++)n-=n,Qa(this.element.children[n]);for(n=0;n<i.length;n++)this.element.removeAttribute(i[n]);this.ftrTemplateContent=null,this.headerContent=null,this.contentEle=null,this.isBlazorServerRender()?this.isDestroyed=!0:e.prototype.destroy.call(this),this.isReact&&this.clearTemplate()}},t.prototype.wireWindowResizeEvent=function(){window.addEventListener("resize",this.windowResizeHandler.bind(this))},t.prototype.unWireWindowResizeEvent=function(){window.removeEventListener("resize",this.windowResizeHandler.bind(this))},t.prototype.wireEvents=function(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&Oa.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&Oa.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.unWireEvents=function(){if(this.showCloseIcon&&Oa.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&Oa.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!ko(this.buttons[0].buttonModel)&&""===this.footerTemplate)for(var e=0;e<this.buttons.length;e++)"function"===typeof this.buttons[e].click&&Oa.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)},t.prototype.refreshPosition=function(){this.popupObj.refreshPosition(),this.element.classList.contains(fM)&&this.positionChange()},t.prototype.getDimension=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},t.prototype.show=function(e){var t=this;if(this.element.classList.contains(hM)){if(!this.element.classList.contains(SM)||!ko(e)){ko(e)||this.fullScreen(e);var i=Bo()?{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,maxHeight:this.element.style.maxHeight}:{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",i,(function(e){if(!e.cancel){if(t.element.style.maxHeight!==i.maxHeight&&(t.allowMaxHeight=!1,t.element.style.maxHeight=i.maxHeight),t.storeActiveElement=document.activeElement,t.element.tabIndex=-1,t.isModal&&!ko(t.dlgOverlay))if(t.dlgOverlay.style.display="block",t.dlgContainer.style.display="flex",Ba([t.dlgOverlay],"e-fade"),ko(t.targetEle))Fa([document.body],[mM,yM]);else{if(t.targetEle===document.body?t.dlgContainer.style.position="fixed":t.dlgContainer.style.position="absolute",t.dlgOverlay.style.position="absolute",t.target instanceof Element)"rtl"===window.getComputedStyle(t.target).getPropertyValue("direction")?t.element.style.position="absolute":t.element.style.position="relative";Fa([t.targetEle],[mM,yM])}var n={name:"None"===t.animationSettings.effect&&"Enable"===Tl?"ZoomIn":t.animationSettings.effect+"In",duration:t.animationSettings.duration,delay:t.animationSettings.delay},r=t.isModal?t.element.parentElement:t.element;t.calculatezIndex&&(t.setzIndex(r,!0),$a(t.element,{zIndex:t.zIndex}),t.isModal&&t.setOverlayZindex(t.zIndex)),"None"===t.animationSettings.effect&&"Enable"===Tl?t.popupObj.show(n):"None"===t.animationSettings.effect?t.popupObj.show():t.popupObj.show(n),t.dialogOpen=!0;var s=t.isProtectedOnChange;t.isProtectedOnChange=!0,t.visible=!0,t.preventVisibility=!0,t.isProtectedOnChange=s}}))}this.isReact&&this.renderReactTemplates()}},t.prototype.hide=function(e){var t=this;if(this.element.classList.contains(hM)&&this.preventVisibility){var i=Bo()?{cancel:!1,isInteracted:!!e,element:this.element,container:this.isModal?this.dlgContainer:this.element,event:e}:{cancel:!1,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e,closedBy:this.dlgClosedBy};this.closeArgs=i,this.trigger("beforeClose",i,(function(e){if(!e.cancel){t.isModal&&(ko(t.targetEle)||Ba([t.targetEle],[mM,yM])),document.body.classList.contains(mM)&&document.body.classList.contains(yM)&&Ba([document.body],[mM,yM]);var i={name:"None"===t.animationSettings.effect&&"Enable"===Tl?"ZoomOut":t.animationSettings.effect+"Out",duration:t.animationSettings.duration,delay:t.animationSettings.delay};"None"===t.animationSettings.effect&&"Enable"===Tl?t.popupObj.hide(i):"None"===t.animationSettings.effect?t.popupObj.hide():t.popupObj.hide(i),t.dialogOpen=!1;var n=t.isProtectedOnChange;t.isProtectedOnChange=!0,t.visible=!1,t.preventVisibility=!1,t.isProtectedOnChange=n}t.dlgClosedBy=TM}))}},t.prototype.fullScreen=function(e){this.element.offsetTop,this.element.offsetLeft;if(e){this.element.style.top=document.scrollingElement.scrollTop+"px",Fa([this.element],bM);var t=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=ko(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=t,Fa([document.body],[mM,yM]),this.allowDragging&&!ko(this.dragObj)&&this.dragObj.destroy()}else Ba([this.element],bM),Ba([document.body],[mM,yM]),this.allowDragging&&!ko(this.headerContent)&&this.setAllowDragging();return e},t.prototype.getButtons=function(e){return ko(e)?this.btnObj:this.btnObj[e]},oM([fl("")],t.prototype,"content",void 0),oM([fl(!0)],t.prototype,"enableHtmlSanitizer",void 0),oM([fl(!1)],t.prototype,"enablePersistence",void 0),oM([fl(!1)],t.prototype,"showCloseIcon",void 0),oM([fl(!1)],t.prototype,"isModal",void 0),oM([fl("")],t.prototype,"header",void 0),oM([fl(!0)],t.prototype,"visible",void 0),oM([fl(!1)],t.prototype,"enableResize",void 0),oM([fl(["South-East"])],t.prototype,"resizeHandles",void 0),oM([fl("auto")],t.prototype,"height",void 0),oM([fl("")],t.prototype,"minHeight",void 0),oM([fl("100%")],t.prototype,"width",void 0),oM([fl("")],t.prototype,"cssClass",void 0),oM([fl(1e3)],t.prototype,"zIndex",void 0),oM([fl(null)],t.prototype,"target",void 0),oM([fl("")],t.prototype,"footerTemplate",void 0),oM([fl(!1)],t.prototype,"allowDragging",void 0),oM([ml([{}],aM)],t.prototype,"buttons",void 0),oM([fl(!0)],t.prototype,"closeOnEscape",void 0),oM([gl({},lM)],t.prototype,"animationSettings",void 0),oM([gl({X:"center",Y:"center"},Du)],t.prototype,"position",void 0),oM([yl()],t.prototype,"created",void 0),oM([yl()],t.prototype,"open",void 0),oM([yl()],t.prototype,"beforeSanitizeHtml",void 0),oM([yl()],t.prototype,"beforeOpen",void 0),oM([yl()],t.prototype,"close",void 0),oM([yl()],t.prototype,"beforeClose",void 0),oM([yl()],t.prototype,"dragStart",void 0),oM([yl()],t.prototype,"dragStop",void 0),oM([yl()],t.prototype,"drag",void 0),oM([yl()],t.prototype,"overlayClick",void 0),oM([yl()],t.prototype,"resizeStart",void 0),oM([yl()],t.prototype,"resizing",void 0),oM([yl()],t.prototype,"resizeStop",void 0),oM([yl()],t.prototype,"destroyed",void 0),t=oM([vl],t)}(Xl);!function(e){function t(e,t){var i=new AM(e);return i.appendTo(t),i}function i(e,t){return e.header=ko(t.title)?null:t.title,e.content=ko(t.content)?"":t.content,e.isModal=!!ko(t.isModal)||t.isModal,e.showCloseIcon=!ko(t.showCloseIcon)&&t.showCloseIcon,e.allowDragging=!ko(t.isDraggable)&&t.isDraggable,e.closeOnEscape=!ko(t.closeOnEscape)&&t.closeOnEscape,e.position=ko(t.position)?{X:"center",Y:"top"}:t.position,e.animationSettings=ko(t.animationSettings)?{effect:"Fade",duration:400,delay:0}:t.animationSettings,e.cssClass=ko(t.cssClass)?"":t.cssClass,e.zIndex=ko(t.zIndex)?1e3:t.zIndex,e.open=ko(t.open)?null:t.open,e.width=ko(t.width)?"auto":t.width,e.height=ko(t.height)?"auto":t.height,e}function n(e,t,i){var n=i;return ko(t.text)||(n.buttonModel.content=t.text),ko(t.icon)||(n.buttonModel.iconCss=t.icon),ko(t.cssClass)||(n.buttonModel.cssClass=t.cssClass),ko(t.click)||(n.click=t.click),ko(t.isFlat)||(n.isFlat=t.isFlat),n}e.alert=function(e){var r,s=Ra("div",{className:IM});return document.body.appendChild(s),(r=t("string"===typeof e?{content:e,position:{X:"center",Y:"top"},isModal:!0,header:wM,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function(e){var t={buttons:[]};return t=function(e,t){var i=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];ko(t.okButton)?e.buttons=i:e.buttons[0]=n(e.buttons[0],t.okButton,i[0]);return e}(t=i(t,e),e)}(e),s)).close=function(){e&&e.close&&e.close.apply(r),r.destroy(),r.element.classList.contains("e-dlg-modal")?(r.element.parentElement.remove(),r.target.classList.remove(_M)):r.element.remove()},r},e.confirm=function(e){var r,s=Ra("div",{className:NM});return document.body.appendChild(s),(r=t("string"===typeof e?{position:{X:"center",Y:"top"},content:e,isModal:!0,header:wM,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function(e){var t={buttons:[]};return t=function(e,t){var i={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},r={buttonModel:{content:"Cancel"},click:function(){this.hide()}};ko(t.okButton)?e.buttons[0]=i:e.buttons[0]=n(e.buttons[0],t.okButton,i);ko(t.cancelButton)?e.buttons[1]=r:e.buttons[1]=n(e.buttons[1],t.cancelButton,r);return e}(t=i(t,e),e)}(e),s)).close=function(){e&&e.close&&e.close.apply(r),r.destroy(),r.element.classList.contains("e-dlg-modal")?(r.element.parentElement.remove(),r.target.classList.remove(_M)):r.element.remove()},r}}(rM||(rM={}));var jM=function(){function e(e){this.isExecuteLocal=!1,this.existingPredicate={},this.foreignKeyQuery=new sp,this.filterState=!0,this.values={},this.renderEmpty=!1,this.isCheckboxFilterTemplate=!1,this.parent=e,this.id=this.parent.element.id,this.valueFormatter=new hg(this.parent.locale),this.cBoxTrue=ob(this.parent.createElement,!1,{checked:!0,label:" "}),this.cBoxFalse=ob(this.parent.createElement,!1,{checked:!1,label:" "}),this.cBoxTrue.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxTrue.firstChild),this.cBoxFalse.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxFalse.firstChild),this.cBoxFalse.querySelector(".e-frame").classList.add("e-uncheck"),this.parent.enableRtl&&Fa([this.cBoxTrue,this.cBoxFalse],["e-rtl"]),this.parent.cssClass&&(-1!==this.parent.cssClass.indexOf(" ")?Fa([this.cBoxTrue,this.cBoxFalse],this.parent.cssClass.split(" ")):Fa([this.cBoxTrue,this.cBoxFalse],[this.parent.cssClass]))}return e.prototype.destroy=function(){this.closeDialog()},e.prototype.wireEvents=function(){Oa.add(this.dlg,"click",this.clickHandler,this),Oa.add(this.dlg,"keyup",this.keyupHandler,this),this.searchHandler=Oo(this.searchBoxKeyUp,200);var e=this.dialogObj.element.querySelector(".e-searchinput");e&&Oa.add(e,"keyup",this.searchHandler,this)},e.prototype.unWireEvents=function(){Oa.remove(this.dlg,"click",this.clickHandler),Oa.remove(this.dlg,"keyup",this.keyupHandler);var e=this.dialogObj.element.querySelector(".e-searchinput");e&&Oa.remove(e,"keyup",this.searchHandler)},e.prototype.foreignKeyFilter=function(e,t,i){var n=this,r={},s=[],o=this.foreignKeyQuery.clone();this.options.column.dataSource.executeQuery(o.where(i)).then((function(i){n.options.column.columnData=i.result,n.parent.notify(xm,{predicate:r,column:n.options.column}),e.ejpredicate=r.predicate.predicates;for(var o=r.predicate.predicates,a=0;a<o.length;a++)s.push({field:o[parseInt(a.toString(),10)].field,predicate:"or",matchCase:o[parseInt(a.toString(),10)].ignoreCase,ignoreAccent:o[parseInt(a.toString(),10)].ignoreAccent,operator:o[parseInt(a.toString(),10)].operator,value:o[parseInt(a.toString(),10)].value,type:n.options.type});e.filterCollection=s.length?s:t.filter((function(e){return e.field=n.options.field})),n.options.handler(e)}))},e.prototype.foreignFilter=function(e,t){var i=this.options.isRemote?"string"===this.options.column.type?"contains":"equal":this.options.column.type?"contains":"equal",n=new op(this.options.column.foreignKeyValue,i,t,!0,this.options.ignoreAccent);this.foreignKeyFilter(e,[e.filterCollection],n)},e.prototype.searchBoxClick=function(e){var t=e.target;t.classList.contains("e-searchclear")&&(this.sInput.value=t.classList.contains("e-chkcancel-icon")?"":this.sInput.value,this.isCheckboxFilterTemplate?this.parent.notify("refreshCheckbox",{event:e}):this.refreshCheckboxes(),this.updateSearchIcon(),this.sInput.focus())},e.prototype.searchBoxKeyUp=function(e){ko(this.parent.loadingIndicator)||"Shimmer"!==this.parent.loadingIndicator.indicatorType||this.parent.showMaskRow(void 0,this.dialogObj.element),this.isCheckboxFilterTemplate?this.parent.notify("refreshCheckbox",{event:e}):this.refreshCheckboxes(),this.updateSearchIcon()},e.prototype.updateSearchIcon=function(){this.sInput.value.length?(el(this.sIcon,["e-chkcancel-icon"],["e-search-icon"]),ko(document.body.querySelector(".e-chkcancel-icon"))||document.body.querySelector(".e-chkcancel-icon").setAttribute("title",this.localeObj.getConstant("Clear"))):(el(this.sIcon,["e-search-icon"],["e-chkcancel-icon"]),ko(document.body.querySelector(".e-search-icon"))||document.body.querySelector(".e-searchclear.e-search-icon").setAttribute("title",this.localeObj.getConstant("Search")))},e.prototype.getLocalizedLabel=function(e){return this.localeObj.getConstant(e)},e.prototype.updateDataSource=function(){var e=this.options.dataSource;if(!(e instanceof mp))for(var t=0;t<e.length;t++)if("object"!==typeof e){var i={};i[this.options.field]=e[parseInt(t.toString(),10)],e[parseInt(t.toString(),10)]=i}},e.prototype.updateModel=function(e){this.options=e,this.existingPredicate=e.actualPredicate||{},this.options.dataSource=e.dataSource,this.options.dataManager=e.dataManager?e.dataManager:e.dataSource,this.updateDataSource(),this.options.type=e.type,this.options.format=e.format||"",this.options.ignoreAccent=e.ignoreAccent||!1,this.options.filteredColumns=e.filteredColumns||this.parent.filterSettings.columns,this.options.query=e.query||new sp,this.options.allowCaseSensitive=e.allowCaseSensitive||!1,this.options.uid=e.column.uid,this.options.disableHtmlEncode=e.column.disableHtmlEncode||!1,this.values={},this.localeObj=e.localeObj,this.isFiltered=e.filteredColumns.length},e.prototype.getAndSetChkElem=function(e){if(this.dlg=this.parent.createElement("div",{id:this.id+this.options.type+"_excelDlg",attrs:{uid:this.options.column.uid},className:"e-checkboxfilter e-filter-popup"}),this.sBox=this.parent.createElement("div",{className:"e-searchcontainer"}),!e.hideSearchbox){this.sInput=this.parent.createElement("input",{id:this.id+"_SearchBox",className:"e-searchinput"}),this.sIcon=this.parent.createElement("span",{className:"e-searchclear e-search-icon e-icons e-input-group-icon",attrs:{type:"text",title:this.getLocalizedLabel("Search")}}),this.searchBox=this.parent.createElement("span",{className:"e-searchbox e-fields"}),this.searchBox.appendChild(this.sInput),this.sBox.appendChild(this.searchBox);var t={element:this.sInput,floatLabelType:"Never",properties:{placeholder:this.getLocalizedLabel("Search"),cssClass:this.parent.cssClass}};Ou.createInput(t,this.parent.createElement),this.searchBox.querySelector(".e-input-group").appendChild(this.sIcon)}return this.spinner=this.parent.createElement("div",{className:"e-spinner"}),this.cBox=this.parent.createElement("div",{id:this.id+this.options.type+"_CheckBoxList",className:"e-checkboxlist e-fields"}),this.spinner.appendChild(this.cBox),this.sBox.appendChild(this.spinner),this.sBox},e.prototype.showDialog=function(e){var t={requestType:Fg,columnName:this.options.field,columnType:this.options.type,cancel:!1};if(t.filterModel=this,this.parent.notify(Bm,t),t.cancel)e.cancel=t.cancel;else{this.dialogObj=new AM({visible:!1,content:this.sBox,close:this.closeDialog.bind(this),enableRtl:this.parent.enableRtl,width:!ko(Jy(e.target,"e-bigger"))||this.parent.element.classList.contains("e-device")?260:255,target:this.parent.element,animationSettings:{effect:"None"},buttons:[{click:this.btnClick.bind(this),buttonModel:{content:this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton"),cssClass:this.parent.cssClass?"e-primary "+this.parent.cssClass:"e-primary",isPrimary:!0}},{click:this.btnClick.bind(this),buttonModel:{cssClass:this.parent.cssClass?"e-flat "+this.parent.cssClass:"e-flat",content:this.getLocalizedLabel(this.isExcel?"CancelButton":"ClearButton")}}],created:this.dialogCreated.bind(this),open:this.dialogOpen.bind(this),cssClass:this.parent.cssClass?this.parent.cssClass:""});if(this.dialogObj.isStringTemplate=!0,this.renderResponsiveFilter(e),this.dlg.setAttribute("aria-label",this.getLocalizedLabel("ExcelFilterDialogARIA")),e.isResponsiveFilter)document.querySelector(".e-responsive-dialog > .e-dlg-content > .e-mainfilterdiv").appendChild(this.dlg);else this.parent.element.appendChild(this.dlg);this.dialogObj.appendTo(this.dlg),this.dialogObj.element.style.maxHeight=e.isResponsiveFilter?"none":this.options.height+"px",this.dialogObj.show(),this.dialogObj.element.querySelector(".e-dlg-content").appendChild(this.sBox),this.wireEvents(),ko(this.parent.loadingIndicator)||"Shimmer"!==this.parent.loadingIndicator.indicatorType?(xc({target:this.spinner,cssClass:this.parent.cssClass?this.parent.cssClass:null},this.parent.createElement),Vc(this.spinner)):this.parent.showMaskRow(void 0,this.dialogObj.element),this.getAllData()}},e.prototype.renderResponsiveFilter=function(e){e.isResponsiveFilter&&(this.dialogObj.buttons=[{}],this.dialogObj.position={X:"",Y:""},this.dialogObj.target=document.querySelector(".e-resfilter > .e-dlg-content > .e-mainfilterdiv"),this.dialogObj.width="100%")},e.prototype.dialogCreated=function(e){this.options.isResponsiveFilter?this.dialogObj.element.style.left="0px":La.isDevice?this.dialogObj.position={X:"center",Y:"center"}:bv(this.options.target,this.dialogObj),this.options.column.showColumnMenu&&this.parent.notify(Im,e)},e.prototype.openDialog=function(e){this.updateModel(e),this.getAndSetChkElem(e),this.showDialog(e)},e.prototype.closeDialog=function(){if(this.dialogObj&&!this.dialogObj.isDestroyed){this.isBlanks=!1;var e=this.options.columns.filter((function(e){return e.getFilterItemTemplate()})),t=this.parent.registeredTemplate;e.length&&!ko(t)&&t.filterItemTemplate&&this.parent.destroyTemplate(["filterItemTemplate"]),(this.parent.isReact||this.parent.isVue)&&void 0!==this.parent.destroyTemplate&&ib(this.parent,["filterItemTemplate"]),this.parent.notify(Nm,{field:this.options.field}),this.dialogObj.destroy(),this.unWireEvents(),qa(this.dlg),this.dlg=null,this.parent.notify(Xm,{})}},e.prototype.clearFilter=function(e){var t={instance:this,handler:this.clearFilter,cancel:!1};this.parent.notify(Um,t),t.cancel||this.options.handler({action:"clear-filter",field:e?e.field:this.options.field})},e.prototype.btnClick=function(e){if(this.filterState){if("input"===e.target.tagName.toLowerCase()&&e.target.classList.contains("e-searchinput")||13===e.keyCode)this.isCheckboxFilterTemplate||this.fltrBtnHandler();else{var t=e.target.firstChild.textContent.toLowerCase();this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton").toLowerCase()===t?this.isCheckboxFilterTemplate||this.fltrBtnHandler():this.getLocalizedLabel("ClearButton").toLowerCase()===t&&this.clearFilter()}this.closeDialog()}else"input"!==e.target.tagName.toLowerCase()&&(this.clearFilter(),this.closeDialog());this.options.column.showColumnMenu&&this.parent.notify(ly,{})},e.prototype.fltrBtnHandler=function(){var t,i=this,n=[].slice.call(this.cBox.querySelectorAll(".e-check:not(.e-selectall):not(.e-add-current)")),r=n,s="equal",o=this.dialogObj.element.querySelector(".e-dropdownlist");o&&(this.options.operator=s=o.ej2_instances[0].value),this.isMenuNotEqual="notequal"===this.options.operator,this.options.hideSearchbox||(t=this.searchBox.querySelector(".e-searchinput"));var a,l,h,c=this.options.allowCaseSensitive,u={field:this.options.field,predicate:this.isMenuNotEqual?"and":"or",uid:this.options.uid,operator:s,type:this.options.type,matchCase:c,ignoreAccent:this.options.ignoreAccent},p=this.itemsCnt!==n.length&&this.itemsCnt-n.length<n.length;p&&t&&""===t.value&&(s=this.isMenuNotEqual?"equal":"notequal",n=[].slice.call(this.cBox.querySelectorAll(".e-uncheck:not(.e-selectall)")),u.predicate=this.isMenuNotEqual?"or":"and",u.operator=s);var d=[];if(n.length!==this.itemsCnt||t&&t.value&&""!==t.value){for(var f=0;f<n.length;f++){h=Eo({},{value:a=this.values[Jy(n[parseInt(f.toString(),10)],"e-ftrchk").getAttribute("uid")]},u),a&&!a.toString().length&&(h.operator=p?"notequal":"equal"),""===a||ko(a)?d=d.concat(e.generateNullValuePredicates(u)):d.push(h);var g={instance:this,handler:this.fltrBtnHandler,arg1:h.field,arg2:h.predicate,arg3:h.operator,arg4:h.matchCase,arg5:h.ignoreAccent,arg6:h.value,cancel:!1};if(this.parent.notify(Um,g),g.cancel)return}if("date"!==this.options.type&&"datetime"!==this.options.type||!r.length||(l=r.length-1,ko(this.values[Jy(r[parseInt(l.toString(),10)],"e-ftrchk").getAttribute("uid")])&&p&&d.push({field:u.field,matchCase:u.matchCase,operator:"equal",predicate:"and",value:null})),this.cBox.querySelector(".e-add-current")&&this.cBox.querySelector(".e-add-current").classList.contains("e-check")){var m=this.existingPredicate[this.options.field];if(!m)return;for(var y=function(e){d.some((function(t){return t.value===m[parseInt(e.toString(),10)].value}))||d.push(m[parseInt(e.toString(),10)])},v=0;v<m.length;v++)y(v)}this.initiateFilter(d)}else{var b=this.options.filteredColumns.some((function(e){return i.options.field===e.field}));b&&this.clearFilter()}},e.generateNullValuePredicates=function(e){var t=[];return"string"===e.type&&t.push({field:e.field,ignoreAccent:e.ignoreAccent,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:""}),t.push({field:e.field,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:null}),t.push({field:e.field,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:void 0}),t},e.prototype.initiateFilter=function(e){var t,i=e[0];if(!ko(i)){t=i.ejpredicate?i.ejpredicate:new op(i.field,i.operator,i.value,!i.matchCase,i.ignoreAccent);for(var n=1;n<e.length;n++)t=void 0!==e[parseInt(n.toString(),10)].ejpredicate?t[e[parseInt(n.toString(),10)].predicate](e[parseInt(n.toString(),10)].ejpredicate):t[e[parseInt(n.toString(),10)].predicate](e[parseInt(n.toString(),10)].field,e[parseInt(n.toString(),10)].operator,e[parseInt(n.toString(),10)].value,!e[parseInt(n.toString(),10)].matchCase,e[parseInt(n.toString(),10)].ignoreAccent);var r={action:"filtering",filterCollection:e,field:this.options.field,ejpredicate:op.or(t)};this.options.handler(r)}},e.prototype.isForeignColumn=function(e){return!!e.isForeignColumn&&e.isForeignColumn()},e.prototype.refreshCheckboxes=function(){var t=this,i=this.sInput.value,n=this.options.column,r=this.isForeignColumn(n)?this.foreignKeyQuery.clone():this.options.query.clone(),s=this.options.query.clone(),o=r.queries.filter((function(e){return e&&"onWhere"===e.fn}))[0];r.queries=[],s.queries=[];var a="string"!==this.options.type&&parseFloat(i)?parseFloat(i):i,l=this.options.isRemote?"string"===this.options.type?"contains":"equal":this.options.type?"contains":"equal",h=!0,c=this.options.ignoreAccent,u=this.isForeignColumn(n)?n.foreignKeyValue:n.field;a=""===a||void 0===a?void 0:a;var p,d=[],f={field:u,predicate:"or",uid:this.options.uid,operator:"equal",type:this.options.type,matchCase:h,ignoreAccent:c},g=this.options.dataManager.adaptor.getModuleName;if("boolean"===this.options.type&&(void 0!==a&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(a.toLowerCase())?a="true":void 0!==a&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(a.toLowerCase())&&(a="false"),void 0!==a&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(a.toLowerCase())&&g?(g(),a=!0):void 0!==a&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(a.toLowerCase())&&g&&(g(),a=!1),l="equal"),("date"===this.options.type||"datetime"===this.options.type||"dateonly"===this.options.type)&&this.options.format){var m=new va,y="string"===typeof this.options.format?this.options.format:this.options.format.format;a=y&&m.parseDate(i,{format:y})||new Date(i),"dateonly"===this.options.type&&(a=a.getFullYear()+"-"+Cv(a.getMonth()+1)+"-"+Cv(a.getDate()))}this.addDistinct(r);var v={requestType:"filtersearchbegin",filterModel:this,columnName:u,column:n,operator:l,matchCase:h,ignoreAccent:c,filterChoiceCount:null,query:r,value:a};this.parent.trigger(vg,v,(function(g){if(g.operator=g.operator,p=new op(u,g.operator,v.value,g.matchCase,g.ignoreAccent),"date"===t.options.type||"datetime"===t.options.type||"dateonly"===t.options.type){var m={field:u,operator:l="equal",value:a,matchCase:h,ignoreAccent:c};ko(a)||(p=xv(m,t.options.type))}if(i&&"string"===typeof i&&t.isBlanks&&t.getLocalizedLabel("Blanks").toLowerCase().indexOf(i.toLowerCase())>=0){d=d.concat(e.generateNullValuePredicates(f));var y=e.generatePredicate(d);y.predicates.push(p),r.where(y)}else i.length?(p=ko(o)?p:p.and(o.e),r.where(p)):ko(o)||r.where(o.e);g.filterChoiceCount=ko(g.filterChoiceCount)?1e3:g.filterChoiceCount;var b={};(Vc(t.spinner),t.renderEmpty=!1,t.isForeignColumn(n)&&i.length)?("result"in n.dataSource?new mp(n.dataSource.result):n.dataSource).executeQuery(r).then((function(e){var i=t.options.column.columnData;t.options.column.columnData=e.result,t.parent.notify(xm,{predicate:b,column:n}),b.predicate.predicates.length?s.where(b.predicate):t.renderEmpty=!0,t.options.column.columnData=i,s.take(g.filterChoiceCount),t.search(g,s)})):(r.take(g.filterChoiceCount),t.search(g,r))}))},e.prototype.search=function(e,t){this.parent.dataSource&&"result"in this.parent.dataSource?this.filterEvent(e,t):this.processSearch(t)},e.prototype.getPredicateFromCols=function(t,i){for(var n=e.getPredicate(t,i),r=[],s={},o=void 0!==this.parent.getForeignKeyColumns,a=o?this.parent.getForeignKeyColumns():[],l=0,h=Object.keys(n);l<h.length;l++){var c=h[l],u=void 0;o&&!this.parent.getColumnByField(c)&&(u=Nv(c,a)),u?(this.parent.notify(xm,{predicate:s,column:u}),s.predicate.predicates.length&&r.push(op.or(s.predicate.predicates))):r.push(n[""+c])}return r.length&&op.and(r)},e.prototype.getQuery=function(){return this.parent.getQuery?this.parent.getQuery().clone():new sp},e.prototype.getAllData=function(){var e=this;this.customQuery=!1;var t=this.getQuery();t.requiresCount(),this.addDistinct(t);var i={requestType:Pg,query:t,filterChoiceCount:null};i.filterModel=this,this.parent.trigger(vg,i,(function(i){i.filterChoiceCount=ko(i.filterChoiceCount)?1e3:i.filterChoiceCount,t.take(i.filterChoiceCount),i.query.distincts.length||(e.customQuery=!0,e.queryGenerate(t)),e.parent.dataSource&&"result"in e.parent.dataSource?e.filterEvent(i,t):e.processDataOperation(t,!0)}))},e.prototype.addDistinct=function(e){var t=bp.distinct(this.options.filteredColumns,"field");return t.indexOf(this.options.column.field)<=-1&&(t=t.concat(this.options.column.field)),e.distinct(t),e},e.prototype.filterEvent=function(e,t){var i=this,n=Bv(e,t);this.parent.trigger(Am,n.state),n.deffered.promise.then((function(e){i.dataSuccess(e)}))},e.prototype.processDataOperation=function(e,t){var i=this;this.options.dataSource=this.options.dataSource instanceof mp?this.options.dataSource:new mp(this.options.dataSource);var n=[],r=[];if(this.isForeignColumn(this.options.column)&&t){var s="result"in this.options.column.dataSource?new mp(this.options.column.dataSource.result):this.options.column.dataSource;this.foreignKeyQuery.params=e.params,n.push(s.executeQuery(this.foreignKeyQuery)),r.push((function(e){return i.foreignKeyData=e}))}n.push(this.options.dataSource.executeQuery(e)),r.push(this.dataSuccess.bind(this));var o=0;Promise.all(n).then((function(e){for(var t=0;t<e.length;t++)r[o++](e[parseInt(t.toString(),10)].result)}))},e.prototype.dataSuccess=function(t){this.fullData=t;var i={dataSource:this.fullData,executeQuery:!0,field:this.options.field};if(this.parent.notify("beforeCheckboxRenderer",i),i.executeQuery){var n=new sp;this.customQuery||(this.isExecuteLocal=!0,this.queryGenerate(n),this.isExecuteLocal=!1);var r=new mp(i.dataSource).executeLocal(n),s=this.options.column;this.filteredData=e.getDistinct(r,this.options.field,s,this.foreignKeyData,this).records||[]}var o=i.executeQuery?this.filteredData:i.dataSource;this.processDataSource(null,!0,o,i),this.sInput&&this.sInput.focus();var a={requestType:Rg,columnName:this.options.field,columnType:this.options.type};a.filterModel=this,this.parent.notify(Vm,a),this.isCheckboxFilterTemplate&&Hc(this.spinner)},e.prototype.queryGenerate=function(e){if(this.parent.searchSettings&&this.parent.searchSettings.key.length){var t=this.parent.searchSettings,i=t.fields.length?t.fields:this.options.columns.map((function(e){return e.field}));e.search(t.key,i,t.operator,t.ignoreCase,t.ignoreAccent)}if(this.options.filteredColumns.length){for(var n=[],r=0;r<this.options.filteredColumns.length;r++){var s=this.options.filteredColumns[parseInt(r.toString(),10)];this.options.uid?(s.uid=s.uid||this.parent.getColumnByField(s.field).uid,s.uid!==this.options.uid&&n.push(this.options.filteredColumns[parseInt(r.toString(),10)])):s.field!==this.options.field&&n.push(this.options.filteredColumns[parseInt(r.toString(),10)])}var o=this.getPredicateFromCols(n,this.isExecuteLocal);o&&e.where(o)}},e.prototype.processDataSource=function(e,t,i,n){Vc(this.spinner),this.isExecuteLocal=!0,this.updateResult(),this.isExecuteLocal=!1;var r={dataSource:this.fullData,isCheckboxFilterTemplate:!1,column:this.options.column,element:this.cBox,type:this.options.type,format:this.options.type,btnObj:this.options.isResponsiveFilter?null:this.dialogObj.btnObj[0],searchBox:this.searchBox};this.parent.notify("beforeCheckboxfilterRenderer",r),this.isCheckboxFilterTemplate=r.isCheckboxFilterTemplate,this.isCheckboxFilterTemplate||this.createFilterItems(i,t,n)},e.prototype.processSearch=function(e){this.processDataOperation(e)},e.prototype.updateResult=function(){this.result={};var e=this.getPredicateFromCols(this.options.filteredColumns,this.isExecuteLocal),t=new sp;e&&t.where(e),this.parent.notify("before-checkbox-renderer-query",{query:t});for(var i=0,n=new mp(this.fullData).executeLocal(t);i<n.length;i++){var r=n[i];this.result[Tv(this.options.field,r)]=!0}},e.prototype.clickHandler=function(e){var t=e.target;if(ko(this.parent.loadingIndicator)||"Shimmer"!==this.parent.loadingIndicator.indicatorType||!Jy(t,"e-mask-ftrchk")){var i=Jy(t,"e-checkbox-wrapper");if(Jy(t,"e-searchbox")&&this.searchBoxClick(e),i&&!this.isCheckboxFilterTemplate){var n=i.querySelector(".e-selectall");n?this.updateAllCBoxes(!n.classList.contains("e-check")):function(e){var t=e.querySelector(".e-frame"),i=t.previousSibling;t.classList.contains("e-check")?(i.checked=!1,el(t,["e-uncheck"],["e-check"])):(i.checked=!0,el(t,["e-check"],["e-uncheck"]))}(i.parentElement),this.updateIndeterminatenBtn(),i.querySelector(".e-chk-hidden").focus()}this.setFocus(Jy(i,"e-ftrchk"))}},e.prototype.keyupHandler=function(e){this.setFocus(Jy(e.target,"e-ftrchk"))},e.prototype.setFocus=function(e){var t=this.dlg.querySelector(".e-chkfocus");t&&t.classList.remove("e-chkfocus"),e&&e.classList.add("e-chkfocus")},e.prototype.updateAllCBoxes=function(e){for(var t=0,i=[].slice.call(this.cBox.querySelectorAll(".e-frame:not(.e-add-current)"));t<i.length;t++){var n=i[t];_v(n,e),Sv(n.previousSibling,e)}},e.prototype.dialogOpen=function(){this.parent.element.classList.contains("e-device")&&(this.dialogObj.element.querySelector(".e-input-group").classList.remove("e-input-focus"),this.options.isResponsiveFilter||this.dialogObj.element.querySelector(".e-btn").focus())},e.prototype.createCheckbox=function(e,t,i){var n=t?this.cBoxTrue.cloneNode(!0):this.cBoxFalse.cloneNode(!0);Sv(n.querySelector("input"),t);var r=n.querySelector(".e-label"),s=Ev({},i,{column:this.options.column,parent:this.parent});if(r[""+(this.options.disableHtmlEncode?"textContent":"innerHTML")]=!ko(e)&&e.toString().length?this.parent.enableHtmlSanitizer?$h.sanitize(e):e:this.getLocalizedLabel("Blanks"),r.innerHTML===this.getLocalizedLabel("Blanks")&&(this.isBlanks=!0),"boolean"===typeof e&&(r.innerHTML=!0===e?this.getLocalizedLabel("FilterTrue"):this.getLocalizedLabel("FilterFalse")),Fa([r],["e-checkboxfiltertext"]),this.options.template&&i[this.options.column.field]!==this.getLocalizedLabel("SelectAll")&&i[this.options.column.field]!==this.getLocalizedLabel("AddCurrentSelection")){r.innerHTML="";var o=this.parent.isReact&&this.options.column.filter&&"string"!==typeof this.options.column.filter.itemTemplate,a=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact;o||a?(this.options.template(s,this.parent,"filterItemTemplate",null,null,null,r),this.parent.renderTemplates()):iv(r,this.options.template(s,this.parent,"filterItemTemplate"))}return n},e.prototype.updateIndeterminatenBtn=function(){var e,t=this.cBox.children.length-1,i=[],n=!1,r=this.cBox.querySelector(".e-selectall"),s=this.cBox.querySelectorAll(".e-check:not(.e-selectall):not(.e-add-current)").length;this.cBox.querySelector(".e-add-current")&&(t-=1),this.options.isResponsiveFilter||((e=this.dialogObj.btnObj[0]).disabled=!1);var o=r.previousSibling;Sv(o,!1),o.indeterminate=!1,t===s?(i=["e-check"],Sv(o,!0)):s?(i=["e-stop"],o.indeterminate=!0):(i=["e-uncheck"],n=!0,e&&(e.disabled=!0)),e&&(this.filterState=!e.disabled,e.dataBind()),Ba([r],["e-check","e-stop","e-uncheck"]),Fa([r],i),this.parent.notify(Jm,{disabled:n})},e.prototype.createFilterItems=function(e,t,i){var n,r,s,o=this.parent.createElement("div"),a=!1;this.options.isResponsiveFilter||(s=this.dialogObj.btnObj[0]);var l=-1,h="ejValue";i.executeQuery||(h=i.field);for(var c=0;c<e.length;c++){var u=No(h,e[parseInt(c.toString(),10)]);(""===u||ko(u))&&(l+=1)}if(this.itemsCnt=-1!==l?e.length-l:e.length,e.length&&!this.renderEmpty){var p=this.getLocalizedLabel("SelectAll"),d=this.cBox.querySelector(".e-checkfltrnmdiv");d&&d.classList.remove("e-checkfltrnmdiv");var f=this.createCheckbox(p,!1,((n={})[this.options.field]=p,n));this.parent.cssClass&&(-1!==this.parent.cssClass.indexOf(" ")?Fa([f],this.parent.cssClass.split(" ")):Fa([f],[this.parent.cssClass]));var g=wv(tv("cbox"),f,"e-ftrchk");g.querySelector(".e-frame").classList.add("e-selectall"),o.appendChild(g);var m=new op("field","equal",this.options.field);this.options.foreignKeyValue&&(m=m.or("field","equal",this.options.foreignKeyValue));var y=new mp(this.options.filteredColumns).executeLocal((new sp).where(m)).length;if(this.sInput.value){var v=this.createCheckbox(this.getLocalizedLabel("AddCurrentSelection"),!1,((r={})[this.options.field]=this.getLocalizedLabel("AddCurrentSelection"),r));this.parent.cssClass&&(-1!==this.parent.cssClass.indexOf(" ")?Fa([v],this.parent.cssClass.split(" ")):Fa([v],[this.parent.cssClass]));var b=wv(tv("cbox"),v,"e-ftrchk");b.querySelector(".e-frame").classList.add("e-add-current"),o.appendChild(b)}var M=void 0;for(c=0;c<e.length;c++){var S=tv("cbox");this.values[""+S]=No(h,e[parseInt(c.toString(),10)]);var w=No(this.options.field,e[parseInt(c.toString(),10)]);this.options.formatFn&&(w=this.valueFormatter.toView(w,this.options.formatFn));var _={value:w,column:this.options.column,data:e[parseInt(c.toString(),10)]};if(this.parent.notify("filter-cbox-value",_),""===(w=_.value)||ko(w)){if(M)continue;M=!0}var I=this.createCheckbox(w,this.getCheckedState(y,this.values[""+S]),No("dataObj",e[parseInt(c.toString(),10)]));o.appendChild(wv(S,I,"e-ftrchk"))}this.cBox.innerHTML="",iv(this.cBox,[].slice.call(o.children)),this.updateIndeterminatenBtn(),s&&(s.disabled=!1),a=!1}else o.appendChild(this.parent.createElement("span",{innerHTML:this.getLocalizedLabel("NoResult")})),this.cBox.innerHTML="",this.cBox.appendChild(this.parent.createElement("div",{className:"e-checkfltrnmdiv"})),iv(this.cBox.children[0],[].slice.call(o.children)),s&&(s.disabled=!0),a=!0;s&&e.length&&(this.filterState=!s.disabled,s.dataBind());var N={requestType:Pg,dataSource:this.renderEmpty?[]:e};N.filterModel=this,this.parent.notify(Vm,N),this.parent.notify(Jm,{disabled:a}),Hc(this.spinner)},e.prototype.getCheckedState=function(e,t){if(this.isFiltered&&e){var i=!!this.sInput.value||this.result[""+t];return"notequal"===this.options.operator?!i:i}return!0},e.getDistinct=function(e,t,i,n,r){for(var s,o=e.length,a=[],l={},h=!(!i||!i.isForeignColumn)&&i.isForeignColumn();o--;){var c="string"!==typeof(s=Tv(t,s=e[parseInt(o.toString(),10)]))||ko(r)||ko(r.parent)||ko(r.parent.filterSettings)||ko(r.parent.filterSettings.enableCaseSensitivity)?s:s.toLowerCase();if(!(c in l)){var u={};if(u.ejValue=s,l[""+c]=!0,h){var p=Iv(i,{},s,n)[0];Co(Tm,p,e[parseInt(o.toString(),10)]),s=No(i.foreignKeyValue,p)}Co(t,ko(s)?null:s,u),Co("dataObj",e[parseInt(o.toString(),10)],u),a.push(u)}}return bp.group(bp.sort(a,t,bp.fnAscending),"ejValue")},e.getPredicate=function(t,i){for(var n=bp.distinct(t,"field",!0)||[],r=[],s={},o=0;o<n.length;o++)0!==(r=new mp(t).executeLocal((new sp).where("field","equal",n[parseInt(o.toString(),10)].field))).length&&(s[n[parseInt(o.toString(),10)].field]=e.generatePredicate(r,i));return s},e.generatePredicate=function(t,i){var n,r=t?t.length:0,s=e.updateDateFilter(t[0]);s.ignoreAccent=!ko(s.ignoreAccent)&&s.ignoreAccent,n="date"===s.type||"datetime"===s.type||"dateonly"===s.type?xv(s,s.type,i):s.ejpredicate?s.ejpredicate:new op(s.field,s.operator,s.value,!e.getCaseValue(s),s.ignoreAccent);for(var o=1;o<r;o++)t[parseInt(o.toString(),10)]=e.updateDateFilter(t[parseInt(o.toString(),10)]),r>2&&o>1&&"or"===t[parseInt(o.toString(),10)].predicate?"date"===t[parseInt(o.toString(),10)].type||"datetime"===t[parseInt(o.toString(),10)].type||"dateonly"===t[parseInt(o.toString(),10)].type?n.predicates.push(xv(t[parseInt(o.toString(),10)],t[parseInt(o.toString(),10)].type,i)):n.predicates.push(new op(t[parseInt(o.toString(),10)].field,t[parseInt(o.toString(),10)].operator,t[parseInt(o.toString(),10)].value,!e.getCaseValue(t[parseInt(o.toString(),10)]),t[parseInt(o.toString(),10)].ignoreAccent)):n="date"===t[parseInt(o.toString(),10)].type||"datetime"===t[parseInt(o.toString(),10)].type||"dateonly"===t[parseInt(o.toString(),10)].type?"and"===t[parseInt(o.toString(),10)].predicate&&"equal"===t[parseInt(o.toString(),10)].operator?n.or(xv(t[parseInt(o.toString(),10)],t[parseInt(o.toString(),10)].type,i),t[parseInt(o.toString(),10)].type,t[parseInt(o.toString(),10)].ignoreAccent):n[t[parseInt(o.toString(),10)].predicate](xv(t[parseInt(o.toString(),10)],t[parseInt(o.toString(),10)].type,i),t[parseInt(o.toString(),10)].type,t[parseInt(o.toString(),10)].ignoreAccent):t[parseInt(o.toString(),10)].ejpredicate?n[t[parseInt(o.toString(),10)].predicate](t[parseInt(o.toString(),10)].ejpredicate):n[t[parseInt(o.toString(),10)].predicate](t[parseInt(o.toString(),10)].field,t[parseInt(o.toString(),10)].operator,t[parseInt(o.toString(),10)].value,!e.getCaseValue(t[parseInt(o.toString(),10)]),t[parseInt(o.toString(),10)].ignoreAccent);return n||null},e.getCaseValue=function(e){return ko(e.matchCase)?!("string"===e.type||ko(e.type)&&"string"===typeof e.value):e.matchCase},e.updateDateFilter=function(e){return("date"===e.type||"datetime"===e.type||"dateonly"===e.type||e.value instanceof Date)&&(e.type=e.type||"date"),e},e}(),EM=function(){function e(e,t){this.dataState={isPending:!1,resolver:null,group:[]},this.foreignKeyDataState={isPending:!1,resolver:null},this.parent=e,this.serviceLocator=t,this.initDataManager(),this.parent.isDestroyed||"foreignKey"===this.getModuleName()||(this.parent.on(cm,this.addRows,this),this.parent.on("row-position-changed",this.reorderRows,this),this.parent.on(um,this.removeRows,this),this.parent.on(pm,this.initDataManager,this),this.parent.on(sm,this.destroy,this),this.parent.on(mm,this.crudActions,this),this.parent.on(vm,this.getData,this),this.parent.on(fm,this.refreshFilteredCols,this),this.parent.on(Fm,this.refreshFilteredCols,this))}return e.prototype.reorderRows=function(e){this.dataManager.dataSource.json.splice(e.toIndex,0,this.dataManager.dataSource.json.splice(e.fromIndex,1)[0])},e.prototype.getModuleName=function(){return"data"},e.prototype.initDataManager=function(){var e=this.parent;this.dataManager=e.dataSource instanceof mp?e.dataSource:ko(e.dataSource)?new mp:new mp(e.dataSource),!e.isAngular||e.query instanceof sp?(this.isQueryInvokedFromData=!0,e.query=e.query instanceof sp?e.query:new sp):e.setProperties({query:new sp},!0)},e.prototype.generateQuery=function(e,t){var i=this.parent.getQuery().clone();if("ExcludeHidden"===this.parent.columnQueryMode)i.select(this.parent.getColumns().filter((function(e){return!(!0!==e.isPrimaryKey&&!1===e.visible||void 0===e.field)})).map((function(e){return e.field})));else if("Schema"===this.parent.columnQueryMode){for(var n=[],r=this.parent.columns,s=0;s<r.length;s++)n.push(r[parseInt(s.toString(),10)].field);i.select(n)}return this.filterQuery(i),this.searchQuery(i),this.aggregateQuery(i),this.sortQuery(i),Dv(this.parent)?this.virtualGroupPageQuery(i):this.pageQuery(i,e),!ko(t)&&t||this.groupQuery(i),i},e.prototype.aggregateQuery=function(e){for(var t=this.parent.aggregates,i=0;i<t.length;i++)for(var n=t[parseInt(i.toString(),10)],r=0;r<n.columns.length;r++)for(var s=n.columns[parseInt(r.toString(),10)],o=s.type instanceof Array?s.type:[s.type],a=0;a<o.length;a++)e.aggregate(o[parseInt(a.toString(),10)].toLowerCase(),s.field);return e},e.prototype.virtualGroupPageQuery=function(e){if(e.queries.length)for(var t=0;t<e.queries.length;t++)"onPage"===e.queries[parseInt(t.toString(),10)].fn&&e.queries.splice(t,1);return e},e.prototype.pageQuery=function(e,t){var i=this.parent,n={query:e,skipPage:!1};if(i.notify("set-virtual-page-query",n),n.skipPage)return e;if((i.allowPaging||i.enableVirtualization||i.enableInfiniteScrolling)&&!0!==t){if(i.pageSettings.currentPage=Math.max(1,i.pageSettings.currentPage),i.pageSettings.pageCount<=0&&(i.pageSettings.pageCount=8),i.pageSettings.pageSize<=0&&(i.pageSettings.pageSize=12),e.queries.length)for(var r=0;r<e.queries.length;r++)"onPage"===e.queries[parseInt(r.toString(),10)].fn&&e.queries.splice(r,1);!ko(i.infiniteScrollModule)&&i.enableInfiniteScrolling?this.parent.notify("infinite-page-query",e):e.page(i.pageSettings.currentPage,!(i.allowPaging&&i.pagerModule&&i.pagerModule.pagerObj.isAllPage)||i.isManualRefresh||this.dataManager.dataSource.offline||this.dataManager.adaptor instanceof dp?i.pageSettings.pageSize:null)}return e},e.prototype.groupQuery=function(e){var t=this.parent;if(t.allowGrouping&&t.groupSettings.columns.length){this.parent.groupSettings.enableLazyLoading&&e.lazyLoad.push({key:"isLazyLoad",value:this.parent.groupSettings.enableLazyLoading});for(var i=t.groupSettings.columns,n=0,r=i.length;n<r;n++){var s=this.getColumnByField(i[parseInt(n.toString(),10)]);s||this.parent.log("initial_action",{moduleName:"group",columnName:i[parseInt(n.toString(),10)]});var o=s.enableGroupByFormat,a=s.format;o?e.group(i[parseInt(n.toString(),10)],this.formatGroupColumn.bind(this),a):e.group(i[parseInt(n.toString(),10)],null)}}return e},e.prototype.sortQuery=function(e){var t=this.parent;if((t.allowSorting||t.allowGrouping)&&t.sortSettings.columns.length){for(var i=t.sortSettings.columns,n=[],r=i.length-1;r>-1;r--){if(!(a=this.getColumnByField(i[parseInt(r.toString(),10)].field)))return this.parent.log("initial_action",{moduleName:"sort",columnName:i[parseInt(r.toString(),10)].field}),e;a.setSortDirection(i[parseInt(r.toString(),10)].direction);var s=i[parseInt(r.toString(),10)].direction;a.sortComparer&&(this.parent.log("grid_sort_comparer"),s=this.isRemote()?i[parseInt(r.toString(),10)].direction:a.sortComparer.bind(a)),-1===t.groupSettings.columns.indexOf(i[parseInt(r.toString(),10)].field)?a.isForeignColumn()||a.sortComparer?e.sortByForeignKey(a.field,s,void 0,i[parseInt(r.toString(),10)].direction.toLowerCase()):e.sortBy(a.field,s):n.push({direction:s,field:a.field})}r=0;for(var o=n.length;r<o;r++)if("string"===typeof n[parseInt(r.toString(),10)].direction)e.sortBy(n[parseInt(r.toString(),10)].field,n[parseInt(r.toString(),10)].direction);else{var a=this.getColumnByField(n[parseInt(r.toString(),10)].field);e.sortByForeignKey(n[parseInt(r.toString(),10)].field,n[parseInt(r.toString(),10)].direction,void 0,a.getSortDirection().toLowerCase())}}return e},e.prototype.searchQuery=function(e,t,i){var n=this.parent.searchSettings,r=n.fields.length?n.fields:this.getSearchColumnFieldNames(),s=[],o=!1;if(this.parent.searchSettings.key.length){o=this.parent.getForeignKeyColumns().some((function(e){return r.indexOf(e.field)>-1}));var a=i?t.dataSource.adaptor:this.dataManager.adaptor;if(o||a.getModuleName&&"ODataV4Adaptor"===a.getModuleName()){r=i?[t.foreignKeyValue]:r;for(var l=0;l<r.length;l++){var h=i?t:this.getColumnByField(r[parseInt(l.toString(),10)]);h.isForeignColumn()&&!i?s=this.fGeneratePredicate(h,s):s.push(new op(r[parseInt(l.toString(),10)],n.operator,n.key,n.ignoreCase,n.ignoreAccent))}var c=op.or(s);c.key=n.key,e.where(c)}else e.search(n.key,r,n.operator,n.ignoreCase,n.ignoreAccent)}return e},e.prototype.filterQuery=function(e,t,i){var n,r=this.parent,s=[],o=[],a=this.parent.getForeignKeyColumns();if(r.allowFiltering&&r.filterSettings.columns.length){for(var l=t||r.filterSettings.columns,h={},c=0,u=r.getColumns();c<u.length;c++){h[(N=u[c]).field]=N.filter.type?N.filter.type:r.filterSettings.type}for(var p=[],d=[],f=0,g=l;f<g.length;f++){var m=(N=g[f]).isForeignKey?r.getColumnByUid(N.uid):r.getColumnByField(N.field);ko(N.type)&&m&&("date"===m.type||"datetime"===m.type||"dateonly"===m.type)&&(N.type=N.isForeignKey?r.getColumnByUid(N.uid).type:r.getColumnByField(N.field).type),N.isForeignKey?p.push(N):d.push(N)}if(d.length){for(var y=0,v=d.length;y<v;y++)d[parseInt(y.toString(),10)].uid=d[parseInt(y.toString(),10)].uid||this.parent.grabColumnByFieldFromAllCols(d[parseInt(y.toString(),10)].field,d[parseInt(y.toString(),10)].isForeignKey).uid;for(var b=jM.getPredicate(d),M=0,S=Object.keys(b);M<S.length;M++){var w=S[M];s.push(b[""+w])}}if(p.length)for(var _=0,I=p;_<I.length;_++){var N;(N=I[_]).uid=N.uid||this.parent.grabColumnByFieldFromAllCols(N.field,N.isForeignKey).uid;var C=this.parent.grabColumnByUidFromAllCols(N.uid);if(C||this.parent.log("initial_action",{moduleName:"filter",columnName:N.field}),C.isForeignColumn()&&Nv(N.field,a)&&!i)o.push(N),C.columnData.length||(n=!0),s=this.fGeneratePredicate(C,s);else{b=jM.getPredicate(l);for(var x=0,D=Object.keys(b);x<D.length;x++){w=D[x];s.push(b[""+w])}}}s.length&&!n?e.where(op.and(s)):this.parent.notify(Dm,{})}return e},e.prototype.fGeneratePredicate=function(e,t){var i={};return e&&(this.parent.notify(xm,{predicate:i,column:e}),i.predicate.predicates.length&&t.push(i.predicate)),t},e.prototype.getData=function(e,t){var i=this;void 0===e&&(e={requestType:""});var n=this.getKey(e.foreignKeyData&&Object.keys(e.foreignKeyData).length?e.foreignKeyData:this.parent.getPrimaryKeyFieldNames());if(this.parent.log("datasource_syntax_mismatch",{dataState:this.parent}),this.parent.dataSource&&"result"in this.parent.dataSource)return this.eventPromise(e,t,n).promise;var r=void 0;switch(e.requestType){case"delete":if(t=t||this.generateQuery(),1===Object.keys(e.data).length)r=this.dataManager.remove(n,e.data[0],t.fromTable,t);else{var s={addedRecords:[],deletedRecords:[],changedRecords:[]};s.deletedRecords=e.data,r=this.dataManager.saveChanges(s,n,t.fromTable,t.requiresCount())}break;case"save":t=t||this.generateQuery(),e.index=ko(e.index)?0:e.index,r=this.dataManager.insert(e.data,t.fromTable,t,e.index)}return e.promise=r,!r||Array.isArray(r)||r.hasOwnProperty("deletedRecords")?this.insert(t,e):r.then((function(){return i.insert(t,e)}))},e.prototype.insert=function(e,t){return"save"===t.requestType&&this.parent.notify(zm,t),this.executeQuery(e)},e.prototype.executeQuery=function(e){var t=this;if(this.dataManager.ready){var i=new yp;return this.dataManager.ready.then((function(){t.dataManager.executeQuery(e).then((function(e){i.resolve(e)}))})).catch((function(e){i.reject(e)})),i.promise}return this.dataManager.executeQuery(e)},e.prototype.formatGroupColumn=function(e,t){var i=this.serviceLocator,n=this.getColumnByField(t),r=e;return n.type||(n.type=r.getDay?r.getHours()>0||r.getMinutes()>0||r.getSeconds()>0||r.getMilliseconds()>0?"datetime":"date":typeof e),ko(n.getFormatter())&&yv(i,n),hg.prototype.toView(e,n.getFormatter())},e.prototype.crudActions=function(e){var t=this.generateQuery(),i=null,n="promise",r=this.getKey(e.foreignKeyData&&Object.keys(e.foreignKeyData).length?e.foreignKeyData:this.parent.getPrimaryKeyFieldNames());if(this.parent.dataSource&&"result"in this.parent.dataSource&&this.eventPromise(e,t,r),"save"===e.requestType)i=this.dataManager.update(r,e.data,t.fromTable,t,e.previousData);e[""+n]=i||e[""+n],this.parent.notify("crud-Action",e)},e.prototype.saveChanges=function(e,t,i,n){if(void 0===n&&(n=this.generateQuery()),n.requiresCount(),"result"in this.parent.dataSource){var r=new yp,s={requestType:"batchsave",changes:e,key:t,query:n,endEdit:r.resolve};return this.setState({isPending:!0,resolver:r.resolve}),this.parent.trigger(jm,s),r.promise}return this.dataManager.saveChanges(e,t,n.fromTable,n,i)},e.prototype.getKey=function(e){if(e&&e.length)return e[0]},e.prototype.isRemote=function(){return!0!==this.dataManager.dataSource.offline&&void 0!==this.dataManager.dataSource.url&&""!==this.dataManager.dataSource.url},e.prototype.addRows=function(e){for(var t=e.records.length;t>0;t--)this.parent.dataSource instanceof mp&&this.dataManager.dataSource.offline?this.dataManager.dataSource.json.splice(e.toIndex,0,e.records[t-1]):this.parent.getDataModule().isRemote()||ko(this.parent.dataSource)||this.parent.dataSource.result||this.parent.dataSource.splice(e.toIndex,0,e.records[t-1])},e.prototype.removeRows=function(e){var t=this.dataManager.dataSource.json;this.parent.dataSource instanceof mp&&this.dataManager.dataSource.offline?this.dataManager.dataSource.json=t.filter((function(t){return-1===e.records.indexOf(t)})):this.parent.getDataModule().isRemote()||ko(this.parent.dataSource)||this.parent.dataSource.result||(this.parent.dataSource=t.filter((function(t){return-1===e.records.indexOf(t)})))},e.prototype.getColumnByField=function(e){var t;return this.parent.columnModel.some((function(i){return t=i,i.field===e}))&&t},e.prototype.destroy=function(){this.parent.isDestroyed||(this.parent.off(cm,this.addRows),this.parent.off(um,this.removeRows),this.parent.off(pm,this.initDataManager),this.parent.off(sm,this.destroy),this.parent.off(mm,this.crudActions),this.parent.off(vm,this.getData),this.parent.off(fm,this.refreshFilteredCols),this.parent.off(Fm,this.refreshFilteredCols))},e.prototype.getState=function(){return this.dataState},e.prototype.setState=function(e){return this.dataState=e},e.prototype.getForeignKeyDataState=function(){return this.foreignKeyDataState},e.prototype.setForeignKeyDataState=function(e){this.foreignKeyDataState=e},e.prototype.getStateEventArgument=function(e){var t=new up,i=new mp({url:"",adaptor:new up}),n=t.processQuery(i,e);return Eo(JSON.parse(n.data),n.pvtData)},e.prototype.eventPromise=function(e,t,i){var n=this,r=e,s=this.getStateEventArgument(t),o=new yp,a=new yp;if((void 0!==e.requestType||this.parent.groupSettings.disablePageWiseAggregates&&t.queries.some((function(e){return"onGroup"===e.fn})))&&!1!==this.dataState.isDataChanged)if(s.action=e,"save"===e.requestType||"delete"===e.requestType){var l=e;l.key=i;l.promise=a.promise,l.state=s,this.setState({isPending:!0,resolver:a.resolve}),r.endEdit=a.resolve,r.cancelEdit=a.reject,this.parent.trigger(jm,l),a.promise.then((function(){n.setState({isPending:!0,resolver:o.resolve,group:s.group,aggregates:s.aggregates}),"save"===l.requestType&&n.parent.notify(zm,l),n.parent.trigger(Am,s)})).catch((function(){}))}else this.setState({isPending:!0,resolver:o.resolve,group:s.group,aggregates:s.aggregates}),this.parent.trigger(Am,s);else this.setState({}),o.resolve(this.parent.dataSource);return o},e.prototype.getSearchColumnFieldNames=function(){for(var e=[],t=0,i=this.parent.getColumns();t<i.length;t++){var n=i[t];n.allowSearching&&!ko(n.field)&&e.push(n.field)}return e},e.prototype.refreshFilteredCols=function(){this.parent.allowFiltering&&this.parent.filterSettings.columns.length&&function(e,t){for(var i=0;i<t.length;i++)t[parseInt(i.toString(),10)].uid=t[parseInt(i.toString(),10)].isForeignKey?Nv(t[parseInt(i.toString(),10)].field,e.getForeignKeyColumns()).uid:e.enableColumnVirtualization?$v(e,t[parseInt(i.toString(),10)].field).uid:e.getColumnByField(t[parseInt(i.toString(),10)].field).uid}(this.parent,this.parent.filterSettings.columns)},e}(),kM=function(){function e(e,t){jo(this,e),this.parent=t}return e.prototype.clone=function(){var t=new e({});return jo(t,this),t.cells=this.cells.map((function(e){return e.clone()})),t},e.prototype.setRowValue=function(e){if(this.parent){var t=this.data[this.parent.getPrimaryKeyFieldNames()[0]];this.parent.setRowData(t,e)}},e.prototype.setCellValue=function(e,t){if(this.parent&&!(this.data[""+e].toString()===t.toString())){var i=this.parent.getPrimaryKeyFieldNames()[0],n=this.data[""+i];this.parent.setCellValue(n,e,t),this.makechanges(i,this.data)}},e.prototype.makechanges=function(e,t){this.parent&&this.parent.getDataModule().dataManager.update(e,t)},e}(),zM=function(){function e(e){this.isSpanned=!1,this.isRowSpanned=!1,jo(this,e)}return e.prototype.clone=function(){var t=new e({});return jo(t,this),t},e}(),LM=function(){function e(e,t){this.serviceLocator=e,this.parent=t}return e.prototype.render=function(e,t,i,n){var r,s=this.serviceLocator.getService("cellRendererFactory").getCellRenderer(t.cells[parseInt(i.toString(),10)].cellType||ov.Data),o=t.cells[parseInt(i.toString(),10)].cellSpan?t.cells[parseInt(i.toString(),10)].cellSpan:e.colSpan+i<=t.cells.length?e.colSpan:t.cells.length-i,a=e.rowSpan,l=0;if(t.index>0){var h=this.parent.getRowsObject(),c=this.parent.groupSettings.columns.length>0&&!h[t.index-1].isDataRow?h[t.index].cells:h[t.index-1].cells,u=t.cells[parseInt(i.toString(),10)];r=c.filter((function(e){return e.column.uid===u.column.uid}))[0]}for(var p=r&&r.colSpanRange>1&&r.rowSpanRange>1?r.colSpanRange:o,d=i+1;d<i+p&&d<t.cells.length;d++)!1===t.cells[parseInt(d.toString(),10)].visible?l++:t.cells[parseInt(d.toString(),10)].isSpanned=!0;if(l>0){for(d=i+o;d<i+o+l&&d<t.cells.length;d++)t.cells[parseInt(d.toString(),10)].isSpanned=!0;i+o+l>=t.cells.length&&(o-=i+o+l-t.cells.length)}return t.cells[parseInt(i.toString(),10)].cellSpan&&(t.data[e.column.field]=t.cells[parseInt(i.toString(),10)].spanText,n=s.render(t.cells[parseInt(i.toString(),10)],t.data,{index:ko(t.index)?"":t.index.toString()})),o>1&&Ga(n,{colSpan:o.toString(),"aria-colSpan":o.toString()}),a>1&&(Ga(n,{rowspan:a.toString(),"aria-rowspan":a.toString()}),t.cells[parseInt(i.toString(),10)].isRowSpanned=!0,t.cells[parseInt(i.toString(),10)].rowSpanRange=Number(a),o>1&&(t.cells[parseInt(i.toString(),10)].colSpanRange=Number(o))),t.index>0&&r.rowSpanRange>1&&(t.cells[parseInt(i.toString(),10)].isSpanned=!0,t.cells[parseInt(i.toString(),10)].rowSpanRange=Number(r.rowSpanRange-1),t.cells[parseInt(i.toString(),10)].colSpanRange=r.rowSpanRange>0?r.colSpanRange:1),!this.parent.enableColumnVirtualization||t.cells[parseInt(i.toString(),10)].cellSpan||this.containsKey(e.column.field,e.data[e.column.field])||this.backupMergeCells(e.column.field,e.data[e.column.field],e.colSpan),n},e.prototype.backupMergeCells=function(e,t,i){this.setMergeCells(this.generteKey(e,t),i)},e.prototype.generteKey=function(e,t){return e+"__"+t.toString()},e.prototype.splitKey=function(e){return e.split("__")},e.prototype.containsKey=function(e,t){return this.getMergeCells().hasOwnProperty(this.generteKey(e,t))},e.prototype.getMergeCells=function(){return this.parent.mergeCells},e.prototype.setMergeCells=function(e,t){this.parent.mergeCells[""+e]=t},e.prototype.updateVirtualCells=function(e){for(var t=this.getMergeCells(),i=0,n=Object.keys(t);i<n.length;i++){var r=n[i],s=t[""+r],o=this.splitKey(r),a=this.getIndexFromAllColumns(o[0]),l=this.parent.getColumnIndexesInView(),h=s-(l[0]-a);if(a<l[0]&&h>1)for(var c=0,u=e;c<u.length;c++){var p=u[c];if(p.data[o[0]].toString()===o[1].toString()){p.cells[0].cellSpan=h,p.cells[0].spanText=o[1];break}}}return e},e.prototype.getIndexFromAllColumns=function(e){return Uy(this.parent.getVisibleColumns(),(function(t,i){if(t.field===e)return i}))[0]},e}(),OM=function(){function e(e,t,i){this.isSpan=!1,this.cellType=t,this.serviceLocator=e,this.parent=i,this.element=this.parent.createElement("tr")}return e.prototype.render=function(e,t,i,n,r){return this.refreshRow(e,t,i,n,r)},e.prototype.refresh=function(e,t,i,n,r){var s=this;i&&(e.data=Ev({},e.changes),this.refreshMergeCells(e));var o=this.parent.element.querySelector("[data-uid="+e.uid+"]"),a=this.refreshRow(e,t,n,r,null,i),l=[].slice.call(a.cells),h=[].slice.call(o.querySelectorAll(".e-templatecell"));if(this.parent.isReact&&h.length)for(var c=function(e){if(e.template)return setTimeout((function(){s.parent.refreshReactColumnTemplateByUid(e.uid,!0)}),0),"break"},u=0,p=t;u<p.length;u++){if("break"===c(p[u]))break}[].slice.call(a.attributes).map((function(e){o.setAttribute(e.name,e.value)})),o.innerHTML="";for(var d=0,f=l;d<f.length;d++){var g=f[d];o.appendChild(g)}},e.prototype.refreshRow=function(e,t,i,n,r,s){var o=ko(r)?this.element.cloneNode():r,a={data:e.data},l={data:e.data},h=this.parent.getColumns().filter((function(e){return"checkbox"===e.type&&e.field}))[0],c=!1;h&&(c=Tv(h.field,a.data));var u=this.parent.getSelectedRowIndexes();e.isDataRow&&(e.isSelected=u.indexOf(e.index)>-1||c),e.isDataRow&&this.parent.isCheckBoxSelection&&"Check"===this.parent.checkAllRows&&this.parent.enableVirtualization&&(e.isSelected=!0,-1===u.indexOf(e.index)&&u.push(e.index)),this.buildAttributeFromRow(o,e),Ga(o,Eo({},i,{})),Yy(o,e.attributes);for(var p=this.serviceLocator.getService("cellRendererFactory"),d=function(t,i){var n=e.cells[parseInt(t.toString(),10)];n.isSelected=e.isSelected,n.isColumnSelected=n.column.isSelected;var r=p.getCellRenderer(e.cells[parseInt(t.toString(),10)].cellType||ov.Data),a={index:ko(e.index)?"":e.index.toString()};e.isExpand&&e.cells[parseInt(t.toString(),10)].cellType===ov.DetailExpand&&(a.class=f.parent.isPrinting?"e-detailrowcollapse":"e-detailrowexpand");var h=r.render(e.cells[parseInt(t.toString(),10)],e.data,a,e.isExpand,s);if(e.cells[parseInt(t.toString(),10)].cellType!==ov.Filter){if(e.cells[parseInt(t.toString(),10)].cellType===ov.Data||e.cells[parseInt(t.toString(),10)].cellType===ov.CommandColumn){var c=f.parent.parentDetails&&f.parent.parentDetails.parentInstObj&&f.parent.parentDetails.parentInstObj.isReact;if((f.parent.isReact&&f.parent.requireTemplateRef||c&&f.parent.parentDetails.parentInstObj.requireTemplateRef)&&n.isTemplate){var u=f;u.parent.renderTemplates((function(){if("string"!==typeof n.column.template){var i=h.getAttribute("aria-label");h.setAttribute("aria-label",h.innerText+i)}u.parent.trigger(mg,Eo(l,{cell:h,column:n.column,colSpan:1,rowSpan:1,foreignKeyData:e.cells[parseInt(t.toString(),10)].foreignKeyData,requestType:u.parent.requestTypeAction}))}))}else f.parent.trigger(mg,Eo(l,{cell:h,column:n.column,colSpan:1,rowSpan:1,foreignKeyData:e.cells[parseInt(t.toString(),10)].foreignKeyData,requestType:f.parent.requestTypeAction}));var d=!1;if(e.index>0&&f.isSpan){var g=f.parent.getRowsObject(),m=f.parent.groupSettings.columns.length>0&&!g[e.index-1].isDataRow?g[e.index].cells:g[e.index-1].cells,y=m.filter((function(i){return i.column.uid===e.cells[parseInt(t.toString(),10)].column.uid}))[0];d=y.isRowSpanned?y.isRowSpanned:y.rowSpanRange>1}if(l.colSpan>1||e.cells[parseInt(t.toString(),10)].cellSpan>1||l.rowSpan>1||d){f.isSpan=!0;var v=new LM(f.serviceLocator,f.parent);h=v.render(l,e,t,h)}}e.cells[parseInt(t.toString(),10)].isSpanned||o.appendChild(h)}},f=this,g=0,m=e.cells.length;g<m;g++)d(g);var y=0;if(this.parent.groupSettings.columns.length&&this.parent.getFrozenLeftColumnsCount()){if(o.classList.contains("e-groupcaptionrow")){var v=[].slice.call(o.querySelectorAll(".e-leftfreeze,.e-unfreeze,.e-rightfreeze,.e-fixedfreeze,.e-freezerightborder,.e-freezeleftborder"));if(v.length&&Ba(v,["e-leftfreeze","e-unfreeze","e-rightfreeze","e-fixedfreeze","e-freezerightborder","e-freezeleftborder"]),o.querySelector(".e-summarycell"))!function(e,t){for(var i=0,n=0;n<e.childNodes.length;n++){var r=e.childNodes[parseInt(n.toString(),10)];if(r.classList.add("e-leftfreeze"),qv(r,i,t.enableRtl,"Left"),(r.classList.contains("e-indentcell")||r.classList.contains("e-recordplusexpand")||r.classList.contains("e-recordpluscollapse"))&&(i+=30),r.classList.contains("e-groupcaption")){var s=parseInt(r.getAttribute("colspan"),10);t.isRowDragable()&&(s--,i+=30),s-=t.groupSettings.columns.length-n,i+=30*(t.groupSettings.columns.length-n);for(var o=t.getColumns(),a=0;a<o.length;a++){if(parseInt(r.getAttribute("colspan"),10)>1&&parseInt(o[parseInt(a.toString(),10)].width.toString(),10)+i>parseInt(t.width.toString(),10)-Rv(t)){var l=Fv(t,n);r.setAttribute("colspan",l.toString());break}if(o[parseInt(a.toString(),10)].visible&&(i+=parseInt(o[parseInt(a.toString(),10)].width.toString(),10),s--),0===s)break}}if(r.classList.contains("e-summarycell")){var h=r.getAttribute("e-mappinguid"),c=t.getColumnByUid(h);i+=parseInt(c.width.toString(),10)}}}(o,this.parent);else{for(var b=0;b<o.childNodes.length;b++){if((w=o.childNodes[parseInt(b.toString(),10)]).classList.add("e-leftfreeze"),qv(w,30*b,this.parent.enableRtl,"Left"),w.classList.contains("e-groupcaption")){var M=parseInt(w.getAttribute("colspan"),10),S=Fv(this.parent,b);w.setAttribute("colspan",S.toString()),y=M-S}}if(y){var w=this.parent.createElement("TD",{className:"e-groupcaption",attrs:{colspan:y.toString(),id:this.parent.element.id+"captioncell",tabindex:"-1"}});o.appendChild(w)}}}if(o.querySelectorAll(".e-leftfreeze").length&&(o.querySelectorAll(".e-indentcell").length||o.querySelectorAll(".e-grouptopleftcell").length))for(w=o.querySelectorAll(".e-indentcell, .e-grouptopleftcell"),g=0;g<w.length;g++)w[parseInt(g.toString(),10)].classList.add("e-leftfreeze"),qv(w[parseInt(g.toString(),10)],30*g,this.parent.enableRtl,"Left")}var _={row:o,rowHeight:this.parent.rowHeight};if(e.isDataRow){var I=Eo(a,_);I.isSelectable=!0;var N=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,C=I.row.querySelectorAll(".e-templatecell");if((this.parent.isReact&&this.parent.requireTemplateRef||N&&this.parent.parentDetails.parentInstObj.requireTemplateRef)&&C.length){var x=this;x.parent.renderTemplates((function(){x.parent.trigger(gg,I)}))}else this.parent.trigger(gg,I);e.isSelectable=I.isSelectable;var D=this.parent.isRowDragable();if(this.parent.allowPaging&&this.parent.selectionSettings.persistSelection){var T=this.parent.getPrimaryKeyFieldNames()[0],A=e.data?e.data[""+T]:null,j=I.isSelectable?this.parent.partialSelectedRecords:this.parent.disableSelectedRecords;j.some((function(e){return e[""+T]===A}))||j.push(e.data)}if(!I.isSelectable){this.parent.selectionModule.isPartialSelection=!0,e.isSelected=!1;var E=_.row.querySelectorAll(".e-rowcell.e-gridchkbox"),k=I.row.querySelector(".e-rowdragdrop"),z=this.parent.groupSettings.columns.length+(k||this.parent.isDetail()?1:0);for(g=0;g<E.length;g++)E[parseInt(g.toString(),10)].firstElementChild.classList.add("e-checkbox-disabled"),E[parseInt(g.toString(),10)].querySelector(".e-frame").classList.remove("e-check");if(e.cells.length)for(g=z;g<e.cells.length;g++){var L=I.row.querySelector('.e-rowcell[data-colindex="'+e.cells[parseInt(g.toString(),10)].index+'"]');L&&Ba([L],["e-selectionbackground","e-active"])}k&&Ba([k],["e-selectionbackground","e-active"])}if(this.parent.childGrid||D||this.parent.detailTemplate)(w=o.querySelectorAll(".e-rowcell:not(.e-hide)")[0])&&w.classList.add("e-detailrowvisible")}if(this.parent.enableVirtualization&&(a.rowHeight=this.parent.rowHeight),a.rowHeight?o.style.height=a.rowHeight+"px":this.parent.rowHeight&&(o.querySelector(".e-headercell")||o.querySelector(".e-groupcaption"))&&(o.style.height=this.parent.rowHeight+"px"),e.cssClass&&o.classList.add(e.cssClass),e.lazyLoadCssClass&&o.classList.add(e.lazyLoadCssClass),"Vertical"!==this.parent.rowRenderingMode||!this.parent.allowTextWrap||"Header"!==this.parent.textWrapSettings.wrapMode&&"Both"!==this.parent.textWrapSettings.wrapMode||o.classList.add("e-verticalwrap"),!this.parent.enableColumnVirtualization&&this.parent.aggregates.length&&this.parent.element.scrollHeight>this.parent.height)for(g=0;g<this.parent.aggregates.length;g++){if(this.parent.aggregates[parseInt(g.toString(),10)].properties.columns[0].footerTemplate){var O=[].slice.call(o.getElementsByClassName("e-summarycell"));if(O.length)Fa([O[O.length-1]],["e-lastsummarycell"]),Fa([O[0]],["e-firstsummarycell"])}}return o},e.prototype.refreshMergeCells=function(e){for(var t=0,i=e.cells;t<i.length;t++){i[t].isSpanned=!1}return e},e.prototype.buildAttributeFromRow=function(e,t){var i={},n=Ty,r="data-uid",s="aria-selected",o=[];t.isDataRow&&o.push(My),t.isAltRow&&o.push("e-altrow"),t.isCaptionRow&&o.push("e-groupcaptionrow"),t.isAggregateRow&&t.parentUid&&o.push("e-groupfooterrow"),ko(t.index)||(i[Ay]=t.index+1,i[n]=t.index),t.rowSpan&&(i.rowSpan=t.rowSpan),t.uid&&(i[r]=t.uid),t.isSelected&&(i[s]=!0),!1===t.visible&&o.push("e-hide"),i.class=o,Yy(e,i)},e}(),PM=function(){function e(e){this.parent=e}return e.prototype.generateRows=function(e,t){var i=[],n=this.parent.enableVirtualization&&t?t.startIndex:0;n=this.parent.enableInfiniteScrolling&&t?this.getInfiniteIndex(t):n,this.parent.enableImmutableMode&&t&&t.startIndex&&(n=t.startIndex);for(var r=0,s=Object.keys(e).length;r<s;r++,n++)i[parseInt(r.toString(),10)]=this.generateRow(e[parseInt(r.toString(),10)],n);return i},e.prototype.ensureColumns=function(){var e=[];if(this.parent.detailTemplate||this.parent.childGrid){var t={};this.parent.notify(Wm,t),e.push(this.generateCell(t,null,ov.DetailExpand))}return this.parent.isRowDragable()&&e.push(this.generateCell({},null,ov.RowDragIcon)),e},e.prototype.generateRow=function(e,t,i,n,r,s,o){var a={foreignKeyData:{}};a.uid=tv("grid-row"),a.data=e,a.index=t,a.indent=n,a.tIndex=s,a.isDataRow=!0,a.parentGid=r,a.parentUid=o,this.parent.isPrinting&&("All"===this.parent.hierarchyPrintMode?a.isExpand=!0:"Expanded"===this.parent.hierarchyPrintMode&&this.parent.expandedRows&&this.parent.expandedRows[parseInt(t.toString(),10)]&&(a.isExpand=this.parent.expandedRows[parseInt(t.toString(),10)].isExpand)),a.cssClass=i,a.isAltRow=!!this.parent.enableAltRow&&t%2!==0,a.isAltRow=!!this.parent.enableAltRow&&t%2!==0,a.isSelected=this.parent.getSelectedRowIndexes().indexOf(t)>-1,this.refreshForeignKeyRow(a);var l=this.ensureColumns(),h=new kM(a,this.parent);return h.cells="Right"===this.parent.getFrozenMode()?this.generateCells(a).concat(l):l.concat(this.generateCells(a)),h},e.prototype.refreshForeignKeyRow=function(e){for(var t=this.parent.getForeignKeyColumns(),i=0;i<t.length;i++)Co(t[parseInt(i.toString(),10)].field,Iv(t[parseInt(i.toString(),10)],e.data),e.foreignKeyData)},e.prototype.generateCells=function(e){for(var t=this.parent.getColumns(),i=[],n=0;n<t.length;n++)i.push(this.generateCell(t[parseInt(n.toString(),10)],e.uid,ko(t[parseInt(n.toString(),10)].commands)?void 0:ov.CommandColumn,null,n,e.foreignKeyData));return i},e.prototype.generateCell=function(e,t,i,n,r,s){var o={visible:e.visible,isDataCell:!ko(e.field||e.template),isTemplate:!ko(e.template),rowID:t,column:e,cellType:ko(i)?ov.Data:i,colSpan:n,commands:e.commands,isForeignKey:e.isForeignColumn&&e.isForeignColumn(),foreignKeyData:e.isForeignColumn&&e.isForeignColumn()&&No(e.field,s)};return(o.isDataCell||"checkbox"===o.column.type||o.commands)&&(o.index=r),new zM(o)},e.prototype.refreshRows=function(e){for(var t=0;t<e.length;t++)this.refreshForeignKeyRow(e[parseInt(t.toString(),10)]),e[parseInt(t.toString(),10)].cells=this.generateCells(e[parseInt(t.toString(),10)]);return e},e.prototype.getInfiniteIndex=function(e){return"infiniteScroll"===e.requestType||"delete"===e.requestType||"add"===e.action?ko(e.startIndex)?e.index:e.startIndex:0},e}(),RM=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),FM=function(){function e(e){this.parent=e}return e.prototype.getData=function(){for(var e=this,t=[],i=this.parent.aggregates.slice(),n=0;n<i.length;n++){var r=i[parseInt(n.toString(),10)].columns.filter((function(t){return!(t.footerTemplate||t.groupFooterTemplate||t.groupCaptionTemplate)||e.columnSelector(t)}));r.length&&t.push({columns:r})}return t},e.prototype.columnSelector=function(e){return void 0!==e.footerTemplate},e.prototype.getColumns=function(e){var t=[];if(!this.parent.detailTemplate&&ko(this.parent.childGrid)||t.push(new pg({})),this.parent.allowGrouping)for(var i=0;i<this.parent.groupSettings.columns.length;i++)t.push(new pg({}));return this.parent.isRowDragable()&&!e&&t.push(new pg({})),t.push.apply(t,this.parent.getColumns()),t},e.prototype.generateRows=function(e,t,i,n,r){if(0===e.length&&(void 0===t||!t.count))return[];for(var s=this.buildSummaryData(e,t),o=[],a=this.getData(),l=0;l<a.length;l++)o.push(this.getGeneratedRow(a[parseInt(l.toString(),10)],s[parseInt(l.toString(),10)],t?t.level:void 0,i,n,t?t.parentUid:void 0,r));return o},e.prototype.getGeneratedRow=function(e,t,i,n,r,s,o){var a=[],l=this.getIndentByLevel(),h=!ko(this.parent.childGrid),c=this.parent.getIndentCount();this.parent.groupSettings.columns.length&&this.parent.allowRowDragAndDrop?l.push("e-indentcelltop"):this.parent.isRowDragable()&&!n&&(l=["e-indentcelltop"]);for(var u=o||this.getColumns(n),p=0;p<u.length;p++)a.push(this.getGeneratedCell(u[parseInt(p.toString(),10)],e,p>=c?this.getCellType():0===p&&this.parent.childGrid?ov.DetailFooterIntent:ov.Indent,l[parseInt(p.toString(),10)],h));var d=new kM({data:t,attributes:{class:"e-summaryrow"}});return d.cells=a,d.uid=tv("grid-row"),d.parentUid=s,d.isAggregateRow=!0,d.visible=a.some((function(e){return e.isDataCell&&e.visible})),d},e.prototype.getGeneratedCell=function(e,t,i,n,r){var s=t.columns.filter((function(t){return t.columnName===e.field}))[0],o={style:{textAlign:e.textAlign},"e-mappinguid":e.uid,index:e.index};n&&(o.class=n),ko(n)&&r&&(o.class="e-detailindentcelltop");var a={visible:e.visible,isDataCell:!ko(s),isTemplate:s&&!ko(s.footerTemplate||s.groupFooterTemplate||s.groupCaptionTemplate),column:s||{},attributes:o,cellType:i};return a.column.headerText=e.headerText,new zM(a)},e.prototype.buildSummaryData=function(e,t){for(var i=[],n=this.getData(),r={},s=0;s<n.length;s++){r={};for(var o=n[parseInt(s.toString(),10)].columns,a=0;a<o.length;a++)r=this.setTemplate(o[parseInt(a.toString(),10)],t&&t.aggregates?t:e,r);i.push(r)}return i},e.prototype.getIndentByLevel=function(){return this.parent.groupSettings.columns.map((function(){return"e-indentcelltop"}))},e.prototype.setTemplate=function(e,t,i){var n=e.type,r={},s=e.getFormatter()||function(e){return e},o=t;n instanceof Array||(n=[e.type]);for(var a=0;a<n.length;a++){var l=e.field+" - "+n[parseInt(a.toString(),10)].toLowerCase(),h=e.columnName,c="Custom"!==n[parseInt(a.toString(),10)]&&o.aggregates&&l in o.aggregates?o.aggregates[""+l]:nv(n[parseInt(a.toString(),10)],o.aggregates?o:t,e,this.parent);i[""+h]=i[""+h]||{},i[""+h][""+l]=c,i[""+h][n[parseInt(a.toString(),10)]]=ko(c)?" ":s(c),o.field&&(i[""+h].field=o.field,i[""+h].key=o.key)}return r.format=e.getFormatter(),e.setTemplate(r),i},e.prototype.getCellType=function(){return ov.Summary},e}(),BM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RM(t,e),t.prototype.columnSelector=function(e){return void 0!==e.groupFooterTemplate},t.prototype.getIndentByLevel=function(e){return void 0===e&&(e=this.parent.groupSettings.columns.length),this.parent.allowRowDragAndDrop&&this.parent.groupSettings.columns.length&&(e-=1),this.parent.groupSettings.columns.map((function(t,i){return i<=e-1?"":"e-indentcelltop"}))},t.prototype.getCellType=function(){return ov.GroupSummary},t}(FM),VM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RM(t,e),t.prototype.columnSelector=function(e){return void 0!==e.groupCaptionTemplate},t.prototype.getData=function(){return[e.prototype.getData.call(this).reduce((function(e,t){return e.columns=e.columns.concat(t.columns),e}),{columns:[]})]},t.prototype.isEmpty=function(){return 0===(this.getData()[0].columns||[]).length},t.prototype.getCellType=function(){return ov.CaptionSummary},t}(FM),UM=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),HM=function(e){function t(t){var i=e.call(this,t)||this;return i.rows=[],i.index=0,i.infiniteChildCount=0,i.renderInfiniteAgg=!0,i.parent=t,i.summaryModelGen=new BM(t),i.captionModelGen=new VM(t),i}return UM(t,e),t.prototype.generateRows=function(t,i){if(0===this.parent.groupSettings.columns.length)return e.prototype.generateRows.call(this,t,i);this.isInfiniteScroll="infiniteScroll"===i.requestType,this.rows=[],this.index=this.parent.enableVirtualization||this.isInfiniteScroll?i.startIndex:0;for(var n=0,r=t.length;n<r;n++)this.infiniteChildCount=0,this.renderInfiniteAgg=!0,this.getGroupedRecords(0,t[parseInt(n.toString(),10)],t.level,n,void 0,this.rows.length);return this.index=0,this.parent.isCollapseStateEnabled()&&this.ensureRowVisibility(),this.rows},t.prototype.getGroupedRecords=function(e,t,i,n,r,s,o){var a,l=i;if(ko(t.items))if(ko(t.GroupGuid))this.rows=this.rows.concat(this.generateDataRows(t,e,n,this.rows.length,o));else for(var h=0,c=t.length;h<c;h++)this.getGroupedRecords(e,t[parseInt(h.toString(),10)],t.level,n,e,this.rows.length,o);else{var u=void 0,p=this.generateCaptionRow(t,e,n,r,s,o);if(this.isInfiniteScroll&&(u=this.getPreCaption(e,p.data.key)),u?p.uid=u.uid:this.rows=this.rows.concat(p),t.items&&t.items.length&&this.getGroupedRecords(e+1,t.items,t.items.level,n,e+1,this.rows.length,p.uid),this.parent.aggregates.length&&this.isRenderAggregate(p)){var d=this.rows.length;(a=this.rows).push.apply(a,this.summaryModelGen.generateRows(t,{level:l,parentUid:p.uid}));for(var f=d-1;f>=0;f--)if(this.rows[parseInt(f.toString(),10)].isCaptionRow)this.rows[parseInt(f.toString(),10)].aggregatesCount=this.rows.length-d;else if(!this.rows[parseInt(f.toString(),10)].isCaptionRow&&!this.rows[parseInt(f.toString(),10)].isDataRow)break}u&&this.setInfiniteRowVisibility(u)}},t.prototype.isRenderAggregate=function(e){return this.parent.enableInfiniteScrolling?!!this.renderInfiniteAgg&&(this.getPreCaption(e.indent,e.data.key),this.renderInfiniteAgg=e.data.count===this.infiniteChildCount,this.renderInfiniteAgg):!this.parent.enableInfiniteScrolling},t.prototype.getPreCaption=function(e,t){var i,n=this.parent.getRowsObject().concat(this.rows);this.infiniteChildCount=0;for(var r=n.length;r--&&(n[parseInt(r.toString(),10)].isCaptionRow&&n[parseInt(r.toString(),10)].indent===e&&n[parseInt(r.toString(),10)].data.key===t&&(i=n[parseInt(r.toString(),10)]),!(n[parseInt(r.toString(),10)].indent===e||n[parseInt(r.toString(),10)].indent<e));)n[parseInt(r.toString(),10)].indent===e+1&&this.infiniteChildCount++;return i},t.prototype.getCaptionRowCells=function(e,t,i){var n=[],r=[],s=this.parent.getColumnByField(e),o=this.parent.getColumnIndexesInView();this.parent.enableColumnVirtualization&&(s=this.parent.columns.filter((function(t){return t.field===e}))[0]);var a=this.parent.groupSettings.columns.length,l=this.parent;if(!this.parent.enableColumnVirtualization||-1!==o.indexOf(t)){for(var h=0;h<t;h++)n.push(this.generateIndentCell());n.push(this.generateCell({},null,ov.Expand))}if(t=this.parent.enableColumnVirtualization?1:this.parent.getVisibleColumns().length+a+(l.detailTemplate||l.childGrid?1:0)-t+(this.parent.getVisibleColumns().length?-1:0),this.parent.aggregates.length&&!this.captionModelGen.isEmpty()){var c=this.captionModelGen.generateRows(i)[0];Eo(i,c.data);var u=0;c.cells.some((function(e,t){return u=t,e.visible&&e.isDataCell})),r=c.cells.slice(u).filter((function(e){return e.visible})),c.visible&&r[0].column.field===this.parent.getVisibleColumns()[0].field&&(r=r.slice(1)),1===this.parent.getVisibleColumns().length&&(r=[]),t-=r.length}for(var p=this.parent.enableColumnVirtualization?this.parent.getColumns():[s],d=!0,f=0;f<p.length;f++){var g=d&&-1!==o.indexOf(t);g&&(d=!1);var m=!this.parent.enableColumnVirtualization||g?ov.GroupCaption:ov.GroupCaptionEmpty;t=this.parent.enableColumnVirtualization&&m===ov.GroupCaption?t+a:t,l.isRowDragable()&&t++,n.push(this.generateCell(s,null,m,t))}return n.push.apply(n,r),n},t.prototype.generateCaptionRow=function(e,t,i,n,r,s){var o={},a="records",l=this.parent.getColumnByField(e.field);o.data=Eo({},e),l&&(o.data.field=e.field),o.isDataRow=!1,o.isExpand=!this.parent.groupSettings.enableLazyLoading&&!this.parent.isCollapseStateEnabled(),o.parentGid=i,o.childGid=n,o.tIndex=r,o.isCaptionRow=!0,o.parentUid=s,o.gSummary=ko(e.items[""+a])?e.items.length:e.items[""+a].length,o.uid=tv("grid-row");var h=new kM(o);return h.indent=t,this.getForeignKeyData(h),h.cells=this.getCaptionRowCells(e.field,t,h.data),h},t.prototype.getForeignKeyData=function(e){var t=e.data,i=this.parent.getColumnByField(t.field);i&&i.isForeignColumn&&i.isForeignColumn()&&Co("foreignKey",ko(t.key)?"":i.valueAccessor(i.foreignKeyValue,Iv(i,{},t.key)[0],i),e.data)},t.prototype.generateDataRows=function(e,t,i,n,r){for(var s=[],o=this.parent.getColumnIndexesInView(),a=0,l=e.length;a<l;a++,n++){s[parseInt(a.toString(),10)]=this.generateRow(e[parseInt(a.toString(),10)],this.index,a?void 0:"e-firstchildrow",t,i,n,r);for(var h=0;h<t;h++)this.parent.enableColumnVirtualization&&-1===o.indexOf(t)||s[parseInt(a.toString(),10)].cells.unshift(this.generateIndentCell());this.index++}return s},t.prototype.generateIndentCell=function(){return this.generateCell({},null,ov.Indent)},t.prototype.refreshRows=function(e){for(var t=this.parent.getColumnIndexesInView(),i=0;i<e.length;i++)if(e[parseInt(i.toString(),10)].isDataRow){e[parseInt(i.toString(),10)].cells=this.generateCells(e[parseInt(i.toString(),10)]);for(var n=0;n<e[parseInt(i.toString(),10)].indent;n++)this.parent.enableColumnVirtualization&&-1===t.indexOf(e[parseInt(i.toString(),10)].indent)||e[parseInt(i.toString(),10)].cells.unshift(this.generateIndentCell())}else{var r=this.generateCaptionRow(e[parseInt(i.toString(),10)].data,e[parseInt(i.toString(),10)].indent);e[parseInt(i.toString(),10)].cells=r.cells}return e},t.prototype.setInfiniteRowVisibility=function(e){if(!e.isExpand||!1===e.visible)for(var t=0,i=this.rows;t<i.length;t++){var n=i[t];n.parentUid===e.uid&&(n.visible=!1,n.isCaptionRow&&this.setInfiniteRowVisibility(n))}},t.prototype.ensureRowVisibility=function(){for(var e=0;e<this.rows.length;e++){var t=this.rows[parseInt(e.toString(),10)];if(t.isCaptionRow)for(var i=e+1;i<this.rows.length;i++){var n=this.rows[parseInt(i.toString(),10)];t.uid===n.parentUid&&(this.rows[parseInt(i.toString(),10)].visible=t.isExpand)}}},t}(PM),WM=function(){function e(e,t){var i=this;this.rows=[],this.freezeRows=[],this.movableRows=[],this.freezeRowElements=[],this.currentInfo={},this.prevCurrentView=[],this.isLoaded=!0,this.drop=function(e){i.parent.notify("columnDrop",{target:e.target,droppedElement:e.droppedElement}),qa(e.droppedElement)},this.infiniteCache={},this.visibleRows=[],this.visibleFrozenRows=[],this.rightFreezeRows=[],this.isAddRows=!1,this.isInfiniteFreeze=!1,this.useGroupCache=!1,this.tempFreezeRows=[],this.rafCallback=function(e){var t=e;return function(){if(i.ariaService.setBusy(i.getPanel().querySelector("."+vy),!1),!i.parent.isDestroyed){var n=i.rows.slice(0);if(i.parent.enableInfiniteScrolling){if(i.parent.groupSettings.enableLazyLoading)for(var r=0;r<i.visibleRows.length;r++)i.setRowsInLazyGroup(i.visibleRows[parseInt(r.toString(),10)],r);n=i.parent.getRowsObject();var s=t.prevPage;if(i.parent.infiniteScrollSettings.enableCache&&s){var o=i.parent.infiniteScrollSettings.maxBlocks;n=[];for(var a=parseInt(i.rowElements[0].getAttribute("data-rowindex"),10)+1,l=(r=0,Math.ceil(a/i.parent.pageSettings.pageSize));r<o;r++,l++)i.infiniteCache[parseInt(l.toString(),10)]&&(n=n.concat(i.infiniteCache[parseInt(l.toString(),10)]))}}if(i.parent.notify(Wg,{rows:n,args:t}),i.parent.autoFit&&i.parent.preventAdjustColumns(),i.parent.isInitialLoad||i.parent.focusModule.setFirstFocusableTabIndex(),i.isLoaded){i.parent.isManualRefresh=!1,i.parent.enableInfiniteScrolling&&i.parent.groupSettings.enableLazyLoading&&"sorting"===e.requestType&&(i.parent.infiniteScrollModule.groupCaptionAction=void 0);var h=i.parent.parentDetails&&i.parent.parentDetails.parentInstObj&&i.parent.parentDetails.parentInstObj.isReact;if((i.parent.isReact||h)&&i.parent.element.querySelectorAll(".e-templatecell").length){var c=i;c.parent.renderTemplates((function(){c.parent.trigger(Sg,{},(function(){c.parent.allowTextWrap&&c.parent.notify(wm,{case:"textwrap"})}))}))}else i.parent.trigger(Sg,{},(function(){i.parent.allowTextWrap&&i.parent.notify(wm,{case:"textwrap"})}));i.parent.allowTextWrap&&"auto"===i.parent.height&&(i.parent.getContentTable().scrollHeight>i.parent.getContent().clientHeight?i.parent.scrollModule.setPadding():i.parent.scrollModule.removePadding())}if(t){var u=(t.requestType||"").toLowerCase()+"-complete";i.parent.notify(u,t),"batchsave"===e.requestType&&(e.cancel=!1,i.parent.trigger(bg,e))}i.isLoaded&&i.parent.hideSpinner()}}},this.parent=e,this.serviceLocator=t,this.widthService=t.getService("widthService"),this.ariaService=this.serviceLocator.getService("ariaService"),this.parent.enableDeepCompare=this.parent.getDataModule().isRemote(),this.generator=this.getModelGenerator(),this.parent.isDestroyed||(this.parent.enableColumnVirtualization||this.parent.enableVirtualization||this.parent.groupSettings.enableLazyLoading||this.parent.on(om,this.setVisible,this),this.parent.on(Kg,this.colGroupRefresh,this),this.parent.on(Yg,this.enableAfterRender,this),this.parent.on("refresh-infinite-mode-blocks",this.refreshContentRows,this),this.parent.on(tm,this.beforeCellFocused,this),this.parent.on(sm,this.droppableDestroy,this))}return e.prototype.beforeCellFocused=function(e){!e.byKey||"upArrow"!==e.keyArgs.action&&"downArrow"!==e.keyArgs.action?this.pressedKey=void 0:this.pressedKey=e.keyArgs.action},e.prototype.renderPanel=function(){var e=this.parent,t=this.parent.element.querySelector("."+dy);if(t)return this.ariaService.setOptions(this.parent.element.querySelector("."+vy),{busy:!1}),void this.setPanel(t);t=this.parent.createElement("div",{className:dy});var i=this.parent.createElement("div",{className:vy});this.ariaService.setOptions(i,{busy:!1}),this.parent.enableColumnVirtualization&&this.parent.isFrozenGrid()&&(this.renderHorizontalScrollbar(t),i.classList.add("e-virtual-content")),t.appendChild(i),this.setPanel(t),e.element.appendChild(t)},e.prototype.renderHorizontalScrollbar=function(e){var t=this.parent.createElement("div",{className:"e-movablescrollbar"}),i=this.parent.createElement("div",{className:"e-movablechild"}),n=pv().toString();this.setScrollbarHeight(i,n),this.setScrollbarHeight(t,n),t.appendChild(i),e.appendChild(t)},e.prototype.setScrollbarHeight=function(e,t){e.style.minHeight=t+"px",e.style.maxHeight=t+"px"},e.prototype.renderTable=function(){var e=this.getPanel(),t=e.querySelector(".e-virtualtable"),i=e.querySelector(".e-virtualtrack");!this.parent.enableVirtualization||ko(t)||ko(i)||(qa(t),qa(i)),e.appendChild(this.createContentTable("_content_table")),this.setTable(e.querySelector("."+by)),this.ariaService.setOptions(this.getTable(),{multiselectable:"Multiple"===this.parent.selectionSettings.type}),this.initializeContentDrop(),this.parent.frozenRows&&this.parent.getHeaderContent().classList.add("e-frozenhdr")},e.prototype.createContentTable=function(e){var t=this.getPanel().firstElementChild;this.getTable()&&qa(this.getTable());var i=t.querySelector("."+by)?t.querySelector("."+by):this.parent.createElement("table",{className:by,attrs:{cellspacing:"0.25px",role:"grid",id:this.parent.element.id+e}});return this.setColGroup(this.parent.getHeaderTable().querySelector(Ey).cloneNode(!0)),i.appendChild(this.getColGroup()),i.appendChild(this.parent.createElement(jy,{attrs:{role:"rowgroup"}})),t.appendChild(i),t},e.prototype.refreshContentRows=function(e){var t=this;void 0===e&&(e={});var i=this.parent;if(0!==i.currentViewData.length){i.editSettings&&i.editModule&&"Batch"===i.editSettings.mode&&i.editModule.formObj&&!1===i.editSettings.showConfirmDialog&&i.editModule.destroyForm();var n=this.currentMovableRows||i.currentViewData,r=i.isReact&&!ko(i.rowTemplate),s=r?i.createElement(jy,{attrs:{role:"rowgroup"}}):document.createDocumentFragment();this.initialPageRecords||(this.initialPageRecords=Eo([],n));var o,a,l=r?i.createElement(jy,{attrs:{role:"rowgroup"}}):document.createDocumentFragment();i.isReact&&i.rowTemplate&&(o=s,a=l);var h,c,u,p=i.getColumns(),d=new OM(this.serviceLocator,null,this.parent),f=this.parent.enableInfiniteScrolling&&"infiniteScroll"===e.requestType;i.notify("destroy-child-grid",{}),this.rowElements=[],this.rows=[],this.tempFreezeRows=[];var g,m=!(!this.parent.frozenRows||!this.parent.groupSettings.columns.length);Dv(i)&&["sorting","filtering","searching","grouping","ungrouping","reorder","save","delete"].some((function(t){return e.requestType===t}))&&this.emptyVcRows(),g=this.checkCache(g,e),this.isAddRows||this.useGroupCache||(g=this.generator.generateRows(n,e)),this.setGroupCache(g,e),this.parent.notify("set-infinite-cache",{isInfiniteScroll:f,modelData:g,args:e});if(("infiniteScroll"!==e.requestType||this.parent.infiniteScrollSettings.enableCache)&&this.parent.registeredTemplate&&this.parent.registeredTemplate.template&&!e.isFrozen){for(var y=[],v=0;v<this.parent.registeredTemplate.template.length;v++)for(var b=0;b<this.parent.registeredTemplate.template[v].rootNodes.length;b++)ko(this.parent.registeredTemplate.template[v].rootNodes[b].parentNode)&&y.push(this.parent.registeredTemplate.template[v]);this.parent.destroyTemplate(["template"],y)}if((this.parent.isReact||this.parent.isVue)&&("infiniteScroll"!==e.requestType||this.parent.infiniteScrollSettings.enableCache)&&!e.isFrozen){var M=[this.parent.isVue?"template":"columnTemplate","rowTemplate","detailTemplate","captionTemplate","commandsTemplate","groupFooterTemplate","groupCaptionTemplate"];"infiniteScroll"===e.requestType&&this.parent.infiniteScrollSettings.enableCache&&(M=[this.parent.isVue?"template":"columnTemplate","commandsTemplate"]),ib(this.parent,M)}if(this.parent.enableColumnVirtualization)new LM(this.serviceLocator,this.parent).updateVirtualCells(g);this.tbody=this.getTable().querySelector(jy);var S=0,w=!0;if(Dv(i)&&i.vcRows.length){var _=ko(e.virtualInfo.offsets)?ko(e.scrollTop)?0:e.scrollTop.top:e.virtualInfo.offsets.top;if(0!==_){for(var I=i.vGroupOffsets,N=i.pageSettings.pageSize/2,C=Object.keys(I).map((function(e){return I[""+e]})),x=0;x<C.length;x++)if(_<C[parseInt(x.toString(),10)]){if(ko(e.virtualInfo)||"up"!==e.virtualInfo.direction){S=x*N,(this.parent.contentModule.isEndBlock(x)||this.parent.contentModule.isEndBlock(x+1))&&(e.virtualInfo.blockIndexes=[x,x+1]);break}S=x>0?(x-1)*N:x*N;break}Math.round(_+this.contentPanel.firstElementChild.offsetHeight)>=this.contentPanel.firstElementChild.scrollHeight&&!e.rowObject&&(w=!1)}}var D=i.frozenRows&&this.parent.enableVirtualization&&"reorder"===e.requestType;if(i.frozenRows&&"virtualscroll"===e.requestType&&"X"===e.virtualInfo.sentinelInfo.axis||D){var T=e.virtualInfo.blockIndexes,A=e.virtualInfo.page;e.virtualInfo.blockIndexes=[1,2],D&&(e.virtualInfo.page=1);var j=D?this.initialPageRecords:n,E=this.vgenerator.generateRows(j,e);E.splice(this.parent.frozenRows);for(v=0;v<this.parent.frozenRows;v++)h=d.render(E[parseInt(v.toString(),10)],p),l.appendChild(h);e.virtualInfo.blockIndexes=T,e.virtualInfo.page=A,D&&1===e.virtualInfo.page&&g.splice(0,this.parent.frozenRows)}this.virtualFrozenHdrRefresh(l,g,d,e,n,p),this.parent.groupSettings.enableLazyLoading&&!this.useGroupCache&&this.parent.groupSettings.columns.length&&((this.parent.enableVirtualization?this.parent.lazyLoadRender:this.parent.contentModule).refRowsObj[this.parent.pageSettings.currentPage]=[]),this.parent.enableInfiniteScrolling&&this.parent.groupSettings.enableLazyLoading&&"delete"===e.requestType&&(this.visibleRows=[]);for(var k=function(t,r){if(z.rows.push(g[parseInt(t.toString(),10)]),z.parent.groupSettings.enableLazyLoading&&!z.useGroupCache&&z.parent.groupSettings.columns.length&&((z.parent.enableVirtualization?z.parent.lazyLoadRender:z.parent.contentModule).refRowsObj[z.parent.pageSettings.currentPage].push(g[parseInt(t.toString(),10)]),z.setRowsInLazyGroup(g[parseInt(t.toString(),10)],t),ko(g[parseInt(t.toString(),10)].indent)))return"continue";if(z.setInfiniteVisibleRows(e,g[parseInt(t.toString(),10)]),Dv(i)&&e.virtualInfo&&e.virtualInfo.blockIndexes&&z.rowElements.length>=e.virtualInfo.blockIndexes.length*z.parent.contentModule.getBlockSize()&&w)return z.parent.currentViewData.records=z.rows.map((function(e){return e.data})),"break";if(i.rowTemplate){var c=i.element.id+"rowTemplate",y=void 0;if(i.isReact){var v=i.frozenRows&&t<i.frozenRows,b=Eo({index:t},n[parseInt(t.toString(),10)]);if(i.getRowTemplate()(b,i,"rowTemplate",c,null,null,v?l:s),i.requireTemplateRef){var M=z;return M.parent.renderTemplates((function(){i.frozenRows&&t<i.frozenRows?h=a.childNodes[parseInt(t.toString(),10)]:u=o.childNodes[parseInt(t.toString(),10)];var e={data:g[parseInt(t.toString(),10)].data,row:u||h};M.parent.trigger(gg,e),(g[parseInt(t.toString(),10)].isDataRow||M.parent.enableVirtualization&&M.parent.groupSettings.enableLazyLoading)&&M.rowElements.push(h),M.ariaService.setOptions(M.getTable(),{colcount:i.getColumns().length.toString()}),t===g.length-1&&(o=null,a=null)})),"continue"}}else y=i.getRowTemplate()(Eo({index:t},n[parseInt(t.toString(),10)]),i,"rowTemplate",c,void 0,void 0,void 0,z.parent.root);if(i.isReact||"TBODY"!==y[0].tagName)i.frozenRows&&t<i.frozenRows?h=i.isReact?l.lastElementChild:iv(l,y):(i.isReact||(h=iv(s,y)),u=i.isReact?s.lastElementChild:h.lastElementChild);else{for(var S=0;S<y.length;S++){var _="tr"===y[parseInt(S.toString(),10)].nodeName.toLowerCase();(_||y[parseInt(S.toString(),10)].querySelectorAll&&y[parseInt(S.toString(),10)].querySelectorAll("tr").length)&&(h=_?y[parseInt(S.toString(),10)]:y[parseInt(S.toString(),10)].querySelector("tr"))}i.frozenRows&&t<i.frozenRows?l.appendChild(h):s.appendChild(h)}var I={data:g[parseInt(t.toString(),10)].data,row:u||h};z.parent.trigger(gg,I)}else{Qv(h=d.render(g[parseInt(t.toString(),10)],p));var N=z.ensureFrozenHeaderRender(e);i.frozenRows&&(t<i.frozenRows||m)&&!f&&"virtualscroll"!==e.requestType&&N&&z.ensureVirtualFrozenHeaderRender(e)?l.appendChild(h):s.appendChild(h),parseInt(h.getAttribute("data-rowindex"),10)+1===i.frozenRows&&(m=!1),g[parseInt(t.toString(),10)].isExpand&&i.notify("expandchildgrid",h.cells[i.groupSettings.columns.length])}(g[parseInt(t.toString(),10)].isDataRow||z.parent.enableVirtualization&&z.parent.groupSettings.enableLazyLoading)&&z.rowElements.push(h),z.ariaService.setOptions(z.getTable(),{colcount:i.getColumns().length.toString()})},z=this,L=(v=S,g.length);v<L;v++){if("break"===k(v))break}var O=i.parentDetails&&i.parentDetails.parentInstObj&&i.parentDetails.parentInstObj.isReact;if(!i.isReact&&!O||i.requireTemplateRef||i.renderTemplates(),this.parent.enableInfiniteScrolling&&this.parent.groupSettings.enableLazyLoading&&(this.parent.contentModule.refRowsObj[this.parent.pageSettings.currentPage]=this.parent.contentModule.groupCache[this.parent.pageSettings.currentPage]),this.parent.groupSettings.enableLazyLoading&&!this.useGroupCache&&this.parent.groupSettings.columns.length&&this.parent.notify(ny,{rows:(this.parent.enableVirtualization?this.parent.lazyLoadRender:this.parent.contentModule).refRowsObj[this.parent.pageSettings.currentPage]}),i.removeMaskRow(),this.parent.notify("removeGanttShimmer",{requestType:"hideShimmer"}),i.frozenRows&&"virtualscroll"!==e.requestType&&!f&&this.ensureVirtualFrozenHeaderRender(e)||"virtualscroll"===e.requestType&&e.virtualInfo.sentinelInfo&&"X"===e.virtualInfo.sentinelInfo.axis){if(c=i.getHeaderTable().querySelector(jy),r){var P=c.parentElement;qa(c),P.appendChild(l)}else c.innerHTML="",c.appendChild(l);i.isInitialLoad||i.scrollModule.setHeight()}e.rows=this.rows.slice(0),Fy((function(){var n,r,o,a,l;t.parent.notify(Em,e),t.parent.enableVirtualization||t.parent.enableColumnVirtualization||f||(i.isReact||(t.tbody.innerHTML=""),ko(t.tbody.parentElement)?qa(i.getContentTable().querySelector(jy)):qa(t.tbody),t.tbody=t.parent.createElement(jy,{attrs:{role:"rowgroup"}})),i.rowTemplate&&(n=i.element.id+"rowTemplate",r="RowTemplate",o=i,Bo()&&(window.sfBlazor.updateTemplate(r,Vh[""+n],n,o,l),!1!==a&&(Vh[""+n]=[]))),!ko(t.parent.infiniteScrollModule)&&t.parent.enableInfiniteScrolling?(t.isAddRows=!1,t.parent.notify("remove-infinite-rows",{args:e}),t.parent.notify("append-infinite-content",{tbody:t.tbody,frag:s,args:e,rows:t.rows,rowElements:t.rowElements,visibleRows:t.visibleRows,tableName:undefined})):(t.useGroupCache=!1,t.appendContent(t.tbody,s,e)),t.parent.getVisibleFrozenRightCount()&&t.parent.getContent()&&Rv(t.parent)>0&&t.parent.element.classList.add("e-right-shadow"),s=null}),this.rafCallback(Eo({},e)))}},e.prototype.emptyVcRows=function(){this.parent.vcRows=[],this.parent.vRows=[]},e.prototype.appendContent=function(e,t,i,n){if(this.parent.isReact&&!ko(this.parent.rowTemplate)?this.getTable().appendChild(t):(e.appendChild(t),this.getTable().appendChild(e)),"Vertical"===this.parent.rowRenderingMode&&this.parent.allowTextWrap&&("Header"===this.parent.textWrapSettings.wrapMode||"Both"===this.parent.textWrapSettings.wrapMode))for(var r=e.querySelectorAll("td"),s=0;s<r.length;s++){var o=parseFloat(document.defaultView.getComputedStyle(r[parseInt(s.toString(),10)],"::before").getPropertyValue("height"));o>r[parseInt(s.toString(),10)].offsetHeight&&(r[parseInt(s.toString(),10)].style.height=o+"px",r[parseInt(s.toString(),10)].style.boxSizing="content-box")}this.parent.getVisibleFrozenLeftCount()&&this.parent.enableColumnVirtualization&&this.widthService.refreshFrozenScrollbar()},e.prototype.setRowsInLazyGroup=function(e,t){this.parent.groupSettings.enableLazyLoading&&!this.useGroupCache&&this.parent.groupSettings.columns.length&&(this.parent.enableVirtualization?this.parent.lazyLoadRender:this.parent.contentModule).maintainRows(e,t)},e.prototype.setGroupCache=function(e,t){!this.useGroupCache&&this.parent.groupSettings.enableLazyLoading&&this.parent.notify("group-cache",{args:t,data:e})},e.prototype.ensureFrozenHeaderRender=function(e){return!(this.parent.enableVirtualization&&("reorder"===e.requestType||"refresh"===e.requestType)||this.parent.infiniteScrollSettings.enableCache&&this.parent.frozenRows&&"delete"===this.parent.infiniteScrollModule.requestType&&1!==this.parent.pageSettings.currentPage)},e.prototype.ensureVirtualFrozenHeaderRender=function(e){return!(this.parent.enableVirtualization&&"delete"===e.requestType)},e.prototype.checkCache=function(e,t){if(this.parent.infiniteScrollSettings.enableCache&&"infiniteScroll"===t.requestType){if(this.isAddRows=!ko(this.infiniteCache[this.parent.pageSettings.currentPage]),this.isAddRows){var i=this.infiniteCache[this.parent.pageSettings.currentPage];e=1===this.parent.pageSettings.currentPage?i.slice(this.parent.frozenRows):i}return e}return this.parent.groupSettings.enableLazyLoading&&this.parent.groupSettings.columns.length&&("paging"===t.requestType||"columnstate"===t.requestType||"reorder"===t.requestType||"virtualscroll"===t.requestType)&&(this.parent.enableVirtualization?this.parent.lazyLoadRender:this.parent.contentModule).getGroupCache()[this.parent.pageSettings.currentPage]?(this.parent.enableVirtualization||(this.useGroupCache=!0),this.parent.enableVirtualization?this.parent.getRowsObject():this.parent.contentModule.initialGroupRows("reorder"===t.requestType)):null},e.prototype.setInfiniteVisibleRows=function(e,t){this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&(this.parent.infiniteScrollSettings.enableCache||this.visibleRows.push(t))},e.prototype.getCurrentBlockInfiniteRecords=function(){var e=[];if(this.parent.infiniteScrollSettings.enableCache){if(!Object.keys(this.infiniteCache).length)return[];var t=this.parent.getRows(),i=parseInt(t[this.parent.frozenRows].getAttribute(Ty),10),n=Math.ceil((i+1)/this.parent.pageSettings.pageSize);i=parseInt(t[t.length-1].getAttribute(Ty),10);for(var r=Math.ceil((i+(t.length?1:0))/this.parent.pageSettings.pageSize),s=n;s<=r;s++)e=e.length?e.concat(this.infiniteCache[parseInt(s.toString(),10)]):this.infiniteCache[parseInt(s.toString(),10)];this.parent.frozenRows&&this.parent.pageSettings.currentPage>1&&(e=this.infiniteCache[1].slice(0,this.parent.frozenRows).concat(e))}return e},e.prototype.getReorderedRows=function(e){return this.parent.contentModule.getReorderedFrozenRows(e)},e.prototype.virtualFrozenHdrRefresh=function(e,t,i,n,r,s){if(this.parent.frozenRows&&this.parent.enableVirtualization&&("reorder"===n.requestType||"refresh"===n.requestType)){for(var o=void 0,a=this.getReorderedRows(n),l=0;l<a.length;l++)o=i.render(a[parseInt(l.toString(),10)],s),e.appendChild(o);1===n.virtualInfo.page&&t.splice(0,this.parent.frozenRows)}},e.prototype.getInfiniteRows=function(){var e=[];if(this.parent.enableInfiniteScrolling)if(this.parent.infiniteScrollSettings.enableCache)for(var t=Object.keys(this.infiniteCache),i=0;i<t.length;i++)e=e.concat(this.infiniteCache[t[parseInt(i.toString(),10)]]);else e=this.visibleRows;return e},e.prototype.getInfiniteMovableRows=function(){var e=this.getCurrentBlockInfiniteRecords();return this.parent.enableInfiniteScrolling?e.length?e:this.visibleRows:[]},e.prototype.getPanel=function(){return this.contentPanel},e.prototype.setPanel=function(e){this.contentPanel=e},e.prototype.getTable=function(){return this.contentTable},e.prototype.setTable=function(e){this.contentTable=e},e.prototype.getRows=function(){var e=this.getInfiniteRows();return e.length?e:this.rows},e.prototype.getRowElements=function(){return this.rowElements},e.prototype.setRowElements=function(e){this.rowElements=e},e.prototype.getColGroup=function(){return this.colgroup},e.prototype.setColGroup=function(e){return ko(e)||(e.id="content-"+e.id),this.colgroup=e},e.prototype.setVisible=function(e){var t,i=this.parent;this.getRows().some((function(e){return e.isDataRow&&(t=e),e.isDataRow}));var n=!0;!i.groupSettings.columns.length&&t&&(n=!1);for(var r=i.getDataRows(),s=this.infiniteRowVisibility(),o=s||this.rows.filter((function(e){return!e.isDetailRow})),a=0,l=e.length;a<l;a++){var h=e[parseInt(a.toString(),10)],c=this.parent.getNormalizedColumnIndex(h.uid),u=this.parent.getColumnIndexByUid(h.uid),p=!0===h.visible?"":"none";-1!==c&&t&&c<t.cells.length&&$a(this.getColGroup().childNodes[parseInt(c.toString(),10)],{display:p}),n||this.setDisplayNone(r,u,p,o),!this.parent.invokedFromMedia&&h.hideAtMedia&&this.parent.updateMediaColumns(h),this.parent.invokedFromMedia=!1}n?this.refreshContentRows({requestType:"refresh"}):this.parent.notify(Rm,{rows:o,args:{}})},e.prototype.setDisplayNone=function(e,t,i,n){!function(e,t,i,n,r,s){for(var o=Object.keys(e),a=t,l=0;l<o.length;l++){var h=e[o[parseInt(l.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(t.toString(),10)];if(r&&!r.isFrozenGrid()&&!r.isRowDragable()){if(h=ko(h)||parseInt(h.getAttribute("data-colindex"),10)!==t?e[parseInt(l.toString(),10)].querySelector('td[data-colindex="'+t+'"]'):h,ko(h))continue;t=r.getContentTable().querySelector(".e-detailrowcollapse, .e-detailrowexpand")?h.cellIndex-1:h.cellIndex}if(e[o[parseInt(l.toString(),10)]].querySelectorAll("td.e-rowcell").length&&h){if($a(e[o[parseInt(l.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(t.toString(),10)],{display:i}),e[o[parseInt(l.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(t.toString(),10)].classList.contains("e-hide")&&Ba([e[o[parseInt(l.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(t.toString(),10)]],["e-hide"]),s&&r.isRowDragable()){var c=t+1;n[o[parseInt(l.toString(),10)]].cells[parseInt(c.toString(),10)].visible=""===i}else n[o[parseInt(l.toString(),10)]].cells[parseInt(t.toString(),10)].visible=""===i,!1===n[o[parseInt(l.toString(),10)]].cells[parseInt(t.toString(),10)].visible&&e[o[parseInt(l.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(t.toString(),10)].classList.add("e-hide");t=a}}}(e,t,i,n,this.parent,this.parent.isRowDragable()),this.parent.notify("infinite-show-hide",{visible:i,index:t,isFreeze:this.isInfiniteFreeze})},e.prototype.infiniteRowVisibility=function(e){var t;return this.parent.enableInfiniteScrolling&&(this.isInfiniteFreeze=e,t=this.parent.infiniteScrollSettings.enableCache?this.getCurrentBlockInfiniteRecords():e?this.visibleFrozenRows:this.visibleRows),t},e.prototype.colGroupRefresh=function(){if(this.getColGroup()){var e=this.getHeaderColGroup();this.getTable().replaceChild(e,this.getColGroup()),this.setColGroup(e)}},e.prototype.getHeaderColGroup=function(){return this.parent.element.querySelector("."+py).querySelector(Ey+":not(.e-masked-colgroup)").cloneNode(!0)},e.prototype.initializeContentDrop=function(){var e=this.parent;this.droppable=new sh(e.element,{accept:".e-dragclone",drop:this.drop})},e.prototype.droppableDestroy=function(){this.droppable&&!this.droppable.isDestroyed&&this.droppable.destroy()},e.prototype.canSkip=function(e,t,i){return ko(t)||ko(e.visible)||t.cells[parseInt(i.toString(),10)].visible===e.visible},e.prototype.getModelGenerator=function(){return this.generator=this.parent.allowGrouping?new HM(this.parent):new PM(this.parent)},e.prototype.renderEmpty=function(e){this.getTable().appendChild(e),this.parent.frozenRows&&(this.parent.getHeaderContent().querySelector(jy).innerHTML="")},e.prototype.setSelection=function(e,t,i){this.parent.notify("set-freeze-selection",{uid:e,set:t,clearAll:i});for(var n=this.getRows().filter((function(t){return i||e===t.uid})),r=0;r<n.length;r++){n[parseInt(r.toString(),10)].isSelected=t;for(var s=n[parseInt(r.toString(),10)].cells,o=0;o<s.length;o++)s[parseInt(o.toString(),10)].isSelected=t}},e.prototype.getRowByIndex=function(e){return ko(e=this.getInfiniteRowIndex(e))?void 0:this.parent.getDataRows()[parseInt(e.toString(),10)]},e.prototype.getInfiniteRowIndex=function(e){if(this.parent.infiniteScrollSettings.enableCache&&!ko(e)){var t=this.parent.frozenRows,i=t>e?0:t,n=parseInt(this.parent.getRows()[parseInt(i.toString(),10)].getAttribute(Ty),10);e=t>e?e:e-n+t}return e},e.prototype.getVirtualRowIndex=function(e){return e},e.prototype.enableAfterRender=function(e){"group"===e.module&&e.enable&&(this.generator=this.getModelGenerator())},e.prototype.setRowObjects=function(e){this.rows=e},e.prototype.immutableModeRendering=function(e){var t=this;void 0===e&&(e={});var i=this.parent;i.hideSpinner();var n=i.getPrimaryKeyFieldNames()[0],r={},s={},o=[],a={},l=i.getRowsObject().slice(),h=this.getBatchEditedRecords(n,l),c={},u=0!==Object.keys(h).length;if(i.getContent().querySelector(".e-emptyrow")||"reorder"===e.requestType||this.parent.groupSettings.columns.length)this.refreshContentRows(e);else{if(0===i.currentViewData.length)return;var p={},d=i.createElement(jy,{attrs:{role:"rowgroup"}}),f=i.currentViewData,g=[].slice.call(this.getTable().querySelector(jy).children);if(this.prevCurrentView.length){var m=this.prevCurrentView.length,y=f.length;if(m===y)for(var v=0;v<y;v++)"Batch"===this.parent.editSettings.mode&&g[parseInt(v.toString(),10)].classList.contains("e-insertedrow")?(g.splice(v,1),--v):(s[f[parseInt(v.toString(),10)][""+n]]=r[this.prevCurrentView[parseInt(v.toString(),10)][""+n]]=v,c[parseInt(v.toString(),10)]=f[parseInt(v.toString(),10)][""+n],p[l[parseInt(v.toString(),10)].uid]=g[parseInt(v.toString(),10)],a[parseInt(v.toString(),10)]=this.prevCurrentView[parseInt(v.toString(),10)][""+n]);else{for(v=0;v<y;v++)s[f[parseInt(v.toString(),10)][""+n]]=v,c[parseInt(v.toString(),10)]=f[parseInt(v.toString(),10)][""+n];for(v=0;v<m;v++)"Batch"===this.parent.editSettings.mode&&g[parseInt(v.toString(),10)].classList.contains("e-insertedrow")?(g.splice(v,1),--v):(p[l[parseInt(v.toString(),10)].uid]=g[parseInt(v.toString(),10)],r[this.prevCurrentView[parseInt(v.toString(),10)][""+n]]=v,a[parseInt(v.toString(),10)]=this.prevCurrentView[parseInt(v.toString(),10)][""+n])}}for(v=0;v<f.length;v++){var b=r[f[parseInt(v.toString(),10)][""+n]];if(ko(b)){var M=new OM(this.serviceLocator,null,i),S={startIndex:v},w=this.generator.generateRows([f[parseInt(v.toString(),10)]],S);o.push(w[0]);I=M.render(w[0],i.getColumns());d.appendChild(I),this.refreshImmutableContent(v,I,o[parseInt(v.toString(),10)])}else{var _=!1;this.parent.enableDeepCompare&&(_=this.objectEqualityChecker(this.prevCurrentView[parseInt(b.toString(),10)],f[parseInt(v.toString(),10)]));var I=p[l[parseInt(b.toString(),10)].uid];if(o.push(l[parseInt(b.toString(),10)]),this.rowElements[parseInt(b.toString(),10)]&&this.rowElements[parseInt(b.toString(),10)].getAttribute("data-uid")===o[parseInt(v.toString(),10)].uid&&(u&&ko(h[c[parseInt(v.toString(),10)]])||!u&&(_||this.prevCurrentView[parseInt(b.toString(),10)]===f[parseInt(v.toString(),10)]))){b!==v&&this.refreshImmutableContent(v,I,o[parseInt(v.toString(),10)]),d.appendChild(I);continue}(u&&!ko(h[c[parseInt(v.toString(),10)]])||!this.parent.enableDeepCompare&&f[parseInt(v.toString(),10)]!==this.prevCurrentView[parseInt(b.toString(),10)]||this.parent.enableDeepCompare&&!_)&&l[parseInt(b.toString(),10)].setRowValue(f[parseInt(v.toString(),10)]),d.appendChild(I),this.refreshImmutableContent(v,I,o[parseInt(v.toString(),10)])}}if(this.rows=o,this.rowElements=[].slice.call(d.children),qa(this.getTable().querySelector(jy)),this.getTable().appendChild(d),this.parent.trigger(Sg,{},(function(){t.parent.allowTextWrap&&t.parent.notify(wm,{case:"textwrap"})})),e){var N=(e.requestType||"").toLowerCase()+"-complete";this.parent.notify(N,e)}}},e.prototype.objectEqualityChecker=function(e,t){for(var i=Object.keys(e),n=!0,r=0;r<i.length;r++){if(e[i[parseInt(r.toString(),10)]]!==t[i[parseInt(r.toString(),10)]])if(!(e[i[parseInt(r.toString(),10)]]instanceof Date&&t[i[parseInt(r.toString(),10)]]instanceof Date)||e[i[parseInt(r.toString(),10)]].getTime()!==t[i[parseInt(r.toString(),10)]].getTime()){n=!1;break}}return n},e.prototype.getBatchEditedRecords=function(e,t){var i={},n=this.parent.getBatchChanges(),r=[],s=[];Object.keys(n).length&&(r=n.changedRecords,s=n.addedRecords);var o={cancel:!1};this.parent.notify("immutable-batch-cancel",{rows:t,args:o}),s.length&&("Bottom"===this.parent.editSettings.newRowPosition?t.splice(t.length-1,s.length):o.cancel||t.splice(0,s.length));for(var a=0;a<r.length;a++)i[r[parseInt(a.toString(),10)][""+e]]=a;return i},e.prototype.refreshImmutableContent=function(e,t,i){i.isAltRow=!!this.parent.enableAltRow&&e%2!==0,i.isAltRow?t.classList.add("e-altrow"):t.classList.remove("e-altrow"),i.index=e,i.edit=void 0,i.isDirty=!1,t.setAttribute(Ty,e.toString()),t.setAttribute(Ay,(e+1).toString()),this.updateCellIndex(t,e)},e.prototype.updateCellIndex=function(e,t){for(var i=0;i<e.cells.length;i++)e.cells[parseInt(i.toString(),10)].setAttribute("index",t.toString())},e}(),YM=function(){function e(e,t){var i=this;this.frzIdx=0,this.notfrzIdx=0,this.isFirstCol=!1,this.isReplaceDragEle=!0,this.helper=function(e){var t=i.parent,n=i.draggable.currentStateTarget,r=Jy(n,"e-headercell");if(!t.allowReordering&&!t.allowGrouping||!ko(r)&&r.getElementsByClassName("e-checkselectall").length>0)return!1;var s=i.parent.createElement("div",{className:"e-cloneproperties e-dragclone e-headerclone"}),o=n.classList.contains("e-headercell")?n:r;if(!o||!t.allowReordering&&o.classList.contains("e-stackedheadercell"))return!1;var a,l=o.offsetHeight,h=o.querySelector(".e-headercelldiv")||o.querySelector(".e-stackedheadercelldiv");if(h){if(a=o.querySelector(".e-stackedheadercelldiv")?t.getStackedHeaderColumnByHeaderText(h.innerText.trim(),t.columns):t.getColumnByUid(h.getAttribute("e-mappinguid")),i.column=a,i.column.lockColumn)return!1;s.setAttribute("e-mappinguid",i.column.uid)}if(a&&!ko(a.headerTemplate)){if(ko(a.headerTemplate))s.innerHTML=a.headerTemplate;else{var c=t.getColumnIndexByField(a.field),u=a.getHeaderTemplate()(Eo({index:c},a),t,"headerTemplate"),p=t.isReact&&"string"!==typeof a.headerTemplate,d=t.parentDetails&&t.parentDetails.parentInstObj&&t.parentDetails.parentInstObj.isReact;(p||d)&&t.renderTemplates(),iv(s,u)}ko(s.firstChild)||1!==s.firstChild.nodeType||(s.firstChild.style.pointerEvents="none")}else s.innerHTML=h?a.headerText:o.firstElementChild.innerHTML;return s.style.width=o.offsetWidth+"px",s.style.height=o.offsetHeight+"px",s.style.lineHeight=(l-6).toString()+"px",t.element.appendChild(s),s},this.dragStart=function(e){var t=i.parent;t.element.querySelector(".e-gridpopup").style.display="none",t.notify("columnDragStart",{target:i.draggable.currentStateTarget,column:i.column,event:e.event})},this.drag=function(e){var t=i.parent,n=e.target;if(n){var r=Za(n,".e-grid"),s=i.parent.element.querySelector(".e-cloneproperties");if((!r||r.getAttribute("id")!==t.element.getAttribute("id"))&&(el(s,["e-notallowedcur"],["e-defaultcur"]),t.allowReordering&&(t.element.querySelector(".e-reorderuparrow").style.display="none",t.element.querySelector(".e-reorderdownarrow").style.display="none"),!t.groupSettings.allowReordering))return;t.notify("columnDrag",{target:e.target,column:i.column,event:e.event})}},this.dragStop=function(e){var t,n=i.parent;n.element.querySelector(".e-gridpopup").style.display="none",(!Jy(e.target,"e-headercell")&&!Jy(e.target,"e-groupdroparea")||!n.allowReordering&&Jy(e.target,"e-headercell")||!e.helper.getAttribute("e-mappinguid")&&Jy(e.target,"e-groupdroparea"))&&(qa(e.helper),t=!0),n.notify("column-drag-stop",{target:e.target,event:e.event,column:i.column,cancel:t})},this.drop=function(e){var t=i.parent,n=e.droppedElement.getAttribute("e-mappinguid"),r=Za(e.target,".e-grid");qa(e.droppedElement),r&&r.getAttribute("id")!==t.element.getAttribute("id")||!t.allowReordering&&!t.allowGrouping||t.notify("header-drop",{target:e.target,uid:n,droppedElement:e.droppedElement})},this.parent=e,this.serviceLocator=t,this.ariaService=this.serviceLocator.getService("ariaService"),this.widthService=this.serviceLocator.getService("widthService"),this.parent.isDestroyed||(this.parent.enableColumnVirtualization||this.parent.on(om,this.setVisible,this),this.parent.on(hm,this.colPosRefresh,this),this.parent.on(Ug,this.renderCustomToolbar,this),"Vertical"===this.parent.rowRenderingMode&&this.parent.on(Yg,this.updateCustomResponsiveToolbar,this))}return e.prototype.renderPanel=function(){var e=this.parent.element.querySelector("."+py),t=null!=e;e=t?e:this.parent.createElement("div",{className:"e-gridheader"});var i=t?e.querySelector("."+gy):this.parent.createElement("div",{className:gy});this.toggleStackClass(e),e.appendChild(i),this.setPanel(e),t||this.parent.element.appendChild(e)},e.prototype.renderTable=function(){var e=this.getPanel();e.appendChild(this.createHeaderTable()),this.setTable(e.querySelector("."+by)),this.initializeHeaderDrag(),this.initializeHeaderDrop(),this.parent.notify(Xg,{rows:this.rows})},e.prototype.getPanel=function(){return this.headerPanel},e.prototype.setPanel=function(e){this.headerPanel=e},e.prototype.getTable=function(){return this.headerTable},e.prototype.setTable=function(e){this.headerTable=e},e.prototype.getColGroup=function(){return this.colgroup},e.prototype.setColGroup=function(e){return this.colgroup=e},e.prototype.getRows=function(){return this.getTable().tHead.rows},e.prototype.createHeaderTable=function(){var e=this.createTable(),t=this.getPanel().querySelector("."+gy);return t.appendChild(e),t},e.prototype.createHeader=function(e,t){void 0===e&&(e=null);var i=this.parent;this.getTable()&&qa(this.getTable());var n=this.parent.createElement("table",{className:by,attrs:{cellspacing:"0.25px",role:"grid"}}),r=this.createHeaderContent(t),s=r.thead,o=this.parent.createElement(jy,{className:this.parent.frozenRows?"":"e-hide",attrs:{role:"rowgroup"}});this.caption=this.parent.createElement("caption",{innerHTML:this.parent.element.id+"_header_table",className:"e-hide"});for(var a,l=this.parent.createElement(Ey),h=this.parent.createElement("tr"),c=this.rows=r.rows,u=0,p=c.length;u<p;u++)for(var d=0,f=c[parseInt(u.toString(),10)].cells.length;d<f;d++)a=this.parent.createElement("td"),h.appendChild(a);return(i.allowFiltering||i.allowSorting||i.allowGrouping)&&n.classList.add("e-sortfilter"),this.updateColGroup(l),o.appendChild(h),n.appendChild(this.setColGroup(l)),n.appendChild(s),n.appendChild(o),n.appendChild(this.caption),this.ariaService.setOptions(n,{colcount:i.getColumns().length.toString()}),n},e.prototype.createTable=function(e){return void 0===e&&(e=null),this.createHeader(e)},e.prototype.createHeaderContent=function(e){var t=this.parent,i=t.getColumns(),n=this.parent.createElement("thead",{attrs:{role:"rowgroup"}}),r=this.parent.createElement("tr",{className:"e-columnheader"}),s=new OM(this.serviceLocator,ov.Header,t);s.element=r;var o,a=[];this.colDepth=zv(t.columns);for(var l=0,h=this.colDepth;l<h;l++)a[parseInt(l.toString(),10)]=this.generateRow(l),a[parseInt(l.toString(),10)].cells=[];if(a=this.ensureColumns(a),a=this.getHeaderCells(a,e),t.isRowDragable()&&"Right"===this.parent.getFrozenMode())for(l=0,h=a.length;l<h;l++)a[parseInt(l.toString(),10)].cells.push(this.generateCell({},ov.RowDragHIcon));for(l=0,h=this.colDepth;l<h;l++)o=s.render(a[parseInt(l.toString(),10)],i),this.parent.rowHeight&&o.querySelector(".e-headercell")&&(o.style.height=this.parent.rowHeight+"px"),Qv(o),n.appendChild(o);return{thead:n,rows:a}},e.prototype.updateColGroup=function(e){var t,i=this.parent.getColumns(),n=this.parent.getColumnIndexesInView();if(e.id=this.parent.element.id+Ey,this.parent.allowGrouping)for(var r=0,s=this.parent.groupSettings.columns.length;r<s;r++)this.parent.enableColumnVirtualization&&-1===n.indexOf(r)||(t=this.parent.createElement("col",{className:"e-group-intent"}),e.appendChild(t));(this.parent.detailTemplate||this.parent.childGrid)&&(t=this.parent.createElement("col",{className:"e-detail-intent"}),e.appendChild(t)),this.parent.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&(t=this.parent.createElement("col",{className:"e-drag-intent"}),e.appendChild(t));for(r=0,s=i.length;r<s;r++)t=this.parent.createElement("col"),!1===i[parseInt(r.toString(),10)].visible&&$a(t,{display:"none"}),e.appendChild(t);return this.parent.isRowDragable()&&"Right"===this.parent.getFrozenMode()&&(t=this.parent.createElement("col",{className:"e-drag-intent"}),e.appendChild(t)),e},e.prototype.ensureColumns=function(e){for(var t=this.parent,i=this.parent.getColumnIndexesInView(),n=0,r=e.length;n<r;n++){if(t.allowGrouping)for(var s=0,o=t.groupSettings.columns.length;s<o;s++)this.parent.enableColumnVirtualization&&-1===i.indexOf(s)||e[parseInt(n.toString(),10)].cells.push(this.generateCell({},ov.HeaderIndent));if(t.detailTemplate||t.childGrid){var a={};this.parent.notify(Wm,a),e[parseInt(n.toString(),10)].cells.push(this.generateCell(a,ov.DetailHeader))}t.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&e[parseInt(n.toString(),10)].cells.push(this.generateCell({},ov.RowDragHIcon))}return e},e.prototype.getHeaderCells=function(e,t){var i=this.parent.getHeaderTable()&&this.parent.getHeaderTable().querySelector("thead"),n=this.parent.enableColumnVirtualization?this.parent.getColumns(this.parent.enablePersistence):this.parent.columns;if(this.frzIdx=0,this.notfrzIdx=0,this.parent.lockcolPositionCount)for(var r=0;r<n.length;r++)this.lockColsRendered=!1,e=this.appendCells(n[parseInt(r.toString(),10)],e,0,0===r,!1,r===n.length-1,i,t,!1);r=0;for(var s=n.length;r<s;r++)this.notfrzIdx=0,this.lockColsRendered=!0,e=this.appendCells(n[parseInt(r.toString(),10)],e,0,0===r,!1,r===s-1,i,t,!1);return e},e.prototype.appendCells=function(e,t,i,n,r,s,o,a,l){var h=s?l?"e-laststackcell":"e-lastcell":"",c=!this.parent.lockcolPositionCount||e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered;if(e.columns){this.isFirstCol=!1;var u=this.getCellCnt(e,0);if(u){var p=this.getStackedLockColsCount(e,0);(0===this.parent.lockcolPositionCount||!this.lockColsRendered&&0!==p||this.lockColsRendered&&u-p!==0)&&t[parseInt(i.toString(),10)].cells.push(new zM({cellType:ov.StackedHeader,column:e,colSpan:this.getColSpan(u,p),className:n?"":r?"e-firstcell":""}))}if(this.parent.lockcolPositionCount&&!this.lockColsRendered)for(var d=0;d<e.columns.length;d++)t=this.appendCells(e.columns[parseInt(d.toString(),10)],t,i+1,n,0===d,d===e.columns.length-1&&s,o,a,!1);if(this.lockColsRendered){d=0;for(var f=e.columns.length;d<f;d++){n=n&&0===d;var g=this.isFirstCol=e.columns[parseInt(d.toString(),10)].visible&&!n,m=d===f-1&&s;t=this.appendCells(e.columns[parseInt(d.toString(),10)],t,i+1,n,g&&!m,m,o,a,!0)}}}else c&&t[parseInt(i.toString(),10)].cells.push(this.generateCell(e,ov.Header,this.colDepth-i,(n?"":r?"e-firstcell":"")+h,i,this.parent.getColumnIndexByUid(e.uid))),this.parent.lockcolPositionCount?this.frzIdx+this.notfrzIdx<this.parent.frozenColumns&&(e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered)?this.frzIdx++:this.notfrzIdx++:this.frzIdx++;return t},e.prototype.getStackedLockColsCount=function(e,t){if(e.columns)for(var i=0;i<e.columns.length;i++)t=this.getStackedLockColsCount(e.columns[parseInt(i.toString(),10)],t);else e.lockColumn&&t++;return t},e.prototype.getColSpan=function(e,t){return e=this.lockColsRendered?e-t:t},e.prototype.generateRow=function(e){return new kM({})},e.prototype.generateCell=function(e,t,i,n,r,s){var o={visible:e.visible,isDataCell:!1,isTemplate:!ko(e.headerTemplate),rowID:"",column:e,cellType:t,rowSpan:i,className:n,index:r,colIndex:s};return(!o.rowSpan||o.rowSpan<2)&&delete o.rowSpan,new zM(o)},e.prototype.setVisible=function(e){for(var t,i,n=this.parent,r=0,s=e.length;r<s;r++){var o=e[parseInt(r.toString(),10)];i=n.getNormalizedColumnIndex(o.uid),t=o.visible?"":"none",$a(this.getColGroup().children[parseInt(i.toString(),10)],{display:t})}this.refreshUI()},e.prototype.colPosRefresh=function(){this.refreshUI()},e.prototype.refreshUI=function(){var e=this.getPanel();this.toggleStackClass(e);var t=this.freezeReorder?this.headerPanel.querySelector("."+yy).querySelector("."+by):this.getTable();if(t){qa(t),t.removeChild(t.firstChild),t.removeChild(t.childNodes[0]);var i=this.parent.createElement(Ey),n=this.createHeaderContent(undefined);this.rows=n.rows,t.insertBefore(n.thead,t.firstChild),this.updateColGroup(i),t.insertBefore(this.setColGroup(i),t.firstChild),this.appendContent(t),this.parent.notify(Kg,{}),this.widthService.setWidthToColumns(),this.parent.updateDefaultCursor(),this.initializeHeaderDrag();for(var r=[].slice.call(e.querySelectorAll("tr.e-columnheader")),s=0,o=r;s<o.length;s++){var a=o[s],l=[].slice.call(a.getElementsByClassName("e-grouptopleftcell"));l.length&&l[l.length-1].classList.add("e-lastgrouptopleftcell")}this.parent.notify(Xg,{rows:this.rows}),this.parent.enableColumnVirtualization&&Jy(t,yy)&&this.parent.notify(Xg,{rows:this.rows,args:{isFrozen:!1,isXaxis:!0}}),this.parent.allowTextWrap&&"Header"===this.parent.textWrapSettings.wrapMode&&mv(r,!0)}},e.prototype.toggleStackClass=function(e){this.parent.columns.some((function(e){return!ko(e.columns)}))?e.classList.add("e-stackedheader"):e.classList.remove("e-stackedheader")},e.prototype.appendContent=function(e){this.getPanel().querySelector("."+gy).appendChild(e)},e.prototype.getCellCnt=function(e,t){if(e.columns)for(var i=0,n=e.columns.length;i<n;i++)t=this.getCellCnt(e.columns[parseInt(i.toString(),10)],t);else e.visible&&t++;return t},e.prototype.initializeHeaderDrag=function(){var e=this.parent;(this.parent.allowReordering||this.parent.allowGrouping&&this.parent.groupSettings.showDropArea)&&(this.draggable=new ih(e.getHeaderContent(),{dragTarget:".e-headercell",distance:5,helper:this.helper,dragStart:this.dragStart,drag:this.drag,dragStop:this.dragStop,abort:".e-rhandler",isReplaceDragEle:this.isReplaceDragEle}),this.parent.on(sm,this.droppableDestroy,this))},e.prototype.initializeHeaderDrop=function(){var e=this.parent;this.droppable=new sh(e.getHeaderContent(),{accept:".e-dragclone",drop:this.drop}),this.parent.on(sm,this.droppableDestroy,this)},e.prototype.droppableDestroy=function(){this.droppable&&!this.droppable.isDestroyed&&this.droppable.destroy(),this.draggable&&!this.draggable.isDestroyed&&this.draggable.destroy()},e.prototype.renderCustomToolbar=function(){var e=this,t=this.parent;if("Vertical"===t.rowRenderingMode&&!t.toolbar&&(t.allowSorting||t.allowFiltering&&"FilterBar"!==t.filterSettings.type)){for(var i=t.createElement("div",{className:"e-res-toolbar e-toolbar"}),n=t.createElement("div",{className:"e-toolbar-items"}),r=t.createElement("div",{className:"e-toolbar-left"}),s=this.parent.allowFiltering&&this.parent.allowSorting?2:1,o=0;o<s;o++){var a=t.createElement("div",{className:"e-toolbar-item e-gridresponsiveicons e-icons e-tbtn-align"}),l=1===s?this.parent.allowSorting?"sort":"filter":1===o?"sort":"filter",h=t.createElement("button",{className:"e-tbar-btn e-control e-btn e-lib e-icon-btn"}),c=t.createElement("span",{className:"e-btn-icon e-res"+l+"-icon e-icons"});h.appendChild(c),new _b({cssClass:this.parent.cssClass?this.parent.cssClass:""}).appendTo(h),h.onclick=function(t){t.target.classList.contains("e-ressort-btn")||t.target.classList.contains("e-ressort-icon")?e.parent.showResponsiveCustomSort():e.parent.showResponsiveCustomFilter()},a.appendChild(h),r.appendChild(a)}n.appendChild(r),i.appendChild(n),t.element.insertBefore(i,this.parent.element.querySelector("."+py))}else t.enableAdaptiveUI&&!t.toolbar&&t.getContent().classList.add("e-responsive-header")},e.prototype.updateCustomResponsiveToolbar=function(e){var t=this.parent.element.querySelector(".e-responsive-toolbar");"toolbar"===e.module&&(t?qa(t):this.renderCustomToolbar())},e}(),QM=function(){function e(e,t){this.localizer=t.getService("localization"),this.formatter=t.getService("valueFormatter"),this.parent=e,this.element=this.parent.createElement("TD",{className:uy,attrs:{tabindex:"-1"}}),this.rowChkBox=this.parent.createElement("input",{className:"e-checkselect",attrs:{type:"checkbox","aria-label":this.localizer.getConstant("CheckBoxLabel")}})}return e.prototype.getGui=function(){return""},e.prototype.format=function(e,t,i){return ko(e.format)||("number"===e.type&&isNaN(parseInt(t,10))&&(t=null),t=this.formatter.toView(t,e.getFormatter())),ko(t)?"":t.toString()},e.prototype.evaluate=function(e,t,i,n,r,s){var o,a;if(t.column.template){var l=this.parent.isReact&&"string"!==typeof t.column.template&&t.column.template.prototype&&!t.column.template.prototype.CSPTemplate,h=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,c=["index"],u=Ev({},i,((o={})[Tm]=r,o.column=t.column,o)),p=this.parent.element.id+t.column.uid,d="isStringTemplate";if(l||h){var f={index:n[c[0]]};t.column.getColumnTemplate()(Eo(f,u),this.parent,"columnTemplate",p,this.parent[""+d],null,e)}else a=t.column.getColumnTemplate()(Eo({index:n[c[0]]},u),this.parent,"template",p,this.parent[""+d],void 0,void 0,this.parent.root);return l||h||iv(e,a),this.parent.notify("template-result",{template:a}),a=null,e.setAttribute("aria-label",e.innerText+this.localizer.getConstant("TemplateCell")+this.localizer.getConstant("ColumnHeader")+t.column.headerText),!1}return!0},e.prototype.invokeFormatter=function(e,t,i){var n,r;ko(e.formatter)||(n=e.formatter,r="getValue",t=n.prototype&&r in n.prototype?(new(0,e.formatter)).getValue(e,i):"function"===typeof e.formatter?e.formatter(e,i):e.formatter.getValue(e,i));return t},e.prototype.render=function(e,t,i,n,r){return this.refreshCell(e,t,i,r)},e.prototype.refreshTD=function(e,t,i,n){var r="Batch"===this.parent.editSettings.mode&&e.classList.contains("e-editedbatchcell");if(this.parent.isReact){var s=e.cellIndex,o=e.parentElement;qa(e);var a=this.refreshCell(t,i,n,r);this.cloneAttributes(a,e),o.cells.length!==s-1?o.insertBefore(a,o.cells[parseInt(s.toString(),10)]):o.appendChild(a)}else{var l=this.refreshCell(t,i,n,r);e.innerHTML="",e.setAttribute("aria-label",l.getAttribute("aria-label"));for(var h=0,c=[].slice.call(l.childNodes);h<c.length;h++){var u=c[h];e.appendChild(u)}}},e.prototype.cloneAttributes=function(e,t){for(var i,n=t.attributes,r=n.length;r--;)i=n[parseInt(r.toString(),10)],e.setAttribute(i.name,i.value)},e.prototype.refreshCell=function(e,t,i,n){var r,s,o=this.element.cloneNode(),a=e.column;e.isForeignKey&&(s=e.foreignKeyData[0]||((r={})[a.foreignKeyValue]=a.format?null:"",r));var l=this.getGui(),h=e.isForeignKey?this.getValue(a.foreignKeyValue,s,a):this.getValue(a.field,t,a);if("date"!==a.type&&"datetime"!==a.type&&"dateonly"!==a.type||ko(h)||(h=new Date(h)),l=(h=this.format(a,h,t)).toString(),"boolean"===a.type&&!a.displayAsCheckBox){var c="true"!==h&&"false"!==h?null:"true"===h?"True":"False";l=c?this.localizer.getConstant(c):l}var u=this.invokeFormatter(a,h,t);if(l=ko(a.formatter)?l:ko(u)?"":u.toString(),o.setAttribute("aria-label",l+this.localizer.getConstant("ColumnHeader")+e.column.headerText),this.evaluate(o,e,t,i,s,n)&&"checkbox"!==a.type)this.appendHtml(o,this.parent.sanitize(l),a.getDomSetter?a.getDomSetter():"innerHTML");else if("checkbox"===a.type){o.classList.add(Sy),o.setAttribute("aria-label",this.localizer.getConstant("CheckBoxLabel")),h=!!this.parent.selectionSettings.persistSelection&&"true"===h;var p=ob(this.parent.createElement,!1,{checked:h,label:" "});this.parent.cssClass&&Fa([p],[this.parent.cssClass]),this.rowChkBox.id="checkbox-"+e.rowID,p.insertBefore(this.rowChkBox.cloneNode(),p.firstChild),o.appendChild(p)}if("Check"===this.parent.checkAllRows&&this.parent.enableVirtualization&&(e.isSelected=!0),this.setAttributes(o,e,i),"boolean"===a.type&&a.displayAsCheckBox){var d=isNaN(parseInt(h.toString(),10))?"true"===h:parseInt(h.toString(),10)>0;p=ob(this.parent.createElement,!1,{checked:d,label:" "});o.innerHTML="",o.classList.add("e-gridchkbox-cell"),p.classList.add("e-checkbox-disabled"),this.parent.cssClass&&Fa([p],[this.parent.cssClass]),o.appendChild(p),o.setAttribute("aria-label",d+this.localizer.getConstant("ColumnHeader")+e.column.headerText)}if(o.classList.contains("e-summarycell")&&!t.key){var f=o.getAttribute("e-mappinguid");a=this.parent.getColumnByUid(f)}return this.parent.isFrozenGrid()&&(!t||t&&!t.key)&&Gv(this.parent,a,o),o},e.prototype.appendHtml=function(e,t,i){return void 0===i&&(i="innerHTML"),e[""+i]=t,e},e.prototype.setAttributes=function(e,t,i){var n=t.column;this.buildAttributeFromCell(e,t,"checkbox"===n.type),Yy(e,i),Yy(e,t.attributes),n.customAttributes&&Yy(e,n.customAttributes),"Vertical"===this.parent.rowRenderingMode&&Yy(e,{"data-cell":n.headerText}),n.textAlign&&(e.style.textAlign=n.textAlign),"Clip"===n.clipMode||!n.clipMode&&"Clip"===this.parent.clipMode?e.classList.add("e-gridclip"):"EllipsisWithTooltip"!==n.clipMode&&(n.clipMode||"EllipsisWithTooltip"!==this.parent.clipMode||this.parent.allowTextWrap&&("Content"===this.parent.textWrapSettings.wrapMode||"Both"===this.parent.textWrapSettings.wrapMode))||"checkbox"!==n.type&&e.classList.add("e-ellipsistooltip")},e.prototype.buildAttributeFromCell=function(e,t,i){var n={},r=xy,s=[];t.colSpan&&(n.colSpan=t.colSpan),t.rowSpan&&(n.rowSpan=t.rowSpan),t.isTemplate&&s.push("e-templatecell"),t.isSelected&&(s.push.apply(s,["e-selectionbackground","e-active"]),i&&e.querySelector(".e-frame").classList.add("e-check")),t.isColumnSelected&&s.push.apply(s,["e-columnselection"]),t.cellType===ov.Header?(n[r]=t.colIndex,n[Dy]=t.colIndex+1):ko(t.index)||(n[r]=t.index,n[Dy]=t.index+1),t.visible||s.push("e-hide"),n.class=s,Yy(e,n)},e.prototype.getValue=function(e,t,i){return i.valueAccessor(e,t,i)},e}(),qM=function(){function e(){}return e.prototype.setOptions=function(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++)GM(e,KM[i[parseInt(n.toString(),10)]],t[i[parseInt(n.toString(),10)]])},e.prototype.setExpand=function(e,t){GM(e,KM.expand,t)},e.prototype.setSort=function(e,t){GM(e,KM.sort,t,"boolean"===typeof t)},e.prototype.setBusy=function(e,t){GM(e,KM.busy,t),GM(e,KM.invalid,null,!0)},e.prototype.setGrabbed=function(e,t,i){GM(e,KM.grabbed,t,i)},e.prototype.setDropTarget=function(e,t){GM(e,KM.dropeffect,"copy",!t)},e}();function GM(e,t,i,n){n&&e?e.removeAttribute(t):e&&e.setAttribute(t,i)}var KM={expand:"aria-expanded",role:"role",datarole:"data-role",selected:"aria-selected",multiselectable:"aria-multiselectable",sort:"aria-sort",busy:"aria-busy",invalid:"aria-invalid",grabbed:"aria-grabbed",dropeffect:"aria-dropeffect",haspopup:"aria-haspopup",level:"aria-level",colcount:"aria-colcount",rowcount:"aria-rowcount"},XM=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),JM=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-headercell",attrs:{tabindex:"-1"}}),t.ariaService=new qM,t.hTxtEle=t.parent.createElement("span",{className:"e-headertext"}),t.sortEle=t.parent.createElement("div",{className:"e-sortfilterdiv e-icons",attrs:{"aria-hidden":"true"}}),t.gui=t.parent.createElement("div"),t.chkAllBox=t.parent.createElement("input",{className:"e-checkselectall",attrs:{type:"checkbox","aria-label":t.localizer.getConstant("CheckBoxLabel")}}),t}return XM(t,e),t.prototype.getGui=function(){return this.gui.cloneNode()},t.prototype.render=function(e,t,i){var n=this.element.cloneNode(),r=this.parent.createElement("div",{className:"e-filtermenudiv e-icons e-icon-filter",attrs:{"aria-hidden":"true"}});return this.prepareHeader(e,n,r)},t.prototype.refresh=function(e,t){this.clean(t);var i=this.parent.createElement("div",{className:"e-filtermenudiv e-icons e-icon-filter",attrs:{"aria-hidden":"true"}});return this.prepareHeader(e,t,i)},t.prototype.clean=function(e){e.innerHTML=""},t.prototype.prepareHeader=function(e,t,i){var n,r,s=e.column,o={},a="",l=this.getGui();if(Ga(l,{"e-mappinguid":s.uid,class:"e-headercelldiv"}),ko(s.headerValueAccessor)||(n=this.getValue(s.headerText,s)),"checkbox"!==s.type){var h=s.headerText;ko(n)||(h=n);var c=this.hTxtEle.cloneNode();c[s.getDomSetter()]=this.parent.sanitize(h),l.appendChild(c)}else{s.editType="booleanedit";var u=ob(this.parent.createElement,!1,{checked:!1,label:" "});this.chkAllBox.id="checkbox-"+s.uid,u.insertBefore(this.chkAllBox.cloneNode(),u.firstChild),this.parent.cssClass&&Fa([u],[this.parent.cssClass]),l.appendChild(u),l.classList.add("e-headerchkcelldiv")}if(this.buildAttributeFromCell(t,e),this.appendHtml(t,l),t.appendChild(this.sortEle.cloneNode()),this.parent.allowFiltering&&"FilterBar"!==this.parent.filterSettings.type&&s.allowFiltering&&!ko(s.field)&&(!this.parent.showColumnMenu||!s.showColumnMenu)){Ga(i,{"e-mappinguid":"e-flmenu-"+s.uid}),a=a.length?a+". "+this.localizer.getConstant("FilterDescription"):this.localizer.getConstant("FilterDescription"),t.classList.add("e-fltr-icon");var p=[];if(this.parent.filterSettings.columns.length&&this.parent.filterSettings.columns.length!==p.length)for(var d=this.parent.getForeignKeyColumns(),f=0;f<this.parent.columns.length;f++)for(var g=0;g<this.parent.filterSettings.columns.length;g++)if(this.parent.filterSettings.columns[parseInt(g.toString(),10)].field===s.field||d.length&&s.foreignKeyValue===this.parent.filterSettings.columns[parseInt(g.toString(),10)].field){i.classList.add("e-filtered"),p.push(s.field);break}t.appendChild(i.cloneNode())}e.className&&t.classList.add(e.className),s.customAttributes&&Yy(t,s.customAttributes),this.parent.allowSorting&&s.allowSorting&&(o.sort="none",a=a.length?a+". "+this.localizer.getConstant("SortDescription"):this.localizer.getConstant("SortDescription")),(this.parent.allowGrouping&&s.allowGrouping||this.parent.allowReordering&&s.allowReordering)&&(o.grabbed=!1,a=a.length?a+". "+this.localizer.getConstant("GroupDescription"):this.localizer.getConstant("GroupDescription")),this.parent.showColumnMenu&&(a=a.length?a+". "+this.localizer.getConstant("ColumnMenuDescription"):this.localizer.getConstant("ColumnMenuDescription")),t=this.extendPrepareHeader(s,t);var m=this.parent,y=m.getColumnIndexByField(s.field);if(!ko(s.headerTemplate)){var v=m.element.id+s.uid+"headerTemplate",b="isStringTemplate",M=s,S=this.parent.isReact&&"string"!==typeof s.headerTemplate,w=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact;if(S||w){var _={index:y};t.firstElementChild.innerHTML="",s.getHeaderTemplate()(Eo(_,M),m,"headerTemplate",v,this.parent[""+b],null,t.firstElementChild),this.parent.renderTemplates()}else r=s.getHeaderTemplate()(Eo({index:y},M),m,"headerTemplate",v,this.parent[""+b],void 0,void 0,this.parent.root),t.firstElementChild.innerHTML="",iv(t.firstElementChild,r)}if(this.ariaService.setOptions(t,o),!ko(s.headerTextAlign)||!ko(s.textAlign)){var I=s.headerTextAlign||s.textAlign;l.style.textAlign=I,"Right"===I||"Left"===I?t.classList.add("Right"===I?"e-rightalign":"e-leftalign"):"Center"===I&&t.classList.add("e-centeralign")}"Clip"===s.clipMode||!s.clipMode&&"Clip"===this.parent.clipMode?t.classList.add("e-gridclip"):"EllipsisWithTooltip"!==s.clipMode&&(s.clipMode||"EllipsisWithTooltip"!==this.parent.clipMode)||m.allowTextWrap&&("Header"===m.textWrapSettings.wrapMode||"Both"===m.textWrapSettings.wrapMode)||"checkbox"!==s.type&&t.classList.add("e-ellipsistooltip"),a&&t.setAttribute("aria-description",a),t.setAttribute("aria-rowspan",(ko(e.rowSpan)?1:e.rowSpan).toString()),t.setAttribute("aria-colspan","1");var N=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact;if((this.parent.isReact&&this.parent.requireTemplateRef||N&&this.parent.parentDetails.parentInstObj.requireTemplateRef)&&!ko(s.headerTemplate)){var C=this;C.parent.renderTemplates((function(){C.parent.trigger(yg,{cell:e,node:t})}))}else this.parent.trigger(yg,{cell:e,node:t});return this.parent.isFrozenGrid()&&Gv(this.parent,s,t),t},t.prototype.getValue=function(e,t){return t.headerValueAccessor(e,t)},t.prototype.extendPrepareHeader=function(e,t){if(this.parent.showColumnMenu&&e.showColumnMenu&&!ko(e.field)){var i=this.parent.createElement("div",{className:"e-icons e-columnmenu",attrs:{"aria-hidden":"true"}}),n=[];if(this.parent.filterSettings.columns.length&&this.parent.filterSettings.columns.length!==n.length)for(var r=0;r<this.parent.columns.length;r++)for(var s=0;s<this.parent.filterSettings.columns.length;s++)if(this.parent.filterSettings.columns[parseInt(s.toString(),10)].field===e.field){i.classList.add("e-filtered"),n.push(e.field);break}t.classList.add("e-fltr-icon"),t.appendChild(i)}if(this.parent.allowResizing){var o=this.parent.createElement("div");o.className=e.allowResizing?"e-rhandler e-rcursor":"e-rsuppress",t.appendChild(o)}return t},t.prototype.appendHtml=function(e,t){return e.appendChild(t),e},t}(QM),ZM=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-headercell e-stackedheadercell",attrs:{tabindex:"-1"}}),t}return ZM(t,e),t.prototype.render=function(e,t,i){var n=this.element.cloneNode(),r=this.parent.createElement("div",{className:"e-stackedheadercelldiv",attrs:{"e-mappinguid":e.column.uid}}),s=e.column;if(n.appendChild(r),ko(s.headerTemplate)?this.appendHtml(r,this.parent.sanitize(s.headerText),s.getDomSetter()):iv(r,s.getHeaderTemplate()(s,this.parent,"headerTemplate")),e.column.toolTip&&n.setAttribute("title",e.column.toolTip),"Clip"===s.clipMode||!s.clipMode&&"Clip"===this.parent.clipMode?n.classList.add("e-gridclip"):("EllipsisWithTooltip"===s.clipMode||!s.clipMode&&"EllipsisWithTooltip"===this.parent.clipMode)&&n.classList.add("e-ellipsistooltip"),ko(e.column.textAlign)||(r.style.textAlign=e.column.textAlign),e.column.customAttributes&&Yy(n,e.column.customAttributes),n.setAttribute("colspan",e.colSpan.toString()),n.setAttribute("aria-colspan",e.colSpan.toString()),n.setAttribute("aria-rowspan","1"),this.parent.allowResizing){var o=this.parent.createElement("div");o.className=e.column.allowResizing?"e-rhandler e-rcursor":"e-rsuppress",n.appendChild(o)}if(e.className&&n.classList.add(e.className),this.parent.trigger(yg,{cell:e,node:n}),"Left"===Yv(s))if(n.classList.add("e-leftfreeze"),"Left"===s.border&&n.classList.add("e-freezeleftborder"),0===s.index)qv(n,30*this.parent.getIndentCount(),this.parent.enableRtl,"Left");else{for(var a=this.parent.getColumns(),l=30*this.parent.getIndentCount(),h=0;h<a.length&&!(s.index<a[parseInt(h.toString(),10)].index);h++)a[parseInt(h.toString(),10)].visible&&(l+=parseFloat(a[parseInt(h.toString(),10)].width.toString()));qv(n,l,this.parent.enableRtl,"Left")}else if("Right"===Yv(s)){n.classList.add("e-rightfreeze");for(a=this.parent.getColumns(),l="Right"===this.parent.getFrozenMode()&&this.parent.isRowDragable()?30:0,h=a.length-1;h>=0&&!(Hv(s,a[parseInt(h.toString(),10)].uid)||s.index>a[parseInt(h.toString(),10)].index);h--)a[parseInt(h.toString(),10)].visible&&(l+=parseFloat(a[parseInt(h.toString(),10)].width.toString()));qv(n,l,this.parent.enableRtl,"Right"),"Right"===s.border&&n.classList.add("e-freezerightborder")}else if("Fixed"===Yv(s)){n.classList.add("e-fixedfreeze");a=this.parent.getColumns(),l=0;this.parent.getVisibleFrozenLeftCount()?l=30*this.parent.getIndentCount():"Right"===this.parent.getFrozenMode()&&(l=30*this.parent.groupSettings.columns.length);for(h=0;h<a.length;h++)s.index>a[parseInt(h.toString(),10)].index&&("Left"===a[parseInt(h.toString(),10)].freeze||a[parseInt(h.toString(),10)].isFrozen||"Fixed"===a[parseInt(h.toString(),10)].freeze)&&a[parseInt(h.toString(),10)].visible&&(l+=parseFloat(a[parseInt(h.toString(),10)].width.toString()));qv(n,l-1,this.parent.enableRtl,"Left"),l="Right"===this.parent.getFrozenMode()&&this.parent.isRowDragable()?30:0;for(h=a.length-1;h>=0;h--)if(s.index<a[parseInt(h.toString(),10)].index){if(Hv(s,a[parseInt(h.toString(),10)].uid)||s.index>a[parseInt(h.toString(),10)].index)break;"Right"!==a[parseInt(h.toString(),10)].freeze&&"Fixed"!==a[parseInt(h.toString(),10)].freeze||a[parseInt(h.toString(),10)].visible&&(l+=parseFloat(a[parseInt(h.toString(),10)].width.toString()))}qv(n,l-1,this.parent.enableRtl,"Right")}else n.classList.add("e-unfreeze");return n},t}(QM),eS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-indentcell"}),t}return eS(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return Yy(i,e.attributes),i},t}(QM),iS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),nS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellUid=0,t.element=t.parent.createElement("TD",{className:"e-groupcaption",attrs:{id:t.parent.element.id+"captioncell",tabindex:"-1"}}),t}return iS(t,e),t.prototype.render=function(e,t){this.element.id=this.parent.element.id+"captioncell"+this.cellUid++;var i,n,r,s=this.element.cloneNode(),o=this.parent,a=e.column,l=a.getDomSetter?a.getDomSetter():"innerHTML";t.headerText=e.column.headerText,e.isForeignKey&&(n=this.format(e.column,e.column.valueAccessor("foreignKey",t,e.column)));for(var h=e.isForeignKey?n:e.column.enableGroupByFormat?t.key:this.format(e.column,e.column.valueAccessor("key",t,e.column)),c=0;c<o.aggregates.length;c++)for(var u=0;u<o.aggregates[parseInt(c.toString(),10)].columns.length;u++)if(o.getVisibleColumns()[0].field===o.aggregates[parseInt(c.toString(),10)].columns[parseInt(u.toString(),10)].field&&o.aggregates[parseInt(c.toString(),10)].columns[parseInt(u.toString(),10)].groupCaptionTemplate){r=o.aggregates[parseInt(c.toString(),10)].columns[parseInt(u.toString(),10)].groupCaptionTemplate.includes("$")?o.aggregates[parseInt(c.toString(),10)].columns[parseInt(u.toString(),10)].groupCaptionTemplate.split("$")[0]+t[o.getVisibleColumns()[0].field][o.aggregates[parseInt(c.toString(),10)].columns[parseInt(u.toString(),10)].type]+o.aggregates[parseInt(c.toString(),10)].columns[parseInt(u.toString(),10)].groupCaptionTemplate.split("}")[1]:o.aggregates[parseInt(c.toString(),10)].columns[parseInt(u.toString(),10)].groupCaptionTemplate;break}if(ko(o.groupSettings.captionTemplate))o.groupSettings.enableLazyLoading?s[""+l]=this.parent.sanitize(e.column.headerText)+": "+this.parent.sanitize(h)+(r?"   "+r:""):s[""+l]=this.parent.sanitize(e.column.headerText)+": "+this.parent.sanitize(h)+" - "+t.count+" "+(t.count<2?this.localizer.getConstant("Item"):this.localizer.getConstant("Items"))+(r?"   "+r:"");else{var p=this.parent.isReact&&"string"!==typeof o.groupSettings.captionTemplate,d=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact;if(p||d){var f=o.element.id+"captionTemplate";Wy(o.groupSettings.captionTemplate)(t,this.parent,"captionTemplate",f,null,null,s),this.parent.renderTemplates()}else i=this.parent.isVue?Wy(o.groupSettings.captionTemplate)(t,this.parent):Wy(o.groupSettings.captionTemplate)(t);p||d||iv(s,i)}return s.setAttribute("colspan",e.colSpan.toString()),s.setAttribute("aria-label",s.innerHTML+this.localizer.getConstant("GroupCaption")),s.setAttribute("title",s.textContent),s},t}(QM),rS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-groupcaption"}),t}return iS(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return i.innerHTML="&nbsp;",i.setAttribute("colspan",e.colSpan.toString()),i},t}(QM),sS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),oS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sS(t,e),t.prototype.render=function(e,t,i,n){var r=this.element.cloneNode();return r.setAttribute("ej-mappingname",t.field),r.setAttribute("ej-mappingvalue",t.key),r.setAttribute("aria-expanded",n?"true":"false"),r.setAttribute("tabindex","-1"),this.parent.infiniteScrollSettings&&this.parent.infiniteScrollSettings.enableCache?(e.cellType=ov.Indent,r.className=n?"e-recordplusexpand e-disablepointer":"e-recordpluscollapse e-disablepointer"):(r.className=n?"e-recordplusexpand":"e-recordpluscollapse",r.appendChild(this.parent.createElement("a",{className:n?"e-icons e-gdiagonaldown e-icon-gdownarrow":"e-icons e-gnextforward e-icon-grightarrow",attrs:{href:"#",title:n?"expanded":"collapsed"}}))),r},t}(tS),aS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),lS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-grouptopleftcell"}),t}return aS(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-headercelldiv e-emptycell",innerHTML:""})),i},t}(QM),hS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),cS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-detailheadercell"}),t}return hS(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-emptycell"})),i},t}(QM),uS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),pS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-detailrowcollapse",attrs:{"aria-expanded":"false",tabindex:"-1"}}),t}return uS(t,e),t.prototype.render=function(e,t,i){var n=this.element.cloneNode();return i&&!ko(i.class)?(n.className="",n.className=i.class,n.appendChild(this.parent.createElement("a",{className:"e-icons e-dtdiagonaldown e-icon-gdownarrow",attrs:{href:"#",title:this.localizer.getConstant("Expanded")}}))):n.appendChild(this.parent.createElement("a",{className:"e-icons e-dtdiagonalright e-icon-grightarrow",attrs:{href:"#",title:this.localizer.getConstant("Collapsed")}})),n},t}(QM),dS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-rowdragdrop e-rowdragdropcell",attrs:{tabindex:"-1"}}),t}return dS(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();(i.appendChild(this.parent.createElement("div",{className:"e-icons e-rowcelldrag e-dtdiagonalright e-icon-rowdragicon",attrs:{"aria-hidden":"true"}})),e.isSelected&&(i.classList.add("e-selectionbackground"),i.classList.add("e-active")),this.parent.getVisibleFrozenRightCount()||this.parent.getVisibleFrozenLeftCount())&&(i.classList.add("e-leftfreeze"),qv(i,"Right"===this.parent.getFrozenMode()?0:30*this.parent.groupSettings.columns.length,this.parent.enableRtl,"Right"===this.parent.getFrozenMode()?"Right":"Left"));return i},t}(QM),gS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),mS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-rowdragheader"}),t}return gS(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();(i.appendChild(Ra("div",{className:"e-emptycell"})),this.parent.getVisibleFrozenRightCount()||this.parent.getVisibleFrozenLeftCount())&&(i.classList.add("e-leftfreeze"),qv(i,"Right"===this.parent.getFrozenMode()?0:30*this.parent.groupSettings.columns.length,this.parent.enableRtl,"Right"===this.parent.getFrozenMode()?"Right":"Left"));return i},t}(QM),yS=function(){function e(e,t){this.emptyGrid=!1,this.counter=0,this.parent=e,this.locator=t,this.data=new EM(e,t),this.l10n=t.getService("localization"),this.ariaService=this.locator.getService("ariaService"),this.renderer=this.locator.getService("rendererFactory"),this.addEventListener()}return e.prototype.render=function(){var e=this.parent;this.headerRenderer=this.renderer.getRenderer(av.Header),this.contentRenderer=this.renderer.getRenderer(av.Content),this.headerRenderer.renderPanel(),this.contentRenderer.renderPanel(),e.getColumns().length&&(this.isLayoutRendered=!0,this.headerRenderer.renderTable(),this.contentRenderer.renderTable(),this.emptyRow(!1)),this.parent.scrollModule.setWidth(),this.parent.scrollModule.setHeight(),"auto"!==this.parent.height&&this.parent.scrollModule.setPadding(),this.refreshDataManager()},e.prototype.refresh=function(e){var t=this;void 0===e&&(e={requestType:"refresh"});var i=this.parent;i.notify(e.requestType+"-begin",e),i.trigger(vg,e,(function(e){if(void 0===e&&(e={requestType:"refresh"}),e.cancel){if(i.notify(Lm,e),"clearFilter"===e.action&&"Menu"===t.parent.filterSettings.type){t.parent.filterSettings.columns[t.parent.filterModule.filterObjIndex]=t.parent.filterModule.prevFilterObject;var n=t.parent.showColumnMenu&&t.parent.filterModule.column.showColumnMenu?".e-columnmenu":".e-icon-filter",r=t.parent.element.querySelector('[e-mappinguid="'+t.parent.filterModule.column.uid+'"]').parentElement.querySelector(n);ko(t.parent.filterModule.prevFilterObject)||r.classList.add("e-filtered")}"clear-filter"!==e.action||"CheckBox"!==t.parent.filterSettings.type&&"Excel"!==t.parent.filterSettings.type||(t.parent.filterSettings.columns=t.parent.filterModule.checkboxPrevFilterObject)}else{if(i.allowSelection&&("clearFilter"===e.action||"searching"===e.requestType&&""===e.searchString||"add"===e.action)&&(i.selectionModule.rmtHdrChkbxClicked=!1),i.allowPaging&&i.pageSettings.pageSizes&&i.pagerModule.pagerObj.isAllPage&&"add"===e.action&&"save"===e.requestType&&i.pagerModule.pagerObj.checkAll&&i.setProperties({pageSettings:{pageSize:i.pageSettings.pageSize+1}},!0),"delete"===e.requestType&&i.allowPaging){var s=e.data.length,o=i.pageSettings.totalRecordsCount-s;(!(i.getCurrentViewRecords().length-s)&&o&&(i.pageSettings.currentPage-1)*i.pageSettings.pageSize===o||o&&o<=s)&&(i.prevPageMoving=!0,i.setProperties({pageSettings:{totalRecordsCount:o,currentPage:Math.ceil(o/i.pageSettings.pageSize)}},!0),i.pagerModule.pagerObj.totalRecordsCount=o)}"reorder"===e.requestType&&t.parent.dataSource&&"result"in t.parent.dataSource||("paging"===e.requestType||"columnstate"===e.requestType||"reorder"===e.requestType)&&t.parent.groupSettings.enableLazyLoading&&t.parent.groupSettings.columns.length&&(t.parent.enableVirtualization?t.parent.lazyLoadRender:t.parent.contentModule).getGroupCache()[t.parent.pageSettings.currentPage]?t.contentRenderer.refreshContentRows(e):t.refreshDataManager(e)}}))},e.prototype.resetTemplates=function(){var e=this.parent,t=e.getColumns();if(e.detailTemplate){var i=e.element.id+"detailTemplate";Vh[""+i]=[],Hh(i)}e.groupSettings.captionTemplate&&Hh(e.element.id+"captionTemplate"),e.rowTemplate&&Hh(e.element.id+"rowTemplate"),e.toolbarTemplate&&Hh(e.element.id+"toolbarTemplate"),e.pageSettings.template&&Hh(e.element.id+"_template");for(var n=0;n<t.length;n++)t[parseInt(n.toString(),10)].template&&(Vh[e.element.id+t[parseInt(n.toString(),10)].uid]=[],Hh(e.element.id+t[parseInt(n.toString(),10)].uid)),t[parseInt(n.toString(),10)].headerTemplate&&Hh(e.element.id+t[parseInt(n.toString(),10)].uid+"headerTemplate"),t[parseInt(n.toString(),10)].filterTemplate&&Hh(e.element.id+t[parseInt(n.toString(),10)].uid+"filterTemplate");for(var r="guid",s=0;s<e.aggregates.length;s++)for(var o=0;o<e.aggregates[parseInt(s.toString(),10)].columns.length;o++){if(e.aggregates[parseInt(s.toString(),10)].columns[parseInt(o.toString(),10)].footerTemplate)Hh(e.element.id+e.aggregates[parseInt(s.toString(),10)].columns[parseInt(o.toString(),10)][""+r]+"footerTemplate");if(e.aggregates[parseInt(s.toString(),10)].columns[parseInt(o.toString(),10)].groupFooterTemplate)Hh(e.element.id+e.aggregates[parseInt(s.toString(),10)].columns[parseInt(o.toString(),10)][""+r]+"groupFooterTemplate");if(e.aggregates[parseInt(s.toString(),10)].columns[parseInt(o.toString(),10)].groupCaptionTemplate)Hh(e.element.id+e.aggregates[parseInt(s.toString(),10)].columns[parseInt(o.toString(),10)][""+r]+"groupCaptionTemplate")}},e.prototype.refreshComplete=function(e){this.parent.trigger(bg,e)},e.prototype.refreshDataManager=function(e){var t=this;void 0===e&&(e={});var i,n=this.parent,r="Shimmer"===n.loadingIndicator.indicatorType&&"virtualscroll"!==e.requestType&&"infiniteScroll"!==e.requestType||("virtualscroll"===e.requestType||"infiniteScroll"===e.requestType)&&n.enableVirtualMaskRow;"virtualscroll"===e.requestType||e.isCaptionCollapse||r||this.parent.showSpinner(),r&&n.showMaskRow("virtualscroll"===e.requestType?e.virtualInfo.sentinelInfo.axis:"infiniteScroll"===e.requestType?e.direction:void 0),this.parent.notify("reset-infinite-blocks",e),this.emptyGrid=!1;var s=this.isNeedForeignAction();if(this.ariaService.setBusy(this.parent.getContent().querySelector("."+vy),!0),s){var o=new yp;i=this.getFData(o,e)}if(i?i=i.then((function(i){var n=t.data.generateQuery().requiresCount();if(t.emptyGrid){var r=new yp;return r.resolve({result:[],count:0}),r.promise}return t.data.getData(e,n)})):(n.allowPaging&&!n.getDataModule().dataManager.dataSource.offline&&n.pageSettings&&n.pageSettings.pageSizes&&n.pagerModule&&n.pagerModule.pagerObj&&n.pagerModule.pagerObj.isAllPage&&(n.pagerModule.pagerObj.isAllPage=void 0),i=this.data.getData(e,this.data.generateQuery().requiresCount())),this.parent.getForeignKeyColumns().length&&(!s||this.parent.searchSettings.key.length)){var a=new yp;i=i.then((function(n){return t.parent.notify(Cm,{dataManager:i,result:n,promise:a,action:e}),a.promise}))}this.parent.groupSettings.disablePageWiseAggregates&&this.parent.groupSettings.columns.length&&(i=i.then((function(e){return t.validateGroupRecords(e)}))),i.then((function(i){return t.dataManagerSuccess(i,e)})).catch((function(i){return t.dataManagerFailure(i,e)}))},e.prototype.getFData=function(e,t){return this.parent.notify(Cm,{isComplex:!0,promise:e,action:t}),e.promise},e.prototype.isNeedForeignAction=function(){var e=this.parent;return!!(e.allowFiltering&&e.filterSettings.columns.length||e.searchSettings.key.length)&&this.foreignKey(this.parent.getForeignKeyColumns())},e.prototype.foreignKey=function(e){var t=this;return e.some((function(e){return!(!t.parent.filterSettings.columns.some((function(t){return e.uid===t.uid}))&&!t.parent.searchSettings.key.length)}))},e.prototype.sendBulkRequest=function(e){var t=this;e.requestType="batchsave";var i=this.parent;if(i.allowPaging&&i.pageSettings.pageSizes&&i.pagerModule.pagerObj.isAllPage&&i.pagerModule.pagerObj.checkAll){var n=e.changes.addedRecords.length;n&&i.setProperties({pageSettings:{pageSize:i.pageSettings.pageSize+n}},!0)}i.allowPaging&&(e.changes.addedRecords.length||e.changes.deletedRecords.length||e.changes.changedRecords.length)&&i.pageSettings&&i.pageSettings.pageSizes&&i.pagerModule&&i.pagerModule.pagerObj&&!i.getDataModule().dataManager.dataSource.offline&&i.pagerModule.pagerObj.isAllPage&&(i.pagerModule.pagerObj.isAllPage=void 0);var r=this.data.saveChanges(e.changes,this.parent.getPrimaryKeyFieldNames()[0],e.original),s=this.data.generateQuery().requiresCount();this.data.dataManager.dataSource.offline?this.refreshDataManager({requestType:"batchsave"}):r.then((function(i){t.data.getData(e,s).then((function(i){return t.dmSuccess(i,e)})).catch((function(i){return t.dmFailure(i,e)}))})).catch((function(i){return t.dmFailure(i,e)}))},e.prototype.dmSuccess=function(e,t){this.dataManagerSuccess(e,t)},e.prototype.dmFailure=function(e,t){this.dataManagerFailure(e,t)},e.prototype.renderEmptyRow=function(){this.emptyRow(!0)},e.prototype.emptyRow=function(e){var t=this.parent,i=this.contentRenderer.getTable().querySelector(jy);ko(i)||qa(i),i=this.parent.createElement(jy,{attrs:{role:"rowgroup"}});var n=0;(t.detailTemplate||t.childGrid)&&++n;var r=this.parent.createElement("tr",{className:"e-emptyrow"}),s=this.parent.createElement("td",{innerHTML:this.l10n.getConstant("EmptyRecord"),attrs:{colspan:(t.getVisibleColumns().length+n+t.groupSettings.columns.length).toString()}});t.isFrozenGrid()&&(s.classList.add("e-leftfreeze"),s.style.left="0px"),t.frozenRows&&t.element.querySelector(".e-frozenrow-border")&&this.parent.element.querySelector(".e-frozenrow-border").classList.add("e-frozenrow-empty"),r.appendChild(s),i.appendChild(r),this.contentRenderer.renderEmpty(i),e&&(this.parent.trigger(Sg,{}),this.parent.notify(Qg,{rows:[new kM({isDataRow:!0,cells:[new zM({isDataCell:!0,visible:!0})]})]}))},e.prototype.dynamicColumnChange=function(){this.parent.getCurrentViewRecords().length&&this.updateColumnType(this.parent.getCurrentViewRecords()[0])},e.prototype.updateColumnType=function(e){for(var t,i=this.parent.getColumns(),n="customFormat",r="equalTo",s=e&&e.items?e.items[0]:e,o=this.locator.getService("valueFormatter"),a=0,l=i.length;a<l;a++){t=Tv(i[parseInt(a.toString(),10)].field||"",s),ko(i[parseInt(a.toString(),10)][""+n])||(i[parseInt(a.toString(),10)].format=i[parseInt(a.toString(),10)][""+n]),ko(i[parseInt(a.toString(),10)].validationRules)||ko(i[parseInt(a.toString(),10)].validationRules[""+r])||(i[parseInt(a.toString(),10)].validationRules[""+r][0]=this.parent.element.id+i[parseInt(a.toString(),10)].validationRules[""+r][0]),i[parseInt(a.toString(),10)].isForeignColumn()&&i[parseInt(a.toString(),10)].columnData&&(t=Tv(i[parseInt(a.toString(),10)].foreignKeyValue||"",i[parseInt(a.toString(),10)].columnData[0])),ko(t)?i[parseInt(a.toString(),10)].type=i[parseInt(a.toString(),10)].type||null:(this.isColTypeDef=!0,i[parseInt(a.toString(),10)].type||(i[parseInt(a.toString(),10)].type=t.getDay?t.getHours()>0||t.getMinutes()>0||t.getSeconds()>0||t.getMilliseconds()>0?"datetime":"date":typeof t));var h=new hg;i[parseInt(a.toString(),10)].format&&(i[parseInt(a.toString(),10)].format.skeleton||i[parseInt(a.toString(),10)].format.format&&"string"===typeof i[parseInt(a.toString(),10)].format.format)&&(i[parseInt(a.toString(),10)].setFormatter(h.getFormatFunction(Eo({},i[parseInt(a.toString(),10)].format))),i[parseInt(a.toString(),10)].setParser(h.getParserFunction(i[parseInt(a.toString(),10)].format))),"string"===typeof i[parseInt(a.toString(),10)].format?yv(this.locator,i[parseInt(a.toString(),10)]):i[parseInt(a.toString(),10)].format||"number"!==i[parseInt(a.toString(),10)].type||i[parseInt(a.toString(),10)].setParser(o.getParserFunction({format:"n2"})),"dateonly"!==i[parseInt(a.toString(),10)].type||i[parseInt(a.toString(),10)].format||(i[parseInt(a.toString(),10)].format="yMd",yv(this.locator,i[parseInt(a.toString(),10)]))}},e.prototype.dataManagerSuccess=function(e,t){var i=this,n=this.parent;this.contentRenderer=this.renderer.getRenderer(av.Content),this.headerRenderer=this.renderer.getRenderer(av.Header),e.actionArgs=t;var r=this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&!n.groupSettings.enableLazyLoading&&("delete"===t.requestType||"save"===t.requestType&&"add"===this.parent.infiniteScrollModule.requestType&&!(n.sortSettings.columns.length||n.filterSettings.columns.length||this.parent.groupSettings.columns.length||n.searchSettings.key));n.trigger(Lg,e,(function(s){if(!s.cancel){s.result=ko(s.result)?[]:s.result;var o=Object.keys(s.result).length;if(!i.parent.isDestroyed)if(n.getColumns().length||o||n.columns.length&&n.columns[0]instanceof pg)if(!i.isInfiniteEnd(t)||o){if(i.parent.isEdit=!1,i.parent.notify("edit-reset",{}),i.parent.notify(gm,{}),t&&"infiniteScroll"!==t.requestType&&i.parent.notify("commandColumnDestroy",{type:"refreshCommandColumn"}),i.contentRenderer.prevCurrentView=i.parent.currentViewData.slice(),n.currentViewData=s.result,n.notify("refresh-infinite-current-view-data",{args:t,data:s.result}),s.count&&!n.allowPaging&&(n.enableVirtualization||n.enableInfiniteScrolling)&&(n.totalDataRecordsCount=s.count),!o&&s.count&&n.allowPaging&&t&&"delete"!==t.requestType)return!i.parent.groupSettings.enableLazyLoading||"grouping"!==t.requestType&&"ungrouping"!==t.requestType||i.parent.notify("grouping-complete",t),n.prevPageMoving=!0,n.pageSettings.totalRecordsCount=s.count,"paging"!==t.requestType&&(n.pageSettings.currentPage=Math.ceil(s.count/n.pageSettings.pageSize)),void n.dataBind();if((n.getColumns().length||!o)&&i.isLayoutRendered||Dv(n)||(n.removeMaskRow(),i.updatesOnInitialRender(s)),!i.isColTypeDef&&n.getCurrentViewRecords()&&(i.data.dataManager.dataSource.offline&&n.dataSource&&n.dataSource.length?i.updateColumnType(n.dataSource[0]):i.updateColumnType(n.getCurrentViewRecords()[0])),i.parent.isInitialLoad||!i.parent.groupSettings.disablePageWiseAggregates||i.parent.groupSettings.columns.length||(s.result=i.parent.dataSource instanceof Array?i.parent.dataSource:i.parent.currentViewData),!i.parent.isReact&&!i.parent.isVue||ko(t)||"infiniteScroll"===t.requestType||t.isFrozen||ib(i.parent,["footerTemplate"]),i.parent.isAngular&&i.parent.allowGrouping&&i.parent.groupSettings.captionTemplate&&(ko(t)||"infiniteScroll"!==t.requestType)&&i.parent.destroyTemplate(["groupSettings_captionTemplate"]),i.parent.notify(Hg,Eo({count:s.count,result:s.result,aggregates:s.aggregates},t)),(n.groupSettings.columns.length||t&&"ungrouping"===t.requestType)&&t&&"filtering"!==t.requestType&&i.headerRenderer.refreshUI(),o){if(Dv(n)){t.scrollTop={top:i.contentRenderer.content.scrollTop}}r?i.parent.notify(Ym,{e:t,result:e.result,count:e.count,agg:e.aggregates}):i.parent.enableImmutableMode?i.contentRenderer.immutableModeRendering(t):i.contentRenderer.refreshContentRows(t)}else{if(t&&t.isCaptionCollapse)return;if(!n.getColumns().length)return n.element.innerHTML="",void alert(i.l10n.getConstant("EmptyDataSourceError"));if(i.contentRenderer.setRowElements([]),i.contentRenderer.setRowObjects([]),i.ariaService.setBusy(i.parent.getContent().querySelector("."+vy),!1),n.removeMaskRow(),i.renderEmptyRow(),n.enableColumnVirtualization&&!o&&i.parent.notify(Wg,{rows:n.getRowsObject(),args:{}}),t){var a=(t.requestType||"").toLowerCase()+"-complete";i.parent.notify(a,t),"batchsave"===t.requestType&&(t.cancel=!1,t.rows=[],t.isFrozen=!t.isFrozen,i.parent.trigger(bg,t))}i.parent.autoFit&&i.parent.preventAdjustColumns(),i.parent.hideSpinner()}i.parent.notify(dm,{}),i.setRowCount(i.parent.getCurrentViewRecords().length),"query"in e&&(i.parent.getDataModule().isQueryInvokedFromData=!1)}else i.parent.notify(Ym,{e:t,result:e.result,count:e.count,agg:e.aggregates});else n.hideSpinner()}}))},e.prototype.dataManagerFailure=function(e,t){ko(this.parent.contentModule)||(this.ariaService.setOptions(this.parent.getContent().querySelector("."+vy),{busy:!1,invalid:!0}),this.setRowCount(1)),this.parent.trigger(Mg,{error:e}),this.parent.hideSpinner(),this.parent.removeMaskRow(),"save"!==t.requestType&&"delete"!==t.requestType&&"bulk-save"!==t.name&&(this.parent.currentViewData=[],this.renderEmptyRow(),this.parent.isInitialLoad||this.parent.focusModule.setFirstFocusableTabIndex(),this.parent.log("actionfailure",{error:e}))},e.prototype.setRowCount=function(e){this.ariaService.setOptions(this.parent.getHeaderTable(),{rowcount:e?e.toString():"1"})},e.prototype.isInfiniteEnd=function(e){return this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&"delete"===e.requestType},e.prototype.updatesOnInitialRender=function(e){this.isLayoutRendered=!0;var t=!1;this.parent.columns.length<1&&(this.buildColumns(e.result[0]),t=!0),Gy(this.parent.columns,null,this.parent),t&&this.parent.notify(cy,{}),this.headerRenderer.renderTable(),this.contentRenderer.renderTable(),this.parent.isAutoGen=!0,this.parent.notify(fm,{})},e.prototype.iterateComplexColumns=function(e,t,i){for(var n=Object.keys(e),r=0;r<n.length;r++){("object"!==typeof e[n[parseInt(r.toString(),10)]]||!e[n[parseInt(r.toString(),10)]]||e[n[parseInt(r.toString(),10)]]instanceof Date?[]:Object.keys(e[n[parseInt(r.toString(),10)]])).length?this.iterateComplexColumns(e[n[parseInt(r.toString(),10)]],t+(n[parseInt(r.toString(),10)]+"."),i):(i[this.counter]=t+n[parseInt(r.toString(),10)],this.counter++)}},e.prototype.buildColumns=function(e){var t=[],i={};this.iterateComplexColumns(e,"",i);for(var n=Object.keys(i).filter((function(e){return"BlazId"!==i[""+e]})).map((function(e){return i[""+e]})),r=0,s=n.length;r<s;r++)t[parseInt(r.toString(),10)]={field:n[parseInt(r.toString(),10)]},this.parent.enableColumnVirtualization&&(t[parseInt(r.toString(),10)].width=ko(t[parseInt(r.toString(),10)].width)?200:t[parseInt(r.toString(),10)].width);this.parent.setProperties({columns:t},!0)},e.prototype.instantiateRenderer=function(){this.renderer.addRenderer(av.Header,new YM(this.parent,this.locator)),this.renderer.addRenderer(av.Content,new WM(this.parent,this.locator));var e=this.locator.getService("cellRendererFactory");e.addCellRenderer(ov.Header,new JM(this.parent,this.locator)),e.addCellRenderer(ov.Data,new QM(this.parent,this.locator)),e.addCellRenderer(ov.StackedHeader,new $M(this.parent,this.locator)),e.addCellRenderer(ov.Indent,new tS(this.parent,this.locator)),e.addCellRenderer(ov.GroupCaption,new nS(this.parent,this.locator)),e.addCellRenderer(ov.GroupCaptionEmpty,new rS(this.parent,this.locator)),e.addCellRenderer(ov.Expand,new oS(this.parent,this.locator)),e.addCellRenderer(ov.HeaderIndent,new lS(this.parent,this.locator)),e.addCellRenderer(ov.StackedHeader,new $M(this.parent,this.locator)),e.addCellRenderer(ov.DetailHeader,new cS(this.parent,this.locator)),e.addCellRenderer(ov.RowDragHIcon,new mS(this.parent,this.locator)),e.addCellRenderer(ov.DetailExpand,new pS(this.parent,this.locator)),e.addCellRenderer(ov.DetailFooterIntent,new tS(this.parent,this.locator)),e.addCellRenderer(ov.RowDragIcon,new fS(this.parent,this.locator))},e.prototype.addEventListener=function(){var e=this;this.parent.isDestroyed||(this.parent.on(Vg,this.instantiateRenderer,this),this.parent.on("refreshdataSource",this.dataManagerSuccess,this),this.parent.on(Gg,this.refresh,this),this.parent.on("refresh-complete",this.refreshComplete,this),this.parent.on("bulk-save",this.sendBulkRequest,this),this.parent.on(Dm,(function(){e.emptyGrid=!0}),this),this.parent.on(fm,this.dynamicColumnChange,this))},e.prototype.validateGroupRecords=function(e){var t=this,i=e.result.length-1;if(i<0)return Promise.resolve(e);var n=e.result[0],r=e.result[parseInt(i.toString(),10)],s=[],o=function(e){for(var i=[n,r],o=0;o<i.length;o++)s.push(new op("field","==",i[parseInt(o.toString(),10)].field).and(t.getPredicate("key","equal",i[parseInt(o.toString(),10)].key)));e.where(op.or(s))},a=new sp;o(a);var l=new mp(e.result).executeLocal(a),h=this.data.generateQuery(!0),c=[];if(this.data.isRemote()){for(var u=[n,r],p=0;p<u.length;p++)c.push(this.getPredicate(u[parseInt(p.toString(),10)].field,"equal",u[parseInt(p.toString(),10)].key));h.where(op.or(c))}else o(h);var d=new yp;return this.data.getData({},h).then((function(i){t.updateGroupInfo(l,i.result),d.resolve(e)})).catch((function(e){return d.reject(e)})),d.promise},e.prototype.getPredicate=function(e,t,i){return i instanceof Date?xv({field:e,operator:t,value:i}):new op(e,t,i)},e.prototype.updateGroupInfo=function(e,t){for(var i=new mp(t),n=e,r=0;r<n.length;r++){var s=i.executeLocal((new sp).where(new op("field","==",n[parseInt(r.toString(),10)].field).and(this.getPredicate("key","equal",n[parseInt(r.toString(),10)].key))))[0];n[parseInt(r.toString(),10)].count=s.count;var o=n[parseInt(r.toString(),10)].items,a=s.items;o.GroupGuid&&(n[parseInt(r.toString(),10)].items=this.updateGroupInfo(n[parseInt(r.toString(),10)].items,s.items));for(var l=this.parent.aggregates,h=0;h<l.length;h++)for(var c=l[parseInt(h.toString(),10)],u=0;u<c.columns.length;u++)for(var p=c.columns[parseInt(u.toString(),10)].type instanceof Array?c.columns[parseInt(u.toString(),10)].type:[c.columns[parseInt(u.toString(),10)].type],d=0;d<p.length;d++){var f=c.columns[parseInt(u.toString(),10)].field+" - "+p[parseInt(d.toString(),10)].toLowerCase(),g=o.level?a.records:s.items,m=this.parent;if("Custom"===p[parseInt(d.toString(),10)]){var y=o.level?a:s,v=c.columns[parseInt(u.toString(),10)].customAggregate;"string"===typeof v&&(v=No(v,window)),n[parseInt(r.toString(),10)].aggregates[""+f]=v?v.call(m,y,c.columns[parseInt(u.toString(),10)]):""}else n[parseInt(r.toString(),10)].aggregates[""+f]=bp.aggregates[p[parseInt(d.toString(),10)].toLowerCase()](g,c.columns[parseInt(u.toString(),10)].field)}}return e},e}(),vS=function(){function e(){this.cellRenderMap={}}return e.prototype.addCellRenderer=function(e,t){e="string"===typeof e?e:Ao(ov,e),ko(this.cellRenderMap[""+e])&&(this.cellRenderMap[""+e]=t)},e.prototype.getCellRenderer=function(e){if(e="string"===typeof e?e:Ao(ov,e),ko(this.cellRenderMap[""+e]))throw"The cellRenderer "+e+" is not found";return this.cellRenderMap[""+e]},e}(),bS=function(){function e(e,t){this.sortedCols=[],this.sortPredicate=[],this.isCustomDialog=!1,this.parent=e,this.serviceLocator=t,this.addEventListener()}return e.prototype.addEventListener=function(){this.evtHandlers=[{event:Xm,handler:this.closeCustomDialog},{event:Jm,handler:this.refreshCustomFilterOkBtn},{event:$m,handler:this.renderResponsiveContextMenu},{event:ey,handler:this.renderCustomFilterDiv},{event:ty,handler:this.customExFilterClose},{event:Zm,handler:this.refreshCustomFilterClearBtn}],Zv(this.parent,this.evtHandlers,!0,this),this.onActionCompleteFn=this.editComplate.bind(this),this.parent.addEventListener(bg,this.onActionCompleteFn)},e.prototype.customExFilterClose=function(){this.isCustomDlgRender=!1},e.prototype.renderCustomFilterDiv=function(){var e=this.customResponsiveDlg.element.querySelector(".e-dlg-header-content"),t=e.querySelector(".e-dlg-custom-header"),i=e.querySelector(".e-dlg-closeicon-btn");this.isCustomDlgRender=!0,this.parent.filterModule.filterModule.closeDialog(),this.saveBtn.element.style.display="",this.refreshCustomFilterOkBtn({disabled:!1}),this.backBtn.element.style.display="none",i.style.display="",t.innerHTML=this.parent.localeObj.getConstant("CustomFilter");var n=this.customResponsiveDlg.element.querySelector(".e-dlg-content");this.customExcelFilterParent=this.parent.createElement("div",{className:"e-xl-customfilterdiv e-default-filter"}),n.appendChild(this.customExcelFilterParent)},e.prototype.renderResponsiveContextMenu=function(e){if(this.action===hv.isFilter){var t=this.customResponsiveDlg.element.querySelector(".e-dlg-content"),i=this.customResponsiveDlg.element.querySelector(".e-dlg-header-content"),n=i.querySelector(".e-dlg-closeicon-btn"),r=i.querySelector(".e-dlg-custom-header");if(e.isOpen){t.firstChild.style.display="none",t.appendChild(e.target),n.style.display="none",this.saveBtn.element.style.display="none",this.filterClearBtn.element.style.display="none",r.innerHTML=e.header;var s=this.parent.createElement("button"),o=this.parent.createElement("span",{className:"e-btn-icon e-resfilterback e-icons"});s.appendChild(o),this.backBtn=new _b({cssClass:this.parent.cssClass?"e-res-back-btn "+this.parent.cssClass:"e-res-back-btn"}),this.backBtn.appendTo(s),r.parentElement.insertBefore(s,r)}else this.backBtn&&!this.isCustomDlgRender&&(t.firstChild.style.display="",qa(this.backBtn.element),n.style.display="",this.saveBtn.element.style.display="",this.isFiltered&&(this.filterClearBtn.element.style.display=""),r.innerHTML=this.getHeaderTitle({action:hv.isFilter},e.col))}},e.prototype.refreshCustomFilterClearBtn=function(e){this.filterClearBtn&&(this.isFiltered=e.isFiltered,this.filterClearBtn.element.style.display=e.isFiltered?"":"none")},e.prototype.refreshCustomFilterOkBtn=function(e){this.saveBtn&&(this.saveBtn.disabled=e.disabled)},e.prototype.renderResponsiveContent=function(e){var t=this,i=this.parent;if(e)return this.filterParent=this.parent.createElement("div",{className:"e-mainfilterdiv e-default-filter",id:e.uid+"-main-filter"}),this.filterParent;var n=i.getColumns();this.customColumnDiv=i.createElement("div",{className:"columndiv",styles:"width: 100%"});var r=i.createElement("div",{className:"e-ressortbutton-parent"}),s=[],o=this.action===hv.isSort,a=this.action===hv.isFilter;if(a)for(var l=0;l<i.filterSettings.columns.length;l++)s.push(i.filterSettings.columns[parseInt(l.toString(),10)].field);for(l=0;l<n.length;l++)if(!(!n[parseInt(l.toString(),10)].visible||!n[parseInt(l.toString(),10)].allowSorting&&o||!n[parseInt(l.toString(),10)].allowFiltering&&a)){var h=i.createElement("div",{className:"e-responsivecoldiv"});h.setAttribute("data-e-mappingname",n[parseInt(l.toString(),10)].field),h.setAttribute("data-e-mappinguid",n[parseInt(l.toString(),10)].uid);var c=i.createElement("span",{innerHTML:n[parseInt(l.toString(),10)].headerText,className:"e-res-header-text"});if(h.appendChild(c),this.customColumnDiv.appendChild(h),o){var u=this.getSortedFieldsAndDirections("field").indexOf(n[parseInt(l.toString(),10)].field),p=i.createElement("button",{id:i.element.id+n[parseInt(l.toString(),10)].field+"sortbutton"}),d=r.cloneNode();d.appendChild(p),h.appendChild(d),new _b({cssClass:this.parent.cssClass?"e-ressortbutton "+this.parent.cssClass:"e-ressortbutton"}).appendTo(p);var f=void 0;ko(this.parent.sortSettings.columns[parseInt(u.toString(),10)])||(f="Ascending"===this.parent.sortSettings.columns[parseInt(u.toString(),10)].direction?this.parent.localeObj.getConstant("AscendingText"):this.parent.localeObj.getConstant("DescendingText")),p.innerHTML=u>-1?f:this.parent.localeObj.getConstant("NoneText"),p.onclick=function(e){t.sortButtonClickHandler(e.target)}}if(a&&s.indexOf(n[parseInt(l.toString(),10)].field)>-1){var g=i.createElement("div",{className:"e-icons e-res-icon e-filtersetdiv"}),m=i.createElement("span",{className:"e-icons e-res-icon e-filterset"});m.setAttribute("colType",n[parseInt(l.toString(),10)].type),g.appendChild(m),h.appendChild(g)}}return Oa.add(this.customColumnDiv,"click",this.customFilterColumnClickHandler,this),this.customColumnDiv},e.prototype.getSortedFieldsAndDirections=function(e){for(var t=[],i=0;i<this.parent.sortSettings.columns.length;i++)t.push(this.parent.sortSettings.columns[parseInt(i.toString(),10)][""+e]);return t},e.prototype.sortButtonClickHandler=function(e){if(e){var t=Jy(e,"e-responsivecoldiv").getAttribute("data-e-mappingname");this.parent.allowMultiSorting||(this.sortPredicate=[],this.sortedCols=[],this.isSortApplied=!1,this.resetSortButtons(e));var i=e.textContent,n=i===this.parent.localeObj.getConstant("NoneText")?this.parent.localeObj.getConstant("AscendingText"):i===this.parent.localeObj.getConstant("AscendingText")?this.parent.localeObj.getConstant("DescendingText"):this.parent.localeObj.getConstant("NoneText"),r=n===this.parent.localeObj.getConstant("AscendingText")?"Ascending":n===this.parent.localeObj.getConstant("DescendingText")?"Descending":"None";e.innerHTML=n,this.setSortedCols(t,r)}},e.prototype.resetSortButtons=function(e){for(var t=[].slice.call(this.customColumnDiv.getElementsByClassName("e-ressortbutton")),i=0;i<t.length;i++)t[parseInt(i.toString(),10)]!==e&&(t[parseInt(i.toString(),10)].innerHTML="None")},e.prototype.setSortedCols=function(e,t){var i=this.getCurrentSortedFields().indexOf(e);this.parent.allowMultiSorting&&i>-1&&(this.sortedCols.splice(i,1),this.sortPredicate.splice(i,1)),this.isSortApplied=!0,"None"!==t&&(this.sortedCols.push(e),this.sortPredicate.push({field:e,direction:t}))},e.prototype.getCurrentSortedFields=function(){for(var e=[],t=0;t<this.sortedCols.length;t++)e.push(this.sortedCols[parseInt(t.toString(),10)]);return e},e.prototype.customFilterColumnClickHandler=function(e){if(this.action===hv.isFilter){var t=this.parent,i=e.target;if("FilterBar"!==t.filterSettings.type)if(i.classList.contains("e-responsivecoldiv")||i.parentElement.classList.contains("e-responsivecoldiv")){if((s=i.getAttribute("data-e-mappingname"))||(s=i.parentElement.getAttribute("data-e-mappingname")),s){var n=t.getColumnByField(s);this.isRowResponsive=!0,this.showResponsiveDialog(n)}}else if(i.classList.contains("e-filterset")||i.parentElement.classList.contains("e-filtersetdiv")){var r=Jy(i,"e-responsivecoldiv");if(r){var s=r.getAttribute("data-e-mappingname");("Menu"===(n=t.getColumnByField(s)).filter.type||!n.filter.type&&"Menu"===t.filterSettings.type)&&(this.isDialogClose=!0),this.parent.filterModule.filterModule.clearCustomFilter(n),this.removeCustomDlgFilterEle(i)}}}},e.prototype.showResponsiveDialog=function(e){if(this.isCustomDialog&&this.action===hv.isFilter&&!this.isRowResponsive)this.renderCustomFilterDialog();else{if(this.filteredCol=e,this.renderResponsiveDialog(e),this.parent.enableAdaptiveUI&&e&&(this.parent.filterModule.setFilterModel(e),this.parent.filterModule.filterModule.openDialog(this.parent.filterModule.createOptions(e,void 0))),this.action===hv.isSort){var t={cancel:!1,dialogObj:this.customResponsiveDlg,requestType:"beforeOpenAptiveSortDialog"};if(this.parent.trigger(Og,t),t.cancel)return}this.customResponsiveDlg.show(!0),this.customResponsiveDlg.element.style.maxHeight="100%",this.setTopToChildDialog(this.customResponsiveDlg.element)}},e.prototype.setTopToChildDialog=function(e){var t=e.querySelector(".e-dialog");if(t){var i=e.querySelector(".e-dlg-header-content").getBoundingClientRect().height;t.style.top=i+"px"}},e.prototype.renderCustomFilterDialog=function(e){var t=this.parent;if(this.action!==hv.isFilter||"FilterBar"!==t.filterSettings.type){var i=this.parent.createElement("div",{id:t.element.id+"customfilter",className:this.parent.cssClass?"e-customfilterdiv e-responsive-dialog "+this.parent.cssClass:"e-customfilterdiv e-responsive-dialog"});this.parent.element.appendChild(i),this.customFilterDlg=this.getDialogOptions(e,!0);var n={cancel:!1,dialogObj:this.customFilterDlg,requestType:"beforeOpenAptiveFilterDialog"};this.parent.trigger(Og,n),n.cancel||(this.customFilterDlg.appendTo(i),this.customFilterDlg.show(!0),this.customFilterDlg.element.style.maxHeight="100%")}},e.prototype.getDialogOptions=function(e,t,i){var n=new AM({isModal:!0,showCloseIcon:!0,closeOnEscape:!1,locale:this.parent.locale,target:this.parent.adaptiveDlgTarget?this.parent.adaptiveDlgTarget:document.body,visible:!1,enableRtl:this.parent.enableRtl,content:this.renderResponsiveContent(e),open:this.dialogOpen.bind(this),created:this.dialogCreated.bind(this),close:this.beforeDialogClose.bind(this),width:"100%",height:"100%",animationSettings:{effect:"None"},cssClass:this.parent.cssClass?this.parent.cssClass:""});return n.isStringTemplate=!0,t?(n.header=this.renderResponsiveHeader(e,void 0,!0),n.cssClass="e-customfilter"):(n.header=this.renderResponsiveHeader(e),n.cssClass="Vertical"===this.parent.rowRenderingMode&&this.action===hv.isFilter?"e-res"+i+" e-row-responsive-filter":"e-res"+i),n},e.prototype.renderResponsiveDialog=function(e){var t=this.parent;if(this.action!==hv.isFilter||"FilterBar"!==t.filterSettings.type){var i=this.action===hv.isFilter?"filter":"sort",n=this.parent.createElement("div",{id:t.element.id+"responsive"+i,className:this.parent.cssClass?"e-res"+i+"div e-responsive-dialog "+this.parent.cssClass:"e-res"+i+"div e-responsive-dialog"});this.parent.element.appendChild(n),this.customResponsiveDlg=this.getDialogOptions(e,!1,i),this.customResponsiveDlg.appendTo(n)}},e.prototype.dialogCreated=function(){!function(e){if(e.enableAdaptiveUI)for(var t=document.getElementsByClassName("e-responsive-dialog"),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].classList.add("e-bigger")}(this.parent)},e.prototype.dialogOpen=function(){if(this.action===hv.isSort&&this.parent.allowMultiSorting)for(var e=0;e<this.parent.sortSettings.columns.length;e++){this.sortedCols.push(this.parent.sortSettings.columns[parseInt(e.toString(),10)].field);var t=this.parent.sortSettings.columns[parseInt(e.toString(),10)].field,i=this.parent.sortSettings.columns[parseInt(e.toString(),10)].direction;this.sortPredicate.push({field:t,direction:i})}},e.prototype.beforeDialogClose=function(e){this.isDialogClose=e.element&&!e.element.querySelector(".e-xl-customfilterdiv")&&e.element.classList.contains("e-resfilterdiv"),this.action===hv.isFilter?e.element.classList.contains("e-resfilterdiv")?this.parent.filterModule.filterModule.closeResponsiveDialog(this.isCustomDlgRender):e.element.classList.contains("e-customfilterdiv")&&this.closeCustomFilter():this.action===hv.isSort&&this.closeCustomDialog(),this.parent.off(sy,this.keyHandler)},e.prototype.sortColumn=function(){if(this.isSortApplied){this.sortPredicate.length&&this.parent.setProperties({sortSettings:{columns:[]}},!0);for(var e=0;e<this.sortPredicate.length;e++)this.parent.sortColumn(this.sortPredicate[parseInt(e.toString(),10)].field,this.sortPredicate[parseInt(e.toString(),10)].direction,this.parent.allowMultiSorting);this.sortPredicate.length||this.parent.clearSorting(),this.closeCustomDialog()}else this.closeCustomDialog()},e.prototype.getHeaderTitle=function(e,t){var i,n=this.parent;return this.action===hv.isEdit?i=n.localeObj.getConstant("EditFormTitle")+e.primaryKeyValue[0]:this.action===hv.isAdd?i=n.localeObj.getConstant("AddFormTitle"):this.action===hv.isFilter?i=t?t.headerText||t.field:n.localeObj.getConstant("FilterButton"):this.action===hv.isSort&&(i=n.localeObj.getConstant("Sort")),i},e.prototype.getDialogName=function(e){var t;return e===hv.isAdd||e===hv.isEdit?t="dialogEdit_wrapper_title":e===hv.isFilter&&(t="responsive_filter_dialog_wrapper"),t},e.prototype.getButtonText=function(e){var t;return e===hv.isAdd||e===hv.isEdit?t="Save":e!==hv.isFilter&&this.action!==hv.isSort||(t="OKButton"),t},e.prototype.renderResponsiveHeader=function(e,t,i){var n=this,r=this.parent;r.on(sy,this.keyHandler,this);var s=r.element.id+this.getDialogName(this.action),o=r.createElement("div",{className:"e-res-custom-element"}),a=r.createElement("div",{className:"e-dlg-custom-header",id:s});a.innerHTML=this.getHeaderTitle(t,e),o.appendChild(a);var l=r.createElement("button");i||(this.saveBtn=new _b({cssClass:this.parent.cssClass?"e-primary e-flat e-res-apply-btn "+this.parent.cssClass:"e-primary e-flat e-res-apply-btn"}),l.innerHTML=r.localeObj.getConstant(this.getButtonText(this.action)),this.saveBtn.appendTo(l),l.onclick=function(e){n.dialogHdrBtnClickHandler()});var h=this.action===hv.isSort,c=this.action===hv.isFilter;if(c||h){var u=h?"sort":"filter",p=r.createElement("button");if(this.filterClearBtn=new _b({cssClass:this.parent.cssClass?"e-primary e-flat e-res-"+u+"-clear-btn "+this.parent.cssClass:"e-primary e-flat e-res-"+u+"-clear-btn"}),c){var d=r.createElement("span",{className:"e-btn-icon e-icon-filter-clear e-icons"});p.appendChild(d)}else p.innerHTML=r.localeObj.getConstant("Clear");o.appendChild(p),this.filterClearBtn.appendTo(p),p.onclick=function(e){Jy(e.target,"e-customfilter")?(n.parent.filterModule.clearFiltering(),n.removeCustomDlgFilterEle()):c?n.filterClear():(n.resetSortButtons(),n.sortedCols=[],n.sortPredicate=[],n.isSortApplied=!0)},o.appendChild(p)}return i||o.appendChild(l),o},e.prototype.filterClear=function(){this.parent.filterModule.filterModule.clearCustomFilter(this.filteredCol),this.parent.filterModule.filterModule.closeResponsiveDialog()},e.prototype.dialogHdrBtnClickHandler=function(){this.action===hv.isEdit||this.action===hv.isAdd?this.parent.endEdit():this.action===hv.isFilter?this.parent.filterModule.filterModule.applyCustomFilter({col:this.filteredCol,isCustomFilter:this.isCustomDlgRender}):this.action===hv.isSort&&this.sortColumn()},e.prototype.closeCustomDialog=function(){this.isCustomDlgRender?qa(this.customResponsiveDlg.element.querySelector(".e-mainfilterdiv")):(this.isRowResponsive=!1,this.isCustomDlgRender=!1,this.destroyCustomFilterDialog())},e.prototype.destroyCustomFilterDialog=function(){if(this.customResponsiveDlg){var e=document.getElementById(this.customResponsiveDlg.element.id);this.customResponsiveDlg&&!this.customResponsiveDlg.isDestroyed&&e&&(this.customResponsiveDlg.destroy(),qa(e)),this.closeCustomFilter(),this.action===hv.isSort&&(this.sortPredicate=[],this.sortedCols=[],this.isSortApplied=!1)}},e.prototype.closeCustomFilter=function(){if(!this.isDialogClose&&this.customFilterDlg){var e=document.getElementById(this.customFilterDlg.element.id);this.customFilterDlg&&!this.customFilterDlg.isDestroyed&&e&&(this.customFilterDlg.destroy(),qa(e))}this.isCustomDialog=!1,this.isDialogClose=!1},e.prototype.removeCustomDlgFilterEle=function(e){if(e)e.parentElement.classList.contains("e-filtersetdiv")?qa(e.parentElement):qa(e);else for(var t=this.customColumnDiv.children,i=0;i<t.length;i++)(e=t[parseInt(i.toString(),10)].querySelector(".e-filtersetdiv"))&&(qa(e),i--)},e.prototype.keyHandler=function(e){13===e.keyCode&&(this.action===hv.isFilter&&e.target.classList.contains("e-searchinput")||this.action===hv.isEdit||this.action===hv.isAdd)&&this.dialogHdrBtnClickHandler()},e.prototype.editComplate=function(e){"save"!==e.requestType&&"cancel"!==e.requestType||this.parent.off(sy,this.keyHandler)},e.prototype.removeEventListener=function(){this.customColumnDiv&&Oa.remove(this.customColumnDiv,"click",this.customFilterColumnClickHandler),Zv(this.parent,this.evtHandlers,!0,this),this.parent.removeEventListener(bg,this.onActionCompleteFn)},e}(),MS=function(){function e(){this.services={}}return e.prototype.register=function(e,t){ko(this.services[""+e])&&(this.services[""+e]=t)},e.prototype.getService=function(e){if(ko(this.services[""+e]))throw"The service "+e+" is not registered";return this.services[""+e]},e.prototype.registerAdaptiveService=function(e,t,i){t?(e.responsiveDialogRenderer=new bS(e.parent,e.serviceLocator),e.responsiveDialogRenderer.action=i):e.responsiveDialogRenderer&&(e.responsiveDialogRenderer.removeEventListener(),e.responsiveDialogRenderer=void 0)},e}(),SS=function(){function e(){this.rendererMap={}}return e.prototype.addRenderer=function(e,t){var i=Ao(av,e);ko(this.rendererMap[""+i])&&(this.rendererMap[""+i]=t)},e.prototype.getRenderer=function(e){var t=Ao(av,e);if(ko(this.rendererMap[""+t]))throw"The renderer "+t+" is not found";return this.rendererMap[""+t]},e}(),wS=function(){function e(e){this.parent=e}return e.prototype.setWidthToColumns=function(){var e,t=0,i=this.parent.getColumnIndexesInView(),n=!0;if(this.parent.allowGrouping)for(var r=this.parent.groupSettings.columns.length;t<r;t++)this.parent.enableColumnVirtualization&&-1===i.indexOf(t)?n=!1:this.setColumnWidth(new pg({width:"30px"}),t);(this.parent.detailTemplate||this.parent.childGrid)&&(this.setColumnWidth(new pg({width:"30px"}),t),t++),this.parent.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&(this.setColumnWidth(new pg({width:"30px"}),t),t++);for(var s=this.parent.getColumns(),o=0;o<s.length;o++)this.setColumnWidth(s[parseInt(o.toString(),10)],n&&this.parent.enableColumnVirtualization?void 0:o+t);this.parent.isRowDragable()&&"Right"===this.parent.getFrozenMode()&&this.setColumnWidth(new pg({width:"30px"}),this.parent.groupSettings.columns.length+s.length),e=this.getTableWidth(this.parent.getColumns()),"auto"!==this.parent.width&&-1===this.parent.width.toString().indexOf("%")&&this.setMinwidthBycalculation(e)},e.prototype.setMinwidthBycalculation=function(e){var t=0,i=this.parent.getColumns().filter((function(e){return ko(e.width)||"auto"===e.width}));if(i.length){t=ko(this.parent.width)||"auto"===this.parent.width||"string"!==typeof this.parent.width||-1!==this.parent.width.indexOf("%")?this.parent.element.getBoundingClientRect().width-e:("string"===typeof this.parent.width?parseInt(this.parent.width,10):this.parent.width)-e;for(var n=0,r=0,s=i;r<s.length;r++){var o=s[r];n+=ko(o.minWidth)?0:"string"===typeof o.minWidth?parseInt(o.minWidth,10):o.minWidth}for(var a=0;a<i.length;a++){0===e&&this.parent.allowResizing&&this.isWidthUndefined()&&a!==i.length-1&&this.setUndefinedColumnWidth(i);var l=this.parent.getColumnIndexByField(i[parseInt(a.toString(),10)].field)+this.parent.getIndentCount();0!==e&&t<n?this.setWidth(i[parseInt(a.toString(),10)].minWidth,l):0!==e&&t>n&&this.setWidth("",l,!0)}}},e.prototype.setUndefinedColumnWidth=function(e){for(var t=0;t<e.length;t++)t!==e.length-1&&(e[parseInt(t.toString(),10)].width=200,this.setWidth(200,this.parent.getColumnIndexByField(e[parseInt(t.toString(),10)].field)))},e.prototype.setColumnWidth=function(e,t,i){if(!(this.parent.getColumns().length<1)){var n=ko(t)?this.parent.getNormalizedColumnIndex(e.uid):t,r=this.getWidth(e),s=this.getTableWidth(this.parent.getColumns());null!==r&&(this.setWidth(r,n),"auto"!==this.parent.width&&-1===this.parent.width.toString().indexOf("%")&&this.setMinwidthBycalculation(s),(this.parent.allowResizing&&"resize"===i||this.parent.getFrozenColumns()&&this.parent.allowResizing)&&this.setWidthToTable(),this.parent.notify(lm,{index:n,width:r,column:e,module:i}))}},e.prototype.setWidth=function(e,t,i){this.parent.groupSettings.columns.length>t&&Vv(this.parent)&&(e=(30/this.parent.element.offsetWidth*100).toFixed(1)+"%");var n=this.parent.getHeaderTable(),r=this.parent.getContentTable(),s=Fo(e),o=n.querySelector(Ey).children[parseInt(t.toString(),10)];o&&!i?o.style.width=s:o&&i&&(o.style.width="");var a=r.querySelector(Ey).children[parseInt(t.toString(),10)];if(a&&!i?a.style.width=s:a&&i&&(a.style.width=""),!this.parent.enableColumnVirtualization){for(var l=this.parent.element.querySelectorAll(".e-table.e-inline-edit"),h=[],c=0;c<l.length;c++)if(Jy(l[parseInt(c.toString(),10)],"e-grid").id===this.parent.element.id)for(var u=0;u<l[parseInt(c.toString(),10)].querySelector("colgroup").children.length;u++)h.push(l[parseInt(c.toString(),10)].querySelector("colgroup").children[parseInt(u.toString(),10)]);l.length&&h.length&&(h[parseInt(t.toString(),10)].style.width=s)}this.parent.isFrozenGrid()&&this.parent.enableColumnVirtualization&&this.refreshFrozenScrollbar()},e.prototype.refreshFrozenScrollbar=function(){var e={cancel:!1};if(this.parent.notify("prevent-frozen-scroll-refresh",e),!e.cancel){var t=pv(),i=this.parent.element.querySelector(".e-movablescrollbar"),n=this.parent.getContent().firstElementChild.getBoundingClientRect().width;if(this.parent.enableColumnVirtualization){var r=this.parent.getContent().querySelector(".e-virtualtrack");r&&(n=r.scrollWidth)}"auto"!==this.parent.height&&(n+=t),i.firstElementChild.style.width=n+"px"}},e.prototype.getSiblingsHeight=function(e){return this.getHeightFromDirection(e,"previous")+this.getHeightFromDirection(e,"next")},e.prototype.getHeightFromDirection=function(e,t){for(var i=e[t+"ElementSibling"],n=0,r=[py,fy,"e-groupdroparea","e-gridpager","e-toolbar","e-temp-toolbar"];i;)r.some((function(e){return i.classList.contains(e)}))&&(n+=i.offsetHeight),i=i[t+"ElementSibling"];return n},e.prototype.isWidthUndefined=function(){var e=this.parent.getColumns().filter((function(e){return ko(e.width)&&ko(e.minWidth)})).length;return this.parent.getColumns().length===e},e.prototype.getWidth=function(e){if(ko(e.width)&&this.parent.allowResizing&&ko(e.minWidth)&&!this.isWidthUndefined()&&(e.width=200),!e.width)return null;var t=parseInt(e.width.toString(),10);return e.minWidth&&t<parseInt(e.minWidth.toString(),10)?e.minWidth:e.maxWidth&&t>parseInt(e.maxWidth.toString(),10)?e.maxWidth:e.width},e.prototype.getTableWidth=function(e){for(var t=0,i=0,n=e;i<n.length;i++){var r=n[i],s=this.getWidth(r);"auto"===r.width&&(s=0),!1!==r.visible&&null!==s&&(t+=parseInt(s.toString(),10))}return t},e.prototype.setWidthToTable=function(){var e=Fo(this.getTableWidth(this.parent.getColumns()));(this.parent.detailTemplate||this.parent.childGrid)&&this.setColumnWidth(new pg({width:"30px"})),e=this.isAutoResize()?"100%":e,this.parent.getHeaderTable().style.width=e,this.parent.getContentTable().style.width=e;var t=this.parent.element.querySelector(".e-table.e-inline-edit");t&&(t.style.width=e)},e.prototype.isAutoResize=function(){return this.parent.allowResizing&&"Auto"===this.parent.resizeSettings.mode},e}(),_S=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),IS=function(){function e(e){this.currentInfo={},this.oneTime=!0,this.swap={},this.isInfiniteScroll=!1,this.forget=!1,this.skipFocus=!0,this.focusByClick=!1,this.firstHeaderCellClick=!1,this.prevIndexes={},this.refMatrix=this.refreshMatrix(!0),this.actions=["downArrow","upArrow"],this.isVirtualScroll=!1,this.parent=e,this.rowModelGen=new PM(this.parent),this.addEventListener()}return e.prototype.focusCheck=function(e){var t=e.target;this.focusByClick=!0,this.firstHeaderCellClick=!0,this.skipFocus=t.classList.contains("e-grid")},e.prototype.onFocus=function(e){if(!(this.parent.isDestroyed||La.isDevice||this.parent.enableVirtualization||this.parent.element.querySelector(".e-masked-table")||!this.parent.isInitialLoad&&e&&e.target===this.parent.element&&this.parent.element.querySelector(".e-spin-show"))){this.setActive(!this.parent.enableHeaderFocus&&0===this.parent.frozenRows),this.parent.enableHeaderFocus||this.parent.getCurrentViewRecords().length||"Batch"===this.parent.editSettings.mode&&("Batch"!==this.parent.editSettings.mode||!this.parent.editModule||this.parent.editModule.getBatchChanges()[Iy].length)||this.getContent().matrix.generate(this.rowModelGen.generateRows({rows:[new kM({isDataRow:!0})]}),this.getContent().selector,!1);var t=this.getContent().matrix.get(0,-1,[0,1],null,this.getContent().validator());this.getContent().matrix.select(t[0],t[1]),!this.skipFocus||e&&e.target===this.parent.element||(this.focus(e),this.skipFocus=!1)}},e.prototype.passiveFocus=function(e){if(!this.parent.isDestroyed){var t=this.parent.getHeaderContent().querySelector(".e-headercell");e.target!==t||!e.relatedTarget||Jy(e.relatedTarget,"e-grid")||this.firstHeaderCellClick||(this.currentInfo.element=e.target,this.currentInfo.elementToFocus=e.target,Fa([this.currentInfo.element],["e-focused","e-focus"])),this.firstHeaderCellClick=!1,e.target&&e.target.classList.contains("e-detailcell")&&(this.currentInfo.skipAction=!1,Fa([this.currentInfo.element],["e-focused","e-focus"]))}},e.prototype.onBlur=function(e){var t=!(!Jy(e.target,"e-gantt")||!e.target.classList.contains("e-rowcell")||ko(e.target.nextElementSibling)||!e.target.nextElementSibling.classList.contains("e-rowcell"));(!this.parent.isEdit&&(!e||e.relatedTarget&&!Za(e.relatedTarget,".e-grid")||this.parent.element.classList.contains("e-childgrid")&&!this.parent.element.matches(":focus-within"))||!t&&ko(e.relatedTarget)&&0===parseInt(e.target.getAttribute("data-colindex"),10)&&0===parseInt(e.target.getAttribute("index"),10)||!t&&ko(e.relatedTarget)&&!Za(document.activeElement,".e-grid")&&!ko(e.sourceCapabilities))&&(this.removeFocus(),this.skipFocus=!0,this.currentInfo.skipAction=!1,this.setLastContentCellTabIndex(),this.setFirstFocusableTabIndex(),this.firstHeaderCellClick=!1)},e.prototype.setFirstFocusableTabIndex=function(){var e=this.parent;if(e.element.tabIndex=-1,e.allowGrouping&&e.groupSettings.showDropArea){var t=e.groupModule,i=t.getFocusableGroupedItems();i.length>0?(t.element.tabIndex=-1,i[0].tabIndex=0):t.element.tabIndex=0}else if(e.toolbar||e.toolbarTemplate){var n=e.toolbarModule.element,r=this.parent.toolbarModule.getFocusableToolbarItems();r.length>0&&r[0].querySelector(".e-toolbar-item-focus,.e-btn,.e-input")?(n.tabIndex=-1,r[0].querySelector(".e-toolbar-item-focus,.e-btn,.e-input").tabIndex=0):n.tabIndex=0}else{if(e.getColumns().length){if(e.getHeaderContent().querySelector(".e-headercell").tabIndex=0,this.setActive(!1),!ko(this.active)&&(ko(this.active.target)||!this.active.target.classList.contains("e-columnmenu"))){var s=[0,0];0===this.active.matrix.matrix[s[0]][s[1]]&&(s=nb(this.active.matrix.matrix,s,!0)),this.active.matrix.current=s}}else;}},e.prototype.setLastContentCellTabIndex=function(){var e=this.parent.getContentTable();e.rows[e.rows.length-1]&&(e.rows[e.rows.length-1].lastElementChild.tabIndex=0)},e.prototype.onClick=function(e,t){if(!Jy(e.target,"e-filterbarcell")||!Jy(e.target,"e-multiselect")&&!e.target.classList.contains("e-input-group-icon")){var i=!ko(Za(e.target,"."+dy)),n=!ko(Za(e.target,"."+py));if(!(!(i=i&&n?!i:i)&&ko(Za(e.target,"."+py))||e.target.classList.contains(vy))&&ko(Za(e.target,".e-unboundcell")))if(this.setActive(i),i||!ko(Za(e.target,"."+py))){var r={cancel:!1,byKey:!1,byClick:!ko(e.target),clickArgs:e};if(this.parent.notify(tm,r),!r.cancel&&!Za(e.target,".e-inline-edit")&&(this.setActive(i),this.getContent())){if(!1===this.getContent().onClick(e,t))return;this.focus(),this.currentInfo.element.classList.contains("e-rowcell")&&e.type&&"click"===e.type&&Fa([this.currentInfo.element],["e-focused","e-focus"])}}else this.clearOutline()}},e.prototype.onKeyPress=function(e){if(this.parent.allowPaging){var t=this.parent.pagerModule.pagerObj.element,i=this.parent.pagerModule.pagerObj.getFocusablePagerElements(t,[]);if(this.parent.childGrid&&!Jy(e.target,"e-gridpager")&&this.allowToPaging(e)&&i.length&&(i[0].tabIndex=0),this.parent.pagerModule.pagerObj.checkPagerHasFocus()){if("shiftTab"===e.action&&i.length&&i[0]===e.target){this.setActive(!0);var n=[this.active.matrix.matrix.length-1,this.active.matrix.matrix[this.active.matrix.matrix.length-1].length-1];return 0===this.active.matrix.matrix[n[0]][n[1]]&&(n=nb(this.active.matrix.matrix,n,!1)),this.active.matrix.current="Batch"===this.parent.editSettings.mode?this.isValidBatchEditCell(n)?n:this.findBatchEditCell(n,!1):n,e.preventDefault(),void this.focus(e)}if("tab"!==e.action||!this.parent.element.classList.contains("e-childgrid")||(this.parent.pageSettings.pageSizes||!i.length||i[i.length-1]!==e.target)&&this.parent.pagerModule.pagerObj.getDropDownPage()!==e.target)return void this.parent.pagerModule.pagerObj.changePagerFocus(e);var r=Jy(this.parent.element,"e-detailcell");Ba([this.parent.element],["e-focus"]),Ba([r],["e-focused"]),r.tabIndex=-1}if(0===this.parent.pagerModule.pagerObj.element.tabIndex&&(38===e.keyCode||e.shiftKey&&9===e.keyCode))return e.preventDefault(),void this.focus(e);if(0===this.parent.pagerModule.pagerObj.element.tabIndex&&9===e.keyCode)return e.preventDefault(),void this.parent.pagerModule.pagerObj.setPagerFocus();if(this.parent.pagerModule.pagerObj.checkFirstPagerFocus()){var s=this.getContent().matrix.rows,o=this.getContent().matrix.columns;this.getContent().matrix.current=[s,o]}}if(!this.skipOn(e)){if(e.target&&Jy(e.target,"e-gridcontent")){var a=[].slice.call(this.parent.getContentTable().rows),l=a[a.length-1].lastElementChild;e.target===l&&(this.setActive(!0),this.setLastContentCellActive())}if("shiftTab"===e.action&&e.target&&(e.target===this.parent.element||Jy(e.target,"e-toolbar")||Jy(e.target,"e-groupdroparea"))){if(e.target===this.parent.element)return void(this.parent.element.classList.contains("e-childgrid")&&this.focusOutFromChildGrid(e));if(Jy(e.target,"e-groupdroparea"))return void(this.parent.element.classList.contains("e-childgrid")&&(e.preventDefault(),this.parent.element.focus()));if(Jy(e.target,"e-toolbar")){if(this.parent.allowGrouping&&this.parent.groupSettings.showDropArea){var h=(u=this.parent.groupModule).getFocusableGroupedItems();e.preventDefault(),h.length>0?h[h.length-1].focus():u.element.focus()}else this.parent.element.classList.contains("e-childgrid")&&(e.preventDefault(),this.parent.element.focus());return}}var c=!1;if("tab"===e.action&&e.target&&(e.target===this.parent.element||Jy(e.target,"e-toolbar")||Jy(e.target,"e-groupdroparea"))){if(this.parent.allowGrouping&&this.parent.groupSettings.showDropArea&&(e.target===this.parent.element||e.target.classList.contains("e-groupdroparea"))){var u;if((h=(u=this.parent.groupModule).getFocusableGroupedItems()).length>0)return e.preventDefault(),void h[0].focus();if(!e.target.classList.contains("e-groupdroparea"))return e.preventDefault(),void u.element.focus()}if((this.parent.toolbar||this.parent.toolbarTemplate)&&(e.target===this.parent.element||Jy(e.target,"e-groupdroparea")||e.target.classList.contains("e-toolbar"))){var p=this.parent.toolbarModule.element,d=this.parent.toolbarModule.getFocusableToolbarItems();if(d.length>0)return e.preventDefault(),void d[0].querySelector(".e-toolbar-item-focus,.e-btn,.e-input").focus();if(!e.target.classList.contains("e-toolbar"))return e.preventDefault(),void p.focus()}(e.target===this.parent.element||Jy(e.target,"e-toolbar")||Jy(e.target,"e-groupdroparea"))&&(c=!0)}c&&(this.parent.allowGrouping&&this.parent.groupSettings.columns.length===this.parent.columns.length?this.setActive(!0):this.setActive(!1),this.active.matrix.current=[0,-1]),this.activeKey=e.action;var f={cancel:!1,byKey:!0,byClick:!1,keyArgs:e};if(this.parent.notify(tm,f),!f.cancel){var g=this.getContent().matrix.current,m=this.active&&this.active.matrix.current?[this.active.matrix.current[0],this.active.matrix.current[1]]:void 0;this.currentInfo.outline=!0;var y=this.getContent().jump(e.action,g);this.swap=y,y.swap&&("Batch"!==this.parent.editSettings.mode||"tab"!==e.action&&"shiftTab"!==e.action)&&(this.setActive(!y.toHeader),this.getContent().matrix.current=this.getContent().getNextCurrent(g,y,this.active,e.action),this.prevIndexes={}),this.setActiveByKey(e.action,this.getContent());var v=!this.content.lastIdxCell&&this.getContent().onKeyPress(e);if(e.target&&Jy(e.target,"e-gridheader")){if("tab"===e.action&&g.toString()===this.active.matrix.current.toString()){var b=nb(this.active.matrix.matrix,this.active.matrix.current,!0);n=[this.active.matrix.matrix.length-1,this.active.matrix.matrix[this.active.matrix.matrix.length-1].length-1];if(0===this.active.matrix.matrix[n[0]][n[1]]&&(n=nb(this.active.matrix.matrix,n,!1)),this.active.matrix.current.toString()===n.toString()&&this.content.matrix.matrix.length){v=!0,this.setActive(!0);var M=[0,0];0===this.active.matrix.matrix[M[0]][M[1]]&&(M=nb(this.active.matrix.matrix,[0,0],!0)),this.active.matrix.current="Batch"===this.parent.editSettings.mode?this.isValidBatchEditCell(M)?M:this.findBatchEditCell(M,!0):M}else this.active.matrix.current.toString()!==b.toString()&&(this.active.matrix.current=b)}if("shiftTab"===e.action&&g.toString()===this.active.matrix.current.toString()){var S=nb(this.active.matrix.matrix,this.active.matrix.current,!1);if(S.toString()===this.active.matrix.current.toString())return void this.focusOutFromHeader(e);this.active.matrix.current.toString()===S.toString()||v||(v=!0,this.active.matrix.current=S)}}if(e.target&&Jy(e.target,"e-gridcontent")&&("Batch"!==this.parent.editSettings.mode||"tab"!==e.action&&"shiftTab"!==e.action||(this.active.matrix.current=this.findBatchEditCell(m,"tab"===e.action),"tab"===e.action&&m.toString()===this.active.matrix.current.toString()&&(this.parent.editModule.editModule.addBatchRow=!0)),"shiftTab"===e.action&&g.toString()===this.active.matrix.current.toString())){if(this.parent.allowGrouping&&this.parent.groupSettings.columns.length===this.parent.columns.length)return void this.focusOutFromHeader(e);M=[0,0];0===this.active.matrix.matrix[M[0]][M[1]]&&(M=nb(this.active.matrix.matrix,[0,0],!0)),v||M.toString()!==this.active.matrix.current.toString()&&("Batch"!==this.parent.editSettings.mode||m.toString()!==this.active.matrix.current.toString())||(v=!0,this.setActive(!1),this.setLastContentCellActive())}if(!1!==v)e.preventDefault(),this.focus(e);else{if(this.clearIndicator(),"shiftTab"===e.action&&g.toString()===[0,0].toString()&&(this.parent.element.tabIndex=-1),this.parent.allowPaging&&!this.parent.pagerModule.pagerObj.checkPagerHasFocus()&&this.allowToPaging(e)&&g.toString()!==[0,0].toString()){if(e.preventDefault(),40===e.keyCode)return void this.parent.pagerModule.pagerObj.setPagerContainerFocus();if(9===e.keyCode)return void this.parent.pagerModule.pagerObj.setPagerFocus()}this.parent.element.classList.contains("e-childgrid")&&this.focusOutFromChildGrid(e)}}}},e.prototype.isValidBatchEditCell=function(e){var t=this.active.getTable().rows[e[0]].cells[e[1]],i=Za(t,"tr"),n=parseInt(t.getAttribute("data-colindex"),10),r=this.parent.getColumns()[parseInt(n.toString(),10)];return!(1!==this.active.matrix.matrix[e[0]][e[1]]||i.classList.contains("e-row")&&(!i.classList.contains("e-insertedrow")&&r.isPrimaryKey||!r.allowEditing))},e.prototype.findBatchEditCell=function(e,t,i){for(var n=e,r=e,s=!1;!s;){var o=r;r=nb(this.active.matrix.matrix,r,t),o.toString()===r.toString()||i&&o[0]!==r[0]?s=!0:this.isValidBatchEditCell(r)&&(n=r,s=!0)}return n},e.prototype.setLastContentCellActive=function(){var e=[this.active.matrix.matrix.length-1,this.active.matrix.matrix[this.active.matrix.matrix.length-1].length-1];0===this.active.matrix.matrix[e[0]][e[1]]&&(e=nb(this.active.matrix.matrix,e,!1)),this.active.matrix.current=e},e.prototype.focusOutFromChildGrid=function(e){var t=Jy(this.parent.element,"e-table"),i=Jy(t,"e-grid").ej2_instances[0],n=Jy(this.parent.element,"e-detailcell"),r=Jy(this.parent.element,"e-detailrow").getAttribute("data-uid"),s=[].slice.call(i.getContentTable().rows),o=s.map((function(e){return e.getAttribute("data-uid")})).indexOf(r);if(!("tab"===e.action&&o>=s.length-1)){var a;if(Ba([this.parent.element],["e-focus"]),Ba([n],["e-focused"]),n.tabIndex=-1,e.preventDefault(),i.focusModule.removeFocus(),"shiftTab"===e.action){for(var l=s[o-1].cells,h=l.length-1;h>=0;h--)if(!(a=l[parseInt(h.toString(),10)]).classList.contains("e-hide")){i.focusModule.active.matrix.current=[o-1,h];break}}else a=s[o+1].cells[0],i.focusModule.active.matrix.current=[o+1,0];i.focusModule.currentInfo.element=a,i.focusModule.currentInfo.elementToFocus=a,Fa([a],["e-focused","e-focus"]),a.tabIndex=0,a.focus()}},e.prototype.focusOutFromHeader=function(e){if(this.removeFocus(),this.parent.toolbar||this.parent.toolbarTemplate){var t=this.parent.toolbarModule.element,i=this.parent.toolbarModule.getFocusableToolbarItems();return e.preventDefault(),void(i.length>0?i[i.length-1].querySelector(".e-toolbar-item-focus,.e-btn,.e-input").focus():t.focus())}if(this.parent.allowGrouping&&this.parent.groupSettings.showDropArea){var n=this.parent.groupModule,r=n.getFocusableGroupedItems();return e.preventDefault(),void(r.length>0?r[r.length-1].focus():n.element.focus())}this.parent.element.classList.contains("e-childgrid")&&(e.preventDefault(),this.parent.element.focus())},e.prototype.allowToPaging=function(e){return"Batch"!==this.parent.editSettings.mode||!this.parent.editSettings.allowAdding||40===e.keyCode},e.prototype.skipOn=function(e){var t=e.target;if(!t)return!1;if(this.currentInfo.skipAction)return this.clearIndicator(),!0;if(["pageUp","pageDown","altDownArrow"].indexOf(e.action)>-1)return this.clearIndicator(),!0;if(this.parent.allowGrouping){var i=this.parent.groupModule.getFocusableGroupedItems();if(Jy(e.target,"e-groupheadercell")&&!(e.target===i[0]&&"shiftTab"===e.action||e.target===i[i.length-1]&&"tab"===e.action))return!0}if(this.parent.toolbar||this.parent.toolbarTemplate){var n=this.parent.toolbarModule.element.querySelectorAll(".e-toolbar-item:not(.e-overlay):not(.e-hidden)");if(Jy(e.target,"e-toolbar-item")&&!(n.length>0&&(Jy(e.target,"e-toolbar-item")===n[0]&&"shiftTab"===e.action||Jy(e.target,"e-toolbar-item")===n[n.length-1]&&"tab"===e.action)))return!0}var r=Za(t,"th")&&!Za(t,"th").tabIndex;!e.target.classList.contains("e-filterbaroperator")||13!==e.keyCode&&27!==e.keyCode||Za(e.target,".e-filterbarcell").querySelector("input").focus();r&&null!==Za(document.activeElement,".e-filterbarcell")&&this.removeFocus();var s=null!==Za(document.activeElement,".e-filterbarcell");if(this.parent.enableHeaderFocus&&s){var o=this.active.matrix,a=o.current;s=o.matrix[a[0]].lastIndexOf(1)!==a[1]}return"delete"===e.action||"Batch"!==this.parent.editSettings.mode&&(this.parent.isEdit||["insert","f2"].indexOf(e.action)>-1)||s&&this.parent.enableHeaderFocus||s&&"tab"!==e.action&&"shiftTab"!==e.action||null!==Za(document.activeElement,"#"+this.parent.element.id+"_searchbar")&&["enter","leftArrow","rightArrow","shiftLeft","shiftRight","ctrlPlusA"].indexOf(e.action)>-1||null===Za(t,"."+dy)&&null===Za(t,"."+py)&&!(e.target===this.parent.element||Jy(e.target,"e-toolbar")||Jy(e.target,"e-groupdroparea"))||"space"===e.action&&!t.classList.contains(Sy)&&null===Za(t,"."+Sy)&&null===Za(t,".e-headerchkcelldiv")||null!==Za(t,".e-filter-popup")},e.prototype.focusVirtualElement=function(e){var t=this;if(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling){var i={virtualData:{},isAdd:!1,isCancel:!1};this.parent.notify("get-virtual-data",i);var n=this.actions.some((function(e){return e===t.activeKey})),r=!!this.parent.contentModule&&this.parent.contentModule.selectedRowIndex>-1;i.isAdd||Object.keys(i.virtualData).length||n||i.isCancel||r?(this.parent.notify("reset-virtual-focus",{isCancel:!1}),i.isCancel=!1,this.parent.contentModule.selectedRowIndex=-1,n&&(this.activeKey=this.empty,this.parent.notify("virtaul-key-handler",e)),this.currentInfo.elementToFocus.focus({preventScroll:!0})):this.isVirtualScroll||this.isInfiniteScroll?this.currentInfo.elementToFocus.focus({preventScroll:!0}):this.currentInfo.elementToFocus.focus()}this.isVirtualScroll=this.isInfiniteScroll=!1},e.prototype.getFocusedElement=function(){return this.currentInfo.elementToFocus},e.prototype.getContent=function(){return this.active||this.content},e.prototype.setActive=function(e){this.active=e?this.content:this.header},e.prototype.setFocusedElement=function(e,t){var i=this;this.currentInfo.elementToFocus=e,setTimeout((function(){ko(i.currentInfo.elementToFocus)||(i.parent.enableVirtualization||i.parent.enableInfiniteScrolling?i.focusVirtualElement(t):i.currentInfo.elementToFocus.focus())}),0)},e.prototype.focus=function(e){this.parent.notify("virtaul-cell-focus",e),this.removeFocus(),this.addFocus(this.getContent().getFocusInfo(),e)},e.prototype.removeFocus=function(e){if(this.currentInfo.element){if(this.parent.isReact&&!this.parent.isEdit&&this.currentInfo.element.classList.contains("e-rowcell")&&!this.currentInfo.element.parentElement&&(!this.parent.allowGrouping||!this.parent.groupSettings.columns.length)){var t=this.parent.getCellFromIndex(this.prevIndexes.rowIndex,this.prevIndexes.cellIndex);this.currentInfo.element=t||this.currentInfo.element}Ba([this.currentInfo.element,this.currentInfo.elementToFocus],["e-focused","e-focus"]),this.currentInfo.element.tabIndex=-1}},e.prototype.addOutline=function(){var e=this.getContent().getFocusInfo();e.element&&(Fa([e.element],["e-focused"]),Fa([e.elementToFocus],["e-focus"]))},e.prototype.focusHeader=function(){this.setActive(!1),this.resetFocus()},e.prototype.focusContent=function(){this.setActive(!0),this.resetFocus()},e.prototype.resetFocus=function(){var e=this.getContent().matrix.get(0,-1,[0,1],null,this.getContent().validator());this.getContent().matrix.select(e[0],e[1]),this.focus()},e.prototype.addFocus=function(e,t){if(this.currentInfo=e,this.currentInfo.outline=e.outline&&(!ko(t)||this.isVirtualScroll),this.isInfiniteScroll&&(this.currentInfo.outline=!0),e.element){var i=e.elementToFocus.classList.contains("e-focus");if(!i){this.currentInfo.outline&&Fa([e.element],["e-focused"]),Fa([e.elementToFocus],["e-focus"]),e.element.tabIndex=0,i||this.setFocusedElement(e.elementToFocus,t),this.parent.notify(im,{element:e.elementToFocus,parent:e.element,indexes:this.getContent().matrix.current,byKey:!ko(t),byClick:ko(t),keyArgs:t,isJump:this.swap.swap,container:this.getContent().getInfo(t),outline:!ko(t),swapInfo:this.swap});var n=this.getContent().matrix.current,r=n[0],s=n[1];this.prevIndexes={rowIndex:r,cellIndex:s},this.focusedColumnUid=this.parent.getColumnByIndex(s).uid,this.focusByClick=!1}}},e.prototype.refreshMatrix=function(e){var t=this;return function(i){e&&!t.content&&(t.content=new CS(t.parent)),e||t.header||(t.header=new xS(t.parent));var n=e?t.content:t.header,r=t.parent.frozenRows,s=0;if(r&&"Batch"===t.parent.editSettings.mode&&(s=t.parent.getHeaderContent().querySelectorAll(".e-insertedrow").length+t.parent.getHeaderContent().querySelectorAll(".e-hiddenrow").length),t.parent.groupSettings.columns.length&&r&&e){r=0;for(var o=0;o<i.rows.length&&(r++,i.rows[parseInt(o.toString(),10)].index+1!==t.parent.frozenRows);o++);}var a=e?i.rows.slice(r+s):i.rows,l=e?i.rows.slice(0,r+s):i.rows;t.parent.isCollapseStateEnabled()&&e&&(a=a.filter((function(e){return!1!==e.visible})));var h=!ko(t.parent.rowTemplate);if(r&&("Batch"===t.parent.editSettings.mode&&e&&("batchDelete"===i.name||"batchAdd"===i.name||"batchCancel"===i.name||i.args&&"batchsave"===i.args.requestType)||i.args&&("delete"===i.args.requestType||"save"===i.args.requestType))){var c=t.header.matrix.matrix,u=t.parent.headerModule.rows.length;c.splice(u,c.length-u)}var p=n.matrix.generate(l,n.selector,h);if(n.matrix.generate(a,n.selector,h),(!t.parent.isFrozenGrid()||!i.args||"sorting"!==i.args.requestType&&"batchsave"!==i.args.requestType&&"paging"!==i.args.requestType||r&&"Batch"===t.parent.editSettings.mode&&e&&("batchDelete"===i.name||"batchAdd"===i.name||"batchCancel"===i.name||"batchsave"===i.args.requestType||"batchAdd"===i.name||"batchCancel"===i.name))&&n.generateRows(l,{matrix:p,handlerInstance:t.header}),!La.isDevice&&i&&i.args&&(t.focusByClick||"paging"!==i.args.requestType||t.parent.pagerModule.pagerObj.checkPagerHasFocus()||(t.skipFocus=!1,t.parent.element.focus()),"grouping"===i.args.requestType&&(t.skipFocus=!0)),i&&i.args&&"virtualscroll"===i.args.requestType)if(t.currentInfo.uid){var d,f=i.rows.some((function(e,i){return d=i,e.uid===t.currentInfo.uid}));if(f)if(t.content.matrix.current[0]=d,t.content.matrix.current[1]=t.parent.getColumnIndexByUid(t.focusedColumnUid)||0,y=t.getContent().getFocusInfo().elementToFocus){var g=y.getBoundingClientRect(),m=t.parent.element.getBoundingClientRect();g.top>=0&&g.left>=0&&g.right<=Math.min(m.right,window.innerWidth||document.documentElement.clientWidth)&&g.bottom<=Math.min(m.bottom,window.innerHeight||document.documentElement.clientHeight)&&(t.isVirtualScroll=!0,t.focus())}}else if(i.args.focusElement&&i.args.focusElement.classList.contains("e-filtertext")){var y;(y=t.parent.element.querySelector("#"+i.args.focusElement.id))&&y.focus()}i&&i.args&&"infiniteScroll"===i.args.requestType&&(t.isInfiniteScroll=!0)}},e.prototype.addEventListener=function(){var e=this;this.parent.isDestroyed||(Oa.add(this.parent.element,"mousedown",this.focusCheck,this),Oa.add(this.parent.element,"touchstart",this.focusCheck,this),Oa.add(this.parent.element,"focus",this.onFocus,this),this.parent.element.addEventListener("focus",this.passiveHandler=function(t){return e.passiveFocus(t)},!0),Oa.add(this.parent.element,"focusout",this.onBlur,this),this.evtHandlers=[{event:nm,handler:this.onKeyPress},{event:rm,handler:this.onClick},{event:Wg,handler:this.refMatrix},{event:Rm,handler:this.refMatrix},{event:ny,handler:this.refMatrix},{event:Xg,handler:this.refreshMatrix()},{event:"close-edit",handler:this.restoreFocus},{event:Hm,handler:this.restoreFocus},{event:"start-edit",handler:this.clearIndicator},{event:"start-add",handler:this.clearIndicator},{event:"sorting-complete",handler:this.restoreFocus},{event:"filtering-complete",handler:this.filterfocus},{event:"grouping-complete",handler:this.restoreFocusWithAction},{event:"ungrouping-complete",handler:this.restoreFocusWithAction},{event:"batchAdd",handler:this.refMatrix},{event:zg,handler:this.refMatrix},{event:"batchDelete",handler:this.refMatrix},{event:"detailDataBound",handler:this.refMatrix},{event:Qg,handler:this.refMatrix},{event:im,handler:this.internalCellFocus}],Zv(this.parent,this.evtHandlers,!0,this))},e.prototype.filterfocus=function(){"FilterBar"!==this.parent.filterSettings.type&&this.restoreFocus()},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(Oa.remove(this.parent.element,"mousedown",this.focusCheck),Oa.remove(this.parent.element,"touchstart",this.focusCheck),Oa.remove(this.parent.element,"focus",this.onFocus),Oa.remove(this.parent.element,"focusout",this.onBlur),this.parent.element.removeEventListener("focus",this.passiveHandler,!0),Zv(this.parent,this.evtHandlers,!1))},e.prototype.destroy=function(){this.removeEventListener()},e.prototype.restoreFocus=function(){var e=this.parent.groupModule;if(this.parent.allowGrouping&&e&&(e.groupSortFocus||e.groupTextFocus))return e.groupSortFocus=!1,void(e.groupTextFocus=!1);this.firstHeaderCellClick=!0,this.addFocus(this.getContent().getFocusInfo())},e.prototype.restoreFocusWithAction=function(e){if(!this.parent.enableInfiniteScrolling){var t=this.getContent().matrix,i=t.current;switch(e.requestType){case"grouping":case"ungrouping":i[1]=!i.length||this.parent.groupSettings.showGroupedColumn||ko(t.matrix[i[0]])?"grouping"===e.requestType?i[1]+1:i[1]-1:t.matrix[i[0]].indexOf(1)}this.getContent().matrix.current=i;var n=this.parent.groupModule;if(this.parent.allowGrouping&&n&&n.groupCancelFocus){var r=n.getFocusableGroupedItems();return r.length?r[0].parentElement.getAttribute("ej-mappingname")===e.columnName?r[3].focus():r[0].focus():n.element.focus(),void(n.groupCancelFocus=!1)}this.addFocus(this.getContent().getFocusInfo())}},e.prototype.clearOutline=function(){this.getContent().matrix.current=this.getContent().matrix.get(0,-1,[0,1],"downArrow",this.getContent().validator()),this.clearIndicator()},e.prototype.clearIndicator=function(){this.currentInfo.element&&this.currentInfo.elementToFocus&&Ba([this.currentInfo.element,this.currentInfo.elementToFocus],["e-focus","e-focused"])},e.prototype.getPrevIndexes=function(){var e=this.forget;return this.forget=!1,e||!Object.keys(this.prevIndexes).length?{rowIndex:null,cellIndex:null}:this.prevIndexes},e.prototype.forgetPrevious=function(){this.forget=!0},e.prototype.setActiveByKey=function(e,t){if(0!==this.parent.frozenRows){var i,n={home:function(){return{toHeader:!i.isContent,toFrozen:!0}},end:function(){return{toHeader:!i.isContent,toFrozen:!1}},ctrlHome:function(){return{toHeader:!0,toFrozen:!1}},ctrlEnd:function(){return{toHeader:!1,toFrozen:!1}}};if(e in n){i=t.getInfo();var r=n[""+e]();this.setActive(!r.toHeader),this.getContent().matrix.current=t.matrix.current}}},e.prototype.internalCellFocus=function(e){if(e.byKey&&e.container.isContent&&"enter"===e.keyArgs.action&&(e.parent.classList.contains("e-detailcell")||e.parent.classList.contains("e-unboundcell"))){this.clearIndicator();var t=this.getContent().getFocusable(this.getFocusedElement());this.setFocusedElement(t),this.currentInfo.skipAction=!0}},e}(),NS=function(){function e(){this.matrix=[],this.current=[]}return e.prototype.set=function(e,t,i){e=Math.max(0,Math.min(e,this.rows)),t=Math.max(0,Math.min(t,this.columns)),this.matrix[parseInt(e.toString(),10)]=this.matrix[parseInt(e.toString(),10)]||[],this.matrix[parseInt(e.toString(),10)][parseInt(t.toString(),10)]=i?1:0},e.prototype.get=function(e,t,i,n,r){var s=t;if(e+i[0]<0)return[e,t];e=Math.max(0,Math.min(e+i[0],this.rows));var o=!0;if(ko(this.matrix[parseInt(e.toString(),10)]))return null;if(t=Math.max(0,Math.min(t+i[1],this.matrix[parseInt(e.toString(),10)].length-1)),s+i[1]>this.matrix[parseInt(e.toString(),10)].length-1&&r(e,t,n))return[e,s];var a=this.first(this.matrix[parseInt(e.toString(),10)],t,i,!0,n),l=No(e+"."+(t=null===a?s:a),this.matrix);if(e!==this.rows||"downArrow"!==n&&"enter"!==n||(i[0]=-1),null===a){for(var h=0;h<this.rows;h++)if(this.matrix[parseInt(h.toString(),10)].some((function(e){return 1===e}))){o=!1;break}if(o)return[e=this.current.length?this.current[0]:0,t]}return this.inValid(l)||!r(e,t,n)?this.get(e,s,i,n,r):[e,t]},e.prototype.first=function(e,t,i,n,r){return(t<0||t===e.length)&&this.inValid(e[parseInt(t.toString(),10)])&&"upArrow"!==r&&"downArrow"!==r||!e.some((function(e){return 1===e}))?null:this.inValid(e[parseInt(t.toString(),10)])?this.first(e,-1!==["upArrow","downArrow","shiftUp","shiftDown"].indexOf(r)?n?0:++t:t+i[1],i,!1,r):t},e.prototype.select=function(e,t){e=Math.max(0,Math.min(e,this.rows)),t=Math.max(0,Math.min(t,this.matrix[parseInt(e.toString(),10)].length-1)),this.current=[e,t]},e.prototype.generate=function(e,t,i){this.rows=e.length-1,this.matrix=[];for(var n=0;n<e.length;n++){var r=e[parseInt(n.toString(),10)].cells.filter((function(e){return!0!==e.isSpanned}));this.columns=Math.max(r.length-1,0|this.columns);for(var s=0,o=0;o<r.length;o++)r[parseInt(o.toString(),10)].column&&r[parseInt(o.toString(),10)].column.columns?s=this.columnsCount(r[parseInt(o.toString(),10)].column.columns,s):s++,this.set(n,o,!1!==e[parseInt(n.toString(),10)].visible&&t(e[parseInt(n.toString(),10)],r[parseInt(o.toString(),10)],i));this.columns=Math.max(s-1,0|this.columns)}return this.matrix},e.prototype.columnsCount=function(e,t){for(var i=e,n=t,r=0;r<i.length;r++)i[parseInt(r.toString(),10)].columns?n=this.columnsCount(i[parseInt(r.toString(),10)].columns,n):n++;return n},e.prototype.inValid=function(e){return 0===e||void 0===e},e}(),CS=function(){function e(e){var t=this;this.matrix=new NS,this.lastIdxCell=!1,this.parent=e,this.keyActions={rightArrow:[0,1],tab:[0,1],leftArrow:[0,-1],shiftTab:[0,-1],upArrow:[-1,0],downArrow:[1,0],shiftUp:[-1,0],shiftDown:[1,0],shiftRight:[0,1],shiftLeft:[0,-1],enter:[1,0],shiftEnter:[-1,0]},this.indexesByKey=function(e){return{home:[t.matrix.current[0],-1,0,1],end:[t.matrix.current[0],t.matrix.columns+1,0,-1],ctrlHome:[0,-1,0,1],ctrlEnd:[t.matrix.rows,t.matrix.columns+1,0,-1]}[""+e]||null}}return e.prototype.getTable=function(){return this.parent.getContentTable()},e.prototype.onKeyPress=function(e){var t=this.keyActions[e.action],i=this.getCurrentFromAction(e.action,t,e.action in this.keyActions,e);if(i){if((["tab","shiftTab"].indexOf(e.action)>-1&&this.matrix.current||[]).toString()===i.toString()||this.parent.allowPaging&&!this.parent.pagerModule.pagerObj.checkPagerHasFocus()&&this.matrix.current[0]===this.matrix.rows&&("Batch"===this.parent.editSettings.mode&&this.parent.editSettings.allowAdding&&40===e.keyCode||40===e.keyCode)){if(i.toString()===[this.matrix.rows,this.matrix.columns].toString()||i.toString()===[0,0].toString()||this.matrix.current[0]===this.matrix.rows&&this.matrix.current.toString()===i.toString()||this.parent.allowGrouping&&this.parent.infiniteScrollSettings.enableCache&&i.toString()===[0,1].toString())return!1;i=this.editNextRow(i[0],i[1],e.action)}this.matrix.select(i[0],i[1])}},e.prototype.editNextRow=function(e,t,i){var n=this.parent,r=n.editSettings.allowNextRowEdit&&(n.isEdit||n.isLastCellPrimaryKey),s=n.getColumnIndexByField(n.getVisibleColumns()[0].field),o=this.getTable().rows[parseInt(e.toString(),10)].cells[parseInt(t.toString(),10)];"tab"===i&&r&&(e++,t=s+(this.getTable().rows[parseInt(e.toString(),10)].getElementsByClassName("e-indentcell").length+this.getTable().rows[parseInt(e.toString(),10)].getElementsByClassName("e-detailrowcollapse").length));return"shiftTab"===i&&r&&(e--,t=n.getColumnIndexByField(n.getVisibleColumns()[n.getVisibleColumns().length-1].field)),o.classList.contains(uy)||o.classList.contains("e-headercell")||o.classList.contains("e-groupcaption")||o.classList.contains("e-filterbarcell")?[e,t]:this.editNextRow(e,t,i)},e.prototype.getCurrentFromAction=function(e,t,i,n){if(void 0===t&&(t=[0,0]),!i&&!this.indexesByKey(e)||0===this.matrix.current.length)return null;if(!this.shouldFocusChange(n))return this.matrix.current;var r=this.indexesByKey(e)||this.matrix.current.concat(t),s=r[0],o=r[1],a=r[2],l=r[3];if(this.parent.allowGrouping&&this.parent.groupSettings.columns.length&&this.parent.aggregates.length&&"enter"===e)for(var h=s;h<this.matrix.matrix.length;h++){var c=this.getTable().rows[h+1];if(c&&c.cells[parseInt(o.toString(),10)]&&c.cells[parseInt(o.toString(),10)].classList.contains("e-rowcell"))return[h+1,o];if(h===this.matrix.matrix.length-1)return[s,o]}if("ctrlEnd"===e||"end"===e){var u=[this.matrix.matrix.length-1,this.matrix.matrix[this.matrix.matrix.length-1].length-1];"end"===e&&(u=[s,this.matrix.matrix[parseInt(s.toString(),10)].length-1]),0===this.matrix.matrix[u[0]][u[1]]&&(u=nb(this.matrix.matrix,u,!1)),s=u[0],o=u[1]+1}return this.matrix.get(s,o,[a,l],e,this.validator())},e.prototype.onClick=function(e,t){var i=e.target;if(this.target=i,i=(i=i.classList.contains(uy)?i:Za(i,"td"))||(Za(e.target,"td.e-detailrowcollapse")||Za(e.target,"td.e-detailrowexpand")),!(i=(i=Za(e.target,"td.e-detailcell")&&ko(Za(Za(e.target,".e-grid"),"td.e-detailcell"))?null:i)&&Za(i,"table").classList.contains(by)?i:null))return!1;var n=[i.parentElement.rowIndex,i.cellIndex],r=n[0],s=n[1],o=this.matrix.current,a=o[0],l=o[1],h=No(r+"."+s,this.matrix.matrix);if(this.matrix.inValid(h)||!t&&a===r&&l===s||!Jy(e.target,uy)&&!Jy(e.target,"e-groupcaption")&&!Jy(e.target,"e-recordpluscollapse")&&!Jy(e.target,"e-recordplusexpand")&&!Jy(e.target,"e-detailrowcollapse")&&!Jy(e.target,"e-detailrowexpand")&&!Jy(e.target,"e-templatecell"))return!1;this.matrix.select(r,s)},e.prototype.getFocusInfo=function(){var e={},t=this.matrix.current,i=t[0],n=void 0===i?0:i,r=t[1],s=void 0===r?0:r;return this.matrix.current=[n,s],e.element=ko(this.getTable().rows[parseInt(n.toString(),10)])?null:this.getTable().rows[parseInt(n.toString(),10)].cells[parseInt(s.toString(),10)],e.element?(e.elementToFocus=e.element.classList.contains("e-unboundcell")||e.element.classList.contains("e-detailcell")?e.element:this.getFocusable(e.element),e.elementToFocus=e.element.classList.contains("e-detailcell")&&e.element.querySelector(".e-childgrid")?e.element.querySelector(".e-childgrid"):e.elementToFocus,e.outline=!0,e.uid=e.element.parentElement.getAttribute("data-uid"),e):e},e.prototype.getFocusable=function(e){var t='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',i=!ko(Za(e,".e-templatecell"));this.parent.isEdit&&(t='input:not([type="hidden"]), select:not([aria-hidden="true"]), textarea');var n=[].slice.call(e.querySelectorAll(t));return n.length?i&&n.length>1?this.target?this.target:e:n[0]:e},e.prototype.selector=function(e,t,i){var n=[ov.Expand,ov.GroupCaption,ov.CaptionSummary,ov.GroupSummary];return(e.isDataRow&&t.visible&&(t.isDataCell||t.isTemplate)||e.isDataRow&&t.cellType===ov.DetailExpand&&ko(t.visible)||!e.isDataRow&&n.indexOf(t.cellType)>-1&&!((t.cellType===ov.GroupSummary||t.cellType===ov.CaptionSummary)&&(!t.isDataCell||!t.visible))||t.column&&t.visible&&"checkbox"===t.column.type||t.cellType===ov.CommandColumn||e.isDataRow&&i)&&!("delete"===e.edit&&e.isDirty)},e.prototype.nextRowFocusValidate=function(e){for(var t=e,i=e,n=this.matrix.rows;i<=n;i++){if(-1!==this.matrix.matrix[parseInt(e.toString(),10)].indexOf(1))return e;e+=1}return this.lastIdxCell=!0,t},e.prototype.previousRowFocusValidate=function(e){for(var t=e,i=e;i>=0;i--){if(-1!==this.matrix.matrix[parseInt(e.toString(),10)].indexOf(1))return e;if((e-=1)<0)return this.lastIdxCell=!0,t}return t},e.prototype.jump=function(e,t){this.lastIdxCell=!1;var i=0!==this.parent.frozenRows&&"shiftEnter"===e,n=("upArrow"===e||i)&&0===t[0];"tab"===e&&this.matrix.matrix.length&&t[1]===this.matrix.matrix[t[0]].lastIndexOf(1)&&this.matrix.matrix.length-1!==t[0]&&(this.matrix.current[0]=this.nextRowFocusValidate(this.matrix.current[0]+1),this.matrix.current[1]=-1),"shiftTab"===e&&0!==t[0]&&this.matrix.matrix[t[0]].indexOf(1)===t[1]&&(this.matrix.current[0]=this.previousRowFocusValidate(this.matrix.current[0]-1),this.matrix.current[1]=this.matrix.matrix[t[0]].length);var r=!1,s=document.activeElement.parentElement;(this.parent.enableVirtualization||this.parent.infiniteScrollSettings.enableCache)&&s.classList.contains(My)&&(r=parseInt(s.getAttribute(Ty),10)>0);return{swap:!r&&(("upArrow"===e||i)&&0===t[0]),toHeader:n}},e.prototype.getNextCurrent=function(e,t,i,n){void 0===e&&(e=[]);var r=[];return"rightArrow"!==n&&"tab"!==n||(r[0]=e[0],r[1]=-1),"downArrow"!==n&&"enter"!==n||(r[0]=-1,r[1]=e[1]),r},e.prototype.generateRows=function(e,t){var i,n=t.matrix,r=t.handlerInstance,s=r.matrix.matrix.length,o=this.parent.allowFiltering&&"FilterBar"===this.parent.filterSettings.type?s+1:s;r.matrix.matrix=r.matrix.matrix.slice(0,o),r.matrix.rows=o,(i=r.matrix.matrix).push.apply(i,n),r.matrix.rows+=n.length},e.prototype.getInfo=function(e){var t=this.getFocusInfo(),i=this.matrix.current,n=i[0],r=i[1],s=t.element.classList.contains(uy),o=s||e&&"enter"!==e.action&&(t.element.classList.contains("e-detailrowcollapse")||t.element.classList.contains("e-detailrowexpand")),a=[Math.min(parseInt(t.element.parentElement.getAttribute(Ty),10),n),Math.min(parseInt(t.element.getAttribute(xy),10),r)],l=a[0],h=a[1];return this.parent.allowGrouping&&this.parent.groupSettings.enableLazyLoading&&s&&(l=this.parent.getDataRows().indexOf(t.element.parentElement)),{isContent:!0,isDataCell:s,indexes:[l,h],isSelectable:o}},e.prototype.validator=function(){var e=this.getTable();return function(t,i,n){if(!ko(e.rows[parseInt(t.toString(),10)])){var r=void 0;i=e.querySelector(".e-emptyrow")?0:i;var s=0!==(r=e.rows[parseInt(t.toString(),10)].cells[0].classList.contains("e-editcell")?e.rows[parseInt(t.toString(),10)].cells[0].querySelectorAll("td")[parseInt(i.toString(),10)]:e.rows[parseInt(t.toString(),10)].cells[parseInt(i.toString(),10)]).getBoundingClientRect().width;if("enter"===n||"shiftEnter"===n)return s&&r.classList.contains(uy);if(("shiftUp"===n||"shiftDown"===n)&&r.classList.contains(uy))return s;if("shiftUp"!==n&&"shiftDown"!==n)return s}return!1}},e.prototype.shouldFocusChange=function(e){var t=this.matrix.current,i=t[0],n=void 0===i?-1:i,r=t[1],s=void 0===r?-1:r;if(n<0||s<0)return!0;var o=No(n+".cells."+s,this.getTable().rows);return!o||("enter"!==e.action&&"shiftEnter"!==e.action||(o.classList.contains(uy)&&!o.classList.contains("e-unboundcell")||o.classList.contains("e-editedbatchcell")&&!o.classList.contains("e-detailcell")))},e.prototype.getGridSeletion=function(){return this.parent.allowSelection&&this.parent.selectionSettings.allowColumnSelection},e}(),xS=function(e){function t(t){return e.call(this,t)||this}return _S(t,e),t.prototype.getTable=function(){return this.parent.getHeaderTable()},t.prototype.onClick=function(e){var t=e.target;if(this.target=t,(t=t.classList.contains("e-headercell")?t:Za(t,"th"))||0===this.parent.frozenRows||(t=e.target.classList.contains(uy)?e.target:Za(e.target,"td")),e.target.classList.contains("e-columnheader")||e.target.querySelector(".e-stackedheadercell"))return!1;if(t){var i=[t.parentElement.rowIndex,t.cellIndex],n=No(i[0]+"."+i[1],this.matrix.matrix);if(this.matrix.inValid(n))return!1;this.matrix.select(t.parentElement.rowIndex,t.cellIndex)}},t.prototype.getFocusInfo=function(){var e={},t=this.matrix.current,i=t[0],n=void 0===i?0:i,r=t[1],s=void 0===r?0:r;return e.element=this.getTable().rows[parseInt(n.toString(),10)].cells[parseInt(s.toString(),10)],ko(e.element)||(e.elementToFocus=this.getFocusable(e.element),e.outline=!e.element.classList.contains("e-filterbarcell")),e},t.prototype.selector=function(e,t){return t.visible&&(void 0!==t.column.field||t.isTemplate||!ko(t.column.template)||!ko(t.column.commands))||"checkbox"===t.column.type||t.cellType===ov.StackedHeader},t.prototype.jump=function(e,t){var i,n,r=0!==this.parent.frozenRows&&"enter"===e;return this.parent.enableHeaderFocus&&"tab"===e&&(n=this.matrix.matrix.length-1===t[0],(i=t[1]===this.matrix.matrix[t[0]].lastIndexOf(1))&&(this.matrix.current[0]=n?0:this.matrix.current[0]+1,this.matrix.current[1]=-1)),{swap:("downArrow"===e||r)&&t[0]===this.matrix.matrix.length-1||"tab"===e&&n&&i}},t.prototype.getNextCurrent=function(e,t,i,n){void 0===e&&(e=[]);var r=[];return("rightArrow"===n||"shiftRight"===n&&this.getGridSeletion()||"tab"===n)&&(r[0]=e[0],r[1]=-1),"upArrow"!==n&&"shiftEnter"!==n||(r[0]=this.matrix.matrix.length,r[1]=e[1]),r},t.prototype.generateRows=function(e){var t=this.matrix.matrix.length;if(this.parent.allowFiltering&&"FilterBar"===this.parent.filterSettings.type){this.matrix.rows=++this.matrix.rows;for(var i=e[0].cells,n=0,r=0;r<i.length;r++)i[parseInt(r.toString(),10)].column&&i[parseInt(r.toString(),10)].column.columns?n=this.checkFilterColumn(i[parseInt(r.toString(),10)].column.columns,t,n):(this.matrix.set(t,n,i[parseInt(r.toString(),10)].visible&&!1!==i[parseInt(r.toString(),10)].column.allowFiltering),n++)}},t.prototype.checkFilterColumn=function(e,t,i){for(var n=e,r=i,s=0;s<n.length;s++)n[parseInt(s.toString(),10)].columns?r=this.checkFilterColumn(n[parseInt(s.toString(),10)].columns,t,r):(this.matrix.set(t,r,n[parseInt(s.toString(),10)].visible&&!1!==n[parseInt(s.toString(),10)].allowFiltering),r++);return r},t.prototype.getInfo=function(t){return Eo(e.prototype.getInfo.call(this,t),{isContent:!1,isHeader:!0})},t.prototype.validator=function(){return function(){return!0}},t.prototype.shouldFocusChange=function(e){var t=this.matrix.current,i=t[0],n=t[1];if(i<0||n<0)return!0;var r=No(i+".cells."+n,this.getTable().rows);return!r||("enter"!==e.action&&"altDownArrow"!==e.action||!r.classList.contains("e-headercell"))},t.prototype.getHeaderType=function(){return"HeaderFocus"},t}(CS),DS=function(){function e(e){this.searchBox=e}return e.prototype.searchFocus=function(e){if(e.target.parentElement.classList.add("e-input-focus"),e.target.classList.contains("e-input")&&e.target.classList.contains("e-search")&&e.target.value){var t=e.target.parentElement.querySelector(".e-sicon");t.classList.add("e-clear-icon"),t.setAttribute("title","Clear"),t.style.cursor="pointer"}},e.prototype.searchBlur=function(e){var t=e.relatedTarget?e.relatedTarget:null;if(t&&t.classList.contains("e-sicon")?t.classList.contains("e-clear-icon")&&e.target.parentElement.classList.remove("e-input-focus"):e.target.parentElement.classList.remove("e-input-focus"),e.target.classList.contains("e-search")&&t&&!t.classList.contains("e-sicon e-clear-icon")&&!t.classList.contains("e-sicon")){var i=e.target.parentElement.querySelector(".e-sicon");i.classList.remove("e-clear-icon"),i.removeAttribute("title"),i.style.cursor="default"}},e.prototype.wireEvent=function(){this.searchBox&&(Oa.add(this.searchBox,"focus",this.searchFocus,this),Oa.add(this.searchBox,"blur",this.searchBlur,this))},e.prototype.unWireEvent=function(){this.searchBox&&(Oa.remove(this.searchBox,"focus",this.searchFocus),Oa.remove(this.searchBox,"blur",this.searchBlur))},e}(),TS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),AS=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},jS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return TS(t,e),AS([fl(12)],t.prototype,"pageSize",void 0),AS([fl(8)],t.prototype,"pageCount",void 0),AS([fl(1)],t.prototype,"currentPage",void 0),AS([fl()],t.prototype,"totalRecordsCount",void 0),AS([fl(!1)],t.prototype,"enableQueryString",void 0),AS([fl(!1)],t.prototype,"pageSizes",void 0),AS([fl(null)],t.prototype,"template",void 0),t}(zl),ES=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),kS=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},zS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ES(t,e),kS([fl("startsWith")],t.prototype,"operator",void 0),kS([fl(!1)],t.prototype,"ignoreAccent",void 0),t}(zl),LS=function(){function e(e,t,i){this.selectedRowIndexes=[],this.selectedRowCellIndexes=[],this.selectedRecords=[],this.preventFocus=!1,this.selectedColumnsIndexes=[],this.checkBoxState=!1,this.isMultiShiftRequest=!1,this.isMultiCtrlRequest=!1,this.enableSelectMultiTouch=!1,this.clearRowCheck=!1,this.selectRowCheck=!1,this.selectedRowState={},this.unSelectedRowState={},this.totalRecordsCount=0,this.chkAllCollec=[],this.isCheckedOnAdd=!1,this.persistSelectedData=[],this.deSelectedData=[],this.isHdrSelectAllClicked=!1,this.needColumnSelection=!1,this.isCancelDeSelect=!1,this.isPreventCellSelect=!1,this.disableUI=!1,this.isPersisted=!1,this.cmdKeyPressed=!1,this.cellselected=!1,this.isMultiSelection=!1,this.isAddRowsToSelection=!1,this.initialRowSelection=!1,this.isPrevRowSelection=!1,this.isKeyAction=!1,this.isRowDragSelected=!1,this.isPartialSelection=!1,this.rmtHdrChkbxClicked=!1,this.isCheckboxReset=!1,this.autoFillRLselection=!0,this.bottom="0 0 2px 0",this.top="2px 0 0 0",this.right_bottom="0 2px 2px 0",this.bottom_left="0 0 2px 2px",this.top_right="2px 2px 0 0",this.top_left="2px 0 0 2px",this.top_bottom="2px 0 2px 0",this.top_right_bottom="2px 2px 2px 0",this.top_bottom_left="2px 0 2px 2px",this.top_right_left="2px 2px 0 2px",this.right_bottom_left="0 2px 2px 2px",this.all_border="2px",this.parent=e,this.selectionSettings=t,this.factory=i.getService("rendererFactory"),this.focus=i.getService("focus"),this.addEventListener(),this.wireEvents()}return e.prototype.initializeSelection=function(){this.parent.log("selection_key_missing"),this.render()},e.prototype.onActionBegin=function(e,t){this.parent.trigger(t,this.fDataUpdate(e))},e.prototype.fDataUpdate=function(e){if(!this.isMultiSelection&&(!ko(e.cellIndex)||!ko(e.rowIndex))){var t=this.getRowObj(ko(e.rowIndex)?ko(e.cellIndex)?this.currentIndex:e.cellIndex.rowIndex:e.rowIndex);e.foreignKeyData=t.foreignKeyData}return e},e.prototype.onActionComplete=function(e,t){this.parent.trigger(t,this.fDataUpdate(e)),this.isMultiSelection=!1},e.prototype.getModuleName=function(){return"selection"},e.prototype.destroy=function(){var e=this.parent.element;e&&(e.querySelector("."+py)||e.querySelector("."+dy))&&(this.hidePopUp(),this.clearSelection(),this.removeEventListener(),this.unWireEvents(),Oa.remove(this.parent.getContent(),"mousedown",this.mouseDownHandler),Oa.remove(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler))},e.prototype.isEditing=function(){return("Normal"===this.parent.editSettings.mode||"Batch"===this.parent.editSettings.mode&&this.parent.editModule&&this.parent.editModule.formObj&&!this.parent.editModule.formObj.validate())&&this.parent.isEdit&&!this.parent.isPersistSelection},e.prototype.getCurrentBatchRecordChanges=function(){var e=this.parent;if("Batch"===e.editSettings.mode&&e.editModule){var t=Hy(this.parent.getCurrentViewRecords());t="Bottom"===e.editSettings.newRowPosition?t.concat(this.parent.editModule.getBatchChanges()[Iy]):this.parent.editModule.getBatchChanges()[Iy].concat(t);for(var i=this.parent.editModule.getBatchChanges()[Ny],n=this.parent.getPrimaryKeyFieldNames()[0],r=0;r<i.length;r++)for(var s=0;s<t.length;s++)if(i[parseInt(r.toString(),10)][""+n]===t[parseInt(s.toString(),10)][""+n]){t.splice(s,1);break}return t}return this.parent.enableVirtualization&&this.parent.groupSettings.columns.length&&!this.parent.isPersistSelection?e.getCurrentViewRecords().filter((function(e){return void 0===e.key})):e.getCurrentViewRecords()},e.prototype.selectRow=function(e,t){if(this.selectedRowIndexes.length&&this.selectionSettings.enableSimpleMultiRowSelection)this.addRowsToSelection([e]);else{var i=this.parent,n=i.getRowByIndex(e),r=n&&i.getRowObjectFromUID(n.getAttribute("data-uid"));if(!(this.isPartialSelection&&r&&r.isDataRow)||r.isSelectable){var s,o=!1;if(i.enableVirtualization&&e>-1){var a={selectedIndex:e,isAvailable:!0};if(this.parent.notify("select-virtual-Row",a),!n||!i.getRowObjectFromUID(n.getAttribute("data-uid"))){if(a.isAvailable&&!i.selectionSettings.persistSelection)this.parent.getSelectedRecords().length>0&&this.clearRowSelection();return}s=i.getRowObjectFromUID(n.getAttribute("data-uid")).data}else s=this.getRowObj(e).data;if(this.isRowType()&&n&&!this.isEditing()){var l,h=n.hasAttribute("aria-selected");this.activeTarget(),t=t?!!this.selectedRowIndexes.length&&(1===this.selectedRowIndexes.length&&((!this.isKeyAction||!this.parent.isCheckBoxSelection)&&e===this.selectedRowIndexes[0])):t,this.isKeyAction=!1;var c="cancel";t?this.rowSelectingCallBack(l,t,e,s,o,h,c)(l):(l={data:s,rowIndex:e,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,row:n,previousRow:i.getRowByIndex(this.prevRowIndex),previousRowIndex:this.prevRowIndex,target:this.actualTarget,cancel:!1,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked},this.parent.trigger(wg,this.fDataUpdate(l),this.rowSelectingCallBack(l,t,e,s,o,h,c)))}}}},e.prototype.rowSelectingCallBack=function(e,t,i,n,r,s,o){var a=this;return function(e){ko(e)||!0!==e[""+o]?(a.index=i,a.toggle=t,a.data=n,a.removed=r,s&&a.selectionSettings.persistSelection&&"ResetOnRowClick"!==a.selectionSettings.checkboxMode?(a.clearSelectedRow(i),a.selectRowCallBack()):!s&&a.selectionSettings.persistSelection&&"ResetOnRowClick"!==a.selectionSettings.checkboxMode&&a.selectRowCallBack(),"ResetOnRowClick"===a.selectionSettings.checkboxMode&&(a.isCheckboxReset=!0,a.clearSelection()),(!a.selectionSettings.persistSelection||"ResetOnRowClick"===a.selectionSettings.checkboxMode||!a.parent.isCheckBoxSelection&&a.selectionSettings.persistSelection)&&(a.selectRowCheck=!0,a.clearRow())):a.disableInteracted()}},e.prototype.selectRowCallBack=function(){var e,t=this.parent,i=this.index,n=this.toggle,r=this.data,s=this.removed,o=t.getRowByIndex(i);n||s||(this.selectedRowIndexes.indexOf(i)<=-1&&this.updateRowSelection(o,i),this.selectRowIndex(i)),n||(e={data:r,rowIndex:i,row:o,previousRow:t.getRowByIndex(this.prevRowIndex),previousRowIndex:this.prevRowIndex,target:this.actualTarget,isInteracted:this.isInteracted,isHeaderCheckBoxClicked:this.isHeaderCheckboxClicked,rowIndexes:i},this.onActionComplete(e,_g)),this.isInteracted=!1,this.updateRowProps(i)},e.prototype.selectRowsByRange=function(e,t){this.selectRows(this.getCollectionFromIndexes(e,t)),this.selectRowIndex(t)},e.prototype.selectedDataUpdate=function(e,t,i,n,r){for(var s=0,o=n.length;s<o;s++){var a=this.parent.getDataRows()[n[parseInt(s.toString(),10)]];this.parent.enableVirtualization&&(a=this.parent.getRowByIndex(n[parseInt(s.toString(),10)]));var l=this.getRowObj(a);l&&l.isDataRow&&l.isSelectable?(e.push(l.data),i.push(a),t.push(l.foreignKeyData)):this.isPartialSelection&&r&&r.splice(r.indexOf(n[parseInt(s.toString(),10)]),1)}},e.prototype.selectRows=function(e){var t=this,i=this.parent,n=e.slice(),r=this.isSingleSel()?e[e.length-1]:e[0];this.isMultiSelection=!0;var s=[],o=[],a=[];if(this.isRowType()&&!this.isEditing()){this.selectedDataUpdate(a,o,s,e,n),this.activeTarget();var l={cancel:!1,rowIndexes:n,row:s,rowIndex:r,target:this.actualTarget,prevRow:i.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,isInteracted:this.isInteracted,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,data:a,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,foreignKeyData:o};this.parent.trigger(wg,this.fDataUpdate(l),(function(e){if(ko(e)||!0!==e.cancel){t.clearRow(),t.selectRowIndex(n.slice(-1)[0]);var a=function(e,n){t.updateRowSelection(i.getRowByIndex(e),e,n),t.updateRowProps(r)};if(t.isSingleSel())a(r);else for(var l=0,h=n;l<h.length;l++){a(h[l],!!i.enableVirtualization)}e={rowIndexes:n,row:s,rowIndex:r,target:t.actualTarget,prevRow:i.getRows()[t.prevRowIndex],previousRowIndex:t.prevRowIndex,data:t.getSelectedRecords(),isInteracted:t.isInteracted,isHeaderCheckboxClicked:t.isHeaderCheckboxClicked,foreignKeyData:o},t.isRowSelected&&t.onActionComplete(e,_g),t.isInteracted=!1}else t.disableInteracted()}))}},e.prototype.addRowsToSelection=function(e){var t=this.parent,i=this.target;this.isMultiSelection=!0;var n=[],r=[],s=[],o=t.getSelectedRowIndexes().concat(e),a=this.isSingleSel()?t.getRowByIndex(e[e.length-1]):t.getRowByIndex(e[0]);if(this.isRowType()&&!this.isEditing()||this.selectionSettings.checkboxOnly){var l,h=this.parent.getColumns().filter((function(e){return"checkbox"===e.type}));this.isMultiCtrlRequest&&!h.length&&this.selectedDataUpdate(s,r,n,o);for(var c=0,u=e;c<u.length;c++){var p=u[c],d=this.getRowObj(p),f=this.selectedRowIndexes.indexOf(p)>-1;if(!(this.isPartialSelection&&d&&d.isDataRow)||d.isSelectable){if(this.selectRowIndex(p),f&&(h.length||this.selectionSettings.enableToggle||this.isMultiCtrlRequest)){if(this.isAddRowsToSelection=!0,this.rowDeselect(Ig,[p],[d.data],[a],[d.foreignKeyData],i),this.isCancelDeSelect)return;this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(p),1),this.selectedRecords.splice(this.selectedRecords.indexOf(a),1),this.selectRowIndex(this.selectedRowIndexes.length?this.selectedRowIndexes[this.selectedRowIndexes.length-1]:-1),a.removeAttribute("aria-selected"),this.addRemoveClassesForRow(a,!1,null,"e-selectionbackground","e-active"),this.rowDeselect(Ng,[p],[d.data],[a],[d.foreignKeyData],i,void 0,void 0,void 0),this.isInteracted=!1,this.isMultiSelection=!1,this.isAddRowsToSelection=!1,this.isHdrSelectAllClicked=!1}else{if(this.activeTarget(),l={cancel:!1,data:s.length?s:d.data,rowIndex:p,row:n.length?n:a,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,foreignKeyData:r.length?r:d.foreignKeyData,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,rowIndexes:o},this.parent.trigger(wg,this.fDataUpdate(l)),!ko(l)&&!0===l.cancel)return void this.disableInteracted();this.isSingleSel()&&this.clearRow(),this.updateRowSelection(a,p)}if(f||(l={data:s.length?s:d.data,rowIndex:p,row:n.length?n:a,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,foreignKeyData:r.length?r:d.foreignKeyData,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,rowIndexes:o},this.onActionComplete(l,_g)),this.isInteracted=!1,this.updateRowProps(p),this.isSingleSel())break}}}},e.prototype.getCollectionFromIndexes=function(e,t){for(var i=[],n=e<=t?{i:e,max:t}:{i:t,max:e},r=n.i,s=n.max;r<=s;r++)i.push(r);return e>t&&i.reverse(),i},e.prototype.clearRow=function(){this.clearRowCheck=!0,this.clearRowSelection()},e.prototype.clearRowCallBack=function(){this.isCancelDeSelect&&"Check"!==this.parent.checkAllRows||(this.selectedRowIndexes=[],this.selectedRecords=[],this.selectRowIndex(-1),this.isSingleSel()&&this.parent.isPersistSelection&&(this.selectedRowState={}))},e.prototype.clearSelectedRow=function(e){if(this.toggle){var t=this.parent.getRowByIndex(e);this.disableUI||(t.removeAttribute("aria-selected"),this.addRemoveClassesForRow(t,!1,!0,"e-selectionbackground","e-active")),this.removed=!0,this.updatePersistCollection(t,!1),this.updateCheckBoxes(t),this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(e),1),this.selectedRecords.splice(this.selectedRecords.indexOf(this.parent.getRowByIndex(e)),1)}},e.prototype.updateRowProps=function(e){this.prevRowIndex=e,this.isRowSelected=this.selectedRowIndexes.length&&!0},e.prototype.getPkValue=function(e,t){return e&&dv(e)?Tv(e,t):t[""+e]},e.prototype.updatePersistCollection=function(e,t){var i=this;if((this.parent.isPersistSelection||this.parent.selectionSettings.persistSelection&&this.parent.getPrimaryKeyFieldNames().length>0)&&!ko(e)){this.parent.isPersistSelection||this.ensureCheckboxFieldSelection();var n=this.getRowObj(e),r=n.data?this.getPkValue(this.primaryKey,n.data):null;if(null===r)return;n.isSelected=t,t&&!this.isPartialSelection||this.isPartialSelection&&n.isSelectable&&n.isSelected?(this.selectedRowState[""+r]=t,delete this.unSelectedRowState[""+r],this.persistSelectedData.some((function(e){return i.getPkValue(i.primaryKey,e)===r}))||this.persistSelectedData.push(n.data)):this.updatePersistDelete(r)}},e.prototype.updatePersistDelete=function(e,t){var i,n=this;delete this.selectedRowState[""+e],this.rmtHdrChkbxClicked&&(this.unSelectedRowState[""+e]=!0),this.persistSelectedData.some((function(t,r){return i=r,n.getPkValue(n.primaryKey,t)===e}))&&(this.persistSelectedData.splice(i,1),t&&this.parent.partialSelectedRecords.splice(i,1))},e.prototype.updateCheckBoxes=function(e,t,i){if(!ko(e)){var n=e.querySelector(".e-checkselect");ko(n)||(_v(n.nextElementSibling,t),Sv(n,t),(ko(this.checkedTarget)||!ko(this.checkedTarget)&&!this.checkedTarget.classList.contains("e-checkselectall"))&&this.setCheckAllState(i))}},e.prototype.updateRowSelection=function(e,t,i){if(e&&(this.selectedRowIndexes.push(t),this.selectedRecords.push(e),e.setAttribute("aria-selected","true"),this.updatePersistCollection(e,!0),this.updateCheckBoxes(e,!0),this.addRemoveClassesForRow(e,!0,null,"e-selectionbackground","e-active"),!this.preventFocus)){var n=this.focus.getPrevIndexes().cellIndex?e.cells[this.focus.getPrevIndexes().cellIndex]:e.querySelector(".e-selectionbackground:not(.e-hide):not(.e-detailrowcollapse):not(.e-detailrowexpand)");if(this.parent.contextMenuModule&&2===this.mouseButton&&(n=this.parent.contextMenuModule.cell),!n||i)return;this.focus.onClick({target:n},!0)}},e.prototype.clearSelection=function(){if(this.checkSelectAllClicked=!0,this.selectionSettings.persistSelection&&this.persistSelectedData.length&&(this.deSelectedData=Hy(this.persistSelectedData)),!this.parent.isPersistSelection||this.parent.isPersistSelection&&!this.parent.isEdit||!ko(this.checkedTarget)&&this.checkedTarget.classList.contains("e-checkselectall")){var e=this.parent.element.querySelector(".e-gridpopup").querySelector("span");e.classList.contains("e-rowselect")&&e.classList.remove("e-spanclicked"),this.parent.isPersistSelection&&(this.persistSelectedData=[],this.selectedRowState={}),this.clearRowSelection(),this.clearCellSelection(),this.clearColumnSelection(),this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevECIdxs=void 0,this.enableSelectMultiTouch=!1,this.isInteracted=!1,this.checkSelectAllClicked=!1,this.isHdrSelectAllClicked=!1}},e.prototype.clearRowSelection=function(){var e=this;if(this.isRowSelected){for(var t=this.parent.getDataRows(),i=[],n=[],r=[],s=[],o=this.target,a=0,l=this.selectedRowIndexes.length;a<l;a++){var h="Batch"===this.parent.editSettings.mode?this.parent.getRows()[this.selectedRowIndexes[parseInt(a.toString(),10)]]:this.parent.getDataRows()[this.selectedRowIndexes[parseInt(a.toString(),10)]],c=this.getRowObj(h);c&&(i.push(c.data),n.push(h),r.push(this.selectedRowIndexes[parseInt(a.toString(),10)]),s.push(c.foreignKeyData))}this.selectionSettings.persistSelection&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode&&(this.isRowClicked=!!this.checkSelectAllClicked),this.rowDeselect(Ig,r,i,n,s,o,null,(function(){if(e.isCancelDeSelect&&(e.isRowClicked||e.checkSelectAllClicked||e.isInteracted&&!e.parent.isPersistSelection)){if(e.parent.isPersistSelection)if("Intermediate"===e.getCheckAllStatus(e.parent.element.querySelector(".e-checkselectall")))for(var a=0;a<e.selectedRecords.length;a++)e.updatePersistCollection(e.selectedRecords[parseInt(a.toString(),10)],!0);else e.parent.checkAllRows="Check",e.updatePersistSelectedData(!0);e.clearRowCheck&&(e.clearRowCallBack(),e.clearRowCheck=!1,e.selectRowCheck&&(e.selectRowCallBack(),e.selectRowCheck=!1))}else{for(var l=[].slice.call(t.filter((function(e){return e.hasAttribute("aria-selected")}))),h=0;h<l.length;h++)e.disableUI||(l[parseInt(h.toString(),10)].removeAttribute("aria-selected"),e.addRemoveClassesForRow(l[parseInt(h.toString(),10)],!1,!0,"e-selectionbackground","e-active")),e.isPrevRowSelection||e.updatePersistCollection(l[parseInt(h.toString(),10)],!1),e.updateCheckBoxes(l[parseInt(h.toString(),10)]);e.selectedRowIndexes=[],e.selectedRecords=[],e.isRowSelected=!1,e.selectRowIndex(-1),e.isPrevRowSelection=!1,e.rowDeselect(Ng,r,i,n,s,o,null,void 0,null),e.clearRowCheck&&(e.clearRowCallBack(),e.clearRowCheck=!1,e.selectRowCheck&&(e.selectRowCallBack(),e.selectRowCheck=!1))}}),null)}else this.clearRowCheck&&(this.clearRowCallBack(),this.clearRowCheck=!1,this.selectRowCheck&&(this.selectRowCallBack(),this.selectRowCheck=!1))},e.prototype.rowDeselect=function(e,t,i,n,r,s,o,a,l){var h=this;if(this.selectionSettings.persistSelection&&(this.isRowClicked||this.checkSelectAllClicked||this.focus.activeKey&&this.focus.currentInfo.element.classList.contains("e-gridchkbox")&&"space"===this.focus.activeKey)||!this.selectionSettings.persistSelection){var c=1===t.length&&1===this.deSelectedData.length,u={rowIndex:t[0],data:this.selectionSettings.persistSelection&&"Uncheck"===this.parent.checkAllRows&&!c&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode?this.deSelectedData:i,foreignKeyData:r,cancel:!1,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked};"rowDeselected"===e&&delete u.cancel;var p="row",d="rowIndexes",f="data",g="foreignKeyData";u[""+p]=n,u.target=this.actualTarget,this.actualTarget&&!ko(Za(this.actualTarget,"thead"))||t.length>1?(u.rowIndex=t[0],u[""+d]=t):1===t.length&&(u[""+f]=u[""+f][0],u[""+p]=u[""+p][0],u[""+g]=u[""+g][0],this.isAddRowsToSelection&&(u[""+d]=t)),this.parent.trigger(e,u,(function(e){h.isCancelDeSelect=e.cancel,h.isCancelDeSelect&&(h.isRowClicked||h.isInteracted||h.checkSelectAllClicked)||(h.updatePersistCollection(n[0],!1),h.updateCheckBoxes(n[0],void 0,t[0])),void 0!==a&&a()}))}else this.selectionSettings.persistSelection&&!this.isInteracted&&void 0!==a&&a()},e.prototype.getRowObj=function(e){return void 0===e&&(e=this.currentIndex),ko(e)?{}:("number"===typeof e&&(e=this.parent.getRowByIndex(e)),e&&this.parent.getRowObjectFromUID(e.getAttribute("data-uid"))||{})},e.prototype.selectCell=function(e,t){if(this.isCellType()){var i,n=this.parent.getCellFromIndex(e.rowIndex,this.getColIndex(e.rowIndex,e.cellIndex));this.currentIndex=e.rowIndex;var r=this.getCurrentBatchRecordChanges()[this.currentIndex];if(this.isCellType()&&n&&!this.isEditing()){var s=n.classList.contains("e-cellselectionbackground");if(t=t?!zo(this.prevCIdxs)&&e.rowIndex===this.prevCIdxs.rowIndex&&e.cellIndex===this.prevCIdxs.cellIndex&&s:t)this.successCallBack(i,t,e,n,r)(i);else{(i={data:r,cellIndex:e,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0,cancel:!1}).currentCell=n;i.previousRowCellIndex=this.prevECIdxs,this.parent.trigger(Cg,this.fDataUpdate(i),this.successCallBack(i,t,e,n,r)),this.cellselected=!0}}}},e.prototype.successCallBack=function(e,t,i,n,r){var s=this;return function(e){var o="currentCell";if((ko(e)||!0!==e.cancel)&&(t||(e[""+o]=e[""+o]?e[""+o]:n),s.clearCell(),t||s.updateCellSelection(n,i.rowIndex,i.cellIndex),!t)){var a={data:r,cellIndex:i,currentCell:n,selectedRowCellIndex:s.selectedRowCellIndexes,previousRowCell:s.prevECIdxs?s.getCellIndex(s.prevECIdxs.rowIndex,s.prevECIdxs.cellIndex):void 0};a.previousRowCellIndex=s.prevECIdxs,s.updateCellProps(i,i),s.onActionComplete(a,xg)}}},e.prototype.getCellIndex=function(e,t){return this.parent.getCellFromIndex(e,t)},e.prototype.selectCellsByRange=function(e,t){var i=this;if(this.isCellType()){var n,r,s,o=this.parent,a=o.getCellFromIndex(e.rowIndex,e.cellIndex),l=e,h=t=t||e;this.currentIndex=e.rowIndex;var c=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!this.isSingleSel()&&this.isCellType()&&!this.isEditing()){var u={data:c,cellIndex:e,currentCell:a,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};u.previousRowCellIndex=this.prevECIdxs,this.parent.trigger(Cg,this.fDataUpdate(u),(function(u){if(ko(u)||!0!==u.cancel){if(i.clearCell(),e.rowIndex>t.rowIndex){var p=e;e=t,t=p}for(var d=e.rowIndex;d<=t.rowIndex;d++){i.selectionSettings.cellSelectionMode.indexOf("Box")<0?(n=d===e.rowIndex?e.cellIndex:0,r=d===t.rowIndex?t.cellIndex:i.getLastColIndex(d)):(n=e.cellIndex,r=t.cellIndex),s=[];for(var f=n<r?n:r,g=n>r?n:r;f<=g;f++)(a=o.getCellFromIndex(d,f))&&(s.push(f),i.updateCellSelection(a),i.addAttribute(a));i.selectedRowCellIndexes.push({rowIndex:d,cellIndexes:s})}var m={data:c,cellIndex:h,currentCell:o.getCellFromIndex(h.rowIndex,h.cellIndex),selectedRowCellIndex:i.selectedRowCellIndexes,previousRowCell:i.prevECIdxs?i.getCellIndex(i.prevECIdxs.rowIndex,i.prevECIdxs.cellIndex):void 0};m.previousRowCellIndex=i.prevECIdxs,i.isDragged||(i.onActionComplete(m,xg),i.cellselected=!0),i.updateCellProps(l,h)}}))}}},e.prototype.selectCells=function(e){if(this.isCellType()){var t=this.parent,i=t.getCellFromIndex(e[0].rowIndex,e[0].cellIndexes[0]);this.currentIndex=e[0].rowIndex;var n=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!this.isSingleSel()&&this.isCellType()&&!this.isEditing()){var r={data:n,cellIndex:e[0].cellIndexes[0],currentCell:i,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};r.previousRowCellIndex=this.prevECIdxs,this.onActionBegin(r,Cg);for(var s=0,o=e.length;s<o;s++)for(var a=0,l=e[parseInt(s.toString(),10)].cellIndexes.length;a<l;a++)(i=t.getCellFromIndex(e[parseInt(s.toString(),10)].rowIndex,e[parseInt(s.toString(),10)].cellIndexes[parseInt(a.toString(),10)]))&&(this.updateCellSelection(i),this.addAttribute(i),this.addRowCellIndex({rowIndex:e[parseInt(s.toString(),10)].rowIndex,cellIndex:e[parseInt(s.toString(),10)].cellIndexes[parseInt(a.toString(),10)]}));this.updateCellProps({rowIndex:e[0].rowIndex,cellIndex:e[0].cellIndexes[0]},{rowIndex:e[0].rowIndex,cellIndex:e[0].cellIndexes[0]});var h={data:n,cellIndex:e[0].cellIndexes[0],currentCell:i,selectedRowCellIndex:this.selectedRowCellIndexes,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};h.previousRowCellIndex=this.prevECIdxs,this.onActionComplete(h,xg)}}},e.prototype.addCellsToSelection=function(e){if(this.isCellType()){var t,i,n=this.parent;this.currentIndex=e[0].rowIndex;var r=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!this.isSingleSel()&&this.isCellType()&&!this.isEditing()){var s;this.hideAutoFill(),s=n.getRowsObject()[e[0].rowIndex],n.groupSettings.columns.length>0&&(s=n.getRowObjectFromUID(this.target.parentElement.getAttribute("data-uid")));for(var o=[],a=0,l=e;a<l.length;a++){for(var h=l[a],c=0,u=this.selectedRowCellIndexes.length;c<u;c++)if(this.selectedRowCellIndexes[parseInt(c.toString(),10)].rowIndex===h.rowIndex){i=c;break}t=n.getCellFromIndex(h.rowIndex,this.getColIndex(h.rowIndex,h.cellIndex));var p=h.cellIndex;n.groupSettings.columns.length>0?o.push(s.cells[p+n.groupSettings.columns.length].foreignKeyData):o.push(s.cells[parseInt(p.toString(),10)].foreignKeyData);var d={cancel:!1,data:r,cellIndex:e[0],isShiftPressed:this.isMultiShiftRequest,currentCell:t,isCtrlPressed:this.isMultiCtrlRequest,previousRowCell:this.prevECIdxs?n.getCellFromIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0},f="previousRowCellIndex";d[""+f]=this.prevECIdxs;var g=i>-1;if(g){var m=this.selectedRowCellIndexes[parseInt(i.toString(),10)].cellIndexes;m.indexOf(h.cellIndex)>-1?(this.cellDeselect(Dg,[{rowIndex:h.rowIndex,cellIndexes:[h.cellIndex]}],r,[t],o),m.splice(m.indexOf(h.cellIndex),1),0===m.length&&this.selectedRowCellIndexes.splice(i,1),t.classList.remove("e-cellselectionbackground"),t.removeAttribute("aria-selected"),this.cellDeselect(Tg,[{rowIndex:h.rowIndex,cellIndexes:[h.cellIndex]}],r,[t],o)):(g=!1,this.onActionBegin(d,Cg),this.addRowCellIndex({rowIndex:h.rowIndex,cellIndex:h.cellIndex}),this.updateCellSelection(t),this.addAttribute(t))}else{if(this.onActionBegin(d,Cg),!ko(d)&&!0===d.cancel)return;this.updateCellSelection(t,h.rowIndex,h.cellIndex)}if(!g){var y={data:r,cellIndex:e[0],currentCell:t,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0,selectedRowCellIndex:this.selectedRowCellIndexes};y[""+f]=this.prevECIdxs,this.onActionComplete(y,xg),this.cellselected=!0}this.updateCellProps(h,h)}}}},e.prototype.getColIndex=function(e,t){this.parent.getColumnByIndex(t);var i=Kv(this.parent,0,e);if(i)for(var n=0;n<i.length;n++){if(parseInt(i[parseInt(n.toString(),10)].getAttribute(xy),10)===t)return n}return-1},e.prototype.getLastColIndex=function(e){var t=this.parent.getDataRows()[parseInt(e.toString(),10)].querySelectorAll("td.e-rowcell");return parseInt(t[t.length-1].getAttribute(xy),10)},e.prototype.clearCell=function(){this.clearCellSelection()},e.prototype.cellDeselect=function(e,t,i,n,r){if(n&&n.length>0)for(var s=0,o=n;s<o.length;s++){var a=o[s];a&&a.classList.contains(Sy)&&this.updateCheckBoxes(Za(a,"tr"))}var l={cells:n,data:i,cellIndexes:t,foreignKeyData:r,cancel:!1};this.parent.trigger(e,l),this.isPreventCellSelect=l.cancel},e.prototype.updateCellSelection=function(e,t,i){ko(t)||this.addRowCellIndex({rowIndex:t,cellIndex:i}),e.classList.add("e-cellselectionbackground"),e.classList.contains(Sy)&&this.updateCheckBoxes(Za(e,"tr"),!0),this.addAttribute(e)},e.prototype.addAttribute=function(e){this.target=e,ko(e)||(e.setAttribute("aria-selected","true"),this.preventFocus||this.focus.onClick({target:e},!0))},e.prototype.updateCellProps=function(e,t){this.prevCIdxs=e,this.prevECIdxs=t,this.isCellSelected=this.selectedRowCellIndexes.length&&!0},e.prototype.addRowCellIndex=function(e){for(var t,i,n=0,r=this.selectedRowCellIndexes.length;n<r;n++)if(this.selectedRowCellIndexes[parseInt(n.toString(),10)].rowIndex===e.rowIndex){t=!0,i=n;break}t?this.selectedRowCellIndexes[parseInt(i.toString(),10)].cellIndexes.indexOf(e.cellIndex)<0&&this.selectedRowCellIndexes[parseInt(i.toString(),10)].cellIndexes.push(e.cellIndex):this.selectedRowCellIndexes.push({rowIndex:e.rowIndex,cellIndexes:[e.cellIndex]})},e.prototype.clearCellSelection=function(){if(this.isCellSelected){var e=this.parent,t=this.getSelectedCellsElement(),i=this.selectedRowCellIndexes,n=[],r=[],s=[],o=this.getCurrentBatchRecordChanges();this.hideAutoFill();for(var a=0,l=i.length;a<l;a++){n.push(o[i[parseInt(a.toString(),10)].rowIndex]);for(var h=this.getRowObj(i[parseInt(a.toString(),10)].rowIndex),c=0,u=i[parseInt(a.toString(),10)].cellIndexes.length;c<u;c++)h.cells&&s.push(h.cells[i[parseInt(a.toString(),10)].cellIndexes[parseInt(c.toString(),10)]].foreignKeyData),r.push(e.getCellFromIndex(i[parseInt(a.toString(),10)].rowIndex,i[parseInt(a.toString(),10)].cellIndexes[parseInt(c.toString(),10)]))}if(this.cellDeselect(Dg,i,n,r,s),!0===this.isPreventCellSelect)return;for(a=0,l=t.length;a<l;a++)t[parseInt(a.toString(),10)].classList.remove("e-cellselectionbackground"),t[parseInt(a.toString(),10)].removeAttribute("aria-selected");this.bdrElement&&this.showHideBorders("none"),this.selectedRowCellIndexes=[],this.isCellSelected=!1,!this.isDragged&&this.cellselected&&this.cellDeselect(Tg,i,n,r,s)}},e.prototype.getSelectedCellsElement=function(){for(var e=this.parent.getDataRows(),t=[],i=0,n=e.length;i<n;i++)t=t.concat([].slice.call(e[parseInt(i.toString(),10)].getElementsByClassName("e-cellselectionbackground")));return t},e.prototype.mouseMoveHandler=function(e){e.preventDefault();var t,i=this.parent.element.getBoundingClientRect(),n=this.x,r=this.y,s=$y(e),o=s.x-i.left,a=s.y-i.top,l=Za(e.target,"tr");if(this.isDragged=!0,this.isCellDrag||(l||(l=Za(document.elementFromPoint(this.parent.element.offsetLeft+2,e.clientY),"tr")),n>o&&(t=o,o=n,n=t),r>a&&(t=a,a=r,r=t),this.element.style.left=n+"px",this.element.style.top=r+"px",this.element.style.width=o-n+"px",this.element.style.height=a-r+"px"),l&&!e.ctrlKey&&!e.shiftKey){var h=parseInt(l.getAttribute(Ty),10);if(this.isCellDrag){var c=Jy(e.target,uy);c&&(this.startAFCell=this.startCell,this.endAFCell=Jy(e.target,uy),this.selectLikeExcel(e,h,parseInt(c.getAttribute(xy),10)))}else this.hideAutoFill(),this.selectRowsByRange(this.startDIndex,h),this.isRowDragSelected=!0}},e.prototype.selectLikeExcel=function(e,t,i){this.isAutoFillSel?(this.showAFBorders(),this.selectLikeAutoFill(e)):(this.clearCellSelection(),this.selectCellsByRange({rowIndex:this.startDIndex,cellIndex:this.startDCellIndex},{rowIndex:t,cellIndex:i}),this.drawBorders())},e.prototype.setFrozenBorders=function(e,t,i){var n=t.style.borderWidth.toString().split(" "),r=[].slice.call(e.querySelectorAll(".e-cellselectionbackground."+["","e-leftfreeze","e-unfreeze","e-leftfreeze","e-unfreeze","e-rightfreeze","e-rightfreeze"][""+i])).filter((function(e){return""===e.style.display})),s=[].slice.call(e.querySelectorAll(".e-cellselectionbackground.e-fixedfreeze")).filter((function(e){return""===e.style.display})),o=this.parent.enableRtl;if(r.length)for(var a=r[0].getAttribute("index"),l=r[0].getAttribute("data-colindex"),h=r[r.length-1].getAttribute("index"),c=r[r.length-1].getAttribute("data-colindex"),u=0;u<r.length;u++)r[parseInt(u.toString(),10)].getAttribute("index")===a&&(1===n.length||3===n.length&&2===parseInt(n[0],10)||4===n.length&&2===parseInt(n[0],10))&&r[parseInt(u.toString(),10)].classList.add("e-xlsel-top-border"),r[parseInt(u.toString(),10)].getAttribute("data-colindex")===l&&(1===n.length||3===n.length&&2===parseInt(n[1],10)||4===n.length&&(!o&&2===parseInt(n[3],10)||o&&2===parseInt(n[1],10)))&&r[parseInt(u.toString(),10)].classList.add(o?"e-xlsel-right-border":"e-xlsel-left-border"),r[parseInt(u.toString(),10)].getAttribute("index")===h&&(1===n.length||3===n.length&&2===parseInt(n[2],10)||4===n.length&&2===parseInt(n[2],10))&&r[parseInt(u.toString(),10)].classList.add("e-xlsel-bottom-border"),r[parseInt(u.toString(),10)].getAttribute("data-colindex")===c&&(1===n.length||3===n.length&&2===parseInt(n[1],10)||4===n.length&&!o&&2===parseInt(n[1],10)||o&&2===parseInt(n[3],10))&&r[parseInt(u.toString(),10)].classList.add(o?"e-xlsel-left-border":"e-xlsel-right-border");if(s.length)for(a=s[0].getAttribute("index"),l=s[0].getAttribute("data-colindex"),h=s[s.length-1].getAttribute("index"),c=s[s.length-1].getAttribute("data-colindex"),u=0;u<s.length;u++){var p=s[parseInt(u.toString(),10)].getAttribute("index"),d=s[parseInt(u.toString(),10)].getAttribute("data-colindex");p!==a||(this.parent.getHeaderContent().querySelector(".e-cellselectionbackground.e-fixedfreeze")||!Jy(e,"e-content"))&&Jy(e,"e-content")||s[parseInt(u.toString(),10)].classList.add("e-xlsel-top-border"),p!==h||(this.parent.getContent().querySelector(".e-cellselectionbackground.e-fixedfreeze")||!Jy(e,"e-headercontent"))&&Jy(e,"e-headercontent")||s[parseInt(u.toString(),10)].classList.add("e-xlsel-bottom-border");var f=s[parseInt(u.toString(),10)].parentElement.children[parseInt(d,10)-1];d!==l||f&&(!f||f.classList.contains("e-cellselectionbackground"))||s[parseInt(u.toString(),10)].classList.add(o?"e-xlsel-right-border":"e-xlsel-left-border");var g=s[parseInt(u.toString(),10)].parentElement.children[parseInt(d,10)+1];d!==c||g&&(!g||g.classList.contains("e-cellselectionbackground"))||s[parseInt(u.toString(),10)].classList.add(o?"e-xlsel-left-border":"e-xlsel-right-border")}},e.prototype.refreshFrozenBorders=function(){this.bdrElement&&(this.setFrozenBorders(this.parent.getContentTable(),this.bdrElement,"1"),this.parent.isFrozenGrid()&&this.parent.getFrozenMode()===Cy&&this.setFrozenBorders(this.parent.getContentTable(),this.frcBdrElement,"5"),this.parent.frozenRows&&(this.setFrozenBorders(this.parent.getHeaderTable(),this.fhBdrElement,"3"),this.parent.isFrozenGrid()&&this.parent.getFrozenMode()===Cy&&this.setFrozenBorders(this.parent.getHeaderTable(),this.frhBdrElement,"6")))},e.prototype.drawBorders=function(){"BoxWithBorder"===this.selectionSettings.cellSelectionMode&&this.selectedRowCellIndexes.length&&!this.parent.isEdit?(this.parent.element.classList.add("e-enabledboxbdr"),this.bdrElement||this.createBorders(),this.positionBorders(),this.parent.isFrozenGrid()&&(this.showHideBorders("none",!0),this.refreshFrozenBorders())):this.showHideBorders("none")},e.prototype.isLastCell=function(e){var t=[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"));return t[t.length-1]===e},e.prototype.isLastRow=function(e){var t=[].slice.call(Za(e,jy).querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[t.length-1]},e.prototype.isFirstRow=function(e){var t=[].slice.call(Za(e,jy).querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[0]},e.prototype.isFirstCell=function(e){return[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"))[0]===e},e.prototype.setBorders=function(e,t,i){var n=[].slice.call(e.getElementsByClassName("e-cellselectionbackground")).filter((function(e){return""===e.style.display}));if(n.length&&this.parent.isFrozenGrid()){n=[].slice.call(e.querySelectorAll(".e-cellselectionbackground."+["","e-leftfreeze","e-unfreeze","e-leftfreeze","e-unfreeze","e-rightfreeze","e-rightfreeze"][""+i])).filter((function(e){return""===e.style.display}))}if(n.length){var r=this.parent.isFrozenGrid(),s=n[0],o=n[n.length-1],a=s.getBoundingClientRect(),l=o.getBoundingClientRect(),h=s.offsetParent.getBoundingClientRect();(s.offsetParent.classList.contains("e-content")||s.offsetParent.classList.contains("e-headercontent"))&&(h=s.offsetParent.querySelector("table").getBoundingClientRect());var c=r||!this.isLastRow(o)||"1"!==i&&"2"!==i&&"5"!==i?0:2,u=r&&("2"===i||"4"===i)&&this.isFirstCell(s)?1:0,p=("Right"!==this.parent.getFrozenMode()||"1"!==i&&"3"!==i)&&(this.parent.getFrozenMode()!==Cy||"5"!==i&&"6"!==i)||!this.isFirstCell(s)?0:1;this.parent.enableRtl?(t.style.right=h.right-a.right-u+"px",t.style.width=a.right-l.left+u+1+"px"):(t.style.left=a.left-h.left-u-p+"px",t.style.width=l.right-a.left+u-p+1+"px"),t.style.top=a.top-h.top-0+"px",t.style.height=l.top-a.top>0?l.top-h.top+l.height+(r?0:1)-(a.top-h.top)-c+0+"px":l.height+0-c+(r?0:1)+"px",this.selectDirection+=i}else t.style.display="none"},e.prototype.positionBorders=function(){this.updateStartEndCells(),this.startCell&&this.bdrElement&&this.selectedRowCellIndexes.length&&(this.selectDirection="",this.showHideBorders(""),this.setBorders(this.parent.getContentTable(),this.bdrElement,"1"),this.parent.isFrozenGrid()&&(this.setBorders(this.parent.getContentTable(),this.mcBdrElement,"2"),this.parent.getFrozenMode()===Cy&&this.setBorders(this.parent.getContentTable(),this.frcBdrElement,"5")),this.parent.frozenRows&&(this.setBorders(this.parent.getHeaderTable(),this.fhBdrElement,"3"),this.parent.isFrozenGrid()&&(this.setBorders(this.parent.getHeaderTable(),this.mhBdrElement,"4"),this.parent.getFrozenMode()===Cy&&this.setBorders(this.parent.getHeaderTable(),this.frhBdrElement,"6"))),this.applyBorders(this.selectDirection))},e.prototype.applyBothFrozenBorders=function(e){var t=this.parent.enableRtl;switch(e.length){case 6:this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=this.bottom,this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=this.top,this.frcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.frhBdrElement.style.borderWidth=t?this.top_left:this.top_right;break;case 4:e.includes("1")&&e.includes("2")&&e.includes("3")&&e.includes("4")&&(this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=t?this.top_left:this.top_right,this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom),e.includes("2")&&e.includes("4")&&e.includes("5")&&e.includes("6")&&(this.mcBdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.frcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.frhBdrElement.style.borderWidth=t?this.top_left:this.top_right);break;case 3:this.bdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.mcBdrElement.style.borderWidth=this.top_bottom,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.mhBdrElement.style.borderWidth=this.top_bottom,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom);break;case 2:e.includes("1")&&(this.mcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.top_right_left)),e.includes("2")&&(this.bdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.mhBdrElement.style.borderWidth=this.top_right_left)),e.includes("3")&&(this.mhBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.bdrElement.style.borderWidth=this.right_bottom_left),e.includes("4")&&(this.fhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frhBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.mcBdrElement.style.borderWidth=this.right_bottom_left),e.includes("5")&&(this.mcBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.parent.frozenRows&&(this.frhBdrElement.style.borderWidth=this.top_right_left)),e.includes("6")&&(this.mhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frcBdrElement.style.borderWidth=this.right_bottom_left);break;default:this.bdrElement.style.borderWidth=this.all_border,this.mcBdrElement.style.borderWidth=this.all_border,this.frcBdrElement.style.borderWidth=this.all_border,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.all_border,this.mhBdrElement.style.borderWidth=this.all_border,this.frhBdrElement.style.borderWidth=this.all_border)}},e.prototype.applyBorders=function(e){var t=this.parent.enableRtl;if(this.parent.getFrozenMode()===Cy)this.applyBothFrozenBorders(e);else switch(e.length){case 4:"Right"===this.parent.getFrozenMode()?(this.bdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.mcBdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.fhBdrElement.style.borderWidth=t?this.top_left:this.top_right,this.mhBdrElement.style.borderWidth=t?this.top_right:this.top_left):(this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=t?this.top_left:this.top_right);break;case 2:"Right"===this.parent.getFrozenMode()?(this.bdrElement.style.borderWidth=e.includes("2")?t?this.top_bottom_left:this.top_right_bottom:this.right_bottom_left,this.mcBdrElement.style.borderWidth=e.includes("1")?t?this.top_right_bottom:this.top_bottom_left:this.right_bottom_left,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=e.includes("1")?this.top_right_left:t?this.top_bottom_left:this.top_right_bottom,this.mhBdrElement.style.borderWidth=e.includes("2")?this.top_right_left:t?this.top_right_bottom:this.top_bottom_left)):(this.bdrElement.style.borderWidth=e.includes("2")?t?this.top_right_bottom:this.top_bottom_left:this.right_bottom_left,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.borderWidth=e.includes("1")?t?this.top_bottom_left:this.top_right_bottom:this.right_bottom_left),this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=e.includes("1")?this.top_right_left:t?this.top_right_bottom:this.top_bottom_left,this.parent.isFrozenGrid()&&(this.mhBdrElement.style.borderWidth=e.includes("2")?this.top_right_left:t?this.top_bottom_left:this.top_right_bottom)));break;default:this.bdrElement.style.borderWidth=this.all_border,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.borderWidth=this.all_border),this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.all_border,this.parent.isFrozenGrid()&&(this.mhBdrElement.style.borderWidth=this.all_border))}},e.prototype.createBorders=function(){this.bdrElement||(this.bdrElement=this.parent.getContentTable().parentElement.appendChild(Ra("div",{className:"e-xlsel",id:this.parent.element.id+"_bdr",styles:"width: 2px; border-width: 0;"})),this.parent.isFrozenGrid()&&(this.mcBdrElement=this.parent.getContentTable().parentElement.appendChild(Ra("div",{className:"e-xlsel",id:this.parent.element.id+"_mcbdr",styles:"height: 2px; border-width: 0;"})),this.parent.getFrozenMode()===Cy&&(this.frcBdrElement=this.parent.getContentTable().parentElement.appendChild(Ra("div",{className:"e-xlsel",id:this.parent.element.id+"_frcbdr",styles:"height: 2px; border-width: 0;"})))),this.parent.frozenRows&&(this.fhBdrElement=this.parent.getHeaderTable().parentElement.appendChild(Ra("div",{className:"e-xlsel",id:this.parent.element.id+"_fhbdr",styles:"height: 2px;"}))),this.parent.frozenRows&&this.parent.isFrozenGrid()&&(this.mhBdrElement=this.parent.getHeaderTable().parentElement.appendChild(Ra("div",{className:"e-xlsel",id:this.parent.element.id+"_mhbdr",styles:"height: 2px;"})),this.parent.getFrozenMode()===Cy&&(this.frhBdrElement=this.parent.getHeaderTable().parentElement.appendChild(Ra("div",{className:"e-xlsel",id:this.parent.element.id+"_frhbdr",styles:"height: 2px;"})))))},e.prototype.showHideBorders=function(e,t){if(this.bdrElement){var i;if(this.bdrElement.style.display=e,this.parent.isFrozenGrid())Ba((i=this.parent.getContentTable()).querySelectorAll(".e-xlsel-top-border"),"e-xlsel-top-border"),Ba(i.querySelectorAll(".e-xlsel-left-border"),"e-xlsel-left-border"),Ba(i.querySelectorAll(".e-xlsel-right-border"),"e-xlsel-right-border"),Ba(i.querySelectorAll(".e-xlsel-bottom-border"),"e-xlsel-bottom-border"),t||(this.mcBdrElement.style.display=e),this.parent.getFrozenMode()===Cy&&(this.frcBdrElement.style.display=e);if(this.parent.frozenRows)Ba((i=this.parent.getHeaderTable()).querySelectorAll(".e-xlsel-top-border"),"e-xlsel-top-border"),Ba(i.querySelectorAll(".e-xlsel-left-border"),"e-xlsel-left-border"),Ba(i.querySelectorAll(".e-xlsel-right-border"),"e-xlsel-right-border"),Ba(i.querySelectorAll(".e-xlsel-bottom-border"),"e-xlsel-bottom-border"),this.fhBdrElement.style.display=e;this.parent.frozenRows&&this.parent.isFrozenGrid()&&(t||(this.mhBdrElement.style.display=e),this.parent.getFrozenMode()===Cy&&(this.frhBdrElement.style.display=e))}},e.prototype.drawAFBorders=function(){this.bdrAFBottom||this.createAFBorders(),this.positionAFBorders()},e.prototype.positionAFBorders=function(){if(this.startCell&&this.bdrAFLeft){var e=this.startAFCell.getBoundingClientRect(),t=this.endAFCell.getBoundingClientRect(),i=t.top-e.top>0?1:0,n=t.top-e.top>=0&&(Jy(this.startAFCell,my)||Jy(this.startAFCell,"e-frozencontent"))&&this.isFirstRow(this.startAFCell)?1.5:0,r=(Jy(this.startAFCell,my)||Jy(this.startAFCell,yy))&&this.isFirstCell(this.startAFCell)?1:0,s=this.isLastRow(this.endAFCell)&&(Jy(this.endAFCell,my)||Jy(this.endAFCell,"e-frozencontent"))?2:0,o=this.startAFCell.offsetParent.getBoundingClientRect(),a=this.parent.element.getBoundingClientRect(),l=this.startAFCell.offsetParent.parentElement.scrollTop,h=this.startAFCell.offsetParent.parentElement.scrollLeft,c=l-this.startAFCell.offsetTop,u=h-this.startAFCell.offsetLeft,p=this.parent.element.clientHeight,d=this.parent.element.clientWidth;c=c>0?Math.floor(c)-1:0,u=u>0?u:0;var f=e.left-a.left;if(this.parent.enableRtl){var g=Jy(this.startAFCell,my)||Jy(this.startAFCell,yy)?e.right-this.startAFCell.offsetParent.parentElement.getBoundingClientRect().width-a.left:0;this.bdrAFLeft.style.right=a.right-t.right-2+t.width+"px",this.bdrAFLeft.style.width=d<=parseInt(this.bdrAFLeft.style.right,10)?"0px":"2px",this.bdrAFRight.style.right=a.right-e.right-r+g-1+"px",this.bdrAFTop.style.left=t.left-a.left-.5+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFLeft.style.right,10)-parseInt(this.bdrAFRight.style.right,10)-r+1+"px",parseInt(this.bdrAFTop.style.left,10)<0&&(this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)+"px",this.bdrAFTop.style.left="0px")}else if(this.bdrAFLeft.style.left=f-r+u-1+"px",this.bdrAFRight.style.left=t.left-a.left-2+t.width+"px",this.bdrAFRight.style.width=d<=parseInt(this.bdrAFRight.style.left,10)?"0px":"2px",this.bdrAFTop.style.left=f+u-.5+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFRight.style.left,10)-parseInt(this.bdrAFLeft.style.left,10)-r+1+"px",d<=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)){var m=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)-d;this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)-m+"px"}if(this.bdrAFLeft.style.top=e.top-a.top-n+c+"px",this.bdrAFLeft.style.height=t.top-e.top>0?t.top-o.top+t.height+1-(e.top-o.top)+n-s-c+"px":t.height+n-s-c+"px",this.bdrAFRight.style.top=this.bdrAFLeft.style.top,this.bdrAFRight.style.height=parseInt(this.bdrAFLeft.style.height,10)+"px",this.bdrAFTop.style.top=this.bdrAFRight.style.top,this.bdrAFBottom.style.left=this.bdrAFTop.style.left,this.bdrAFBottom.style.top=parseFloat(this.bdrAFLeft.style.top)+parseFloat(this.bdrAFLeft.style.height)-i-1+"px",this.bdrAFBottom.style.width=p<=parseFloat(this.bdrAFBottom.style.top)?"0px":this.bdrAFTop.style.width,p<=parseInt(this.bdrAFLeft.style.height,10)+parseInt(this.bdrAFLeft.style.top,10)){var y=parseInt(this.bdrAFLeft.style.height,10)+parseInt(this.bdrAFLeft.style.top,10)-p;this.bdrAFLeft.style.height=parseInt(this.bdrAFLeft.style.height,10)-y+"px",this.bdrAFRight.style.height=parseInt(this.bdrAFLeft.style.height,10)+"px"}}},e.prototype.createAFBorders=function(){this.bdrAFLeft||(this.bdrAFLeft=this.parent.element.appendChild(Ra("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafleft",styles:"width: 2px;"})),this.bdrAFRight=this.parent.element.appendChild(Ra("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafright",styles:"width: 2px;"})),this.bdrAFBottom=this.parent.element.appendChild(Ra("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafbottom",styles:"height: 2px;"})),this.bdrAFTop=this.parent.element.appendChild(Ra("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdraftop",styles:"height: 2px;"})))},e.prototype.showAFBorders=function(){this.bdrAFLeft&&(this.bdrAFLeft.style.display="",this.bdrAFRight.style.display="",this.bdrAFBottom.style.display="",this.bdrAFTop.style.display="")},e.prototype.hideAFBorders=function(){this.bdrAFLeft&&(this.bdrAFLeft.style.display="none",this.bdrAFRight.style.display="none",this.bdrAFBottom.style.display="none",this.bdrAFTop.style.display="none")},e.prototype.updateValue=function(e,t,i){var n=this.createBeforeAutoFill(e,t,i);if(!n.cancel){var r=this.parent.getColumnByIndex(t);this.parent.editModule&&i&&("number"===r.type?this.parent.editModule.updateCell(e,r.field,parseFloat(n.value)):this.parent.editModule.updateCell(e,r.field,n.value))}},e.prototype.createBeforeAutoFill=function(e,t,i){var n={column:this.parent.getColumnByIndex(t),value:i.innerText};return this.parent.trigger("beforeAutoFill",n),n},e.prototype.getAutoFillCells=function(e,t){return[].slice.call(this.parent.getDataRows()[parseInt(e.toString(),10)].querySelectorAll(".e-cellselectionbackground"))},e.prototype.selectLikeAutoFill=function(e,t){var i=parseInt(Jy(this.startAFCell,My).getAttribute(Ty),10),n=parseInt(this.startAFCell.getAttribute(xy),10),r=parseInt(Jy(this.endAFCell,My).getAttribute(Ty),10),s=parseInt(this.endAFCell.getAttribute(xy),10),o=this.selectedRowCellIndexes.length-1,a=this.selectedRowCellIndexes[0].cellIndexes.length-1;switch(!0){case!t&&this.endAFCell.classList.contains("e-cellselectionbackground")&&!!Jy(e.target,uy):this.startAFCell=this.parent.getCellFromIndex(i,n),this.endAFCell=this.parent.getCellFromIndex(i+o,n+a),this.drawAFBorders();break;case this.autoFillRLselection&&n+a<s&&s-n-a+1>r-i-o&&s-n-a+1>i-r:if(this.endAFCell=this.parent.getCellFromIndex(i+o,s),r=parseInt(Jy(this.endAFCell,My).getAttribute(Ty),10),s=parseInt(this.endAFCell.getAttribute(xy),10),t){for(var l=parseInt(this.endCell.getAttribute(xy),10),h=i;h<=r;h++)for(var c=this.getAutoFillCells(h,n),u=0,p=l+1;p<=s;p++)u>a&&(u=0),this.updateValue(h,p,c[parseInt(u.toString(),10)]),u++;this.selectCellsByRange({rowIndex:i,cellIndex:this.startCellIndex},{rowIndex:r,cellIndex:s})}else this.drawAFBorders();break;case this.autoFillRLselection&&n>s&&n-s+1>r-i-o&&n-s+1>i-r:if(this.startAFCell=this.parent.getCellFromIndex(i,s),this.endAFCell=this.endCell,t){for(h=i;h<=i+o;h++){(c=this.getAutoFillCells(h,n)).reverse();for(u=0,p=this.startCellIndex-1;p>=s;p--)u>a&&(u=0),this.updateValue(h,p,c[parseInt(u.toString(),10)]),u++}this.selectCellsByRange({rowIndex:i,cellIndex:s},{rowIndex:i+o,cellIndex:this.startCellIndex+a})}else this.drawAFBorders();break;case i>r:if(this.startAFCell=this.parent.getCellFromIndex(r,n),this.endAFCell=this.endCell,t){var d=f=parseInt(this.endCell.parentElement.getAttribute(Ty),10);for(h=i-1;h>=r;h--){d===this.startIndex-1&&(d=f);c=this.getAutoFillCells(d,n),u=0;d--;for(p=this.startCellIndex;p<=this.startCellIndex+a;p++)this.updateValue(h,p,c[parseInt(u.toString(),10)]),u++}this.selectCellsByRange({rowIndex:r,cellIndex:n+a},{rowIndex:i+o,cellIndex:n})}else this.drawAFBorders();break;default:if(this.endAFCell=this.parent.getCellFromIndex(r,n+a),t){var f=parseInt(this.endCell.parentElement.getAttribute(Ty),10);for(d=this.startIndex,h=f+1;h<=r;h++){d===f+1&&(d=this.startIndex);c=this.getAutoFillCells(d,n);d++;u=0;for(var g=this.startCellIndex;g<=this.startCellIndex+a;g++)this.updateValue(h,g,c[parseInt(u.toString(),10)]),u++}this.selectCellsByRange({rowIndex:f-o,cellIndex:n},{rowIndex:r,cellIndex:n+a})}else this.drawAFBorders()}},e.prototype.mouseUpHandler=function(e){document.body.classList.remove("e-disableuserselect"),this.element&&qa(this.element),this.isDragged&&1===this.selectedRowCellIndexes.length&&1===this.selectedRowCellIndexes[0].cellIndexes.length?this.mUPTarget=Jy(e.target,uy):this.mUPTarget=null;var t=Za(e.target,".e-rowcell");if(this.isDragged&&!this.isAutoFillSel&&"Cell"===this.selectionSettings.mode&&t&&t.classList.contains(uy)){var i=parseInt(t.parentElement.getAttribute(Ty),10),n=parseInt(t.getAttribute(xy),10);this.isDragged=!1,this.clearCellSelection(),this.selectCellsByRange({rowIndex:this.startDIndex,cellIndex:this.startDCellIndex},{rowIndex:i,cellIndex:n})}if(this.isDragged=!1,this.updateAutoFillPosition(),this.isAutoFillSel){var r=Jy(e.target,uy);this.endAFCell=r||(this.endCell===this.endAFCell?this.startAFCell:this.endAFCell),this.startAFCell=this.startCell,this.updateStartCellsIndex(),this.selectLikeAutoFill(e,!0),this.updateAutoFillPosition(),this.hideAFBorders(),this.positionBorders(),this.parent.isFrozenGrid()&&(this.showHideBorders("none",!0),this.refreshFrozenBorders()),this.isAutoFillSel=!1}Oa.remove(this.parent.getContent(),"mousemove",this.mouseMoveHandler),this.parent.frozenRows&&Oa.remove(this.parent.getHeaderContent(),"mousemove",this.mouseMoveHandler),Oa.remove(document,"mouseup",this.mouseUpHandler)},e.prototype.hideAutoFill=function(){this.autofill&&(this.autofill.style.display="none")},e.prototype.updateAutoFillPosition=function(){if(this.parent.enableAutoFill&&!this.parent.isEdit&&this.selectionSettings.cellSelectionMode.indexOf("Box")>-1&&!this.isRowType()&&!this.isSingleSel()&&this.selectedRowCellIndexes.length){var e=parseInt(this.target.getAttribute(xy),10),t=parseInt(this.target.getAttribute("index"),10),i=this.selectedRowCellIndexes[this.selectedRowCellIndexes.length-1].rowIndex,n=this.getAutoFillCells(i,e).filter((function(e){return""===e.style.display})),r=this.parent.getColumnByIndex(e),s=(r.getFreezeTableName(),t<this.parent.frozenRows),o=this.parent.getFrozenMode()===Cy&&"frozen-right"===r.getFreezeTableName();Ka("#"+this.parent.element.id+"_autofill",Jy(this.target,by))||(Ka("#"+this.parent.element.id+"_autofill",this.parent.element)&&Ka("#"+this.parent.element.id+"_autofill",this.parent.element).remove(),this.autofill=Ra("div",{className:"e-autofill",id:this.parent.element.id+"_autofill"}),this.autofill.style.display="none",(this.target.classList.contains("e-leftfreeze")||this.target.classList.contains("e-rightfreeze")||this.target.classList.contains("e-fixedfreeze"))&&this.autofill.classList.add("e-freeze-autofill"),s?this.parent.getHeaderTable().parentElement.appendChild(this.autofill):this.parent.getContentTable().parentElement.appendChild(this.autofill),o&&(s?this.parent.getHeaderTable().parentElement.appendChild(this.autofill):this.parent.getContentTable().parentElement.appendChild(this.autofill)));var a=n[n.length-1];if(a&&a.offsetParent){var l=a.getBoundingClientRect(),h=a.offsetParent.getBoundingClientRect();(a.offsetParent.classList.contains("e-content")||a.offsetParent.classList.contains("e-headercontent"))&&(h=a.offsetParent.querySelector("table").getBoundingClientRect());var c=this.isLastCell(a)?4:0,u=this.isLastRow(a)?3:0;this.parent.enableRtl?this.autofill.style.right=h.right-l.right+l.width-4-c+"px":this.autofill.style.left=l.left-h.left+l.width-4-c+"px",this.autofill.style.top=l.top-h.top+l.height-5-u+"px"}this.autofill.style.display=""}else this.hideAutoFill()},e.prototype.mouseDownHandler=function(e){this.mouseButton=e.button;var t,i=e.target,n=this.parent,r=Jy(i,"e-grid");if(!(r&&r.id!==n.element.id||Jy(i,gy)&&!this.parent.frozenRows||Jy(i,"e-editedbatchcell")||Jy(i,wy))){if((e.shiftKey||e.ctrlKey)&&e.preventDefault(),Jy(i,uy)&&!e.shiftKey&&!e.ctrlKey){if(n.selectionSettings.cellSelectionMode.indexOf("Box")>-1&&!this.isRowType()&&!this.isSingleSel())this.isCellDrag=!0,t=!0;else if(n.allowRowDragAndDrop&&!n.isEdit&&!this.parent.selectionSettings.checkboxOnly){if(this.isRowDragSelected=!1,!this.isRowType()||this.isSingleSel()||Za(i,"td").classList.contains("e-selectionbackground"))return void(this.isDragged=!1);t=!0,this.element=this.parent.createElement("div",{className:"e-griddragarea"}),n.getContent().appendChild(this.element)}t&&this.enableDrag(e,!0)}this.updateStartEndCells(),(i.classList.contains("e-autofill")||i.classList.contains("e-xlsel"))&&(this.isCellDrag=!0,this.isAutoFillSel=!0,this.enableDrag(e))}},e.prototype.updateStartEndCells=function(){var e=[].slice.call(this.parent.element.getElementsByClassName("e-cellselectionbackground"));this.startCell=e[0],this.endCell=e[e.length-1],this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute(Ty),10),this.startCellIndex=parseInt(Jy(this.startCell,uy).getAttribute(xy),10))},e.prototype.updateStartCellsIndex=function(){this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute(Ty),10),this.startCellIndex=parseInt(Jy(this.startCell,uy).getAttribute(xy),10))},e.prototype.enableDrag=function(e,t){var i=this.parent;if(t){var n=Za(e.target,"tr");this.startDIndex=parseInt(n.getAttribute(Ty),10),this.startDCellIndex=parseInt(Jy(e.target,uy).getAttribute(xy),10)}document.body.classList.add("e-disableuserselect");var r=i.element.getBoundingClientRect(),s=$y(e);this.x=s.x-r.left,this.y=s.y-r.top,Oa.add(i.getContent(),"mousemove",this.mouseMoveHandler,this),this.parent.frozenRows&&Oa.add(i.getHeaderContent(),"mousemove",this.mouseMoveHandler,this),Oa.add(document,"mouseup",this.mouseUpHandler,this)},e.prototype.clearSelAfterRefresh=function(e){var t=this.parent.enableInfiniteScrolling&&"infiniteScroll"===e.requestType;if("virtualscroll"===e.requestType||this.parent.isPersistSelection||t||this.clearSelection(),("virtualscroll"===e.requestType||t)&&this.parent.isPersistSelection&&this.isPartialSelection&&this.isHdrSelectAllClicked){var i=this.parent.getRowsObject().filter((function(e){return e.isSelectable})),n=[];this.selectedRowState={},this.persistSelectedData=[];for(var r=0;r<i.length;r++){n.push(i[parseInt(r.toString(),10)].index);var s=this.getPkValue(this.primaryKey,i[parseInt(r.toString(),10)].data);this.selectedRowState[""+s]=!0,this.persistSelectedData.push(i[parseInt(r.toString(),10)].data)}this.selectedRowIndexes=n}},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.evtHandlers=[{event:Yg,handler:this.enableAfterRender},{event:Ug,handler:this.initializeSelection},{event:"rowselected",handler:this.onActionComplete},{event:"cellselected",handler:this.onActionComplete},{event:qg,handler:this.onPropertyChanged},{event:im,handler:this.onCellFocused},{event:Em,handler:this.clearSelAfterRefresh},{event:hm,handler:this.columnPositionChanged},{event:Wg,handler:this.initialEnd},{event:um,handler:this.rowsRemoved},{event:Xg,handler:this.refreshHeader},{event:sm,handler:this.destroy}],Zv(this.parent,this.evtHandlers,!0,this),this.actionBeginFunction=this.actionBegin.bind(this),this.actionCompleteFunction=this.actionComplete.bind(this),this.parent.addEventListener(vg,this.actionBeginFunction),this.parent.addEventListener(bg,this.actionCompleteFunction),this.addEventListener_checkbox())},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(Oa.remove(document,"mouseup",this.mouseUpHandler),Oa.remove(this.parent.getContent(),"mousedown",this.mouseDownHandler),Oa.remove(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler),Zv(this.parent,this.evtHandlers,!1),this.parent.removeEventListener(vg,this.actionBeginFunction),this.parent.removeEventListener(bg,this.actionCompleteFunction),this.removeEventListener_checkbox())},e.prototype.wireEvents=function(){this.isMacOS=-1!==navigator.userAgent.indexOf("Mac OS"),this.isMacOS?(Oa.add(this.parent.element,"keydown",this.keyDownHandler,this),Oa.add(this.parent.element,"keyup",this.keyUpHandler,this)):this.parent.allowKeyboard||Oa.add(this.parent.element,"keydown",this.keyDownHandler,this)},e.prototype.unWireEvents=function(){this.isMacOS?(Oa.remove(this.parent.element,"keydown",this.keyDownHandler),Oa.remove(this.parent.element,"keyup",this.keyUpHandler)):this.parent.allowKeyboard||Oa.remove(this.parent.element,"keydown",this.keyDownHandler)},e.prototype.columnPositionChanged=function(){this.parent.isPersistSelection||this.clearSelection()},e.prototype.refreshHeader=function(){this.setCheckAllState()},e.prototype.rowsRemoved=function(e){for(var t=0;t<e.records.length;t++){var i=this.getPkValue(this.primaryKey,e.records[parseInt(t.toString(),10)]);delete this.selectedRowState[""+i],--this.totalRecordsCount}this.setCheckAllState()},e.prototype.beforeFragAppend=function(e){"virtualscroll"===e.requestType||this.parent.isPersistSelection||this.clearSelection()},e.prototype.getCheckAllBox=function(){return this.parent.getHeaderContent().querySelector(".e-checkselectall")},e.prototype.enableAfterRender=function(e){e.module===this.getModuleName()&&e.enable&&(this.render(),this.initPerisistSelection())},e.prototype.render=function(e){Oa.add(this.parent.getContent(),"mousedown",this.mouseDownHandler,this),Oa.add(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler,this)},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()){var t=this.parent;ko(e.properties.type)||"Single"!==this.selectionSettings.type||(this.selectedRowCellIndexes.length>1&&(this.clearCellSelection(),this.prevCIdxs=void 0),this.selectedRowIndexes.length>1&&(this.clearRowSelection(),this.prevRowIndex=void 0),this.selectedColumnsIndexes.length>1&&(this.clearColumnSelection(),this.prevColIndex=void 0),this.enableSelectMultiTouch=!1,this.hidePopUp()),ko(e.properties.mode)&&ko(e.properties.cellSelectionMode)||(this.clearSelection(),this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevColIndex=void 0),this.isPersisted=!0,this.checkBoxSelectionChanged(),this.isPersisted=!1,this.parent.isCheckBoxSelection||this.initPerisistSelection(),this.parent.getColumns().filter((function(e){return"checkbox"===e.type})).length&&(t.isCheckBoxSelection=!("ResetOnRowClick"===this.selectionSettings.checkboxMode)),this.drawBorders()}},e.prototype.hidePopUp=function(){this.parent.element.querySelector(".e-gridpopup").getElementsByClassName("e-rowselect").length&&(this.parent.element.querySelector(".e-gridpopup").style.display="none")},e.prototype.initialEnd=function(){this.selectedRowIndexes.length||(this.parent.off(Wg,this.initialEnd),this.selectRow(this.parent.selectedRowIndex))},e.prototype.checkBoxSelectionChanged=function(){var e=this.parent;e.off(Wg,this.checkBoxSelectionChanged);var t=e.getColumns().filter((function(e){return"checkbox"===e.type}));t.length>0&&(e.isCheckBoxSelection=!0,this.chkField=t[0].field,this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount,ko(this.totalRecordsCount)&&(this.totalRecordsCount=this.getCurrentBatchRecordChanges().length),this.isSingleSel()?(e.selectionSettings.type="Multiple",e.dataBind()):this.initPerisistSelection()),e.isCheckBoxSelection||this.isPersisted||(this.chkField=null,this.initPerisistSelection())},e.prototype.initPerisistSelection=function(){var e=this.parent;this.parent.selectionSettings.persistSelection&&this.parent.getPrimaryKeyFieldNames().length>0?(e.isPersistSelection=!0,this.ensureCheckboxFieldSelection()):this.parent.getPrimaryKeyFieldNames().length>0?(e.isPersistSelection=!1,this.ensureCheckboxFieldSelection()):(e.isPersistSelection=!1,this.selectedRowState={})},e.prototype.ensureCheckboxFieldSelection=function(){var e=this.parent;if(this.primaryKey=this.parent.getPrimaryKeyFieldNames()[0],!e.enableVirtualization&&this.chkField&&(e.isPersistSelection&&0===Object.keys(this.selectedRowState).length||!e.isPersistSelection)){var t=this.parent.getDataModule(),i=(new sp).where(this.chkField,"equal",!0);i.params||(i.params=this.parent.query.params);var n=t.getData({},i),r=this;this.parent.showSpinner(),n.then((function(e){r.dataSuccess(e.result),r.refreshPersistSelection(),r.parent.hideSpinner()}))}},e.prototype.dataSuccess=function(e){for(var t=this.parent.getDataModule().isRemote()&&!ko(e.result)?e.result:e,i=0;i<t.length;i++){var n=this.getPkValue(this.primaryKey,t[parseInt(i.toString(),10)]);ko(this.selectedRowState[""+n])&&t[parseInt(i.toString(),10)][this.chkField]&&(this.selectedRowState[""+n]=t[parseInt(i.toString(),10)][this.chkField])}this.persistSelectedData=t},e.prototype.setRowSelection=function(e){if(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result)if(e){var t=Object.keys(this.selectedRowState),i=Object.keys(this.unSelectedRowState);if(!this.isCheckboxReset)for(var n=0,r=this.parent.getDataModule().isRemote()&&this.parent.groupSettings.columns.length&&this.parent.isPersistSelection?this.parent.currentViewData.records:this.parent.currentViewData;n<r.length;n++){if(!ko((p=r[n])[this.primaryKey])){var s=p[this.primaryKey].toString();-1===t.indexOf(s)&&-1===i.indexOf(s)&&(this.selectedRowState[p[this.primaryKey]]=!0)}}}else this.selectedRowState={},this.unSelectedRowState={},this.rmtHdrChkbxClicked=!1;else if(e)if(this.isPartialSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling))for(var o=0,a=this.parent.getRowsObject().filter((function(e){return e.isSelectable}));o<a.length;o++){var l=a[o];this.selectedRowState[this.getPkValue(this.primaryKey,l.data)]=!0}else{var h=this.isPartialSelection?this.parent.partialSelectedRecords:this.getData();if(this.parent.groupSettings.columns.length)for(var c=0,u=this.isPartialSelection?h:h.records;c<u.length;c++){var p=u[c];this.selectedRowState[this.getPkValue(this.primaryKey,p)]=!0}else for(var d=0,f=h;d<f.length;d++){var p=f[d];this.selectedRowState[this.getPkValue(this.primaryKey,p)]=!0}}else this.selectedRowState={}},e.prototype.getData=function(){return this.parent.getDataModule().dataManager.executeLocal(this.parent.getDataModule().generateQuery(!0))},e.prototype.getAvailableSelectedData=function(){var e=new mp(this.persistSelectedData).executeLocal(this.parent.getDataModule().generateQuery(!0));return this.parent.groupSettings.columns.length&&e&&e.records&&(e=e.records.slice()),e},e.prototype.refreshPersistSelection=function(){var e=this.parent.getRows();if(this.totalRecordsCount=this.parent.getCurrentViewRecords().length,this.parent.allowPaging&&(this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount),!ko(e)&&e.length>0&&(this.parent.isPersistSelection||this.chkField)){for(var t=[],i=0;i<e.length;i++){var n=this.getRowObj(e[parseInt(i.toString(),10)]),r=n&&n.data?this.getPkValue(this.primaryKey,n.data):null;if(null===r)return;if(!this.isPartialSelection||n.isSelectable){var s=void 0,o=e[parseInt(i.toString(),10)].querySelector(".e-checkselect");this.selectedRowState[""+r]||"Check"===this.parent.checkAllRows&&this.selectedRowState[""+r]&&this.totalRecordsCount===Object.keys(this.selectedRowState).length&&this.chkAllCollec.indexOf(r)<0||"Uncheck"===this.parent.checkAllRows&&this.chkAllCollec.indexOf(r)>0&&!this.parent.selectedRowIndex||"Intermediate"===this.parent.checkAllRows&&!ko(this.chkField)&&n.data[this.chkField]?(t.push(parseInt(e[parseInt(i.toString(),10)].getAttribute(Ty),10)),s=!0):(s=!1,this.checkedTarget!==o&&this.parent.isCheckBoxSelection&&o&&_v(o.nextElementSibling,s)),this.updatePersistCollection(e[parseInt(i.toString(),10)],s)}}this.isSingleSel()&&t.length>0?this.selectRow(t[0],!0):this.selectRows(t)}(this.parent.isCheckBoxSelection||"ResetOnRowClick"===this.parent.selectionSettings.checkboxMode)&&this.getCurrentBatchRecordChanges().length>0&&this.setCheckAllState()},e.prototype.actionBegin=function(e){if("save"===e.requestType&&this.parent.isPersistSelection){var t=this.parent.element.querySelector(".e-edit-checkselect");if(!ko(t)){var i=Za(t,"."+wy);if(i){"Dialog"===this.parent.editSettings.mode&&(i=this.parent.element.querySelector(".e-dlgeditrow"));var n=this.getRowObj(i);if(!n)return;this.selectedRowState[this.getPkValue(this.primaryKey,n.data)]=n.isSelected=t.checked}else this.isCheckedOnAdd=t.checked}}this.parent.isPersistSelection&&this.isPartialSelection&&("paging"===e.requestType&&(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result)&&(this.selectedRowIndexes=[]),"filtering"!==e.requestType&&"searching"!==e.requestType||(this.parent.partialSelectedRecords=[],this.parent.disableSelectedRecords=[]))},e.prototype.actionComplete=function(e){if("save"===e.requestType&&this.parent.isPersistSelection){if("add"===e.action){if(this.isCheckedOnAdd){var t=this.parent.getRowObjectFromUID(this.parent.getRows()[e.selectedRow].getAttribute("data-uid"));this.selectedRowState[this.getPkValue(this.primaryKey,t.data)]=t.isSelected=this.isCheckedOnAdd}this.isHdrSelectAllClicked=!1,this.setCheckAllState()}this.refreshPersistSelection()}if("delete"===e.requestType&&this.parent.isPersistSelection){for(var i=e.data.slice(),n=0;n<i.length;n++){var r=this.getPkValue(this.primaryKey,i[parseInt(n.toString(),10)]);ko(r)||this.updatePersistDelete(r,this.isPartialSelection)}this.isHdrSelectAllClicked=!1,this.setCheckAllState(),this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount}if("paging"===e.requestType){if(this.parent.isPersistSelection&&this.isPartialSelection&&this.isHdrSelectAllClicked){var s=this.parent.getRowsObject(),o=[];for(n=0;n<s.length;n++)s[parseInt(n.toString(),10)].isSelectable&&o.push(s[parseInt(n.toString(),10)].index);o.length&&this.selectRows(o)}this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevECIdxs=void 0}},e.prototype.onDataBound=function(){if(!this.parent.enableVirtualization&&this.parent.isPersistSelection&&this.selectedRecords.length&&(this.isPrevRowSelection=!0),(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result)&&this.rmtHdrChkbxClicked&&("Intermediate"===this.parent.checkAllRows?this.setRowSelection(!0):"Uncheck"===this.parent.checkAllRows&&this.setRowSelection(!1)),this.parent.enableVirtualization&&this.setCheckAllState(),this.parent.isPersistSelection&&this.refreshPersistSelection(),this.initialRowSelection=!!(this.isRowType()&&this.parent.element.querySelectorAll(".e-selectionbackground")&&this.parent.getSelectedRows().length),this.parent.isCheckBoxSelection&&!this.initialRowSelection){for(var e=this.parent.getRowsObject(),t=[],i=0;i<e.length;i++)e[parseInt(i.toString(),10)].isSelected&&t.push(i);t.length&&this.selectRows(t),this.initialRowSelection=!0}},e.prototype.updatePersistSelectedData=function(e){if(this.parent.isPersistSelection){for(var t=this.parent.getRows(),i=0;i<t.length;i++)this.updatePersistCollection(t[parseInt(i.toString(),10)],e);"Uncheck"===this.parent.checkAllRows?(this.setRowSelection(!1),this.persistSelectedData=this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result?this.persistSelectedData:[]):"Check"===this.parent.checkAllRows&&(this.setRowSelection(!0),this.persistSelectedData=this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result||this.isPartialSelection?this.persistSelectedData:this.parent.groupSettings.columns.length?this.getData().records.slice():this.getData().slice())}},e.prototype.checkSelectAllAction=function(e){var t=this.getRenderer(),i=this.parent.element.querySelector(".e-gridform");if(this.checkedTarget=this.getCheckAllBox(),e&&this.getCurrentBatchRecordChanges().length?(this.parent.checkAllRows="Check",this.updatePersistSelectedData(e),this.selectRowsByRange(t.getVirtualRowIndex(0),t.getVirtualRowIndex(this.getCurrentBatchRecordChanges().length-1))):(this.parent.checkAllRows="Uncheck",this.updatePersistSelectedData(e),this.clearSelection()),this.chkAllCollec=[],!ko(i)){var n=i.querySelector(".e-edit-checkselect");ko(n)||_v(n.nextElementSibling,e)}},e.prototype.checkSelectAll=function(e){var t=this,i=this.getCheckAllStatus(e),n="Check"===i;if(this.isHeaderCheckboxClicked=!0,(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result)&&("Uncheck"===i||this.isCheckboxReset||this.parent.getDataModule().isRemote()&&"Intermediate"===i&&this.parent.isPersistSelection)?this.rmtHdrChkbxClicked=!0:this.rmtHdrChkbxClicked=!1,this.rmtHdrChkbxClicked&&this.isCheckboxReset&&(this.unSelectedRowState={}),this.isCheckboxReset=!1,"Intermediate"===i&&(this.chkField||this.parent.isPersistSelection||(n=this.getCurrentBatchRecordChanges().some((function(e){return t.getPkValue(t.primaryKey,e)in t.selectedRowState}))),this.parent.getDataModule().isRemote()&&this.parent.isPersistSelection))for(var r=0;r<this.getCurrentBatchRecordChanges().length;r++)if(!ko(this.getPkValue(this.primaryKey,this.getCurrentBatchRecordChanges()[""+r]))){if(!Object.keys(this.selectedRowState).includes(this.getPkValue(this.primaryKey,this.getCurrentBatchRecordChanges()[""+r]).toString())){n=!1;break}n=!0}this.parent.isPersistSelection&&this.parent.allowPaging&&(this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount),this.checkSelectAllAction(!n),this.target=null,this.getCurrentBatchRecordChanges().length>0&&(this.setCheckAllState(),this.updateSelectedRowIndexes()),this.triggerChkChangeEvent(e,!n)},e.prototype.getCheckAllStatus=function(e){var t=e?e.nextElementSibling.classList:this.getCheckAllBox().nextElementSibling.classList;return t.contains("e-check")?"Check":t.contains("e-uncheck")?"Uncheck":t.contains("e-stop")?"Intermediate":"None"},e.prototype.checkSelect=function(e){var t=Za(this.checkedTarget,"."+uy),i=this.parent;this.isMultiCtrlRequest=!0;var n=0;if(this.isHeaderCheckboxClicked=!1,Dv(i)){var r=t.parentElement.getAttribute("data-uid");n=this.parent.enableVirtualization&&this.parent.groupSettings.columns.length?parseInt(t.parentElement.getAttribute(Ty),10):i.getRows().map((function(e){return e.getAttribute("data-uid")})).indexOf(r)}else n=parseInt(t.parentElement.getAttribute(Ty),10);this.parent.isPersistSelection&&this.parent.element.getElementsByClassName(_y).length>0&&"Top"===this.parent.editSettings.newRowPosition&&++n,this.rowCellSelectionHandler(n,parseInt(t.getAttribute(xy),10)),this.moveIntoUncheckCollection(Za(t,"."+My)),this.setCheckAllState(),this.isMultiCtrlRequest=!1,this.triggerChkChangeEvent(e,e.nextElementSibling.classList.contains("e-check"))},e.prototype.moveIntoUncheckCollection=function(e){if("Check"===this.parent.checkAllRows||"Uncheck"===this.parent.checkAllRows){var t=this.getRowObj(e),i=t&&t.data?this.getPkValue(this.primaryKey,t.data):null;if(!i)return;this.chkAllCollec.indexOf(i)<0?this.chkAllCollec.push(i):this.chkAllCollec.splice(this.chkAllCollec.indexOf(i),1)}},e.prototype.triggerChkChangeEvent=function(e,t){this.parent.trigger("checkBoxChange",{checked:t,selectedRowIndexes:this.parent.getSelectedRowIndexes(),target:e}),this.parent.isEdit||(this.checkedTarget=null)},e.prototype.updateSelectedRowIndexes=function(){if(this.parent.isCheckBoxSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.isPartialSelection&&!(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result)&&this.parent.selectionSettings.persistSelection&&"Uncheck"!==this.parent.checkAllRows)for(var e=0,t=this.parent.getRowsObject().filter((function(e){return e.isSelectable}));e<t.length;e++){var i=t[e];this.selectedRowIndexes.push(i.index)}},e.prototype.updateSelectedRowIndex=function(e){if(this.parent.isCheckBoxSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result)&&!this.isPartialSelection)if("Check"===this.parent.checkAllRows){this.selectedRowIndexes=[];for(var t=this.parent.groupSettings.columns.length?this.getData().records.length:this.getData().length,i=0;i<t;i++)this.selectedRowIndexes.push(i)}else if("Uncheck"===this.parent.checkAllRows)this.selectedRowIndexes=[];else{var n=this.parent.getRowByIndex(e);if(e&&n&&"false"===n.getAttribute("aria-selected")){var r=this.selectedRowIndexes.indexOf(e);this.selectedRowIndexes.splice(r,1)}}},e.prototype.isAllSelected=function(e){if(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result)return this.getAvailableSelectedData().length===(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling?this.parent.totalDataRecordsCount:this.totalRecordsCount);if(this.isPartialSelection){if(this.parent.allowPaging&&this.parent.pageSettings.pageSize<this.parent.pageSettings.totalRecordsCount){for(var t=this.parent.partialSelectedRecords,i=0;i<t.length;i++){var n=this.getPkValue(this.primaryKey,t[parseInt(i.toString(),10)]);if(!this.selectedRowState[""+n])return!1}return!0}return this.isSelectAllRowCount(e)}for(t=this.parent.groupSettings.columns.length?this.getData().records:this.getData(),i=0;i<t.length;i++){n=this.getPkValue(this.primaryKey,t[parseInt(i.toString(),10)]);if(!this.selectedRowState[""+n])return!1}return!0},e.prototype.someDataSelected=function(){if((this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result)&&(this.parent.searchSettings.key.length||this.parent.filterSettings.columns.length))for(var e=this.getAvailableSelectedData(),t=0;t<e.length;t++){var i=this.getPkValue(this.primaryKey,e[parseInt(t.toString(),10)]);if(this.selectedRowState[""+i])return!1}var n=this.isPartialSelection?this.parent.partialSelectedRecords:this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result?[]:this.getData();for(t=0;t<n.length;t++){i=this.getPkValue(this.primaryKey,n[parseInt(t.toString(),10)]);if(this.selectedRowState[""+i])return!1}return!0},e.prototype.setCheckAllState=function(e,t){if(this.parent.isCheckBoxSelection||"ResetOnRowClick"===this.parent.selectionSettings.checkboxMode){var i=!1,n=!1,r=Object.keys(this.selectedRowState).length;this.parent.isPersistSelection||(r=this.selectedRowIndexes.length,this.totalRecordsCount=this.getCurrentBatchRecordChanges().length),!this.parent.isPersistSelection||(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result)&&this.isPartialSelection||!this.parent.searchSettings.key.length&&!this.parent.filterSettings.columns.length||(n=!0,i=this.isAllSelected(r));var s=this.getCheckAllBox();if(s){var o=s.nextElementSibling;Ba([o],["e-check","e-stop","e-uncheck"]),Sv(s,!1),s.indeterminate=!1;var a=this.parent.getDataModule().isRemote()?[]:this.parent.groupSettings.columns.length?this.getData().records:this.getData();if(i&&n&&(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result||a.length)||!n&&(r===this.totalRecordsCount&&this.totalRecordsCount&&!this.isPartialSelection&&(!(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result)||this.parent.allowPaging)||!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling&&this.isPartialSelection&&(this.isSelectAllRowCount(r)||this.isHdrSelectAllClicked)||(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.allowPaging&&(!(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result)&&a.length&&r===a.length||(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result)&&!this.isPartialSelection&&(r===this.parent.totalDataRecordsCount||this.isSelectAllRowCount(r)||r===this.totalRecordsCount&&!this.parent.isPersistSelection)||this.isPartialSelection&&(this.isHdrSelectAllClicked||this.isSelectAllRowCount(r))))?(Fa([o],["e-check"]),Sv(s,!0),t&&this.getRenderer().setSelection(null,!0,!0),this.parent.checkAllRows="Check"):(!this.selectedRowIndexes.length&&(!this.parent.enableVirtualization||!this.persistSelectedData.length&&!n||n&&this.someDataSelected())||0===r&&0===this.getCurrentBatchRecordChanges().length)&&!this.parent.allowPaging||this.parent.allowPaging&&(0===r||r&&n&&this.someDataSelected())?(Fa([o],["e-uncheck"]),t&&this.getRenderer().setSelection(null,!1,!0),this.parent.checkAllRows="Uncheck"):(Fa([o],["e-stop"]),this.parent.checkAllRows="Intermediate",s.indeterminate=!0),0===r&&0===this.getCurrentBatchRecordChanges().length?Fa([o.parentElement],["e-checkbox-disabled"]):Ba([o.parentElement],["e-checkbox-disabled"]),this.isPartialSelection)0===this.parent.getRowsObject().filter((function(e){return e.isSelectable})).length&&o.parentElement.querySelector(".e-frame").classList.contains("e-uncheck")?Fa([o.parentElement],["e-checkbox-disabled"]):Ba([o.parentElement],["e-checkbox-disabled"]);!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling||this.parent.allowPaging||this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result||this.updateSelectedRowIndex(e)}}},e.prototype.isSelectAllRowCount=function(e){var t=0,i=this.parent.getRowsObject();return this.parent.selectionSettings.persistSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)?(this.parent.getDataModule().isRemote()||!ko(this.parent.dataSource)&&this.parent.dataSource.result?this.parent.totalDataRecordsCount:this.getData()&&this.getData().length)===i.length&&((t=i.filter((function(e){return e.isSelectable})).length)&&e===t):this.parent.allowPaging&&this.parent.selectionSettings.persistSelection?(t=this.parent.partialSelectedRecords.length+this.parent.disableSelectedRecords.length)===this.totalRecordsCount&&(this.parent.partialSelectedRecords.length&&e===this.parent.partialSelectedRecords.length):(t=i.filter((function(e){return e.isSelectable})).length)&&e===t},e.prototype.keyDownHandler=function(e){(("chrome"===La.info.name||"safari"===La.info.name)&&(91===e.keyCode||93===e.keyCode)||"opera"===La.info.name&&17===e.keyCode||"mozilla"===La.info.name&&224===e.keyCode)&&(this.cmdKeyPressed=!0);var t=Jy(e.target,"e-headercell"),i=Jy(e.target,uy);(t?t.children[0].classList.contains("e-headerchkcelldiv"):!!i&&i.classList.contains("e-gridchkbox"))&&!this.parent.allowKeyboard&&32===e.keyCode&&e.preventDefault()},e.prototype.keyUpHandler=function(e){(("chrome"===La.info.name||"safari"===La.info.name)&&(91===e.keyCode||93===e.keyCode)||"opera"===La.info.name&&17===e.keyCode||"mozilla"===La.info.name&&224===e.keyCode)&&(this.cmdKeyPressed=!1)},e.prototype.clickHandler=function(e){var t=e.target;this.actualTarget=t,this.selectionSettings.persistSelection&&(this.deSelectedData=Hy(this.persistSelectedData)),(Jy(t,My)||Jy(t,"e-headerchkcelldiv")||this.selectionSettings.allowColumnSelection&&t.classList.contains("e-headercell"))&&(this.isInteracted=!0),this.isMultiCtrlRequest=e.ctrlKey||this.enableSelectMultiTouch||this.isMacOS&&this.cmdKeyPressed,this.parent.allowKeyboard?this.isMultiShiftRequest=e.shiftKey:(this.isMultiShiftRequest=!1,this.isMultiCtrlRequest=!1),this.popUpClickHandler(e);var i,n=!1;this.preventFocus=!0;var r=Jy(t,"e-checkbox-wrapper");if(this.checkSelectAllClicked=!!(r&&r.getElementsByClassName("e-checkselectall")||this.selectionSettings.persistSelection&&Jy(t,My)),this.selectionSettings.persistSelection&&this.isPartialSelection&&Jy(t,"e-headerchkcelldiv")&&!t.querySelector(".e-checkbox-disabled")&&(this.isHdrSelectAllClicked=!0),r&&r.querySelectorAll(".e-checkselect,.e-checkselectall").length>0&&(i=r.querySelector('input[type="checkbox"]'),n=!0),this.drawBorders(),this.updateAutoFillPosition(),t=Jy(t,uy),this.parent.isReact&&t&&!t.parentElement&&t.classList.contains("e-rowcell")&&(t=this.parent.getCellFromIndex(parseInt(t.getAttribute("index"),10),parseInt(t.getAttribute("data-colindex"),10))),(t&&t.parentElement.classList.contains(My)&&!this.parent.selectionSettings.checkboxOnly||n)&&!this.isRowDragSelected){if(this.parent.isCheckBoxSelection&&(this.isMultiCtrlRequest=!0),this.target=t,ko(i)){var s=this.parent,o=0;if(Dv(s)){var a=t.parentElement.getAttribute("data-uid");o=s.getRows().map((function(e){return e.getAttribute("data-uid")})).indexOf(a)}else o=parseInt(t.parentElement.getAttribute(Ty),10);this.parent.isPersistSelection&&this.parent.element.getElementsByClassName(_y).length>0&&++o,this.mUPTarget&&this.mUPTarget.isEqualNode(t)||this.rowCellSelectionHandler(o,parseInt(t.getAttribute(xy),10)),this.parent.isCheckBoxSelection&&(this.moveIntoUncheckCollection(Za(t,"."+My)),this.setCheckAllState())}else this.checkedTarget=i,i.classList.contains("e-checkselectall")?this.checkSelectAll(i):this.checkSelect(i);this.parent.isCheckBoxSelection||!La.isDevice||this.isSingleSel()||this.showPopup(e)}else if(e.target.classList.contains("e-headercell")&&!e.target.classList.contains("e-stackedheadercell")){a=e.target.querySelector(".e-headercelldiv").getAttribute("e-mappinguid");this.headerSelectionHandler(this.parent.getColumnIndexByUid(a))}this.isMultiCtrlRequest=!1,this.isMultiShiftRequest=!1,ko(Za(e.target,".e-unboundcell"))&&(this.preventFocus=!1)},e.prototype.popUpClickHandler=function(e){var t=e.target;Za(t,".e-headercell")||e.target.classList.contains(uy)||Za(t,".e-gridpopup")?t.classList.contains("e-rowselect")&&(t.classList.contains("e-spanclicked")?(t.classList.remove("e-spanclicked"),this.enableSelectMultiTouch=!1,this.parent.element.querySelector(".e-gridpopup").style.display="none"):(t.classList.add("e-spanclicked"),this.enableSelectMultiTouch=!0)):this.parent.element.querySelector(".e-gridpopup").style.display="none"},e.prototype.showPopup=function(e){this.selectionSettings.enableSimpleMultiRowSelection||Ky(this.parent.element.querySelector(".e-gridpopup"),e,"e-rowselect e-icons e-icon-rowselect"+(!this.isSingleSel()&&(this.selectedRecords.length>1||this.selectedRowCellIndexes.length>1)?" e-spanclicked":""))},e.prototype.rowCellSelectionHandler=function(e,t){!this.isMultiCtrlRequest&&!this.isMultiShiftRequest||this.isSingleSel()?(this.isDragged||this.selectRow(e,this.selectionSettings.enableToggle),this.selectCell({rowIndex:e,cellIndex:t},this.selectionSettings.enableToggle),this.selectedRowCellIndexes.length&&this.updateAutoFillPosition(),this.drawBorders()):this.isMultiShiftRequest?(this.parent.isCheckBoxSelection||!this.parent.isCheckBoxSelection&&!Za(this.target,"."+uy).classList.contains(Sy)?this.selectRowsByRange(zo(this.prevRowIndex)?e:this.prevRowIndex,e):this.addRowsToSelection([e]),this.selectCellsByRange(zo(this.prevCIdxs)?{rowIndex:e,cellIndex:t}:this.prevCIdxs,{rowIndex:e,cellIndex:t}),this.updateAutoFillPosition(),this.drawBorders()):(this.addRowsToSelection([e]),this.addCellsToSelection([{rowIndex:e,cellIndex:t}]),this.showHideBorders("none")),this.isDragged=!1},e.prototype.onCellFocused=function(e){if(this.parent.frozenRows&&e.container.isHeader&&e.byKey)if("upArrow"===e.keyArgs.action)this.parent.allowFiltering?e.isJump="INPUT"===e.element.tagName:e.isJump="TH"===e.element.tagName;else if("downArrow"===e.keyArgs.action){var t=Number(e.element.parentElement.getAttribute(Ty));e.isJump=0===t}else"ctrlHome"===e.keyArgs.action&&(e.isJump=!0);var i=(e.container.isHeader&&e.isJump||e.container.isContent&&!e.container.isSelectable)&&!(e.byKey&&"space"===e.keyArgs.action)&&!(e.element.classList.contains("e-detailrowexpand")||e.element.classList.contains("e-detailrowcollapse")),n=e.container.isHeader&&"TD"!==e.element.tagName&&!Za(e.element,"."+uy)&&!(e.byKey&&"space"===e.keyArgs.action);if(e.byKey&&!i){var r=e.container.isContent?e.container.indexes:e.indexes,s=r[0],o=r[1],a=this.focus.getPrevIndexes();if((e.element.parentElement.querySelector(".e-rowcelldrag")||e.element.parentElement.querySelector(".e-dtdiagonalright")||e.element.parentElement.querySelector(".e-dtdiagonaldown"))&&(a.cellIndex=a.cellIndex-1),this.parent.frozenRows)if(e.container.isHeader&&("TD"===e.element.tagName||Za(e.element,"."+uy))){var l=this.parent.getHeaderTable().querySelector("thead").childElementCount;s-=l,a.rowIndex=ko(a.rowIndex)?null:a.rowIndex-l}else s+=this.parent.frozenRows,a.rowIndex=0!==a.rowIndex&&ko(a.rowIndex)?null:a.rowIndex+this.parent.frozenRows;if(this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache&&(s=parseInt(e.element.parentElement.getAttribute("data-rowindex"),10)),!(n||-1===["ctrlPlusA","escape"].indexOf(e.keyArgs.action)&&"space"!==e.keyArgs.action&&s===a.rowIndex&&o===a.cellIndex)||this.selectionSettings.allowColumnSelection){this.preventFocus=!0;var h=this.getKeyColIndex(e);if(this.needColumnSelection&&(o=h),this.parent.element.classList.contains("e-gridcell-read")&&("tab"===e.keyArgs.action||"shiftTab"===e.keyArgs.action||"rightArrow"===e.keyArgs.action||"leftArrow"===e.keyArgs.action)){var c=this.target.getAttribute("aria-label");c=this.target.innerHTML+" column header "+this.parent.getColumnByIndex(o).field,this.target.setAttribute("aria-label",c)}switch(e.keyArgs.action){case"downArrow":case"upArrow":case"enter":case"shiftEnter":this.target=e.element,this.isKeyAction=!0,this.applyDownUpKey(s,o);break;case"rightArrow":case"leftArrow":this.applyRightLeftKey(s,o);break;case"shiftDown":case"shiftUp":this.shiftDownKey(s,o);break;case"shiftLeft":case"shiftRight":this.applyShiftLeftRightKey(s,o);break;case"home":case"end":o="end"===e.keyArgs.action?this.getLastColIndex(s):0,this.applyHomeEndKey(s,o);break;case"ctrlHome":case"ctrlEnd":this.applyCtrlHomeEndKey(s,o);break;case"escape":this.clearSelection(),this.parent.clipboardModule&&window.navigator.clipboard.writeText("");break;case"ctrlPlusA":this.ctrlPlusA();break;case"space":this.applySpaceSelection(e.element);break;case"tab":this.parent.editSettings.allowNextRowEdit&&this.selectRow(s)}this.needColumnSelection=!1,this.preventFocus=!1,this.positionBorders(),this.parent.isFrozenGrid()&&(this.showHideBorders("none",!0),this.refreshFrozenBorders()),this.updateAutoFillPosition()}}else i&&!this.parent.isCheckBoxSelection&&this.clearSelection()},e.prototype.getKeyColIndex=function(e){var t,i=null,n=e.element.querySelector(".e-stackedheadercelldiv");if(this.selectionSettings.allowColumnSelection&&Jy(e.element,"e-columnheader"))if(this.needColumnSelection=!!e.container.isHeader,n){if("rightArrow"===e.keyArgs.action||"leftArrow"===e.keyArgs.action)return i;t=n.getAttribute("e-mappinguid");var r=this.getstackedColumns(this.parent.getColumnByUid(t).columns),s=this.parent.getColumnIndexByUid(r[r.length-1].uid),o=this.parent.getColumnIndexByUid(r[0].uid);i=this.prevColIndex>=s?o:s}else i=this.parent.getColumnIndexByUid(e.element.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"));return i},e.prototype.ctrlPlusA=function(){this.isRowType()&&!this.isSingleSel()&&this.selectRowsByRange(0,this.getCurrentBatchRecordChanges().length-1),this.isCellType()&&!this.isSingleSel()&&this.selectCellsByRange({rowIndex:0,cellIndex:0},{rowIndex:this.parent.getRows().length-1,cellIndex:this.parent.getColumns().length-1})},e.prototype.applySpaceSelection=function(e){e.classList.contains("e-checkselectall")?(this.checkedTarget=e,this.checkSelectAll(this.checkedTarget)):e.classList.contains("e-checkselect")&&(this.checkedTarget=e,this.checkSelect(this.checkedTarget))},e.prototype.applyDownUpKey=function(e,t){var i=this.parent;!this.parent.isCheckBoxSelection||"Check"!==this.parent.checkAllRows||this.selectionSettings.persistSelection||this.selectionSettings.checkboxOnly||(this.checkSelectAllAction(!1),this.checkedTarget=null),this.isRowType()&&!this.selectionSettings.checkboxOnly&&(this.parent.frozenRows,this.selectRow(e,!0),this.applyUpDown(i.selectedRowIndex)),this.isCellType()&&this.selectCell({rowIndex:e,cellIndex:t},!0),this.selectionSettings.allowColumnSelection&&this.needColumnSelection&&this.selectColumn(t)},e.prototype.applyUpDown=function(e){if(!(e<0)){this.target||(this.target=this.parent.getRows()[0].children[this.parent.groupSettings.columns.length||0]);var t=parseInt(this.target.getAttribute(xy),10),i=this.contentRenderer.getRowByIndex(e);if(i&&(this.target=i.getElementsByClassName(uy)[parseInt(t.toString(),10)]),this.addAttribute(this.target),this.parent.element.classList.contains("e-gridcell-read")){var n=this.target.getAttribute("aria-label");n=this.target.innerHTML,this.target.setAttribute("aria-label",n)}}},e.prototype.applyRightLeftKey=function(e,t){this.selectionSettings.allowColumnSelection&&this.needColumnSelection?this.selectColumn(t):this.isCellType()&&(this.selectCell({rowIndex:e,cellIndex:t},!0),this.addAttribute(this.target))},e.prototype.applyHomeEndKey=function(e,t){this.isCellType()?this.selectCell({rowIndex:e,cellIndex:t},!0):this.addAttribute(this.parent.getCellFromIndex(e,t))},e.prototype.shiftDownKey=function(e,t){this.isMultiShiftRequest=!0,this.isRowType()&&!this.isSingleSel()&&(zo(this.prevRowIndex)?this.isPartialSelection?this.selectRow(e,!0):this.selectRow(0,!0):(this.selectRowsByRange(this.prevRowIndex,e),this.applyUpDown(e))),this.isCellType()&&!this.isSingleSel()&&this.selectCellsByRange(this.prevCIdxs||{rowIndex:0,cellIndex:0},{rowIndex:e,cellIndex:t}),this.isMultiShiftRequest=!1},e.prototype.applyShiftLeftRightKey=function(e,t){this.isMultiShiftRequest=!0,this.selectionSettings.allowColumnSelection&&this.needColumnSelection?this.selectColumnsByRange(this.prevColIndex,t):this.selectCellsByRange(this.prevCIdxs,{rowIndex:e,cellIndex:t}),this.isMultiShiftRequest=!1},e.prototype.getstackedColumns=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[parseInt(i.toString(),10)].columns?this.getstackedColumns(e[parseInt(i.toString(),10)].columns):t.push(e[parseInt(i.toString(),10)]);return t},e.prototype.applyCtrlHomeEndKey=function(e,t){this.isRowType()&&(this.selectRow(e,!0),this.addAttribute(this.parent.getCellFromIndex(e,t))),this.isCellType()&&this.selectCell({rowIndex:e,cellIndex:t},!0)},e.prototype.addRemoveClassesForRow=function(e,t,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];if(e){var s=[].slice.call(e.getElementsByClassName(uy)),o=e.querySelector(".e-detailrowcollapse")||e.querySelector(".e-detailrowexpand"),a=e.querySelector(".e-rowdragdrop");o&&s.push(o),a&&s.push(a),vv.apply(void 0,[s,t].concat(n))}this.getRenderer().setSelection(e?e.getAttribute("data-uid"):null,t,i)},e.prototype.isRowType=function(){return"Row"===this.selectionSettings.mode||"Both"===this.selectionSettings.mode},e.prototype.isCellType=function(){return"Cell"===this.selectionSettings.mode||"Both"===this.selectionSettings.mode},e.prototype.isSingleSel=function(){return"Single"===this.selectionSettings.type},e.prototype.getRenderer=function(){return ko(this.contentRenderer)&&(this.contentRenderer=this.factory.getRenderer(av.Content)),this.contentRenderer},e.prototype.getSelectedRecords=function(){return!this.selectionSettings.persistSelection&&this.selectedRecords.length?this.parent.getRowsObject().filter((function(e){return e.isSelected})).map((function(e){return e.data})):this.persistSelectedData},e.prototype.selectColumn=function(e){var t=this.parent;if(!ko(t.getColumns()[parseInt(e.toString(),10)])){var i=t.getColumnByIndex(e),n=t.getColumnHeaderByUid(i.uid),r=n.classList.contains("e-columnselection");if(t.selectionSettings.allowColumnSelection){var s=this.selectedColumnsIndexes.length>1&&this.selectedColumnsIndexes.indexOf(e)>-1;if(this.clearColDependency(),!r||!this.selectionSettings.enableToggle||s){var o={columnIndex:e,headerCell:n,column:i,cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(o,Ag),o.cancel)return void this.disableInteracted();t.selectionSettings.enableToggle&&e===this.prevColIndex&&r&&!s||this.updateColSelection(n,e);var a={columnIndex:e,headerCell:n,column:i,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(a,jg)}this.updateColProps(e)}}},e.prototype.selectColumnsByRange=function(e,t){var i=this.parent;if(!ko(i.getColumns()[parseInt(e.toString(),10)])){var n=[];if("Single"===i.selectionSettings.type||ko(t))n[0]=e;else for(var r=e<t,s=e;r?s<=t:s>=t;r?s++:s--)n.push(s);this.selectColumns(n)}},e.prototype.selectColumns=function(e){var t=this.parent,i=this.getselectedCols();if("Single"===t.selectionSettings.type&&(e=[e[0]]),t.selectionSettings.allowColumnSelection){this.clearColDependency();var n={columnIndex:e[0],headerCell:i,columnIndexes:e,column:t.getColumnByIndex(e[0]),cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(n,Ag),n.cancel)this.disableInteracted();else{for(var r=0,s=e.length;r<s;r++)this.updateColSelection(t.getColumnHeaderByUid(t.getColumnByIndex(e[parseInt(r.toString(),10)]).uid),e[parseInt(r.toString(),10)]);i=this.getselectedCols();var o={columnIndex:e[0],headerCell:i,columnIndexes:e,column:t.getColumnByIndex(e[0]),target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(o,jg),this.updateColProps(e[0])}}},e.prototype.selectColumnWithExisting=function(e){var t=this.parent;if(!ko(t.getColumns()[parseInt(e.toString(),10)])){var i=t.getColumnHeaderByUid(t.getColumnByIndex(e).uid),n=this.getselectedCols();if("Single"===t.selectionSettings.type&&this.clearColDependency(),t.selectionSettings.allowColumnSelection){if(this.selectedColumnsIndexes.indexOf(e)>-1)this.clearColumnSelection(e);else{var r={columnIndex:e,headerCell:n,columnIndexes:this.selectedColumnsIndexes,column:t.getColumnByIndex(e),cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(r,Ag),r.cancel)return void this.disableInteracted();this.updateColSelection(i,e);var s={columnIndex:e,headerCell:n=this.getselectedCols(),column:t.getColumnByIndex(e),columnIndexes:this.selectedColumnsIndexes,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(s,jg)}this.updateColProps(e)}}},e.prototype.clearColumnSelection=function(e){if(this.isColumnSelected){var t=this.parent;if(!ko(e)&&-1===this.selectedColumnsIndexes.indexOf(e))return;var i=ko(e)?this.selectedColumnsIndexes[this.selectedColumnsIndexes.length-1]:e,n=t.getColumnByIndex(i),r=t.getColumnHeaderByUid(n.uid),s={columnIndex:i,headerCell:r,columnIndexes:this.selectedColumnsIndexes,column:n,cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted};if(this.columnDeselect(s,"columnDeselecting"))return void this.disableInteracted();for(var o=ko(e)?[].slice.call(t.getHeaderContent().getElementsByClassName("e-columnselection")):[r],a=this.getSelectedColumnCells(e),l=0,h=o.length;l<h;l++)vv([o[parseInt(l.toString(),10)]],!1,"e-columnselection");for(l=0,h=a.length;l<h;l++)vv([a[parseInt(l.toString(),10)]],!1,"e-columnselection");ko(e)?(this.columnDeselect(s,"columnDeselected"),this.selectedColumnsIndexes=[],this.isColumnSelected=!1,this.parent.getColumns().filter((function(e){return e.isSelected=!1}))):(this.selectedColumnsIndexes.splice(this.selectedColumnsIndexes.indexOf(e),1),this.parent.getColumns()[parseInt(e.toString(),10)].isSelected=!1)}},e.prototype.getselectedCols=function(){var e,t=this.parent;if(this.selectedColumnsIndexes.length>1){e=[];for(var i=0;i<this.selectedColumnsIndexes.length;i++)e.push(t.getColumnHeaderByUid(t.getColumnByIndex(this.selectedColumnsIndexes[parseInt(i.toString(),10)]).uid))}else e=t.getColumnHeaderByUid(t.getColumnByIndex(this.selectedColumnsIndexes[0]).uid);return e},e.prototype.getSelectedColumnCells=function(e){for(var t=this.parent,i=!ko(this.parent.rowTemplate)?t.getRows():t.getDataRows(),n=[],r=ko(e)?".e-columnselection":'[data-colindex="'+e+'"]',s=0,o=i.length;s<o;s++)n=n.concat([].slice.call(i[parseInt(s.toString(),10)].querySelectorAll(r)));return n},e.prototype.columnDeselect=function(e,t){return"columnDeselected"===t&&delete e.cancel,this.onActionComplete(e,t),e.cancel},e.prototype.updateColProps=function(e){this.prevColIndex=e,this.isColumnSelected=this.selectedColumnsIndexes.length&&!0},e.prototype.clearColDependency=function(){this.clearColumnSelection(),this.selectedColumnsIndexes=[]},e.prototype.updateColSelection=function(e,t){if(!ko(this.parent.getColumns()[parseInt(t.toString(),10)])){var i=!ko(this.parent.rowTemplate)?this.parent.getRows():this.parent.getDataRows();this.selectedColumnsIndexes.push(t),this.parent.getColumns()[parseInt(t.toString(),10)].isSelected=!0,t+=this.parent.getIndentCount(),vv([e],!0,"e-columnselection");for(var n=0,r=i.length;n<r;n++)i[parseInt(n.toString(),10)].classList.contains(My)&&(!i[parseInt(n.toString(),10)].classList.contains(wy)&&!i[parseInt(n.toString(),10)].classList.contains(_y)||"Normal"!==this.parent.editSettings.mode||ko(i[parseInt(n.toString(),10)].querySelector("tr").childNodes[parseInt(t.toString(),10)])?ko(i[parseInt(n.toString(),10)].childNodes[parseInt(t.toString(),10)])||vv([i[parseInt(n.toString(),10)].childNodes[parseInt(t.toString(),10)]],!0,"e-columnselection"):vv([i[parseInt(n.toString(),10)].querySelector("tr").childNodes[parseInt(t.toString(),10)]],!0,"e-columnselection"))}},e.prototype.headerSelectionHandler=function(e){!this.isMultiCtrlRequest&&!this.isMultiShiftRequest||this.isSingleSel()?this.selectColumn(e):this.isMultiShiftRequest?this.selectColumnsByRange(zo(this.prevColIndex)?e:this.prevColIndex,e):this.selectColumnWithExisting(e)},e.prototype.addEventListener_checkbox=function(){var e=this;this.parent.on(Hg,this.dataReady,this),this.onDataBoundFunction=this.onDataBound.bind(this),this.parent.addEventListener(Sg,this.onDataBoundFunction),this.parent.on(ay,this.onDataBoundFunction),this.parent.on(Wg,this.checkBoxSelectionChanged,this),this.parent.on(Km,this.initPerisistSelection,this),this.parent.on(Qg,this.setCheckAllForEmptyGrid,this),this.actionCompleteFunc=this.actionCompleteHandler.bind(this),this.parent.addEventListener(bg,this.actionCompleteFunc),this.parent.on(rm,this.clickHandler,this),this.resizeEndFn=function(){e.updateAutoFillPosition(),e.drawBorders()},this.resizeEndFn.bind(this),this.parent.addEventListener("resizeStop",this.resizeEndFn)},e.prototype.removeEventListener_checkbox=function(){this.parent.off(Hg,this.dataReady),this.parent.removeEventListener(Sg,this.onDataBoundFunction),this.parent.removeEventListener(bg,this.actionCompleteFunc),this.parent.off(ay,this.onDataBoundFunction),this.parent.off(Qg,this.setCheckAllForEmptyGrid),this.parent.off(rm,this.clickHandler),this.parent.off(Km,this.initPerisistSelection)},e.prototype.setCheckAllForEmptyGrid=function(){var e=this.getCheckAllBox();if(e){this.parent.isCheckBoxSelection=!0;var t=e.nextElementSibling;Ba([t],["e-check","e-stop","e-uncheck"]),Fa([t.parentElement],["e-checkbox-disabled"])}},e.prototype.dataReady=function(e){this.isHeaderCheckboxClicked=!1;var t=this.parent.enableInfiniteScrolling&&"infiniteScroll"===e.requestType;"virtualscroll"===e.requestType||this.parent.isPersistSelection||t||(this.disableUI=!this.parent.enableImmutableMode&&!("save"===e.requestType&&"add"===e.action),this.clearSelection(),this.setCheckAllState(),this.disableUI=!1)},e.prototype.actionCompleteHandler=function(e){"save"===e.requestType&&this.parent.isPersistSelection&&this.refreshPersistSelection()},e.prototype.selectRowIndex=function(e){this.parent.isSelectedRowIndexUpdating=!0,ko(this.parent.selectedRowIndex)||-1===this.parent.selectedRowIndex||!this.parent.enablePersistence?this.parent.selectedRowIndex=e:this.parent.selectedRowIndex=-1},e.prototype.disableInteracted=function(){this.isInteracted=!1},e.prototype.activeTarget=function(){this.actualTarget=this.isInteracted?this.actualTarget:null},e}(),OS=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.search=function(e){var t=this.parent;e=ko(e)?"":e,gv(t)?t.notify(ym,{instance:this,handler:this.search,arg1:e}):e!==t.searchSettings.key?(t.searchSettings.key=/^\d+(\.\d+)?$/.test(e)?parseFloat(e).toString():e.toString(),t.dataBind()):this.refreshSearch&&t.refresh()},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(qg,this.onPropertyChanged,this),this.parent.on(Zg,this.onSearchComplete,this),this.parent.on(sm,this.destroy,this),this.actionCompleteFunc=this.onActionComplete.bind(this),this.parent.addEventListener(bg,this.actionCompleteFunc),this.parent.on(Lm,this.cancelBeginEvent,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(qg,this.onPropertyChanged),this.parent.off(Zg,this.onSearchComplete),this.parent.off(sm,this.destroy),this.parent.removeEventListener(bg,this.actionCompleteFunc),this.parent.off(Lm,this.cancelBeginEvent))},e.prototype.destroy=function(){this.removeEventListener()},e.prototype.onPropertyChanged=function(e){e.module===this.getModuleName()&&(ko(e.properties.key)?this.parent.notify(Gg,{requestType:"searching",type:vg}):this.parent.notify(Gg,{requestType:"searching",type:vg,searchString:this.parent.searchSettings.key}))},e.prototype.onSearchComplete=function(e){this.parent.trigger(bg,Eo(e,{searchString:this.parent.searchSettings.key,requestType:"searching",type:bg}))},e.prototype.onActionComplete=function(e){this.refreshSearch="searching"!==e.requestType},e.prototype.cancelBeginEvent=function(e){"searching"===e.requestType&&this.parent.setProperties({searchSettings:{key:""}},!0)},e.prototype.getModuleName=function(){return"search"},e}(),PS=function(){function e(e){this.colName=[],this.isShowHide=!1,this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.evtHandlers=[{event:zg,handler:this.batchChanges},{event:"cancelcnfrmDlg",handler:this.resetColumnState}],Zv(this.parent,this.evtHandlers,!0,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||Zv(this.parent,this.evtHandlers,!1)},e.prototype.batchChanges=function(){this.isShowHide&&(this.isShowHide=!1,this.setVisible(this.colName,this.changedCol),this.changedCol=this.colName=[])},e.prototype.show=function(e,t){var i=this.getToggleFields(e),n=this.getColumns(i,t);this.parent.notify(gm,{module:"edit"});for(var r=0;r<n.length;r++)n[parseInt(r.toString(),10)].visible=!0;this.setVisible(n)},e.prototype.hide=function(e,t){var i=this.getToggleFields(e),n=this.getColumns(i,t);this.parent.notify(gm,{module:"edit"});for(var r=0;r<n.length;r++)n[parseInt(r.toString(),10)].visible=!1;this.setVisible(n)},e.prototype.getToggleFields=function(e){return"string"===typeof e?[e]:e},e.prototype.getColumns=function(e,t){var i=this;return Uy(e,(function(e){return Uy(i.parent.columnModel,(function(i){if(i[""+t]===e)return i}))[0]}))},e.prototype.batchActionPrevent=function(e,t){return void 0===t&&(t=[]),!gv(this.parent)||(this.colName=e,this.changedCol=t,this.parent.closeEdit(),!1)},e.prototype.resetColumnState=function(){if(this.isShowHide)for(var e=0;e<this.colName.length;e++)this.colName[parseInt(e.toString(),10)].visible=!this.colName[parseInt(e.toString(),10)].visible},e.prototype.setVisible=function(e,t){var i=this;if(void 0===t&&(t=[]),this.isShowHide=!0,this.batchActionPrevent(e,t)){var n={requestType:"columnstate",cancel:!1,columns:t=t.length>0?t:e};this.parent.enableInfiniteScrolling&&this.parent.allowGrouping&&this.parent.groupModule.groupSettings.columns.length>0&&(this.parent.contentModule.visibleRows=[]),this.parent.trigger(vg,n,(function(n){var r=i.parent.getColumns();if(e=ko(e)?r:e,n.cancel)return i.parent.notify("reset-columns",{showHideArgs:n}),void(e.length>0&&(e[0].visible=!0));(Dv(i.parent)&&i.parent.contentModule.emptyVcRows(),i.parent.allowSelection&&i.parent.getSelectedRecords().length&&!i.parent.selectionSettings.persistSelection&&i.parent.clearSelection(),i.parent.enableColumnVirtualization)?e.filter((function(e){return r.some((function(t){return e.field===t.field}))})).length&&i.parent.notify(om,e):(i.parent.isFrozenGrid()&&e.length&&i.parent.notify(hy,{isModeChg:!0}),i.parent.notify(om,e));var s={requestType:"columnstate",columns:t};i.parent.trigger(bg,s),"All"!==i.parent.columnQueryMode&&i.parent.refresh()})),this.parent.autoFit&&!this.parent.groupSettings.columns.length&&this.parent.preventAdjustColumns()}},e}(),RS=function(){function e(e){this.previousValues={top:0,left:0},this.oneTimeReady=!0,this.parent=e,this.widthService=new wS(e),this.addEventListener()}return e.prototype.getModuleName=function(){return"scroll"},e.prototype.setWidth=function(e){if(this.parent.element.style.width=Fo(this.parent.width),e&&this.widthService.setWidthToColumns(),this.parent.toolbarModule&&this.parent.toolbarModule.toolbar&&this.parent.toolbarModule.toolbar.element){var t=this.parent.toolbarModule.toolbar.element,i=t.querySelector(".e-toolbar-left"),n=t.querySelector(".e-toolbar-center"),r=t.querySelector(".e-toolbar-right"),s=t.querySelector(".e-toolbar-items"),o=i?i.clientWidth:0,a=n?n.clientWidth:0,l=r?r.clientWidth:0,h=s?s.clientWidth:0,c=t?t.clientWidth:0;(!this.parent.enableAdaptiveUI||o>c||a>c||l>c||h>c)&&this.parent.toolbarModule.toolbar.refreshOverflow()}},e.prototype.setHeight=function(){var t=0,i=this.parent.getContent().querySelector("."+vy),n=this.parent.height;if(this.parent.enableColumnVirtualization&&this.parent.isFrozenGrid()&&"auto"!==this.parent.height&&this.parent.height.toString().indexOf("%")<0&&(n=parseInt(n,10)-e.getScrollBarWidth()),!this.parent.enableVirtualization&&this.parent.frozenRows&&"auto"!==this.parent.height){var r=this.parent.getHeaderContent().querySelector(jy+":not(.e-masked-tbody)");if(t=r?r.offsetHeight:0,r&&t)t-=r.getElementsByClassName(_y).length*this.parent.getRowHeight();else!this.parent.isInitialLoad&&"Shimmer"===this.parent.loadingIndicator.indicatorType&&this.parent.getHeaderContent().querySelector(".e-masked-table")&&(n=parseInt(n,10)-this.parent.frozenRows*this.parent.getRowHeight());i.style.height=Fo(n-t)}else i.style.height=Fo(n);this.ensureOverflow(i),this.parent.isFrozenGrid()&&this.refresh()},e.prototype.setPadding=function(){var t=this.parent.getHeaderContent(),i=e.getScrollBarWidth()-this.getThreshold(),n=this.getCssProperties();t.querySelector("."+gy).style[n.border]=i>0?"1px":"0px",t.style[n.padding]=i>0?i+"px":"0px"},e.prototype.removePadding=function(e){var t=this.getCssProperties(e),i=this.parent.getHeaderContent().querySelector("."+gy);i.style[t.border]="",i.parentElement.style[t.padding]="";var n=this.parent.getFooterContent();n&&n.classList.contains("e-footerpadding")&&n.classList.remove("e-footerpadding")},e.prototype.refresh=function(){if("100%"===this.parent.height){var e=this.parent.getContent();this.parent.element.style.height="100%";var t=this.widthService.getSiblingsHeight(e);e.style.height="calc(100% - "+t+"px)"}},e.prototype.getThreshold=function(){return"mozilla"===La.info.name?.5:1},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Qg,this.wireEvents,this),this.parent.on(Wg,this.wireEvents,this),this.parent.on(Yg,this.onPropertyChanged,this),this.parent.on(km,this.wireEvents,this),this.parent.on(Xg,this.setScrollLeft,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Qg,this.wireEvents),this.parent.off(Wg,this.wireEvents),this.parent.off(Yg,this.onPropertyChanged),this.parent.off(km,this.wireEvents),this.parent.off(Xg,this.setScrollLeft),this.unwireEvents())},e.prototype.unwireEvents=function(){this.parent.frozenRows&&this.header&&(Oa.remove(this.header,"touchstart pointerdown",this.setPageXY),Oa.remove(this.header,"touchmove pointermove",this.onTouchScroll));var e=this.parent.getContent()?this.parent.getContent().querySelector(".e-movablescrollbar"):null;this.parent.isFrozenGrid()&&this.parent.enableColumnVirtualization&&(e&&Oa.remove(e,"scroll",this.onCustomScrollbarScroll),this.content&&(Oa.remove(this.content,"scroll",this.onCustomScrollbarScroll),Oa.remove(this.content,"touchstart pointerdown",this.setPageXY),/macintosh|ipad/.test(La.userAgent.toLowerCase())&&La.isDevice||Oa.remove(this.content,"touchmove pointermove",this.onTouchScroll)),this.header&&(Oa.remove(this.header,"scroll",this.onCustomScrollbarScroll),Oa.remove(this.header,"touchstart pointerdown",this.setPageXY),Oa.remove(this.header,"touchmove pointermove",this.onTouchScroll))),this.content&&Oa.remove(this.content,"scroll",this.contentScrollHandler),this.header&&Oa.remove(this.header,"scroll",this.headerScrollHandler),this.contentScrollHandler=null,this.headerScrollHandler=null,this.parent.aggregates.length&&this.parent.getFooterContent()&&Oa.remove(this.parent.getFooterContent().firstChild,"scroll",this.onContentScroll)},e.prototype.setScrollLeft=function(){this.parent.getHeaderContent().querySelector("."+gy).scrollLeft=this.previousValues.left},e.prototype.onContentScroll=function(e){var t=this,i=e,n=i.classList.contains(gy);return function(e){if(null!==t.content.querySelector(jy)&&!t.parent.isPreventScrollEvent){var r=e.target;if(t.parent.frozenRows&&(t.content.scrollTop>0&&t.parent.frozenRows?Fa([t.parent.element],"e-top-shadow"):Ba([t.parent.element],"e-top-shadow")),t.parent.element.querySelectorAll(".e-leftfreeze,.e-fixedfreeze,.e-rightfreeze").length){var s=t.parent.getContent().querySelectorAll('.e-freezeerror:not([style*="display: none"])'),o=t.parent.getContent().querySelectorAll('.e-fixederror:not([style*="display: none"])');0!==r.scrollLeft&&t.parent.getVisibleFrozenLeftCount()?Fa([t.parent.element],"e-left-shadow"):Ba([t.parent.element],"e-left-shadow"),Math.round((t.parent.enableRtl?r.scrollWidth+r.scrollLeft:r.scrollWidth-r.scrollLeft)+("auto"===t.parent.height?0:1))===r.offsetWidth&&t.parent.getVisibleFrozenRightCount()?Ba([t.parent.element],"e-right-shadow"):Fa([t.parent.element],"e-right-shadow");var a=[].slice.call(t.parent.getContent().querySelectorAll(".e-row:not(.e-hiddenrow)"));if((1===a.length&&s.length||t.parent.element.querySelector('.e-freeze-autofill:not([style*="display: none"])')||o.length)&&r.scrollLeft!==t.previousValues.left)return void(r.scrollLeft=t.previousValues.left);if(1!==a.length&&(s.length||o.length)&&r.scrollTop!==t.previousValues.top)return void(r.scrollTop=t.previousValues.top)}var l=r.scrollLeft;if(ko(t.parent.infiniteScrollModule)||!t.parent.enableInfiniteScrolling||t.parent.isEdit||t.parent.notify("infinite-scroll-handler",{target:e.target,isLeft:t.previousValues.left!==l}),t.parent.groupSettings.columns.length&&t.parent.groupSettings.enableLazyLoading){var h=t.previousValues.top<t.parent.getContent().firstElementChild.scrollTop;t.parent.notify("lazy-load-scroll-handler",{scrollDown:h})}t.parent.notify("virtual-scroll-edit",{});var c=r.classList.contains("e-summarycontent");t.previousValues.left!==l?(t.parent.notify(Qm,e),i.scrollLeft=l,c&&(t.header.scrollLeft=l),t.previousValues.left=l,t.parent.notify(am,{left:l})):t.previousValues.top=n?r.scrollTop:t.previousValues.top}}},e.prototype.onCustomScrollbarScroll=function(e,t){var i=this,n=e,r=t;return function(e){if(null!==i.content.querySelector(jy)){var t=e.target.scrollLeft;i.previousValues.left!==t&&(n.scrollLeft=t,r.scrollLeft=t,i.previousValues.left=t,i.parent.notify(am,{left:t}),i.parent.isDestroyed)}}},e.prototype.onTouchScroll=function(e){var t=this,i=e;return function(e){if("mouse"!==e.pointerType){var n=t.parent.isFrozenGrid(),r=t.getPointXY(e),s=i.scrollLeft+(t.pageXY.x-r.x),o=t.parent.getHeaderContent().querySelector("."+gy),a=t.parent.getContent().querySelector("."+vy);if(!(t.previousValues.left===s||s<0||o.scrollWidth-o.clientWidth<s)){if(e.preventDefault(),o.scrollLeft=s,a.scrollLeft=s,n&&t.parent.enableColumnVirtualization)t.parent.getContent().querySelector(".e-movablescrollbar").scrollLeft=s;t.pageXY.x=r.x,t.previousValues.left=s}}}},e.prototype.setPageXY=function(){var e=this;return function(t){"mouse"!==t.pointerType&&(e.pageXY=e.getPointXY(t))}},e.prototype.getPointXY=function(e){var t={x:0,y:0};return e.touches&&e.touches.length?(t.x=e.touches[0].pageX,t.y=e.touches[0].pageY):(t.x=e.pageX,t.y=e.pageY),t},e.prototype.getScrollbleParent=function(e){if(null===e)return null;var t=ko(e.tagName)?e.scrollingElement:e,i=document.defaultView.getComputedStyle(t,null).overflowY;return t.scrollHeight>t.clientHeight&&"hidden"!==i&&"visible"!==i||"HTML"===e.tagName||"BODY"===e.tagName?e:this.getScrollbleParent(e.parentNode)},e.prototype.addStickyListener=function(e){this.parentElement=this.getScrollbleParent(this.parent.element.parentElement),e&&this.parentElement?(this.eventElement="HTML"===this.parentElement.tagName||"BODY"===this.parentElement.tagName?document:this.parentElement,Oa.add(this.eventElement,"scroll",this.makeStickyHeader,this)):this.eventElement&&(Oa.remove(this.eventElement,"scroll",this.makeStickyHeader),this.eventElement=null)},e.prototype.resizeFrozenRowBorder=function(){var t;this.parent.element.querySelector(".e-frozenrow-border")?t=this.parent.element.querySelector(".e-frozenrow-border"):(t=this.parent.createElement("div",{className:"e-frozenrow-border"}),this.parent.element.insertBefore(t,this.parent.element.querySelector(".e-gridcontent")));var i="auto"!==this.parent.height?e.getScrollBarWidth():0;t.style.width=this.parent.element.offsetWidth-i-.5+"px"},e.prototype.wireEvents=function(){var e=this;if(this.oneTimeReady){var t=this.parent.isFrozenGrid();this.content=this.parent.getContent().querySelector("."+vy),this.header=this.parent.getHeaderContent().querySelector("."+gy);var i=this.parent.getContent().querySelector(".e-movablescrollbar");this.parent.frozenRows&&this.header&&this.content&&(Oa.add(this.header,"touchstart pointerdown",this.setPageXY(),this),Oa.add(this.header,"touchmove pointermove",this.onTouchScroll(this.content),this)),t&&i&&this.parent.enableColumnVirtualization&&(Oa.add(i,"scroll",this.onCustomScrollbarScroll(this.content,this.header),this),Oa.add(this.content,"scroll",this.onCustomScrollbarScroll(i,this.header),this),Oa.add(this.header,"scroll",this.onCustomScrollbarScroll(i,this.content),this),Oa.add(this.header,"touchstart pointerdown",this.setPageXY(),this),Oa.add(this.header,"touchmove pointermove",this.onTouchScroll(this.content),this),Oa.add(this.content,"touchstart pointerdown",this.setPageXY(),this),/macintosh|ipad/.test(La.userAgent.toLowerCase())&&La.isDevice||Oa.add(this.content,"touchmove pointermove",this.onTouchScroll(this.header),this)),this.contentScrollHandler=this.onContentScroll(this.header),this.headerScrollHandler=this.onContentScroll(this.content),Oa.add(this.content,"scroll",this.contentScrollHandler,this),Oa.add(this.header,"scroll",this.headerScrollHandler,this),this.parent.aggregates.length&&Oa.add(this.parent.getFooterContent().firstChild,"scroll",this.onContentScroll(this.content),this),this.parent.enableStickyHeader&&this.addStickyListener(!0),this.refresh(),this.oneTimeReady=!1}var n,r,s,o=this.parent.getContentTable();Fy((function(){n=e.header.scrollLeft,r=o.scrollHeight,s=e.parent.getContent().clientHeight}),(function(){var t={cancel:!1};e.parent.notify("check-scroll-reset",t),r<s&&"auto"!==e.parent.height&&e.setLastRowCell(),e.parent.frozenRows&&e.resizeFrozenRowBorder(),e.parent.enableVirtualization||e.parent.enableInfiniteScrolling||t.cancel||(e.header.scrollLeft=e.previousValues.left,e.content.scrollLeft=e.previousValues.left,e.content.scrollTop=e.previousValues.top),e.parent.enableColumnVirtualization||(e.content.scrollLeft=n,e.parent.isFrozenGrid()&&(e.previousValues.left=n))})),this.parent.isPreventScrollEvent=!1},e.prototype.setLastRowCell=function(){var e=this.parent.getContentTable();e.querySelector("tr:nth-last-child(2)")&&Ba(e.querySelector("tr:nth-last-child(2)").querySelectorAll("td"),"e-lastrowcell"),Fa(e.querySelectorAll("tr:last-child td"),"e-lastrowcell")},e.prototype.getCssProperties=function(e){var t={},i=ko(e)?this.parent.enableRtl:e;return t.border=i?"borderLeftWidth":"borderRightWidth",t.padding=i?"paddingLeft":"paddingRight",t},e.prototype.ensureOverflow=function(e){e.style.overflowY="auto"===this.parent.height?"auto":"scroll"},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()){this.setPadding(),this.oneTimeReady=!0,"auto"===this.parent.height&&this.removePadding(),this.wireEvents(),this.setHeight();this.setWidth(!ko(e.properties.width))}},e.prototype.makeStickyHeader=function(){if(this.parent.enableStickyHeader&&this.parent.element&&this.parent.getContent()){var e=this.parent.getContent().getClientRects()[0];if(e){var t=this.parent.getHeaderContent(),i=this.parent.element.querySelector(".e-toolbar"),n=this.parent.element.querySelector(".e-groupdroparea"),r=t.offsetHeight+(i?i.offsetHeight:0)+(n?n.offsetHeight:0),s=this.parentElement.getClientRects()[0].top,o=e.top-(s<0?0:s),a=e.left,l=document.body.querySelector("#"+this.parent.element.id+"_columnmenu");if(o<r&&e.bottom>0){t.classList.add("e-sticky");var h=0;n&&this.parent.groupSettings.showDropArea&&(this.setSticky(n,h,e.width,a,!0),h+=n.getClientRects()[0].height),i&&(this.setSticky(i,h,e.width,a,!0),h+=i.getClientRects()[0].height),this.setSticky(t,h,e.width,a,!0),ko(l)||(l.style.position="fixed",l.style.top=r+"px")}else if(t.classList.contains("e-sticky")){this.setSticky(t,null,null,null,!1),i&&this.setSticky(i,null,null,null,!1),n&&this.setSticky(n,null,null,null,!1);var c=this.parent.element.querySelector(".e-ccdlg");if(c&&c.classList.remove("e-sticky"),!ko(l)){l.style.position="absolute";var u=e.top-s;l.style.top=u+"px"}}this.parent.notify("sticky-scroll-complete",{})}}},e.prototype.setSticky=function(e,t,i,n,r){r?(e.style.width=i+"px",e.classList.add("e-sticky")):e.classList.remove("e-sticky"),e.style.top=null!=t?t+"px":"",e.style.left=null!==n?parseInt(e.style.left,10)!==n?n+"px":e.style.left:""},e.prototype.destroy=function(){var e=this.parent.element;if(e&&(e.querySelector("."+py)||e.querySelector("."+dy))){this.removeEventListener();var t=this.parent.getContent().querySelector("."+vy);Oa.remove(t,"scroll",this.onContentScroll),this.parent.enableStickyHeader&&this.addStickyListener(!1),this.removePadding(),Ba([this.parent.getHeaderContent().querySelector("."+gy)],gy),Ba([t],vy),t.style.height="",this.parent.element.style.width=""}},e.getScrollBarWidth=function(){return pv()},e}(),FS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),BS=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},VS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateFn={},t}return FS(t,e),t.prototype.setFormatter=function(e){this.formatFn=e},t.prototype.getFormatter=function(){return this.formatFn},t.prototype.setTemplate=function(e){void 0===e&&(e={}),void 0!==this.footerTemplate&&(this.templateFn[Ao(ov,ov.Summary)]={fn:Uh(this.footerTemplate,e),property:"footerTemplate"}),void 0!==this.groupFooterTemplate&&(this.templateFn[Ao(ov,ov.GroupSummary)]={fn:Uh(this.groupFooterTemplate,e),property:"groupFooterTemplate"}),void 0!==this.groupCaptionTemplate&&(this.templateFn[Ao(ov,ov.CaptionSummary)]={fn:Uh(this.groupCaptionTemplate,e),property:"groupCaptionTemplate"})},t.prototype.getTemplate=function(e){return this.templateFn[Ao(ov,e)]},t.prototype.setPropertiesSilent=function(e){this.setProperties(e,!0)},BS([fl()],t.prototype,"type",void 0),BS([fl()],t.prototype,"field",void 0),BS([fl()],t.prototype,"columnName",void 0),BS([fl()],t.prototype,"format",void 0),BS([fl()],t.prototype,"footerTemplate",void 0),BS([fl()],t.prototype,"groupFooterTemplate",void 0),BS([fl()],t.prototype,"groupCaptionTemplate",void 0),BS([fl()],t.prototype,"customAggregate",void 0),t}(zl),US=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return FS(t,e),BS([ml([],VS)],t.prototype,"columns",void 0),t}(zl),HS=function(){function e(e,t){this.copyContent="",this.isSelect=!1,this.parent=e,this.serviceLocator=t,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Wg,this.initialEnd,this),this.parent.on(nm,this.keyDownHandler,this),this.parent.on(rm,this.clickHandler,this),this.parent.on(Qg,this.initialEnd,this),Oa.add(this.parent.element,"keydown",this.pasteHandler,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(nm,this.keyDownHandler),this.parent.off(Wg,this.initialEnd),this.parent.off(rm,this.clickHandler),this.parent.off(Qg,this.initialEnd),Oa.remove(this.parent.element,"keydown",this.pasteHandler))},e.prototype.clickHandler=function(e){var t=e.target;t=Jy(t,"e-rowcell")},e.prototype.pasteHandler=function(e){var t=this,i=this.parent,n=/(Mac)/i.test(navigator.platform);if(67===e.keyCode&&n&&e.metaKey&&!i.isEdit&&this.copy(),86===e.keyCode&&(e.ctrlKey||n&&e.metaKey)&&!i.isEdit){var r=Za(document.activeElement,"."+uy);if(!this.clipBoardTextArea||!r||!i.editSettings.allowEditing||"Batch"!==i.editSettings.mode||"Cell"!==i.selectionSettings.mode||"Flow"===i.selectionSettings.cellSelectionMode)return;this.activeElement=document.activeElement,this.clipBoardTextArea.value="";var s=window.scrollX,o=window.scrollY;this.clipBoardTextArea.focus(),setTimeout((function(){t.activeElement.focus(),window.scrollTo(s,o),t.paste(t.clipBoardTextArea.value,t.parent.getSelectedRowCellIndexes()[0].rowIndex,t.parent.getSelectedRowCellIndexes()[0].cellIndexes[0])}),10)}},e.prototype.paste=function(e,t,i){for(var n,r,s,o=this.parent,a=i,l=t,h=e.split("\n"),c=0;c<h.length;c++){if(s=h[parseInt(c.toString(),10)].split("\t"),a=i,c===h.length-1&&""===h[parseInt(c.toString(),10)]||zo(o.getRowByIndex(l))){a++;break}for(var u=0;u<s.length;u++){if(!o.getCellFromIndex(l,a)){a++;break}if(r=(n=o.getColumnByIndex(a)).getParser()?n.getParser()(s[parseInt(u.toString(),10)]):s[parseInt(u.toString(),10)],n.allowEditing&&!n.isPrimaryKey&&!n.template){var p={column:n,data:r,rowIndex:l};this.parent.trigger("beforePaste",p),l=p.rowIndex,p.cancel||o.editModule&&("number"===n.type?this.parent.editModule.updateCell(l,n.field,parseFloat(p.data)):o.editModule.updateCell(l,n.field,p.data))}a++}l++}o.selectionModule.selectCellsByRange({rowIndex:t,cellIndex:i},{rowIndex:l-1,cellIndex:a-1});var d=this.parent.getCellFromIndex(l-1,a-1);d&&el(d,["e-focus","e-focused"],[])},e.prototype.initialEnd=function(){this.l10n=this.serviceLocator.getService("localization"),this.parent.off(Wg,this.initialEnd),this.clipBoardTextArea=this.parent.createElement("textarea",{className:"e-clipboard",styles:"opacity: 0",attrs:{tabindex:"-1","aria-label":this.l10n.getConstant("ClipBoard")}}),this.parent.element.appendChild(this.clipBoardTextArea)},e.prototype.keyDownHandler=function(e){"ctrlPlusC"===e.action?this.copy():"ctrlShiftPlusH"===e.action&&this.copy(!0)},e.prototype.setCopyData=function(e){if(""===window.getSelection().toString()){this.clipBoardTextArea.value=this.copyContent="";var t=this.parent.getDataRows();if("Cell"!==this.parent.selectionSettings.mode){var i=this.parent.getSelectedRowIndexes().sort((function(e,t){return e-t}));if(e){for(var n=[],r=0;r<this.parent.getVisibleColumns().length;r++)n[parseInt(r.toString(),10)]=this.parent.getVisibleColumns()[parseInt(r.toString(),10)].headerText;this.getCopyData(n,!1,"\t",e),this.copyContent+="\n"}for(r=0;r<i.length;r++){r>0&&(this.copyContent+="\n");var s=[],o=i[parseInt(r.toString(),10)];!Dv(this.parent)&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache||this.parent.groupSettings.columns.length&&this.parent.groupSettings.enableLazyLoading)&&(o=t.map((function(e){return e.getAttribute("data-rowindex")})).indexOf(i[parseInt(r.toString(),10)].toString())),s.push.apply(s,[].slice.call(t[parseInt(o.toString(),10)].querySelectorAll(".e-rowcell:not(.e-hide)"))),this.getCopyData(s,!1,"\t",e)}}else{var a=this.checkBoxSelection();if(a.status){if(e){var l=[];for(r=0;r<a.colIndexes.length;r++){var h=this.parent.getColumnHeaderByIndex(a.colIndexes[parseInt(r.toString(),10)]);h.classList.contains("e-hide")||l.push(h)}this.getCopyData(l,!1,"\t",e),this.copyContent+="\n"}for(r=0;r<a.rowIndexes.length;r++){r>0&&(this.copyContent+="\n");var c=[].slice.call(t[a.rowIndexes[parseInt(r.toString(),10)]].querySelectorAll(".e-cellselectionbackground:not(.e-hide)"));this.getCopyData(c,!1,"\t",e)}}else this.getCopyData([].slice.call(this.parent.element.getElementsByClassName("e-cellselectionbackground")),!0,"\n",e)}var u={data:this.copyContent,cancel:!1};if(this.parent.trigger("beforeCopy",u),u.cancel)return;this.clipBoardTextArea.value=this.copyContent=u.data,La.userAgent.match(/ipad|ipod|iphone/i)?this.clipBoardTextArea.setSelectionRange(0,this.clipBoardTextArea.value.length):this.clipBoardTextArea.select(),this.isSelect=!0}},e.prototype.getCopyData=function(e,t,i,n){for(var r="string"!==typeof e[0],s=0;s<e.length;s++){if(n&&t){var o=parseInt(e[parseInt(s.toString(),10)].getAttribute(xy),10);this.copyContent+=this.parent.getColumns()[parseInt(o.toString(),10)].headerText+"\n"}r?e[parseInt(s.toString(),10)].classList.contains("e-hide")||(this.copyContent+=e[parseInt(s.toString(),10)].innerText):this.copyContent+=e[parseInt(s.toString(),10)],s<e.length-1&&(this.copyContent+=i)}},e.prototype.copy=function(e){document.queryCommandSupported("copy")&&this.clipBoardTextArea&&(this.setCopyData(e),document.execCommand("copy"),this.clipBoardTextArea.blur()),this.isSelect&&(window.getSelection().removeAllRanges(),this.isSelect=!1)},e.prototype.getModuleName=function(){return"clipboard"},e.prototype.destroy=function(){this.removeEventListener(),this.clipBoardTextArea&&qa(this.clipBoardTextArea)},e.prototype.checkBoxSelection=function(){var e=this.parent,t={status:!1};if("Cell"===e.selectionSettings.mode){var i=e.getSelectedRowCellIndexes(),n=void 0,r=[],s=void 0;for(s=0;s<i.length&&(i[parseInt(s.toString(),10)].cellIndexes.length&&r.push(i[parseInt(s.toString(),10)].rowIndex),!i[parseInt(s.toString(),10)].cellIndexes.length||(n||(n=JSON.stringify(i[parseInt(s.toString(),10)].cellIndexes.sort())),n===JSON.stringify(i[parseInt(s.toString(),10)].cellIndexes.sort())));s++);r.sort((function(e,t){return e-t})),s===i.length&&(t={status:!0,rowIndexes:r,colIndexes:i[0].cellIndexes})}return t},e}(),WS=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),YS=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},QS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([fl()],t.prototype,"field",void 0),YS([fl()],t.prototype,"direction",void 0),YS([fl(!1)],t.prototype,"isFromGroup",void 0),t}(zl),qS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([ml([],QS)],t.prototype,"columns",void 0),YS([fl(!0)],t.prototype,"allowUnsort",void 0),t}(zl),GS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([fl()],t.prototype,"field",void 0),YS([fl()],t.prototype,"operator",void 0),YS([fl()],t.prototype,"value",void 0),YS([fl()],t.prototype,"matchCase",void 0),YS([fl(!1)],t.prototype,"ignoreAccent",void 0),YS([fl()],t.prototype,"predicate",void 0),YS([fl({})],t.prototype,"actualFilterValue",void 0),YS([fl({})],t.prototype,"actualOperator",void 0),YS([fl()],t.prototype,"type",void 0),YS([fl()],t.prototype,"ejpredicate",void 0),YS([fl()],t.prototype,"uid",void 0),YS([fl()],t.prototype,"isForeignKey",void 0),YS([fl()],t.prototype,"condition",void 0),t}(zl),KS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([fl(!1)],t.prototype,"enableCache",void 0),YS([fl(3)],t.prototype,"maxBlocks",void 0),YS([fl(3)],t.prototype,"initialBlocks",void 0),t}(zl),XS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([ml([],GS)],t.prototype,"columns",void 0),YS([fl("FilterBar")],t.prototype,"type",void 0),YS([fl("OnEnter")],t.prototype,"mode",void 0),YS([fl(!0)],t.prototype,"showFilterBarStatus",void 0),YS([fl(1500)],t.prototype,"immediateModeDelay",void 0),YS([fl()],t.prototype,"operators",void 0),YS([fl(!1)],t.prototype,"ignoreAccent",void 0),YS([fl(!1)],t.prototype,"enableCaseSensitivity",void 0),YS([fl(!1)],t.prototype,"showFilterBarOperator",void 0),t}(zl),JS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([fl("Row")],t.prototype,"mode",void 0),YS([fl("Flow")],t.prototype,"cellSelectionMode",void 0),YS([fl("Single")],t.prototype,"type",void 0),YS([fl(!1)],t.prototype,"checkboxOnly",void 0),YS([fl(!1)],t.prototype,"persistSelection",void 0),YS([fl("Default")],t.prototype,"checkboxMode",void 0),YS([fl(!1)],t.prototype,"enableSimpleMultiRowSelection",void 0),YS([fl(!0)],t.prototype,"enableToggle",void 0),YS([fl(!1)],t.prototype,"allowColumnSelection",void 0),t}(zl),ZS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([fl([])],t.prototype,"fields",void 0),YS([fl("")],t.prototype,"key",void 0),YS([fl("contains")],t.prototype,"operator",void 0),YS([fl(!0)],t.prototype,"ignoreCase",void 0),YS([fl(!1)],t.prototype,"ignoreAccent",void 0),t}(zl),$S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([fl()],t.prototype,"targetID",void 0),t}(zl),ew=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([fl("Both")],t.prototype,"wrapMode",void 0),t}(zl),tw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([fl("Normal")],t.prototype,"mode",void 0),t}(zl),iw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([fl(!0)],t.prototype,"showDropArea",void 0),YS([fl(!1)],t.prototype,"allowReordering",void 0),YS([fl(!1)],t.prototype,"showToggleButton",void 0),YS([fl(!1)],t.prototype,"showGroupedColumn",void 0),YS([fl(!0)],t.prototype,"showUngroupButton",void 0),YS([fl(!1)],t.prototype,"disablePageWiseAggregates",void 0),YS([fl([])],t.prototype,"columns",void 0),YS([fl()],t.prototype,"captionTemplate",void 0),YS([fl(!1)],t.prototype,"enableLazyLoading",void 0),t}(zl),nw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([fl(!1)],t.prototype,"allowAdding",void 0),YS([fl(!1)],t.prototype,"allowEditing",void 0),YS([fl(!1)],t.prototype,"allowDeleting",void 0),YS([fl("Normal")],t.prototype,"mode",void 0),YS([fl(!0)],t.prototype,"allowEditOnDblClick",void 0),YS([fl(!0)],t.prototype,"showConfirmDialog",void 0),YS([fl(!1)],t.prototype,"showDeleteConfirmDialog",void 0),YS([fl()],t.prototype,"template",void 0),YS([fl()],t.prototype,"headerTemplate",void 0),YS([fl()],t.prototype,"footerTemplate",void 0),YS([fl("Top")],t.prototype,"newRowPosition",void 0),YS([fl({})],t.prototype,"dialog",void 0),YS([fl(!1)],t.prototype,"allowNextRowEdit",void 0),t}(zl),rw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WS(t,e),YS([fl("Spinner")],t.prototype,"indicatorType",void 0),t}(zl),sw=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.isPreventScrollEvent=!1,r.inViewIndexes=[],r.keyA=!1,r.frozenRightCount=0,r.freezeColumnRefresh=!0,r.rightcount=0,r.frozenLeftCount=0,r.leftcount=0,r.tablesCount=1,r.movableCount=0,r.movablecount=0,r.fixedcount=0,r.fixedCount=0,r.visibleFrozenLeft=0,r.visibleFrozenFixed=0,r.isPreparedFrozenColumns=!1,r.visibleFrozenRight=0,r.visibleMovable=0,r.frozenLeftColumns=[],r.frozenRightColumns=[],r.movableColumns=[],r.fixedColumns=[],r.stackedLeft=[],r.stackedRight=[],r.stackedFixed=[],r.stackedMovable=[],r.stackedarrayLeft=[],r.stackedarrayRight=[],r.stackedarrayFixed=[],r.stackedarrayMovable=[],r.media={},r.tableIndex=0,r.componentRefresh=Xl.prototype.refresh,r.isChangeDataSourceCall=!1,r.isVirtualAdaptive=!1,r.requireTemplateRef=!0,r.vRows=[],r.vcRows=[],r.vGroupOffsets={},r.rowUid=0,r.translateX=0,r.isManualRefresh=!1,r.isAutoFitColumns=!1,r.enableDeepCompare=!1,r.totalDataRecordsCount=0,r.disableSelectedRecords=[],r.partialSelectedRecords=[],r.islazyloadRequest=!1,r.lockcolPositionCount=0,r.prevPageMoving=!1,r.pageTemplateChange=!1,r.isAutoGen=!1,r.isAutoGenerateColumns=!1,r.mediaBindInstance={},r.commandDelIndex=void 0,r.asyncTimeOut=50,r.isExportGrid=!1,r.enableLogger=!0,r.needsID=!0,i.Inject(LS),Co("mergePersistData",r.mergePersistGridData,r),r}var i;return WS(t,e),i=t,t.prototype.getPersistData=function(){for(var e=["pageSettings","sortSettings","filterSettings","groupSettings","columns","searchSettings","selectedRowIndex","scrollPosition"],t={pageSettings:["template","pageSizes","enableQueryString","totalRecordsCount","pageCount"],filterSettings:["type","mode","showFilterBarStatus","immediateModeDelay","ignoreAccent"],groupSettings:["showDropArea","showToggleButton","showGroupedColumn","showUngroupButton","disablePageWiseAggregates","hideCaptionCount"],searchSettings:["fields","operator","ignoreCase"],sortSettings:[],columns:[],selectedRowIndex:[],scrollPosition:[]},i=0;i<e.length;i++)for(var n=this[e[parseInt(i.toString(),10)]],r=0,s=t[e[parseInt(i.toString(),10)]];r<s.length;r++){delete n[""+s[r]]}var o=this.pageSettings.template,a=Object.assign({template:void 0},this.pageSettings);this.setProperties({pageSettings:a},!0),this.isAngular&&delete this.groupSettings.properties.captionTemplate,this.pageTemplateChange=!ko(this.pagerTemplate);var l=this.addOnPersist(e);return a.template=o,this.setProperties({pageSettings:a},!0),l},t.prototype.requiredModules=function(){this.setFrozenCount(),this.enableInfiniteAggrgate();var e=[];return this.isDestroyed||(this.allowFiltering&&e.push({member:"filter",args:[this,this.filterSettings,this.serviceLocator]}),this.allowExcelExport&&e.push({member:"ExcelExport",args:[this,this.serviceLocator]}),this.allowPdfExport&&e.push({member:"PdfExport",args:[this]}),this.allowSorting&&e.push({member:"sort",args:[this,this.sortSettings,this.sortedColumns,this.serviceLocator]}),this.allowPaging&&e.push({member:"pager",args:[this,this.pageSettings]}),this.allowSelection&&e.push({member:"selection",args:[this,this.selectionSettings,this.serviceLocator]}),e.push({member:"resize",args:[this]}),this.allowReordering&&e.push({member:"reorder",args:[this]}),this.allowRowDragAndDrop&&e.push({member:"rowDragAndDrop",args:[this]}),this.allowGrouping&&e.push({member:"group",args:[this,this.groupSettings,this.sortedColumns,this.serviceLocator]}),this.aggregates.length&&e.push({member:"aggregate",args:[this,this.serviceLocator]}),this.isDetail()&&e.push({member:"detailRow",args:[this,this.serviceLocator]}),(this.toolbar||this.toolbarTemplate)&&e.push({member:"toolbar",args:[this,this.serviceLocator]}),(this.enableVirtualization||this.enableColumnVirtualization)&&e.push({member:"virtualscroll",args:[this,this.serviceLocator]}),(this.getFrozenColumns()||this.frozenRows||this.frozenRightCount||this.frozenLeftCount)&&e.push({member:"freeze",args:[this,this.serviceLocator]}),this.isCommandColumn(this.columns)&&e.push({member:"commandColumn",args:[this,this.serviceLocator]}),(this.editSettings.allowAdding||this.editSettings.allowDeleting||this.editSettings.allowEditing)&&e.push({member:"edit",args:[this,this.serviceLocator]}),this.extendRequiredModules(e)),e},t.prototype.extendRequiredModules=function(e){this.enableInfiniteScrolling&&e.push({member:"infiniteScroll",args:[this,this.serviceLocator]}),this.groupSettings.enableLazyLoading&&e.push({member:"lazyLoadGroup",args:[this,this.serviceLocator]}),this.contextMenuItems&&e.push({member:"contextMenu",args:[this,this.serviceLocator]}),this.showColumnMenu&&e.push({member:"columnMenu",args:[this,this.serviceLocator]}),this.showColumnChooser&&e.push({member:"columnChooser",args:[this,this.serviceLocator]}),this.isForeignKeyEnabled(this.columns)&&e.push({member:"foreignKey",args:[this,this.serviceLocator]}),this.enableLogger&&e.push({member:"logger",args:[this]})},t.prototype.preRender=function(){this.serviceLocator=new MS,this.initProperties(),this.initializeServices()},t.prototype.initProperties=function(){this.isInitial=!0,this.sortedColumns=[],this.inViewIndexes=[],this.mediaCol=[],this.isInitialLoad=!1,this.allowServerDataBinding=!1,this.ignoreCollectionWatch=!0,this.mergeCells={},this.isEdit=!1,this.checkAllRows="None",this.isCheckBoxSelection=!1,this.isPersistSelection=!1,this.componentRefresh=Xl.prototype.refresh,this.filterOperators={contains:"contains",endsWith:"endswith",equal:"equal",greaterThan:"greaterthan",greaterThanOrEqual:"greaterthanorequal",lessThan:"lessthan",lessThanOrEqual:"lessthanorequal",notEqual:"notequal",startsWith:"startswith",wildCard:"wildcard",isNull:"isnull",notNull:"notnull",like:"like"},this.defaultLocale={EmptyRecord:"No records to display",True:"true",False:"false",InvalidFilterMessage:"Invalid Filter Data",GroupDropArea:"Drag a column header here to group its column",UnGroup:"Click here to ungroup",UnGroupButton:"Click here to ungroup",GroupDisable:"Grouping is disabled for this column",FilterbarTitle:"'s filter bar cell",EmptyDataSourceError:"DataSource must not be empty at initial load since columns are generated from dataSource in AutoGenerate Column Grid",Add:"Add",Edit:"Edit",Cancel:"Cancel",Update:"Update",Delete:"Delete",Print:"Print",Pdfexport:"PDF Export",Excelexport:"Excel Export",Wordexport:"Word Export",Csvexport:"CSV Export",Search:"Search",Columnchooser:"Columns",Save:"Save",Item:"item",Items:"items",EditOperationAlert:"No records selected for edit operation",DeleteOperationAlert:"No records selected for delete operation",SaveButton:"Save",OKButton:"OK",CancelButton:"Cancel",EditFormTitle:"Details of ",AddFormTitle:"Add New Record",BatchSaveConfirm:"Are you sure you want to save changes?",BatchSaveLostChanges:"Unsaved changes will be lost. Are you sure you want to continue?",ConfirmDelete:"Are you sure you want to Delete Record?",CancelEdit:"Are you sure you want to Cancel the changes?",ChooseColumns:"Choose Column",SearchColumns:"search columns",Matchs:"No matches found",FilterButton:"Filter",ClearButton:"Clear",StartsWith:"Starts With",NotStartsWith:"Does Not Start With",Like:"Like",EndsWith:"Ends With",NotEndsWith:"Does Not End With",Contains:"Contains",NotContains:"Does Not Contain",IsNull:"Null",NotNull:"Not Null",IsEmpty:"Empty",IsNotEmpty:"Not Empty",Equal:"Equal",NotEqual:"Not Equal",LessThan:"Less Than",LessThanOrEqual:"Less Than Or Equal",GreaterThan:"Greater Than",GreaterThanOrEqual:"Greater Than Or Equal",ChooseDate:"Choose a Date",EnterValue:"Enter the value",Copy:"Copy",Group:"Group by this column",Ungroup:"Ungroup by this column",GroupButton:"Group button",UnGroupAria:"ungroup button",GroupSeperator:"Separator for the grouped columns",UnGroupIcon:"ungroup the grouped column ",GroupedSortIcon:"sort the grouped column ",GroupedDrag:"Drag the grouped column",GroupCaption:" is groupcaption cell",CheckBoxLabel:"checkbox",autoFitAll:"Autofit all columns",autoFit:"Autofit this column",AutoFitAll:"Autofit all columns",AutoFit:"Autofit this column",Export:"Export",FirstPage:"First Page",LastPage:"Last Page",PreviousPage:"Previous Page",NextPage:"Next Page",SortAscending:"Sort Ascending",SortDescending:"Sort Descending",EditRecord:"Edit Record",DeleteRecord:"Delete Record",FilterMenu:"Filter",SelectAll:"Select All",AddCurrentSelection:"Add current selection to filter",Blanks:"Blanks",FilterTrue:"True",FilterFalse:"False",NoResult:"No matches found",ClearFilter:"Clear Filter",Clear:"Clear",NumberFilter:"Number Filters",TextFilter:"Text Filters",DateFilter:"Date Filters",DateTimeFilter:"DateTime Filters",MatchCase:"Match Case",Between:"Between",CustomFilter:"Custom Filter",CustomFilterPlaceHolder:"Enter the value",CustomFilterDatePlaceHolder:"Choose a date",AND:"AND",OR:"OR",ShowRowsWhere:"Show rows where:",FilterMenuDialogARIA:"Filter menu dialog",ExcelFilterDialogARIA:"Excel filter dialog",DialogEditARIA:"Edit dialog",ColumnChooserDialogARIA:"Column chooser",ColumnMenuDialogARIA:"Column menu dialog",CustomFilterDialogARIA:"Customer filter dialog",SortAtoZ:"Sort A to Z",SortZtoA:"Sort Z to A",SortByOldest:"Sort by Oldest",SortByNewest:"Sort by Newest",SortSmallestToLargest:"Sort Smallest to Largest",SortLargestToSmallest:"Sort Largest to Smallest",Sort:"Sort",FilterDescription:"Press Alt Down to open filter Menu",SortDescription:"Press Enter to sort",ColumnMenuDescription:"Press Alt Down to open Column Menu",GroupDescription:"Press Ctrl space to group",ColumnHeader:" column header ",TemplateCell:" is template cell",CommandColumnAria:"is Command column column header ",DialogEdit:"Dialog edit",ClipBoard:"clipboard",AscendingText:"Ascending",DescendingText:"Descending",NoneText:"None",Expanded:"Expanded",Collapsed:"Collapsed"},this.keyConfigs={downArrow:"downarrow",upArrow:"uparrow",rightArrow:"rightarrow",leftArrow:"leftarrow",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftRight:"shift+rightarrow",shiftLeft:"shift+leftarrow",home:"home",end:"end",escape:"escape",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",pageUp:"pageup",pageDown:"pagedown",ctrlAltPageUp:"ctrl+alt+pageup",ctrlAltPageDown:"ctrl+alt+pagedown",altPageUp:"alt+pageup",altPageDown:"alt+pagedown",altDownArrow:"alt+downarrow",altUpArrow:"alt+uparrow",ctrlDownArrow:"ctrl+downarrow",ctrlUpArrow:"ctrl+uparrow",ctrlPlusA:"ctrl+A",ctrlPlusP:"ctrl+P",insert:"insert",delete:"delete",f2:"f2",enter:"enter",ctrlEnter:"ctrl+enter",shiftEnter:"shift+enter",tab:"tab",shiftTab:"shift+tab",space:"space",ctrlPlusC:"ctrl+C",ctrlShiftPlusH:"ctrl+shift+H",ctrlSpace:"ctrl+space",ctrlLeftArrow:"ctrl+leftarrow",ctrlRightArrow:"ctrl+rightarrow"}},t.prototype.render=function(){if(this.log(["module_missing","promise_enabled","locale_missing","check_datasource_columns"]),this.ariaService.setOptions(this.element,{datarole:"grid"}),xc({target:this.element,cssClass:this.cssClass?this.cssClass:null},this.createElement),this.renderModule=new yS(this,this.serviceLocator),this.searchModule=new OS(this),this.scrollModule=new RS(this),this.notify(Vg,{}),!0!==this.getDataModule().dataManager.dataSource.offline&&void 0!==this.getDataModule().dataManager.dataSource.url||(this.isVirtualAdaptive=!0),this.isReact){var e={requireTemplateRef:this.requireTemplateRef};this.trigger(fg,e),e.requireTemplateRef||(this.requireTemplateRef=e.requireTemplateRef)}else this.trigger(fg);Gy(this.columns,this.enableColumnVirtualization,this),this.enableColumnVirtualization&&this.isChangeDataSourceCall&&this.columnModel&&(this.columnModel=[],this.updateColumnModel(this.columns)),this.isPreparedFrozenColumns=!0,this.enablePersistence&&this.notify(Fm,{}),this.getMediaColumns(),qy(this.columns),this.checkLockColumns(this.columns),this.getColumns(),this.processModel(),this.gridRender(),this.wireEvents(),this.addListener(),this.updateDefaultCursor(),this.updateStackedFilter(),"Spinner"===this.loadingIndicator.indicatorType&&this.showSpinner(),this.notify(Ug,{}),"Shimmer"===this.loadingIndicator.indicatorType&&this.refreshMaskRow(),this.refreshing&&this.trigger("created")},t.prototype.showSpinner=function(){this.isExportGrid||Vc(this.element)},t.prototype.hideSpinner=function(){this.isExportGrid||Hc(this.element)},t.prototype.showMaskRow=function(e,t){if(!ko(this.headerModule)&&!ko(this.contentModule)){var i=this.getHeaderContent().firstChild,n=this.getContent().firstChild,r=this.getFooterContent();if(t){var s=t.querySelector(".e-checkboxlist"),o=Math.floor(s.getBoundingClientRect().height/this.getRowHeight()),a='<div class="e-ftrchk e-mask-ftrchk" style="width: 100%;"><div class="e-checkbox-wrapper" style="width: 100%;"><input class="e-chk-hidden">'+this.getShimmerTemplate()+this.getShimmerTemplate()+"</div></div>";s.innerHTML="";for(var l=0;l<o;l++){s.innerHTML+=a;var h=[].slice.call(s.querySelectorAll(".e-mask:not(.e-mask-checkbox-filter-intent):not(.e-mask-checkbox-filter-span-intent)"));h[0].classList.add("e-mask-checkbox-filter-intent"),h[1].classList.add("e-mask-checkbox-filter-span-intent")}}else{if((!this.enableRtl&&!this.getHeaderContent().style.paddingRight||this.enableRtl&&!this.getHeaderContent().style.paddingLeft)&&(n.style.overflowY="hidden"),!this.isInitialLoad&&!this.getColumns().length){var c=n.getBoundingClientRect().height,u=0===c?this.allowPaging?this.pageSettings.pageSize*this.getRowHeight():window.innerHeight:c,p=Math.ceil(u/this.getRowHeight());return"Vertical"!==this.rowRenderingMode&&(this.headerMaskTable=this.createEmptyMaskTable(i,1)),void(this.contentMaskTable=this.createEmptyMaskTable(n,p))}if(this.maskRowContentScroll=!(!this.enableVirtualization&&!this.enableColumnVirtualization||!e),!this.contentMaskTable){var d=n;(this.enableVirtualization||this.enableColumnVirtualization)&&(d=d.querySelector(".e-virtualtable")),ko(d.querySelector("tbody"))||(this.contentMaskTable=this.createMaskTable(d,this.getContentMaskColumns(),e))}if(!this.headerMaskTable&&(this.isFrozenGrid()||this.enableColumnVirtualization&&"X"===e)){d=i;this.enableColumnVirtualization&&"X"===e&&(d=d.querySelector(".e-virtualtable")),this.headerMaskTable=this.createMaskTable(d,this.getContentMaskColumns(),e)}if(r&&r.querySelector(".e-summaryrow")){var f=r.firstChild;if(!this.footerContentMaskTable){var g=f;this.footerContentMaskTable=this.createMaskTable(g)}}this.enableVirtualization&&e||Oa.add(n,"scroll",this.translateMaskRow,this)}}},t.prototype.getContentMaskColumns=function(){return this.getColumns()},t.prototype.createEmptyMaskTable=function(e,t){var i=this.createElement("table",{className:"e-table e-masked-table"}),n=this.createElement("tbody",{className:"e-masked-tbody"}),r=this.createElement("tr",{className:"e-masked-row e-row",attrs:{style:"height: "+this.getRowHeight()+"px;"}}),s=this.createElement("td",{className:"e-masked-cell e-rowcell"});s.innerHTML=this.getShimmerTemplate(),r.appendChild(s);for(var o=0;o<t;o++)n.appendChild(r.cloneNode(!0));return i.appendChild(n),e.appendChild(i),i},t.prototype.createMaskTable=function(e,t,i){var n=e,r=!!Za(n,".e-gridheader"),s=!!Za(n,".e-gridcontent"),o=!!Za(n,".e-gridfooter"),a=this.getContent().firstChild,l=a.scrollHeight,h=n.querySelector("table"),c=h.cloneNode();c.removeAttribute("role"),c.removeAttribute("id"),c.removeAttribute("aria-multiselectable"),c.removeAttribute("aria-colcount"),c.removeAttribute("aria-rowcount"),c.style.position="absolute",c.style.zIndex="5",c.style.width=h.getBoundingClientRect().width+"px",!r||this.enableColumnVirtualization&&"X"===i||(c.style.transform="translate(0px,"+h.querySelector("thead").getBoundingClientRect().height+"px)"),c.setAttribute("class","e-table e-masked-table");var u=h.querySelector("colgroup").cloneNode(!0);if(u.removeAttribute("id"),u.setAttribute("class","e-masked-colgroup"),c.appendChild(u),r&&this.enableColumnVirtualization&&"X"===i){var p=this.createMaskRow(u,t);if(this.isFrozenGrid())for(var d=[].slice.call(p.querySelectorAll(".e-rowcell")),f=0;f<d.length;f++)f<this.frozenLeftCount?(this.frozenLeftCount-1===f&&d[parseInt(f.toString(),10)].classList.add("e-freezeleftborder"),d[parseInt(f.toString(),10)].classList.add("e-leftfreeze"),d[parseInt(f.toString(),10)].setAttribute("data-colindex",f.toString()),d[parseInt(f.toString(),10)].style.left=t[parseInt(f.toString(),10)].valueX-this.translateX+"px"):d.length-this.frozenRightCount<=f&&t[parseInt(f.toString(),10)]&&(d.length-this.frozenRightCount===f&&d[parseInt(f.toString(),10)].classList.add("e-freezerightborder"),d[parseInt(f.toString(),10)].classList.add("e-rightfreeze"),d[parseInt(f.toString(),10)].setAttribute("data-colindex",f.toString()),d[parseInt(f.toString(),10)].style.right=this.translateX+t[parseInt(f.toString(),10)].valueX+"px");var g=h.querySelector("thead"),m=[].slice.call(g.querySelectorAll("tr")),y=g.cloneNode();y.removeAttribute("role"),y.setAttribute("class","e-masked-thead");var v=m.length;for(f=0;f<v;f++)y.appendChild(p.cloneNode(!0)),y.childNodes[parseInt(f.toString(),10)].style.height=m[parseInt(f.toString(),10)].getBoundingClientRect().height+"px";c.appendChild(y)}var b=h.querySelector("tbody").cloneNode();b.removeAttribute("role"),b.setAttribute("class","e-masked-tbody");var M=h.querySelector("tbody");if(s||r){var S=a;v=Math.ceil(S.getBoundingClientRect().height/this.getRowHeight());if(M.querySelector(".e-emptyrow")||!M.childNodes.length||s&&this.childGrid){var w=(p=this.createMaskRow(u,t)).cloneNode(!0);w.classList.add("e-altrow");for(f=0;f<v;f++){b.appendChild((f+1)%2===0?w.cloneNode(!0):p.cloneNode(!0))}}else{m=[].slice.call(M.querySelectorAll('tr:not([style*="display:none"]):not([style*="display: none"])'));var _=M.querySelector(".e-addedrow, .e-editedrow"),I=void 0;if(_){if(I=m.indexOf(_),this.isFrozenGrid()&&this.enableColumnVirtualization)for(d=[].slice.call(m[I+1].querySelectorAll(".e-rowcell")),f=0;f<d.length;f++)f<this.frozenLeftCount?(d[parseInt(f.toString(),10)].classList.add("e-leftfreeze"),d[parseInt(f.toString(),10)].setAttribute("data-colindex",f.toString()),d[parseInt(f.toString(),10)].style.left=t[parseInt(f.toString(),10)].valueX-this.translateX+"px"):d.length-this.frozenRightCount<=f&&t[parseInt(f.toString(),10)]&&(d[parseInt(f.toString(),10)].classList.add("e-rightfreeze"),d[parseInt(f.toString(),10)].setAttribute("data-colindex",f.toString()),d[parseInt(f.toString(),10)].style.right=this.translateX+t[parseInt(f.toString(),10)].valueX+"px");_.classList.contains("e-addedrow")?m.splice(I,2):m.splice(I,1)}v=(this.enableVirtualization||this.enableColumnVirtualization)&&i?m.length:v<=m.length?v:m.length;for(f=0;f<v;f++)b.appendChild(this.applyMaskRow(m[parseInt(f.toString(),10)].cloneNode(!0),m[parseInt(f.toString(),10)].getBoundingClientRect().height));if(_&&_.classList.contains("e-editedrow")&&I<v){var N=b.childNodes[parseInt(I.toString(),10)];N.style.height=this.getRowHeight()+"px",N.classList.add("e-row"),_.classList.contains("e-altrow")&&N.classList.add("e-altrow")}}}if(c.appendChild(b),o){var C=h.querySelector("tfoot"),x=C.cloneNode();x.setAttribute("class","e-masked-tfoot");for(m=[].slice.call(C.querySelectorAll("tr")),f=0;f<m.length;f++)x.appendChild(this.applyMaskRow(m[parseInt(f.toString(),10)].cloneNode(!0),m[parseInt(f.toString(),10)].getBoundingClientRect().height));c.appendChild(x)}if(n.insertBefore(c,n.firstChild),s&&(!this.enableVirtualization||!i)){var D=l-c.getBoundingClientRect().height;D=D<0?0:D;var T=a.scrollTop<=D?a.scrollTop:D;this.enableVirtualization&&(T-=Ov(Za(n,".e-virtualtable")).height),c.style.transform="translate(0px,"+T+"px)"}return c},t.prototype.applyMaskRow=function(e,t){var i=e;i.removeAttribute("role"),i.removeAttribute("aria-rowindex"),i.removeAttribute("data-rowindex"),i.removeAttribute("data-uid"),i.classList.add("e-masked-row"),i.style.height=t+"px";for(var n=[].slice.call(i.childNodes),r=0;r<n.length;r++){var s=n[parseInt(r.toString(),10)],o=s.firstChild&&s.firstChild.classList&&s.firstChild.classList.contains("e-checkbox-wrapper");s.removeAttribute("role"),s.removeAttribute("tabindex"),s.removeAttribute("aria-label"),this.enableColumnVirtualization&&s.classList.contains("e-fixedfreeze")&&(Ba([s],["e-fixedfreeze","e-freezeleftborder","e-freezerightborder"]),Fa([s],["e-unfreeze"])),this.enableColumnVirtualization&&(s.classList.contains("e-leftfreeze")||s.classList.contains("e-rightfreeze"))||s.removeAttribute("data-colindex"),s.removeAttribute("aria-colindex"),s.removeAttribute("index"),s.removeAttribute("ej-mappingname"),s.removeAttribute("ej-mappingvalue"),s.removeAttribute("e-mappinguid"),s.removeAttribute("aria-expanded"),s.classList.add("e-masked-cell"),s.innerHTML=this.getShimmerTemplate(),s.classList.contains("e-recordplusexpand")||s.classList.contains("e-recordpluscollapse")?s.firstChild.classList.add("e-mask-group-intent"):s.classList.contains("e-gridchkbox")||o?s.firstChild.classList.add("e-mask-checkbox-intent"):s.classList.contains("e-rowdragdrop")?s.firstChild.classList.add("e-mask-drag-intent"):s.classList.contains("e-indentcell")&&(s.innerHTML="")}return i},t.prototype.createMaskRow=function(e,t){var i=e,n=t,r=this.createElement("tr",{className:"e-masked-row e-row"});"Vertical"!==this.rowRenderingMode&&(r.style.height=this.getRowHeight()+"px");for(var s=this.createElement("td",{className:"e-masked-cell e-rowcell"}),o=0,a=0;o<i.childNodes.length;o++){var l=i.childNodes[parseInt(o.toString(),10)],h=s.cloneNode();h.innerHTML=this.getShimmerTemplate(),l.classList.contains("e-group-intent")||l.classList.contains("e-detail-intent")||l.classList.contains("e-drag-intent")?l.classList.contains("e-group-intent")?h.firstChild.classList.add("e-mask-group-intent"):l.classList.contains("e-detail-intent")?h.firstChild.classList.add("e-mask-detail-intent"):l.classList.contains("e-drag-intent")&&h.firstChild.classList.add("e-mask-drag-intent"):("Vertical"===this.rowRenderingMode&&n[parseInt(a.toString(),10)]&&h.setAttribute("data-cell",n[parseInt(a.toString(),10)].headerText?n[parseInt(a.toString(),10)].headerText:n[parseInt(a.toString(),10)].field),"none"===l.style.display?h.classList.add("e-hide"):(h.style.textAlign=n[parseInt(a.toString(),10)]&&n[parseInt(a.toString(),10)].textAlign?n[parseInt(a.toString(),10)].textAlign.toLowerCase():this.enableRtl?"right":"left",n[parseInt(a.toString(),10)]&&("checkbox"===n[parseInt(a.toString(),10)].type||n[parseInt(a.toString(),10)].displayAsCheckBox)&&h.firstChild.classList.add("e-mask-checkbox-intent")),a++),r.appendChild(h)}return r},t.prototype.getShimmerTemplate=function(){return this.maskRowContentScroll?'<span class="e-mask e-skeleton e-skeleton-text"></span>':'<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave"></span>'},t.prototype.addShimmerEffect=function(){this.maskRowContentScroll=!1;for(var e=[].slice.call(this.element.querySelectorAll(".e-mask:not(.e-shimmer-wave)")),t=0;t<e.length;t++)e[parseInt(t.toString(),10)]&&e[parseInt(t.toString(),10)].classList.add("e-shimmer-wave")},t.prototype.translateMaskRow=function(e){for(var t=e.target,i=t.querySelectorAll(".e-masked-table"),n=0;n<i.length;n++){var r=i[parseInt(n.toString(),10)];if(r){var s=t.scrollHeight-r.getBoundingClientRect().height;s=s<0?0:s;var o=t.scrollTop<=s?t.scrollTop:s;this.enableVirtualization&&(o-=Ov(Za(r,".e-virtualtable")).height),r.style.transform="translate(0px,"+o+"px)"}}},t.prototype.removeMaskRow=function(){if(!ko(this.contentModule)){var e=this.getContent().firstChild;Oa.remove(e,"scroll",this.translateMaskRow)}for(var t=[this.headerMaskTable,this.contentMaskTable,this.footerContentMaskTable],i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];n&&qa(n)}this.headerMaskTable=null,this.contentMaskTable=null,this.footerContentMaskTable=null},t.prototype.refreshMaskRow=function(){var e=this.getContent().firstChild;if((this.isInitialLoad||this.getColumns().length)&&this.contentMaskTable&&e.querySelector(".e-masked-table")){var t=e;this.enableVirtualization&&(t=t.querySelector(".e-virtualtable")),this.refreshMaskRowColgroupWidth(t)}},t.prototype.refreshMaskRowColgroupWidth=function(e){var t=e.querySelector("table:not(.e-masked-table)"),i=t.querySelector(Ey).cloneNode(!0),n=e.querySelector(".e-masked-table");i.removeAttribute("id"),i.setAttribute("class","e-masked-colgroup");for(var r=0;r<i.childNodes.length;r++)i.childNodes[parseInt(r.toString(),10)].removeAttribute("class");qa(n.querySelector(".e-masked-colgroup")),n.insertBefore(i,n.firstChild),n.style.width=t.getBoundingClientRect().width+"px"},t.prototype.updateStackedFilter=function(){this.allowFiltering&&"FilterBar"===this.filterSettings.type&&this.getHeaderContent().getElementsByClassName("e-stackedheadercell").length?this.getHeaderContent().classList.add("e-stackedfilter"):this.getHeaderContent().classList.remove("e-stackedfilter")},t.prototype.getMediaColumns=function(){if(!this.enableColumnVirtualization){var e=this.getColumns();if(this.getShowHideService=this.serviceLocator.getService("showHideService"),!ko(e))for(var t=0;t<e.length;t++)ko(e[parseInt(t.toString(),10)].hideAtMedia)||!ko(e[parseInt(t.toString(),10)].visible)&&!e[parseInt(t.toString(),10)].visible||this.pushMediaColumn(e[parseInt(t.toString(),10)],t)}this.updateFrozenColumnsWidth()},t.prototype.pushMediaColumn=function(e,t){this.mediaCol.push(e),this.media[e.uid]=window.matchMedia(e.hideAtMedia),this.mediaQueryUpdate(t,this.media[e.uid]),this.mediaBindInstance[parseInt(t.toString(),10)]=this.mediaQueryUpdate.bind(this,t),this.media[e.uid].addListener(this.mediaBindInstance[parseInt(t.toString(),10)])},t.prototype.updateMediaColumns=function(e){if(!this.enableColumnVirtualization){for(var t=this.getColumnIndexByUid(e.uid),i=0;i<this.mediaCol.length;i++)if(e.uid===this.mediaCol[parseInt(i.toString(),10)].uid)return void this.mediaCol.splice(i,1);this.pushMediaColumn(e,t)}},t.prototype.mediaQueryUpdate=function(e,t){var i=this.getColumns()[parseInt(e.toString(),10)];this.mediaCol.some((function(e){return e.uid===i.uid}))&&(i.visible=t.matches,this.isInitialLoad&&(this.invokedFromMedia=!0,i.visible?this.showHider.show(i.headerText,"headerText"):this.showHider.hide(i.headerText,"headerText")))},t.prototype.refreshMediaCol=function(){this.isInitialLoad=!0;var e=this.element.querySelector("."+fy);this.aggregates.length&&this.element.scrollHeight>parseInt(this.height.toString(),10)&&e&&Fa([e],["e-footerpadding"]);var t=this.getColumns().filter((function(e){return"checkbox"===e.type}));(0===t.length||t.length&&"ResetOnRowClick"===this.selectionSettings.checkboxMode)&&(this.isCheckBoxSelection=!1),"Vertical"===this.rowRenderingMode&&this.enableHover&&(this.setProperties({enableAdaptiveUI:!0,enableHover:!1},!0),Ba([this.element],"e-gridhover")),this.enableAdaptiveUI&&this.scrollModule&&this.scrollModule.refresh(),this.isFrozenGrid()&&this.isAutoGenerateColumns&&(this.widthService.setWidthToColumns(),this.isAutoGenerateColumns=!1)},t.prototype.removeMediaListener=function(){for(var e=0;e<this.mediaCol.length;e++)this.media[this.mediaCol[parseInt(e.toString(),10)].uid].removeListener(this.mediaBindInstance[this.mediaCol[parseInt(e.toString(),10)].index])},t.prototype.eventInitializer=function(){},t.prototype.destroy=function(){var t=this.element;if(t){var i=!(!t.querySelector("."+py)||!t.querySelector("."+dy));i&&this.unwireEvents(),this.removeListener(),this.removeMediaListener(),this.notify(sm,{}),this.destroyDependentModules(),(this.isReact||this.isVue)&&this.destroyTemplate(["template"]),i&&e.prototype.destroy.call(this),this.toolTipObj.destroy(),this.isReact&&!La.isIE&&(this.element.innerHTML="");for(var n=["renderModule","headerModule","contentModule","valueFormatterService","serviceLocator","ariaService","keyboardModule","widthService","searchModule","showHider","scrollModule","printModule","clipboardModule","focusModule"],r=0;r<n.length;r++)this[n[parseInt(r.toString(),10)]]&&(this[n[parseInt(r.toString(),10)]]=null);this.element.innerHTML="",el(this.element,[],["e-rtl","e-gridhover","e-responsive","e-default","e-device","e-grid-min-height"])}},t.prototype.destroyDependentModules=function(){var e=this.element;e&&(e.querySelector("."+py)||e.querySelector("."+dy))&&(this.scrollModule.destroy(),this.keyboardModule.destroy(),this.focusModule.destroy(),this.clipboardModule.destroy(),this.printModule.destroy())},t.prototype.getModuleName=function(){return"grid"},t.prototype.enableBoxSelection=function(){this.enableAutoFill?(this.selectionSettings.cellSelectionMode="BoxWithBorder",this.element.classList.add("e-afenabled")):this.element.classList.remove("e-afenabled")},t.prototype.setCSSClass=function(e){this.cssClass&&Fa([this.element],this.cssClass.split(" ")),e&&Ba([this.element],e.split(" "))},t.prototype.onPropertyChanged=function(e,t){var i,n=!1,r=!1,s=!1,o=null,a=null;if(!this.isDestroyed){this.log("module_missing"),this.isEllipsisTooltip()&&this.toolTipObj.close();var l=Object.keys(e);l.indexOf("columns")>-1&&(this.enableColumnVirtualization&&(this.columnModel=[]),this.updateColumnObject(),r=!0);for(var h=0,c=l;h<c.length;h++){var u=c[h];switch(u){case"allowPaging":this.notify(Yg,{module:"pager",enable:this.allowPaging}),n=!0;break;case"pageSettings":if(this.pageTemplateChange){this.pageTemplateChange=!1,this.notify(qg,{module:"pager",properties:e.pageSettings});break}this.notify(qg,{module:"pager",properties:e.pageSettings}),(ko(e.pageSettings.currentPage)&&ko(e.pageSettings.pageSize)&&ko(e.pageSettings.totalRecordsCount)||!ko(t.pageSettings)&&e.pageSettings.currentPage!==t.pageSettings.currentPage&&!this.enableColumnVirtualization&&!this.enableVirtualization&&this.pageSettings.totalRecordsCount<=this.pageSettings.pageSize)&&(n=!0);break;case"allowSorting":this.notify(Yg,{module:"sort",enable:this.allowSorting}),n=!0,i=!0;break;case"allowFiltering":this.updateStackedFilter(),this.notify(Yg,{module:"filter",enable:this.allowFiltering}),n=!0,"FilterBar"!==this.filterSettings.type&&this.refreshHeader();break;case"height":case"width":this.notify(Yg,{module:"scroll",properties:{width:e.width,height:e.height}}),this.allowPaging&&this.pagerModule.refresh();break;case"allowReordering":this.headerModule.refreshUI(),i=!0;break;case"allowRowDragAndDrop":this.notify(Yg,{module:"rowDragAndDrop",enable:this.allowRowDragAndDrop}),this.renderModule.refresh(),this.headerModule.refreshUI();break;case"allowSelection":this.notify(Yg,{module:"selection",enable:this.allowSelection});break;case"cssClass":this.setCSSClass(t.cssClass);break;case"enableAutoFill":this.selectionModule&&(this.enableBoxSelection(),this.selectionModule.updateAutoFillPosition());break;case"rowTemplate":this.rowTemplateFn=Wy(this.rowTemplate),n=!0;break;case"detailTemplate":this.detailTemplateFn=Wy(this.detailTemplate),n=!0;break;case"allowGrouping":this.notify(Yg,{module:"group",enable:this.allowGrouping}),this.headerModule.refreshUI(),n=!0,i=!0;break;case"enableInfiniteScrolling":case"childGrid":if(n=!0,a=(o=this.parentDetails?document.querySelector("#"+this.parentDetails.parentID):null)?o.ej2_instances[0]:null,this.childGrid&&a&&ko(a.childGrid.childGrid)){var p=Object.assign({},a.childGrid,{childGrid:e.childGrid});for(a.setProperties({childGrid:p},!0);!ko(a.parentDetails);){var d=document.querySelector("#"+a.parentDetails.parentID),f=d?d.ej2_instances[0]:null;if(f){var g=Object.assign({},f.childGrid);g.childGrid=a.childGrid,f.setProperties({childGrid:g},!0)}a=f}}this.headerModule.refreshUI();break;case"toolbar":this.notify(Yg,{module:"toolbar"});break;case"groupSettings":this.notify(qg,{module:"group",properties:e.groupSettings,oldProperties:t.groupSettings});break;case"aggregates":!this.aggregates.length&&this.allowGrouping&&this.groupSettings.columns.length&&(n=!0),this.notify(Yg,{module:"aggregate",properties:e});break;case"frozenColumns":case"frozenRows":case"enableVirtualization":case"enableColumnVirtualization":case"currencyCode":case"locale":this.log("frozen_rows_columns"),s=!0,r=!0;break;case"query":this.getDataModule().isQueryInvokedFromData||(n=!0),this.getDataModule().isQueryInvokedFromData=!1;break;case"autoFit":this.autoFit?this.preventAdjustColumns():this.restoreAdjustColumns();break;default:this.extendedPropertyChange(u,e,r)}}i&&this.updateDefaultCursor(),r?s||this.getFrozenColumns()||this.frozenRows?this.freezeRefresh():this.refresh():n&&(this.notify(Gg,{requestType:"refresh"}),n=!1,this.maintainSelection(e.selectedRowIndex))}},t.prototype.extendedPropertyChange=function(e,t,i){switch(e){case"enableRtl":this.updateRTL(),this.allowPaging&&(this.element.querySelector(".e-gridpager").ej2_instances[0].enableRtl=t.enableRtl,this.element.querySelector(".e-gridpager").ej2_instances[0].dataBind()),"auto"!==this.height&&(this.scrollModule.removePadding(!t.enableRtl),this.scrollModule.setPadding()),this.toolbar&&this.toolbarModule&&(this.toolbarModule.getToolbar().ej2_instances[0].enableRtl=t.enableRtl,this.toolbarModule.getToolbar().ej2_instances[0].dataBind()),this.contextMenuItems&&this.contextMenuModule&&(this.contextMenuModule.getContextMenu().ej2_instances[0].enableRtl=t.enableRtl,this.contextMenuModule.getContextMenu().ej2_instances[0].dataBind()),this.showColumnMenu&&this.columnMenuModule&&(this.columnMenuModule.getColumnMenu().ej2_instances[0].enableRtl=t.enableRtl,this.columnMenuModule.getColumnMenu().ej2_instances[0].dataBind()),"FilterBar"===this.filterSettings.type&&this.filterSettings.showFilterBarOperator&&this.refreshHeader(),this.notify("rtl-updated",{});break;case"enableAltRow":this.renderModule.refresh();break;case"allowResizing":this.headerModule.refreshUI(),this.updateResizeLines();break;case"rowHeight":this.rowHeight?Fa([this.element],"e-grid-min-height"):Ba([this.element],"e-grid-min-height"),this.renderModule.refresh(),this.headerModule.refreshUI();break;case"gridLines":this.updateGridLines();break;case"showColumnMenu":this.headerModule.refreshUI(),this.notify(Yg,{module:"columnMenu",enable:!0});break;case"columnMenuItems":this.notify(Yg,{module:"columnMenu",enable:this.columnMenuItems});break;case"contextMenuItems":this.notify(Yg,{module:"contextMenu",enable:this.contextMenuItems});break;case"showColumnChooser":this.notify(Yg,{module:"columnChooser",enable:this.showColumnChooser});break;case"filterSettings":this.updateStackedFilter(),this.notify(qg,{module:"filter",properties:t.filterSettings});break;case"searchSettings":this.notify(qg,{module:"search",properties:t.searchSettings});break;case"sortSettings":this.notify(qg,{module:"sort"});break;case"selectionSettings":this.notify(qg,{module:"selection",properties:t.selectionSettings});break;case"editSettings":this.notify(qg,{module:"edit",properties:t.editSettings});break;case"allowTextWrap":case"textWrapSettings":this.allowTextWrap?this.applyTextWrap():this.removeTextWrap(),this.notify(wm,{case:"textwrap",isModeChg:"textWrapSettings"===e});break;case"dataSource":this.allowSelection&&this.isPersistSelection&&this.clearSelection();var n=this.getDataModule().getState();if(Object.getPrototypeOf(t).deepWatch)for(var r=this.getPrimaryKeyFieldNames()[0],s=0,o=Object.keys(t.dataSource);s<o.length;s++)this.setRowData(No(r,this.dataSource[o[parseInt(s.toString(),10)]]),this.dataSource[o[parseInt(s.toString(),10)]]);else if(n.isPending){var a=ko(this.dataSource)?[]:this.dataSource.result,l=n.group||[];for(s=0;s<l.length;s++)a=bp.group(a,l[parseInt(s.toString(),10)],n.aggregates||[]);this.dataSource={result:a,count:this.dataSource.count,aggregates:this.dataSource.aggregates},this.getDataModule().setState({}),n.resolver(this.dataSource)}else this.getDataModule().setState({isDataChanged:!1}),this.notify(pm,{}),i||(this.renderModule.refresh(),this.isCheckBoxSelection&&this.notify(Km,{}));this.scrollRefresh();break;case"enableHover":(t.enableHover?Fa:Ba)([this.element],"e-gridhover");break;case"selectedRowIndex":this.isSelectedRowIndexUpdating||this.selectRow(t.selectedRowIndex),this.isSelectedRowIndexUpdating=!1;break;case"resizeSettings":this.widthService.setWidthToTable();break;case"enableAdaptiveUI":this.notify(iy,{});break;case"rowRenderingMode":this.enableVerticalRendering(),this.notify(ry,{}),this.refresh();break;case"enableStickyHeader":this.scrollModule.addStickyListener(t.enableStickyHeader)}},t.prototype.maintainSelection=function(e){var t=this;if(-1!==e){var i=function(){t.selectRow(e),t.off(Wg,i)};this.on(Wg,i,this)}},t.prototype.setProperties=function(t,i){e.prototype.setProperties.call(this,t,i);t.filterSettings&&this.filterModule&&i&&this.filterModule.refreshFilter()},t.prototype.getTablesCount=function(){return this.tablesCount},t.prototype.updateDefaultCursor=function(){for(var e=[].slice.call(this.getHeaderContent().querySelectorAll(".e-headercell:not(.e-stackedheadercell)")),t=[].slice.call(this.getHeaderContent().getElementsByClassName("e-stackedheadercell")),i=this.getColumns(),n=0;n<e.length;n++){var r=e[parseInt(n.toString(),10)];(this.allowGrouping||this.allowReordering||this.allowSorting)&&(i[parseInt(n.toString(),10)].allowReordering&&i[parseInt(n.toString(),10)].allowSorting&&i[parseInt(n.toString(),10)].allowGrouping?r.classList.add("e-mousepointer"):r.classList.add("e-defaultcursor"))}for(var s=0;s<t.length;s++)this.allowReordering&&t[parseInt(s.toString(),10)].classList.add("e-mousepointer")},t.prototype.updateColumnModel=function(e,t){for(var i=0,n=e.length;i<n;i++)e[parseInt(i.toString(),10)].columns?this.updateColumnModel(e[parseInt(i.toString(),10)].columns,!0):this.columnModel.push(e[parseInt(i.toString(),10)]);!ko(t)&&t||this.updateLockableColumns()},t.prototype.getFrozenLeftCount=function(){return this.getFrozenColumns()||this.getFrozenLeftColumnsCount()},t.prototype.isFrozenGrid=function(){return 0!==this.getFrozenColumns()||0!==this.frozenLeftColumns.length||0!==this.frozenRightColumns.length||0!==this.fixedColumns.length},t.prototype.getFrozenMode=function(){return this.frozenName},t.prototype.updateLockableColumns=function(){for(var e=this.columnModel,t=0,i=0,n=this.getFrozenColumns(),r=0;r<e.length;r++)e[parseInt(r.toString(),10)].lockColumn&&(r<n?(e.splice(t,0,e.splice(r,1)[0]),t++):(e.splice(n+i,0,e.splice(r,1)[0]),i++))},t.prototype.checkLockColumns=function(e){for(var t=0;t<e.length;t++)e[parseInt(t.toString(),10)].columns?this.checkLockColumns(e[parseInt(t.toString(),10)].columns):e[parseInt(t.toString(),10)].lockColumn&&this.lockcolPositionCount++},t.prototype.leftrightColumnWidth=function(e){var t="left"===e?this.getFrozenLeftColumns():"right"===e?this.getFrozenRightColumns():[],i=0;return t.filter((function(e){e.visible&&(i+=parseInt(e.width.toString(),10))})),i},t.prototype.getColumns=function(e){var t=this,i=this.inViewIndexes.map((function(e){return e-t.groupSettings.columns.length})).filter((function(e){return e>-1})),n=i.length;(!this.enableColumnVirtualization||ko(this.columnModel)||0===this.columnModel.length||e)&&(this.columnModel=[],this.updateColumnModel(this.columns));var r=0===n?this.columnModel:this.columnModel.slice(i[0],i[n-1]+1),s=[],o=[],a=[],l=this.enableColumnVirtualization&&this.isPreparedFrozenColumns&&0===n;l&&(this.frozenRightColumns=[],this.frozenLeftColumns=[]);for(var h=0;h<r.length;h++)"Left"===r[parseInt(h.toString(),10)].freeze||r[parseInt(h.toString(),10)].isFrozen?(s.push(r[parseInt(h.toString(),10)]),l&&this.frozenLeftColumns.push(r[parseInt(h.toString(),10)])):"Right"===r[parseInt(h.toString(),10)].freeze?(o.push(r[parseInt(h.toString(),10)]),l&&this.frozenRightColumns.push(r[parseInt(h.toString(),10)])):a.push(r[parseInt(h.toString(),10)]);return this.enableColumnVirtualization&&this.isFrozenGrid()&&(this.frozenLeftColumns.length&&(s=this.frozenLeftColumns),this.frozenRightColumns.length&&(o=this.frozenRightColumns)),s.concat(a).concat(o)},t.prototype.getStackedHeaderColumnByHeaderText=function(e,t){for(var i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];if(n.field===e||n.headerText===e){this.stackedColumn=n;break}n.columns&&this.getStackedHeaderColumnByHeaderText(e,n.columns)}return this.stackedColumn},t.prototype.getColumnIndexesInView=function(){return this.inViewIndexes},t.prototype.getQuery=function(){return this.query},t.prototype.getLocaleConstants=function(){return this.defaultLocale},t.prototype.setColumnIndexesInView=function(e){this.inViewIndexes=e},t.prototype.getVisibleColumns=function(){return this.getCurrentVisibleColumns()},t.prototype.getHeaderContent=function(){return this.headerModule.getPanel()},t.prototype.setGridHeaderContent=function(e){this.headerModule.setPanel(e)},t.prototype.getContentTable=function(){return this.contentModule.getTable()},t.prototype.setGridContentTable=function(e){this.contentModule.setTable(e)},t.prototype.getContent=function(){return this.contentModule.getPanel()},t.prototype.setGridContent=function(e){this.contentModule.setPanel(e)},t.prototype.getHeaderTable=function(){return this.headerModule.getTable()},t.prototype.setGridHeaderTable=function(e){this.headerModule.setTable(e)},t.prototype.getFooterContent=function(){return this.footerElement=this.element.getElementsByClassName(fy)[0],this.footerElement},t.prototype.getFooterContentTable=function(){return this.footerElement=this.element.getElementsByClassName(fy)[0],this.footerElement.firstChild.firstChild},t.prototype.getPager=function(){return this.gridPager},t.prototype.setGridPager=function(e){this.gridPager=e},t.prototype.getRowByIndex=function(e){return this.enableVirtualization&&this.groupSettings.enableLazyLoading?this.lazyLoadRender.getRowByIndex(e):this.contentModule.getRowByIndex(e)},t.prototype.getMovableRowByIndex=function(e){return this.contentModule.getRowByIndex(e)},t.prototype.getFrozenRowByIndex=function(e){return this.contentModule.getRowByIndex(e)},t.prototype.getRows=function(){return this.contentModule.getRowElements()},t.prototype.getFrozenRightRowByIndex=function(e){return this.contentModule.getRowByIndex(e)},t.prototype.getRowInfo=function(e){var t=e,i={target:e};if(!ko(e)&&ko(Jy(t,"e-detailrowcollapse")&&ko(Jy(t,"e-recordplusexpand")))){var n=Za(t,"."+uy);if(!n){var r=Za(t,"."+My);if(!ko(r)&&!r.classList.contains("e-addedrow")){var s=this.getRowObjectFromUID(r.getAttribute("data-uid")),o=parseInt(r.getAttribute(Ty),10);i={row:r,rowData:s.data,rowIndex:o}}return i}var a=parseInt(n.getAttribute(xy),10),l=Za(n,"."+My);if(!ko(n)&&!isNaN(a)&&!ko(l)){o=parseInt(l.getAttribute(Ty),10);var h=this.contentModule.getRows(),c=a+this.getIndentCount(),u=h.filter((function(e){return e.uid===l.getAttribute("data-uid")})),p={},d=void 0;Object.keys(u).length&&(p=u[0].data,d=u[0].cells[parseInt(c.toString(),10)].column),i={cell:n,cellIndex:a,row:l,rowIndex:o,rowData:p,column:d,target:e}}}return i},t.prototype.getMovableRows=function(){return this.contentModule.getRowElements()},t.prototype.getFrozenRightRows=function(){return this.contentModule.getRowElements()},t.prototype.getDataRows=function(){return this.getAllDataRows()},t.prototype.getAllDataRows=function(e){if(ko(this.getContentTable().querySelector(jy)))return[];var t=this.getContentTable().querySelector(jy),i=[].slice.call(t.children);if(this.frozenRows){var n=this.getHeaderTable().querySelector(jy),r=[].slice.call(n.children);i=this.addMovableRows(r,i)}return this.generateDataRows(i,e)},t.prototype.addMovableRows=function(e,t){for(var i=0,n=t.length;i<n;i++)e.push(t[parseInt(i.toString(),10)]);return e},t.prototype.generateDataRows=function(e,t){for(var i=[],n=0,r=e.length;n<r;n++)!e[parseInt(n.toString(),10)].classList.contains(My)||e[parseInt(n.toString(),10)].classList.contains("e-hiddenrow")&&!t||(this.isCollapseStateEnabled()?i[parseInt(e[parseInt(n.toString(),10)].getAttribute("data-rowindex"),10)]=e[parseInt(n.toString(),10)]:i.push(e[parseInt(n.toString(),10)]));return i},t.prototype.getMovableDataRows=function(){return this.getAllMovableDataRows()},t.prototype.getAllMovableDataRows=function(e){return this.getAllDataRows(e)},t.prototype.getFrozenDataRows=function(){return this.getAllFrozenDataRows()},t.prototype.getAllFrozenDataRows=function(e){return this.getAllDataRows(e)},t.prototype.getFrozenRightDataRows=function(){return this.getAllFrozenRightDataRows()},t.prototype.getAllFrozenRightDataRows=function(e){return this.getAllDataRows(e)},t.prototype.setCellValue=function(e,t,i){var n="data",r="index",s=this.getPrimaryKeyFieldNames()[0],o=new QM(this,this.serviceLocator),a=this.getColumnIndexByField(t),l=this.getColumnByField(t),h=this.contentModule.getRows().filter((function(t){return No(s,t.data)===e}))[0],c=h?this.element.querySelector("[data-uid="+h.uid+"]"):null;if(!ko(c)){"string"===typeof i&&(i=this.sanitize(i)),Co(t,i,h[""+n]);this.isRowDragable()&&0;var u=this.enableVirtualization?c.children[parseInt(a.toString(),10)]:this.getCellFromIndex(h[""+r],a);if(!ko(u)){this.groupSettings.columns.length&&(a+=this.groupSettings.columns.length),(this.childGrid||this.detailTemplate)&&a++,this.isRowDragable()&&a++;var p=h.cells[a-0];o.refreshTD(u,p,h[""+n],{index:h[""+r]}),this.isReact&&(u=this.enableVirtualization?c.children[parseInt(a.toString(),10)]:this.getCellFromIndex(h[""+r],a)),this.aggregates.length>0&&(this.notify(em,{}),this.groupSettings.columns.length>0&&this.notify($g,{})),ko(h)||ko(h.changes)||(h.changes[""+t]=i),this.trigger(mg,{cell:u,column:l,data:h[""+n]}),this.isReact&&"0"===u.getAttribute("tabindex")&&u.classList.contains("e-focused")&&u.focus()}}},t.prototype.refreshReactColumnTemplateByUid=function(e,t){var i=this;this.isReact&&this.clearTemplate(["columnTemplate"],void 0,(function(){var e=!(!i.childGrid||!i.element.querySelectorAll(".e-childgrid").length),n=e?i.getContentTable().querySelectorAll(".e-row"):i.getDataRows();i.refreshReactTemplateTD(n,e),t&&i.renderTemplates()}))},t.prototype.refreshReactTemplateTD=function(e,t,i){for(var n="cells",r=this.getIndentCount(),s=0,o=!1,a=0;a<e.length;a++){var l=this.getRowObjectFromUID(e[parseInt(a.toString(),10)].getAttribute("data-uid"));if(t&&!l&&Jy(e[parseInt(a.toString(),10)],"e-childgrid")){var h=Jy(e[parseInt(a.toString(),10)],"e-childgrid").ej2_instances[0];l=h.getRowObjectFromUID(e[parseInt(a.toString(),10)].getAttribute("data-uid")),s=h.getIndentCount(),o=!0}if(l&&l.isDataRow&&!ko(l.index)&&!e[parseInt(a.toString(),10)].classList.contains("e-editedrow"))for(var c=0;c<l[""+n].length;c++){var u=l[""+n][parseInt(c.toString(),10)];if(u.isTemplate){var p=new QM(this,this.serviceLocator),d=t?e[parseInt(a.toString(),10)].children[u.index+(o?s:r)]:this.getCellFromIndex(a,i?u.index:c-r);p.refreshTD(d,u,l.data,{index:l.index})}}o=!1}},t.prototype.refreshGroupCaptionFooterTemplate=function(){for(var e=!(!this.childGrid||!this.element.querySelectorAll(".e-childgrid").length),t=this.getContentTable().querySelectorAll(".e-groupcaptionrow, .e-groupfooterrow"),i=0;i<t.length;i++){var n=this,r=this.getRowObjectFromUID(t[parseInt(i.toString(),10)].getAttribute("data-uid"));if(e&&!r&&Jy(t[parseInt(i.toString(),10)],"e-childgrid")&&(r=(n=Jy(t[parseInt(i.toString(),10)],"e-childgrid").ej2_instances[0]).getRowObjectFromUID(t[parseInt(i.toString(),10)].getAttribute("data-uid"))),r){var s={cells:r.cells.filter((function(e){return e.isDataCell})),data:r.data,dataUid:r.uid};n.notify("refresh-aggregate-cell",s)}}},t.prototype.refreshReactHeaderTemplateByUid=function(e){if(this.isReact)for(var t=this.headerModule.rows,i=this.getNormalizedColumnIndex(e),n=0;n<t.length;n++){var r=t[parseInt(n.toString(),10)].cells[parseInt(i.toString(),10)];if(r&&r.column.uid===e){var s=new JM(this,this.serviceLocator),o=Jy(this.element.querySelectorAll("[e-mappinguid="+e+"]")[0],"e-templatecell");s.refresh(r,o)}}},t.prototype.setRowData=function(e,t){var i=this.contentModule.getRows(),n=this.getPrimaryKeyFieldNames()[0];this.groupSettings.columns.length>0&&this.aggregates.length>0&&(i=i.filter((function(e){return e.isDataRow})));var r=i.filter((function(t){return No(n,t.data)===e}))[0],s=r?[].slice.call(this.element.querySelectorAll("[data-uid="+r.uid+"]")):void 0;if(!ko(r)&&s.length){if(r.changes=t,this.frozenRows){var o=this.getRowsObject()[r.index];this.setFrozenRowData(o,t)}else this.setFrozenRowData(r,t);this.aggregates.length>0&&(this.notify(em,{}),this.groupSettings.columns.length>0&&this.notify($g,{}))}},t.prototype.setFrozenRowData=function(e,t){var i=new OM(this.serviceLocator,null,this);e.changes=t,function(e,t,i){for(var n=0;n<t.length;n++)Co(t[parseInt(n.toString(),10)].field,Iv(t[parseInt(n.toString(),10)],i),e.foreignKeyData);var r=e.cells;for(n=0;n<r.length;n++)r[parseInt(n.toString(),10)].isForeignKey&&Co("foreignKeyData",No(r[parseInt(n.toString(),10)].column.field,e.foreignKeyData),r[parseInt(n.toString(),10)])}(e,this.getForeignKeyColumns(),e.changes),i.refresh(e,this.getColumns(),!0)},t.prototype.getCellFromIndex=function(e,t){this.getColumnByIndex(t);return function(e,t,i,n){return Kv(e,0,i)[parseInt(n.toString(),10)]}(this,0,e,t)},t.prototype.getMovableCellFromIndex=function(e,t){return this.getCellFromIndex(e,t)},t.prototype.getFrozenRightCellFromIndex=function(e,t){return this.getCellFromIndex(e,t)},t.prototype.getColumnHeaderByIndex=function(e){return this.getHeaderTable().getElementsByClassName("e-headercell")[parseInt(e.toString(),10)]},t.prototype.getMovableColumnHeaderByIndex=function(e){return this.getColumnHeaderByIndex(e)},t.prototype.getFrozenRightColumnHeaderByIndex=function(e){return this.getColumnHeaderByIndex(e)},t.prototype.getFrozenLeftColumnHeaderByIndex=function(e){return this.getColumnHeaderByIndex(e)},t.prototype.getRowObjectFromUID=function(e){var t=this.contentModule.getRows(),i=this.rowObject(t,e);return ko(i)&&this.enableVirtualization&&this.groupSettings.columns.length>0?i=this.rowObject(this.vRows,e):i},t.prototype.rowObject=function(e,t){if(e)for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r.uid===t)return r}return null},t.prototype.getRowsObject=function(){return this.contentModule.getRows()},t.prototype.getMovableRowsObject=function(){return this.contentModule.getRows()},t.prototype.getFrozenRightRowsObject=function(){return this.contentModule.getRows()},t.prototype.getColumnHeaderByField=function(e){var t=this.getColumnByField(e);return t?this.getColumnHeaderByUid(t.uid):void 0},t.prototype.getColumnHeaderByUid=function(e){var t=this.getHeaderContent().querySelector("[e-mappinguid="+e+"]");return t?t.parentElement:void 0},t.prototype.getColumnByIndex=function(e){var t;return this.getColumns().some((function(i,n){return t=i,n===e})),t},t.prototype.getColumnByField=function(e){return Uy(this.getColumns(),(function(t){if(t.field===e)return t}))[0]},t.prototype.getColumnIndexByField=function(e){for(var t=this.getColumns(),i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].field===e)return i;return-1},t.prototype.getColumnByUid=function(e){return Uy(this.getColumns().concat(this.getStackedColumns(this.columns)),(function(t){if(t.uid===e)return t}))[0]},t.prototype.getStackedColumns=function(e,t){void 0===t&&(t=[]);for(var i=0,n=e;i<n.length;i++){var r=n[i];r.columns&&(t.push(r),this.getStackedColumns(r.columns,t))}return t},t.prototype.getColumnIndexByUid=function(e){var t=Uy(this.getColumns(),(function(t,i){if(t.uid===e)return i}))[0];return ko(t)?-1:t},t.prototype.getUidByColumnField=function(e){return Uy(this.getColumns(),(function(t){if(t.field===e)return t.uid}))[0]},t.prototype.getNormalizedColumnIndex=function(e){return this.getColumnIndexByUid(e)+this.getIndentCount()},t.prototype.getIndentCount=function(){var e=0;return this.allowGrouping&&(e+=this.groupSettings.columns.length),this.isDetail()&&e++,this.isRowDragable()&&ko(this.rowDropSettings.targetID)&&e++,e},t.prototype.getColumnFieldNames=function(){for(var e,t=[],i=0,n=this.getColumns().length;i<n;i++)(e=this.getColumns()[parseInt(i.toString(),10)]).visible&&t.push(e.field);return t},t.prototype.getRowTemplate=function(){return this.rowTemplateFn},t.prototype.getDetailTemplate=function(){return this.detailTemplateFn},t.prototype.getEditTemplate=function(){return this.editTemplateFn},t.prototype.getEditHeaderTemplate=function(){return this.editHeaderTemplateFn},t.prototype.getEditFooterTemplate=function(){return this.editFooterTemplateFn},t.prototype.getPrimaryKeyFieldNames=function(){for(var e=[],t=0;t<this.columnModel.length;t++)this.columnModel[parseInt(t.toString(),10)].isPrimaryKey&&e.push(this.columnModel[parseInt(t.toString(),10)].field);return e},t.prototype.refresh=function(){this.isDestroyed||(this.isManualRefresh=!0,this.headerModule.refreshUI(),this.updateStackedFilter(),this.renderModule.refresh())},t.prototype.refreshHeader=function(){this.headerModule.refreshUI()},t.prototype.getSelectedRows=function(){return this.selectionModule?this.selectionModule.selectedRecords:[]},t.prototype.getSelectedRowIndexes=function(){return this.selectionModule?this.selectionModule.selectedRowIndexes:[]},t.prototype.getSelectedRowCellIndexes=function(){return this.selectionModule?this.selectionModule.selectedRowCellIndexes:[]},t.prototype.getSelectedRecords=function(){return this.selectionModule?this.selectionModule.getSelectedRecords():[]},t.prototype.getSelectedColumnsUid=function(){var e=this,t=[];return this.selectionModule&&this.selectionModule.selectedColumnsIndexes.filter((function(i){return t.push(e.getColumns()[parseInt(i.toString(),10)].uid)})),t},t.prototype.getDataModule=function(){return this.renderModule.data},t.prototype.showColumns=function(e,t){t=t||"headerText",this.showHider.show(e,t)},t.prototype.hideColumns=function(e,t){t=t||"headerText",this.showHider.hide(e,t)},t.prototype.getFrozenColumns=function(){return this.frozenColumns+this.getFrozenCount(this.columns,0,0)},t.prototype.getFrozenRightColumnsCount=function(){return this.frozenRightCount||this.rightcount},t.prototype.getFrozenLeftColumnsCount=function(){return this.frozenLeftCount||this.leftcount},t.prototype.getMovableColumnsCount=function(){return this.movableCount||this.movablecount},t.prototype.updateFrozenColumnsWidth=function(){if(this.isFrozenGrid()&&!this.enableColumnVirtualization)for(var e=this.getColumns(),t=!0,i=0,n=0,r=0,s=function(s){var a=e[parseInt(s.toString(),10)];if(ko(a.width)&&(a.width=Math.max(200,a.minWidth?parseFloat(a.minWidth.toString()):0)),"auto"===a.width){var l=0;if(t){e.filter((function(e){e.visible&&("auto"===e.width&&i++,"auto"!==e.width&&(l+=parseFloat(e.width.toString())))}));var h=o.isPercentageWidthGrid()||"auto"===o.width?o.element.getBoundingClientRect().width:parseFloat(o.width.toString());(n="auto"===o.height?h-l:h-l-pv())<0&&(n=0),r=parseFloat((n/i).toString()),e.filter((function(e){e.visible&&e.minWidth&&parseFloat(e.minWidth.toString())>r&&(n-=parseFloat(e.minWidth.toString()),i--)})),t=!1}a.minWidth&&parseFloat(a.minWidth.toString())>r?a.width=parseFloat(a.minWidth.toString()):a.width=n/i}},o=this,a=0;a<e.length;a++)s(a)},t.prototype.refreshSplitFrozenColumn=function(){this.splitFrozenCount(this.columns),this.updateFrozenColumnsWidth(),this.isAutoGenerateColumns=!0},t.prototype.setFrozenCount=function(){this.frozenLeftCount=this.frozenRightCount=this.movableCount=0,this.visibleFrozenLeft=this.visibleFrozenRight=this.visibleMovable=0,this.frozenLeftColumns=[],this.frozenRightColumns=[],this.movableColumns=[],this.fixedColumns=[],this.splitFrozenCount(this.columns),this.leftcount=this.frozenLeftCount,this.rightcount=this.frozenRightCount,this.movablecount=this.movableCount,this.frozenLeftCount&&!this.frozenRightCount?this.frozenName="Left":this.frozenRightCount&&!this.frozenLeftCount?this.frozenName="Right":this.frozenLeftCount&&this.frozenRightCount?this.frozenName="Left-Right":this.frozenColumns||this.frozenRows?this.frozenName="Left":this.frozenName=void 0},t.prototype.getVisibleFrozenLeftCount=function(){return this.visibleFrozenLeft},t.prototype.getVisibleFrozenRightCount=function(){return this.visibleFrozenRight},t.prototype.getVisibleMovableCount=function(){return this.visibleMovable},t.prototype.getFrozenRightColumns=function(){return this.frozenRightColumns},t.prototype.getFrozenLeftColumns=function(){return this.frozenLeftColumns},t.prototype.getMovableColumns=function(){return this.movableColumns},t.prototype.splitStackedColumns=function(e){for(var t=0;t<e.length;t++)e[parseInt(t.toString(),10)].columns?this.splitStackedColumns(e[parseInt(t.toString(),10)].columns):"Left"===e[parseInt(t.toString(),10)].freeze||e[parseInt(t.toString(),10)].isFrozen?(!1!==e[parseInt(t.toString(),10)].visible&&this.visibleFrozenLeft++,this.leftcount++):"Right"===e[parseInt(t.toString(),10)].freeze?(!1!==e[parseInt(t.toString(),10)].visible&&this.visibleFrozenRight++,this.rightcount++):"Fixed"===e[parseInt(t.toString(),10)].freeze?(!1!==e[parseInt(t.toString(),10)].visible&&this.visibleFrozenFixed++,this.fixedcount++):(!1!==e[parseInt(t.toString(),10)].visible&&this.visibleMovable++,this.movablecount++)},t.prototype.pushStackedColumns=function(e,t,i,n,r){i[parseInt(t.toString(),10)]=n.headerText;for(var s=0;s<e.length;s++)if(e[parseInt(s.toString(),10)].columns)t+=1,this.pushStackedColumns(e[parseInt(s.toString(),10)].columns,t,i,e[parseInt(s.toString(),10)],r),t-=1;else{var o;o=i.slice().slice(0,t+1),"Left"===e[parseInt(s.toString(),10)].freeze||e[parseInt(s.toString(),10)].isFrozen?(this.stackedLeft.push(o),this.stackedarrayLeft.push(e[parseInt(s.toString(),10)])):"Right"===e[parseInt(s.toString(),10)].freeze?(this.stackedRight.push(o),this.stackedarrayRight.push(e[parseInt(s.toString(),10)])):"Fixed"===e[parseInt(s.toString(),10)].freeze?(this.stackedFixed.push(o),this.stackedarrayFixed.push(e[parseInt(s.toString(),10)])):(this.stackedMovable.push(o),this.stackedarrayMovable.push(e[parseInt(s.toString(),10)]))}},t.prototype.pushallcol=function(e,t,i,n,r){if(i.headerText===t)r?i.columns.push(n):i.columns.push({headerText:e,columns:[]});else if(i.columns&&i.columns.length)for(var s=0;s<i.columns.length;s++)this.pushallcol(e,t,i.columns[parseInt(s.toString(),10)],n,r)},t.prototype.resetStackedColumns=function(e,t,i){for(var n={},r=[],s=1;s<=e.length;s++)for(var o=e[s-1],a=0;a<o.length;a++)if(n.columns||1!==s?-1===r.indexOf(o[parseInt(a.toString(),10)])&&(this.pushallcol(o[parseInt(a.toString(),10)],o[a-1],n),r.push(o[parseInt(a.toString(),10)])):(n={headerText:o[parseInt(a.toString(),10)],columns:[]},r.push(o[parseInt(a.toString(),10)])),a===o.length-1){this.pushallcol(null,o[parseInt(a.toString(),10)],n,t[s-1],!0);for(var l=0;l!==e.length-1&&s!==e.length;)o.toString()===e[parseInt(s.toString(),10)].toString()&&(s++,this.pushallcol(null,o[parseInt(a.toString(),10)],n,t[s-1],!0)),l++}"Left"===i?this.frozenLeftColumns.push(n):"Right"===i?this.frozenRightColumns.push(n):this.movableColumns.push(n)},t.prototype.splitFrozenCount=function(e){if(this.frozenColumns){var t=!this.enableColumnVirtualization||this.enableColumnVirtualization&&this.isPreparedFrozenColumns?this.enableColumnVirtualization&&this.columnModel&&this.columnModel.length?this.columnModel:this.getColumns():this.columns;if(!this.changedProperties||this.changedProperties&&!this.changedProperties.frozenColumns)for(var i=0;i<t.length;i++)this.frozenColumns>i?t[parseInt(i.toString(),10)].freeze="Left":"Right"===t[parseInt(i.toString(),10)].freeze||"Fixed"===t[parseInt(i.toString(),10)].freeze?t[parseInt(i.toString(),10)].freeze=t[parseInt(i.toString(),10)].freeze:t[parseInt(i.toString(),10)].freeze=void 0}for(i=0;i<e.length;i++)if(e[parseInt(i.toString(),10)].columns){this.leftcount=0,this.rightcount=0,this.movablecount=0,this.fixedcount=0;this.splitStackedColumns(e[parseInt(i.toString(),10)].columns),!this.leftcount||this.rightcount||this.movablecount||this.fixedcount?!this.rightcount||this.leftcount||this.movablecount||this.fixedcount?!this.movablecount||this.leftcount||this.rightcount||this.fixedcount?!this.fixedcount||this.leftcount||this.rightcount||this.movablecount?(this.frozenLeftCount+=this.leftcount,this.frozenRightCount+=this.rightcount,this.movableCount+=this.movablecount,this.fixedCount+=this.fixedcount,this.leftcount=0,this.rightcount=0,this.movablecount=0,this.fixedcount=0,this.stackedLeft=[],this.stackedRight=[],this.stackedFixed=[],this.stackedMovable=[],this.stackedarrayLeft=[],this.stackedarrayRight=[],this.stackedarrayFixed=[],this.stackedarrayMovable=[],this.pushStackedColumns(e[parseInt(i.toString(),10)].columns,0,[],e[parseInt(i.toString(),10)],{headerText:e[parseInt(i.toString(),10)].headerText,columns:[]}),this.stackedarrayLeft.length&&this.resetStackedColumns(this.stackedLeft,this.stackedarrayLeft,"Left"),this.stackedarrayRight.length&&this.resetStackedColumns(this.stackedRight,this.stackedarrayRight,"Right"),this.stackedarrayFixed.length&&this.resetStackedColumns(this.stackedFixed,this.stackedarrayFixed,"Fixed"),this.stackedarrayMovable.length&&this.resetStackedColumns(this.stackedMovable,this.stackedarrayMovable,"Movable"),this.stackedLeft=[],this.stackedRight=[],this.stackedMovable=[],this.stackedFixed=[],this.stackedarrayLeft=[],this.stackedarrayRight=[],this.stackedarrayMovable=[],this.stackedarrayFixed=[]):(this.fixedCount+=this.fixedcount,this.fixedColumns.push(e[parseInt(i.toString(),10)]),this.movableCount+=this.movablecount,this.movableColumns.push(e[parseInt(i.toString(),10)])):(this.movableCount+=this.movablecount,this.movableColumns.push(e[parseInt(i.toString(),10)])):(this.frozenRightCount+=this.rightcount,this.frozenRightColumns.push(e[parseInt(i.toString(),10)])):(this.frozenLeftCount+=this.leftcount,this.frozenLeftColumns.push(e[parseInt(i.toString(),10)]))}else"Right"===e[parseInt(i.toString(),10)].freeze?(!1!==e[parseInt(i.toString(),10)].visible&&this.visibleFrozenRight++,this.frozenRightColumns.push(e[parseInt(i.toString(),10)]),this.frozenRightCount++):"Left"===e[parseInt(i.toString(),10)].freeze||e[parseInt(i.toString(),10)].isFrozen?(!1!==e[parseInt(i.toString(),10)].visible&&this.visibleFrozenLeft++,this.frozenLeftColumns.push(e[parseInt(i.toString(),10)]),this.frozenLeftCount++):"Fixed"===e[parseInt(i.toString(),10)].freeze?(this.fixedColumns.push(e[parseInt(i.toString(),10)]),this.fixedCount++,this.movableColumns.push(e[parseInt(i.toString(),10)]),this.movableCount++):(!1!==e[parseInt(i.toString(),10)].visible&&this.visibleMovable++,this.movableColumns.push(e[parseInt(i.toString(),10)]),this.movableCount++);if(this.frozenLeftColumns.length){t=this.frozenLeftColumns[this.frozenLeftColumns.length-1];this.removeBorder(this.frozenLeftColumns),this.frozenLeftBorderColumns(t instanceof pg?this.lastVisibleLeftCol(this.frozenLeftColumns):t)}if(this.frozenRightColumns.length){t=this.frozenRightColumns[0];this.removeBorder(this.frozenRightColumns),this.frozenRightBorderColumns(t instanceof pg?this.firstVisibleRightCol(this.frozenRightColumns):t)}if((this.frozenLeftColumns.length||this.frozenRightColumns.length)&&this.freezeColumnRefresh){t=this.frozenLeftColumns.concat(this.movableColumns).concat(this.frozenRightColumns);this.setProperties({columns:t},!0),this.freezeColumnRefresh=!1}},t.prototype.removeBorder=function(e){for(var t=0;t<e.length;t++)e[parseInt(t.toString(),10)].columns&&e[parseInt(t.toString(),10)].columns.length?("Right"!==e[parseInt(t.toString(),10)].border&&"Left"!==e[parseInt(t.toString(),10)].border||(e[parseInt(t.toString(),10)].border=void 0),this.removeBorder(e[parseInt(t.toString(),10)].columns)):"Right"!==e[parseInt(t.toString(),10)].border&&"Left"!==e[parseInt(t.toString(),10)].border||(e[parseInt(t.toString(),10)].border=void 0)},t.prototype.isVisibleColumns=function(e,t){if(e.columns&&e.columns.length)for(var i=0;i<e.columns.length;i++)this.isVisibleColumns(e.columns[parseInt(i.toString(),10)],t),e.columns[parseInt(i.toString(),10)].visible&&ko(e.columns[parseInt(i.toString(),10)].columns)&&!ko(e.columns[parseInt(i.toString(),10)].freeze)&&t.push("true");else e.visible&&!ko(e.freeze)&&t.push("true")},t.prototype.lastVisibleLeftCol=function(e){for(var t,i=e.length-1;i>=0;i--){var n=[];if(this.isVisibleColumns(e[parseInt(i.toString(),10)],n),e[parseInt(i.toString(),10)].visible&&-1!==n.indexOf("true")){t=e[parseInt(i.toString(),10)];break}}return t},t.prototype.firstVisibleRightCol=function(e){for(var t,i=0;i<e.length;i++){var n=[];if(this.isVisibleColumns(e[parseInt(i.toString(),10)],n),e[parseInt(i.toString(),10)].visible&&-1!==n.indexOf("true")){t=e[parseInt(i.toString(),10)];break}}return t},t.prototype.frozenLeftBorderColumns=function(e){if(!ko(e))if(e.columns&&e.columns.length){e.border="Left";var t=e.columns[e.columns.length-1];this.frozenLeftBorderColumns(t instanceof pg&&t.columns?this.lastVisibleLeftCol(e.columns):t)}else e.border="Left"},t.prototype.frozenRightBorderColumns=function(e){if(!ko(e))if(e.columns&&e.columns.length){e.border="Right";var t=e.columns[0];this.frozenRightBorderColumns(t instanceof pg&&t.columns?this.firstVisibleRightCol(e.columns):t)}else e.border="Right"},t.prototype.getVisibleFrozenColumns=function(){return this.getVisibleFrozenColumnsCount()+this.getVisibleFrozenCount(this.columns,0)},t.prototype.getFilterUIInfo=function(){return this.filterModule?this.filterModule.getFilterUIInfo():{}},t.prototype.getVisibleFrozenColumnsCount=function(){for(var e=0,t=this.columnModel,i=0;i<this.frozenColumns;i++)t[parseInt(i.toString(),10)].visible&&e++;if(this.frozenLeftCount||this.leftcount||this.frozenRightCount||this.rightcount)for(i=0;i<t.length;i++)!t[parseInt(i.toString(),10)].visible||"Left"!==t[parseInt(i.toString(),10)].freeze&&"Right"!==t[parseInt(i.toString(),10)].freeze||e++;return e},t.prototype.getVisibleFrozenCount=function(e,t){if(!this.frozenLeftCount&&!this.leftcount&&(!this.frozenRightCount||!this.rightcount))for(var i=0,n=e.length;i<n;i++)e[parseInt(i.toString(),10)].columns?t=this.getVisibleFrozenCount(e[parseInt(i.toString(),10)].columns,t):e[parseInt(i.toString(),10)].isFrozen&&e[parseInt(i.toString(),10)].visible&&t++;return t},t.prototype.getFrozenCount=function(e,t,i){for(var n=0,r=e.length;n<r;n++)e[parseInt(n.toString(),10)].columns?t=this.getFrozenCount(e[parseInt(n.toString(),10)].columns,t,i):(e[parseInt(n.toString(),10)].isFrozen&&i>this.frozenColumns-1&&t++,i++);return t},t.prototype.goToPage=function(e){this.pagerModule&&this.pagerModule.goToPage(e)},t.prototype.updateExternalMessage=function(e){this.pagerModule&&this.pagerModule.updateExternalMessage(e)},t.prototype.sortColumn=function(e,t,i){this.sortModule&&this.sortModule.sortColumn(e,t,i)},t.prototype.changeDataSource=function(e,t){this.isChangeDataSourceCall=!0,this.setProperties({sortSettings:{columns:[]}},!0),this.setProperties({filterSettings:{columns:[]}},!0),this.setProperties({searchSettings:{key:""}},!0),this.allowGrouping&&this.setProperties({groupSettings:{columns:[]}},!0),t&&t.length&&this.setProperties({columns:t},!0),e&&(ko(t)&&this.setProperties({columns:[]},!0),this.setProperties({dataSource:e},!0)),this.freezeRefresh(),this.isChangeDataSourceCall=!1},t.prototype.clearSorting=function(){this.sortModule&&this.sortModule.clearSorting()},t.prototype.removeSortColumn=function(e){this.sortModule&&this.sortModule.removeSortColumn(e)},t.prototype.clearGridActions=function(){this.setProperties({sortSettings:{columns:[]}},!0),this.setProperties({filterSettings:{columns:[]}},!0),this.setProperties({searchSettings:{key:""}},!0),this.allowGrouping?this.setProperties({groupSettings:{columns:[]}},!1):this.freezeRefresh()},t.prototype.filterByColumn=function(e,t,i,n,r,s,o,a){this.filterModule&&this.filterModule.filterByColumn(e,t,i,n,r,s,o,a)},t.prototype.clearFiltering=function(e){this.filterModule&&this.filterModule.clearFiltering(e)},t.prototype.removeFilteredColsByField=function(e,t){this.filterModule&&this.filterModule.removeFilteredColsByField(e,t)},t.prototype.selectRow=function(e,t){this.selectionModule&&this.selectionModule.selectRow(e,t)},t.prototype.selectRows=function(e){this.selectionModule&&this.selectionModule.selectRows(e)},t.prototype.clearSelection=function(){this.selectionModule&&this.selectionModule.clearSelection()},t.prototype.selectCell=function(e,t){this.selectionModule&&this.selectionModule.selectCell(e,t)},t.prototype.selectCellsByRange=function(e,t){this.selectionModule.selectCellsByRange(e,t)},t.prototype.search=function(e){this.searchModule&&this.searchModule.search(e)},t.prototype.print=function(){this.printModule&&this.printModule.print()},t.prototype.deleteRecord=function(e,t){this.editModule&&this.editModule.deleteRecord(e,t)},t.prototype.startEdit=function(){this.editModule&&this.editModule.startEdit()},t.prototype.endEdit=function(){this.editModule&&this.editModule.endEdit()},t.prototype.closeEdit=function(){this.editModule&&this.editModule.closeEdit()},t.prototype.addRecord=function(e,t){this.editModule&&this.editModule.addRecord(e,t)},t.prototype.deleteRow=function(e){this.editModule&&this.editModule.deleteRow(e)},t.prototype.editCell=function(e,t){this.editModule&&this.editModule.editCell(e,t)},t.prototype.saveCell=function(){this.editModule&&this.editModule.saveCell()},t.prototype.updateCell=function(e,t,i){this.editModule&&this.editModule.updateCell(e,t,i)},t.prototype.updateRow=function(e,t){this.editModule&&this.editModule.updateRow(e,t)},t.prototype.getBatchChanges=function(){return this.editModule?this.editModule.getBatchChanges():{}},t.prototype.enableToolbarItems=function(e,t){this.toolbarModule&&this.toolbarModule.enableItems(e,t)},t.prototype.copy=function(e){this.clipboardModule&&this.clipboardModule.copy(e)},t.prototype.recalcIndentWidth=function(){var e=this;if(this.getHeaderTable().querySelector(".e-emptycell")&&(this.groupSettings.columns.length||this.isDetail()||this.isRowDragable())&&!this.getHeaderTable().querySelector(".e-emptycell").getAttribute("indentRefreshed")&&this.getContentTable()){var t=this.getHeaderTable().querySelector(".e-emptycell").parentElement.offsetWidth,i=[].slice.call(this.getHeaderTable().querySelector(Ey).childNodes),n=[].slice.call(this.getContentTable().querySelector(Ey).childNodes),r=t/30,s="Right"===this.getFrozenMode()?this.groupSettings.columns.length+this.getColumns().length:0,o=this.element.offsetWidth,a=function(t,r){if(Vv(e)){var s=(r/o*100).toFixed(1)+"%";i[parseInt(t.toString(),10)].style.width=s,n[parseInt(t.toString(),10)].style.width=s}else i[parseInt(t.toString(),10)].style.width=r+"px",n[parseInt(t.toString(),10)].style.width=r+"px";e.notify(lm,{index:t,width:r})};for(r>=1&&(t=30/r),t<1&&(t=1),(this.enableColumnVirtualization||this.isAutoGen||this.columns.length===this.groupSettings.columns.length)&&(t=30);s<this.groupSettings.columns.length;)a(s,t),s++;this.isDetail()&&(a(s,t),s++),this.isRowDragable()&&a(s,t),this.isAutoGen=!1,this.getHeaderTable().querySelector(".e-emptycell").setAttribute("indentRefreshed","true")}},t.prototype.resetIndentWidth=function(){if(Vv(this)&&(this.getHeaderTable().querySelector(".e-emptycell").removeAttribute("indentRefreshed"),this.widthService.setWidthToColumns(),this.recalcIndentWidth(),this.autoFit&&this.preventAdjustColumns()),("auto"===this.width||"string"===typeof this.width&&-1!==this.width.indexOf("%"))&&this.getColumns().filter((function(e){return(!e.width||"auto"===e.width)&&e.minWidth})).length>0){var e=this.widthService.getTableWidth(this.getColumns());this.widthService.setMinwidthBycalculation(e)}this.isFrozenGrid()&&this.enableColumnVirtualization&&this.widthService&&this.widthService.refreshFrozenScrollbar(),this.allowTextWrap&&"Content"!==this.textWrapSettings.wrapMode&&this.notify(Gm,{}),this.frozenRows&&this.scrollModule&&this.scrollModule.resizeFrozenRowBorder()},t.prototype.isRowDragable=function(){return this.allowRowDragAndDrop&&!this.rowDropSettings.targetID},t.prototype.reorderColumns=function(e,t){this.reorderModule&&this.reorderModule.reorderColumns(e,t)},t.prototype.reorderColumnByIndex=function(e,t){this.reorderModule&&this.reorderModule.reorderColumnByIndex(e,t)},t.prototype.reorderColumnByTargetIndex=function(e,t){this.reorderModule&&this.reorderModule.reorderColumnByTargetIndex(e,t)},t.prototype.reorderRows=function(e,t){this.rowDragAndDropModule&&this.rowDragAndDropModule.reorderRows(e,t)},t.prototype.refreshDataSource=function(e){this.notify("refreshdataSource",e)},t.prototype.disableRowDD=function(e){var t=this.getHeaderTable(),i=this.getContentTable(),n=t.querySelectorAll("th.e-rowdragheader, th.e-mastercell"),r=this.getRows(),s=e?"none":"";$a(t.querySelector(Ey).childNodes[0],{display:s}),$a(i.querySelector(Ey).childNodes[0],{display:s});for(var o=0;o<this.getRows().length;o++){var a=r[parseInt(o.toString(),10)].firstElementChild;e?Fa([a],"e-hide"):Ba([a],["e-hide"])}for(var l=0;l<t.querySelectorAll("th.e-rowdragheader, th.e-mastercell").length;l++){a=n[parseInt(l.toString(),10)];e?Fa([a],"e-hide"):Ba([a],["e-hide"])}},t.prototype.autoFitColumns=function(e){this.resizeModule&&this.resizeModule.autoFitColumns(e)},t.prototype.preventAdjustColumns=function(){if(!(this.enableAdaptiveUI&&"Vertical"===this.rowRenderingMode||this.allowResizing&&"Auto"===this.resizeSettings.mode)){for(var e=this.getColumns(),t=this.getHeaderTable(),i=0,n=0;n<e.length;n++)if(e[parseInt(n.toString(),10)].visible){if(this.groupSettings.columns.length&&this.groupSettings.columns.indexOf(e[parseInt(n.toString(),10)].field)>-1)if("none"===[].slice.call(t.querySelector("colgroup").querySelectorAll(":not(.e-group-intent):not(.e-detail-intent):not(.e-drag-intent)"))[parseInt(n.toString(),10)].style.display)continue;if(!e[parseInt(n.toString(),10)].width){i=0;break}i+=parseFloat(e[parseInt(n.toString(),10)].width.toString())}if(i){var r=this.isPercentageWidthGrid(),s=this.widthUnit(r),o=this.getContentTable();if(this.groupSettings.columns.length||this.isDetail()||this.isRowDragable()){var a=this.defaultIndentWidth(r),l=a.toString()+s,h=[].slice.call(t.querySelector("colgroup").querySelectorAll(".e-group-intent, .e-detail-intent, .e-drag-intent")),c=[].slice.call(o.querySelector("colgroup").querySelectorAll(".e-group-intent, .e-detail-intent, .e-drag-intent"));for(n=0;n<h.length;n++)h[parseInt(n.toString(),10)].style.setProperty("width",l),c[parseInt(n.toString(),10)].style.setProperty("width",l),i+=a}(r&&i<100||!r&&i<o.parentElement.clientWidth)&&Fa([t,o],["e-tableborder"]);var u=i.toString()+s;t.style.setProperty("width",u),o.style.setProperty("width",u)}else this.restoreAdjustColumns()}},t.prototype.restoreAdjustColumns=function(){if(!(this.enableAdaptiveUI&&"Vertical"===this.rowRenderingMode||this.allowResizing&&"Auto"===this.resizeSettings.mode)){var e=this.getHeaderTable(),t=this.getContentTable();if(Ba([e,t],["e-tableborder"]),e.style.removeProperty("width"),t.style.removeProperty("width"),this.groupSettings.columns.length||this.isDetail()||this.isRowDragable()){var i=this.isPercentageWidthGrid(),n=this.defaultIndentWidth(i).toString()+this.widthUnit(i);[].slice.call(e.querySelector("colgroup").querySelectorAll(".e-group-intent, .e-detail-intent, .e-drag-intent")).forEach((function(e){e.style.setProperty("width",n)})),e.querySelector(".e-emptycell").removeAttribute("indentRefreshed"),this.recalcIndentWidth()}}},t.prototype.widthUnit=function(e){return e?"%":"px"},t.prototype.defaultIndentWidth=function(e){return e?parseFloat((30/this.element.offsetWidth*100).toFixed(1)):30},t.prototype.isPercentageWidthGrid=function(){return this.getColumns()[0].width.toString().indexOf("%")>-1},t.prototype.createColumnchooser=function(e,t,i){this.columnChooserModule&&this.columnChooserModule.renderColumnChooser(e,t,i)},t.prototype.initializeServices=function(){this.serviceLocator.register("widthService",this.widthService=new wS(this)),this.serviceLocator.register("cellRendererFactory",new vS),this.serviceLocator.register("rendererFactory",new SS),this.serviceLocator.register("localization",this.localeObj=new ch(this.getModuleName(),this.defaultLocale,this.locale)),this.serviceLocator.register("valueFormatter",this.valueFormatterService=new hg(this.locale)),this.serviceLocator.register("showHideService",this.showHider=new PS(this)),this.serviceLocator.register("ariaService",this.ariaService=new qM),this.serviceLocator.register("focus",this.focusModule=new IS(this))},t.prototype.processModel=function(){var e,t,i=this.groupSettings.columns,n=this.sortSettings.columns;if(this.allowGrouping)for(var r=function(r,o){t=0;for(var a=n.length;t<a;t++)if(n[parseInt(t.toString(),10)].field===i[parseInt(r.toString(),10)]){e=!0;break}if(e?s.allowSorting?s.sortedColumns.push(n[parseInt(t.toString(),10)].field):n[parseInt(t.toString(),10)].direction="Ascending":n.push({field:i[parseInt(r.toString(),10)],direction:"Ascending",isFromGroup:!0}),!s.groupSettings.showGroupedColumn){var l=s.enableColumnVirtualization?s.columns.filter((function(e){return e.field===i[parseInt(r.toString(),10)]}))[0]:s.getColumnByField(i[parseInt(r.toString(),10)]);l?l.visible=!1:s.log("initial_action",{moduleName:"group",columnName:i[parseInt(r.toString(),10)]})}},s=this,o=0,a=i.length;o<a;o++)r(o);if(!i.length)for(o=0;o<n.length;o++)this.sortedColumns.push(n[parseInt(o.toString(),10)].field);if(this.rowTemplateFn=Wy(this.rowTemplate),this.detailTemplateFn=Wy(this.detailTemplate),this.editTemplateFn=Wy(this.editSettings.template),this.editHeaderTemplateFn=Wy(this.editSettings.headerTemplate),this.editFooterTemplateFn=Wy(this.editSettings.footerTemplate),!ko(this.parentDetails)){var l=ko(this.parentDetails.parentKeyFieldValue)?"undefined":this.parentDetails.parentKeyFieldValue;this.query.where(this.queryString,"equal",l,!0)}this.initForeignColumn()},t.prototype.initForeignColumn=function(){this.isForeignKeyEnabled(this.getColumns())&&this.notify("initForeignKeyColumn",this.getForeignKeyColumns())},t.prototype.enableVerticalRendering=function(){"Vertical"===this.rowRenderingMode?this.element.classList.add("e-row-responsive"):this.element.classList.remove("e-row-responsive")},t.prototype.gridRender=function(){var e;this.updateRTL(),"Vertical"===this.rowRenderingMode&&this.element.classList.add("e-row-responsive"),this.enableHover&&this.element.classList.add("e-gridhover"),La.isDevice&&this.element.classList.add("e-device"),this.rowHeight&&this.element.classList.add("e-grid-min-height"),this.cssClass&&(-1!==this.cssClass.indexOf(" ")?(e=this.element.classList).add.apply(e,this.cssClass.split(" ")):this.element.classList.add(this.cssClass)),this.allowRowDragAndDrop&&this.rowDropSettings.targetID&&"mozilla"===La.info.name&&this.element.classList.add("e-disableuserselect"),el(this.element,["e-responsive","e-default"],[]);var t=this.serviceLocator.getService("rendererFactory");this.headerModule=t.getRenderer(av.Header),this.contentModule=t.getRenderer(av.Content),this.printModule=new Py(this,this.scrollModule),this.clipboardModule=new HS(this,this.serviceLocator),this.renderModule.render(),this.eventInitializer(),this.createGridPopUpElement(),this.widthService.setWidthToColumns(),this.updateGridLines(),this.applyTextWrap(),this.createTooltip(),this.enableBoxSelection()},t.prototype.dataReady=function(){this.scrollModule.setWidth(),this.scrollModule.setHeight(),"auto"!==this.height&&this.scrollModule.setPadding()},t.prototype.updateRTL=function(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},t.prototype.createGridPopUpElement=function(){var e=this.createElement("div",{className:"e-gridpopup",styles:"display:none;"}),t=this.createElement("div",{className:vy,attrs:{tabIndex:"-1"}});Wa([t,this.createElement("div",{className:"e-uptail e-tail"})],e),t.appendChild(this.createElement("span")),Wa([t,this.createElement("div",{className:"e-downtail e-tail"})],e),this.element.appendChild(e)},t.prototype.updateGridLines=function(){switch(el(this.element,[],["e-verticallines","e-horizontallines","e-hidelines","e-bothlines"]),this.gridLines){case"Horizontal":this.element.classList.add("e-horizontallines");break;case"Vertical":this.element.classList.add("e-verticallines");break;case"None":this.element.classList.add("e-hidelines");break;case"Both":this.element.classList.add("e-bothlines")}this.updateResizeLines()},t.prototype.updateResizeLines=function(){this.allowResizing&&"Vertical"!==this.gridLines&&"Both"!==this.gridLines?this.element.classList.add("e-resize-lines"):this.element.classList.remove("e-resize-lines")},t.prototype.applyTextWrap=function(){if(this.allowTextWrap){var e=[].slice.call(this.element.getElementsByClassName("e-columnheader"));switch(this.textWrapSettings.wrapMode){case"Header":mv(this.element,!1),mv(this.getContent(),!1),mv(e,!0);break;case"Content":mv(this.getContent(),!0),mv(this.element,!1),mv(e,!1);break;default:mv(this.element,!0),mv(this.getContent(),!1),mv(e,!1)}"Content"!==this.textWrapSettings.wrapMode&&this.notify(Gm,{})}},t.prototype.removeTextWrap=function(){mv(this.element,!1),mv([].slice.call(this.element.getElementsByClassName("e-columnheader")),!1),mv(this.getContent(),!1),"Content"!==this.textWrapSettings.wrapMode&&this.notify(Gm,{})},t.prototype.createTooltip=function(){this.toolTipObj=new lg({opensOn:"custom",content:"",cssClass:this.cssClass?this.cssClass:null},this.element)},t.prototype.freezeRefresh=function(){(this.enableVirtualization||this.enableInfiniteScrolling)&&(this.pageSettings.currentPage=1),this.componentRefresh()},t.prototype.getTooltipStatus=function(e){var t=this.getHeaderTable(),i="e-gridheader",n=this.createTable(t,i,"header"),r=this.createTable(t,i,"content"),s=e.classList.contains("e-headercell")?n:r,o=e.classList.contains("e-headercell")?"th":"tr";s.querySelector(o).className=e.className,s.querySelector(o).innerHTML=e.innerHTML;var a=s.querySelector(o).getBoundingClientRect().width;return document.body.removeChild(n),document.body.removeChild(r),a>e.getBoundingClientRect().width&&!e.classList.contains("e-editedbatchcell")},t.prototype.mouseMoveHandler=function(e){if(this.isEllipsisTooltip()){var t=Jy(e.target,"e-ellipsistooltip");this.prevElement===t&&"mouseout"!==e.type||this.toolTipObj.close();var i=e.target.tagName;if(t&&"mouseout"!==e.type&&(!La.isDevice||-1===["A","BUTTON","INPUT"].indexOf(i))){if(t.getAttribute("data-tooltip-id"))return;if(this.getTooltipStatus(t)){var n=this.getColumns()[parseInt(t.getAttribute(xy),10)],r=n.disableHtmlEncode?"innerText":"innerHTML",s=this.createElement("div");if(t.getElementsByClassName("e-headertext").length){var o=t.getElementsByClassName("e-headertext")[0];s[""+r]=this.sanitize(o.innerText),this.toolTipObj.content=s}else s[""+r]=this.sanitize(t.innerText),this.toolTipObj.content=s;this.prevElement=t,this.enableHtmlSanitizer&&(this.toolTipObj.enableHtmlSanitizer=!0),n.disableHtmlEncode&&(this.toolTipObj.enableHtmlParse=!1),this.toolTipObj.open(t)}}}},t.prototype.isEllipsisTooltip=function(){var e=this.getColumns();if("EllipsisWithTooltip"===this.clipMode)return!0;for(var t=0;t<e.length;t++)if("EllipsisWithTooltip"===e[parseInt(t.toString(),10)].clipMode)return!0;return!1},t.prototype.scrollHandler=function(){this.isEllipsisTooltip()&&this.toolTipObj.close()},t.prototype.createTable=function(e,t,i){var n=this.createElement("div");n.className=this.element.className,n.style.cssText="display: inline-block;visibility:hidden;position:absolute";var r=this.createElement("div");r.className=t;var s=this.createElement("table",{attrs:{role:"grid"}});s.className=e.className,s.style.cssText="table-layout: auto;width: auto";var o="header"===i?"th":"td",a=this.createElement("tr"),l=this.createElement(o);return a.appendChild(l),s.appendChild(a),r.appendChild(s),n.appendChild(r),document.body.appendChild(n),n},t.prototype.onKeyPressed=function(e){"tab"!==e.action&&"shiftTab"!==e.action||this.toolTipObj.close()},t.prototype.wireEvents=function(){Oa.add(this.element,"click",this.mouseClickHandler,this),Oa.add(this.element,"touchend",this.mouseClickHandler,this),Oa.add(this.element,"focusout",this.focusOutHandler,this),Oa.add(this.element,"dblclick",this.dblClickHandler,this),Oa.add(this.element,"keydown",this.keyPressHandler,this),Oa.add(window,"resize",this.resetIndentWidth,this),this.allowKeyboard&&(this.element.tabIndex=-1===this.element.tabIndex?0:this.element.tabIndex),this.keyboardModule=new hh(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),Oa.add(this.getContent().firstElementChild,"scroll",this.scrollHandler,this),Oa.add(this.element,"mousemove",this.mouseMoveHandler,this),Oa.add(this.element,"mouseout",this.mouseMoveHandler,this),Oa.add(this.getContent(),"touchstart",this.tapEvent,this),Oa.add(document.body,"keydown",this.keyDownHandler,this)},t.prototype.unwireEvents=function(){Oa.remove(this.element,"click",this.mouseClickHandler),Oa.remove(this.element,"touchend",this.mouseClickHandler),Oa.remove(this.element,"focusout",this.focusOutHandler),Oa.remove(this.element,"dblclick",this.dblClickHandler),Oa.remove(this.getContent().firstElementChild,"scroll",this.scrollHandler),Oa.remove(this.element,"mousemove",this.mouseMoveHandler),Oa.remove(this.element,"mouseout",this.mouseMoveHandler),Oa.remove(this.element,"keydown",this.keyPressHandler),Oa.remove(this.getContent(),"touchstart",this.tapEvent),Oa.remove(document.body,"keydown",this.keyDownHandler),Oa.remove(window,"resize",this.resetIndentWidth)},t.prototype.addListener=function(){this.isDestroyed||(this.on(Hg,this.dataReady,this),this.on(Wg,this.recalcIndentWidth,this),this.on(Xg,this.recalcIndentWidth,this),this.on(hy,this.refreshFrozenPosition,this),this.on(cy,this.refreshSplitFrozenColumn,this),this.dataBoundFunction=this.refreshMediaCol.bind(this),this.addEventListener(Sg,this.dataBoundFunction),this.on(nm,this.onKeyPressed,this))},t.prototype.removeListener=function(){this.isDestroyed||(this.off(Hg,this.dataReady),this.off(Wg,this.recalcIndentWidth),this.off(Xg,this.recalcIndentWidth),this.on(hy,this.refreshFrozenPosition,this),this.on(cy,this.refreshSplitFrozenColumn,this),this.removeEventListener(Sg,this.dataBoundFunction),this.off(nm,this.onKeyPressed))},t.prototype.getCurrentViewRecords=function(){return Dv(this)?ko(this.currentViewData.records)?this.currentViewData:this.currentViewData.records:this.groupSettings.enableLazyLoading?this.currentViewData:this.allowGrouping&&this.groupSettings.columns.length&&this.currentViewData.length&&this.currentViewData.records?this.currentViewData.records:this.currentViewData},t.prototype.mouseClickHandler=function(e){if(!(this.isChildGrid(e)||Jy(e.target,"e-gridpopup")&&e.touches||this.element.getElementsByClassName("e-cloneproperties").length||this.checkEdit(e))&&((this.allowRowDragAndDrop||!Jy(e.target,dy)&&"TD"!==e.target.tagName)&&(this.allowGrouping||this.allowReordering||!Jy(e.target,"e-gridheader"))||!e.touches)){Jy(e.target,"e-gridheader")&&this.allowRowDragAndDrop&&!Jy(e.target,"e-filterbarcell")&&e.target&&-1===["A","BUTTON","INPUT"].indexOf(e.target.tagName)&&e.preventDefault();var t=this.getRowInfo(e.target);t.cancel=!1;var i=!1,n=Za(e.target,"tr");if(n&&n.getAttribute("data-uid")){var r=this.getRowObjectFromUID(n.getAttribute("data-uid"));i=!!r&&r.isDataRow}i&&this.trigger("recordClick",t),this.notify(rm,e)}},t.prototype.checkEdit=function(e){var t=Jy(e.target,My),i="Batch"!==this.editSettings.mode&&this.isEdit&&t&&(t.classList.contains(wy)||t.classList.contains(_y));return!Jy(e.target,"e-unboundcelldiv")&&(i||Jy(e.target,uy)&&Jy(e.target,uy).classList.contains("e-editedbatchcell"))},t.prototype.dblClickHandler=function(e){var t=Jy(e.target,"e-grid");if(!ko(t)&&t.id===this.element.id&&!Za(e.target,".e-unboundcelldiv")){var i=!1,n=Za(e.target,"tr");if(n&&n.getAttribute("data-uid")){var r=this.getRowObjectFromUID(n.getAttribute("data-uid"));i=!!r&&r.isDataRow}var s=this.getRowInfo(e.target);s.target=e.target,i&&this.trigger("recordDoubleClick",s),this.notify("dblclick",e)}},t.prototype.focusOutHandler=function(e){if(!this.isChildGrid(e)){Jy(e.target,"e-grid")||(this.element.querySelector(".e-gridpopup").style.display="None");var t=this.element.querySelector(".e-cancel:not(.e-hide)");t&&!t.parentElement.classList.contains("e-tbar-btn")&&t.classList.add("e-hide");var i=e.relatedTarget,n=i?i.getAttribute("aria-owns"):null;i&&(Jy(i,"e-grid")||(!ko(n)&&n)===e.target.getAttribute("aria-owns"))||this.keyPress||!this.isEdit||La.isDevice||("Batch"!==this.editSettings.mode||(Jy(i,"e-ddl")||Jy(i,"e-ddt"))&&Jy(i,"e-input-group")||!Jy(i,"e-uploader")&&i&&ko(Jy(i,"e-input-group"))||(this.editModule.saveCell(),this.notify("editNextValCell",{})),"Normal"===this.editSettings.mode&&this.editModule.editFormValidate()),this.keyPress=!1}},t.prototype.isChildGrid=function(e){var t=Jy(e.target,"e-grid");return!!(t&&t.id!==this.element.id||Jy(e.target,"e-unboundcelldiv")&&ko(t))},t.prototype.mergePersistGridData=function(e){var t=this.getLocalData();if(!ko(t)&&""!==t||!ko(e)){var i=ko(e)?JSON.parse(t):e;this.enableVirtualization&&i.pageSettings&&(i.pageSettings.currentPage=1);var n=Object.keys(i);this.isProtectedOnChange=!0;for(var r=0,s=n;r<s.length;r++){var o=s[r];"object"!==typeof this[""+o]||ko(this[""+o])?this[""+o]=i[""+o]:Array.isArray(this[""+o])&&"columns"===o?(qy(this[""+o]),this.mergeColumns(i[""+o],this[""+o]),this[""+o]=i[""+o]):Eo(this[""+o],i[""+o])}this.isProtectedOnChange=!1}},t.prototype.mergeColumns=function(e,t){for(var i=e,n=function(e){var n=t.filter((function(t){return t.index===i[parseInt(e.toString(),10)].index}))[0];ko(n)||(n.columns&&n.columns.length?(r.mergeColumns(i[parseInt(e.toString(),10)].columns,n.columns),i[parseInt(e.toString(),10)]=Eo(n,i[parseInt(e.toString(),10)],{},!0)):i[parseInt(e.toString(),10)]=Eo(n,i[parseInt(e.toString(),10)],{},!0))},r=this,s=0;s<i.length;s++)n(s)},t.prototype.isDetail=function(){return!ko(this.detailTemplate)||!ko(this.childGrid)},t.prototype.isCommandColumn=function(e){var t=this;return e.some((function(e){return e.columns?t.isCommandColumn(e.columns):!(!e.commands&&!e.commandsTemplate)}))},t.prototype.isForeignKeyEnabled=function(e){var t=this;return e.some((function(e){return e.columns?t.isForeignKeyEnabled(e.columns):!(!e.dataSource||!e.foreignKeyValue)}))},t.prototype.keyPressHandler=function(e){var t=Eo(e,{cancel:!1});this.trigger("keyPressed",t),!0===t.cancel&&e.stopImmediatePropagation()},t.prototype.keyDownHandler=function(e){if(e.altKey){if(74===e.keyCode&&(this.keyA?(this.notify(qm,{target:e.target,collapse:!1}),this.keyA=!1):(this.focusModule&&this.focusModule.currentInfo&&this.focusModule.currentInfo.element&&(Ba([this.focusModule.currentInfo.element,this.focusModule.currentInfo.elementToFocus],["e-focused","e-focus"]),this.focusModule.currentInfo.element.tabIndex=-1),this.element.classList.contains("e-childgrid")||this.element.focus())),87===e.keyCode){var t=this.focusModule;if(t){if(!this.currentViewData.length)return;t.focusContent(),t.addOutline()}}65===e.keyCode&&(this.keyA=!0),72===e.keyCode&&this.keyA&&(this.notify(qm,{target:e.target,collapse:!0}),this.keyA=!1)}13===e.keyCode&&this.notify(sy,e)},t.prototype.keyActionHandler=function(e){this.isChildGrid(e)||this.isEdit&&"escape"!==e.action&&"enter"!==e.action&&"shiftEnter"!==e.action&&"tab"!==e.action&&"shiftTab"!==e.action||(this.keyPress=!0,this.allowKeyboard&&("ctrlPlusP"===e.action&&(e.preventDefault(),this.print()),this.notify(nm,e)))},t.prototype.setInjectedModules=function(e){this.injectedModules=e},t.prototype.updateColumnObject=function(){Gy(this.columns,this.enableColumnVirtualization,this),qy(this.columns),this.initForeignColumn(),this.notify(fm,{})},t.prototype.refreshFrozenPosition=function(e){e&&e.isModeChg?(this.refreshColumns(),this.notify("refresh-Resize-Position",{})):this.refreshColumns()},t.prototype.getForeignKeyColumns=function(){return this.getColumns().filter((function(e){return e.isForeignColumn()}))},t.prototype.getRowHeight=function(){return this.rowHeight?this.rowHeight:function(e){if(void 0!==rv)return rv;var t=Ra("table",{className:by,styles:"visibility: hidden",attrs:{role:"grid"}});t.innerHTML='<tr><td class="e-rowcell">A<td></tr>',e.appendChild(t);var i=t.querySelector("td").getBoundingClientRect();return e.removeChild(t),rv=Math.ceil(i.height)}(this.element)},t.prototype.refreshColumns=function(){if(this.freezeColumnRefresh=!0,this.setFrozenCount(),this.updateFrozenColumnsWidth(),this.isFrozenGrid()&&(this.isPreventScrollEvent=!0),this.updateColumnObject(),this.checkLockColumns(this.getColumns()),this.refresh(),this.isFrozenGrid()&&this.enableColumnVirtualization){var e=this.getContent().querySelector(".e-movablescrollbar").scrollLeft;this.getHeaderContent().querySelector("."+gy).scrollLeft=e,this.getContent().querySelector("."+vy).scrollLeft=e}},t.prototype.excelExport=function(e,t,i,n){if(this.exportGrids&&this.exportGrids.length){var r=this.exportGrids.slice();return this.exportMultipleExcelGrids(r,e,t,i,n)}return this.excelExportModule?this.excelExportModule.Map(this,e,t,i,!1,n):null},t.prototype.csvExport=function(e,t,i,n){return this.excelExportModule?this.excelExportModule.Map(this,e,t,i,!0,n):null},t.prototype.pdfExport=function(e,t,i,n){if(this.exportGrids&&this.exportGrids.length){var r=this.exportGrids.slice();return this.exportMultiplePdfGrids(r,e,t,i,n)}return this.pdfExportModule?this.pdfExportModule.Map(this,e,t,i,n):null},t.prototype.exportMultiplePdfGrids=function(e,t,i,n,r){var s=this;if(0!==e.length){var o=e.shift(),a=document.getElementById(o).ej2_instances[0];return(a.pdfExportModule?a.pdfExportModule.Map(a,t,i,n,r):Promise.resolve()).then((function(n){return i=1!==e.length,s.exportMultiplePdfGrids(e,t,i,n,r)}))}return null},t.prototype.exportMultipleExcelGrids=function(e,t,i,n,r){var s=this;if(0!==e.length){var o=e.shift(),a=document.getElementById(o).ej2_instances[0];return(a.excelExportModule?a.excelExportModule.Map(a,t,i,n,!1,r):null).then((function(n){return i=1!==e.length,s.exportMultipleExcelGrids(e,t,i,n,r)}))}return null},t.prototype.groupColumn=function(e){this.groupModule&&this.groupModule.groupColumn(e)},t.prototype.groupExpandAll=function(){this.groupModule&&this.groupModule.expandAll()},t.prototype.groupCollapseAll=function(){this.groupModule&&this.groupModule.collapseAll()},t.prototype.clearGrouping=function(){this.groupModule&&this.groupModule.clearGrouping()},t.prototype.ungroupColumn=function(e){this.groupModule&&this.groupModule.ungroupColumn(e)},t.prototype.openColumnChooser=function(e,t){this.columnChooserModule&&this.columnChooserModule.openColumnChooser(e,t)},t.prototype.scrollRefresh=function(){var e=this,t=function(){e.scrollModule.refresh(),e.off(Wg,t)};this.on(Wg,t,this)},t.prototype.detailCollapseAll=function(){this.detailRowModule&&this.detailRowModule.collapseAll()},t.prototype.detailExpandAll=function(){this.detailRowModule&&this.detailRowModule.expandAll()},t.prototype.clearCellSelection=function(){this.selectionModule&&this.selectionModule.clearCellSelection()},t.prototype.clearRowSelection=function(){this.selectionModule&&this.selectionModule.clearRowSelection()},t.prototype.selectCells=function(e){this.selectionModule&&this.selectionModule.selectCells(e)},t.prototype.selectRowsByRange=function(e,t){this.selectionModule&&this.selectionModule.selectRowsByRange(e,t)},t.prototype.isContextMenuOpen=function(){return this.contextMenuModule&&this.contextMenuModule.isOpen},t.prototype.ensureModuleInjected=function(e){return this.getInjectedModules().indexOf(e)>=0},t.prototype.destroyTemplate=function(e,t){this.clearTemplate(e,t)},t.prototype.log=function(e,t){this.loggerModule&&this.loggerModule.log(e,t)},t.prototype.applyBiggerTheme=function(e){this.element.classList.contains("e-bigger")&&e.classList.add("e-bigger")},t.prototype.getPreviousRowData=function(){return this.getRowsObject()[this.getRows().length-1].data},t.prototype.hideScroll=function(){var e=this.getContent().querySelector("."+vy);e.scrollHeight<=e.clientHeight&&(this.scrollModule.removePadding(),e.style.overflowY="auto")},t.prototype.getRowIndexByPrimaryKey=function(e){var t=this.getPrimaryKeyFieldNames()[0];e="object"===typeof e?e[""+t]:e;for(var i=this.getRowsObject(),n=0;n<i.length;n++)if(!i[parseInt(n.toString(),10)].isDetailRow&&!i[parseInt(n.toString(),10)].isCaptionRow){var r=i[parseInt(n.toString(),10)].data[""+t];if(t.split(".").length>1&&(r=Jv(t,i[parseInt(n.toString(),10)].data)),r===e)return i[parseInt(n.toString(),10)].index}return-1},t.prototype.grabColumnByFieldFromAllCols=function(e,t){var i;this.columnModel=[],this.updateColumnModel(this.columns);for(var n=this.columnModel,r=0;r<n.length;r++)if(!t&&e===n[parseInt(r.toString(),10)].field||t&&n[parseInt(r.toString(),10)].isForeignColumn()&&e===n[parseInt(r.toString(),10)].foreignKeyValue){i=n[parseInt(r.toString(),10)];break}return i},t.prototype.grabColumnByUidFromAllCols=function(e){var t;this.columnModel=[],this.updateColumnModel(this.columns);for(var i=this.columnModel,n=0;n<i.length;n++)e===i[parseInt(n.toString(),10)].uid&&(t=i[parseInt(n.toString(),10)]);return t},t.prototype.getFilteredRecords=function(){if(this.allowFiltering&&this.filterSettings.columns.length){var e=this.renderModule.data.generateQuery(!0);return this.dataSource&&this.renderModule.data.isRemote()&&this.dataSource instanceof mp?this.renderModule.data.getData(this.dataSource,e):this.dataSource instanceof mp?this.dataSource.executeLocal(e):new mp(this.dataSource,e).executeLocal(e)}return[]},t.prototype.getUserAgent=function(){var e=La.userAgent.toLowerCase();return/iphone|ipod|ipad|macintosh/.test(e)},t.prototype.tapEvent=function(e){this.getUserAgent()&&(sv.timer?(clearTimeout(sv.timer),sv.timer=null,this.dblClickHandler(e),this.notify("double-tap",e)):sv.timer=setTimeout((function(){sv.timer=null}),300))},t.prototype.getRowUid=function(e){return""+e+this.rowUid++},t.prototype.getRowElementByUID=function(e){for(var t,i=[].slice.call(this.getContent().querySelector(jy).children),n=0,r=this.frozenRows?[].slice.call(this.getHeaderContent().querySelector(jy).children).concat(i):i;n<r.length;n++){var s=r[n];if(s.getAttribute("data-uid")===e){t=s;break}}return t},t.prototype.getHiddenColumns=function(){for(var e=[],t=0,i=this.columnModel;t<i.length;t++){var n=i[t];!1===n.visible&&e.push(n)}return e},t.prototype.calculatePageSizeByParentHeight=function(e){if(this.allowPaging&&(this.allowTextWrap&&"Header"===this.textWrapSettings.wrapMode||!this.allowTextWrap)){var t=0;if(-1!==e.indexOf("%")&&(e=parseInt(e,10)/100*this.element.clientHeight),e>this.getNoncontentHeight()+this.getRowHeight()){t=(e-this.getNoncontentHeight())/this.getRowHeight()}if(t>0)return Math.floor(t)}return 0},t.prototype.getNoncontentHeight=function(){var e=0;if(ko(this.getHeaderContent().clientHeight)||(e+=this.getHeaderContent().clientHeight),this.toolbar&&!ko(this.element.querySelector(".e-toolbar").clientHeight)&&(e+=this.element.querySelector(".e-toolbar").clientHeight),this.allowPaging&&!ko(this.element.querySelector(".e-gridpager").clientHeight)&&(e+=this.element.querySelector(".e-gridpager").clientHeight),this.showColumnChooser&&!ko(this.element.querySelector(".e-columnheader").clientHeight)&&(e+=this.element.querySelector(".e-columnheader").clientHeight),this.allowGrouping&&this.groupSettings.showDropArea&&!ko(this.element.querySelector(".e-groupdroparea").clientHeight)&&(e+=this.element.querySelector(".e-groupdroparea").clientHeight),this.aggregates.length>0&&!ko(this.element.querySelector(".e-summaryrow").clientHeight))for(var t=0;t<this.element.getElementsByClassName("e-summaryrow").length;t++)e+=this.element.getElementsByClassName("e-summaryrow")[parseInt(t.toString(),10)].clientHeight;return e},t.prototype.getSummaryValues=function(e,t){return bp.aggregates[e.type.toLowerCase()](t,e.field)},t.prototype.serverExcelExport=function(e){this.isExcel=!0,this.exportGrid(e)},t.prototype.serverPdfExport=function(e){this.isExcel=!1,this.exportGrid(e)},t.prototype.serverCsvExport=function(e){this.isExcel=!0,this.exportGrid(e)},t.prototype.exportGrid=function(e){var t=this.getDataModule().generateQuery(!0),i=(new up).processQuery(new mp({url:""}),t),n=JSON.parse(i.data),r=JSON.parse(this.addOnPersist(["allowGrouping","allowPaging","pageSettings","sortSettings","allowPdfExport","allowExcelExport","aggregates","filterSettings","groupSettings","columns","locale","searchSettings"]));r.filterSettings.columns=n.where,r.searchSettings.fields=n.search&&n.search[0].fields||[],r.sortSettings.columns=n.sorted,r.columns=this.setHeaderText(r.columns,["field","headerText","type","format","visible","foreignKeyValue","foreignKeyField","template","index","width","textAlign","headerTextAlign","columns"]);var s=this.createElement("form",{id:"ExportForm",styles:"display:none;"}),o=this.createElement("input",{id:"gridInput",attrs:{name:"gridModel"}});o.value=JSON.stringify(r),s.method="POST",s.action=e,s.appendChild(o),document.body.appendChild(s),s.submit(),s.remove()},t.prototype.setHeaderText=function(e,t){for(var i=0;i<e.length;i++){var n=this.getColumnByUid(e[parseInt(i.toString(),10)].uid);e[parseInt(i.toString(),10)].headerText=n.headerText,ko(n.template)||(e[parseInt(i.toString(),10)].template="true"),e[parseInt(i.toString(),10)].format&&(e[parseInt(i.toString(),10)].format=Xv(this.getFormat(e[parseInt(i.toString(),10)].format),e[parseInt(i.toString(),10)].type,this.isExcel,ma)),e[parseInt(i.toString(),10)].columns&&this.setHeaderText(e[parseInt(i.toString(),10)].columns,t);for(var r=Object.keys(e[parseInt(i.toString(),10)]),s=0;s<r.length;s++)t.indexOf(r[parseInt(s.toString(),10)])<0&&delete e[parseInt(i.toString(),10)][r[parseInt(s.toString(),10)]]}return e},t.prototype.getFormat=function(e){return"object"===typeof e?ko(e.format)?e.skeleton:e.format:e},t.prototype.isCollapseStateEnabled=function(){return!1===this.isExpanded},t.prototype.updateRowValue=function(e,t){var i={requestType:"save",data:t};this.showSpinner(),this.notify(mm,i),this.refresh()},t.prototype.setForeignKeyData=function(){this.dataBind();var e=this.getDataModule().getForeignKeyDataState();e.isPending?(this.getDataModule().setForeignKeyDataState({}),e.resolver()):(this.getDataModule().setForeignKeyDataState({isDataChanged:!1}),(this.contentModule||this.headerModule)&&this.renderModule.render())},t.prototype.resetFilterDlgPosition=function(e){var t=this.getColumnHeaderByField(e);if(t){var i=t.querySelector(".e-filtermenudiv"),n=this.element.querySelector(".e-filter-popup");if(i&&n){var r=this.element.getBoundingClientRect(),s=i.getBoundingClientRect();n&&(n.offsetWidth+s.right>r.right?n.style.left=(s.right-n.offsetWidth-r.left).toString()+"px":n.style.left=(s.right-r.left).toString()+"px")}}},t.prototype.renderTemplates=function(e){if(this.parentDetails&&this.parentDetails.parentInstObj&&this.parentDetails.parentInstObj.isReact&&this.portals)this.parentDetails.parentInstObj.portals=this.parentDetails.parentInstObj.portals.concat(this.portals),this.parentDetails.parentInstObj.renderTemplates(e),this.portals=void 0;else{this.notify("reactTemplateRender",this.portals),this.renderReactTemplates(e)}},t.prototype.batchUpdate=function(e){this.processRowChanges(e)},t.prototype.batchAsyncUpdate=function(e){this.processBulkRowChanges(e)},t.prototype.processBulkRowChanges=function(e){var t=this;if(this.dataToBeUpdated)for(var i=[Iy,"changedRecords",Ny],n=this.getPrimaryKeyFieldNames()[0],r=0;r<i.length;r++)e[i[parseInt(r.toString(),10)]]&&Uv(this,e,i[parseInt(r.toString(),10)],n);else this.dataToBeUpdated=Object.assign({addedRecords:[],changedRecords:[],deletedRecords:[]},e),setTimeout((function(){t.processRowChanges(t.dataToBeUpdated),t.dataToBeUpdated=null}),this.asyncTimeOut)},t.prototype.processRowChanges=function(e){var t=this,i=this.getPrimaryKeyFieldNames()[0];e=Object.assign({addedRecords:[],changedRecords:[],deletedRecords:[]},e);var n=this.getDataModule().saveChanges(e,i,{},this.getDataModule().generateQuery().requiresCount());this.getDataModule().isRemote()?n.then((function(){t.setNewData()})):this.setNewData()},t.prototype.setNewData=function(){var e=this,t=JSON.parse(JSON.stringify(this.getCurrentViewRecords()));this.getDataModule().getData({},this.getDataModule().generateQuery().requiresCount()).then((function(i){e.bulkRefresh(i.result,t,i.count)}))},t.prototype.deleteRowElement=function(e){qa(this.getRowElementByUID(e.uid))},t.prototype.bulkRefresh=function(e,t,i){for(var n,r=this,s=this.getRowsObject(),o=this.getPrimaryKeyFieldNames()[0],a=function(t){e.filter((function(e){return e[""+o]===s[parseInt(t.toString(),10)].data[""+o]})).length||(l.deleteRowElement(s[parseInt(t.toString(),10)]),s.splice(t,1),t--),n=t},l=this,h=0;h<s.length;h++)a(h),h=n;var c=function(i){var n;t.filter((function(t){t[""+o]===e[parseInt(i.toString(),10)][""+o]&&(t!==e[parseInt(i.toString(),10)]&&r.setRowData(e[parseInt(i.toString(),10)][""+o],e[parseInt(i.toString(),10)]),n=!0)})),n||u.renderRowElement(e[parseInt(i.toString(),10)],i)},u=this;for(h=0;h<e.length;h++)c(h);this.currentViewData=e;var p,d=[].slice.call(this.getContentTable().getElementsByClassName(My));!function(e,t,i,n,r){for(var s=n||0,o=r||0;o<t.length;o++)if(t[parseInt(o.toString(),10)]&&t[parseInt(o.toString(),10)].isDataRow){t[parseInt(o.toString(),10)].index=s,t[parseInt(o.toString(),10)].isAltRow=!!e.enableAltRow&&s%2!==0,i[parseInt(o.toString(),10)].setAttribute(Ty,s.toString()),i[parseInt(o.toString(),10)].setAttribute(Ay,(s+1).toString()),t[parseInt(o.toString(),10)].isAltRow?i[parseInt(o.toString(),10)].classList.add("e-altrow"):i[parseInt(o.toString(),10)].classList.remove("e-altrow");for(var a=0;a<i[parseInt(o.toString(),10)].cells.length;a++)i[parseInt(o.toString(),10)].cells[parseInt(a.toString(),10)].setAttribute("index",s.toString());s++}t.length||e.renderModule.emptyRow(!0)}(this,this.getRowsObject(),d),(p=this).contentModule.rowElements=[].slice.call(p.element.querySelectorAll(".e-row:not(.e-addedrow)")),this.allowPaging&&this.notify(qg,{module:"pager",properties:{totalRecordsCount:i}})},t.prototype.renderRowElement=function(e,t){var i=new OM(this.serviceLocator,null,this),n=new PM(this).generateRows([e]),r=i.render(n[0],this.getColumns());this.addRowObject(n[0],t);var s=this.getContentTable().querySelector(jy);if(s.querySelector(".e-emptyrow")){var o=s.querySelector(".e-emptyrow");o.parentNode.removeChild(o),this.frozenRows&&this.element.querySelector(".e-frozenrow-empty")&&this.element.querySelector(".e-frozenrow-empty").classList.remove("e-frozenrow-empty")}s=this.frozenRows&&t<this.frozenRows?this.getHeaderContent().querySelector(jy):this.getContent().querySelector(jy),(s=this.getContent().querySelector(jy)).appendChild(r)},t.prototype.addRowObject=function(e,t){this.getRowsObject().splice(t,1,e)},t.prototype.updateVisibleExpandCollapseRows=function(){for(var e=this.getRowsObject(),t=0,i=e.length;t<i;t++)(e[parseInt(t.toString(),10)].isDataRow||e[parseInt(t.toString(),10)].isAggregateRow)&&"none"===this.getRowElementByUID(e[parseInt(t.toString(),10)].uid).style.display?e[parseInt(t.toString(),10)].visible=!1:e[parseInt(t.toString(),10)].visible=!0},t.prototype.sanitize=function(e){return this.enableHtmlSanitizer?$h.sanitize(e):e},t.prototype.getHeight=function(e){return e=Number.isInteger(e)||-1===e.indexOf("%")?Number.isInteger(e)||"auto"===this.height?this.height:parseInt(e,10):parseInt(e,10)/100*this.element.clientHeight},t.prototype.getFrozenRightContent=function(){return this.contentModule.getPanel()},t.prototype.getFrozenRightHeader=function(){return this.headerModule.getPanel()},t.prototype.getMovableHeaderTbody=function(){return this.getHeaderContent().querySelector(jy)},t.prototype.getMovableContentTbody=function(){return this.getContent().querySelector(jy)},t.prototype.getFrozenHeaderTbody=function(){return this.getHeaderContent().querySelector(jy)},t.prototype.getFrozenLeftContentTbody=function(){return this.getContent().querySelector(jy)},t.prototype.getFrozenRightHeaderTbody=function(){return this.getHeaderContent().querySelector(jy)},t.prototype.getFrozenRightContentTbody=function(){return this.getContent().querySelector(jy)},t.prototype.showResponsiveCustomFilter=function(e){this.filterModule&&this.filterModule.showCustomFilter(e||"Vertical"===this.rowRenderingMode)},t.prototype.showResponsiveCustomSort=function(e){this.sortModule&&this.sortModule.showCustomSort(e||"Vertical"===this.rowRenderingMode)},t.prototype.showAdaptiveFilterDialog=function(){this.enableAdaptiveUI&&this.showResponsiveCustomFilter(!0)},t.prototype.showAdaptiveSortDialog=function(){this.enableAdaptiveUI&&this.showResponsiveCustomSort(!0)},t.prototype.getCurrentVisibleColumns=function(e){for(var t=[],i=0,n=e?this.getColumns():this.columnModel;i<n.length;i++){var r=n[i];r.visible&&t.push(r)}return t},t.prototype.enableInfiniteAggrgate=function(){this.enableInfiniteScrolling&&this.groupSettings.columns.length&&!this.groupSettings.disablePageWiseAggregates&&!this.groupSettings.enableLazyLoading&&this.setProperties({groupSettings:{disablePageWiseAggregates:!0}},!0)},YS([fl([])],t.prototype,"currentViewData",void 0),YS([fl()],t.prototype,"parentDetails",void 0),YS([fl()],t.prototype,"showHider",void 0),YS([fl([])],t.prototype,"columns",void 0),YS([fl(!0)],t.prototype,"enableAltRow",void 0),YS([fl(!0)],t.prototype,"enableHover",void 0),YS([fl(!1)],t.prototype,"enableAutoFill",void 0),YS([fl(!0)],t.prototype,"allowKeyboard",void 0),YS([fl(!1)],t.prototype,"enableStickyHeader",void 0),YS([fl(!1)],t.prototype,"enableHtmlSanitizer",void 0),YS([fl(!1)],t.prototype,"allowTextWrap",void 0),YS([gl({},ew)],t.prototype,"textWrapSettings",void 0),YS([gl({},tw)],t.prototype,"resizeSettings",void 0),YS([fl(!1)],t.prototype,"allowPaging",void 0),YS([gl({},jS)],t.prototype,"pageSettings",void 0),YS([gl({},rw)],t.prototype,"loadingIndicator",void 0),YS([fl(!0)],t.prototype,"enableVirtualMaskRow",void 0),YS([fl(!1)],t.prototype,"enableVirtualization",void 0),YS([fl(!1)],t.prototype,"enableColumnVirtualization",void 0),YS([fl(!1)],t.prototype,"enableInfiniteScrolling",void 0),YS([gl({},ZS)],t.prototype,"searchSettings",void 0),YS([fl(!1)],t.prototype,"allowSorting",void 0),YS([fl("Ellipsis")],t.prototype,"clipMode",void 0),YS([fl(!0)],t.prototype,"allowMultiSorting",void 0),YS([fl(!1)],t.prototype,"allowExcelExport",void 0),YS([fl(!1)],t.prototype,"allowPdfExport",void 0),YS([gl({},qS)],t.prototype,"sortSettings",void 0),YS([gl({},KS)],t.prototype,"infiniteScrollSettings",void 0),YS([fl(!0)],t.prototype,"allowSelection",void 0),YS([fl(-1)],t.prototype,"selectedRowIndex",void 0),YS([gl({},JS)],t.prototype,"selectionSettings",void 0),YS([fl(!1)],t.prototype,"allowFiltering",void 0),YS([fl("Horizontal")],t.prototype,"rowRenderingMode",void 0),YS([fl(!1)],t.prototype,"enableAdaptiveUI",void 0),YS([fl(!1)],t.prototype,"allowReordering",void 0),YS([fl(!1)],t.prototype,"allowResizing",void 0),YS([fl(!1)],t.prototype,"allowRowDragAndDrop",void 0),YS([gl({},$S)],t.prototype,"rowDropSettings",void 0),YS([gl({},XS)],t.prototype,"filterSettings",void 0),YS([fl(!1)],t.prototype,"allowGrouping",void 0),YS([fl(!1)],t.prototype,"enableImmutableMode",void 0),YS([fl(!1)],t.prototype,"showColumnMenu",void 0),YS([fl(!1)],t.prototype,"autoFit",void 0),YS([gl({},iw)],t.prototype,"groupSettings",void 0),YS([gl({},nw)],t.prototype,"editSettings",void 0),YS([ml([],US)],t.prototype,"aggregates",void 0),YS([fl(!1)],t.prototype,"showColumnChooser",void 0),YS([gl({},zS)],t.prototype,"columnChooserSettings",void 0),YS([fl(!1)],t.prototype,"enableHeaderFocus",void 0),YS([fl("auto")],t.prototype,"height",void 0),YS([fl("auto")],t.prototype,"width",void 0),YS([fl("Default")],t.prototype,"gridLines",void 0),YS([fl()],t.prototype,"rowTemplate",void 0),YS([fl()],t.prototype,"detailTemplate",void 0),YS([fl()],t.prototype,"childGrid",void 0),YS([fl()],t.prototype,"queryString",void 0),YS([fl("AllPages")],t.prototype,"printMode",void 0),YS([fl("Expanded")],t.prototype,"hierarchyPrintMode",void 0),YS([fl([])],t.prototype,"dataSource",void 0),YS([fl(null)],t.prototype,"rowHeight",void 0),YS([fl()],t.prototype,"query",void 0),YS([fl("USD")],t.prototype,"currencyCode",void 0),YS([fl()],t.prototype,"exportGrids",void 0),YS([fl()],t.prototype,"toolbar",void 0),YS([fl()],t.prototype,"contextMenuItems",void 0),YS([fl()],t.prototype,"columnMenuItems",void 0),YS([fl()],t.prototype,"toolbarTemplate",void 0),YS([fl()],t.prototype,"pagerTemplate",void 0),YS([fl(0)],t.prototype,"frozenRows",void 0),YS([fl(0)],t.prototype,"frozenColumns",void 0),YS([fl("")],t.prototype,"cssClass",void 0),YS([fl("All")],t.prototype,"columnQueryMode",void 0),YS([fl({})],t.prototype,"currentAction",void 0),YS([fl("")],t.prototype,"ej2StatePersistenceVersion",void 0),YS([yl()],t.prototype,"created",void 0),YS([yl()],t.prototype,"destroyed",void 0),YS([yl()],t.prototype,"load",void 0),YS([yl()],t.prototype,"rowDataBound",void 0),YS([yl()],t.prototype,"queryCellInfo",void 0),YS([yl()],t.prototype,"headerCellInfo",void 0),YS([yl()],t.prototype,"actionBegin",void 0),YS([yl()],t.prototype,"actionComplete",void 0),YS([yl()],t.prototype,"actionFailure",void 0),YS([yl()],t.prototype,"dataBound",void 0),YS([yl()],t.prototype,"recordDoubleClick",void 0),YS([yl()],t.prototype,"recordClick",void 0),YS([yl()],t.prototype,"rowSelecting",void 0),YS([yl()],t.prototype,"rowSelected",void 0),YS([yl()],t.prototype,"rowDeselecting",void 0),YS([yl()],t.prototype,"rowDeselected",void 0),YS([yl()],t.prototype,"cellSelecting",void 0),YS([yl()],t.prototype,"cellSelected",void 0),YS([yl()],t.prototype,"cellDeselecting",void 0),YS([yl()],t.prototype,"cellDeselected",void 0),YS([yl()],t.prototype,"columnSelecting",void 0),YS([yl()],t.prototype,"columnSelected",void 0),YS([yl()],t.prototype,"columnDeselecting",void 0),YS([yl()],t.prototype,"columnDeselected",void 0),YS([yl()],t.prototype,"columnDragStart",void 0),YS([yl()],t.prototype,"columnDrag",void 0),YS([yl()],t.prototype,"columnDrop",void 0),YS([yl()],t.prototype,"printComplete",void 0),YS([yl()],t.prototype,"beforePrint",void 0),YS([yl()],t.prototype,"pdfQueryCellInfo",void 0),YS([yl()],t.prototype,"pdfHeaderQueryCellInfo",void 0),YS([yl()],t.prototype,"pdfAggregateQueryCellInfo",void 0),YS([yl()],t.prototype,"excelAggregateQueryCellInfo",void 0),YS([yl()],t.prototype,"exportDetailDataBound",void 0),YS([yl()],t.prototype,"exportDetailTemplate",void 0),YS([yl()],t.prototype,"excelQueryCellInfo",void 0),YS([yl()],t.prototype,"excelHeaderQueryCellInfo",void 0),YS([yl()],t.prototype,"beforeExcelExport",void 0),YS([yl()],t.prototype,"excelExportComplete",void 0),YS([yl()],t.prototype,"beforePdfExport",void 0),YS([yl()],t.prototype,"pdfExportComplete",void 0),YS([yl()],t.prototype,"rowDragStartHelper",void 0),YS([yl()],t.prototype,"detailDataBound",void 0),YS([yl()],t.prototype,"rowDragStart",void 0),YS([yl()],t.prototype,"rowDrag",void 0),YS([yl()],t.prototype,"rowDrop",void 0),YS([yl()],t.prototype,"toolbarClick",void 0),YS([yl()],t.prototype,"beforeOpenColumnChooser",void 0),YS([yl()],t.prototype,"beforeOpenAdaptiveDialog",void 0),YS([yl()],t.prototype,"batchAdd",void 0),YS([yl()],t.prototype,"batchDelete",void 0),YS([yl()],t.prototype,"batchCancel",void 0),YS([yl()],t.prototype,"beforeBatchAdd",void 0),YS([yl()],t.prototype,"beforeBatchDelete",void 0),YS([yl()],t.prototype,"beforeBatchSave",void 0),YS([yl()],t.prototype,"beginEdit",void 0),YS([yl()],t.prototype,"commandClick",void 0),YS([yl()],t.prototype,"cellEdit",void 0),YS([yl()],t.prototype,"cellSave",void 0),YS([yl()],t.prototype,"cellSaved",void 0),YS([yl()],t.prototype,"resizeStart",void 0),YS([yl()],t.prototype,"resizing",void 0),YS([yl()],t.prototype,"resizeStop",void 0),YS([yl()],t.prototype,"keyPressed",void 0),YS([yl()],t.prototype,"beforeDataBound",void 0),YS([yl()],t.prototype,"contextMenuOpen",void 0),YS([yl()],t.prototype,"contextMenuClick",void 0),YS([yl()],t.prototype,"columnMenuOpen",void 0),YS([yl()],t.prototype,"columnMenuClick",void 0),YS([yl()],t.prototype,"checkBoxChange",void 0),YS([yl()],t.prototype,"beforeCopy",void 0),YS([yl()],t.prototype,"beforePaste",void 0),YS([yl()],t.prototype,"beforeAutoFill",void 0),YS([yl()],t.prototype,"columnDataStateChange",void 0),YS([yl()],t.prototype,"dataStateChange",void 0),YS([yl()],t.prototype,"dataSourceChanged",void 0),YS([yl()],t.prototype,"exportGroupCaption",void 0),YS([yl()],t.prototype,"lazyLoadGroupExpand",void 0),YS([yl()],t.prototype,"lazyLoadGroupCollapse",void 0),t=i=YS([vl],t)}(Xl),ow=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),aw=function(e){function t(t){var i=e.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.directivekeys={columns:{column:{stackedColumns:"stackedColumn"}},aggregates:{aggregate:{aggregateColumns:"aggregateColumn"}}},i.statelessTemplateProps=null,i.templateProps=["template","headerTemplate","commandsTemplate","filter.itemTemplate","editTemplate","filterTemplate"],i.immediateRender=!1,i.portals=[],i}return ow(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing)||this.isReactForeceUpdate)return n.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(sw);od(aw,[sd,n.Component]);var lw=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lw(t,e),t.moduleName="column",t.complexTemplate={"filter.itemTemplate":"filter.itemTemplate"},t}(ld),cw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lw(t,e),t.propertyName="columns",t.moduleName="columns",t}(ld),uw=function(){function e(e){this.pagerModule=e}return e.prototype.render=function(){this.pagerElement=this.pagerModule.element,this.renderNumericContainer(),this.refreshNumericLinks(),this.wireEvents()},e.prototype.refresh=function(){this.pagerModule.updateTotalPages(),this.links.length&&this.updateLinksHtml(),this.refreshAriaAttrLabel(),this.updateStyles()},e.prototype.refreshNumericLinks=function(){var e,t=this.pagerModule,i=t.element.querySelector(".e-numericcontainer"),n=document.createDocumentFragment();i.innerHTML="";for(var r=1;r<=t.pageCount;r++)e=Ra("a",{className:"e-link e-numericitem e-spacing e-pager-default",attrs:{tabindex:"-1","aria-label":t.getLocalizedLabel("Page")+r+t.getLocalizedLabel("Of")+t.totalPages+t.getLocalizedLabel("Pages"),href:"#",name:"Goto page"+r}}),t.currentPage===r&&(el(e,["e-currentitem","e-active"],["e-pager-default"]),e.setAttribute("aria-current","page")),n.appendChild(e);i.appendChild(n),this.links=[].slice.call(i.childNodes)},e.prototype.wireEvents=function(){Oa.add(this.pagerElement,"click",this.clickHandler,this),Oa.add(this.pagerElement,"auxclick",this.auxiliaryClickHandler,this)},e.prototype.unwireEvents=function(){Oa.remove(this.pagerModule.element,"click",this.clickHandler),Oa.remove(this.pagerModule.element,"auxclick",this.auxiliaryClickHandler)},e.prototype.destroy=function(){this.unwireEvents()},e.prototype.refreshAriaAttrLabel=function(){for(var e=this.pagerModule,t=e.element.querySelector(".e-numericcontainer").querySelectorAll("a"),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].hasAttribute("aria-label")&&t[parseInt(i.toString(),10)].hasAttribute("index")&&t[parseInt(i.toString(),10)].setAttribute("aria-label",e.getLocalizedLabel("Page")+t[parseInt(i.toString(),10)].getAttribute("index")+e.getLocalizedLabel("Of")+e.totalPages+e.getLocalizedLabel("Pages"))},e.prototype.renderNumericContainer=function(){this.element=Ra("div",{className:"e-pagercontainer",attrs:{role:"navigation"}}),this.renderFirstNPrev(this.element),this.renderPrevPagerSet(this.element),this.element.appendChild(Ra("div",{className:"e-numericcontainer"})),this.renderNextPagerSet(this.element),this.renderNextNLast(this.element),this.pagerModule.element.appendChild(this.element)},e.prototype.renderFirstNPrev=function(e){this.first=Ra("div",{className:"e-first e-icons e-icon-first",attrs:{title:this.pagerModule.getLocalizedLabel("firstPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("firstPageTooltip"),tabindex:"-1",role:"button"}}),this.prev=Ra("div",{className:"e-prev e-icons e-icon-prev",attrs:{title:this.pagerModule.getLocalizedLabel("previousPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("previousPageTooltip"),tabindex:"-1",role:"button"}}),Wa([this.first,this.prev],e)},e.prototype.renderPrevPagerSet=function(e){var t=Ra("div");this.PP=Ra("a",{className:"e-link e-pp e-spacing",innerHTML:"...",attrs:{title:this.pagerModule.getLocalizedLabel("previousPagerTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("previousPagerTooltip"),tabindex:"-1",name:this.pagerModule.getLocalizedLabel("previousPagerTooltip"),href:"#"}}),t.appendChild(this.PP),e.appendChild(t)},e.prototype.renderNextPagerSet=function(e){var t=Ra("div");this.NP=Ra("a",{className:"e-link e-np e-spacing",innerHTML:"...",attrs:{title:this.pagerModule.getLocalizedLabel("nextPagerTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("nextPagerTooltip"),tabindex:"-1",name:this.pagerModule.getLocalizedLabel("nextPagerTooltip"),href:"#"}}),t.appendChild(this.NP),e.appendChild(t)},e.prototype.renderNextNLast=function(e){this.next=Ra("div",{className:"e-next e-icons e-icon-next",attrs:{title:this.pagerModule.getLocalizedLabel("nextPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("nextPageTooltip"),tabindex:"-1",role:"button"}}),this.last=Ra("div",{className:"e-last e-icons e-icon-last",attrs:{title:this.pagerModule.getLocalizedLabel("lastPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("lastPageTooltip"),tabindex:"-1",role:"button"}}),Wa([this.next,this.last],e)},e.prototype.clickHandler=function(e){var t=this.pagerModule;return this.target=e.target,this.target.classList.contains("e-numericitem")&&e.preventDefault(),t.previousPageNo=t.currentPage,this.target.classList.contains("e-disable")||ko(this.target.getAttribute("index"))||(t.currentPage=parseInt(this.target.getAttribute("index"),10),t.dataBind()),!1},e.prototype.auxiliaryClickHandler=function(e){this.target=e.target,this.target.classList.contains("e-numericitem")&&1===e.button&&e.preventDefault()},e.prototype.updateLinksHtml=function(){var e,t,i,n=this.pagerModule,r=this.pagerElement.querySelectorAll('.e-numericitem:not(.e-hide):not([style*="display: none"]):not(.e-np):not(.e-pp)');n.currentPage=1===n.totalPages?1:n.currentPage,n.currentPage>n.totalPages&&n.totalPages&&(n.currentPage=n.totalPages),e=parseInt((n.currentPage/n.pageCount).toString(),10),n.currentPage%n.pageCount===0&&e>0&&(e-=1);for(var s=0;s<n.pageCount;s++){if(n.isPagerResized){var o=this.pagerElement.querySelector(".e-focus"),a=this.target?this.target:o||null,l=!1,h=!1,c=!1,u=!1,p=!1,d=!1,f=!1;if(a){var g=a.classList;if(g.contains("e-icons"))switch(!0){case g.contains("e-prev"):l=!0;break;case g.contains("e-next"):h=!0;break;case g.contains("e-first"):c=!0;break;case g.contains("e-last"):u=!0}else if(g.contains("e-numericitem"))switch(!0){case g.contains("e-np"):d=!0;break;case g.contains("e-pp"):f=!0;break;default:p=g.contains("e-numericitem")}}t=u||"End"===this.pagerModule.keyAction,r=this.pagerElement.querySelectorAll('.e-numericitem:not(.e-hide):not([style*="display: none"]):not(.e-np):not(.e-pp)');var m=Array.from(r).some((function(e){return parseInt(e.getAttribute("index"),10)===n.currentPage}));i=c||"Home"===this.pagerModule.keyAction?1+s:u||"End"===this.pagerModule.keyAction?e*n.pageCount+1+s:h||"ArrowRight"===this.pagerModule.keyAction||l||"ArrowLeft"===this.pagerModule.keyAction?m?parseInt(r[0].getAttribute("index"),10)+s:l||"ArrowLeft"===this.pagerModule.keyAction?parseInt(this.PP.getAttribute("index"),10)+s:n.currentPage+s:d||f?n.currentPage+s:p?parseInt(r[0].getAttribute("index"),10)+s:e*n.pageCount+1+s}else i=e*n.pageCount+1+s;i<=n.totalPages?(this.links[parseInt(s.toString(),10)].classList.remove("e-hide"),this.links[parseInt(s.toString(),10)].style.display="",this.links[parseInt(s.toString(),10)].setAttribute("index",i.toString()),this.links[parseInt(s.toString(),10)].innerHTML=n.customText?n.customText+i:i.toString(),n.currentPage!==i?this.links[parseInt(s.toString(),10)].classList.add("e-pager-default"):this.links[parseInt(s.toString(),10)].classList.remove("e-pager-default")):(this.links[parseInt(s.toString(),10)].innerHTML=n.customText?n.customText+i:i.toString(),this.links[parseInt(s.toString(),10)].style.display="none"),el(this.links[parseInt(s.toString(),10)],[],["e-currentitem","e-active"]),this.links[parseInt(s.toString(),10)].removeAttribute("aria-current")}Ga(this.first,{index:"1",title:this.pagerModule.getLocalizedLabel("firstPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("firstPageTooltip")}),Ga(this.pagerElement.querySelector(".e-mfirst"),{index:"1",title:this.pagerModule.getLocalizedLabel("firstPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("firstPageTooltip")}),Ga(this.last,{index:n.totalPages.toString(),title:this.pagerModule.getLocalizedLabel("lastPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("lastPageTooltip")}),Ga(this.pagerElement.querySelector(".e-mlast"),{index:n.totalPages.toString(),title:this.pagerModule.getLocalizedLabel("lastPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("lastPageTooltip")}),Ga(this.prev,{index:(n.currentPage-1).toString(),title:this.pagerModule.getLocalizedLabel("previousPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("previousPageTooltip")}),Ga(this.pagerElement.querySelector(".e-mprev"),{index:(n.currentPage-1).toString(),title:this.pagerModule.getLocalizedLabel("previousPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("previousPageTooltip")}),Ga(this.next,{index:(n.currentPage+1).toString(),title:this.pagerModule.getLocalizedLabel("nextPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("nextPageTooltip")}),Ga(this.pagerElement.querySelector(".e-mnext"),{index:(n.currentPage+1).toString(),title:this.pagerModule.getLocalizedLabel("nextPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("nextPageTooltip")});var y=this.pagerModule.isPagerResized&&r.length?t?parseInt(r[0].getAttribute("index"),10)-n.avgNumItems:parseInt(r[0].getAttribute("index"),10)-r.length:parseInt(this.links[0].getAttribute("index"),10)-n.pageCount;Ga(this.PP,{index:y<1?"1":y.toString(),title:this.pagerModule.getLocalizedLabel("previousPagerTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("previousPagerTooltip")});var v=this.pagerModule.isPagerResized&&r.length?parseInt(r[r.length-1].getAttribute("index"),10):parseInt(this.links[this.links.length-1].getAttribute("index"),10);Ga(this.NP,{index:(v+1).toString(),title:this.pagerModule.getLocalizedLabel("nextPagerTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("nextPagerTooltip")}),this.target=void 0},e.prototype.updateStyles=function(){var e=this;if(this.updateFirstNPrevStyles(),this.updatePrevPagerSetStyles(),this.updateNextPagerSetStyles(),this.updateNextNLastStyles(),this.links.length){var t=this.links.findIndex((function(t){return t.getAttribute("index")===e.pagerModule.currentPage.toString()})),i=this.pagerModule.isPagerResized&&-1!==t?t:(this.pagerModule.currentPage-1)%this.pagerModule.pageCount;el(this.links[parseInt(i.toString(),10)],["e-currentitem","e-active"],[]),this.links[parseInt(i.toString(),10)].setAttribute("aria-current","page")}},e.prototype.updateFirstNPrevStyles=function(){var e=["e-firstpage","e-pager-default"],t=["e-firstpagedisabled","e-disable"],i=["e-prevpage","e-pager-default"],n=["e-prevpagedisabled","e-disable"];this.pagerModule.totalPages>0&&this.pagerModule.currentPage>1?(el(this.prev,i,n),el(this.first,e,t),el(this.pagerElement.querySelector(".e-mfirst"),e,t),el(this.pagerElement.querySelector(".e-mprev"),i,n)):(el(this.prev,n,i),el(this.first,t,e),el(this.pagerElement.querySelector(".e-mprev"),n,i),el(this.pagerElement.querySelector(".e-mfirst"),t,e))},e.prototype.updatePrevPagerSetStyles=function(){this.pagerModule.currentPage>this.pagerModule.pageCount||this.pagerModule.isPagerResized&&this.links.findIndex((function(e){return 1===parseInt(e.getAttribute("index"),10)}))?el(this.PP,["e-numericitem","e-pager-default"],["e-nextprevitemdisabled","e-disable"]):el(this.PP,["e-nextprevitemdisabled","e-disable"],["e-numericitem","e-pager-default"])},e.prototype.updateNextPagerSetStyles=function(){var e=this.pagerModule,t=this.links[0].innerHTML.replace(e.customText,""),i=this.pagerElement.querySelectorAll('.e-numericitem:not(.e-hide):not([style*="display: none"]):not(.e-np):not(.e-pp)');!t.length||!this.links.length||parseInt(t,10)+e.pageCount>e.totalPages||e.isPagerResized&&Array.from(i).some((function(t){return parseInt(t.getAttribute("index"),10)===e.totalPages}))?el(this.NP,["e-nextprevitemdisabled","e-disable"],["e-numericitem","e-pager-default"]):el(this.NP,["e-numericitem","e-pager-default"],["e-nextprevitemdisabled","e-disable"])},e.prototype.updateNextNLastStyles=function(){var e=["e-lastpage","e-pager-default"],t=["e-lastpagedisabled","e-disable"],i=["e-nextpage","e-pager-default"],n=["e-nextpagedisabled","e-disable"],r=this.pagerModule;r.currentPage===r.totalPages||0===r.totalRecordsCount?(el(this.last,t,e),el(this.next,n,i),el(this.pagerElement.querySelector(".e-mlast"),t,e),el(this.pagerElement.querySelector(".e-mnext"),n,i)):(el(this.last,e,t),el(this.next,i,n),el(this.pagerElement.querySelector(".e-mlast"),e,t),el(this.pagerElement.querySelector(".e-mnext"),i,n))},e}(),pw=function(){function e(e){this.pagerModule=e}return e.prototype.render=function(){var e=Ra("div",{className:"e-parentmsgbar",attrs:{"aria-label":this.pagerModule.getLocalizedLabel("Information")}});this.pageNoMsgElem=Ra("span",{className:"e-pagenomsg",styles:"textalign:right"}),this.pageCountMsgElem=Ra("span",{className:"e-pagecountmsg",styles:"textalign:right"}),Wa([this.pageNoMsgElem,this.pageCountMsgElem],e),this.pagerModule.element.appendChild(e),this.refresh()},e.prototype.refresh=function(){var e=this.pagerModule;this.pageNoMsgElem.textContent=this.format(e.getLocalizedLabel("currentPageInfo"),[0===e.totalRecordsCount?0:e.currentPage,e.totalPages||0,e.totalRecordsCount||0])+" ",this.pageCountMsgElem.textContent=this.format(e.getLocalizedLabel(e.totalRecordsCount<=1?"totalItemInfo":"totalItemsInfo"),[e.totalRecordsCount||0,e.totalRecordsCount?e.pageSize*(e.currentPage-1)+1:0,e.pageSize*e.currentPage>e.totalRecordsCount?e.totalRecordsCount:e.pageSize*e.currentPage]),this.pageNoMsgElem.parentElement.setAttribute("aria-label",this.pageNoMsgElem.textContent+this.pageCountMsgElem.textContent),this.pageNoMsgElem.parentElement.classList.remove("e-hide")},e.prototype.hideMessage=function(){this.pageNoMsgElem&&(this.pageNoMsgElem.style.display="none"),this.pageCountMsgElem&&(this.pageCountMsgElem.style.display="none")},e.prototype.showMessage=function(){this.pageNoMsgElem||this.render(),this.pageNoMsgElem.style.display="",this.pageCountMsgElem.style.display=""},e.prototype.destroy=function(){},e.prototype.format=function(e,t){for(var i,n=0;n<t.length;n++)i=new RegExp("\\{"+n+"\\}","gm"),e=e.replace(i,t[parseInt(n.toString(),10)].toString());return e},e}(),dw=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fw=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},gw=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.hasParent=!1,r.checkAll=!0,r.pageRefresh="pager-refresh",r.firstPagerFocus=!1,r.parent=n,r}return dw(t,e),t.prototype.requiredModules=function(){var e=[];return this.enableExternalMessage&&e.push({member:"externalMessage",args:[this]}),this.checkpagesizes()&&e.push({member:"pagerdropdown",args:[this]}),e},t.prototype.preRender=function(){this.defaultConstants={currentPageInfo:"{0} of {1} pages",totalItemsInfo:"({0} items)",totalItemInfo:"({0} item)",firstPageTooltip:"Go to first page",lastPageTooltip:"Go to last page",nextPageTooltip:"Go to next page",previousPageTooltip:"Go to previous page",nextPagerTooltip:"Go to next pager items",previousPagerTooltip:"Go to previous pager items",pagerDropDown:"Items per page",pagerAllDropDown:"Items",CurrentPageInfo:"{0} of {1} pages",TotalItemsInfo:"({0} items)",FirstPageTooltip:"Go to first page",LastPageTooltip:"Go to last page",NextPageTooltip:"Go to next page",PreviousPageTooltip:"Go to previous page",NextPagerTooltip:"Go to next pager items",PreviousPagerTooltip:"Go to previous pager items",PagerDropDown:"Items per page",PagerAllDropDown:"Items",All:"All",Container:"Pager Container",Information:"Pager Information",ExternalMsg:"Pager external message",Page:"Page ",Of:" of ",Pages:" Pages"},this.containerModule=new uw(this),this.pagerMessageModule=new pw(this)},t.prototype.render=function(){this.element.setAttribute("data-role","pager"),this.element.setAttribute("tabindex","-1"),this.initLocalization(),this.element.setAttribute("aria-label",this.getLocalizedLabel("Container")),this.cssClass&&(-1!==this.cssClass.indexOf(" ")?Fa([this.element],this.cssClass.split(" ")):Fa([this.element],[this.cssClass])),this.hasParent||this.element.setAttribute("tabindex","0"),this.template?this.isReactTemplate()?(this.on(this.pageRefresh,this.pagerTemplate,this),this.notify(this.pageRefresh,{})):this.pagerTemplate():(this.updateRTL(),this.totalRecordsCount=this.totalRecordsCount||0,this.renderFirstPrevDivForDevice(),this.containerModule.render(),this.enablePagerMessage&&this.pagerMessageModule.render(),this.renderNextLastDivForDevice(),this.checkpagesizes()&&this.pagerdropdownModule&&this.pagerdropdownModule.render(),this.addAriaLabel(),this.enableExternalMessage&&this.externalMessageModule&&this.externalMessageModule.render(),this.refresh(),this.trigger("created",{currentPage:this.currentPage,totalRecordsCount:this.totalRecordsCount})),this.wireEvents(),this.addListener()},t.prototype.getPersistData=function(){return this.addOnPersist(["currentPage","pageSize"])},t.prototype.destroy=function(){this.isDestroyed||(this.isReactTemplate()&&(this.off(this.pageRefresh,this.pagerTemplate),this.hasParent||this.destroyTemplate(["template"])),this.removeListener(),this.unwireEvents(),e.prototype.destroy.call(this),this.containerModule.destroy(),this.pagerMessageModule.destroy(),this.isReactTemplate()||(this.element.innerHTML=""))},t.prototype.destroyTemplate=function(e,t){this.clearTemplate(e,t)},t.prototype.getModuleName=function(){return"pager"},t.prototype.onPropertyChanged=function(e,t){if(!this.isDestroyed)if(e.pageSize!==this.getLocalizedLabel("All")||t.pageSize!==this.totalRecordsCount){e.pageCount!==t.pageCount&&(this.containerModule.refreshNumericLinks(),this.containerModule.refresh());for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"currentPage":this.checkGoToPage(e.currentPage,t.currentPage)&&this.currentPageChanged(e,t);break;case"pageSize":case"totalRecordsCount":case"customText":this.checkpagesizes()&&this.pagerdropdownModule&&(t.pageSize!==e.pageSize&&(this.currentPage=1),this.pagerdropdownModule.setDropDownValue("value",this.pageSize)),e.pageSize!==t.pageSize?(this.pageSize=e.pageSize,this.currentPageChanged(e,t)):this.refresh();break;case"pageSizes":this.checkpagesizes()&&this.pagerdropdownModule&&(this.pagerdropdownModule.destroy(),this.pagerdropdownModule.render()),this.refresh();break;case"template":this.templateFn=this.compile(this.template),this.refresh();break;case"locale":this.initLocalization(),this.refresh();break;case"enableExternalMessage":this.enableExternalMessage&&this.externalMessageModule&&this.externalMessageModule.render();break;case"externalMessage":this.externalMessageModule&&this.externalMessageModule.refresh();break;case"enableRtl":this.updateRTL();break;case"enablePagerMessage":this.enablePagerMessage?this.pagerMessageModule.showMessage():this.pagerMessageModule.hideMessage()}}this.resizePager()}else this.pageSize=this.totalRecordsCount},t.prototype.wireEvents=function(){this.hasParent||(Oa.add(this.element,"keydown",this.keyPressHandler,this),Oa.add(document.body,"keydown",this.keyDownHandler,this)),Oa.add(this.element,"focusin",this.onFocusIn,this),Oa.add(this.element,"focusout",this.onFocusOut,this),Oa.add(window,"resize",this.resizePager,this),Oa.add(window,"load",this.resizePager,this)},t.prototype.unwireEvents=function(){this.hasParent||(Oa.remove(this.element,"keydown",this.keyPressHandler),Oa.remove(document.body,"keydown",this.keyDownHandler)),Oa.remove(this.element,"focusin",this.onFocusIn),Oa.remove(this.element,"focusout",this.onFocusOut),Oa.remove(window,"resize",this.resizePager),Oa.remove(window,"load",this.resizePager)},t.prototype.onFocusIn=function(e){if(ko(this.getFocusedTabindexElement())){var t=e.target,i=this.getDropDownPage();if(this.hasParent||(this.element.tabIndex=-1),t===this.element&&!this.hasParent){var n=this.getFocusablePagerElements(this.element,[]);return void this.addFocus(n[0],!0)}if(t===this.element)return void(this.element.tabIndex=0);t===i||t.classList.contains("e-disable")||this.addFocus(t,!0)}},t.prototype.onFocusOut=function(e){var t=this.getFocusedElement(),i=this.getDropDownPage();ko(t)||this.removeFocus(t,!0),this.pageSizes&&i&&i.classList.contains("e-input-focus")&&this.removeFocus(i,!0),this.setTabIndexForFocusLastElement(),this.hasParent||(this.element.tabIndex=0),this.hasParent&&(this.element.tabIndex=-1)},t.prototype.keyDownHandler=function(e){if(e.altKey&&74===e.keyCode){var t=this.getFocusablePagerElements(this.element,[]);t.length>0&&t[0].focus()}},t.prototype.keyPressHandler=function(e){var t=Eo(e,{cancel:!1});this.notify(nm,t),!0===t.cancel&&e.stopImmediatePropagation()},t.prototype.addListener=function(){this.isDestroyed||this.hasParent||this.on(nm,this.onKeyPress,this)},t.prototype.removeListener=function(){this.isDestroyed||this.hasParent||this.off(nm,this.onKeyPress)},t.prototype.onKeyPress=function(e){this.hasParent||(this.checkPagerHasFocus()?this.changePagerFocus(e):(e.preventDefault(),this.setPagerFocus()))},t.prototype.checkPagerHasFocus=function(){return!!this.getFocusedTabindexElement()},t.prototype.setPagerContainerFocus=function(){this.element.focus()},t.prototype.setPagerFocus=function(){var e=this.getFocusablePagerElements(this.element,[]);e.length>0&&e[0].focus()},t.prototype.setPagerFocusForActiveElement=function(){var e=this.getActiveElement();e&&e.focus()},t.prototype.setTabIndexForFocusLastElement=function(){var e=this.getFocusablePagerElements(this.element,[]),t=this.getDropDownPage();this.pageSizes&&t&&!ko(t.offsetParent)?t.tabIndex=0:e.length>0&&(e[e.length-1].tabIndex=0)},t.prototype.changePagerFocus=function(e){this.keyAction=e.key,e.shiftKey&&9===e.keyCode?this.changeFocusByShiftTab(e):9===e.keyCode?this.changeFocusByTab(e):13===e.keyCode||32===e.keyCode?this.navigateToPageByEnterOrSpace(e):37!==e.keyCode&&39!==e.keyCode&&35!==e.keyCode&&36!==e.keyCode||this.navigateToPageByKey(e),this.keyAction=""},t.prototype.getFocusedTabindexElement=function(){for(var e,t=this.element.querySelectorAll('[tabindex]:not([tabindex="-1"])'),i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];if(n&&(n.classList.contains("e-focused")||n.classList.contains("e-input-focus"))){e=n;break}}return e},t.prototype.changeFocusByTab=function(e){var t=this.getFocusedTabindexElement(),i=this.getFocusablePagerElements(this.element,[]),n=this.getDropDownPage();if(i.length>0)if(this.pageSizes&&n&&t===i[i.length-1])n.tabIndex=0;else for(var r=0;r<i.length;r++)if(t===i[parseInt(r.toString(),10)]){var s=r+1;s<i.length&&(e.preventDefault(),i[parseInt(s.toString(),10)].focus());break}},t.prototype.changeFocusByShiftTab=function(e){var t=this.getFocusedTabindexElement(),i=this.getFocusablePagerElements(this.element,[]),n=this.getDropDownPage();if(this.pageSizes&&n&&n.classList.contains("e-input-focus"))n.tabIndex=-1,this.addFocus(i[i.length-1],!0);else if(i.length>0)for(var r=0;r<i.length;r++)if(t===i[parseInt(r.toString(),10)]){var s=r-1;if(s>=0)e.preventDefault(),i[parseInt(s.toString(),10)].focus();else if(this.hasParent){var o=this.parent.getRows(),a=o[o.length-1].lastChild;e.preventDefault(),a.focus(),this.firstPagerFocus=!0}break}},t.prototype.checkFirstPagerFocus=function(){return!!this.firstPagerFocus&&(this.firstPagerFocus=!1,!0)},t.prototype.navigateToPageByEnterOrSpace=function(e){var t=this.getFocusedElement();if(t){this.goToPage(parseInt(t.getAttribute("index"),10));var i=this.getActiveElement(),n=this.getClass(t),r=this.getElementByClass(n);"e-first"!==n&&"e-prev"!==n&&"e-next"!==n&&"e-last"!==n&&"e-pp"!==n&&"e-np"!==n||!r||r.classList.contains("e-disable")?this.checkFocusInAdaptiveMode(t)?this.changeFocusInAdaptiveMode(t):i&&i.focus():r.focus()}},t.prototype.navigateToPageByKey=function(e){var t=37===e.keyCode?".e-prev":39===e.keyCode?".e-next":35===e.keyCode?".e-last":36===e.keyCode?".e-first":"",i=this.element.querySelector(t),n=this.getFocusedElement();if(!ko(i)&&i.hasAttribute("index")&&!isNaN(parseInt(i.getAttribute("index"),10))){this.goToPage(parseInt(i.getAttribute("index"),10));var r=this.getActiveElement();this.checkFocusInAdaptiveMode(n)?this.changeFocusInAdaptiveMode(n):r&&r.focus()}},t.prototype.checkFocusInAdaptiveMode=function(e){var t=this.getClass(e);return"e-mfirst"===t||"e-mprev"===t||"e-mnext"===t||"e-mlast"===t},t.prototype.changeFocusInAdaptiveMode=function(e){var t=this.getClass(e),i=this.getElementByClass(t);i&&i.classList.contains("e-disable")&&("e-mnext"===t||"e-mlast"===t?this.element.querySelector(".e-mprev").focus():this.setPagerFocus())},t.prototype.removeTabindexLastElements=function(){var e=this.element.querySelectorAll('[tabindex]:not([tabindex="-1"])');if(e.length>1)for(var t=1;t<e.length;t++){var i=e[parseInt(t.toString(),10)];i&&(i.tabIndex=-1)}},t.prototype.getActiveElement=function(){return this.element.querySelector(".e-active")},t.prototype.getDropDownPage=function(){var e,t=this.element.querySelector(".e-pagerdropdown");return t&&(e=t.children[0]),e},t.prototype.getFocusedElement=function(){return this.element.querySelector(".e-focused")},t.prototype.getClass=function(e){for(var t,i=["e-mfirst","e-mprev","e-first","e-prev","e-pp","e-np","e-next","e-last","e-mnext","e-mlast"],n=0;n<i.length;n++)if(e&&e.classList.contains(i[parseInt(n.toString(),10)]))return t=i[parseInt(n.toString(),10)];return t},t.prototype.getElementByClass=function(e){return this.element.querySelector("."+e)},t.prototype.getFocusablePagerElements=function(e,t){for(var i=e.children,n=t,r=0;r<i.length;r++){var s=i[parseInt(r.toString(),10)];if(s.children.length>0&&!s.classList.contains("e-pagesizes"))n=this.getFocusablePagerElements(s,n);else{var o=i[parseInt(r.toString(),10)];!o.hasAttribute("tabindex")||s.classList.contains("e-disable")||"none"===s.style.display||ko(s.offsetParent)||n.push(o)}}return n},t.prototype.addFocus=function(e,t){t&&Fa([e],["e-focused","e-focus"]),e.tabIndex=0},t.prototype.removeFocus=function(e,t){t&&Ba([e],["e-focused","e-focus"]),e.tabIndex=-1},t.prototype.getLocalizedLabel=function(e){return this.localeObj.getConstant(e)},t.prototype.goToPage=function(e){this.checkGoToPage(e)&&(this.currentPage=e,this.dataBind())},t.prototype.setPageSize=function(e){this.pageSize=e,this.dataBind()},t.prototype.checkpagesizes=function(){return!(!0!==this.pageSizes&&!this.pageSizes.length)},t.prototype.checkGoToPage=function(e,t){return e!==this.currentPage&&(this.previousPageNo=this.currentPage),ko(t)||(this.previousPageNo=t),this.previousPageNo!==e&&e>=1&&e<=this.totalPages},t.prototype.currentPageChanged=function(e,t){if(this.enableQueryString&&this.updateQueryString(this.currentPage),e.currentPage!==t.currentPage||e.pageSize!==t.pageSize){var i={currentPage:this.currentPage,newProp:e,oldProp:t,cancel:!1};this.trigger("click",i),i.cancel?t.pageSize&&this.pageSize!==t.pageSize&&(this.setProperties({pageSize:t.pageSize},!1),this.pagerdropdownModule.dropDownListObject.text=t.pageSize+""):this.refresh()}},t.prototype.pagerTemplate=function(){if(!this.isReactTemplate()||!this.hasParent){var e;this.element.classList.add("e-pagertemplate"),this.compile(this.template);var t={currentPage:this.currentPage,pageSize:this.pageSize,pageCount:this.pageCount,totalRecordsCount:this.totalRecordsCount,totalPages:this.totalPages},i=this.element.parentElement.id+"_template";this.isReactTemplate()&&!this.isVue?(this.getPagerTemplate()(t,this,"template",i,null,null,this.element),this.renderReactTemplates()):(e=this.isVue?this.getPagerTemplate()(t,this,"template"):this.getPagerTemplate()(t),iv(this.element,e))}},t.prototype.updateTotalPages=function(){this.totalPages=this.isAllPage?1:this.totalRecordsCount%this.pageSize===0?this.totalRecordsCount/this.pageSize:parseInt((this.totalRecordsCount/this.pageSize).toString(),10)+1},t.prototype.getPagerTemplate=function(){return this.templateFn},t.prototype.compile=function(e){if(e)try{"function"===typeof e?this.templateFn=Uh(e):document.querySelectorAll(e).length&&(this.templateFn=Uh(document.querySelector(e).innerHTML.trim()))}catch(lE){this.templateFn=Uh(e)}},t.prototype.refresh=function(){if(this.template)this.isReactTemplate()?(this.updateTotalPages(),this.notify(this.pageRefresh,{})):(this.element.innerHTML="",this.updateTotalPages(),this.pagerTemplate());else{this.updateRTL();var e=this.getFocusedTabindexElement();this.containerModule.refresh(),this.removeTabindexLastElements(),e&&e.classList.contains("e-disable")&&(this.checkFocusInAdaptiveMode(e)?this.changeFocusInAdaptiveMode(e):this.setPagerFocusForActiveElement()),this.enablePagerMessage&&this.pagerMessageModule.refresh(),this.pagerdropdownModule&&this.pagerdropdownModule.refresh(),this.enableExternalMessage&&this.externalMessageModule&&this.externalMessageModule.refresh(),this.setTabIndexForFocusLastElement(),this.resizePager()}},t.prototype.updateRTL=function(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},t.prototype.initLocalization=function(){this.localeObj=new ch(this.getModuleName(),this.defaultConstants,this.locale)},t.prototype.updateQueryString=function(e){var t=this.getUpdatedURL(window.location.href,"page",e.toString());window.history.pushState({path:t},"",t)},t.prototype.getUpdatedURL=function(e,t,i){var n=new RegExp("([?|&])"+t+"=.*?(&|#|$)","i");if(e.match(n))return e.replace(n,"$1"+t+"="+i+"$2");var r="";return-1!==e.indexOf("#")&&(r=e.replace(/.*#/,"#"),e=e.replace(/#.*/,"")),e+(-1!==e.indexOf("?")?"&":"?")+t+"="+i+r},t.prototype.renderFirstPrevDivForDevice=function(){this.element.appendChild(Ra("div",{className:"e-mfirst e-icons e-icon-first",attrs:{title:this.getLocalizedLabel("firstPageTooltip"),tabindex:"-1"}})),this.element.appendChild(Ra("div",{className:"e-mprev e-icons e-icon-prev",attrs:{title:this.getLocalizedLabel("previousPageTooltip"),tabindex:"-1"}}))},t.prototype.renderNextLastDivForDevice=function(){this.element.appendChild(Ra("div",{className:"e-mnext e-icons e-icon-next",attrs:{title:this.getLocalizedLabel("nextPageTooltip"),tabindex:"-1"}})),this.element.appendChild(Ra("div",{className:"e-mlast e-icons e-icon-last",attrs:{title:this.getLocalizedLabel("lastPageTooltip"),tabindex:"-1"}}))},t.prototype.addAriaLabel=function(){var e=[".e-mfirst",".e-mprev",".e-mnext",".e-mlast"];if(!La.isDevice)for(var t=0;t<e.length;t++){var i=this.element.querySelector(e[parseInt(t.toString(),10)]);i.setAttribute("aria-label",i.getAttribute("title"))}},t.prototype.isReactTemplate=function(){return(this.isReact||this.isVue)&&this.template&&"string"!==typeof this.template},t.prototype.calculateActualWidth=function(){for(var e=this.element.querySelectorAll(".e-mfirst, .e-mprev, .e-icon-first, .e-icon-prev, .e-pp:not(.e-disable), .e-numericitem:not(.e-hide), .e-numericitem.e-active.e-hide, .e-np:not(.e-disable), .e-icon-next, .e-icon-last, .e-parentmsgbar, .e-mnext, .e-mlast, .e-pagerdropdown, .e-pagerconstant"),t=0,i=0;i<e.length;i++)"none"!==getComputedStyle(e[parseInt(i.toString(),10)]).display&&(t+=e[parseInt(i.toString(),10)].offsetWidth+parseFloat(getComputedStyle(e[parseInt(i.toString(),10)]).marginLeft)+parseFloat(getComputedStyle(e[parseInt(i.toString(),10)]).marginRight));var n=this.element.querySelector(".e-pagercontainer");return t+=parseFloat(getComputedStyle(n).marginLeft)+parseFloat(getComputedStyle(n).marginRight)},t.prototype.resizePager=function(){var e=this,t=this.element.classList.contains("e-pager")?getComputedStyle(this.element).getPropertyValue("border-style").includes("solid"):null;if(!this.template&&t){var i=this.element.querySelector(".e-pagercontainer"),n=this.calculateActualWidth(),r=this.element.clientWidth-parseFloat(getComputedStyle(this.element).paddingLeft)-parseFloat(getComputedStyle(this.element).paddingRight)-parseFloat(getComputedStyle(this.element).marginLeft)-parseFloat(getComputedStyle(this.element).marginRight),s=i.querySelectorAll('.e-numericitem:not(.e-hide):not([style*="display: none"]):not(.e-np):not(.e-pp)'),o=i.querySelectorAll('.e-numericitem.e-hide:not([style*="display: none"])'),a=s.length,l=ko(Jy(this.element,"e-bigger"))?5:10,h=i.querySelector(".e-np"),c=i.querySelector(".e-pp"),u=this.element.querySelectorAll('.e-parentmsgbar:not(.e-hide):not([style*="display: none"]), .e-pagesizes:not(.e-hide):not([style*="display: none"])'),p=0;u.length&&(u.forEach((function(e){p+=e.offsetWidth})),this.averageDetailWidth=p/u.length);for(var d=0,f=0;f<s.length;f++)d+=s[parseInt(f.toString(),10)].offsetWidth+parseFloat(getComputedStyle(s[parseInt(f.toString(),10)]).marginLeft)+parseFloat(getComputedStyle(s[parseInt(f.toString(),10)]).marginRight);var g=d/s.length;if(r>0&&n>=r-(g||0)){this.isPagerResized=!0,this.currentPage!==this.totalPages&&el(h,["e-numericitem","e-pager-default"],["e-nextprevitemdisabled","e-disable"]),n=this.calculateActualWidth();var m=Math.abs(n-r),y=Math.ceil(m/g);y=0===y?1:y>s.length?s.length-1:y;for(f=1;f<=y;f++){var v=a-parseInt(f.toString(),10);s=i.querySelectorAll('.e-numericitem:not(.e-hide):not([style*="display: none"]):not(.e-np):not(.e-pp)'),1===this.currentPage||parseInt(s[Math.abs(v)].getAttribute("index"),10)!==this.currentPage&&parseInt(s[s.length-1].getAttribute("index"),10)!==this.currentPage||(v=0,el(c,["e-numericitem","e-pager-default"],["e-nextprevitemdisabled","e-disable"])),s[Math.abs(v)]&&!s[Math.abs(v)].classList.contains("e-currentitem")&&s[Math.abs(v)].classList.add("e-hide")}if((s=i.querySelectorAll('.e-numericitem:not(.e-hide):not([style*="display: none"]):not(.e-np):not(.e-pp)')).length<=1&&u.length&&window.innerWidth>=768){var b=this.calculateActualWidth();if(b>r-l){var M=Math.floor((r-(b-p))/this.averageDetailWidth);M=u.length-M;for(f=0;f<(M>u.length?u.length:M);f++)u[parseInt(f.toString(),10)].classList.add("e-hide")}}}else if(n<r&&o.length){m=Math.abs(r-n);var S=this.element.querySelectorAll(".e-parentmsgbar.e-hide, .e-pagesizes.e-hide");if(S.length&&m>this.averageDetailWidth+this.averageDetailWidth/4&&S[S.length-1].classList.remove("e-hide"),m>2*g&&!S.length&&window.innerWidth>=768){var w=Math.floor(m/(g+l));w=w>o.length?o.length:w-1;var _=Array.from(o).filter((function(t){return parseInt(t.getAttribute("index"),10)<e.currentPage})).sort((function(e,t){return parseInt(t.getAttribute("index"),10)-parseInt(e.getAttribute("index"),10)})),I=Array.from(o).filter((function(t){return parseInt(t.getAttribute("index"),10)>e.currentPage})),N=_.length&&_||I.length&&I;for(f=1;f<=w;f++){var C=N&&N[Math.abs(1-f)];C&&(C.classList.remove("e-hide"),C===N[N.length-1]&&(N=null))}}}if((s=i.querySelectorAll('.e-numericitem:not(.e-hide):not([style*="display: none"]):not(.e-np):not(.e-pp)')).length){parseInt(s[s.length-1].getAttribute("index"),10)===this.totalPages&&el(h,["e-nextprevitemdisabled","e-disable"],["e-numericitem","e-pager-default"]),1===parseInt(s[0].getAttribute("index"),10)&&el(c,["e-nextprevitemdisabled","e-disable"],["e-numericitem","e-pager-default"]);var x=Array.from(s).some((function(t){return parseInt(t.getAttribute("index"),10)===e.totalPages})),D=parseInt(s[0].getAttribute("index"),10)-(x?this.avgNumItems:s.length);c.setAttribute("index",D<1?"1":D.toString()),h.setAttribute("index",(parseInt(s[s.length-1].getAttribute("index"),10)+1).toString()),this.avgNumItems=x?this.avgNumItems:s.length}}},fw([fl(!1)],t.prototype,"enableQueryString",void 0),fw([fl(!1)],t.prototype,"enableExternalMessage",void 0),fw([fl(!0)],t.prototype,"enablePagerMessage",void 0),fw([fl(12)],t.prototype,"pageSize",void 0),fw([fl(10)],t.prototype,"pageCount",void 0),fw([fl(1)],t.prototype,"currentPage",void 0),fw([fl()],t.prototype,"totalRecordsCount",void 0),fw([fl()],t.prototype,"externalMessage",void 0),fw([fl(!1)],t.prototype,"pageSizes",void 0),fw([fl()],t.prototype,"template",void 0),fw([fl("")],t.prototype,"customText",void 0),fw([yl()],t.prototype,"click",void 0),fw([fl("")],t.prototype,"cssClass",void 0),fw([yl()],t.prototype,"dropDownChanged",void 0),fw([yl()],t.prototype,"created",void 0),t=fw([vl],t)}(Xl),mw=function(){function e(e){this.pagerModule=e}return e.prototype.getModuleName=function(){return"pagerdropdown"},e.prototype.render=function(){var e=this.pagerModule;this.pagerDropDownDiv=Ra("div",{className:"e-pagesizes"});var t=Ra("div",{className:"e-pagerdropdown"}),i=Ra("div",{className:"e-pagerconstant"}),n=Ra("input",{attrs:{type:"text",tabindex:"-1"}});this.pagerCons=Ra("span",{className:"e-constant",innerHTML:this.pagerModule.getLocalizedLabel("pagerDropDown")}),t.appendChild(n),i.appendChild(this.pagerCons),this.pagerDropDownDiv.appendChild(t),this.pagerDropDownDiv.appendChild(i),this.pagerModule.element.appendChild(this.pagerDropDownDiv);var r=this.pagerModule.pageSizes,s=r.length?this.convertValue(r):[this.pagerModule.getLocalizedLabel("All"),"5","10","12","20"],o=this.pagerModule.pageSize;this.dropDownListObject=new Kp({dataSource:s,value:o.toString(),change:this.onChange.bind(this),placeholder:this.pagerModule.getLocalizedLabel("pagerDropDown"),cssClass:this.pagerModule.cssClass?"e-alldrop "+this.pagerModule.cssClass:"e-alldrop"}),this.dropDownListObject.appendTo(n),r.length&&(this.dropDownListObject.element.value=this.pagerModule.pageSize.toString()),e.pageSize=o,e.dataBind(),e.trigger("dropDownChanged",{pageSize:o}),this.addEventListener()},e.prototype.onChange=function(e){this.dropDownListObject.value===this.pagerModule.getLocalizedLabel("All")?(this.pagerModule.pageSize=this.pagerModule.totalRecordsCount,this.pagerModule.isAllPage=!0,this.refresh(),e.value=this.pagerModule.pageSize,document.getElementsByClassName("e-popup-open e-alldrop").length&&(document.getElementsByClassName("e-popup-open e-alldrop")[0].style.display="none")):(this.pagerModule.pageSize=parseInt(this.dropDownListObject.value,10),this.pagerModule.isAllPage=!1,this.pagerCons.innerHTML!==this.pagerModule.getLocalizedLabel("pagerDropDown")&&this.refresh()),this.pagerModule.dataBind(),this.pagerModule.trigger("dropDownChanged",{pageSize:this.pagerModule.isAllPage||void 0===this.pagerModule.isAllPage&&this.dropDownListObject.value===this.pagerModule.getLocalizedLabel("All")?this.pagerModule.totalRecordsCount:parseInt(this.dropDownListObject.value,10)})},e.prototype.refresh=function(){this.pagerCons&&(this.isPageSizeAll(this.pagerModule.pageSize)?this.pagerCons.innerHTML=this.pagerModule.getLocalizedLabel("pagerAllDropDown"):this.pagerCons.innerHTML=this.pagerModule.getLocalizedLabel("pagerDropDown"),this.pagerDropDownDiv.classList.remove("e-hide"))},e.prototype.beforeValueChange=function(e){if("number"===typeof e.newProp.value){var t=e.newProp.value.toString();e.newProp.value=t}},e.prototype.convertValue=function(e){for(var t=e,i=0;i<t.length;i++)t[parseInt(i.toString(),10)]=parseInt(t[parseInt(i.toString(),10)],10)?t[parseInt(i.toString(),10)].toString():""!==this.pagerModule.getLocalizedLabel(t[parseInt(i.toString(),10)])?this.pagerModule.getLocalizedLabel(t[parseInt(i.toString(),10)]):t[parseInt(i.toString(),10)];return t},e.prototype.isPageSizeAll=function(e){return("string"===typeof e&&e!==this.pagerModule.getLocalizedLabel("All")?parseInt(e,10):e)===this.pagerModule.totalRecordsCount||e===this.pagerModule.getLocalizedLabel("All")},e.prototype.setDropDownValue=function(e,t){if(this.dropDownListObject){var i=this.pagerModule.isAllPage;this.pagerModule.isAllPage=this.isPageSizeAll(t),this.pagerModule.checkAll=!(!i||!this.pagerModule.isAllPage),this.dropDownListObject[""+e]=this.pagerModule.isAllPage?this.pagerModule.getLocalizedLabel("All"):t}},e.prototype.addEventListener=function(){this.dropDownListObject.on("beforeValueChange",this.beforeValueChange,this)},e.prototype.removeEventListener=function(){this.dropDownListObject.off("beforeValueChange",this.beforeValueChange)},e.prototype.destroy=function(e){this.dropDownListObject&&!this.dropDownListObject.isDestroyed&&(this.removeEventListener(),this.dropDownListObject.destroy(),qa(this.pagerDropDownDiv))},e}(),yw=function(){function e(e){this.pagerModule=e}return e.prototype.getModuleName=function(){return"externalMessage"},e.prototype.render=function(){this.element=Ra("div",{className:"e-pagerexternalmsg",attrs:{"aria-label":this.pagerModule.getLocalizedLabel("ExternalMsg")}}),this.pagerModule.element.appendChild(this.element),this.refresh()},e.prototype.refresh=function(){this.pagerModule.externalMessage&&this.pagerModule.externalMessage.toString().length?(this.showMessage(),this.element.innerHTML=this.pagerModule.externalMessage):this.hideMessage()},e.prototype.hideMessage=function(){ko(this.element)||(this.element.style.display="none")},e.prototype.showMessage=function(){this.element.style.display=""},e.prototype.destroy=function(){qa(this.element)},e}(),vw=function(){function e(e,t){this.isInitialRender=!0,this.isCancel=!1,gw.Inject(yw,mw),this.parent=e,this.pageSettings=t,this.addEventListener()}return e.prototype.getModuleName=function(){return"pager"},e.prototype.render=function(){var e=this.parent;this.pagerDestroy(),ko(this.parent.pagerTemplate)||(this.pageSettings.template=this.parent.pagerTemplate,this.parent.pageTemplateChange=!0),this.element=this.parent.createElement("div",{className:"e-gridpager"});var t=Qy({},Eo({},Xy(this.pageSettings)),{click:this.clickHandler.bind(this),dropDownChanged:this.onSelect.bind(this),enableRtl:e.enableRtl,locale:e.locale,created:this.addAriaAttr.bind(this)},["parentObj","propName"]);t.cssClass=this.parent.cssClass?this.parent.cssClass:"",this.pagerObj=new gw(t,void 0,this.parent),this.pagerObj.hasParent=!0,this.pagerObj.on(oy,this.renderReactPagerTemplate,this),this.pagerObj.allowServerDataBinding=!1},e.prototype.onSelect=function(e){this.pageSettings.pageSize=e.pageSize,this.isInitialLoad||(this.pageSettings.currentPage=1)},e.prototype.addAriaAttr=function(){if(!this.pageSettings.template){for(var e=this.parent.createElement("div",{className:"e-numericcontainer"}),t=this.element.querySelector(".e-pagercontainer"),i=document.createDocumentFragment(),n=this.element.querySelector(".e-numericcontainer"),r=n.querySelectorAll("a"),s=0;s<r.length;s++){this.parent.getContentTable()?r[parseInt(s.toString(),10)].setAttribute("aria-owns",this.parent.getContentTable().id):r[parseInt(s.toString(),10)].setAttribute("aria-owns",this.parent.element.getAttribute("id")+"_content_table");var o=this.parent.createElement("div");o.appendChild(r[parseInt(s.toString(),10)]),i.appendChild(o)}e.appendChild(i),t.replaceChild(e,n);for(var a=[".e-mfirst",".e-mprev",".e-first",".e-prev",".e-next",".e-last",".e-mnext",".e-mlast"],l=0;l<a.length;l++){var h=this.element.querySelector(a[parseInt(l.toString(),10)]);this.parent.getContentTable()&&h.setAttribute("aria-owns",this.parent.getContentTable().id)}}},e.prototype.dataReady=function(e){this.updateModel(e)},e.prototype.refresh=function(){this.pagerObj.refresh()},e.prototype.goToPage=function(e){this.pagerObj.goToPage(e)},e.prototype.setPageSize=function(e){this.pagerObj.setPageSize(e)},e.prototype.updateModel=function(e){this.parent.pageSettings.totalRecordsCount=e.count,("add"===e.action&&"save"===e.requestType||"batchsave"===e.requestType)&&this.pagerObj.isAllPage&&e.count===this.pageSettings.pageSize&&this.pagerObj.setProperties({pageSize:e.count},!0),this.parent.dataBind()},e.prototype.onActionComplete=function(e){this.parent.trigger(bg,Eo(e,{currentPage:this.parent.pageSettings.currentPage,requestType:"paging",type:bg}))},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()){for(var t=e.properties,i=0,n=Object.keys(t);i<n.length;i++){var r=n[i];this.pagerObj[""+r]=t[""+r]}this.pagerObj.dataBind()}},e.prototype.clickHandler=function(e){var t=this.parent;if(this.isForceCancel||gv(t)&&!t.prevPageMoving&&!this.isCancel)return this.isForceCancel?this.isForceCancel=!1:(ko(e.newProp)||ko(e.newProp.pageSize)?e.currentPage&&(t.notify(ym,{instance:this,handler:this.goToPage,arg1:e.currentPage}),this.pagerObj.currentPage=t.pageSettings.currentPage===this.pagerObj.currentPage?this.pagerObj.previousPageNo:t.pageSettings.currentPage):(t.notify(ym,{instance:this,handler:this.setPageSize,arg1:e.newProp.pageSize}),this.pagerObj.pageSize=e.oldProp.pageSize,t.pageSettings.pageSize=e.newProp.pageSize),this.isForceCancel=!0,this.pagerObj.dataBind()),void(e.cancel=!0);t.pageSettings.pageSize=this.pagerObj.pageSize,t.prevPageMoving=!1;var i=this.pageSettings.currentPage,n={cancel:!1,requestType:"paging",previousPage:i,currentPage:e.currentPage,pageSize:t.pageSettings.pageSize,type:vg};if(this.isCancel||(this.pageSettings.currentPage=e.currentPage,this.parent.notify(Gg,n)),n.cancel)return e.cancel=!0,this.pageSettings.currentPage=i,this.pagerObj.currentPage=i,void(this.isCancel=!0);this.isCancel=!1,this.parent.requestTypeAction="paging"},e.prototype.keyPressHandler=function(e){e.action in bw&&(e.preventDefault(),this.element.querySelector(bw[e.action]).click())},e.prototype.updateExternalMessage=function(e){this.pagerObj.enableExternalMessage||(this.pagerObj.enableExternalMessage=!0,this.pagerObj.dataBind()),this.pagerObj.externalMessage=e,this.pagerObj.dataBind()},e.prototype.appendToElement=function(){this.isInitialLoad=!0,this.parent.element.appendChild(this.element),this.parent.setGridPager(this.element),this.pagerObj.isReact=this.parent.isReact,this.pagerObj.isVue=this.parent.isVue,this.pagerObj.appendTo(this.element),this.isInitialLoad=!1},e.prototype.enableAfterRender=function(e){e.module===this.getModuleName()&&e.enable&&(this.render(),this.appendToElement(),this.isReactTemplate()&&(this.pagerObj.updateTotalPages(),this.created()))},e.prototype.addEventListener=function(){this.handlers={load:this.render,end:this.appendToElement,ready:this.dataReady,complete:this.onActionComplete,updateLayout:this.enableAfterRender,inboundChange:this.onPropertyChanged,keyPress:this.keyPressHandler,created:this.created},this.parent.isDestroyed||((this.parent.isReact||this.parent.isVue)&&this.parent.addEventListener(Oy,this.handlers.created.bind(this)),this.evtHandlers=[{event:Vg,handler:this.handlers.load},{event:Ug,handler:this.handlers.end},{event:Hg,handler:this.handlers.ready},{event:"paging-complete",handler:this.handlers.complete},{event:Yg,handler:this.handlers.updateLayout},{event:qg,handler:this.handlers.inboundChange},{event:nm,handler:this.handlers.keyPress},{event:sm,handler:this.destroy}],Zv(this.parent,this.evtHandlers,!0,this))},e.prototype.created=function(){this.isInitialRender&&this.isReactTemplate()&&(this.isInitialRender=!1,this.renderReactPagerTemplate())},e.prototype.isReactTemplate=function(){return(this.parent.isReact||this.parent.isVue)&&this.pagerObj.template&&"string"!==typeof this.pagerObj.template},e.prototype.renderReactPagerTemplate=function(){if(!this.isInitialRender&&this.isReactTemplate()){var e=void 0;this.parent.destroyTemplate(["pagerTemplate"]),this.element.classList.add("e-pagertemplate"),this.pagerObj.compile(this.pagerObj.template);var t=this.parent.pageSettings,i={currentPage:t.currentPage,pageSize:t.pageSize,pageCount:t.pageCount,totalRecordsCount:t.totalRecordsCount,totalPages:this.pagerObj.totalPages},n=this.parent.id+"_pagertemplate";this.parent.isReact?(this.pagerObj.templateFn(i,this.parent,"pagerTemplate",n,null,null,this.pagerObj.element),this.parent.renderTemplates()):(e=this.pagerObj.templateFn(i,this.parent,"pagerTemplate"),iv(this.pagerObj.element,e))}},e.prototype.removeEventListener=function(){this.parent.isDestroyed||((this.parent.isReact||this.parent.isVue)&&this.parent.removeEventListener(Oy,this.handlers.created),this.parent.off(oy,this.renderReactPagerTemplate),Zv(this.parent,this.evtHandlers,!1))},e.prototype.destroy=function(){this.removeEventListener(),this.isReactTemplate()&&this.parent.destroyTemplate(["pagerTemplate"]),this.pagerObj.destroy()},e.prototype.pagerDestroy=function(){this.pagerObj&&!this.pagerObj.isDestroyed&&(this.pagerObj.destroy(),qa(this.element))},e}(),bw={pageUp:".e-prev",pageDown:".e-next",ctrlAltPageDown:".e-last",ctrlAltPageUp:".e-first",altPageUp:".e-pp",altPageDown:".e-np"},Mw=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Sw=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},ww="e-rtl",_w="e-overlay",Iw="e-nav-arrow",Nw="e-nav-right-arrow",Cw="e-nav-left-arrow",xw="e-scroll-nav",Dw="e-scroll-right-nav",Tw="e-scroll-left-nav",Aw="e-scroll-device",jw="e-scroll-overlay",Ew="e-scroll-right-overlay",kw="e-scroll-left-overlay",zw=function(e){function t(t,i){return e.call(this,t,i)||this}return Mw(t,e),t.prototype.preRender=function(){this.browser=La.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=La.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=Lo("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(ww)},t.prototype.render=function(){this.touchModule=new gh(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),Oa.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(Aw),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},t.prototype.setScrollState=function(){ko(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");for(var i=this.element,n=0,r=[].slice.call(i.children);n<r.length;n++){var s=r[n];e.appendChild(s)}t.appendChild(e),i.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"hScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",t.classList.remove("e-hscroll"),t.classList.remove(Aw),t.classList.remove(ww);var i=Xa(".e-"+t.id+"_nav."+xw,t),n=Xa("."+jw,t);[].slice.call(n).forEach((function(e){Qa(e)}));for(var r=0,s=[].slice.call(this.scrollItems.children);r<s.length;r++){var o=s[r];t.appendChild(o)}this.uniqueId&&this.element.removeAttribute("id"),Qa(this.scrollEle),i.length>0&&(Qa(i[0]),ko(i[1])||Qa(i[1])),Oa.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=Xa(".e-scroll-nav:not(."+_w+")",this.element);e?this.element.classList.add(_w):this.element.classList.remove(_w),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))},t.prototype.createOverlay=function(e){var t=e.id.concat("_nav"),i=this.createElement("div",{className:jw+" "+Ew}),n="e-"+e.id.concat("_nav "+xw+" "+Dw),r=this.createElement("div",{id:t.concat("_right"),className:n}),s=this.createElement("div",{className:Nw+" "+Iw+" e-icons"});r.appendChild(s);var o=this.createElement("div",{className:jw+" "+kw});this.ieCheck&&r.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(r),e.insertBefore(o,e.firstChild),this.eventBinding([r])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav "+xw+" "+Dw),n={role:"button",id:t.concat("_right"),"aria-label":"Scroll right"},r=this.createElement("div",{className:i,attrs:n});r.setAttribute("aria-disabled","false");var s=this.createElement("div",{className:Nw+" "+Iw+" e-icons"}),o="e-"+e.id.concat("_nav "+xw+" "+Tw),a={role:"button",id:t.concat("_left"),"aria-label":"Scroll left"},l=this.createElement("div",{className:o+" "+_w,attrs:a});l.setAttribute("aria-disabled","true");var h=this.createElement("div",{className:Cw+" "+Iw+" e-icons"});l.appendChild(h),r.appendChild(s),e.appendChild(r),e.insertBefore(l,e.firstChild),this.ieCheck&&(r.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([r,l])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach((function(e){new gh(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),Oa.add(e,"click",t.clickEventHandler,t)}))},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,i=e.originalEvent.target;i=this.contains(i,xw)?i.firstElementChild:i;this.timeout=window.setInterval((function(){t.eleScrolling(10,i,!0)}),50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,i){var n=this.element,r=t.classList;r.contains(xw)&&(r=t.querySelector("."+Iw).classList),this.contains(n,ww)&&this.browserCheck&&(e=-e),!this.contains(n,ww)||this.browserCheck||this.ieCheck?r.contains(Nw)?this.frameScrollRequest(e,"add",i):this.frameScrollRequest(e,"",i):r.contains(Cw)?this.frameScrollRequest(e,"add",i):this.frameScrollRequest(e,"",i)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.swipeHandler=function(e){var t,i=this.scrollEle;t=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var n=.5,r=function(){var s=Math.sin(n);s<=0?window.cancelAnimationFrame(s):("Left"===e.swipeDirection?i.scrollLeft+=t*s:"Right"===e.swipeDirection&&(i.scrollLeft-=t*s),n-=.5,window.requestAnimationFrame(r))};r()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e,this.enableRtl&&this.scrollEle.scrollLeft>0&&(this.scrollEle.scrollLeft=0)},t.prototype.frameScrollRequest=function(e,t,i){var n=this;if(i)this.scrollUpdating(e,t);else{this.customStep||[].slice.call(Xa("."+jw,this.element)).forEach((function(t){e-=t.offsetWidth}));var r=function(){var i,s;n.contains(n.element,ww)&&n.browserCheck?(i=-e,s=-10):(i=e,s=10),i<10?window.cancelAnimationFrame(s):(n.scrollUpdating(s,t),e-=s,window.requestAnimationFrame(r))};r()}},t.prototype.touchHandler=function(e){var t=this.scrollEle,i=e.distanceX;this.ieCheck&&this.contains(this.element,ww)&&(i=-i),"Left"===e.scrollDirection?t.scrollLeft=t.scrollLeft+i:"Right"===e.scrollDirection&&(t.scrollLeft=t.scrollLeft-i)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var i=(ko(e)?t:e).querySelector("."+Iw);ko(e)?el(i,[Nw],[Cw]):el(i,[Cw],[Nw])}else e&&t&&(e.classList.add(_w),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(_w),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0"));this.repeatScroll()},t.prototype.scrollHandler=function(e){var t=e.target,i=t.offsetWidth,n=(this.element,this.element.querySelector("."+Tw)),r=this.element.querySelector("."+Dw),s=this.element.querySelector("."+kw),o=this.element.querySelector("."+Ew),a=t.scrollLeft;if(a<=0&&(a=-a),this.isDevice&&(!this.enableRtl||this.browserCheck||this.ieCheck||(s=this.element.querySelector("."+Ew),o=this.element.querySelector("."+kw)),s.style.width=a<40?a+"px":"40px",t.scrollWidth-Math.ceil(i+a)<40?o.style.width=t.scrollWidth-Math.ceil(i+a)+"px":o.style.width="40px"),0===a)this.arrowDisabling(n,r);else if(Math.ceil(i+a+.1)>=t.scrollWidth)this.arrowDisabling(r,n);else{var l=this.element.querySelector("."+xw+"."+_w);l&&(l.classList.remove(_w),l.setAttribute("aria-disabled","false"),l.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(ww):this.element.classList.remove(ww)}}},Sw([fl(null)],t.prototype,"scrollStep",void 0),t=Sw([vl],t)}(Xl),Lw=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ow=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},Pw="e-rtl",Rw="e-overlay",Fw="e-nav-arrow",Bw="e-nav-up-arrow",Vw="e-nav-down-arrow",Uw="e-scroll-nav",Hw="e-scroll-up-nav",Ww="e-scroll-down-nav",Yw="e-scroll-device",Qw="e-scroll-overlay",qw="e-scroll-up-overlay",Gw="e-scroll-down-overlay",Kw=function(e){function t(t,i){return e.call(this,t,i)||this}return Lw(t,e),t.prototype.preRender=function(){this.browser=La.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=La.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=Lo("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(Pw)},t.prototype.render=function(){this.touchModule=new gh(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),Oa.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(Yw),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),Oa.add(this.element,"wheel",this.wheelEventHandler,this)},t.prototype.setScrollState=function(){ko(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=Ra("div",{className:"e-vscroll-content"}),t=Ra("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");for(var i=this.element,n=0,r=[].slice.call(i.children);n<r.length;n++){var s=r[n];e.appendChild(s)}t.appendChild(e),i.appendChild(t),t.style.overflow="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"vScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",Ba([this.element],["e-vscroll",Yw,Pw]);var i=Xa(".e-"+t.id+"_nav."+Uw,t),n=Xa("."+Qw,t);[].slice.call(n).forEach((function(e){Qa(e)}));for(var r=0,s=[].slice.call(this.scrollItems.children);r<s.length;r++){var o=s[r];t.appendChild(o)}this.uniqueId&&this.element.removeAttribute("id"),Qa(this.scrollEle),i.length>0&&(Qa(i[0]),ko(i[1])||Qa(i[1])),Oa.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=Xa(".e-scroll-nav:not(."+Rw+")",this.element);e?this.element.classList.add(Rw):this.element.classList.remove(Rw),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))},t.prototype.createOverlayElement=function(e){var t=e.id.concat("_nav"),i=Ra("div",{className:Qw+" "+Gw}),n="e-"+e.id.concat("_nav "+Uw+" "+Ww),r=Ra("div",{id:t.concat("down"),className:n}),s=Ra("div",{className:Vw+" "+Fw+" e-icons"});r.appendChild(s);var o=Ra("div",{className:Qw+" "+qw});this.ieCheck&&r.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(r),e.insertBefore(o,e.firstChild),this.eventBinding([r])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav "+Uw+" "+Ww),n=Ra("div",{id:t.concat("_down"),className:i});n.setAttribute("aria-disabled","false");var r=Ra("div",{className:Vw+" "+Fw+" e-icons"}),s="e-"+e.id.concat("_nav "+Uw+" "+Hw),o=Ra("div",{id:t.concat("_up"),className:s+" "+Rw});o.setAttribute("aria-disabled","true");var a=Ra("div",{className:Bw+" "+Fw+" e-icons"});o.appendChild(a),n.appendChild(r),n.setAttribute("tabindex","0"),e.appendChild(n),e.insertBefore(o,e.firstChild),this.ieCheck&&(n.classList.add("e-ie-align"),o.classList.add("e-ie-align")),this.eventBinding([n,o])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach((function(e){new gh(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),Oa.add(e,"click",t.clickEventHandler,t)}))},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,i=e.originalEvent.target;i=this.contains(i,Uw)?i.firstElementChild:i;this.timeout=window.setInterval((function(){t.eleScrolling(10,i,!0)}),50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,i){var n=t.classList;n.contains(Uw)&&(n=t.querySelector("."+Fw).classList),n.contains(Vw)?this.frameScrollRequest(e,"add",i):n.contains(Bw)&&this.frameScrollRequest(e,"",i)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},t.prototype.swipeHandler=function(e){var t,i=this.scrollEle;t=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var n=.5,r=function(){var s=Math.sin(n);s<=0?window.cancelAnimationFrame(s):("Up"===e.swipeDirection?i.scrollTop+=t*s:"Down"===e.swipeDirection&&(i.scrollTop-=t*s),n-=.02,window.requestAnimationFrame(r))};r()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},t.prototype.frameScrollRequest=function(e,t,i){var n=this;if(i)this.scrollUpdating(e,t);else{this.customStep||[].slice.call(Xa("."+Qw,this.element)).forEach((function(t){e-=t.offsetHeight}));var r=function(){e<10?window.cancelAnimationFrame(10):(n.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(r))};r()}},t.prototype.touchHandler=function(e){var t=this.scrollEle,i=e.distanceY;"Up"===e.scrollDirection?t.scrollTop=t.scrollTop+i:"Down"===e.scrollDirection&&(t.scrollTop=t.scrollTop-i)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var i=(ko(e)?t:e).querySelector("."+Fw);ko(e)?el(i,[Vw],[Bw]):el(i,[Bw],[Vw])}else e.classList.add(Rw),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(Rw),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollEventHandler=function(e){var t=e.target,i=t.offsetHeight,n=this.element.querySelector("."+Hw),r=this.element.querySelector("."+Ww),s=this.element.querySelector("."+qw),o=this.element.querySelector("."+Gw),a=t.scrollTop;if(a<=0&&(a=-a),this.isDevice&&(s.style.height=a<40?a+"px":"40px",t.scrollHeight-Math.ceil(i+a)<40?o.style.height=t.scrollHeight-Math.ceil(i+a)+"px":o.style.height="40px"),0===a)this.arrowDisabling(n,r);else if(Math.ceil(i+a+.1)>=t.scrollHeight)this.arrowDisabling(r,n);else{var l=this.element.querySelector("."+Uw+"."+Rw);l&&(l.classList.remove(Rw),l.setAttribute("aria-disabled","false"),l.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(Pw):this.element.classList.remove(Pw)}}},Ow([fl(null)],t.prototype,"scrollStep",void 0),t=Ow([vl],t)}(Xl),Xw=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jw=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},Zw="e-vertical",$w="e-toolbar-items",e_="e-toolbar-item",t_="e-rtl",i_="e-separator",n_="e-popup-up-icon",r_="e-popup-down-icon",s_="e-popup-open",o_="e-template",a_="e-overlay",l_="e-toolbar-text",h_="e-popup-text",c_="e-overflow-show",u_="e-overflow-hide",p_="e-hor-nav",d_="e-scroll-nav",f_="e-toolbar-center",g_="e-tbar-pos",m_="e-hscroll-bar",y_="e-toolbar-pop",v_="e-toolbar-popup",b_="e-nav-active",M_="e-ignore",S_="e-popup-alone",w_="e-hidden",__="e-toolbar-multirow",I_="e-multirow-pos",N_="e-multirow-separator",C_="e-extended-separator",x_="e-extended-toolbar",D_="e-toolbar-extended",T_="e-tbar-extended",A_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xw(t,e),Jw([fl("")],t.prototype,"id",void 0),Jw([fl("")],t.prototype,"text",void 0),Jw([fl("auto")],t.prototype,"width",void 0),Jw([fl("")],t.prototype,"cssClass",void 0),Jw([fl(!1)],t.prototype,"showAlwaysInPopup",void 0),Jw([fl(!1)],t.prototype,"disabled",void 0),Jw([fl("")],t.prototype,"prefixIcon",void 0),Jw([fl("")],t.prototype,"suffixIcon",void 0),Jw([fl(!0)],t.prototype,"visible",void 0),Jw([fl("None")],t.prototype,"overflow",void 0),Jw([fl("")],t.prototype,"template",void 0),Jw([fl("Button")],t.prototype,"type",void 0),Jw([fl("Both")],t.prototype,"showTextOn",void 0),Jw([fl(null)],t.prototype,"htmlAttributes",void 0),Jw([fl("")],t.prototype,"tooltipText",void 0),Jw([fl("Left")],t.prototype,"align",void 0),Jw([yl()],t.prototype,"click",void 0),Jw([fl(-1)],t.prototype,"tabIndex",void 0),t}(zl),j_=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.resizeContext=n.resize.bind(n),n.orientationChangeContext=n.orientationChange.bind(n),n.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},n}return Xw(t,e),t.prototype.destroy=function(){var t=this;(this.isReact||this.isAngular)&&this.clearTemplate();var i=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(i).forEach((function(e){ko(e)||ko(e.ej2_instances)||ko(e.ej2_instances[0])||e.ej2_instances[0].isDestroyed||e.ej2_instances[0].destroy()})),this.unwireEvents(),this.tempId.forEach((function(e){ko(t.element.querySelector(e))||(document.body.appendChild(t.element.querySelector(e)).style.display="none")})),this.destroyItems();this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&(this.element.appendChild(this.ctrlTem),this.trgtEle=null,this.ctrlTem=null),this.popObj&&(this.popObj.destroy(),Qa(this.popObj.element)),this.activeEle&&(this.activeEle=null),this.popObj=null,this.tbarAlign=null,this.tbarItemsCol=[],this.remove(this.element,"e-toolpop"),this.cssClass&&Ba([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","role"].forEach((function(e){return t.element.removeAttribute(e)})),e.prototype.destroy.call(this)},t.prototype.preRender=function(){var e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains(Zw),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,t_)},t.prototype.wireEvents=function(){Oa.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),window.addEventListener("orientationchange",this.orientationChangeContext),this.allowKeyboard&&this.wireKeyboardEvent()},t.prototype.wireKeyboardEvent=function(){this.keyModule=new hh(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),Oa.add(this.element,"keydown",this.docKeyDown,this),this.updateTabIndex("0")},t.prototype.updateTabIndex=function(e){var t=this.element.querySelector("."+e_+":not(."+a_+" ):not(."+i_+" ):not(."+w_+" )");if(!ko(t)&&!ko(t.firstElementChild)){var i=t.firstElementChild.getAttribute("data-tabindex");i&&"-1"===i&&"INPUT"!==t.firstElementChild.tagName&&t.firstElementChild.setAttribute("tabindex",e)}},t.prototype.unwireKeyboardEvent=function(){this.keyModule&&(Oa.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},t.prototype.docKeyDown=function(e){if("INPUT"!==e.target.tagName){var t=!ko(this.popObj)&&Ua(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}},t.prototype.unwireEvents=function(){Oa.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),window.removeEventListener("orientationchange",this.orientationChangeContext),Oa.remove(document,"scroll",this.docEvent),Oa.remove(document,"click",this.docEvent)},t.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},t.prototype.docEvent=function(e){var t=Za(e.target,".e-popup");this.popObj&&Ua(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})},t.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,g_),this.scrollModule.destroy(),this.scrollModule=null)},t.prototype.destroyItems=function(){if(this.element&&[].slice.call(this.element.querySelectorAll("."+e_)).forEach((function(e){Qa(e)})),this.tbarAlign){var e=this.element.querySelector("."+$w);[].slice.call(e.children).forEach((function(e){Qa(e)})),this.tbarAlign=!1,this.remove(e,g_)}this.clearProperty()},t.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,t_),this.destroyScroll()),this.remove(this.element,T_),this.remove(this.element,x_);var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,__),this.popObj&&this.popupRefresh(this.popObj.element,!0)},t.prototype.add=function(e,t){e.classList.add(t)},t.prototype.remove=function(e,t){e.classList.remove(t)},t.prototype.elementFocus=function(e){var t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()},t.prototype.clstElement=function(e,t){return e&&this.popObj&&Ua(this.popObj.element)?this.popObj.element.querySelector("."+e_):this.element===t||e?this.element.querySelector("."+e_+":not(."+a_+" ):not(."+i_+" ):not(."+w_+" )"):Za(t,"."+e_)},t.prototype.keyHandling=function(e,t,i,n,r){var s,o,a=this.popObj,l=this.element,h={name:"FadeOut",duration:100},c="moveUp"===t.action?"previous":"next";switch(t.action){case"moveRight":if(this.isVertical)return;l===i?this.elementFocus(e):n||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;n||this.eleFocus(e,"previous");break;case"home":case"end":if(e){var u=Za(e,".e-popup"),p=this.element.querySelector("."+D_);"Extended"===this.overflowMode&&p&&p.classList.contains("e-popup-open")&&(u="end"===t.action?p:null),u?Ua(this.popObj.element)&&(o=[].slice.call(u.children),s="home"===t.action?this.focusFirstVisibleEle(o):this.focusLastVisibleEle(o)):(o=this.element.querySelectorAll("."+$w+" ."+e_+":not(."+i_+")"),s="home"===t.action?this.focusFirstVisibleEle(o):this.focusLastVisibleEle(o)),s&&this.elementFocus(s)}break;case"moveUp":case"moveDown":if(this.isVertical)"moveUp"===t.action?this.eleFocus(e,"previous"):this.eleFocus(e,"next");else if(a&&Za(i,".e-popup")){var d=a.element,f=d.firstElementChild;"previous"===c&&f===e?d.lastElementChild.firstChild.focus():"next"===c&&d.lastElementChild===e?f.firstChild.focus():this.eleFocus(e,c)}else"moveDown"===t.action&&a&&Ua(a.element)&&this.elementFocus(e);break;case"tab":if(!r&&!n){var g=e.firstElementChild;l===i&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(g),g.focus()))}break;case"popupClose":a&&"Extended"!==this.overflowMode&&a.hide(h);break;case"popupOpen":if(!n)return;a&&!Ua(a.element)?(a.element.style.top=l.offsetHeight+"px",a.show({name:"FadeIn",duration:100})):a.hide(h)}},t.prototype.keyActionHandler=function(e){var t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!this.element.classList.contains(a_)){e.preventDefault();var i=t.classList.contains(p_),n=t.classList.contains(d_),r=this.clstElement(i,t);(r||n)&&this.keyHandling(r,e,t,i,n)}},t.prototype.disable=function(e){var t=this.element;e?t.classList.add(a_):t.classList.remove(a_),this.activeEle&&this.activeEle.setAttribute("tabindex",this.activeEle.getAttribute("data-tabindex")),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(Ua(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},t.prototype.eleContains=function(e){return e.classList.contains(i_)||e.classList.contains(a_)||e.getAttribute("disabled")||e.classList.contains(w_)||!Ua(e)||!e.classList.contains(e_)},t.prototype.focusFirstVisibleEle=function(e){for(var t=0;t<e.length;){var i=e[parseInt(t.toString(),10)];if(!i.classList.contains(w_)&&!i.classList.contains(a_))return i;t++}},t.prototype.focusLastVisibleEle=function(e){for(var t=e.length-1;t>=0;){var i=e[parseInt(t.toString(),10)];if(!i.classList.contains(w_)&&!i.classList.contains(a_))return i;t--}},t.prototype.eleFocus=function(e,t){var i=Object(e)[t+"ElementSibling"];if(i){if(this.eleContains(i))return void this.eleFocus(i,t);this.elementFocus(i)}else if(this.tbarAlign){var n=Object(e.parentElement)[t+"ElementSibling"];if(ko(n)||0!==n.children.length||(n=Object(n)[t+"ElementSibling"]),!ko(n)&&n.children.length>0)if("next"===t){var r=n.querySelector("."+e_);this.eleContains(r)?this.eleFocus(r,t):(r.firstElementChild.focus(),this.activeEleSwitch(r))}else{r=n.lastElementChild;this.eleContains(r)?this.eleFocus(r,t):this.elementFocus(r)}}else if(!ko(e)){var s=this.element.querySelectorAll("."+$w+" ."+e_+":not(."+i_+"):not(."+a_+"):not(."+w_+")");"next"===t&&s?this.elementFocus(s[0]):"previous"===t&&s&&this.elementFocus(s[s.length-1])}},t.prototype.clickHandler=function(e){var t,i=this,n=e.target,r=this.element,s=!ko(Za(n,"."+y_)),o=n.classList,a=Za(n,"."+p_);a||(a=n),r.children[0].classList.contains("e-hscroll")||r.children[0].classList.contains("e-vscroll")||!o.contains(p_)||(o=n.querySelector(".e-icons").classList),(o.contains(n_)||o.contains(r_))&&this.popupClickHandler(r,a,t_);var l=Za(e.target,"."+e_);if(!ko(l)&&!l.classList.contains(a_)||a.classList.contains(p_)){if(l)t=this.items[this.tbarEle.indexOf(l)];var h={originalEvent:e,item:t};t&&!ko(t.click)&&this.trigger("items["+this.tbarEle.indexOf(l)+"].click",h),h.cancel||this.trigger("clicked",h,(function(e){!ko(i.popObj)&&s&&!e.cancel&&"Popup"===i.overflowMode&&e.item&&"Input"!==e.item.type&&i.popObj.hide({name:"FadeOut",duration:100})}))}},t.prototype.popupClickHandler=function(e,t,i){var n=this.popObj;Ua(n.element)?(t.classList.remove(b_),n.hide({name:"FadeOut",duration:100})):(e.classList.contains(i)&&(n.enableRtl=!0,n.position={X:"left",Y:"top"}),0!==n.offsetX||e.classList.contains(i)||(n.enableRtl=!1,n.position={X:"right",Y:"top"}),n.dataBind(),n.refreshPosition(),n.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(n.element.style.minHeight="0px"),t.classList.add(b_),n.show({name:"FadeIn",duration:100}))},t.prototype.render=function(){var e=this;this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete(),this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates((function(){e.refreshOverflow()}))},t.prototype.initialize=function(){var e=Fo(this.width),t=Fo(this.height);"msie"===La.info.name&&"auto"===this.height&&"MultiRow"!==this.overflowMode||$a(this.element,{height:t}),$a(this.element,{width:e});var i={role:"toolbar","aria-disabled":"false","aria-orientation":this.isVertical?"vertical":"horizontal"};Ga(this.element,i),this.cssClass&&Fa([this.element],this.cssClass.split(" "))},t.prototype.renderControl=function(){var e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},t.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},t.prototype.itemsAlign=function(e,t){var i,n;this.tbarEle||(this.tbarEle=[]);for(var r=0;r<e.length;r++)i=this.renderSubComponent(e[parseInt(r.toString(),10)],r),-1===this.tbarEle.indexOf(i)&&this.tbarEle.push(i),this.tbarAlign||this.tbarItemAlign(e[parseInt(r.toString(),10)],t,r),(n=t.querySelector(".e-toolbar-"+e[parseInt(r.toString(),10)].align.toLowerCase()))?(e[parseInt(r.toString(),10)].showAlwaysInPopup&&"Show"!==e[parseInt(r.toString(),10)].overflow||this.tbarAlgEle[(e[parseInt(r.toString(),10)].align+"s").toLowerCase()].push(i),n.appendChild(i)):t.appendChild(i);if(this.isReact){this.notify("render-react-toolbar-template",this.portals),this.renderReactTemplates()}},t.prototype.changeOrientation=function(){var e=this.element;this.isVertical?(e.classList.remove(Zw),this.isVertical=!1,"auto"!==this.height&&"100%"!==this.height||(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add(Zw),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),$a(this.element,{height:Fo(this.height),width:Fo(this.width)})),this.destroyMode(),this.refreshOverflow()},t.prototype.initScroll=function(e,t){!this.scrollModule&&this.checkOverflow(e,t[0])&&(this.tbarAlign&&this.element.querySelector("."+$w+" ."+f_).removeAttribute("style"),this.isVertical?this.scrollModule=new Kw({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):this.scrollModule=new zw({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.cssClass&&Fa([t[0]],this.cssClass.split(" ")),this.remove(this.scrollModule.element,g_),$a(this.element,{overflow:"hidden"}))},t.prototype.itemWidthCal=function(e){var t,i=this,n=0;return[].slice.call(Xa("."+e_,e)).forEach((function(e){Ua(e)&&(t=window.getComputedStyle(e),n+=i.isVertical?e.offsetHeight:e.offsetWidth,n+=parseFloat(i.isVertical?t.marginTop:t.marginRight),n+=parseFloat(i.isVertical?t.marginBottom:t.marginLeft))})),n},t.prototype.getScrollCntEle=function(e){var t=this.isVertical?".e-vscroll-content":".e-hscroll-content";return e.querySelector(t)},t.prototype.checkOverflow=function(e,t){if(ko(e)||ko(t)||!Ua(e))return!1;var i=this.isVertical?e.offsetHeight:e.offsetWidth,n=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||i===n)&&(n=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));var r=e.querySelector("."+p_),s=e.querySelector("."+d_),o=0;return r?o=this.isVertical?r.offsetHeight:r.offsetWidth:s&&(o=this.isVertical?2*s.offsetHeight:2*s.offsetWidth),n>i-o},t.prototype.refreshOverflow=function(){this.resize()},t.prototype.toolbarAlign=function(e){this.tbarAlign&&(this.add(e,g_),this.itemPositioning())},t.prototype.renderOverflowMode=function(){var e=this.element,t=e.querySelector("."+$w),i=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===La.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":ko(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName($w)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||i)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,__),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,I_)),"hidden"===e.style.overflow&&(e.style.overflow=""),"msie"!==La.info.name&&"auto"===e.style.height||(e.style.height="auto");break;case"Extended":this.add(this.element,x_),(this.checkOverflow(e,t)||i)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}},t.prototype.setOverflowAttributes=function(e){this.createPopupEle(e,[].slice.call(Xa("."+$w+" ."+e_,e)));Ga(this.element.querySelector("."+p_),{tabindex:"0",role:"button","aria-haspopup":"true","aria-label":"overflow"})},t.prototype.separator=function(){var e=this.element,t=[].slice.call(e.querySelectorAll("."+i_)),i=e.querySelector("."+N_),n=e.querySelector("."+C_),r="MultiRow"===this.overflowMode?i:n;null!==r&&("MultiRow"===this.overflowMode?r.classList.remove(N_):"Extended"===this.overflowMode&&r.classList.remove(C_));for(var s=0;s<=t.length-1;s++)t[parseInt(s.toString(),10)].offsetLeft<30&&0!==t[parseInt(s.toString(),10)].offsetLeft&&("MultiRow"===this.overflowMode?t[parseInt(s.toString(),10)].classList.add(N_):"Extended"===this.overflowMode&&t[parseInt(s.toString(),10)].classList.add(C_))},t.prototype.createPopupEle=function(e,t){var i=e.querySelector("."+p_),n=this.isVertical;i||this.createPopupIcon(e),i=e.querySelector("."+p_);var r=n?i.offsetHeight:i.offsetWidth,s=(n?e.offsetHeight:e.offsetWidth)-r;this.element.classList.remove("e-rtl"),$a(this.element,{direction:"initial"}),this.checkPriority(e,t,s,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},t.prototype.pushingPoppedEle=function(e,t,i,n,r){var s=e.element,o=[].slice.call(Xa("."+v_,s.querySelector("."+$w))),a=Xa("."+c_,i),l=0,h=0;o.forEach((function(s,o){a=Xa("."+c_,i),s.classList.contains(c_)&&a.length>0?e.tbResize&&a.length>o?(i.insertBefore(s,a[parseInt(o.toString(),10)]),++h):(i.insertBefore(s,i.children[a.length]),++h):s.classList.contains(c_)||e.tbResize&&s.classList.contains(u_)&&i.children.length>0&&0===a.length?(i.insertBefore(s,i.firstChild),++h):s.classList.contains(u_)?t.push(s):e.tbResize?(i.insertBefore(s,i.childNodes[l+h]),++l):i.appendChild(s),s.classList.contains(i_)?$a(s,{display:"",height:r+"px"}):$a(s,{display:"",height:n+"px"})})),t.forEach((function(e){i.appendChild(e)}));for(var c=Xa("."+e_,s.querySelector("."+$w)),u=c.length-1;u>=0;u--){var p=c[parseInt(u.toString(),10)];if(!p.classList.contains(i_)||"Extended"===this.overflowMode)break;$a(p,{display:"none"})}},t.prototype.createPopup=function(){var e,t,i=this.element;"Extended"===this.overflowMode&&(t=i.querySelector("."+i_),e="auto"===i.style.height||""===i.style.height?null:t&&t.offsetHeight);var n,r=i.querySelector("."+e_+":not(."+i_+"):not(."+v_+")"),s="auto"===i.style.height||""===i.style.height?null:r&&r.offsetHeight;if(Ka("#"+i.id+"_popup."+y_,i))n=Ka("#"+i.id+"_popup."+y_,i);else{var o=this.createElement("div",{id:i.id+"_popup",className:y_+" "+D_}),a=this.createElement("div",{id:i.id+"_popup",className:y_});n="Extended"===this.overflowMode?o:a}this.pushingPoppedEle(this,[],n,s,e),this.popupInit(i,n)},t.prototype.getElementOffsetY=function(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight},t.prototype.popupInit=function(e,t){if(this.popObj){var i=this.popObj.element;$a(i,{maxHeight:"",display:"block"}),$a(i,{maxHeight:i.offsetHeight+"px",display:""})}else{e.appendChild(t),this.cssClass&&Fa([t],this.cssClass.split(" ")),$a(this.element,{overflow:""});var n=window.getComputedStyle(this.element),r=new ku(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if("Extended"===this.overflowMode&&(r.width=parseFloat(n.width)+2*parseFloat(n.borderRightWidth),r.offsetX=0),r.appendTo(t),Oa.add(document,"scroll",this.docEvent.bind(this)),Oa.add(document,"click ",this.docEvent.bind(this)),r.element.style.maxHeight=r.element.offsetHeight+"px",this.isVertical&&(r.element.style.visibility="hidden"),this.isExtendedOpen){var s=this.element.querySelector("."+p_);s.classList.add(b_),el(s.firstElementChild,[n_],[r_]),this.element.querySelector("."+D_).classList.add(s_)}else r.hide();this.popObj=r}},t.prototype.tbarPopupHandler=function(e){"Extended"===this.overflowMode&&(e?this.add(this.element,T_):this.remove(this.element,T_))},t.prototype.popupOpen=function(e){var t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());var i=this.popObj.element,n=this.popObj.element.parentElement,r=n.querySelector("."+p_);r.setAttribute("aria-expanded","true"),$a(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");var s=i.offsetTop+i.offsetHeight+Gc(n).top,o=r.firstElementChild;r.classList.add(b_),el(o,[n_],[r_]),this.tbarPopupHandler(!0);var a=ko(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+a<s&&this.element.offsetTop<i.offsetHeight){var l=i.offsetHeight-(s-window.innerHeight-a+5);t.height=l+"px";for(var h=0;h<=i.childElementCount;h++){var c=i.children[parseInt(h.toString(),10)];if(c.offsetTop+c.offsetHeight>l){l=c.offsetTop;break}}$a(t.element,{maxHeight:l+"px"})}else if(this.isVertical){var u=this.element.getBoundingClientRect();$a(t.element,{maxHeight:u.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(t){var p=i.getBoundingClientRect();p.right>document.documentElement.clientWidth&&p.width>n.getBoundingClientRect().width&&(t.collision={Y:"none"},t.dataBind()),t.refreshPosition()}},t.prototype.popupClose=function(e){var t=this.element.querySelector("."+p_);t.setAttribute("aria-expanded","false");var i=t.firstElementChild;t.classList.remove(b_),el(i,[r_],[n_]),this.tbarPopupHandler(!1)},t.prototype.checkPriority=function(e,t,i,n){for(var r,s=this.popupPriCount>0,o=i,a=0,l=0,h=0,c=function(e,t){var i=!1;return t.forEach((function(t){e.classList.contains(t)&&(i=!0)})),i},u=t.length-1;u>=0;u--){var p=void 0,d=window.getComputedStyle(t[parseInt(u.toString(),10)]);this.isVertical?(p=parseFloat(d.marginTop),p+=parseFloat(d.marginBottom)):(p=parseFloat(d.marginRight),p+=parseFloat(d.marginLeft));var f=t[parseInt(u.toString(),10)]===this.tbarEle[0];f&&(this.tbarEleMrgn=p),r=this.isVertical?t[parseInt(u.toString(),10)].offsetHeight:t[parseInt(u.toString(),10)].offsetWidth;var g=f?r+p:r;if(c(t[parseInt(u.toString(),10)],[S_])&&s&&(t[parseInt(u.toString(),10)].classList.add(v_),this.isVertical?$a(t[parseInt(u.toString(),10)],{display:"none",minHeight:g+"px"}):$a(t[parseInt(u.toString(),10)],{display:"none",minWidth:g+"px"}),h++),this.isVertical?t[parseInt(u.toString(),10)].offsetTop+t[parseInt(u.toString(),10)].offsetHeight+p>i:t[parseInt(u.toString(),10)].offsetLeft+t[parseInt(u.toString(),10)].offsetWidth+p>i){if(t[parseInt(u.toString(),10)].classList.contains(i_)){if("Extended"===this.overflowMode)c(m=t[parseInt(u.toString(),10)],[i_,M_])&&(t[parseInt(u.toString(),10)].classList.add(v_),h++),l++;else if("Popup"===this.overflowMode){var m;if(a>0&&l===h)c(m=t[u+l+(a-1)],[i_,M_])&&$a(m,{display:"none"});a++,l=0,h=0}}else l++;t[parseInt(u.toString(),10)].classList.contains(c_)&&n||c(t[parseInt(u.toString(),10)],[i_,M_])?i-=(this.isVertical?t[parseInt(u.toString(),10)].offsetHeight:t[parseInt(u.toString(),10)].offsetWidth)+p:(t[parseInt(u.toString(),10)].classList.add(v_),this.isVertical?$a(t[parseInt(u.toString(),10)],{display:"none",minHeight:g+"px"}):$a(t[parseInt(u.toString(),10)],{display:"none",minWidth:g+"px"}),h++)}}if(n){var y=Xa("."+e_+":not(."+v_+")",this.element);this.checkPriority(e,y,o,!1)}},t.prototype.createPopupIcon=function(e){var t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav e-hor-nav");i="Extended"===this.overflowMode?i+" e-expended-nav":i;var n=this.createElement("div",{id:t,className:i});"msie"!==La.info.name&&"edge"!==La.info.name||n.classList.add("e-ie-align");var r=this.createElement("div",{className:r_+" e-icons"});n.appendChild(r),n.setAttribute("tabindex","0"),n.setAttribute("role","button"),e.appendChild(n)},t.prototype.tbarPriRef=function(e,t,i,n,r,s,o,a,l){var h=a,c=this.popObj.element,u="."+e_+":not(."+i_+"):not(."+c_+")",p=Xa("."+v_+":not(."+c_+")",c).length,d=function(e,t){return e.classList.contains(t)};if(0===Xa(u,e).length){var f=e.children[t-(t-i)-1],g=!ko(f)&&d(f,M_);if(!ko(f)&&d(f,i_)&&!Ua(f)||g){f.style.display="unset";var m=f.offsetWidth+2*parseFloat(window.getComputedStyle(f).marginRight),y=f.previousElementSibling;s+m<o||r?(e.insertBefore(n,e.children[t+h-(t-i)]),ko(y)||(y.style.display="")):($a(n,l),y.classList.contains(i_)&&(y.style.display="none")),f.style.display=""}else e.insertBefore(n,e.children[t+h-(t-i)])}else e.insertBefore(n,e.children[t+h-p])},t.prototype.popupRefresh=function(e,t){var i=this,n=this.element,r=this.isVertical,s=n.querySelector("."+$w),o=n.querySelector("."+p_);if(!ko(o)){var a;s.removeAttribute("style"),e.style.display="block",a=r?n.offsetHeight-(o.offsetHeight+s.offsetHeight):n.offsetWidth-(o.offsetWidth+s.offsetWidth);var l=0;[].slice.call(e.children).forEach((function(e){l+=i.popupEleWidth(e),$a(e,{position:""})})),a+(r?o.offsetHeight:o.offsetWidth)>l&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(a,e,t),e.style.display="",0===e.children.length&&o&&this.popObj&&(Qa(o),o=null,this.popObj.destroy(),Qa(this.popObj.element),this.popObj=null)}},t.prototype.ignoreEleFetch=function(e,t){var i=[].slice.call(t.querySelectorAll("."+M_)),n=[],r=0;return i.length>0?(i.forEach((function(e){n.push([].slice.call(t.children).indexOf(e))})),n.forEach((function(t){t<=e&&r++})),r):0},t.prototype.checkPopupRefresh=function(e,t){t.style.display="block";var i=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");var n=e.offsetWidth-e.querySelector("."+p_).offsetWidth,r=e.querySelector("."+$w).offsetWidth;return t.style.removeProperty("display"),n>i+r},t.prototype.popupEleWidth=function(e){e.style.position="absolute";var t=this.isVertical?e.offsetHeight:e.offsetWidth,i=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains(h_)){var n=e.children[0];!ko(i)&&e.classList.contains(h_)?i.style.display="none":!ko(i)&&e.classList.contains(l_)&&(i.style.display="block"),n.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),n.style.minWidth="",n.style.minHeight="",ko(i)||(i.style.display="")}return t},t.prototype.popupEleRefresh=function(e,t,i){for(var n,r,s=this.popupPriCount>0,o=this.tbarEle,a=this.element.querySelector("."+$w),l=0,h=function(t){if(t.classList.contains(S_)&&s&&!i)return"continue";var h=c.popupEleWidth(t);if(t===c.tbarEle[0]&&(h+=c.tbarEleMrgn),t.style.position="",!(h<e||i))return"break";var u={minWidth:t.style.minWidth,height:t.style.height,minHeight:t.style.minHeight};if($a(t,{minWidth:"",height:"",minHeight:""}),t.classList.contains(u_)||t.classList.remove(v_),r=c.tbarEle.indexOf(t),c.tbarAlign){var p=c.items[parseInt(r.toString(),10)].align;r=c.tbarAlgEle[(p+"s").toLowerCase()].indexOf(t),o=c.tbarAlgEle[(p+"s").toLowerCase()],a=c.element.querySelector("."+$w+" .e-toolbar-"+p.toLowerCase())}var d=0;"Extended"!==c.overflowMode&&o.slice(0,r).forEach((function(t){(t.classList.contains(c_)||t.classList.contains(i_))&&(t.classList.contains(i_)&&(t.style.display="",e-=t.offsetWidth),d++)})),l=c.ignoreEleFetch(r,a),t.classList.contains(c_)?(c.tbarPriRef(a,r,d,t,i,h,e,l,u),e-=t.offsetWidth):0===r?(a.insertBefore(t,a.firstChild),e-=t.offsetWidth):(n=Xa("."+c_,c.popObj.element).length,a.insertBefore(t,a.children[r+l-n]),e-=t.offsetWidth),t.style.height=""},c=this,u=0,p=[].slice.call(t.children);u<p.length;u++){if("break"===h(p[u]))break}this.checkOverflow(this.element,this.element.getElementsByClassName($w)[0])&&!i&&this.renderOverflowMode()},t.prototype.removePositioning=function(){var e=this.element.querySelector("."+$w);if(!ko(e)&&e.classList.contains(g_)){this.remove(e,g_);var t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}},t.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+$w);this.add(e,g_),this.itemPositioning()},t.prototype.itemPositioning=function(){var e,t=this.element.querySelector("."+$w);if(!ko(t)&&t.classList.contains(g_)){var i,n=this.element.querySelector("."+p_);if(this.scrollModule){var r=this.isVertical?"e-vscroll-content":"e-hscroll-content";i=[].slice.call(t.querySelector("."+r).children)}else i=[].slice.call(t.childNodes);e=this.isVertical?i[0].offsetHeight+i[2].offsetHeight:i[0].offsetWidth+i[2].offsetWidth;var s=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(n){s-=this.isVertical?n.offsetHeight:n.offsetWidth;var o=(this.isVertical?n.offsetHeight:n.offsetWidth)+"px";i[2].removeAttribute("style"),this.isVertical?this.enableRtl?i[2].style.top=o:i[2].style.bottom=o:this.enableRtl?i[2].style.left=o:i[2].style.right=o}if(!(s<=e)){var a=(s-e-(this.isVertical?i[1].offsetHeight:i[1].offsetWidth))/2;i[1].removeAttribute("style");var l=(this.isVertical?i[0].offsetHeight:i[0].offsetWidth)+a+"px";this.isVertical?this.enableRtl?i[1].style.marginBottom=l:i[1].style.marginTop=l:this.enableRtl?i[1].style.marginRight=l:i[1].style.marginLeft=l}}},t.prototype.tbarItemAlign=function(e,t,i){var n=this;if(!e.showAlwaysInPopup||"Show"===e.overflow){var r=[];if(r.push(this.createElement("div",{className:"e-toolbar-left"})),r.push(this.createElement("div",{className:f_})),r.push(this.createElement("div",{className:"e-toolbar-right"})),0===i&&"Left"!==e.align)r.forEach((function(e){t.appendChild(e)})),this.tbarAlign=!0,this.add(t,g_);else if("Left"!==e.align){var s=t.childNodes,o=r[0];[].slice.call(s).forEach((function(e){n.tbarAlgEle.lefts.push(e),o.appendChild(e)})),t.appendChild(o),t.appendChild(r[1]),t.appendChild(r[2]),this.tbarAlign=!0,this.add(t,g_)}}},t.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,$w),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach((function(t){"DIV"===t.tagName&&(e.tbarEle.push(t),ko(t.firstElementChild)||t.firstElementChild.setAttribute("aria-disabled","false"),e.add(t,e_))}))},t.prototype.renderItems=function(){var e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){var i=void 0;e&&e.children.length>0&&(i=e.querySelector("."+$w)),i||(i=this.createElement("div",{className:$w})),this.itemsAlign(t,i),e.appendChild(i)}},t.prototype.setAttr=function(e,t){for(var i,n=Object.keys(e),r=0;r<n.length;r++)"class"===(i=n[parseInt(r.toString(),10)])?this.add(t,e[""+i]):t.setAttribute(i,e[""+i])},t.prototype.enableItems=function(e,t){var i,n=e,r=n.length;ko(t)&&(t=!0);var s=function(e,t){e?(t.classList.remove(a_),ko(t.firstElementChild)||t.firstElementChild.setAttribute("aria-disabled","false")):(t.classList.add(a_),ko(t.firstElementChild)||t.firstElementChild.setAttribute("aria-disabled","true"))};if(!ko(r)&&r>=1){for(var o=0,a=[].slice.call(n);o<r;o++){var l=a[parseInt(o.toString(),10)];if("number"===typeof l){if(ko(i=this.getElementByIndex(l)))return;n[parseInt(o.toString(),10)]=i}else i=l;s(t,i)}t?Ba(n,a_):Fa(n,a_)}else{if("number"===typeof n){if(ko(i=this.getElementByIndex(n)))return}else i=e;s(t,i)}},t.prototype.getElementByIndex=function(e){return this.tbarEle[parseInt(e.toString(),10)]?this.tbarEle[parseInt(e.toString(),10)]:null},t.prototype.addItems=function(e,t){var i;this.extendedOpen();var n=this.element.querySelector("."+$w);if(ko(n))this.itemsRerender(e);else{var r,s="Left";ko(t)&&(t=0),e.forEach((function(e){ko(e.align)||"Left"===e.align||"Left"!==s||(s=e.align)}));for(var o=0,a=e;o<a.length;o++){var l=a[o];if(ko(l.type)&&(l.type="Button"),i=Xa("."+e_,this.element),l.align=s,r=this.renderSubComponent(l,t),this.tbarEle.length>=t&&i.length>=0){ko(this.scrollModule)&&this.destroyMode();var h="L"===l.align[0]?0:"C"===l.align[0]?1:2,c=void 0;this.tbarAlign||"Left"===s?this.tbarAlign?((c=Za(i[0],"."+$w).children[parseInt(h.toString(),10)]).insertBefore(r,c.children[parseInt(t.toString(),10)]),this.tbarAlgEle[(l.align+"s").toLowerCase()].splice(t,0,r),this.refreshPositioning()):0===i.length?(i=Xa("."+$w,this.element))[0].appendChild(r):i[0].parentNode.insertBefore(r,i[parseInt(t.toString(),10)]):(this.tbarItemAlign(l,n,1),this.tbarAlign=!0,(c=Za(i[0],"."+$w).children[parseInt(h.toString(),10)]).appendChild(r),this.tbarAlgEle[(l.align+"s").toLowerCase()].push(r),this.refreshPositioning()),this.items.splice(t,0,l),l.template&&this.tbarEle.splice(this.tbarEle.length-1,1),this.tbarEle.splice(t,0,r),t++,this.offsetWid=n.offsetWidth}}n.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()}},t.prototype.removeItems=function(e){var t,i=e,n=[].slice.call(Xa("."+e_,this.element));if("number"===typeof i)t=parseInt(e.toString(),10),this.removeItemByIndex(t,n);else if(i&&i.length>1)for(var r=0,s=[].slice.call(i);r<s.length;r++){var o=s[r];t=this.tbarEle.indexOf(o),this.removeItemByIndex(t,n),n=Xa("."+e_,this.element)}else{o=i&&i.length&&1===i.length?i[0]:e;t=n.indexOf(o),this.removeItemByIndex(t,n)}this.resize()},t.prototype.removeItemByIndex=function(e,t){if(this.tbarEle[parseInt(e.toString(),10)]&&t[parseInt(e.toString(),10)]){var i=this.tbarEle.indexOf(t[parseInt(e.toString(),10)]);if(this.tbarAlign){var n=this.tbarAlgEle[(this.items[parseInt(i.toString(),10)].align+"s").toLowerCase()].indexOf(this.tbarEle[parseInt(i.toString(),10)]);this.tbarAlgEle[(this.items[parseInt(i.toString(),10)].align+"s").toLowerCase()].splice(parseInt(n.toString(),10),1)}this.isReact&&this.clearToolbarTemplate(t[parseInt(e.toString(),10)]);var r=t[parseInt(e.toString(),10)].querySelector(".e-control.e-btn");ko(r)||ko(r.ej2_instances[0])||r.ej2_instances[0].isDestroyed||r.ej2_instances[0].destroy(),Qa(t[parseInt(e.toString(),10)]),this.items.splice(i,1),this.tbarEle.splice(i,1)}},t.prototype.templateRender=function(e,t,i,n){var r,s=i.type,o=e;if("object"===typeof e&&(r="function"===typeof o.appendTo),"string"!==typeof e&&r){if("Input"===s){c=this.createElement("input");i.id?c.id=i.id:c.id=Lo("tbr-ipt"),t.appendChild(c),o.appendTo(c)}}else{var a,l=void 0,h=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);a="string"===typeof e?e.trim():e;try{if("object"!==typeof e||ko(e.tagName))if("string"===typeof e&&h.test(a))t.innerHTML=a;else if(document.querySelectorAll(a).length){var c,u=(c=document.querySelector(a)).outerHTML.trim();t.appendChild(c),c.style.display="",ko(u)||this.tempId.push(a)}else l=Uh(a);else t.appendChild(e)}catch(lE){l=Uh(a)}var p=void 0;if(!ko(l))p=l({},this,"template",this.element.id+n+"_template",this.isStringTemplate,void 0,void 0,this.root);!ko(p)&&p.length>0&&[].slice.call(p).forEach((function(e){ko(e.tagName)||(e.style.display=""),t.appendChild(e)}))}this.add(t,o_),this.tbarEle.push(t)},t.prototype.buttonRendering=function(e,t){var i=this.createElement("button",{className:"e-tbar-btn"});i.setAttribute("type","button");var n,r,s=e.text;e.id?i.id=e.id:i.id=Lo("e-tbr-btn");var o=this.createElement("span",{className:"e-tbar-btn-text"});s?(o.innerHTML=this.enableHtmlSanitizer?$h.sanitize(s):s,i.appendChild(o),i.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(n=e.prefixIcon+" e-icons",r="Left"):(n=e.suffixIcon+" e-icons",r="Right"));var a=new _b({iconCss:n,iconPosition:r});return a.createElement=this.createElement,a.appendTo(i),e.width&&$a(i,{width:Fo(e.width)}),i},t.prototype.renderSubComponent=function(e,t){var i,n=this.createElement("div",{className:e_}),r=this.createElement("div",{innerHTML:this.enableHtmlSanitizer&&!ko(e.tooltipText)?$h.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,n),e.tooltipText&&n.setAttribute("title",r.textContent),e.cssClass&&(n.className=n.className+" "+e.cssClass),e.template)this.templateRender(e.template,n,e,t);else switch(e.type){case"Button":(i=this.buttonRendering(e,n)).setAttribute("tabindex",ko(e.tabIndex)?"-1":e.tabIndex.toString()),i.setAttribute("data-tabindex",ko(e.tabIndex)?"-1":e.tabIndex.toString()),i.setAttribute("aria-label",e.text||e.tooltipText),i.setAttribute("aria-disabled","false"),n.appendChild(i),n.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(n,i_)}if(e.showTextOn){var s=e.showTextOn;"Toolbar"===s?(this.add(n,l_),this.add(n,"e-tbtn-align")):"Overflow"===s&&this.add(n,h_)}if(e.overflow){var o=e.overflow;"Show"===o?this.add(n,c_):"Hide"===o&&(n.classList.contains(i_)||this.add(n,u_))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!n.classList.contains(i_)&&(this.add(n,S_),this.popupPriCount++),e.disabled&&this.add(n,a_),!1===e.visible&&this.add(n,w_),n},t.prototype.getDataTabindex=function(e){return ko(e.getAttribute("data-tabindex"))?"-1":e.getAttribute("data-tabindex")},t.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},t.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},t.prototype.activeEleRemove=function(e){ko(this.activeEle)||(e.parentElement.classList.contains(o_)?this.activeEle.removeAttribute("tabindex"):this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle))),this.activeEle=e,"-1"===this.getDataTabindex(this.activeEle)&&(ko(this.trgtEle)&&!e.parentElement.classList.contains(o_)?(this.updateTabIndex("-1"),e.removeAttribute("tabindex")):this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle)))},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.getModuleName=function(){return"toolbar"},t.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,(this.isReact||this.isAngular)&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();var t=this.checkOverflow(e,e.getElementsByClassName($w)[0]);if(!t){this.destroyScroll();var i=e.querySelector("."+$w);ko(i)||(this.remove(i,I_),this.tbarAlign&&this.add(i,g_))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){var n=window.getComputedStyle(this.element);this.popObj.width=parseFloat(n.width)+2*parseFloat(n.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector("."+m_)&&(this.scrollStep=this.element.querySelector("."+m_).offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}},t.prototype.orientationChange=function(){var e=this;setTimeout((function(){e.resize()}),500)},t.prototype.extendedOpen=function(){var e=this.element.querySelector("."+D_);"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains(s_))},t.prototype.updateHideEleTabIndex=function(e,t,i,n,r){i&&(n=r.indexOf(e));for(var s=r[++n];s;){if(!this.eleContains(s)){var o=s.firstElementChild.getAttribute("data-tabindex");t&&"-1"===o?s.firstElementChild.setAttribute("tabindex","0"):o!==s.firstElementChild.getAttribute("tabindex")&&s.firstElementChild.setAttribute("tabindex",o);break}s=r[++n]}},t.prototype.clearToolbarTemplate=function(e){if(this.registeredTemplate&&this.registeredTemplate.template)for(var t=this.registeredTemplate,i=0;i<t.template.length;i++){if(!ko(r=Za(t.template[parseInt(i.toString(),10)].rootNodes[0],"."+e_))&&r===e){this.clearTemplate(["template"],[t.template[parseInt(i.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0){var n=this.portals;for(i=0;i<n.length;i++){var r;if(!ko(r=Za(n[parseInt(i.toString(),10)].containerInfo,"."+e_))&&r===e){this.clearTemplate(["template"],i);break}}}},t.prototype.onPropertyChanged=function(e,t){var i=this.element;i.offsetWidth;this.extendedOpen();for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"items":if(e.items instanceof Array&&t.items instanceof Array)this.itemsRerender(e.items);else for(var s=Object.keys(e.items),o=0;o<s.length;o++){var a=parseInt(Object.keys(e.items)[parseInt(o.toString(),10)],10),l=Object.keys(e.items[parseInt(a.toString(),10)])[0],h=Object(e.items[parseInt(a.toString(),10)])[""+l];if(this.tbarAlign||"align"===l){this.refresh(),this.trigger("created");break}var c="showAlwaysInPopup"===l&&!h,u="overflow"===l&&0!==this.popupPriCount;(c||this.items[parseInt(a.toString(),10)].showAlwaysInPopup&&u)&&--this.popupPriCount,ko(this.scrollModule)&&this.destroyMode();var p=[].slice.call(Xa("."+$w+" ."+e_,i));this.isReact&&this.items[parseInt(a.toString(),10)].template&&this.clearToolbarTemplate(p[parseInt(a.toString(),10)]),Qa(p[parseInt(a.toString(),10)]),this.tbarEle.splice(a,1),this.addItems([this.items[parseInt(a.toString(),10)]],a),this.items.splice(a,1),this.items[parseInt(a.toString(),10)].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":$a(i,{width:Fo(e.width)}),this.refreshOverflow();break;case"height":$a(this.element,{height:Fo(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(i,t_),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(i,t_):this.remove(i,t_),ko(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,t_):this.remove(this.scrollModule.element,t_)),ko(this.popObj)||(e.enableRtl?this.add(this.popObj.element,t_):this.remove(this.popObj.element,t_)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&Ba([this.element],t.cssClass.split(" ")),e.cssClass&&Fa([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}}},t.prototype.hideItem=function(e,t){var i,n="object"===typeof e,r=e;if(n||!ko(r)){var s=[].slice.call(Xa("."+e_,this.element));if(n)i=e;else if(this.tbarEle[parseInt(r.toString(),10)]){i=[].slice.call(Xa("."+e_,this.element))[parseInt(r.toString(),10)]}i&&(t?(i.classList.add(w_),i.classList.contains(i_)||(ko(i.firstElementChild.getAttribute("tabindex"))||"-1"!==i.firstElementChild.getAttribute("tabindex"))&&this.updateHideEleTabIndex(i,t,n,r,s)):(i.classList.remove(w_),i.classList.contains(i_)||this.updateHideEleTabIndex(i,t,n,r,s)),this.refreshOverflow())}},Jw([ml([],A_)],t.prototype,"items",void 0),Jw([fl("auto")],t.prototype,"width",void 0),Jw([fl("auto")],t.prototype,"height",void 0),Jw([fl("")],t.prototype,"cssClass",void 0),Jw([fl("Scrollable")],t.prototype,"overflowMode",void 0),Jw([fl()],t.prototype,"scrollStep",void 0),Jw([fl(!0)],t.prototype,"enableCollision",void 0),Jw([fl(!0)],t.prototype,"enableHtmlSanitizer",void 0),Jw([fl(!0)],t.prototype,"allowKeyboard",void 0),Jw([yl()],t.prototype,"clicked",void 0),Jw([yl()],t.prototype,"created",void 0),Jw([yl()],t.prototype,"destroyed",void 0),Jw([yl()],t.prototype,"beforeCreate",void 0),t=Jw([vl],t)}(Xl),E_=function(){function e(e,t){this.predefinedItems={},this.isSearched=!1,this.items=["Add","Edit","Update","Delete","Cancel","Print","Search","ColumnChooser","PdfExport","ExcelExport","CsvExport","WordExport"],this.parent=e,this.gridID=e.element.id,this.serviceLocator=t,this.addEventListener()}return e.prototype.render=function(){this.l10n=this.serviceLocator.getService("localization");for(var e=this.parent.enableAdaptiveUI,t=["Edit","Delete","Update","Cancel"],i=0,n=["Add","Edit","Update","Delete","Cancel","Print","PdfExport","ExcelExport","WordExport","CsvExport"];i<n.length;i++){var r=n[i],s=r.toLowerCase(),o=s[0].toUpperCase()+s.slice(1);this.predefinedItems[""+r]={id:this.gridID+"_"+s,prefixIcon:"e-"+s,text:this.l10n.getConstant(o),tooltipText:this.l10n.getConstant(o)},e&&(this.predefinedItems[""+r].text="",this.predefinedItems[""+r].visible=-1===t.indexOf(r))}this.predefinedItems.Search={id:this.gridID+"_search",tooltipText:this.l10n.getConstant("Search"),align:"Right",cssClass:"e-search-wrapper",type:"Input"},this.predefinedItems.ColumnChooser={id:this.gridID+"_columnchooser",cssClass:"e-cc e-ccdiv e-cc-toolbar",suffixIcon:"e-columnchooser-btn",text:e?"":this.l10n.getConstant("Columnchooser"),tooltipText:this.l10n.getConstant("Columnchooser"),align:"Right"},"Vertical"===this.parent.rowRenderingMode&&(this.parent.allowFiltering&&"FilterBar"!==this.parent.filterSettings.type&&(this.predefinedItems.responsiveFilter={id:this.gridID+"_responsivefilter",cssClass:"e-gridresponsiveicons e-icons",suffixIcon:"e-resfilter-icon",tooltipText:this.l10n.getConstant("FilterButton")}),this.parent.allowSorting&&(this.predefinedItems.responsiveSort={id:this.gridID+"_responsivesort",cssClass:"e-gridresponsiveicons e-icons",suffixIcon:"e-ressort-icon",tooltipText:this.l10n.getConstant("Sort")})),this.parent.enableAdaptiveUI&&this.parent.toolbar&&this.parent.toolbar.indexOf("Search")>-1&&(this.predefinedItems.responsiveBack={id:this.gridID+"_responsiveback",cssClass:"e-gridresponsiveicons e-icons",suffixIcon:"e-resback-icon",visible:!1}),this.createToolbar()},e.prototype.getToolbar=function(){return this.toolbar.element},e.prototype.destroy=function(){this.toolbar&&!this.toolbar.isDestroyed&&(this.toolbar.element?(this.toolbar.off("render-react-toolbar-template",this.addReactToolbarPortals),this.toolbar.destroy()):(this.parent.destroyTemplate(["toolbarTemplate"]),this.parent.isReact&&this.parent.renderTemplates()),this.unWireEvent(),this.removeEventListener(),this.element.parentNode&&qa(this.element))},e.prototype.bindSearchEvents=function(){this.searchElement=Ka("#"+this.gridID+"_searchbar",this.element),this.wireEvent(),this.refreshToolbarItems(),this.parent.searchSettings&&this.updateSearchBox()},e.prototype.toolbarCreated=function(e){if(this.element.querySelector(".e-search-wrapper"))if(!this.parent.enableAdaptiveUI||e){var t=this.parent.cssClass?"e-input-group e-search "+this.parent.cssClass:"e-input-group e-search";this.element.querySelector(".e-search-wrapper").innerHTML='<div class="'+t+'" role="search">                    <input id="'+this.gridID+'_searchbar" class="e-input e-search" name="input" type="search"                     placeholder= "'+this.l10n.getConstant("Search")+'"/>                    <span id="'+this.gridID+'_clearbutton" class="e-input-group-icon e-icons e-sicon"                     tabindex="-1" aria-label= "clear" role= "button" style="cursor: default"></span>                    <span id="'+this.gridID+'_searchbutton" class="e-input-group-icon e-search-icon e-icons"                     tabindex="-1" title="'+this.l10n.getConstant("Search")+'" aria-label= "search" role= "search"></span>                     </div>'}else this.element.querySelector(".e-search-wrapper").innerHTML='<span id="'+this.gridID+'_clearbutton" class="e-input-group-icon e-icons e-sicon"                     tabindex="-1" aria-label= "clear" style="cursor: default"></span>                    <span id="'+this.gridID+'_searchbutton" class="e-input-group-icon e-search-icon e-icons"                     tabindex="-1" title="'+this.l10n.getConstant("Search")+'" aria-label= "search"></span>                     </div>';this.bindSearchEvents()},e.prototype.createToolbar=function(){var e=this.getItems();this.toolbar=new j_({items:e,clicked:this.toolbarClickHandler.bind(this),enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,created:this.toolbarCreated.bind(this),cssClass:this.parent.cssClass?this.parent.cssClass:""}),this.toolbar.isReact=this.parent.isReact,this.toolbar.on("render-react-toolbar-template",this.addReactToolbarPortals,this);this.toolbar.isStringTemplate=!0;var t="viewContainerRef";if(this.parent[""+t]&&(this.toolbar.registeredTemplate={},this.toolbar[""+t]=this.parent[""+t]),this.element=this.parent.createElement("div",{id:this.gridID+"_toolbarItems"}),this.parent.enableAdaptiveUI&&this.element.classList.add("e-res-toolbar"),this.parent.toolbarTemplate){if("string"===typeof this.parent.toolbarTemplate)this.toolbar.appendTo(this.parent.toolbarTemplate),this.element=this.toolbar.element;else{var i=this.parent.isReact&&"string"!==typeof this.parent.toolbarTemplate,n=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,r=this.parent.element.id+"toolbarTemplate";i||n?(Wy(this.parent.toolbarTemplate)({},this.parent,"toolbarTemplate",r,null,null,this.element),this.parent.renderTemplates()):iv(this.element,Wy(this.parent.toolbarTemplate)({},this.parent,"toolbarTemplate"))}this.element.classList.add("e-temp-toolbar")}else this.toolbar.appendTo(this.element);this.parent.element.insertBefore(this.element,this.parent.getHeaderContent());var s=this.element.querySelector(".e-toolbar-left"),o=this.element.querySelector(".e-toolbar-center"),a=this.element.querySelector(".e-toolbar-right"),l=this.element.querySelector(".e-toolbar-items"),h=this.element,c=s?s.clientWidth:0,u=o?o.clientWidth:0,p=a?a.clientWidth:0,d=l?l.clientWidth:0,f=h?h.clientWidth:0;(c>f||u>f||p>f||d>f)&&this.toolbar.refreshOverflow()},e.prototype.addReactToolbarPortals=function(e){this.parent.isReact&&e&&(this.parent.portals=this.parent.portals.concat(e),this.parent.renderTemplates())},e.prototype.renderResponsiveSearch=function(e){e?(this.toolbarCreated(!0),this.refreshResponsiveToolbarItems(cv.isSearch),this.searchElement=Ka("#"+this.gridID+"_searchbar",this.element),Jy(this.searchElement,"e-toolbar-right").classList.add("e-responsive-right"),this.parent.searchSettings&&this.updateSearchBox(),this.searchBoxObj.searchFocus({target:this.searchElement}),this.searchElement.focus()):this.refreshResponsiveToolbarItems(cv.isInitial)},e.prototype.refreshResponsiveToolbarItems=function(e){if(e===cv.isInitial){for(var t=this.parent.element.id,i=[t+"_edit",t+"_delete"],n=this.parent.getSelectedRowIndexes(),r=[t+"_responsiveback",t+"_update",t+"_cancel"],s=0,o=this.toolbar.items;s<o.length;s++){(h=(c=o[s]).template.length?this.toolbar.element.querySelector(c.template):this.toolbar.element.querySelector("#"+c.id))&&(i.indexOf(c.id)>-1?n.length?h.parentElement.classList.remove("e-hidden"):h.parentElement.classList.add("e-hidden"):-1===r.indexOf(c.id)?h.parentElement.classList.remove("e-hidden"):h.parentElement.classList.add("e-hidden"))}if(this.searchElement)Jy(this.searchElement,"e-toolbar-right").classList.remove("e-responsive-right"),this.toolbarCreated(!1),this.unWireEvent(),this.searchElement=void 0}if(e===cv.isSearch){i=[this.parent.element.id+"_responsiveback",this.parent.element.id+"_search"];for(var a=0,l=this.toolbar.items;a<l.length;a++){var h,c=l[a];(h=this.toolbar.element.querySelector("#"+c.id))&&(i.indexOf(c.id)>-1?h.parentElement.classList.remove("e-hidden"):h.parentElement.classList.add("e-hidden"))}}},e.prototype.refreshToolbarItems=function(e){var t=this.parent,i=[],n=[],r=t.editSettings,s=t.currentViewData&&t.currentViewData.length;r.allowAdding?i.push(this.gridID+"_add"):n.push(this.gridID+"_add"),r.allowEditing&&s?i.push(this.gridID+"_edit"):n.push(this.gridID+"_edit"),r.allowDeleting&&s?i.push(this.gridID+"_delete"):n.push(this.gridID+"_delete"),"Batch"===t.editSettings.mode?t.element.getElementsByClassName("e-updatedtd").length&&(r.allowAdding||r.allowEditing)?(i.push(this.gridID+"_update"),i.push(this.gridID+"_cancel")):(n.push(this.gridID+"_update"),n.push(this.gridID+"_cancel")):t.isEdit&&(r.allowAdding||r.allowEditing)?(i=[this.gridID+"_update",this.gridID+"_cancel"],n=[this.gridID+"_add",this.gridID+"_edit",this.gridID+"_delete"]):(n.push(this.gridID+"_update"),n.push(this.gridID+"_cancel")),this.enableItems(i,!0),this.enableItems(n,!1)},e.prototype.getItems=function(){var e=[],t=this.parent.toolbar||[];if("string"===typeof this.parent.toolbar)return[];"Vertical"===this.parent.rowRenderingMode&&(this.parent.allowFiltering&&"FilterBar"!==this.parent.filterSettings.type&&e.push(this.getItemObject("responsiveFilter")),this.parent.allowSorting&&e.push(this.getItemObject("responsiveSort")));for(var i=0,n=t;i<n.length;i++){var r=n[i];switch(typeof r){case"number":e.push(this.getItemObject(this.items[r]));break;case"string":e.push(this.getItemObject(r));break;default:e.push(this.getItem(r))}}return this.parent.enableAdaptiveUI&&this.parent.toolbar&&this.parent.toolbar.indexOf("Search")>-1&&e.push(this.getItemObject("responsiveBack")),e},e.prototype.getItem=function(e){var t=this.predefinedItems[e.text];return t?Eo(t,t,e):e},e.prototype.getItemObject=function(e){return this.predefinedItems[""+e]||{text:e,id:this.gridID+"_"+e}},e.prototype.enableItems=function(e,t){for(var i=0,n=e;i<n.length;i++){var r=Ka("#"+n[i],this.element);r&&this.toolbar.enableItems(r.closest(".e-toolbar-item"),t)}},e.prototype.toolbarClickHandler=function(e){var t=this,i=this.parent,n=this.gridID;Eo(e,{cancel:!1});var r=e,s=e.originalEvent;i.trigger("toolbarClick",r,(function(e){if(e.originalEvent=e.originalEvent?e.originalEvent:s,!e.cancel)switch(!ko(e.item)&&e.item.id){case n+"_print":i.print();break;case n+"_edit":i.startEdit();break;case n+"_update":i.endEdit();break;case n+"_cancel":i.closeEdit();break;case n+"_add":i.addRecord();break;case n+"_delete":i.deleteRecord();break;case n+"_search":e.originalEvent.target.id===n+"_searchbutton"&&t.searchElement?t.search():!i.enableAdaptiveUI||t.searchElement||!e.originalEvent.target.classList.contains("e-search-wrapper")&&e.originalEvent.target.id!==n+"_searchbutton"?e.originalEvent.target.classList.contains("e-clear-icon")&&e.originalEvent.target.id===n+"_clearbutton"&&t.searchElement&&(t.searchElement.value="",t.searchElement&&(t.sIcon=t.searchElement.parentElement.querySelector(".e-sicon"),t.sIcon.classList.remove("e-clear-icon"),t.sIcon.removeAttribute("title"),t.sIcon.style.cursor="default"),(t.isSearched||t.parent.searchSettings.key.length)&&(t.parent.search(t.searchElement.value),t.isSearched=!1)):t.renderResponsiveSearch(!0);break;case n+"_columnchooser":var r=t.parent.element.querySelector(".e-ccdiv"),o=r.getBoundingClientRect().top,a=r.getBoundingClientRect().left,l=e.originalEvent.target;o=r.getBoundingClientRect().top+r.offsetTop,i.createColumnchooser(a,o,l);break;case n+"_responsivefilter":i.showResponsiveCustomFilter();break;case n+"_responsivesort":i.showResponsiveCustomSort();break;case n+"_responsiveback":t.renderResponsiveSearch(!1)}}))},e.prototype.modelChanged=function(e){"edit"===e.module&&this.refreshToolbarItems()},e.prototype.onPropertyChanged=function(e){e.module===this.getModuleName()&&this.parent.toolbar&&(this.element&&qa(this.element),this.render())},e.prototype.keyUpHandler=function(e){13===e.keyCode&&this.search(),this.searchElement&&(this.sIcon=this.searchElement.parentElement.querySelector(".e-sicon"),this.searchElement.value.length&&!ko(this.sIcon)?(this.sIcon.classList.add("e-clear-icon"),this.sIcon.setAttribute("title","Clear"),this.sIcon.style.cursor="pointer"):(this.sIcon.classList.remove("e-clear-icon"),this.sIcon.removeAttribute("title"),this.sIcon.style.cursor="default"))},e.prototype.search=function(){this.isSearched=!0,this.parent.search(this.searchElement.value)},e.prototype.updateSearchBox=function(){this.searchElement&&(this.searchElement.value=this.parent.searchSettings.key)},e.prototype.wireEvent=function(){this.searchElement&&(this.searchBoxObj=new DS(this.searchElement),Oa.add(this.searchElement,"keyup",this.keyUpHandler,this),this.searchBoxObj.wireEvent()),Oa.add(this.element,"focusin",this.onFocusIn,this),Oa.add(this.element,"focusout",this.onFocusOut,this)},e.prototype.unWireEvent=function(){this.searchElement&&(Oa.remove(this.searchElement,"keyup",this.keyUpHandler),this.searchBoxObj.unWireEvent()),Oa.remove(this.element,"focusin",this.onFocusIn),Oa.remove(this.element,"focusout",this.onFocusOut)},e.prototype.onFocusIn=function(e){var t=this.parent.focusModule.currentInfo;t&&t.element&&(Ba([t.element,t.elementToFocus],["e-focused","e-focus"]),t.element.tabIndex=-1),e.target.tabIndex=0},e.prototype.onFocusOut=function(e){e.target.tabIndex=-1},e.prototype.setFocusToolbarItem=function(e){var t=e.querySelector(".e-btn,.e-input,.e-toolbar-item-focus");!t&&this.parent.enableAdaptiveUI&&!this.searchElement&&e.classList.contains("e-search-wrapper")&&(t=e.querySelector("#"+this.gridID+"_searchbutton")),t.focus()},e.prototype.getFocusableToolbarItems=function(){for(var e=[].slice.call(this.element.querySelectorAll(".e-toolbar-item:not(.e-overlay):not(.e-hidden)")),t=[],i=0;i<e.length;i++)ko(e[parseInt(i.toString(),10)].querySelector(".e-btn,.e-input,.e-toolbar-item-focus"))||t.push(e[parseInt(i.toString(),10)]);return t},e.prototype.keyPressedHandler=function(e){if(e.target&&Jy(e.target,"e-toolbar-item")){var t=Jy(e.target,"e-toolbar-item"),i=this.getFocusableToolbarItems();if("tab"===e.action||"shiftTab"===e.action){if("tab"===e.action&&t===i[i.length-1]||"shiftTab"===e.action&&t===i[0])return;for(var n=0;n<i.length;n++)if(t===i[parseInt(n.toString(),10)]){e.preventDefault();var r="tab"===e.action?n+1:n-1;return void this.setFocusToolbarItem(i[parseInt(r.toString(),10)])}}"enter"===e.action&&this.parent.enableAdaptiveUI&&!this.searchElement&&e.target.id===this.gridID+"_searchbutton"&&this.renderResponsiveSearch(!0)}},e.prototype.reRenderToolbar=function(){this.element&&qa(this.element),this.render()},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.evtHandlers=[{event:iy,handler:this.reRenderToolbar},{event:Ug,handler:this.render},{event:Yg,handler:this.onPropertyChanged},{event:qg,handler:this.updateSearchBox.bind(this)},{event:Gg,handler:this.refreshToolbarItems},{event:dm,handler:this.refreshToolbarItems},{event:qg,handler:this.modelChanged},{event:Sg,handler:this.refreshToolbarItems},{event:rm,handler:this.removeResponsiveSearch},{event:ry,handler:this.reRenderToolbar},{event:sm,handler:this.destroy},{event:nm,handler:this.keyPressedHandler}],Zv(this.parent,this.evtHandlers,!0,this),this.rowSelectedFunction=this.rowSelected.bind(this),this.rowDeSelectedFunction=this.rowSelected.bind(this),this.parent.addEventListener(_g,this.rowSelectedFunction),this.parent.addEventListener(Ng,this.rowDeSelectedFunction))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(Zv(this.parent,this.evtHandlers,!1),this.parent.removeEventListener(_g,this.rowSelectedFunction),this.parent.removeEventListener(Ng,this.rowDeSelectedFunction))},e.prototype.removeResponsiveSearch=function(e){var t=e.target,i=t.classList.contains("e-search-icon")||t.classList.contains("e-search-wrapper");this.parent.enableAdaptiveUI&&!i&&this.searchElement&&!Jy(e.target,"e-res-toolbar")&&this.renderResponsiveSearch(!1)},e.prototype.rowSelected=function(){this.parent.enableAdaptiveUI&&this.refreshResponsiveToolbarItems(cv.isInitial)},e.prototype.getModuleName=function(){return"toolbar"},e}(),k_=function(){function e(e,t,i,n){this.contentRefresh=!0,this.isModelChanged=!0,this.aria=new qM,this.currentTarget=null,this.parent=e,this.sortSettings=t,this.sortedColumns=i,this.serviceLocator=n,this.focus=n.getService("focus"),this.addEventListener(),this.setFullScreenDialog()}return e.prototype.updateModel=function(){var e,t={field:this.columnName,direction:this.direction},i=this.parent.groupSettings.columns,n=!1;if(this.isMultiSort)(e=this.getSortedColsIndexByField(this.columnName))>-1&&this.sortSettings.columns.splice(e,1),this.sortSettings.columns.push(t),this.sortSettings.columns=this.sortSettings.columns;else if(i.length){for(var r=[],s=0,o=i.length;s<o;s++)if(e=this.getSortedColsIndexByField(i[parseInt(s.toString(),10)],r),this.columnName===i[parseInt(s.toString(),10)])n=!0,r.push(t);else{var a=this.getSortColumnFromField(i[parseInt(s.toString(),10)]);r.push({field:a.field,direction:a.direction,isFromGroup:a.isFromGroup})}n||r.push(t),this.sortSettings.columns=r}else this.sortSettings.columns=[t];this.parent.dataBind(),this.lastSortedCol=this.columnName},e.prototype.onActionComplete=function(e){var t=this.isRemove?{requestType:"sorting",type:bg}:{columnName:this.columnName,direction:this.direction,requestType:"sorting",type:bg};this.isRemove=!1,this.parent.trigger(bg,Eo(e,t))},e.prototype.sortColumn=function(e,t,i){var n=this.parent;!1===this.parent.getColumnByField(e).allowSorting||this.parent.isContextMenuOpen()?this.parent.log("action_disabled_column",{moduleName:this.getModuleName(),columnName:e}):(n.allowMultiSorting||(i=n.allowMultiSorting),this.isActionPrevent()?n.notify(ym,{instance:this,handler:this.sortColumn,arg1:e,arg2:t,arg3:i}):(this.backupSettings(),this.columnName=e,this.direction=t,this.isMultiSort=i,this.removeSortIcons(),this.updateSortedCols(e,i),this.updateModel()))},e.prototype.setFullScreenDialog=function(){this.serviceLocator&&this.serviceLocator.registerAdaptiveService(this,this.parent.enableAdaptiveUI,hv.isSort)},e.prototype.backupSettings=function(){this.lastSortedCols=Hy(this.sortSettings.columns),this.lastCols=this.sortedColumns},e.prototype.restoreSettings=function(){this.isModelChanged=!1,this.isMultiSort=!0,this.parent.setProperties({sortSettings:{columns:this.lastSortedCols}},!0),this.sortedColumns=this.lastCols,this.isModelChanged=!0},e.prototype.updateSortedCols=function(e,t){if(!t)if(this.parent.allowGrouping)for(var i=0,n=this.sortedColumns.length;i<n;i++)this.parent.groupSettings.columns.indexOf(this.sortedColumns[parseInt(i.toString(),10)])<0&&(this.sortedColumns.splice(i,1),n--,i--);else this.sortedColumns.splice(0,this.sortedColumns.length);this.sortedColumns.indexOf(e)<0&&this.sortedColumns.push(e)},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()){if(this.contentRefresh){var t=this.sortSettings.columns.length?{columnName:this.columnName,direction:this.direction,requestType:"sorting",type:vg,target:this.currentTarget,cancel:!1}:{requestType:"sorting",type:vg,cancel:!1,target:this.currentTarget};this.parent.notify(Gg,t)}this.refreshSortSettings(),this.removeSortIcons(),this.addSortIcons()}},e.prototype.refreshSortSettings=function(){this.sortedColumns.length=0;for(var e=this.sortSettings.columns,t=0;t<e.length;t++)e[parseInt(t.toString(),10)].isFromGroup||this.sortedColumns.push(e[parseInt(t.toString(),10)].field)},e.prototype.clearSorting=function(){var e=Zy(this.sortSettings.columns);if(this.isActionPrevent())this.parent.notify(ym,{instance:this,handler:this.clearSorting});else for(var t=0,i=e.length;t<i;t++)this.removeSortColumn(e[parseInt(t.toString(),10)].field)},e.prototype.isActionPrevent=function(){return gv(this.parent)},e.prototype.removeSortColumn=function(e){var t=this.parent,i=this.sortSettings.columns;if(!(0===i.length&&this.sortedColumns.indexOf(e)<0))if(this.isActionPrevent())this.parent.notify(ym,{instance:this,handler:this.removeSortColumn,arg1:e});else{this.backupSettings(),this.removeSortIcons();for(var n={requestType:"sorting",type:vg,target:this.currentTarget},r=0,s=i.length;r<s;r++)if(i[parseInt(r.toString(),10)].field===e){if(t.allowGrouping&&t.groupSettings.columns.indexOf(i[parseInt(r.toString(),10)].field)>-1)continue;this.sortedColumns.splice(this.sortedColumns.indexOf(i[parseInt(r.toString(),10)].field),1),i.splice(r,1),this.isRemove=!0,this.isModelChanged&&this.parent.notify(Gg,n);break}n.cancel||this.addSortIcons()}},e.prototype.getSortedColsIndexByField=function(e,t){for(var i=t||this.sortSettings.columns,n=0,r=i.length;n<r;n++)if(i[parseInt(n.toString(),10)].field===e)return n;return-1},e.prototype.getModuleName=function(){return"sort"},e.prototype.initialEnd=function(){if(this.parent.off(Wg,this.initialEnd),this.parent.getColumns().length&&this.sortSettings.columns.length){var e=this.parent;this.contentRefresh=!1,this.isMultiSort=this.sortSettings.columns.length>1;for(var t=0,i=e.sortSettings.columns.slice();t<i.length;t++){var n=i[t];this.sortedColumns.indexOf(n.field)>-1&&this.sortColumn(n.field,n.direction,!0)}this.isMultiSort=!1,this.contentRefresh=!0}},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.evtHandlers=[{event:iy,handler:this.setFullScreenDialog},{event:Wg,handler:this.initialEnd},{event:"sorting-complete",handler:this.onActionComplete},{event:qg,handler:this.onPropertyChanged},{event:rm,handler:this.clickHandler},{event:Xg,handler:this.refreshSortIcons},{event:nm,handler:this.keyPressed},{event:Lm,handler:this.cancelBeginEvent},{event:sm,handler:this.destroy}],Zv(this.parent,this.evtHandlers,!0,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||Zv(this.parent,this.evtHandlers,!1)},e.prototype.destroy=function(){this.isModelChanged=!1;var e=this.parent.element;e&&(e.querySelector("."+py)||e.querySelector("."+dy))&&(this.parent.element.querySelector(".e-gridpopup").getElementsByClassName("e-sortdirect").length&&(this.parent.element.querySelector(".e-gridpopup").style.display="none"),this.parent.refreshing||!this.parent.isDestroyed&&this.parent.allowSorting||this.clearSorting(),this.isModelChanged=!0,this.removeEventListener())},e.prototype.cancelBeginEvent=function(e){"sorting"===e.requestType&&(this.restoreSettings(),this.refreshSortIcons(),this.isMultiSort=!0)},e.prototype.clickHandler=function(e){var t=this.parent;this.currentTarget=null,this.popUpClickHandler(e);var i=Za(e.target,".e-headercell");if(i&&!e.target.classList.contains("e-grptogglebtn")&&!i.classList.contains("e-resized")&&!e.target.classList.contains("e-rhandler")&&!e.target.classList.contains("e-columnmenu")&&!e.target.classList.contains("e-filtermenudiv")&&!Jy(e.target,"e-stackedheadercell")&&!(t.allowSelection&&t.selectionSettings.allowColumnSelection&&e.target.classList.contains("e-headercell"))){var n=this.parent.getColumnByUid(i.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"));"checkbox"!==n.type&&(this.initiateSort(i,e,n),La.isDevice&&this.showPopUp(e))}if(i&&i.classList.remove("e-resized"),Jy(e.target,"e-excel-ascending")||Jy(e.target,"e-excel-descending")){var r=Za(e.target,".e-filter-popup").getAttribute("uid"),s=ko(Jy(e.target,"e-excel-descending"))?"Ascending":"Descending";this.sortColumn(t.getColumnByUid(r).field,s,!1)}},e.prototype.keyPressed=function(e){var t=e.target;if(!this.parent.isEdit&&("enter"===e.action||"ctrlEnter"===e.action||"shiftEnter"===e.action)&&Za(t,".e-headercell")){var i=this.focus.getFocusedElement();if(ko(i)||!i.classList.contains("e-headercell")||!i.querySelector(".e-headercelldiv"))return;var n=this.parent.getColumnByUid(i.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"));this.initiateSort(i,e,n)}},e.prototype.initiateSort=function(e,t,i){var n=this.parent,r=i.field;this.currentTarget=t.target;var s=e.getElementsByClassName("e-ascending").length?"Descending":"Ascending";this.isMultiSort=t.ctrlKey||this.enableSortMultiTouch||-1!==navigator.userAgent.indexOf("Mac OS")&&t.metaKey,t.shiftKey||this.sortSettings.allowUnsort&&e.getElementsByClassName("e-descending").length&&!(n.groupSettings.columns.indexOf(r)>-1)?this.removeSortColumn(r):this.sortColumn(r,s,this.isMultiSort)},e.prototype.showPopUp=function(e){var t=Za(e.target,".e-headercell");!this.parent.allowMultiSorting||ko(t)&&!this.parent.isContextMenuOpen()||Ky(this.parent.element.querySelector(".e-gridpopup"),e,"e-sortdirect e-icons e-icon-sortdirect"+(this.sortedColumns.length>1?" e-spanclicked":""))},e.prototype.popUpClickHandler=function(e){var t=e.target;Za(t,".e-headercell")||e.target.classList.contains(uy)||Za(t,".e-gridpopup")?t.classList.contains("e-sortdirect")&&(t.classList.contains("e-spanclicked")?(t.classList.remove("e-spanclicked"),this.enableSortMultiTouch=!1,this.parent.element.querySelector(".e-gridpopup").style.display="none"):(t.classList.add("e-spanclicked"),this.enableSortMultiTouch=!0)):this.parent.element.querySelector(".e-gridpopup").style.display="none"},e.prototype.addSortIcons=function(){for(var e,t,i=this.parent,n=this.sortSettings.columns,r=this.parent.getColumns().map((function(e){return e.field})),s=0,o=n.length;s<o;s++)e=i.getColumnHeaderByField(n[parseInt(s.toString(),10)].field),-1===r.indexOf(n[parseInt(s.toString(),10)].field)||ko(e)||(this.aria.setSort(e,n[parseInt(s.toString(),10)].direction.toLowerCase()),n.length>1&&e.querySelector(".e-headercelldiv").insertBefore(this.parent.createElement("span",{className:"e-sortnumber",innerHTML:(s+1).toString()}),e.querySelector(".e-headertext")),t=e.querySelector(".e-sortfilterdiv"),"Ascending"===n[parseInt(s.toString(),10)].direction?el(t,["e-ascending","e-icon-ascending"],[]):el(t,["e-descending","e-icon-descending"],[]))},e.prototype.removeSortIcons=function(e){for(var t,i=this.parent,n=this.sortSettings.columns,r=this.parent.getColumns().map((function(e){return e.field})),s=e||0,o=ko(e)?n.length:e+1;s<o;s++)ko(t=i.getColumnHeaderByField(n[parseInt(s.toString(),10)].field))||i.allowGrouping&&i.groupSettings.columns.indexOf(n[parseInt(s.toString(),10)].field)>-1&&!t.querySelector(".e-sortfilterdiv")||-1!==r.indexOf(n[parseInt(s.toString(),10)].field)&&(this.aria.setSort(t,"none"),el(t.querySelector(".e-sortfilterdiv"),[],["e-descending","e-icon-descending","e-ascending","e-icon-ascending"]),t.querySelector(".e-sortnumber")&&t.querySelector(".e-headercelldiv").removeChild(t.querySelector(".e-sortnumber")))},e.prototype.getSortColumnFromField=function(e){for(var t=0,i=this.sortSettings.columns.length;t<i;t++)if(this.sortSettings.columns[parseInt(t.toString(),10)].field===e)return this.sortSettings.columns[parseInt(t.toString(),10)];return!1},e.prototype.updateAriaAttr=function(){for(var e=this.parent.getColumns().map((function(e){return e.field})),t=0,i=this.sortedColumns;t<i.length;t++){var n=i[t];if(-1!==e.indexOf(n)){var r=this.parent.getColumnHeaderByField(n);this.aria.setSort(r,this.getSortColumnFromField(n).direction)}}},e.prototype.refreshSortIcons=function(){this.removeSortIcons(),this.isMultiSort=!0,this.removeSortIcons(),this.addSortIcons(),this.isMultiSort=!1,this.updateAriaAttr()},e.prototype.showCustomSort=function(e){this.responsiveDialogRenderer.isCustomDialog=e,this.responsiveDialogRenderer.showResponsiveDialog()},e}(),z_=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),L_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-filterbarcell"}),t}return z_(t,e),t.prototype.getGui=function(){return this.parent.createElement("div")},t.prototype.render=function(e,t){var i,n=this.parent.element.querySelector(".e-filterbar"),r=this.element.cloneNode(),s=this.getGui(),o=e.column;if(n.appendChild(r),r.setAttribute("e-mappinguid",o.uid),o.filterTemplate){var a={};t&&(a[o.field]=t[o.field]);if(a.column=o,o.visible){var l=this.parent.isReact&&"string"!==typeof o.filterTemplate,h=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,c=this.parent.element.id+o.uid+"filterTemplate";if(l||h)o.getFilterTemplate()(a,this.parent,"filterTemplate",c,null,null,r),this.parent.renderTemplates();else iv(r,o.getFilterTemplate()(a,this.parent,"filterTemplate",c))}else r.classList.add("e-hide")}else if("checkbox"!==o.type){if(!ko(o.allowFiltering)&&!o.allowFiltering||ko(o.filterBarTemplate)){Ga(s,{class:"e-filterdiv e-fltrinputdiv"}),i=this.parent.createElement("input",{id:o.field+"_filterBarcell",className:"e-filtertext",attrs:{type:"search",title:o.headerText+e.attributes.title,value:t[e.column.field]?t[e.column.field]:"",role:"search"}}),s.appendChild(i);u={element:i,floatLabelType:"Never",properties:{enableRtl:this.parent.enableRtl,showClearButton:!0,cssClass:this.parent.cssClass}};Ou.createInput(u,this.parent.createElement)}else if(r.classList.add("e-fltrtemp"),Ga(s,{class:"e-fltrtempdiv"}),ko(o.filterBarTemplate.create))i=this.parent.createElement("input",{id:o.field+"_filterBarcell",className:"e-filterUi_input e-filtertext e-fltrTemp",attrs:{type:"search",title:o.headerText}}),s.appendChild(i);else{var u={column:o,node:Element},p=o.filterBarTemplate.create;if("string"===typeof p&&(p=No(p,window)),"string"===typeof(i=p(u))){var d=this.parent.createElement("div");d.innerHTML=i,i=d.firstChild}Ga(s,{class:"e-filterUi_input e-filtertext e-fltrTemp",title:o.headerText,id:o.field+"_filterBarcell"}),s.appendChild(i)}(!1===o.allowFiltering||""===o.field||ko(o.field))&&(i.setAttribute("disabled","true"),i.classList.add("e-disable"));var f=s.querySelector(".e-clear-icon");if(f&&f.setAttribute("title",this.parent.localeObj.getConstant("ClearButton")),o.visible||r.classList.add("e-hide"),this.appendHtml(r,s),this.parent.filterSettings.showFilterBarOperator&&"FilterBar"===this.parent.filterSettings.type&&!this.parent.isPrinting&&ko(o.filterTemplate)&&ko(o.filterBarTemplate)&&this.operatorIconRender(s,o,e),(ko(o.allowFiltering)||o.allowFiltering)&&!ko(o.filterBarTemplate)){var g=o.filterBarTemplate.write;u={element:i,column:o};"string"===typeof g&&(g=No(g,window)),g.call(this,u)}}return this.parent.isFrozenGrid()&&Gv(this.parent,o,r),r},t.prototype.appendHtml=function(e,t){return e.appendChild(t),e},t.prototype.operatorIconRender=function(e,t,i){var n,r=this.parent,s=this.parent.createElement("input",{className:" e-filterbaroperator e-icons e-icon-filter",id:i.column.uid});if(e.querySelector("span").appendChild(s),t.filter&&t.filter.operator)n=t.filter.operator;else if(r.filterSettings.columns.length)for(var o=0,a=r.filterSettings.columns;o<a.length;o++){var l=a[parseInt(o.toString(),10)];n=l.field===t.field?l.operator:"equal"}else n="equal";ko(r.filterModule.operators[t.field])||(n=r.filterModule.operators[t.field]),this.dropOptr=new Kp({fields:{text:"text",value:"value"},popupHeight:"auto",value:n,width:"0px",enabled:t.allowFiltering,popupWidth:"auto",enableRtl:this.parent.enableRtl,change:this.internalEvent.bind(this),beforeOpen:function(){var e=r.filterModule.customOperators;this.dataSource=e[r.getColumnByUid(this.element.id).type+"Operator"];for(var i=0;i<this.dataSource.length;i++)t.filter&&t.filter.operator&&ko(r.filterModule.operators[t.field])&&this.dataSource[parseInt(i.toString(),10)].value===t.filter.operator&&(this.value=t.filter.operator)},cssClass:this.parent.cssClass?"e-popup-flbar "+this.parent.cssClass:"e-popup-flbar"}),this.dropOptr.appendTo(s);var h=Za(this.dropOptr.element,"span");h.classList.add("e-filterbardropdown"),h.removeAttribute("tabindex")},t.prototype.internalEvent=function(e){var t=this.parent,i=t.getColumnByUid(e.element.getAttribute("id"));e.column=i,t.filterModule.operators[i.field]=e.value,t.notify("get-filterbar-operator",e)},t}(QM),O_=function(){function e(e,t,i,n){this.ddOpen=this.dropDownOpen.bind(this),this.parent=e,this.serviceLocator=i,this.filterSettings=n,this.customFilterOperators=t,this.parent&&(this.parent.on(Nm,this.destroyDropDownList,this),this.parent.on(sm,this.destroyDropDownList,this))}return e.prototype.renderOperatorUI=function(e,t,i,n,r){this.dialogObj=n;var s=i.type+"Operator";this.optrData=this.customOptr=ko(r)?ko(this.parent.filterSettings.operators)||ko(this.parent.filterSettings.operators[""+s])?this.customFilterOperators[""+s]:this.parent.filterSettings.operators[""+s]:r;var o=this.customOptr,a=this.dropSelectedVal(i,s),l=this.parent.createElement("div",{className:"e-flm_optrdiv"});e.appendChild(l);var h=this.parent.createElement("input",{id:i.uid+"-floptr"});l.appendChild(h),this.dropOptr=new Kp({dataSource:o,fields:{text:"text",value:"value"},cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",enableRtl:this.parent.enableRtl,text:a,change:function(){var e=document.querySelector(".e-flmenu-valuediv").querySelector("input");"isempty"===this.value||"isnotempty"===this.value||"isnull"===this.value||"isnotnull"===this.value?e.ej2_instances[0].enabled=!1:ko(e.getAttribute("disabled"))||(e.ej2_instances[0].enabled=!0)}}),this.dropOptr.addEventListener(ky,this.ddOpen),this.dropOptr.appendTo("#"+i.uid+"-floptr")},e.prototype.renderResponsiveDropDownList=function(e){e.popup.element.style.width="100%"},e.prototype.dropDownOpen=function(e){e.popup.element.style.zIndex=(this.dialogObj.zIndex+1).toString(),this.parent.enableAdaptiveUI&&this.renderResponsiveDropDownList(e)},e.prototype.dropSelectedVal=function(e,t){for(var i="",n=0,r=this.parent.filterSettings.columns;n<r.length;n++){var s=r[n];if(e.field===s.field||e.isForeignColumn()&&e.foreignKeyValue===s.field){var o=new mp(this.optrData).executeLocal((new sp).where("value","equal",s.operator));i=ko(o[0])?"":o[0].text}}if(""===i)if(e.filter.operator)for(var a=Object.keys(this.optrData).length,l=0;l<a;l++)this.optrData[parseInt(l.toString(),10)].value===e.filter.operator&&(i=this.optrData[parseInt(l.toString(),10)].text);else i=this.optrData[0].text;return i},e.prototype.getFlOperator=function(){return this.dropOptr.value},e.prototype.destroyDropDownList=function(){this.dropOptr.isDestroyed||(this.dropOptr.removeEventListener(ky,this.ddOpen),this.dropOptr.destroy(),this.parent.off(Nm,this.destroyDropDownList),this.parent.off(sm,this.destroyDropDownList))},e}();function P_(e,t,i,n){if(""!==t){var r=i?"gim":"gm";t=/^[a-zA-Z0-9- ]*$/.test(t)?t:t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),R_(e,new RegExp("StartsWith"===n?"^("+t+")":"EndsWith"===n?"("+t+")$":"("+t+")",r))}}function R_(e,t){for(var i=0;e.childNodes&&i<e.childNodes.length;i++){if(3===e.childNodes[i].nodeType&&""!==e.childNodes[i].textContent.trim()){var n=e.childNodes[i].nodeValue.trim().replace(t,'<span class="e-highlight">$1</span>');e.childNodes[i].nodeValue="",e.innerHTML=e.innerHTML.trim()+n;break}R_(e.childNodes[i],t)}}function F_(e){for(var t=e.querySelectorAll(".e-highlight"),i=t.length-1;i>=0;i--){var n=t[i].parentNode,r=document.createTextNode(t[i].textContent);n.replaceChild(r,t[i])}}var B_=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),V_=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};qp.root="e-autocomplete",qp.icon="e-input-group-icon e-ddl-icon e-search-icon";var U_,H_=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.isFiltered=!1,n.searchList=!1,n}return B_(t,e),t.prototype.preRender=function(){e.prototype.preRender.call(this)},t.prototype.getLocaleName=function(){return"auto-complete"},t.prototype.getNgDirective=function(){return"EJS-AUTOCOMPLETE"},t.prototype.getQuery=function(e){var t=e?e.clone():this.query?this.query.clone():new sp,i=""!==this.queryString||ko(this.value)?this.filterType:"equal",n=""!==this.queryString||ko(this.value)?this.queryString:this.value;if(this.isFiltered)return t;if(null!==this.queryString&&""!==this.queryString){var r=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof mp||"string"!==r)&&"number"!==r){var s=ko(this.fields.value)?"":this.fields.value;t.where(s,i,n,this.ignoreCase,this.ignoreAccent)}else t.where("",i,n,this.ignoreCase,this.ignoreAccent)}if(!ko(this.suggestionCount)&&!this.enableVirtualization){if(20!==this.suggestionCount)for(var o=0;o<t.queries.length;o++)"onTake"===t.queries[o].fn&&t.queries.splice(o,1);t.take(this.suggestionCount)}if(this.enableVirtualization){var a=this.getTakeValue();t.skip(this.virtualItemStartIndex),t.take(a),t.requiresCount()}return t},t.prototype.searchLists=function(t){var i=this;if(this.isTyped=!0,this.isDataFetched=this.isSelectCustom=!1,this.checkAndResetCache(),ko(this.list)&&e.prototype.renderList.call(this,t,!0),this.queryString=this.filterInput.value,"mousedown"!==t.type&&(40===t.keyCode||38===t.keyCode))return this.queryString=""===this.queryString?null:this.queryString,this.beforePopupOpen=!0,void this.resetList(this.dataSource,this.fields,null,t);this.isSelected=!1,this.activeIndex=null;var n={preventDefaultAction:!1,text:this.filterInput.value,updateData:function(e,t,r){n.cancel||(i.isFiltered=!0,i.filterAction(e,t,r))},cancel:!1};this.trigger("filtering",n,(function(e){e.cancel||i.isFiltered||e.preventDefaultAction||(i.searchList=!0,i.filterAction(i.dataSource,null,i.fields,t))}))},t.prototype.filter=function(e,t,i){this.isFiltered=!0,this.filterAction(e,t,i)},t.prototype.filterAction=function(e,t,i,n){this.beforePopupOpen=!0;var r=this.list.classList.contains("e-nodata");if(""!==this.queryString&&this.queryString.length>=this.minLength){if(this.enableVirtualization&&this.isFiltering()&&this.isTyped&&(this.isPreventScrollAction=!0,this.list.scrollTop=0,this.previousStartIndex=0,this.virtualListInfo=null),this.resetList(e,i,t,n),this.enableVirtualization&&r&&!this.list.classList.contains("e-nodata")&&(this.list.querySelector(".e-virtual-ddl-content")||this.list.appendChild(this.createElement("div",{className:"e-virtual-ddl-content",styles:this.getTransformValues()})).appendChild(this.list.querySelector(".e-list-parent")),!this.list.querySelector(".e-virtual-ddl"))){var s=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl",styles:this.GetVirtualTrackHeight()});document.getElementsByClassName("e-popup")[0].querySelector(".e-dropdownbase").appendChild(s)}this.enableVirtualization&&this.getFilteringSkeletonCount()}else this.hidePopup(n),this.beforePopupOpen=!1;this.renderReactTemplates()},t.prototype.clearAll=function(t,i){(ko(i)||!ko(i)&&ko(i.dataSource))&&(e.prototype.clearAll.call(this,t),this.checkAndResetCache()),this.beforePopupOpen&&this.hidePopup()},t.prototype.onActionComplete=function(t,i,n,r){this.fixedHeaderElement=null,e.prototype.onActionComplete.call(this,t,i,n);var s=this.list.querySelector("."+qp.li);ko(s)||Ba([s],qp.focus),this.postBackAction()},t.prototype.postBackAction=function(){if(this.autofill&&!ko(this.liCollections[0])&&this.searchList){var t=[this.liCollections[0]],i=this.listData,n=this.typeOfData(i).typeof,r=np(this.inputElement.value,t,"StartsWith",this.ignoreCase,i,this.fields,n);this.searchList=!1,ko(r.item)||e.prototype.setAutoFill.call(this,this.liCollections[0],!0)}},t.prototype.setSelection=function(t,i){if(this.isValidLI(t))if(!ko(i)&&"keydown"===i.type&&"enter"!==i.action&&"tab"!==i.action&&this.isValidLI(t)){var n=this.getFormattedValue(t.getAttribute("data-value"));if(this.activeIndex=this.getIndexByValue(n),this.setHoverList(t),this.selectedLI=t,this.setScrollPosition(i),this.autofill&&this.isPopupOpen){this.preventAutoFill=!1;var r=i&&"down"===i.action||"up"===i.action||"home"===i.action||"end"===i.action||"pageUp"===i.action||"pageDown"===i.action;e.prototype.setAutoFill.call(this,t,r)}}else e.prototype.setSelection.call(this,t,i);else this.selectedLI=t},t.prototype.listOption=function(t,i){var n=this,r=e.prototype.listOption.call(this,t,i);if(ko(r.itemCreated))r.itemCreated=function(e){n.highlight&&(n.element.tagName===n.getNgDirective()&&n.itemTemplate?setTimeout((function(){P_(e.item,n.queryString,n.ignoreCase,n.filterType)}),0):P_(e.item,n.queryString,n.ignoreCase,n.filterType))};else{var s=r.itemCreated;r.itemCreated=function(e){n.highlight&&P_(e.item,n.queryString,n.ignoreCase,n.filterType),s.apply(n,[e])}}return r},t.prototype.isFiltering=function(){return!0},t.prototype.renderPopup=function(t){this.enableVirtualization||(this.list.scrollTop=0),e.prototype.renderPopup.call(this,t)},t.prototype.isEditTextBox=function(){return""!==this.inputElement.value.trim()},t.prototype.isPopupButton=function(){return this.showPopupButton},t.prototype.isSelectFocusItem=function(e){return!1},t.prototype.setInputValue=function(e,t){var i=t&&t.text?t.text:t?t.value:t,n=e&&e.text?e.text:e&&e.value?e.value:this.value;if(!n||""!==this.typedString||this.allowCustom||this.dataSource instanceof mp)e&&(e.text?this.setOldText(i):this.setOldValue(i));else{var r="string"===this.typeOfData(this.dataSource).typeof?"":this.fields.value,s=this.getItems().length,o=new sp,a=this;new mp(this.dataSource).executeQuery(o.where(new op(r,"equal",n))).then((function(t){t.result.length>0?(a.value=""!==r?t.result[0][a.fields.value].toString():t.result[0].toString(),a.addItem(t.result,s),a.updateValues()):e&&e.text?a.setOldText(i):e&&e.value?a.setOldValue(i):a.updateValues()}))}},t.prototype.showPopup=function(e){this.enabled&&(this.beforePopupOpen?this.refreshPopup():(this.beforePopupOpen=!0,this.preventAutoFill=!0,ko(this.list)?this.renderList(e):this.resetList(this.dataSource,this.fields,null,e)))},t.prototype.hidePopup=function(t){e.prototype.hidePopup.call(this,t),this.activeIndex=null,this.virtualListInfo=this.viewPortInfo,this.previousStartIndex=this.viewPortInfo.startIndex,this.startIndex=this.viewPortInfo.startIndex,this.previousEndIndex=this.viewPortInfo.endIndex},t.prototype.onPropertyChanged=function(t,i){"autocomplete"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],t);for(var n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];if("showPopupButton"===s)if(this.showPopupButton){var o=Ou.appendSpan(qp.icon,this.inputWrapper.container,this.createElement);this.inputWrapper.buttons[0]=o,Ou.calculateWidth(this.inputElement,this.inputWrapper.container),ko(this.inputWrapper.buttons[0])||ko(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),this.inputWrapper&&this.inputWrapper.buttons&&this.inputWrapper.buttons[0]&&Oa.add(this.inputWrapper.buttons[0],"click",this.dropDownClick,this)}else Qa(this.inputWrapper.buttons[0]),this.inputWrapper.buttons[0]=null;else{var a=this.getPropObject(s,t,i);e.prototype.onPropertyChanged.call(this,a.newProperty,a.oldProperty)}}},t.prototype.renderHightSearch=function(){if(this.highlight)for(var e=0;e<this.liCollections.length;e++){this.ulElement.querySelector(".e-active")||(F_(this.liCollections[e]),P_(this.liCollections[e],this.queryString,this.ignoreCase,this.filterType))}},t.prototype.getModuleName=function(){return"autocomplete"},t.prototype.render=function(){e.prototype.render.call(this)},V_([gl({value:null,iconCss:null,groupBy:null},xp)],t.prototype,"fields",void 0),V_([fl(!0)],t.prototype,"ignoreCase",void 0),V_([fl(!1)],t.prototype,"showPopupButton",void 0),V_([fl(!1)],t.prototype,"highlight",void 0),V_([fl(20)],t.prototype,"suggestionCount",void 0),V_([fl({})],t.prototype,"htmlAttributes",void 0),V_([fl(null)],t.prototype,"query",void 0),V_([fl(1)],t.prototype,"minLength",void 0),V_([fl("Contains")],t.prototype,"filterType",void 0),V_([yl()],t.prototype,"filtering",void 0),V_([fl(null)],t.prototype,"index",void 0),V_([fl("Never")],t.prototype,"floatLabelType",void 0),V_([fl(null)],t.prototype,"valueTemplate",void 0),V_([fl(null)],t.prototype,"filterBarPlaceholder",void 0),V_([fl(!1)],t.prototype,"allowFiltering",void 0),V_([fl(null)],t.prototype,"text",void 0),t=V_([vl],t)}(ed),W_=function(){function e(e,t,i){this.parent=e,this.serLocator=t,this.filterSettings=i,this.parent&&(this.parent.on(Nm,this.destroy,this),this.parent.on(sm,this.destroy,this))}return e.prototype.create=function(e){this.instance=this.parent.createElement("input",{className:"e-flmenu-input",id:"strui-"+e.column.uid}),e.target.appendChild(this.instance),this.dialogObj=e.dialogObj,this.processDataOperation(e)},e.prototype.processDataOperation=function(e){var t=this;e.column.isForeignColumn()?this.parent.getDataModule().dataManager.executeQuery(this.parent.getDataModule().generateQuery(!0)).then((function(i){t.getAutoCompleteOptions(e,i)})):this.getAutoCompleteOptions(e)},e.prototype.getAutoCompleteOptions=function(e,t){var i,n=e.column.isForeignColumn();if(n){for(var r=jM.getDistinct(t.result,e.column.field).records||[],s=void 0,o=0;o<r.length;o++)s=s?s.or(e.column.field,"contains",r[parseInt(o.toString(),10)][e.column.field],this.parent.filterSettings.enableCaseSensitivity,this.parent.filterSettings.ignoreAccent):new op(e.column.field,"contains",r[parseInt(o.toString(),10)][e.column.field],this.parent.filterSettings.enableCaseSensitivity,this.parent.filterSettings.ignoreAccent);(i=(new sp).where(s)).params=this.parent.query.params}var a=n?e.column.dataSource:this.parent.dataSource,l={value:n?e.column.foreignKeyValue:e.column.field},h=new H_(Eo({dataSource:a instanceof mp?a:new mp(a),fields:l,locale:this.parent.locale,enableRtl:this.parent.enableRtl,query:n?i:this.parent.getDataModule().generateQuery(!0,!0),sortOrder:"Ascending",cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",autofill:!0,placeholder:e.localizeText.getConstant("EnterValue"),actionBegin:function(){if(this.query.queries.length&&"onWhere"===this.query.queries[0].fn&&this.query.queries[0].e&&this.query.queries[0].e.predicates){for(var e=0;e<this.query.queries[0].e.predicates.length;e++)this.properties.fields.value===this.query.queries[0].e.predicates[""+e].field&&(this.query.queries[0].e.predicates.splice(e,1),e-=1);this.query.queries[0].e.predicates.length||this.query.queries.splice(0,1)}}},e.column.filter.params));if(this.acFocus=this.focus(h,e),this.acComplete=this.actionComplete(h),this.acOpen=this.openPopup.bind(this),h.addEventListener(Ly,this.acFocus),h.addEventListener(ky,this.acOpen),h.addEventListener(bg,this.acComplete),a&&"result"in a){var c=Bv({requestType:"stringfilterrequest"},this.parent.getQuery?this.parent.getQuery().clone():new sp);this.parent.trigger(Am,c.state),c.deffered.promise.then((function(e){h.dataSource=new mp(e)}))}this.actObj=h,this.actObj.appendTo(this.instance),n&&this.parent.filterModule.filterModule.afterRenderFilterUI()},e.prototype.write=function(e){""===e.filteredValue||ko(e.filteredValue)||(document.querySelector("#strui-"+e.column.uid).ej2_instances[0].value=e.filteredValue)},e.prototype.read=function(e,t,i,n){var r=document.querySelector("#strui-"+t.uid).ej2_instances[0];La.isDevice&&(r.hidePopup(),r.focusOut());var s=r.value;(ko(s)||""===s)&&(s=null),n.filterByColumn(t.field,i,s,"and",this.parent.filterSettings.enableCaseSensitivity)},e.prototype.openPopup=function(e){Mv(e,this.dialogObj)},e.prototype.focus=function(e,t){return function(){e.filterType=t.getOptrInstance.getFlOperator()}},e.prototype.actionComplete=function(e){return function(t){t.result=t.result.filter((function(t,i,n){return n.map((function(t){return No(e.fields.value,t)})).indexOf(No(e.fields.value,t))===i}))}},e.prototype.destroy=function(){this.actObj&&!this.actObj.isDestroyed&&(this.actObj.removeEventListener(Ly,this.acFocus),this.actObj.removeEventListener(ky,this.acOpen),this.actObj.removeEventListener(bg,this.acComplete),this.actObj.destroy(),this.parent.off(Nm,this.destroy),this.parent.off(sm,this.destroy))},e}(),Y_=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Q_=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},q_="e-input-group-icon",G_="e-spin-up",K_="e-error",X_="increment",J_="decrement",Z_=new RegExp("^(-)?(\\d*)$"),$_="e-input-focus",eI=["title","style","class"],tI=0,iI=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.isVue=!1,n.preventChange=!1,n.isAngular=!1,n.isDynamicChange=!1,n.numericOptions=t,n}return Y_(t,e),t.prototype.preRender=function(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;var e=No("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),Ba([this.cloneElement],["e-control","e-numerictextbox","e-lib"]),this.angularTagName=null,this.formEle=Za(this.element,"form"),"EJS-NUMERICTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;for(var t=this.createElement("input"),i=0;i<this.element.attributes.length;i++){var n=this.element.attributes[i].nodeName;"id"!==n&&"class"!==n?(t.setAttribute(this.element.attributes[i].nodeName,this.element.attributes[i].nodeValue),t.innerHTML=this.element.innerHTML):"class"===n&&t.setAttribute(n,this.element.className.split(" ").filter((function(e){return 0!==e.indexOf("ng-")})).join(" "))}this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(t),this.element=t,Co("ej2_instances",e,this.element)}Ga(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off"});var r={incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder};this.l10n=new ch("numerictextbox",r,this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",Lo("numerictextbox")),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),null===this.placeholder&&this.updatePlaceholder()},t.prototype.render=function(){"input"===this.element.tagName.toLowerCase()&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(null===this.value||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),null===this.value||isNaN(this.value)||this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),!ko(Za(this.element,"fieldset"))&&Za(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete())},t.prototype.checkAttributes=function(e){for(var t=0,i=e?ko(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"];t<i.length;t++){var n=i[t];if(!ko(this.element.getAttribute(n)))switch(n){case"disabled":if(ko(this.numericOptions)||void 0===this.numericOptions.enabled||e){var r="disabled"!==this.element.getAttribute(n)&&""!==this.element.getAttribute(n)&&"true"!==this.element.getAttribute(n);this.setProperties({enabled:r},!e)}break;case"readonly":if(ko(this.numericOptions)||void 0===this.numericOptions.readonly||e){var s="readonly"===this.element.getAttribute(n)||""===this.element.getAttribute(n)||"true"===this.element.getAttribute(n);this.setProperties({readonly:s},!e)}break;case"placeholder":(ko(this.numericOptions)||void 0===this.numericOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"value":if(ko(this.numericOptions)||void 0===this.numericOptions.value||e){var o=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));this.setProperties(Co(n,o,{}),!e)}break;case"min":if(ko(this.numericOptions)||void 0===this.numericOptions.min||e){var a=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));null===a||isNaN(a)||this.setProperties(Co(n,a,{}),!e)}break;case"max":if(ko(this.numericOptions)||void 0===this.numericOptions.max||e){var l=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));null===l||isNaN(l)||this.setProperties(Co(n,l,{}),!e)}break;case"step":if(ko(this.numericOptions)||void 0===this.numericOptions.step||e){var h=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));null===h||isNaN(h)||this.setProperties(Co(n,h,{}),!e)}break;case"style":this.inputStyle=this.element.getAttribute(n);break;case"name":this.inputName=this.element.getAttribute(n);break;default:var c=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));(null!==c&&!isNaN(c)||"value"===n)&&this.setProperties(Co(n,c,{}),!0)}}},t.prototype.updatePlaceholder=function(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)},t.prototype.initCultureFunc=function(){this.instance=new va(this.locale)},t.prototype.initCultureInfo=function(){this.cultureInfo.format=this.format,null!==No("currency",this)&&(Co("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))},t.prototype.createWrapper=function(){var e=this.cssClass;ko(this.cssClass)||""===this.cssClass||(e=this.getNumericValidClassList(this.cssClass));var t=Ou.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=t,this.container=t.container,this.container.setAttribute("class","e-control-wrapper e-numeric "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&Ga(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text",validateHidden:"true","aria-label":"hidden",class:"e-numeric-hidden"}}),this.inputName=null!==this.inputName?this.inputName:this.element.id,this.element.removeAttribute("name"),this.isAngular&&"EJS-NUMERICTEXTBOX"===this.angularTagName&&this.cloneElement.id.length>0?Ga(this.hiddenInput,{name:this.cloneElement.id}):Ga(this.hiddenInput,{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),null!==this.inputStyle&&Ga(this.container,{style:this.inputStyle})},t.prototype.updateDataAttribute=function(e){var t={};if(e)t=this.htmlAttributes;else for(var i=0;i<this.element.attributes.length;i++)t[this.element.attributes[i].name]=this.element.getAttribute(this.element.attributes[i].name);for(var n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];0===s.indexOf("data")&&this.hiddenInput.setAttribute(s,t[""+s])}},t.prototype.updateHTMLAttrToElement=function(){if(!ko(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];eI.indexOf(i)<0&&this.element.setAttribute(i,this.htmlAttributes[""+i])}},t.prototype.updateCssClass=function(e,t){Ou.setCssClass(this.getNumericValidClassList(e),[this.container],this.getNumericValidClassList(t))},t.prototype.getNumericValidClassList=function(e){var t=e;return ko(e)||""===e||(t=e.replace(/\s+/g," ").trim()),t},t.prototype.updateHTMLAttrToWrapper=function(){if(!ko(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];if(eI.indexOf(i)>-1)if("class"===i){var n=this.getNumericValidClassList(this.htmlAttributes[""+i]);""!==n&&Fa([this.container],n.split(" "))}else if("style"===i){var r=this.container.getAttribute(i);r=ko(r)?this.htmlAttributes[""+i]:r+this.htmlAttributes[""+i],this.container.setAttribute(i,r)}else this.container.setAttribute(i,this.htmlAttributes[""+i])}},t.prototype.setElementWidth=function(e){ko(e)||("number"===typeof e?this.container.style.width=Fo(e):"string"===typeof e&&(this.container.style.width=e.match(/px|%|em/)?e:Fo(e)))},t.prototype.spinBtnCreation=function(){this.spinDown=Ou.appendSpan(q_+" e-spin-down",this.container,this.createElement),Ga(this.spinDown,{title:this.l10n.getConstant("decrementTitle")}),this.spinUp=Ou.appendSpan(q_+" "+G_,this.container,this.createElement),Ga(this.spinUp,{title:this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()},t.prototype.validateMinMax=function(){("number"!==typeof this.min||isNaN(this.min))&&this.setProperties({min:-Number.MAX_VALUE},!0),("number"!==typeof this.max||isNaN(this.max))&&this.setProperties({max:Number.MAX_VALUE},!0),null!==this.decimals&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),this.min!==-Number.MAX_VALUE&&Ga(this.element,{"aria-valuemin":this.min.toString()}),this.max!==Number.MAX_VALUE&&Ga(this.element,{"aria-valuemax":this.max.toString()})},t.prototype.formattedValue=function(e,t){return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(t)},t.prototype.validateStep=function(){null!==this.decimals&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)},t.prototype.action=function(e,t){this.isInteract=!0;var i=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(i,this.step,e)),this.raiseChangeEvent(t)},t.prototype.checkErrorClass=function(){this.isValidState?Ba([this.container],K_):Fa([this.container],K_),Ga(this.element,{"aria-invalid":this.isValidState?"false":"true"})},t.prototype.bindClearEvent=function(){this.showClearButton&&Oa.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},t.prototype.resetHandler=function(e){e.preventDefault(),this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")&&!this.inputWrapper.container.classList.contains("e-static-clear")||this.clear(e),this.isInteract=!0,this.raiseChangeEvent(e)},t.prototype.clear=function(e){if(this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="",Za(this.element,"form")){var t=this.element.nextElementSibling,i=document.createEvent("KeyboardEvent");i.initEvent("keyup",!1,!0),t.dispatchEvent(i)}},t.prototype.resetFormHandler=function(){"EJS-NUMERICTEXTBOX"===this.element.tagName?this.updateValue(null):this.updateValue(this.inputEleValue)},t.prototype.setSpinButton=function(){ko(this.spinDown)||Ga(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),ko(this.spinUp)||Ga(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})},t.prototype.wireEvents=function(){Oa.add(this.element,"focus",this.focusHandler,this),Oa.add(this.element,"blur",this.focusOutHandler,this),Oa.add(this.element,"keydown",this.keyDownHandler,this),Oa.add(this.element,"keyup",this.keyUpHandler,this),Oa.add(this.element,"input",this.inputHandler,this),Oa.add(this.element,"keypress",this.keyPressHandler,this),Oa.add(this.element,"change",this.changeHandler,this),Oa.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&Oa.add(this.formEle,"reset",this.resetFormHandler,this))},t.prototype.wireSpinBtnEvents=function(){Oa.add(this.spinUp,La.touchStartEvent,this.mouseDownOnSpinner,this),Oa.add(this.spinDown,La.touchStartEvent,this.mouseDownOnSpinner,this),Oa.add(this.spinUp,La.touchEndEvent,this.mouseUpOnSpinner,this),Oa.add(this.spinDown,La.touchEndEvent,this.mouseUpOnSpinner,this),Oa.add(this.spinUp,La.touchMoveEvent,this.touchMoveOnSpinner,this),Oa.add(this.spinDown,La.touchMoveEvent,this.touchMoveOnSpinner,this)},t.prototype.unwireEvents=function(){Oa.remove(this.element,"focus",this.focusHandler),Oa.remove(this.element,"blur",this.focusOutHandler),Oa.remove(this.element,"keyup",this.keyUpHandler),Oa.remove(this.element,"input",this.inputHandler),Oa.remove(this.element,"keydown",this.keyDownHandler),Oa.remove(this.element,"keypress",this.keyPressHandler),Oa.remove(this.element,"change",this.changeHandler),Oa.remove(this.element,"paste",this.pasteHandler),this.formEle&&Oa.remove(this.formEle,"reset",this.resetFormHandler)},t.prototype.unwireSpinBtnEvents=function(){Oa.remove(this.spinUp,La.touchStartEvent,this.mouseDownOnSpinner),Oa.remove(this.spinDown,La.touchStartEvent,this.mouseDownOnSpinner),Oa.remove(this.spinUp,La.touchEndEvent,this.mouseUpOnSpinner),Oa.remove(this.spinDown,La.touchEndEvent,this.mouseUpOnSpinner),Oa.remove(this.spinUp,La.touchMoveEvent,this.touchMoveOnSpinner),Oa.remove(this.spinDown,La.touchMoveEvent,this.touchMoveOnSpinner)},t.prototype.changeHandler=function(e){e.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);var t=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(t,e)},t.prototype.raiseChangeEvent=function(e){if(this.prevValue!==this.value||this.prevValue!==this.inputValue){var t={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:e},e&&(this.changeEventArgs.event=e),void 0===this.changeEventArgs.event&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),jo(t,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",t)}},t.prototype.pasteHandler=function(){var e=this;if(this.enabled&&!this.readonly){var t=this.element.value;setTimeout((function(){e.numericRegex().test(e.element.value)||e.setElementValue(t)}))}},t.prototype.preventHandler=function(){var e=this,t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout((function(){if(e.element.selectionStart>0){var i=e.element.selectionStart,n=e.element.selectionStart-1,r=e.element.value.split(""),s=No("decimal",ba(e.locale)),o=s.charCodeAt(0);" "===e.element.value[n]&&e.element.selectionStart>0&&!t?(ko(e.prevVal)?e.element.value=e.element.value.trim():0!==n?e.element.value=e.prevVal:0===n&&(e.element.value=e.element.value.trim()),e.element.setSelectionRange(n,n)):isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&45!==e.element.value[e.element.selectionStart-1].charCodeAt(0)?(r.indexOf(e.element.value[e.element.selectionStart-1])!==r.lastIndexOf(e.element.value[e.element.selectionStart-1])&&e.element.value[e.element.selectionStart-1].charCodeAt(0)===o||e.element.value[e.element.selectionStart-1].charCodeAt(0)!==o)&&(e.element.value=e.element.value.substring(0,n)+e.element.value.substring(i,e.element.value.length),e.element.setSelectionRange(n,n),isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&e.element.selectionStart>0&&e.element.value.length&&e.preventHandler()):isNaN(parseFloat(e.element.value[e.element.selectionStart-2]))&&e.element.selectionStart>1&&45!==e.element.value[e.element.selectionStart-2].charCodeAt(0)&&(r.indexOf(e.element.value[e.element.selectionStart-2])!==r.lastIndexOf(e.element.value[e.element.selectionStart-2])&&e.element.value[e.element.selectionStart-2].charCodeAt(0)===o||e.element.value[e.element.selectionStart-2].charCodeAt(0)!==o)&&(e.element.setSelectionRange(n,n),e.nextEle=e.element.value[e.element.selectionStart],e.cursorPosChanged=!0,e.preventHandler()),!0===e.cursorPosChanged&&e.element.value[e.element.selectionStart]===e.nextEle&&isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&(e.element.setSelectionRange(e.element.selectionStart+1,e.element.selectionStart+1),e.cursorPosChanged=!1,e.nextEle=null),""===e.element.value.trim()&&e.element.setSelectionRange(0,0),e.element.selectionStart>0&&(45===e.element.value[e.element.selectionStart-1].charCodeAt(0)&&e.element.selectionStart>1&&(ko(e.prevVal)?e.element.value=e.element.value:e.element.value=e.prevVal,e.element.setSelectionRange(e.element.selectionStart,e.element.selectionStart)),e.element.value[e.element.selectionStart-1]===s&&0===e.decimals&&e.validateDecimalOnType&&(e.element.value=e.element.value.substring(0,n)+e.element.value.substring(i,e.element.value.length))),e.prevVal=e.element.value}}))},t.prototype.keyUpHandler=function(){if(this.enabled&&!this.readonly){!(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))&&La.isDevice&&this.preventHandler();var e=this.instance.getNumberParser({format:"n"})(this.element.value);if(e=null===e||isNaN(e)?null:e,this.hiddenInput.value=e||0===e?e.toString():null,Za(this.element,"form")){var t=this.element.nextElementSibling,i=document.createEvent("KeyboardEvent");i.initEvent("keyup",!1,!0),t.dispatchEvent(i)}}},t.prototype.inputHandler=function(e){if(this.enabled&&!this.readonly){var t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if((navigator.userAgent.toLowerCase().indexOf("firefox")>-1||t)&&La.isDevice&&this.preventHandler(),this.isAngular&&this.element.value!==No("decimal",ba(this.locale))&&this.element.value!==No("minusSign",ba(this.locale))){var i=this.instance.getNumberParser({format:"n"})(this.element.value);i=isNaN(i)?null:i,this.localChange({value:i}),this.preventChange=!0}if(this.isVue){var n=this.instance.getNumberParser({format:"n"})(this.element.value),r=this.instance.getNumberParser({format:"n"})(this.elementPrevValue);(new RegExp("[^0-9]+$").test(this.element.value)||(-1!==this.elementPrevValue.indexOf(".")||-1!==this.elementPrevValue.indexOf("-"))&&"0"===this.element.value[this.element.value.length-1])&&(n=this.value);var s={event:e,value:null===n||isNaN(n)?null:n,previousValue:null===r||isNaN(r)?null:r};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",s)}}},t.prototype.keyDownHandler=function(e){if(!this.readonly)switch(e.keyCode){case 38:e.preventDefault(),this.action(X_,e);break;case 40:e.preventDefault(),this.action(J_,e)}},t.prototype.performAction=function(e,t,i){(null===e||isNaN(e))&&(e=0);var n=i===X_?e+t:e-t;return n=this.correctRounding(e,t,n),this.strictMode?this.trimValue(n):n},t.prototype.correctRounding=function(e,t,i){var n=new RegExp("[,.](.*)"),r=n.test(e.toString()),s=n.test(t.toString());if(r||s){var o=r?n.exec(e.toString())[0].length:0,a=s?n.exec(t.toString())[0].length:0,l=Math.max(o,a);return this.roundValue(i,l)}return i},t.prototype.roundValue=function(e,t){t=t||0;var i=Math.pow(10,t);return e*=i,Math.round(e)/i},t.prototype.updateValue=function(e,t){t&&(this.isInteract=!0),null===e||isNaN(e)||this.decimals&&(e=this.roundNumber(e,this.decimals)),this.inputValue=e,this.changeValue(null===e||isNaN(e)?null:this.strictMode?this.trimValue(e):e),this.isDynamicChange||this.raiseChangeEvent(t)},t.prototype.updateCurrency=function(e,t){Co(e,t,this.cultureInfo),this.updateValue(this.value)},t.prototype.changeValue=function(e){if(e||0===e){var t=this.getNumberOfDecimals(e);this.setProperties({value:this.roundNumber(e,t)},!0)}else e=null,this.setProperties({value:e},!0);this.modifyText(),this.strictMode||this.validateState()},t.prototype.modifyText=function(){if(this.value||0===this.value){var e=this.formatNumber(),t=this.isFocused?e:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(t),Ga(this.element,{"aria-valuenow":e}),this.hiddenInput.value=this.value.toString(),null!==this.value&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null},t.prototype.setElementValue=function(e,t){Ou.setValue(e,t||this.element,this.floatLabelType,this.showClearButton)},t.prototype.validateState=function(){this.isValidState=!0,(this.value||0===this.value)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()},t.prototype.getNumberOfDecimals=function(e){var t,i=new RegExp("[eE][-+]?([0-9]+)"),n=e.toString();if(i.test(n)){var r=i.exec(n);ko(r)||(n=e.toFixed(Math.min(parseInt(r[1],10),20)))}var s=n.split(".")[1];return t=s&&s.length?s.length:0,null!==this.decimals&&(t=t<this.decimals?t:this.decimals),t},t.prototype.formatNumber=function(){var e=this.getNumberOfDecimals(this.value);return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(this.value)},t.prototype.trimValue=function(e){return e>this.max?this.max:e<this.min?this.min:e},t.prototype.roundNumber=function(e,t){var i=e,n=t||0,r=i.toString().split("e"),s=(i=Math.round(Number(r[0]+"e"+(r[1]?Number(r[1])+n:n)))).toString().split("e");return i=Number(s[0]+"e"+(s[1]?Number(s[1])-n:-n)),Number(i.toFixed(n))},t.prototype.cancelEvent=function(e){return e.preventDefault(),!1},t.prototype.keyPressHandler=function(e){if(!this.enabled||this.readonly)return!0;if(!La.isDevice&&"11.0"===La.info.version&&13===e.keyCode){var t=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(t,e),!0}if(0===e.which||e.metaKey||e.ctrlKey||8===e.keyCode||13===e.keyCode)return!0;var i=String.fromCharCode(e.which),n=No("decimal",ba(this.locale)),r="NumpadDecimal"===e.code&&i!==n;r&&(i=n);var s=this.element.value;if(s=s.substring(0,this.element.selectionStart)+i+s.substring(this.element.selectionEnd),this.numericRegex().test(s)){if(r){var o=this.element.selectionStart+1;this.element.value=s,this.element.setSelectionRange(o,o),e.preventDefault(),e.stopPropagation()}return!0}return e.preventDefault(),e.stopPropagation(),!1},t.prototype.numericRegex=function(){var e=No("decimal",ba(this.locale)),t="*";return"."===e&&(e="\\"+e),0===this.decimals&&this.validateDecimalOnType?Z_:(this.decimals&&this.validateDecimalOnType&&(t="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+e+"\\d"+t+")?)|("+e+"\\d"+t+")))?$"))},t.prototype.mouseWheel=function(e){var t;e.preventDefault();var i=e;i.wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3),t>0?this.action(X_,e):t<0&&this.action(J_,e),this.cancelEvent(e)},t.prototype.focusHandler=function(e){var t=this;if(clearTimeout(tI),this.focusEventArgs={event:e,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),this.enabled&&!this.readonly){if(this.isFocused=!0,Ba([this.container],K_),this.prevValue=this.value,this.value||0===this.value){var i=this.formatNumber();if(this.setElementValue(i),!this.isPrevFocused)if(La.isDevice||"11.0"!==La.info.version){var n=La.isDevice&&La.isIos?600:0;tI=setTimeout((function(){t.element.setSelectionRange(0,i.length)}),n)}else this.element.setSelectionRange(0,i.length)}La.isDevice||Oa.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}},t.prototype.focusOutHandler=function(e){var t=this;if(this.blurEventArgs={event:e,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),this.enabled&&!this.readonly){if(this.isPrevFocused){if(e.preventDefault(),La.isDevice){var i=this.element.value;this.element.focus(),this.isPrevFocused=!1;var n=this.element;setTimeout((function(){t.setElementValue(i,n)}),200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);var r=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(r),La.isDevice||Oa.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}if(Za(this.element,"form")){var s=this.element.nextElementSibling,o=document.createEvent("FocusEvent");o.initEvent("focusout",!1,!0),s.dispatchEvent(o)}}},t.prototype.mouseDownOnSpinner=function(e){var t=this;if(this.isFocused&&(this.isPrevFocused=!0,e.preventDefault()),this.getElementData(e)){this.getElementData(e);var i=e.currentTarget,n=i.classList.contains(G_)?X_:J_;Oa.add(i,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval((function(){t.isCalled=!0,t.action(n,e)}),150),Oa.add(document,"mouseup",this.mouseUpClick,this)}},t.prototype.touchMoveOnSpinner=function(e){var t;if("touchmove"===e.type){var i=e.touches;t=i.length&&document.elementFromPoint(i[0].pageX,i[0].pageY)}else t=document.elementFromPoint(e.clientX,e.clientY);t.classList.contains(q_)||clearInterval(this.timeOut)},t.prototype.mouseUpOnSpinner=function(e){if(this.prevValue=this.value,this.isPrevFocused&&(this.element.focus(),La.isDevice||(this.isPrevFocused=!1)),La.isDevice||e.preventDefault(),this.getElementData(e)){var t=e.currentTarget,i=t.classList.contains(G_)?X_:J_;if(Oa.remove(t,"mouseleave",this.mouseUpClick),this.isCalled||this.action(i,e),this.isCalled=!1,Oa.remove(document,"mouseup",this.mouseUpClick),Za(this.element,"form")){var n=this.element.nextElementSibling,r=document.createEvent("KeyboardEvent");r.initEvent("keyup",!1,!0),n.dispatchEvent(r)}}},t.prototype.getElementData=function(e){return!(e.which&&3===e.which||e.button&&2===e.button||!this.enabled||this.readonly)&&(clearInterval(this.timeOut),!0)},t.prototype.floatLabelTypeUpdate=function(){Ou.removeFloating(this.inputWrapper);var e=this.hiddenInput;this.hiddenInput.remove(),Ou.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(e,this.container.childNodes[1])},t.prototype.mouseUpClick=function(e){e.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,this.spinUp&&Oa.remove(this.spinUp,"mouseleave",this.mouseUpClick),this.spinDown&&Oa.remove(this.spinDown,"mouseleave",this.mouseUpClick)},t.prototype.increment=function(e){void 0===e&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,X_)),this.raiseChangeEvent()},t.prototype.decrement=function(e){void 0===e&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,J_)),this.raiseChangeEvent()},t.prototype.destroy=function(){this.unwireEvents(),Qa(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),Qa(this.spinUp),Qa(this.spinDown));for(var t=["aria-labelledby","role","autocomplete","aria-readonly","aria-disabled","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-invalid"],i=0;i<t.length;i++)this.element.removeAttribute(t[i]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),Qa(this.container),this.spinUp=null,this.spinDown=null,this.container=null,this.hiddenInput=null,this.changeEventArgs=null,this.blurEventArgs=null,this.focusEventArgs=null,this.inputWrapper=null,Ou.destroy(),e.prototype.destroy.call(this)},t.prototype.getText=function(){return this.element.value},t.prototype.focusIn=function(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),Fa([this.container],[$_]))},t.prototype.focusOut=function(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),Ba([this.container],[$_]))},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];switch(r){case"width":this.setElementWidth(e.width),Ou.calculateWidth(this.element,this.container);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":Ou.setEnabled(e.enabled,this.element),this.bindClearEvent();break;case"enableRtl":Ou.setEnableRtl(e.enableRtl,[this.container]);break;case"readonly":Ou.setReadonly(e.readonly,this.element),this.readonly?Ga(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0),Ou.validateInputType(this.container,this.element);break;case"placeholder":Ou.setPlaceholder(e.placeholder,this.element),Ou.calculateWidth(this.element,this.container);break;case"step":this.step=e.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(e);break;case"showClearButton":this.updateClearButton(e);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.isDynamicChange=(this.isAngular||this.isVue)&&this.preventChange,this.updateValue(e.value),this.isDynamicChange&&(this.preventChange=!1,this.isDynamicChange=!1);break;case"min":case"max":Co(r,No(r,e),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=e.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),Ou.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":var s=No(r,e);this.setProperties({currencyCode:s},!0),this.updateCurrency(r,s);break;case"currencyCode":var o=No(r,e);this.setProperties({currency:o},!0),this.updateCurrency("currency",o);break;case"format":Co(r,No(r,e),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=e.decimals,this.updateValue(this.value)}}},t.prototype.updateClearButton=function(e){Ou.setClearButton(e.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()},t.prototype.updateSpinButton=function(e){e.showSpinButton?this.spinBtnCreation():(Qa(this.spinUp),Qa(this.spinDown))},t.prototype.getModuleName=function(){return"numerictextbox"},Q_([fl("")],t.prototype,"cssClass",void 0),Q_([fl(null)],t.prototype,"value",void 0),Q_([fl(-Number.MAX_VALUE)],t.prototype,"min",void 0),Q_([fl(Number.MAX_VALUE)],t.prototype,"max",void 0),Q_([fl(1)],t.prototype,"step",void 0),Q_([fl(null)],t.prototype,"width",void 0),Q_([fl(null)],t.prototype,"placeholder",void 0),Q_([fl({})],t.prototype,"htmlAttributes",void 0),Q_([fl(!0)],t.prototype,"showSpinButton",void 0),Q_([fl(!1)],t.prototype,"readonly",void 0),Q_([fl(!0)],t.prototype,"enabled",void 0),Q_([fl(!1)],t.prototype,"showClearButton",void 0),Q_([fl(!1)],t.prototype,"enablePersistence",void 0),Q_([fl("n2")],t.prototype,"format",void 0),Q_([fl(null)],t.prototype,"decimals",void 0),Q_([fl(null)],t.prototype,"currency",void 0),Q_([fl(null)],t.prototype,"currencyCode",void 0),Q_([fl(!0)],t.prototype,"strictMode",void 0),Q_([fl(!1)],t.prototype,"validateDecimalOnType",void 0),Q_([fl("Never")],t.prototype,"floatLabelType",void 0),Q_([yl()],t.prototype,"created",void 0),Q_([yl()],t.prototype,"destroyed",void 0),Q_([yl()],t.prototype,"change",void 0),Q_([yl()],t.prototype,"focus",void 0),Q_([yl()],t.prototype,"blur",void 0),t=Q_([vl],t)}(Xl),nI=function(){function e(e,t,i){this.filterSettings=i,this.parent=e,this.serviceLocator=t,this.parent&&(this.parent.on(Nm,this.destroy,this),this.parent.on(sm,this.destroy,this))}return e.prototype.keyEventHandler=function(e){if(13===e.keyCode||9===e.keyCode){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),this.dispatchEvent(t)}},e.prototype.create=function(e){this.instance=this.parent.createElement("input",{className:"e-flmenu-input",id:"numberui-"+e.column.uid}),e.target.appendChild(this.instance),this.numericTxtObj=new iI(Eo({format:"string"===typeof e.column.format||zo(e.column.format)?e.column.format:e.column.format.format,locale:this.parent.locale,cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",placeholder:e.localizeText.getConstant("EnterValue"),enableRtl:this.parent.enableRtl},e.column.filter.params)),this.numericTxtObj.appendTo(this.instance)},e.prototype.write=function(e){var t=document.querySelector("#numberui-"+e.column.uid).ej2_instances[0];t.element.addEventListener("keydown",this.keyEventHandler),t.value=e.filteredValue},e.prototype.read=function(e,t,i,n){var r=document.querySelector("#numberui-"+t.uid).ej2_instances[0].value;n.filterByColumn(t.field,i,r,"and",!0)},e.prototype.destroy=function(){this.numericTxtObj&&!this.numericTxtObj.isDestroyed&&(this.numericTxtObj.destroy(),this.parent.off(Nm,this.destroy),this.parent.off(sm,this.destroy))},e}(),rI=function(){function e(e,t,i){this.parent=e,this.serviceLocator=t,this.filterSettings=i,this.parent&&(this.parent.on(Nm,this.destroy,this),this.parent.on(sm,this.destroy,this))}return e.prototype.create=function(e){var t=e.column.isForeignColumn(),i=t?e.column.dataSource:this.parent.dataSource,n=t?e.column.foreignKeyValue:e.column.field;this.elem=this.parent.createElement("input",{className:"e-flmenu-input",id:"bool-ui-"+e.column.uid}),e.target.appendChild(this.elem),this.dialogObj=e.dialogObj,this.dropInstance=new Kp(Eo({dataSource:i instanceof mp?i:new mp(i),query:(new sp).select(n),fields:{text:n,value:n},placeholder:e.localizeText.getConstant("SelectValue"),cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",locale:this.parent.locale,enableRtl:this.parent.enableRtl},e.column.filter.params)),this.ddOpen=this.openPopup.bind(this),this.ddComplete=this.actionComplete(n),this.dropInstance.addEventListener(ky,this.ddOpen),this.dropInstance.addEventListener(bg,this.ddComplete),this.dropInstance.appendTo(this.elem)},e.prototype.write=function(e){var t=document.querySelector("#bool-ui-"+e.column.uid).ej2_instances[0];ko(e.filteredValue)||(t.value=e.filteredValue)},e.prototype.read=function(e,t,i,n){var r=document.querySelector("#bool-ui-"+t.uid).ej2_instances[0].value;n.filterByColumn(t.field,i,r,"and",!1)},e.prototype.openPopup=function(e){Mv(e,this.dialogObj)},e.prototype.actionComplete=function(e){return function(t){t.result=bp.distinct(t.result,e,!0)}},e.prototype.destroy=function(){this.dropInstance&&!this.dropInstance.isDestroyed&&(this.dropInstance.removeEventListener(ky,this.ddOpen),this.dropInstance.removeEventListener(bg,this.ddComplete),this.dropInstance.destroy(),this.parent.off(Nm,this.destroy),this.parent.off(sm,this.destroy))},e}(),sI=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),oI=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},aI="e-other-month",lI="e-other-year",hI="e-calendar",cI="e-device",uI="e-rtl",pI="e-year",dI="e-month",fI="e-decade",gI="e-icons",mI="e-disabled",yI="e-overlay",vI="e-week-number",bI="e-selected",MI="e-focused-date",SI="e-month-hide",wI="e-today",_I="e-day",II="e-cell",NI="e-zoomin",CI="e-calendar-day-header-lg",xI=864e5,DI=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.effect="",n.isPopupClicked=!1,n.isDateSelected=!0,n.isTodayClicked=!1,n.preventChange=!1,n.isAngular=!1,n.previousDates=!1,n}return sI(t,e),t.prototype.render=function(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)===+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max===+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new va(this.locale),(ko(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add(hI),this.enableRtl&&this.element.classList.add(uI),La.isDevice&&this.element.classList.add(cI),Ga(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(hI),this.enableRtl&&this.calendarElement.classList.add(uI),La.isDevice&&this.calendarElement.classList.add(cI),Ga(this.calendarElement,{"data-role":"calendar"})),!ko(Za(this.element,"fieldset"))&&Za(this.element,"fieldset").disabled&&(this.enabled=!1),this.createHeader(),this.createContent(),this.wireEvents()},t.prototype.rangeValidation=function(e,t){ko(e)&&this.setProperties({min:new Date(1900,0,1)},!0),ko(t)&&this.setProperties({max:new Date(2099,11,31)},!0)},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs},t.prototype.validateDate=function(e){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!ko(e)&&this.min<=this.max&&e>=this.min&&e<=this.max&&(this.currentDate=new Date(this.checkValue(e)))},t.prototype.setOverlayIndex=function(e,t,i,n){if(n&&!ko(t)&&!ko(i)&&!ko(e)){var r=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;i.style.zIndex=(r-1).toString(),e.style.zIndex=r.toString()}},t.prototype.minMaxUpdate=function(e){+this.min<=+this.max?Ba([this.element],yI):(this.setProperties({min:this.min},!0),Fa([this.element],yI)),this.min=ko(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=ko(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&e&&+e<=+this.max&&+e>=+this.min?this.currentDate=new Date(this.checkValue(e)):+this.min<=+this.max&&!e&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},t.prototype.createHeader=function(){this.headerElement=this.createElement("div",{className:"e-header"});var e=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),Il(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),Ga(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),Il(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),"daterangepicker"===this.getModuleName()&&(Ga(this.previousIcon,{tabIndex:"-1"}),Ga(this.nextIcon,{tabIndex:"-1"})),Ga(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=this.createElement("div",{className:_I+" e-title"}),Ga(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev "+gI})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  "+gI})),e.appendChild(this.previousIcon),e.appendChild(this.nextIcon),this.headerElement.appendChild(e),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement),this.adjustLongHeaderSize()},t.prototype.createContent=function(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":"","aria-labelledby":this.element.id}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()},t.prototype.getCultureValues=function(){var e,t=[],i="days.stand-alone."+this.dayHeaderFormat.toLowerCase();if(!ko(e="en"===this.locale||"en-US"===this.locale?No(i,Ma()):this.getCultureObjects(fa,""+this.locale)))for(var n=0,r=Object.keys(e);n<r.length;n++){var s=r[n];t.push(No(s,e))}return t},t.prototype.toCapitalize=function(e){return!ko(e)&&e.length?e[0].toUpperCase()+e.slice(1):e},t.prototype.createContentHeader=function(){"calendar"===this.getModuleName()?ko(this.element.querySelectorAll(".e-content .e-week-header")[0])||Qa(this.element.querySelectorAll(".e-content .e-week-header")[0]):ko(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||Qa(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);var e="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(e+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?Fa([this.element],""+vI):Fa([this.calendarElement],""+vI));var t=this.getCultureValues().length>0&&this.getCultureValues()?this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek):null;if(!ko(t))for(var i=0;i<=6;i++)e+='<th  class="">'+this.toCapitalize(t[i])+"</th>";e="<tr>"+e+"</tr>",this.tableHeadElement.innerHTML=e,this.table.appendChild(this.tableHeadElement)},t.prototype.createContentBody=function(){switch("calendar"===this.getModuleName()?ko(this.element.querySelectorAll(".e-content tbody")[0])||Qa(this.element.querySelectorAll(".e-content tbody")[0]):ko(this.calendarElement.querySelectorAll(".e-content tbody")[0])||Qa(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}},t.prototype.updateFooter=function(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today"))},t.prototype.createContentFooter=function(){if(this.showTodayButton){var e=new Date(+this.min),t=new Date(+this.max);this.globalize=new va(this.locale),this.l10=new ch(this.getModuleName(),{today:"Today"},this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),Il(this.todayElement),this.updateFooter(),Fa([this.todayElement],["e-btn",wI,"e-flat","e-primary","e-css"]),+new Date(e.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(t.setHours(0,0,0,0))&&!this.todayDisabled||Fa([this.todayElement],mI),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains(mI)||Oa.add(this.todayElement,"click",this.todayButtonClick,this)}},t.prototype.wireEvents=function(e,t,i,n){Oa.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=Eo(this.defaultKeyConfigs,this.keyConfigs),"calendar"===this.getModuleName()?this.keyboardModule=new hh(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):this.keyboardModule=new hh(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.dateWireEvents=function(e,t,i,n){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=Eo(this.defaultKeyConfigs,i),this.serverModuleName=n},t.prototype.todayButtonClick=function(e,t,i){this.showTodayButton&&(this.currentView()===this.depth?this.effect="":this.effect="e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(t)),i):this.navigateTo("Month",new Date(this.checkValue(t)),i))},t.prototype.resetCalendar=function(){this.calendarElement&&Qa(this.calendarElement),this.tableBodyElement&&Qa(this.tableBodyElement),this.table&&Qa(this.table),this.tableHeadElement&&Qa(this.tableHeadElement),this.nextIcon&&Qa(this.nextIcon),this.previousIcon&&Qa(this.previousIcon),this.footer&&Qa(this.footer),this.todayElement=null,this.renderDayCellArgs=null,this.calendarElement=this.tableBodyElement=this.footer=this.tableHeadElement=this.nextIcon=this.previousIcon=this.table=null},t.prototype.keyActionHandle=function(e,t,i){var n,r=this.tableBodyElement.querySelector("tr td.e-focused-date");n=i?ko(r)||+t!==parseInt(r.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):r:this.tableBodyElement.querySelector("tr td.e-selected");var s=this.getViewNumber(this.currentView()),o=this.getViewNumber(this.depth),a=s===o&&this.getViewNumber(this.start)>=o;switch(this.effect="",e.action){case"moveLeft":this.keyboardNavigate(-1,s,e,this.max,this.min),e.preventDefault();break;case"moveRight":this.keyboardNavigate(1,s,e,this.max,this.min),e.preventDefault();break;case"moveUp":0===s?this.keyboardNavigate(-7,s,e,this.max,this.min):this.keyboardNavigate(-4,s,e,this.max,this.min),e.preventDefault();break;case"moveDown":0===s?this.keyboardNavigate(7,s,e,this.max,this.min):this.keyboardNavigate(4,s,e,this.max,this.min),e.preventDefault();break;case"select":if(e.target===this.todayElement)this.todayButtonClick(e,t);else{var l=ko(r)?n:r;if(!ko(l)&&!l.classList.contains(mI))if(a){var h=new Date(parseInt(""+l.id,0));this.selectDate(e,h,l)}else this.contentClick(null,--s,l,t)}break;case"controlUp":this.title(),e.preventDefault();break;case"controlDown":(ko(r)||a)&&(ko(n)||a)||this.contentClick(null,--s,r||n,t),e.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),Qa(this.tableBodyElement),0===s?this.renderMonths(e):1===s?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,s),Qa(this.tableBodyElement),0===s?this.renderMonths(e):1===s?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),e.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),e.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.keyboardNavigate=function(e,t,i,n,r){var s=new Date(this.checkValue(this.currentDate));switch(t){case 2:this.addYears(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(Qa(this.tableBodyElement),this.renderDecades(i)):this.currentDate=s;break;case 1:this.addMonths(this.currentDate,e),this.calendarMode,this.isMonthYearRange(this.currentDate)?(Qa(this.tableBodyElement),this.renderYears(i)):this.currentDate=s;break;case 0:this.addDay(this.currentDate,e,i,n,r),this.isMinMaxRange(this.currentDate)?(Qa(this.tableBodyElement),this.renderMonths(i)):this.currentDate=s}},t.prototype.preRender=function(e){var t=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=function(e){t.triggerNavigate(e)}},t.prototype.minMaxDate=function(e){var t=new Date(new Date(+e).setHours(0,0,0,0)),i=new Date(new Date(+this.min).setHours(0,0,0,0)),n=new Date(new Date(+this.max).setHours(0,0,0,0));return+t!==+i&&+t!==+n||(+e<+this.min&&(e=new Date(+this.min)),+e>+this.max&&(e=new Date(+this.max))),e},t.prototype.renderMonths=function(e,t,i){var n,r=this.weekNumber?8:7;n="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,t,null,null,i,e):this.islamicModule.islamicRenderDays(this.currentDate,t),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(n,r,dI,e,t):this.islamicModule.islamicRenderTemplate(n,r,dI,e,t)},t.prototype.renderDays=function(e,t,i,n,r,s){var o,a=[],l=r?new Date(+e):this.getDate(new Date,this.timezone),h=new Date(this.checkValue(e)),c=h.getMonth();this.titleUpdate(e,"days");var u=h;for(h=new Date(u.getFullYear(),u.getMonth(),0,u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds());h.getDay()!==this.firstDayOfWeek;)this.setStartDate(h,-864e5);for(var p=0;p<42;++p){var d=this.createElement("td",{className:II}),f=this.createElement("span");if(p%7===0&&this.weekNumber){var g="FirstDay"===this.weekRule?6:"FirstFourDayWeek"===this.weekRule?3:0,m=new Date(h.getFullYear(),h.getMonth(),h.getDate()+g);f.textContent=""+this.getWeek(m),d.appendChild(f),Fa([d],""+vI),a.push(d)}o=new Date(+h),h=this.minMaxDate(h);var y={type:"dateTime",skeleton:"full"},v=this.globalize.parseDate(this.globalize.formatDate(h,y),y),b=this.dayCell(h),M=this.globalize.formatDate(h,{type:"date",skeleton:"full"}),S=this.createElement("span");S.textContent=this.globalize.formatDate(h,{format:"d",type:"date",skeleton:"yMd"});var w=this.min>h||this.max<h;w?(Fa([b],mI),Fa([b],yI)):S.setAttribute("title",""+M),c!==h.getMonth()&&Fa([b],aI),0!==h.getDay()&&6!==h.getDay()||Fa([b],"e-weekend"),b.appendChild(S),this.renderDayCellArgs={date:h,isDisabled:!1,element:b,isOutOfRange:w};var _=this.renderDayCellArgs;if(this.renderDayCellEvent(_),_.isDisabled){var I=new Date(this.checkValue(t)),N=new Date(this.checkValue(_.date));if(i){if(!ko(n)&&n.length>0)for(var C=0;C<n.length;C++){+new Date(this.globalize.formatDate(_.date,{type:"date",skeleton:"yMd"}))===+new Date(this.globalize.formatDate(n[C],{type:"date",skeleton:"yMd"}))&&(n.splice(C,1),C=-1)}}else I&&+I===+N&&this.setProperties({value:null},!0)}this.renderDayCellArgs.isDisabled&&!b.classList.contains(bI)&&(Fa([b],mI),Fa([b],yI),+this.renderDayCellArgs.date===+this.todayDate&&(this.todayDisabled=!0));var x=b.classList.contains(aI),D=b.classList.contains(mI);D||Oa.add(b,"click",this.clickHandler,this);var T=void 0;if(ko(s)||"click"!==s.type||(T=s.currentTarget),!i||ko(n)||D)!D&&this.getDateVal(h,t)&&Fa([b],bI);else{for(var A=0;A<n.length;A++){var j={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};if((this.globalize.formatDate(h,j)===this.globalize.formatDate(n[A],j)&&this.getDateVal(h,n[A])||this.getDateVal(h,t))&&Fa([b],bI),!ko(T)&&T.innerText===b.innerText&&this.previousDates&&b.classList.contains(bI)&&T.classList.contains(bI)){Ba([b],bI),this.previousDates=!1;for(var E=this.copyValues(n),k=0;k<E.length;k++){var z={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};if(this.globalize.formatDate(v,z)===this.globalize.formatDate(E[k],z)){C=E.indexOf(E[k]);E.splice(C,1),n.splice(C,1)}}this.setProperties({values:E},!0)}else this.updateFocus(x,D,h,b,e)}n.length<=0&&this.updateFocus(x,D,h,b,e)}this.updateFocus(x,D,h,b,e),ko(v)||v.getFullYear()!==l.getFullYear()||v.getMonth()!==l.getMonth()||v.getDate()!==l.getDate()||Fa([b],wI),a.push(this.renderDayCellArgs.element),h=new Date(+o),this.addDay(h,1,null,this.max,this.min)}return a},t.prototype.updateFocus=function(e,t,i,n,r){r.getDate()!==i.getDate()||e||t?(r>=this.max&&parseInt(n.id,0)===+this.max&&!e&&!t&&Fa([n],MI),r<=this.min&&parseInt(n.id,0)===+this.min&&!e&&!t&&Fa([n],MI)):Fa([n],MI)},t.prototype.renderYears=function(e,t){this.removeTableHeadElement();var i=[],n=ko(t),r=new Date(this.checkValue(this.currentDate)),s=r.getMonth(),o=r.getFullYear(),a=r,l=a.getFullYear(),h=new Date(this.checkValue(this.min)).getFullYear(),c=new Date(this.checkValue(this.min)).getMonth(),u=new Date(this.checkValue(this.max)).getFullYear(),p=new Date(this.checkValue(this.max)).getMonth();a.setMonth(0),this.titleUpdate(this.currentDate,"months"),a.setDate(1);for(var d=0;d<12;++d){var f=this.dayCell(a),g=this.createElement("span"),m=t&&t.getMonth()===a.getMonth(),y=t&&t.getFullYear()===o&&m,v=this.globalize.formatDate(a,{type:"date",format:"MMM y"});g.textContent=this.toCapitalize(this.globalize.formatDate(a,{format:null,type:"dateTime",skeleton:"MMM"})),this.min&&(l<h||d<c&&l===h)||this.max&&(l>u||d>p&&l>=u)?Fa([f],mI):!n&&y?Fa([f],bI):a.getMonth()===s&&this.currentDate.getMonth()===s&&Fa([f],MI),a.setDate(1),a.setMonth(a.getMonth()+1),f.classList.contains(mI)||(Oa.add(f,"click",this.clickHandler,this),g.setAttribute("title",""+v)),f.appendChild(g),i.push(f)}this.renderTemplate(i,4,pI,e,t)},t.prototype.renderDecades=function(e,t){this.removeTableHeadElement();var i=[],n=new Date(this.checkValue(this.currentDate));n.setMonth(0),n.setDate(1);var r=n.getFullYear(),s=new Date(n.setFullYear(r-r%10)),o=new Date(n.setFullYear(r-r%10+9)),a=s.getFullYear(),l=o.getFullYear(),h=this.globalize.formatDate(s,{format:null,type:"dateTime",skeleton:"y"}),c=this.globalize.formatDate(o,{format:null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=h+" - "+c;for(var u=new Date(r-r%10-1,0,1).getFullYear(),p=0;p<12;++p){var d=u+p;n.setFullYear(d);var f=this.dayCell(n),g=this.createElement("span");g.textContent=this.globalize.formatDate(n,{format:null,type:"dateTime",skeleton:"y"}),d<a||d>l?(Fa([f],lI),ko(t)||n.getFullYear()!==t.getFullYear()||Fa([f],bI),(d<new Date(this.checkValue(this.min)).getFullYear()||d>new Date(this.checkValue(this.max)).getFullYear())&&Fa([f],mI)):d<new Date(this.checkValue(this.min)).getFullYear()||d>new Date(this.checkValue(this.max)).getFullYear()?Fa([f],mI):ko(t)||n.getFullYear()!==t.getFullYear()?n.getFullYear()!==this.currentDate.getFullYear()||f.classList.contains(mI)||Fa([f],MI):Fa([f],bI),f.classList.contains(mI)||(Oa.add(f,"click",this.clickHandler,this),g.setAttribute("title",""+g.textContent)),f.appendChild(g),i.push(f)}this.renderTemplate(i,4,"e-decade",e,t)},t.prototype.dayCell=function(e){var t,i={skeleton:"full",type:"dateTime",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},n=this.globalize.parseDate(this.globalize.formatDate(e,i),i);ko(n)||(t=n.valueOf());var r={className:II,attrs:{id:""+Lo(""+t),"aria-selected":"false"}};return this.createElement("td",r)},t.prototype.firstDay=function(e){var t="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+aI):this.tableBodyElement.querySelectorAll("td:not(."+lI);if(t.length)for(var i=0;i<t.length;i++)if(!t[i].classList.contains(mI)){e=new Date(parseInt(t[i].id,0));break}return e},t.prototype.lastDay=function(e,t){var i=new Date(e.getFullYear(),e.getMonth()+1,0);if(2!==t){var n=Math.abs(i.getTimezoneOffset()-this.firstDay(e).getTimezoneOffset());return n&&i.setHours(this.firstDay(e).getHours()+n/60),this.findLastDay(i)}return this.findLastDay(this.firstDay(i))},t.prototype.checkDateValue=function(e){return!ko(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.findLastDay=function(e){var t="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+lI):this.tableBodyElement.querySelectorAll("td:not(."+aI);if(t.length)for(var i=t.length-1;i>=0;i--)if(!t[i].classList.contains(mI)){e=new Date(parseInt(t[i].id,0));break}return e},t.prototype.removeTableHeadElement=function(){"calendar"===this.getModuleName()?ko(this.element.querySelectorAll(".e-content table thead")[0])||Qa(this.tableHeadElement):ko(this.calendarElement.querySelectorAll(".e-content table thead")[0])||Qa(this.tableHeadElement)},t.prototype.renderTemplate=function(e,t,i,n,r){var s,o=this.getViewNumber(this.currentView());this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),Ba([this.contentElement,this.headerElement],[dI,fI,pI]),Fa([this.contentElement,this.headerElement],[i]);for(var a=t,l=0,h=0;h<e.length/t;++h){for(s=this.createElement("tr"),l=0+l;l<a;l++)e[l].classList.contains("e-week-number")||ko(e[l].children[0])||(Fa([e[l].children[0]],[_I]),Il(e[l].children[0],{duration:600,isCenterRipple:!0})),s.appendChild(e[l]),this.weekNumber&&7===l&&e[7].classList.contains(aI)&&Fa([s],SI),!this.weekNumber&&6===l&&e[6].classList.contains(aI)&&Fa([s],SI),this.weekNumber?41===l&&e[41].classList.contains(aI)&&Fa([s],SI):35===l&&e[35].classList.contains(aI)&&Fa([s],SI);a+=t,l+=0,this.tableBodyElement.appendChild(s)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(o!==this.getViewNumber(this.currentView())||0===o&&o!==this.getViewNumber(this.currentView()))&&this.navigateHandler(n),this.setAriaActiveDescendant()},t.prototype.clickHandler=function(e,t){this.clickEventEmitter(e);var i=e.currentTarget,n=this.getViewNumber(this.currentView());i.classList.contains(aI)?this.contentClick(e,0,null,t):n===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)||2===n?this.contentClick(e,1,null,t):i.classList.contains(aI)||0!==n?this.contentClick(e,0,i,t):this.selectDate(e,this.getIdValue(e,null),null),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.clickEventEmitter=function(e){e.preventDefault()},t.prototype.contentClick=function(e,t,i,n){var r=this.getViewNumber(this.currentView()),s=this.getIdValue(e,i);switch(t){case 0:r===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(Qa(this.tableBodyElement),this.currentDate=s,this.effect=NI,this.renderMonths(e)):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(s.getMonth()),s.getMonth()>0&&this.currentDate.getMonth()!==s.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(s.getFullYear())):this.currentDate=s,this.effect=NI,Qa(this.tableBodyElement),this.renderMonths(e));break;case 1:if(r===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(e,s,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(s.getFullYear());else{this.islamicPreviousHeader=this.headerElement.textContent;var o=this.islamicModule.getIslamicDate(s);this.currentDate=this.islamicModule.toGregorian(o.year,o.month,1)}this.effect=NI,Qa(this.tableBodyElement),this.renderYears(e)}}},t.prototype.switchView=function(e,t,i,n){switch(e){case 0:Qa(this.tableBodyElement),this.renderMonths(t,null,n);break;case 1:Qa(this.tableBodyElement),this.renderYears(t);break;case 2:Qa(this.tableBodyElement),this.renderDecades(t)}},t.prototype.getModuleName=function(){return"calendar"},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),e},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(e,t,i,n){this.effect="";for(var r=0,s=Object.keys(e);r<s.length;r++){var o=s[r];switch(o){case"enableRtl":e.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),"min"===o?this.setProperties({min:this.checkDateValue(new Date(this.checkValue(e.min)))},!0):this.setProperties({max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.setProperties({start:this.currentView()},!0),this.tableBodyElement&&Qa(this.tableBodyElement),this.minMaxUpdate(),i&&this.validateValues(i,n),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(Qa(this.todayElement),Qa(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(Ba([this.todayElement],mI),Qa(this.todayElement),Qa(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":case"weekRule":this.checkView(),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody());break;case"locale":this.globalize=new va(this.locale),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody()),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":e.showTodayButton?this.createContentFooter():ko(this.todayElement)||ko(this.footer)||(Qa(this.todayElement),Qa(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:e.showTodayButton},!0)}}},t.prototype.validateValues=function(e,t){if(e&&!ko(t)&&t.length>0){for(var i=this.copyValues(t),n=0;n<i.length;n++){var r=i[n],s="Gregorian"===this.calendarMode?"gregorian":"islamic",o=void 0;o="Gregorian"===this.calendarMode?this.globalize.formatDate(r,{type:"date",skeleton:"yMd"}):this.globalize.formatDate(r,{type:"dateTime",skeleton:"full",calendar:"islamic"});var a={type:"date",skeleton:"yMd",calendar:s},l=this.globalize.formatDate(this.min,a),h={type:"date",skeleton:"yMd",calendar:s},c=this.globalize.formatDate(this.max,h);(+new Date(o)<+new Date(l)||+new Date(o)>+new Date(c))&&(i.splice(n,1),n=-1)}this.setProperties({values:i},!0)}},t.prototype.setValueUpdate=function(){ko(this.tableBodyElement)||(Qa(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())},t.prototype.copyValues=function(e){var t=[];if(!ko(e)&&e.length>0)for(var i=0;i<e.length;i++)t.push(new Date(+e[i]));return t},t.prototype.titleUpdate=function(e,t){var i,n,r=new va(this.locale),s="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(i=r.formatDate(e,{type:"dateTime",skeleton:"yMMMM",calendar:s}),n=r.formatDate(e,{format:null,type:"dateTime",skeleton:"y",calendar:s})):(i=r.formatDate(e,{type:"dateTime",format:"MMMM y",calendar:s}),n=r.formatDate(e,{type:"dateTime",format:"y",calendar:s})),t){case"days":this.headerTitleElement.textContent=this.toCapitalize(i);break;case"months":this.headerTitleElement.textContent=n}},t.prototype.setActiveDescendant=function(){var e,t,i=this.tableBodyElement.querySelector("tr td.e-focused-date"),n=this.tableBodyElement.querySelector("tr td.e-selected"),r="Gregorian"===this.calendarMode?"gregorian":"islamic",s=this.currentView();return t="Month"===s?this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"full",calendar:r}):"Year"===s?"islamic"!==r?this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"yMMMM",calendar:r}):this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"GyMMM",calendar:r}):this.globalize.formatDate(this.currentDate,{format:null,type:"date",skeleton:"y",calendar:r}),(n||i)&&(ko(n)||n.setAttribute("aria-selected","true"),(i||n).setAttribute("aria-label",t),e=(i||n).getAttribute("id")),e},t.prototype.iconHandler=function(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}},t.prototype.destroy=function(){("calendar"===this.getModuleName()&&this.element||this.calendarElement&&this.element)&&Ba([this.element],[hI]),"calendar"===this.getModuleName()&&this.element&&(ko(this.headerTitleElement)||Oa.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&Oa.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),ko(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element&&(this.element.innerHTML=""),this.todayElement=null,this.tableBodyElement=null,this.todayButtonEvent=null,this.renderDayCellArgs=null,this.headerElement=null,this.nextIcon=null,this.table=null,this.tableHeadElement=null,this.previousIcon=null,this.headerTitleElement=null,this.footer=null,this.contentElement=null,e.prototype.destroy.call(this)},t.prototype.title=function(e){var t=this.getViewNumber(this.currentView());this.effect=NI,this.switchView(++t,e)},t.prototype.getViewNumber=function(e){return"Month"===e?0:"Year"===e?1:2},t.prototype.navigateTitle=function(e){e.preventDefault(),this.title(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.previous=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(e)}},t.prototype.navigatePrevious=function(e){!La.isDevice&&e.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.next=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(e)}},t.prototype.navigateNext=function(e){!La.isDevice&&e.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.navigateTo=function(e,t,i){+t>=+this.min&&+t<=+this.max&&(this.currentDate=t),+t<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+t>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(e)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(e))&&(e=this.depth),this.switchView(this.getViewNumber(e),null,null,i)},t.prototype.currentView=function(){return!ko(this.contentElement)&&this.contentElement.classList.contains(pI)?"Year":!ko(this.contentElement)&&this.contentElement.classList.contains(fI)?"Decade":"Month"},t.prototype.getDateVal=function(e,t){return!ko(t)&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},t.prototype.getCultureObjects=function(e,t){var i=".dates.calendars.gregorian.days.format."+this.dayHeaderFormat.toLowerCase(),n=".dates.calendars.islamic.days.format."+this.dayHeaderFormat.toLowerCase();return"Gregorian"===this.calendarMode?No("main."+this.locale+i,e):No("main."+this.locale+n,e)},t.prototype.getWeek=function(e){var t=new Date(this.checkValue(e)).valueOf(),i=new Date(e.getFullYear(),0,1).valueOf();return Math.ceil((t-i+xI)/xI/7)},t.prototype.setStartDate=function(e,t){var i=e.getTimezoneOffset(),n=new Date(e.getTime()+t),r=n.getTimezoneOffset()-i;e.setTime(n.getTime()+6e4*r)},t.prototype.addMonths=function(e,t){if("Gregorian"===this.calendarMode){var i=e.getDate();e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(i,this.getMaxDays(e)))}else{var n=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(n.year,n.month+t,1)}},t.prototype.addYears=function(e,t){if("Gregorian"===this.calendarMode){var i=e.getDate();e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(i,this.getMaxDays(e)))}else{var n=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(n.year+t,n.month,1)}},t.prototype.getIdValue=function(e,t){var i;i=e?e.currentTarget:t;var n={type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},r=this.globalize.formatDate(new Date(parseInt(""+i.getAttribute("id"),0)),n),s=this.globalize.parseDate(r,n),o=s.valueOf()-s.valueOf()%1e3;return new Date(o)},t.prototype.adjustLongHeaderSize=function(){Ba([this.element],CI),"Wide"===this.dayHeaderFormat&&Fa(["calendar"===this.getModuleName()?this.element:this.calendarElement],CI)},t.prototype.selectDate=function(e,t,i,n,r){var s=i||e.currentTarget;if(this.isDateSelected=!1,"Decade"===this.currentView())this.setDateDecade(this.currentDate,t.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,t);else{if(n&&!this.checkPresentDate(t,r)){var o=this.copyValues(r);!ko(r)&&o.length>0?(o.push(new Date(this.checkValue(t))),this.setProperties({values:o},!0),this.setProperties({value:r[r.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(t))]},!0)}else this.setProperties({value:new Date(this.checkValue(t))},!0);this.currentDate=new Date(this.checkValue(t))}var a=Za(s,"."+hI);if(ko(a)&&(a=this.tableBodyElement),n||ko(a.querySelector("."+bI))||Ba([a.querySelector("."+bI)],bI),n||ko(a.querySelector("."+MI))||Ba([a.querySelector("."+MI)],MI),n){o=this.copyValues(r);for(var l=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td")),h=0;h<l.length;h++){var c=a.querySelectorAll("td."+MI)[0],u=a.querySelectorAll("td."+bI)[0];l[h]===c&&Ba([l[h]],MI),l[h]!==u||this.checkPresentDate(new Date(parseInt(u.getAttribute("id").split("_")[0],10)),r)||Ba([l[h]],bI)}if(s.classList.contains(bI)){Ba([s],bI);for(var p=0;p<o.length;p++){var d={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};if(this.globalize.formatDate(t,d)===this.globalize.formatDate(o[p],d)){h=o.indexOf(o[p]);o.splice(h,1),Fa([s],MI)}}this.setProperties({values:o},!0)}else Fa([s],bI)}else Fa([s],bI);this.isDateSelected=!0},t.prototype.checkPresentDate=function(e,t){var i=!1;if(!ko(t))for(var n=0;n<t.length;n++){var r="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(e,{format:null,type:"date",skeleton:"short",calendar:r})===this.globalize.formatDate(t[n],{format:null,type:"date",skeleton:"short",calendar:r})&&(i=!0)}return i},t.prototype.setAriaActiveDescendant=function(){Ga(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})},t.prototype.previousIconHandler=function(e){e?ko(this.previousIcon)||(Oa.remove(this.previousIcon,"click",this.navigatePreviousHandler),Fa([this.previousIcon],""+mI),Fa([this.previousIcon],""+yI),this.previousIcon.setAttribute("aria-disabled","true")):(Oa.add(this.previousIcon,"click",this.navigatePreviousHandler),Ba([this.previousIcon],""+mI),Ba([this.previousIcon],""+yI),this.previousIcon.setAttribute("aria-disabled","false"))},t.prototype.renderDayCellEvent=function(e){Eo(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},t.prototype.navigatedEvent=function(e){Eo(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)},t.prototype.triggerNavigate=function(e){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(e)},t.prototype.nextIconHandler=function(e){e?ko(this.previousIcon)||(Oa.remove(this.nextIcon,"click",this.navigateNextHandler),Fa([this.nextIcon],mI),Fa([this.nextIcon],yI),this.nextIcon.setAttribute("aria-disabled","true")):(Oa.add(this.nextIcon,"click",this.navigateNextHandler),Ba([this.nextIcon],mI),Ba([this.nextIcon],yI),this.nextIcon.setAttribute("aria-disabled","false"))},t.prototype.compare=function(e,t,i){var n,r,s=t.getFullYear();return n=s,r=0,i&&(n=(s-=s%i)-s%i+i-1),e.getFullYear()>n?r=1:e.getFullYear()<s&&(r=-1),r},t.prototype.isMinMaxRange=function(e){return+e>=+this.min&&+e<=+this.max},t.prototype.isMonthYearRange=function(e){if("Gregorian"===this.calendarMode)return e.getMonth()>=this.min.getMonth()&&e.getFullYear()>=this.min.getFullYear()&&e.getMonth()<=this.max.getMonth()&&e.getFullYear()<=this.max.getFullYear();var t=this.islamicModule.getIslamicDate(e);return t.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&t.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&t.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&t.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year},t.prototype.compareYear=function(e,t){return this.compare(e,t,0)},t.prototype.compareDecade=function(e,t){return this.compare(e,t,10)},t.prototype.shiftArray=function(e,t){return e.slice(t).concat(e.slice(0,t))},t.prototype.addDay=function(e,t,i,n,r){var s=t,o=new Date(+e);if(!ko(this.tableBodyElement)&&!ko(i)){for(;this.findNextTD(new Date(+e),s,n,r);)s+=t;var a=new Date(o.setDate(o.getDate()+s));s=+a>+n||+a<+r?s===t?t-t:t:s}e.setDate(e.getDate()+s)},t.prototype.findNextTD=function(e,t,i,n){var r=new Date(e.setDate(e.getDate()+t)),s=[],o=!1;if((!ko(r)&&r.getMonth())===(!ko(this.currentDate)&&this.currentDate.getMonth())){s=("Gregorian"===this.calendarMode?this.renderDays(r):this.islamicModule.islamicRenderDays(this.currentDate,r)).filter((function(e){return e.classList.contains(mI)}))}else s=this.tableBodyElement.querySelectorAll("td."+mI);if(+r<=+i&&+r>=+n&&s.length)for(var a=0;a<s.length&&!(o=+r===+new Date(parseInt(s[a].id,0)));a++);return o},t.prototype.getMaxDays=function(e){var t,i=new Date(this.checkValue(e));t=28;for(var n=i.getMonth();i.getMonth()===n;)++t,i.setDate(t);return t-1},t.prototype.setDateDecade=function(e,t){e.setFullYear(t),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.setDateYear=function(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),e.getDate()),t.getMonth()!==e.getMonth()&&(e.setDate(0),this.currentDate=new Date(this.checkValue(t))),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.compareMonth=function(e,t){return e.getFullYear()>t.getFullYear()?1:e.getFullYear()<t.getFullYear()?-1:e.getMonth()===t.getMonth()?0:e.getMonth()>t.getMonth()?1:-1},t.prototype.checkValue=function(e){return e instanceof Date?e.toUTCString():""+e},t.prototype.checkView=function(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)},t.prototype.getDate=function(e,t){return t&&(e=new Date(e.toLocaleString("en-US",{timeZone:t}))),e},oI([fl(new Date(1900,0,1))],t.prototype,"min",void 0),oI([fl(!0)],t.prototype,"enabled",void 0),oI([fl(null)],t.prototype,"cssClass",void 0),oI([fl(new Date(2099,11,31))],t.prototype,"max",void 0),oI([fl(null)],t.prototype,"firstDayOfWeek",void 0),oI([fl("Gregorian")],t.prototype,"calendarMode",void 0),oI([fl("Month")],t.prototype,"start",void 0),oI([fl("Month")],t.prototype,"depth",void 0),oI([fl(!1)],t.prototype,"weekNumber",void 0),oI([fl("FirstDay")],t.prototype,"weekRule",void 0),oI([fl(!0)],t.prototype,"showTodayButton",void 0),oI([fl("Short")],t.prototype,"dayHeaderFormat",void 0),oI([fl(!1)],t.prototype,"enablePersistence",void 0),oI([fl(null)],t.prototype,"keyConfigs",void 0),oI([fl(null)],t.prototype,"serverTimezoneOffset",void 0),oI([yl()],t.prototype,"created",void 0),oI([yl()],t.prototype,"destroyed",void 0),oI([yl()],t.prototype,"navigated",void 0),oI([yl()],t.prototype,"renderDayCell",void 0),t=oI([vl],t)}(Xl),TI=function(e){function t(t,i){return e.call(this,t,i)||this}return sI(t,e),t.prototype.render=function(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&Ro("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"===typeof this.values&&!ko(this.values)&&this.values.length>0){for(var t=[],i=[],n=0;n<this.values.length;n++)-1===t.indexOf(+this.values[n])&&(t.push(+this.values[n]),i.push(this.values[n]));this.setProperties({values:i},!0);for(var r=0;r<this.values.length;r++)if(!this.checkDateValue(this.values[r]))if("string"===typeof this.values[r]&&this.checkDateValue(new Date(this.checkValue(this.values[r])))){var s=new Date(this.checkValue(this.values[r]));this.values.splice(r,1),this.values.splice(r,0,s)}else this.values.splice(r,1);this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),"calendar"===this.getModuleName()&&(this.setEnable(this.enabled),this.setClass(this.cssClass)),e.prototype.render.call(this),"calendar"===this.getModuleName()){var o=Za(this.element,"form");o&&Oa.add(o,"reset",this.formResetHandler.bind(this)),this.setTimeZone(this.serverTimezoneOffset)}this.renderComplete()},t.prototype.setEnable=function(e){e?Ba([this.element],mI):Fa([this.element],mI)},t.prototype.setClass=function(e,t){ko(t)||(t=t.replace(/\s+/g," ").trim()),ko(e)||(e=e.replace(/\s+/g," ").trim()),ko(t)||""===t||Ba([this.element],t.split(" ")),ko(e)||Fa([this.element],e.split(" "))},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),6,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),0,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(t,e)},t.prototype.setTimeZone=function(e){if(!ko(this.serverTimezoneOffset)&&this.value){var t=e+(new Date).getTimezoneOffset()/60;t=this.isDayLightSaving()?t--:t,this.value=new Date(this.value.getTime()+60*t*60*1e3)}},t.prototype.formResetHandler=function(){this.setProperties({value:null},!0)},t.prototype.validateDate=function(){"string"===typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),e.prototype.validateDate.call(this,this.value),!ko(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)},t.prototype.minMaxUpdate=function(){"calendar"===this.getModuleName()&&(!ko(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!ko(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||ko(this.value)?e.prototype.minMaxUpdate.call(this,this.value):!ko(this.value)&&this.value<this.min&&this.min<=this.max?e.prototype.minMaxUpdate.call(this,this.min):!ko(this.value)&&this.value>this.max&&this.min<=this.max&&e.prototype.minMaxUpdate.call(this,this.max)},t.prototype.generateTodayVal=function(t){var i=new Date;return ko(this.timezone)||(i=e.prototype.getDate.call(this,i,this.timezone)),t&&ko(this.timezone)?(i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),i.setSeconds(t.getSeconds()),i.setMilliseconds(t.getMilliseconds())):i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),i},t.prototype.todayButtonClick=function(t){if(this.showTodayButton){var i=this.generateTodayVal(this.value);if(this.setProperties({value:i},!0),this.isTodayClicked=!0,this.todayButtonEvent=t,this.isMultiSelection){var n=this.copyValues(this.values);e.prototype.checkPresentDate.call(this,i,this.values)||(n.push(i),this.setProperties({values:n}))}e.prototype.todayButtonClick.call(this,t,new Date(+this.value))}},t.prototype.keyActionHandle=function(t){e.prototype.keyActionHandle.call(this,t,this.value,this.isMultiSelection)},t.prototype.preRender=function(){var t=this;this.changeHandler=function(e){t.triggerChange(e)},this.checkView(),e.prototype.preRender.call(this,this.value)},t.prototype.createContent=function(){this.previousDate=this.value,this.previousDateTime=this.value,e.prototype.createContent.call(this)},t.prototype.minMaxDate=function(t){return e.prototype.minMaxDate.call(this,t)},t.prototype.renderMonths=function(t,i,n){e.prototype.renderMonths.call(this,t,this.value,n)},t.prototype.renderDays=function(t,i,n,r,s,o){var a=e.prototype.renderDays.call(this,t,this.value,this.isMultiSelection,this.values,s,o);return this.isMultiSelection&&e.prototype.validateValues.call(this,this.isMultiSelection,this.values),a},t.prototype.renderYears=function(t){"Gregorian"===this.calendarMode?e.prototype.renderYears.call(this,t,this.value):this.islamicModule.islamicRenderYears(t,this.value)},t.prototype.renderDecades=function(t){"Gregorian"===this.calendarMode?e.prototype.renderDecades.call(this,t,this.value):this.islamicModule.islamicRenderDecade(t,this.value)},t.prototype.renderTemplate=function(t,i,n,r){"Gregorian"===this.calendarMode?e.prototype.renderTemplate.call(this,t,i,n,r,this.value):this.islamicModule.islamicRenderTemplate(t,i,n,r,this.value),this.changedArgs={value:this.value,values:this.values},r&&"click"===r.type&&r.currentTarget.classList.contains(aI)?this.changeHandler(r):this.changeHandler()},t.prototype.clickHandler=function(t){var i=t.currentTarget;if(this.isPopupClicked=!0,i.classList.contains(aI))if(this.isMultiSelection){var n=this.copyValues(this.values);-1===n.toString().indexOf(this.getIdValue(t,null).toString())?(n.push(this.getIdValue(t,null)),this.setProperties({values:n},!0),this.setProperties({value:this.values[this.values.length-1]},!0)):this.previousDates=!0}else this.setProperties({value:this.getIdValue(t,null)},!0);var r=this.currentView();e.prototype.clickHandler.call(this,t,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!ko(this.tableBodyElement.querySelectorAll("."+MI)[0])&&"Year"===r&&this.tableBodyElement.querySelectorAll("."+MI)[0].classList.remove(MI)},t.prototype.switchView=function(t,i,n,r){e.prototype.switchView.call(this,t,i,this.isMultiSelection,r)},t.prototype.getModuleName=function(){return e.prototype.getModuleName.call(this),"calendar"},t.prototype.getPersistData=function(){e.prototype.getPersistData.call(this);return this.addOnPersist(["value","values"])},t.prototype.onPropertyChanged=function(t,i){this.effect="",this.rangeValidation(this.min,this.max);for(var n=0,r=Object.keys(t);n<r.length;n++){switch(r[n]){case"value":this.isDateSelected&&("string"===typeof t.value?this.setProperties({value:new Date(this.checkValue(t.value))},!0):t.value=new Date(this.checkValue(t.value)),isNaN(+this.value)&&this.setProperties({value:i.value},!0),this.update());break;case"values":if(this.isDateSelected){if("string"===typeof t.values||"number"===typeof t.values)this.setProperties({values:null},!0);else{for(var s=this.copyValues(this.values),o=0;o<s.length;o++){var a=s[o];this.checkDateValue(a)&&!e.prototype.checkPresentDate.call(this,a,s)&&s.push(a)}this.setProperties({values:s},!0),this.values.length>0&&this.setProperties({value:t.values[t.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update()}break;case"isMultiSelection":this.isDateSelected&&(this.setProperties({isMultiSelection:t.isMultiSelection},!0),this.update());break;case"enabled":this.setEnable(this.enabled);break;case"cssClass":"calendar"===this.getModuleName()&&this.setClass(t.cssClass,i.cssClass);break;default:e.prototype.onPropertyChanged.call(this,t,i,this.isMultiSelection,this.values)}}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange},t.prototype.destroy=function(){if(e.prototype.destroy.call(this),"calendar"===this.getModuleName()){this.changedArgs=null;var t=Za(this.element,"form");t&&Oa.remove(t,"reset",this.formResetHandler.bind(this))}},t.prototype.navigateTo=function(t,i,n){this.minMaxUpdate(),e.prototype.navigateTo.call(this,t,i,n)},t.prototype.currentView=function(){return e.prototype.currentView.call(this)},t.prototype.addDate=function(t){if("string"!==typeof t&&"number"!==typeof t){var i=this.copyValues(this.values);if("object"===typeof t&&t.length>0)for(var n=t,r=0;r<n.length;r++)this.checkDateValue(n[r])&&!e.prototype.checkPresentDate.call(this,n[r],i)&&(!ko(i)&&i.length>0?i.push(n[r]):i=[new Date(+n[r])]);else this.checkDateValue(t)&&!e.prototype.checkPresentDate.call(this,t,i)&&(!ko(i)&&i.length>0?i.push(t):i=[new Date(+t)]);this.setProperties({values:i},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,i),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},t.prototype.removeDate=function(e){if("string"!==typeof e&&"number"!==typeof e&&!ko(this.values)&&this.values.length>0){var t=this.copyValues(this.values);if("object"===typeof e&&e.length>0)for(var i=e,n=0;n<i.length;n++)for(var r=0;r<t.length;r++)+t[r]===+i[n]&&t.splice(r,1);else for(r=0;r<t.length;r++)+t[r]===+e&&t.splice(r,1);this.setProperties({values:t},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},t.prototype.setTodayDate=function(t){var i=new Date(+t);this.setProperties({value:i},!0),e.prototype.todayButtonClick.call(this,null,i,!0)},t.prototype.update=function(){this.validateDate(),this.minMaxUpdate(),e.prototype.setValueUpdate.call(this)},t.prototype.selectDate=function(t,i,n){e.prototype.selectDate.call(this,t,i,n,this.isMultiSelection,this.values),this.isMultiSelection&&!ko(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(t)},t.prototype.changeEvent=function(e){((this.value&&this.value.valueOf())!==(this.previousDate&&+this.previousDate.valueOf())||this.isMultiSelection)&&(this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value))},t.prototype.triggerChange=function(e){!ko(this.todayButtonEvent)&&this.isTodayClicked&&(e=this.todayButtonEvent,this.isTodayClicked=!1),this.changedArgs.event=e||null,this.changedArgs.isInteracted=!ko(e),ko(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||(ko(this.value)||ko(this.previousDate))&&(null!==this.previousDate||isNaN(+this.value))?ko(this.values)||this.previousValues===this.values.length||(this.changeEvent(e),this.previousValues=this.values.length):this.changeEvent(e)},oI([fl(null)],t.prototype,"value",void 0),oI([fl(null)],t.prototype,"values",void 0),oI([fl(!1)],t.prototype,"isMultiSelection",void 0),oI([yl()],t.prototype,"change",void 0),t=oI([vl],t)}(DI),AI=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),jI=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},EI="e-datepicker",kI="e-popup-wrapper",zI="e-input-focus",LI="e-error",OI="e-active",PI="e-date-overflow",RI="e-selected",FI="e-non-edit",BI=["title","class","style"],VI=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.isDateIconClicked=!1,n.isAltKeyPressed=!1,n.isInteracted=!0,n.invalidValueString=null,n.checkPreviousValue=null,n.maskedDateValue="",n.isAngular=!1,n.preventChange=!1,n.isIconClicked=!1,n.isDynamicValueChanged=!1,n.moduleName=n.getModuleName(),n.isFocused=!1,n.isBlur=!1,n.isKeyAction=!1,n.datepickerOptions=t,n}return AI(t,e),t.prototype.render=function(){this.initialize(),this.bindEvents(),"Auto"===this.floatLabelType&&Ou.calculateWidth(this.inputElement,this.inputWrapper.container),ko(this.inputWrapper.buttons[0])||ko(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!ko(Za(this.element,"fieldset"))&&Za(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete(),this.setTimeZone(this.serverTimezoneOffset)},t.prototype.setTimeZone=function(e){if(!ko(this.serverTimezoneOffset)&&this.value){var t=e+(new Date).getTimezoneOffset()/60;t=this.isDayLightSaving()?t--:t,this.value=new Date(this.value.getTime()+60*t*60*1e3),this.updateInput()}},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,t)},t.prototype.setAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Ga(this.inputElement,{readonly:""}),this.updateIconState()},t.prototype.updateIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&Ba([this.inputWrapper.container],[FI]):""===this.inputElement.value?Ba([this.inputWrapper.container],[FI]):Fa([this.inputWrapper.container],[FI])},t.prototype.initialize=function(){this.checkInvalidValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setAllowEdit(),!this.enableMask||this.value||!this.maskedDateValue||"Always"!==this.floatLabelType&&this.floatLabelType&&this.placeholder?this.enableMask||this.updateInput(!0):(this.updateInput(!0),this.updateInputValue(this.maskedDateValue)),this.previousElementValue=this.inputElement.value,this.previousDate=ko(this.value)?null:new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value},t.prototype.createInput=function(){var e={"aria-atomic":"true","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false","aria-label":this.getModuleName()};if("datepicker"===this.getModuleName()){var t={placeholder:this.placeholder};this.globalize=new va(this.locale),this.l10n=new ch("datepicker",t,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}this.fullScreenMode&&La.isDevice&&(this.cssClass+=" e-popup-expand");var i=this.cssClass;ko(this.cssClass)||""===this.cssClass||(i=this.cssClass.replace(/\s+/g," ").trim());var n=!this.enableMask;this.inputWrapper=Ou.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,bindClearAction:n,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:i,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),""!==this.inputElement.name?this.inputElement.setAttribute("name",""+this.inputElement.getAttribute("name")):this.inputElement.setAttribute("name",""+this.element.id),Ga(this.inputElement,e),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),Ou.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),Fa([this.inputWrapper.container],"e-date-wrapper")},t.prototype.updateInput=function(t,i){var n;if(void 0===t&&(t=!1),void 0===i&&(i=!1),this.value&&!this.isCalendar()&&this.disabledDates(t,i),isNaN(+new Date(this.checkValue(this.value)))&&this.setProperties({value:null},!0),this.strictMode&&(e.prototype.validateDate.call(this),this.minMaxUpdates(),e.prototype.minMaxUpdate.call(this)),!ko(this.value)){var r=this.value,s=void 0,o=ko(this.formatString)?this.dateTimeFormat:this.formatString;if("datetimepicker"===this.getModuleName()?s="Gregorian"===this.calendarMode?this.globalize.formatDate(this.value,{format:o,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(this.value,{format:o,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},s=this.globalize.formatDate(this.value,n)),+r<=+this.max&&+r>=+this.min)this.updateInputValue(s);else{var a=+r>=+this.max||!+this.value||!+this.value||+r<=+this.min;!this.strictMode&&a&&this.updateInputValue(s)}}ko(this.value)&&this.strictMode&&(this.enableMask?(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime"})):this.updateInputValue("")),!this.strictMode&&ko(this.value)&&this.invalidValueString&&this.updateInputValue(this.invalidValueString),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()},t.prototype.minMaxUpdates=function(){!ko(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!ko(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})},t.prototype.checkStringValue=function(e){var t=null,i=null,n=null;if("datetimepicker"===this.getModuleName()){var r=new va(this.locale);"Gregorian"===this.calendarMode?(i={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},n={format:r.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(i={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},n={format:r.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else i="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return ko(t=this.checkDateValue(this.globalize.parseDate(e,i)))&&"datetimepicker"===this.getModuleName()&&(t=this.checkDateValue(this.globalize.parseDate(e,n))),t},t.prototype.checkInvalidValue=function(e){if(!(e instanceof Date)&&!ko(e)){var t=null,i=e;"number"===typeof e&&(i=e.toString());if("datetimepicker"===this.getModuleName()){var n=new va(this.locale);"Gregorian"===this.calendarMode?({format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},{format:n.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):({format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},{format:n.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};var r=!1;if("string"!==typeof i)i=null,r=!0;else if("string"===typeof i&&(i=i.trim()),!(t=this.checkStringValue(i))){var s=null;s=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(i)&&!s.test(i)||/^[a-zA-Z0-9- ]*$/.test(i)||isNaN(+new Date(this.checkValue(i)))?r=!0:t=new Date(i)}r?(this.strictMode||(this.invalidValueString=i),this.setProperties({value:null},!0)):this.setProperties({value:t},!0)}},t.prototype.bindInputEvent=function(){ko(this.formatString)&&!this.enableMask||(this.enableMask||-1===this.formatString.indexOf("y")?Oa.add(this.inputElement,"input",this.inputHandler,this):Oa.remove(this.inputElement,"input",this.inputHandler))},t.prototype.bindEvents=function(){Oa.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler,this),Oa.add(this.inputElement,"mouseup",this.mouseUpHandler,this),Oa.add(this.inputElement,"focus",this.inputFocusHandler,this),Oa.add(this.inputElement,"blur",this.inputBlurHandler,this),Oa.add(this.inputElement,"keyup",this.keyupHandler,this),this.enableMask&&Oa.add(this.inputElement,"keydown",this.keydownHandler,this),this.bindInputEvent(),Oa.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&Oa.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&Oa.add(this.formElement,"reset",this.resetFormHandler,this),this.defaultKeyConfigs=Eo(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModules=new hh(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.keydownHandler=function(e){switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"Home":case"End":case"Delete":!this.enableMask||this.popupObj||this.readonly||("Delete"!==e.code&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e:e}))}},t.prototype.unBindEvents=function(){ko(this.inputWrapper)||Oa.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler),Oa.remove(this.inputElement,"mouseup",this.mouseUpHandler),Oa.remove(this.inputElement,"focus",this.inputFocusHandler),Oa.remove(this.inputElement,"blur",this.inputBlurHandler),Oa.remove(this.inputElement,"change",this.inputChangeHandler),Oa.remove(this.inputElement,"keyup",this.keyupHandler),this.enableMask&&Oa.remove(this.inputElement,"keydown",this.keydownHandler),this.showClearButton&&this.inputWrapper.clearButton&&Oa.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&Oa.remove(this.formElement,"reset",this.resetFormHandler)},t.prototype.resetFormHandler=function(){if(this.enabled&&!this.inputElement.disabled){var e=this.inputElement.getAttribute("value");"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(e="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(this.updateInputValue(e),this.errorClass())}},t.prototype.restoreValue=function(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=ko(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:"yMd"})},t.prototype.inputChangeHandler=function(e){this.enabled&&e.stopPropagation()},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&Oa.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},t.prototype.resetHandler=function(e){this.enabled&&(e.preventDefault(),this.clear(e))},t.prototype.mouseUpHandler=function(e){this.enableMask&&(e.preventDefault(),this.notify("setMaskSelection",{module:"MaskedDateTime"}))},t.prototype.clear=function(e){this.setProperties({value:null},!0),this.enableMask||this.updateInputValue("");var t={event:e};if(this.trigger("cleared",t),this.invalidValueString="",this.updateInput(),this.popupUpdate(),this.changeEvent(e),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}),Za(this.element,"form")){var i=this.element,n=document.createEvent("KeyboardEvent");n.initEvent("keyup",!1,!0),i.dispatchEvent(n)}},t.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnDateIconClick")},t.prototype.updateInputValue=function(e){Ou.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.dateIconHandler=function(e){this.enabled&&(this.isIconClicked=!0,La.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),e.preventDefault(),this.readonly||(this.isCalendar()?this.hide(e):(this.isDateIconClicked=!0,this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),Fa([this.inputWrapper.container],[zI]),Fa(this.inputWrapper.buttons,OI))),this.isIconClicked=!1)},t.prototype.updateHtmlAttributeToWrapper=function(){if(!ko(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];if(!ko(this.htmlAttributes[""+i])&&BI.indexOf(i)>-1)if("class"===i){var n=this.htmlAttributes[""+i].replace(/\s+/g," ").trim();""!==n&&Fa([this.inputWrapper.container],n.split(" "))}else if("style"===i){var r=this.inputWrapper.container.getAttribute(i);ko(r)?r=this.htmlAttributes[""+i]:";"===r.charAt(r.length-1)?r+=this.htmlAttributes[""+i]:r=r+";"+this.htmlAttributes[""+i],this.inputWrapper.container.setAttribute(i,r)}else this.inputWrapper.container.setAttribute(i,this.htmlAttributes[""+i])}},t.prototype.updateHtmlAttributeToElement=function(){if(!ko(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];BI.indexOf(i)<0&&this.inputElement.setAttribute(i,this.htmlAttributes[""+i])}},t.prototype.updateCssClass=function(e,t){ko(t)||(t=t.replace(/\s+/g," ").trim()),ko(e)||(e=e.replace(/\s+/g," ").trim()),Ou.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&Ou.setCssClass(e,[this.popupWrapper],t)},t.prototype.calendarKeyActionHandle=function(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value===+this.currentDate||this.isCalendar()||this.inputWrapper.container.children[this.index].focus():this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(e)}},t.prototype.inputFocusHandler=function(){if(this.isFocused=!0,this.enabled){this.enableMask&&!this.inputElement.value&&this.placeholder&&(!this.maskedDateValue||this.value||"Auto"!==this.floatLabelType&&"Never"!==this.floatLabelType&&!this.placeholder||(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length));var e={model:this};this.isDateIconClicked=!1,this.trigger("focus",e),this.updateIconState(),this.openOnFocus&&!this.isIconClicked&&this.show()}},t.prototype.inputHandler=function(){this.isPopupClicked=!1,this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})},t.prototype.inputBlurHandler=function(e){if(this.enabled){if(this.strictModeUpdate(),""===this.inputElement.value&&ko(this.value)&&(this.invalidValueString=null,this.updateInputValue("")),this.isBlur=!0,this.updateInput(!1,!0),this.isBlur=!1,this.popupUpdate(),this.changeTrigger(e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&(this.inputElement.value!==this.maskedDateValue||this.value||"Auto"!==this.floatLabelType&&"Never"!==this.floatLabelType&&!this.placeholder||this.updateInputValue("")),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),"datepicker"===this.getModuleName()){var t={model:this};this.trigger("blur",t)}this.isCalendar()&&(this.defaultKeyConfigs=Eo(this.defaultKeyConfigs,this.keyConfigs),this.calendarKeyboardModules=new hh(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})),this.isPopupClicked=!1}},t.prototype.documentHandler=function(t){ko(this.popupObj)||ko(this.inputWrapper)||!(this.inputWrapper.container.contains(t.target)&&"mousedown"!==t.type||this.popupObj.element&&this.popupObj.element.contains(t.target))||"touchstart"===t.type||t.preventDefault();var i=t.target;Za(i,".e-datepicker.e-popup-wrapper")||ko(this.inputWrapper)||Za(i,".e-input-group")===this.inputWrapper.container||i.classList.contains("e-day")||i.classList.contains("e-dlg-overlay")?Za(i,".e-datepicker.e-popup-wrapper")&&(i.classList.contains("e-day")&&!ko(t.target.parentElement)&&t.target.parentElement.classList.contains("e-selected")&&Za(i,".e-content")&&Za(i,".e-content").classList.contains("e-"+this.depth.toLowerCase())||Za(i,".e-footer-container")&&i.classList.contains("e-today")&&i.classList.contains("e-btn")&&+new Date(+this.value)===+e.prototype.generateTodayVal.call(this,this.value))&&this.hide(t):(this.hide(t),this.focusOut())},t.prototype.inputKeyActionHandle=function(e){var t=this.currentView();switch(e.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(e),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e),"datepicker"===this.getModuleName()&&this.show(null,e);break;case"escape":this.hide(e);break;case"enter":this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),this.isCalendar()||document.activeElement!==this.inputElement||this.hide(e),this.isCalendar()&&(e.preventDefault(),e.stopPropagation());break;case"tab":case"shiftTab":var i=this.inputElement.selectionStart,n=this.inputElement.selectionEnd;if(this.enableMask&&!this.popupObj&&!this.readonly){var r=this.inputElement.value.length;(0===i&&n===r||n!==r&&"tab"===e.action||0!==i&&"shiftTab"===e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e:e}),i=this.inputElement.selectionStart,n=this.inputElement.selectionEnd}this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),this.enableMask&&(this.inputElement.selectionStart=i,this.inputElement.selectionEnd=n),this.hide(e);break;default:this.defaultAction(e),"select"===e.action&&t===this.depth&&this.hide(e)}},t.prototype.defaultAction=function(t){this.previousDate=!ko(this.value)&&new Date(+this.value)||null,this.isCalendar()&&(e.prototype.keyActionHandle.call(this,t),this.isCalendar()&&Ga(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()}))},t.prototype.popupUpdate=function(){if((ko(this.value)&&!ko(this.previousDate)||+this.value!==+this.previousDate)&&(this.popupObj&&this.popupObj.element.querySelectorAll("."+RI).length>0&&Ba(this.popupObj.element.querySelectorAll("."+RI),[RI]),!ko(this.value)&&+this.value>=+this.min&&+this.value<=+this.max)){var t=new Date(this.checkValue(this.value));e.prototype.navigateTo.call(this,"Month",t)}},t.prototype.strictModeUpdate=function(){var e,t,i,n;("datetimepicker"===this.getModuleName()?e=ko(this.formatString)?this.dateTimeFormat:this.formatString:/^y/.test(this.formatString)&&!/[^a-zA-Z]/.test(this.formatString)||(e=ko(this.formatString)?this.formatString:this.formatString.replace("dd","d")),ko(e))?e=this.formatString:e.split("M").length-1<3&&(e=e.replace("MM","M"));i="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:ko(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:ko(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:t="Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},"string"===typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?this.checkDateValue(this.globalize.parseDate(this.inputElement.value,i))?n=this.globalize.parseDate(this.inputElement.value.toLocaleUpperCase(),i):(t="Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},n=this.globalize.parseDate(this.inputElement.value,t)):(n=!ko(n=this.globalize.parseDate(this.inputElement.value,i))&&isNaN(+n)?null:n,!ko(this.formatString)&&""!==this.inputElement.value&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&-1===this.formatString.indexOf("y")&&n.setFullYear(this.value.getFullYear())),"datepicker"===this.getModuleName()&&this.value&&!isNaN(+this.value)&&n&&n.setHours(this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds()),this.strictMode&&n?(this.updateInputValue(this.globalize.formatDate(n,i)),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:n},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:n},!0),this.strictMode&&!n&&this.inputElement.value===(this.enableMask?this.maskedDateValue:"")&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),ko(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))},t.prototype.createCalendar=function(){var e=this;this.popupWrapper=this.createElement("div",{className:EI+" "+kI}),ko(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),La.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className=EI+" e-date-modal",document.body.className+=" "+PI,this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new ku(this.popupWrapper,{content:this.calendarElement,relateTo:La.isDevice?document.body:this.inputWrapper.container,position:La.isDevice?{X:"center",Y:"center"}:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:La.isDevice?{X:"fit",Y:"fit"}:this.enableRtl?{X:"fit",Y:"flip"}:{X:"flip",Y:"flip"},open:function(){La.isDevice&&e.fullScreenMode&&(e.iconRight=parseInt(window.getComputedStyle(e.calendarElement.querySelector(".e-header.e-month .e-prev")).marginRight,10)>16,e.touchModule=new gh(e.calendarElement.querySelector(".e-content.e-month"),{swipe:e.CalendarSwipeHandler.bind(e)}),Oa.add(e.calendarElement.querySelector(".e-content.e-month"),"touchstart",e.TouchStartHandler,e)),"datetimepicker"!==e.getModuleName()&&document.activeElement!==e.inputElement&&(e.defaultKeyConfigs=Eo(e.defaultKeyConfigs,e.keyConfigs),e.calendarElement.children[1].firstElementChild.focus(),e.calendarKeyboardModules=new hh(e.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:e.calendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}),e.calendarKeyboardModules=new hh(e.inputWrapper.container.children[e.index],{eventName:"keydown",keyAction:e.calendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}))},close:function(){e.isDateIconClicked&&e.inputWrapper.container.children[e.index].focus(),e.value&&e.disabledDates(),e.popupObj&&e.popupObj.destroy(),e.resetCalendar(),Qa(e.popupWrapper),e.popupObj=e.popupWrapper=null,e.preventArgs=null,e.calendarKeyboardModules=null,e.setAriaAttributes()},targetExitViewport:function(){La.isDevice||e.hide()}}),this.popupObj.element.className+=" "+this.cssClass,this.setAriaAttributes()},t.prototype.CalendarSwipeHandler=function(e){var t=0;if(this.iconRight)switch(e.swipeDirection){case"Left":t=1;break;case"Right":t=-1}else switch(e.swipeDirection){case"Up":t=1;break;case"Down":t=-1}this.touchStart&&(1===t?this.navigateNext(e):-1===t&&this.navigatePrevious(e),this.touchStart=!1)},t.prototype.TouchStartHandler=function(e){this.touchStart=!0},t.prototype.setAriaDisabled=function(){this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1)},t.prototype.modelHeader=function(){var e,t=this.createElement("div",{className:"e-model-header"}),i=this.createElement("h1",{className:"e-model-year"}),n=this.createElement("div"),r=this.createElement("span",{className:"e-model-day"}),s=this.createElement("span",{className:"e-model-month"});if(e="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"},i.textContent=""+this.globalize.formatDate(this.value||new Date,e),e="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},r.textContent=this.globalize.formatDate(this.value||new Date,e)+", ",e="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},s.textContent=""+this.globalize.formatDate(this.value||new Date,e),this.fullScreenMode){var o=this.createElement("span",{className:"e-popup-close"});Oa.add(o,"mousedown touchstart",this.modelCloseHandler,this);var a=this.calendarElement.querySelector("button.e-today");n.classList.add("e-day-wrapper"),a.classList.add("e-outline"),t.appendChild(o),t.appendChild(a)}this.fullScreenMode||t.appendChild(i),n.appendChild(r),n.appendChild(s),t.appendChild(n),this.calendarElement.insertBefore(t,this.calendarElement.firstElementChild)},t.prototype.modelCloseHandler=function(e){this.hide()},t.prototype.changeTrigger=function(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.isDynamicValueChanged&&this.isCalendar()&&this.popupUpdate(),this.changedArgs.value=this.value,this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!ko(e),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)),this.isInteracted=!0),this.isKeyAction=!1},t.prototype.navigatedEvent=function(){this.trigger("navigated",this.navigatedArgs)},t.prototype.keyupHandler=function(e){this.isKeyAction=this.inputElement.value!==this.previousElementValue},t.prototype.changeEvent=function(e){this.isIconClicked||this.isBlur||this.isKeyAction||this.selectCalendar(e),(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())?(this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=this.isInteracted,this.isDynamicValueChanged||this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.isDynamicValueChanged||this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass()):e&&this.hide(e),this.isKeyAction=!1},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e},t.prototype.selectCalendar=function(e){var t,i,n;i="datetimepicker"===this.getModuleName()&&ko(this.formatString)?this.dateTimeFormat:this.formatString,this.value&&("datetimepicker"===this.getModuleName()?(n="Gregorian"===this.calendarMode?{format:i,type:"dateTime",skeleton:"yMd"}:{format:i,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,n)):(n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,n)),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})),ko(t)||(this.updateInputValue(t),this.enableMask&&this.notify("setMaskSelection",{module:"MaskedDateTime"}))},t.prototype.isCalendar=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+kI))},t.prototype.setWidth=function(e){this.inputWrapper.container.style.width="number"===typeof e?Fo(this.width):"string"===typeof e?e.match(/px|%|em/)?this.width:Fo(this.width):"100%"},t.prototype.show=function(t,i){var n=this;if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){var r=!0,s=void 0;ko(this.value)||+this.value>=+new Date(this.checkValue(this.min))&&+this.value<=+new Date(this.checkValue(this.max))?s=this.value||null:(s=new Date(this.checkValue(this.value)),this.setProperties({value:null},!0)),this.isCalendar()||(e.prototype.render.call(this),this.setProperties({value:s||null},!0),this.previousDate=s,this.createCalendar()),La.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:function(){r=!1},popup:this.popupObj,event:i||null,cancel:!1,appendTo:La.isDevice?this.mobilePopupWrapper:document.body};var o=this.preventArgs;if(this.trigger("open",o,(function(t){if(n.preventArgs=t,r&&!n.preventArgs.cancel){Fa(n.inputWrapper.buttons,OI),n.preventArgs.appendTo.appendChild(n.popupWrapper),n.popupObj.refreshPosition(n.inputElement);var i={name:"FadeIn",duration:La.isDevice?0:300};1e3===n.zIndex?n.popupObj.show(new _l(i),n.element):n.popupObj.show(new _l(i),null),e.prototype.setOverlayIndex.call(n,n.mobilePopupWrapper,n.popupObj.element,n.modal,La.isDevice),n.setAriaAttributes()}else n.popupObj.destroy(),n.popupWrapper=n.popupObj=null;ko(n.inputElement)||""!==n.inputElement.value||!ko(n.tableBodyElement)&&n.tableBodyElement.querySelectorAll("td.e-selected").length>0&&(Fa([n.tableBodyElement.querySelector("td.e-selected")],"e-focused-date"),Ba(n.tableBodyElement.querySelectorAll("td.e-selected"),RI)),Oa.add(document,"mousedown touchstart",n.documentHandler,n)})),La.isDevice){var a=this.createElement("div",{className:"e-dlg-overlay"});a.style.zIndex=(this.zIndex-1).toString(),this.mobilePopupWrapper.appendChild(a)}}},t.prototype.hide=function(e){var t=this;if(ko(this.popupWrapper))La.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit();else{var i=!0;this.preventArgs={preventDefault:function(){i=!1},popup:this.popupObj,event:e||null,cancel:!1},Ba(this.inputWrapper.buttons,OI),Ba([document.body],PI);var n=this.preventArgs;this.isCalendar()?this.trigger("close",n,(function(e){t.closeEventCallback(i,e)})):this.closeEventCallback(i,n)}},t.prototype.closeEventCallback=function(e,t){this.preventArgs=t,this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy(),Ba(this.inputWrapper.buttons,OI)),this.setAriaAttributes(),La.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),La.isDevice&&(ko(this.mobilePopupWrapper)||!e||!ko(this.preventArgs)&&this.preventArgs.cancel||(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null)),Oa.remove(document,"mousedown touchstart",this.documentHandler),La.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.focusIn=function(e){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),Fa([this.inputWrapper.container],[zI]))},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(Ba([this.inputWrapper.container],[zI]),this.inputElement.blur())},t.prototype.currentView=function(){var t;return this.calendarElement&&(t=e.prototype.currentView.call(this)),t},t.prototype.navigateTo=function(t,i){this.calendarElement&&e.prototype.navigateTo.call(this,t,i)},t.prototype.destroy=function(){this.unBindEvents(),e.prototype.destroy.call(this),ko(this.keyboardModules)||this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&e.prototype.destroy.call(this);var t={"aria-atomic":"true","aria-disabled":"true","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-label":this.getModuleName()};this.inputElement&&(Ou.removeAttributes(t,this.inputElement),ko(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),Oa.remove(this.inputElement,"blur",this.inputBlurHandler),Oa.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&Qa(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(ko(this.inputWrapper)||this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),Ba([this.inputElement],["e-input"])),Ba([this.element],[EI]),ko(this.inputWrapper)||Qa(this.inputWrapper.container)),this.formElement&&Oa.remove(this.formElement,"reset",this.resetFormHandler),this.inputWrapper=null,this.keyboardModules=null},t.prototype.ensureInputAttribute=function(){for(var e=[],t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(t=0;t<e.length;t++)ko(this.inputElementCopy.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.inputElementCopy.getAttribute(e[t])))},t.prototype.preRender=function(){this.inputElementCopy=this.element.cloneNode(!0),Ba([this.inputElementCopy],[EI,"e-control","e-lib"]),this.inputElement=this.element,this.formElement=Za(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.ngTag=null,"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):"datetimepicker"===this.getModuleName()?(this.element.id=Lo("ej2-datetimepicker"),null!==this.ngTag&&Ga(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=Lo("ej2-datepicker"),null!==this.ngTag&&Ga(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.checkHtmlAttributes(!1),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),e.prototype.preRender.call(this)},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",shiftTab:"shift+tab",tab:"tab"},this.defaultKeyConfigs},t.prototype.validationAttribute=function(e,t){var i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");for(var n=["required","aria-required","form"],r=0;r<n.length;r++)if(!ko(e.getAttribute(n[r]))){var s=e.getAttribute(n[r]);t.setAttribute(n[r],s),e.removeAttribute(n[r])}},t.prototype.checkFormat=function(){var e=new va(this.locale);if(this.format)if("string"===typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||ko(this.format.skeleton))"datetimepicker"===this.getModuleName()?this.formatString=this.dateTimeFormat:this.formatString=null;else{var t=this.format.skeleton;"datetimepicker"===this.getModuleName()?this.formatString=e.getDatePattern({skeleton:t,type:"dateTime"}):this.formatString=e.getDatePattern({skeleton:t,type:"date"})}else this.formatString=null},t.prototype.checkHtmlAttributes=function(e){this.globalize=new va(this.locale),this.checkFormat(),this.checkView();var t,i=e?ko(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","disabled","readonly","style","name","placeholder","type"];t="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:ko(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:ko(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(var n=0,r=i;n<r.length;n++){var s=r[n];if(!ko(this.inputElement.getAttribute(s)))switch(s){case"disabled":if(ko(this.datepickerOptions)||void 0===this.datepickerOptions.enabled||e){var o="disabled"!==this.inputElement.getAttribute(s)&&""!==this.inputElement.getAttribute(s)&&"true"!==this.inputElement.getAttribute(s);this.setProperties({enabled:o},!e)}break;case"readonly":if(ko(this.datepickerOptions)||void 0===this.datepickerOptions.readonly||e){var a="readonly"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s);this.setProperties({readonly:a},!e)}break;case"placeholder":(ko(this.datepickerOptions)||void 0===this.datepickerOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(s)},!e);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(s));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(s));break;case"value":if(ko(this.datepickerOptions)||void 0===this.datepickerOptions.value||e){var l=this.inputElement.getAttribute(s);this.setProperties(Co(s,this.globalize.parseDate(l,t),{}),!e)}break;case"min":if(+this.min===+new Date(1900,0,1)||e){var h=this.inputElement.getAttribute(s);this.setProperties(Co(s,this.globalize.parseDate(h),{}),!e)}break;case"max":if(+this.max===+new Date(2099,11,31)||e){var c=this.inputElement.getAttribute(s);this.setProperties(Co(s,this.globalize.parseDate(c),{}),!e)}break;case"type":"text"!==this.inputElement.getAttribute(s)&&this.inputElement.setAttribute("type","text")}}},t.prototype.getModuleName=function(){return"datepicker"},t.prototype.disabledDates=function(t,i){var n;void 0===t&&(t=!1),void 0===i&&(i=!1);var r=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value)),s=this.previousDate;this.minMaxUpdates(),(!t||t&&!ko(this.renderDayCell))&&e.prototype.render.call(this),this.previousDate=s;var o,a='*[id^="/id"]'.replace("/id",""+(r&&+r));this.strictMode||("string"===typeof this.value||"object"===typeof this.value&&+this.value!==+r)&&this.setProperties({value:r},!0),ko(this.calendarElement)||ko(this.calendarElement.querySelectorAll(a)[0])||this.calendarElement.querySelectorAll(a)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0)))),"datetimepicker"===this.getModuleName()?o="Gregorian"===this.calendarMode?this.globalize.formatDate(r,{format:ko(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(r,{format:ko(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},o=this.globalize.formatDate(r,n)),this.popupObj||(this.updateInputValue(o),this.enableMask&&(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime",isBlur:i})))},t.prototype.setAriaAttributes=function(){this.isCalendar()?(Ou.addAttributes({"aria-expanded":"true"},this.inputElement),Ga(this.inputElement,{"aria-owns":this.inputElement.id+"_options"}),this.value&&Ga(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(Ou.addAttributes({"aria-expanded":"false"},this.inputElement),this.inputElement.removeAttribute("aria-owns"),this.inputElement.removeAttribute("aria-activedescendant"))},t.prototype.errorClass=function(){var e='*[id^="/id"]'.replace("/id",""+ +this.value),t=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!(ko(this.value)||ko(this.min)||ko(this.max)||new Date(this.value).setMilliseconds(0)>=new Date(this.min).setMilliseconds(0)&&new Date(this.value).setMilliseconds(0)<=new Date(this.max).setMilliseconds(0))||!this.strictMode&&""!==this.inputElement.value&&this.inputElement.value!==this.maskedDateValue&&ko(this.value)||t?(Fa([this.inputWrapper.container],LI),Ga(this.inputElement,{"aria-invalid":"true"})):ko(this.inputWrapper)||(Ba([this.inputWrapper.container],LI),Ga(this.inputElement,{"aria-invalid":"false"}))},t.prototype.onPropertyChanged=function(t,i){for(var n=0,r=Object.keys(t);n<r.length;n++){switch(r[n]){case"value":this.isDynamicValueChanged=!0,this.isInteracted=!1,this.invalidValueString=null,this.checkInvalidValue(t.value),t.value=this.value,this.previousElementValue=this.inputElement.value,ko(this.value)&&(this.enableMask?this.updateInputValue(this.maskedDateValue):this.updateInputValue(""),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(!0),+this.previousDate!==+this.value&&this.changeTrigger(null),this.isInteracted=!0,this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"format":this.checkFormat(),this.bindInputEvent(),this.updateInput(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||this.updateInputValue(this.maskedDateValue));break;case"allowEdit":this.setAllowEdit();break;case"placeholder":Ou.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":Ou.setReadonly(this.readonly,this.inputElement);break;case"enabled":Ou.setEnabled(this.enabled,this.inputElement),this.setAriaDisabled();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkHtmlAttributes(!0);break;case"locale":this.globalize=new va(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),Ou.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"enableRtl":Ou.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&e.prototype.onPropertyChanged.call(this,t,i);break;case"zIndex":this.setProperties({zIndex:t.zIndex},!0);break;case"cssClass":this.updateCssClass(t.cssClass,i.cssClass);break;case"showClearButton":Ou.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent(),this.index=this.showClearButton?2:1;break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(t.width),Ou.calculateWidth(this.inputElement,this.inputWrapper.container),ko(this.inputWrapper.buttons[0])||ko(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"floatLabelType":this.floatLabelType=t.floatLabelType,Ou.removeFloating(this.inputWrapper),Ou.addFloating(this.inputElement,this.floatLabelType,this.placeholder),ko(this.inputWrapper.buttons[0])||ko(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue),this.bindInputEvent()):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("");break;default:this.calendarElement&&this.isCalendar()&&e.prototype.onPropertyChanged.call(this,t,i)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}},jI([fl(null)],t.prototype,"width",void 0),jI([fl(null)],t.prototype,"value",void 0),jI([fl(null)],t.prototype,"cssClass",void 0),jI([fl(!1)],t.prototype,"strictMode",void 0),jI([fl(null)],t.prototype,"format",void 0),jI([fl(!0)],t.prototype,"enabled",void 0),jI([fl(!1)],t.prototype,"fullScreenMode",void 0),jI([fl({})],t.prototype,"htmlAttributes",void 0),jI([fl(null)],t.prototype,"values",void 0),jI([fl(!1)],t.prototype,"isMultiSelection",void 0),jI([fl(!0)],t.prototype,"showClearButton",void 0),jI([fl(!0)],t.prototype,"allowEdit",void 0),jI([fl(null)],t.prototype,"keyConfigs",void 0),jI([fl(!1)],t.prototype,"enablePersistence",void 0),jI([fl(1e3)],t.prototype,"zIndex",void 0),jI([fl(!1)],t.prototype,"readonly",void 0),jI([fl(null)],t.prototype,"placeholder",void 0),jI([fl("Never")],t.prototype,"floatLabelType",void 0),jI([fl(null)],t.prototype,"serverTimezoneOffset",void 0),jI([fl(!1)],t.prototype,"openOnFocus",void 0),jI([fl(!1)],t.prototype,"enableMask",void 0),jI([fl({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),jI([yl()],t.prototype,"open",void 0),jI([yl()],t.prototype,"cleared",void 0),jI([yl()],t.prototype,"close",void 0),jI([yl()],t.prototype,"blur",void 0),jI([yl()],t.prototype,"focus",void 0),jI([yl()],t.prototype,"created",void 0),jI([yl()],t.prototype,"destroyed",void 0),t=jI([vl],t)}(TI),UI=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),HI=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},WI="e-error",YI="240px",QI=(new Date).getDate(),qI=(new Date).getMonth(),GI=(new Date).getFullYear(),KI="e-timepicker",XI="e-active",JI="e-hover",ZI="e-navigation",$I="e-disabled",eN="e-input-focus",tN="e-list-item",iN="e-time-overflow",nN="e-non-edit",rN=["title","class","style"];!function(e){e.createListItems=function(e,t,i,n,r,s){var o;this.calendarMode;var a=6e4*s,l=[],h=[];o=+t.setMilliseconds(0);for(var c=+i.setMilliseconds(0);c>=o;)h.push(o),l.push(n.formatDate(new Date(o),{format:r,type:"time"})),o+=a;return{collection:h,list:rp.createList(e,l,null,!0)}}}(U_||(U_={}));(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}UI(t,e),HI([fl("day")],t.prototype,"day",void 0),HI([fl("month")],t.prototype,"month",void 0),HI([fl("year")],t.prototype,"year",void 0),HI([fl("day of the week")],t.prototype,"dayOfTheWeek",void 0),HI([fl("hour")],t.prototype,"hour",void 0),HI([fl("minute")],t.prototype,"minute",void 0),HI([fl("second")],t.prototype,"second",void 0)})(zl),function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.liCollections=[],n.timeCollections=[],n.disableItemCollection=[],n.invalidValueString=null,n.isAngular=!1,n.preventChange=!1,n.maskedDateValue="",n.moduleName=n.getModuleName(),n.timeOptions=t,n}UI(t,e),t.prototype.preRender=function(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),Ba([this.cloneElement],[KI,"e-control","e-lib"]),this.inputElement=this.element,this.angularTag=null,this.formElement=Za(this.element,"form"),"EJS-TIMEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.openPopupEventArgs={appendTo:document.body}},t.prototype.render=function(){this.initialize(),this.createInputElement(),this.updateHtmlAttributeToWrapper(),this.setTimeAllowEdit(),this.setEnable(),this.validateInterval(),this.bindEvents(),this.validateDisable(),this.setTimeZone(),this.setValue(this.getFormattedValue(this.value)),!this.enableMask||this.value||!this.maskedDateValue||"Always"!==this.floatLabelType&&this.floatLabelType&&this.placeholder||(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.anchor=this.inputElement,this.inputElement.setAttribute("value",this.inputElement.value),this.inputEleValue=this.getDateObject(this.inputElement.value),ko(this.inputWrapper.buttons[0])||ko(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!ko(Za(this.element,"fieldset"))&&Za(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete()},t.prototype.setTimeZone=function(){if(!ko(this.serverTimezoneOffset)&&this.value){var e=(new Date).getTimezoneOffset()/60,t=this.serverTimezoneOffset+e;t=this.isDayLightSaving()?t--:t,this.value=new Date(this.value.getTime()+60*t*60*1e3)}},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,t)},t.prototype.setTimeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Ga(this.inputElement,{readonly:""}),this.clearIconState()},t.prototype.clearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&Ba([this.inputWrapper.container],[nN]):""===this.inputElement.value?Ba([this.inputWrapper.container],[nN]):Fa([this.inputWrapper.container],[nN])},t.prototype.validateDisable=function(){this.setMinMax(this.initMin,this.initMax),ko(this.value)||(this.popupCreation(),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null),isNaN(+this.value)||null===this.value||this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax))},t.prototype.validationAttribute=function(e,t){var i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");for(var n=["required","aria-required","form"],r=0;r<n.length;r++)if(!ko(e.getAttribute(n[r]))){var s=e.getAttribute(n[r]);t.setAttribute(n[r],s),e.removeAttribute(n[r])}},t.prototype.initialize=function(){this.globalize=new va(this.locale),this.defaultCulture=new va("en"),this.checkTimeFormat(),this.checkInvalidValue(this.value),this.setProperties({value:this.checkDateValue(new Date(this.checkInValue(this.value)))},!0),this.setProperties({min:this.checkDateValue(new Date(this.checkInValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkInValue(this.max)))},!0),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))},!0),null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.checkAttributes(!1);var e={placeholder:this.placeholder};this.l10n=new ch("timepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,ko(this.element.getAttribute("id"))?(this.element.id=Lo("ej2_timepicker"),null!==this.angularTag&&Ga(this.inputElement,{id:this.element.id+"_input"})):null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),ko(this.inputElement.getAttribute("name"))&&Ga(this.inputElement,{name:this.element.id}),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.checkTimeFormat=function(){if(this.format)if("string"===typeof this.format)this.formatString=this.format;else if(ko(this.format.skeleton)||""===this.format.skeleton)this.formatString=this.globalize.getDatePattern({type:"time",skeleton:"short"});else{var e=this.format.skeleton;this.formatString=this.globalize.getDatePattern({type:"time",skeleton:e})}else this.formatString=null},t.prototype.checkDateValue=function(e){return!ko(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.createInputElement=function(){this.fullScreenMode&&La.isDevice&&(this.cssClass+=" e-popup-expand");var e=this.cssClass,t=!this.enableMask;ko(this.cssClass)||""===this.cssClass||(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=Ou.createInput({element:this.inputElement,bindClearAction:t,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement),this.inputWrapper.container.style.width=this.setWidth(this.width),Ga(this.inputElement,{"aria-autocomplete":"list",tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||Ou.addAttributes({style:this.inputStyle},this.inputElement),Fa([this.inputWrapper.container],"e-time-wrapper")},t.prototype.getCldrDateTimeFormat=function(){var e=new va(this.locale).getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?e+" "+this.cldrFormat("time"):this.formatString},t.prototype.checkInvalidValue=function(e){var t=!1;if("object"!==typeof e&&!ko(e)){var i=e;"string"===typeof i&&(i=i.trim());var n,r=null;if("number"===typeof e?i=e.toString():"string"===typeof e&&(/^[a-zA-Z0-9- ]*$/.test(e)||ko(r=this.setCurrentDate(this.getDateObject(e)))&&ko(r=this.checkDateValue(this.globalize.parseDate(i,{format:this.getCldrDateTimeFormat(),type:"datetime"})))&&(r=this.checkDateValue(this.globalize.parseDate(i,{format:this.formatString,type:"dateTime",skeleton:"yMd"})))),r=!ko(n=this.globalize.parseDate(i,{format:this.getCldrDateTimeFormat(),type:"datetime"}))&&n instanceof Date&&!isNaN(+n)?n:null,ko(r)&&i.replace(/\s/g,"").length){var s=null;s=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(i)&&!s.test(i)||/^[a-zA-Z0-9- ]*$/.test(e)||isNaN(+new Date(""+i))?t=!0:r=new Date(""+i)}t?(this.strictMode||(this.invalidValueString=i),this.setProperties({value:null},!0),this.initValue=null):(this.setProperties({value:r},!0),this.initValue=this.value)}},t.prototype.requiredModules=function(){var e=[];return this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e},t.prototype.cldrFormat=function(e){return"en"===this.locale||"en-US"===this.locale?No("timeFormats.short",Ma()):this.getCultureTimeObject(fa,""+this.locale)},t.prototype.destroy=function(){this.hide(),this.unBindEvents();this.inputElement&&(Ou.removeAttributes({"aria-autocomplete":"list",tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"},this.inputElement),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),ko(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),ko(this.cloneElement.getAttribute("disabled"))&&Ou.setEnabled(!0,this.inputElement,this.floatLabelType)),this.inputWrapper.container&&Qa(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],ko(this.rippleFn)||this.rippleFn(),e.prototype.destroy.call(this),this.formElement&&Oa.remove(this.formElement,"reset",this.formResetHandler),this.rippleFn=null,this.openPopupEventArgs=null,this.selectedElement=null,this.listTag=null,this.liCollections=null},t.prototype.ensureInputAttribute=function(){for(var e=[],t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(t=0;t<e.length;t++)ko(this.cloneElement.getAttribute(e[t]))?(this.inputElement.removeAttribute(e[t]),"value"===e[t].toLowerCase()&&(this.inputElement.value="")):(this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])),"value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])))},t.prototype.popupCreation=function(){this.popupWrapper=this.createElement("div",{className:KI+" e-popup",attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}}),ko(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),!ko(this.step)&&this.step>0&&(this.generateList(),Wa([this.listWrapper],this.popupWrapper)),this.addSelection(),this.renderPopup(),Qa(this.popupWrapper)},t.prototype.getPopupHeight=function(){var e=parseInt(YI,10),t=this.popupWrapper.getBoundingClientRect().height;return t>e?e:t},t.prototype.generateList=function(){this.createListItems(),this.wireListEvents();var e={duration:300,selector:"."+tN};this.rippleFn=Il(this.listWrapper,e),this.liCollections=this.listWrapper.querySelectorAll("."+tN)},t.prototype.renderPopup=function(){var e=this;if(this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),this.popupObj=new ku(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",position:La.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:La.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},enableRtl:this.enableRtl,relateTo:La.isDevice?document.body:this.inputWrapper.container,offsetY:4,open:function(){e.popupWrapper.style.visibility="visible",Fa([e.inputWrapper.buttons[0]],XI)},close:function(){Ba([e.inputWrapper.buttons[0]],XI),e.unWireListEvents(),e.inputElement.removeAttribute("aria-activedescendant"),qa(e.popupObj.element),e.popupObj.destroy(),e.popupWrapper.innerHTML="",e.listWrapper=e.popupWrapper=e.listTag=void 0},targetExitViewport:function(){La.isDevice||e.hide()}}),La.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),La.isDevice&&this.fullScreenMode?(this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%"):this.popupObj.element.style.maxHeight=YI,La.isDevice&&this.fullScreenMode){var t=this.createElement("div",{className:"e-model-header"}),i=this.createElement("span",{className:"e-model-title"});i.textContent="Select time";var n=this.createElement("span",{className:"e-popup-close"});Oa.add(n,"mousedown touchstart",this.timePopupCloseHandler,this),t.appendChild(n),t.appendChild(i),this.popupWrapper.insertBefore(t,this.popupWrapper.firstElementChild)}},t.prototype.timePopupCloseHandler=function(e){this.hide()},t.prototype.getFormattedValue=function(e){return ko(this.checkDateValue(e))?null:this.globalize.formatDate(e,{skeleton:"medium",type:"time"})},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var t=this.createDateObj(e),i=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(t)){var n=i?this.initValue.getDate():QI,r=i?this.initValue.getMonth():qI,s=i?this.initValue.getFullYear():GI;return new Date(s,r,n,t.getHours(),t.getMinutes(),t.getSeconds())}}return null},t.prototype.updateHtmlAttributeToWrapper=function(){if(!ko(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];if(rN.indexOf(i)>-1)if("class"===i){var n=this.htmlAttributes[""+i].replace(/\s+/g," ").trim();""!==n&&Fa([this.inputWrapper.container],n.split(" "))}else if("style"===i){var r=this.inputWrapper.container.getAttribute(i);r=ko(r)?this.htmlAttributes[""+i]:r+this.htmlAttributes[""+i],this.inputWrapper.container.setAttribute(i,r)}else this.inputWrapper.container.setAttribute(i,this.htmlAttributes[""+i])}},t.prototype.updateHtmlAttributeToElement=function(){if(!ko(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];rN.indexOf(i)<0&&this.inputElement.setAttribute(i,this.htmlAttributes[""+i])}},t.prototype.updateCssClass=function(e,t){ko(t)||(t=t.replace(/\s+/g," ").trim()),ko(e)||(e=e.replace(/\s+/g," ").trim()),Ou.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&Ou.setCssClass(e,[this.popupWrapper],t)},t.prototype.removeErrorClass=function(){Ba([this.inputWrapper.container],WI),Ga(this.inputElement,{"aria-invalid":"false"})},t.prototype.checkErrorState=function(e){var t=this.getDateObject(e);this.validateState(t)&&!this.invalidValueString||this.enableMask&&this.inputElement.value===this.maskedDateValue?this.removeErrorClass():(Fa([this.inputWrapper.container],WI),Ga(this.inputElement,{"aria-invalid":"true"}))},t.prototype.validateInterval=function(){!ko(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()},t.prototype.disableTimeIcon=function(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()},t.prototype.disableElement=function(e){Fa(e,$I)},t.prototype.enableElement=function(e){Ba(e,$I)},t.prototype.selectInputText=function(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)},t.prototype.setCursorToEnd=function(){this.inputElement.setSelectionRange(this.inputElement.value.length,this.inputElement.value.length)},t.prototype.getMeridianText=function(){var e;if("en"===this.locale||"en-US"===this.locale)e=No("dayPeriods.format.wide",Ma());else{e=No("main."+this.locale+".dates.calendars.gregorian.dayPeriods.format.abbreviated",fa)}return e},t.prototype.getCursorSelection=function(){var e=this.inputElement,t=0,i=0;return isNaN(e.selectionStart)||(t=e.selectionStart,i=e.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}},t.prototype.getActiveElement=function(){return ko(this.popupWrapper)?null:this.popupWrapper.querySelectorAll("."+XI)},t.prototype.isNullOrEmpty=function(e){return!!(ko(e)||"string"===typeof e&&""===e.trim())},t.prototype.setWidth=function(e){return e="number"===typeof e?Fo(e):"string"===typeof e?e.match(/px|%|em/)?e:Fo(e):"100%"},t.prototype.setPopupWidth=function(e){(e=this.setWidth(e)).indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px");return e},t.prototype.setScrollPosition=function(){var e=this.selectedElement;ko(e)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},t.prototype.findScrollTop=function(e){var t=this.getPopupHeight(),i=e.nextElementSibling,n=i?i.offsetTop:e.offsetTop,r=e.getBoundingClientRect().height;n+e.offsetTop>t?this.popupWrapper.scrollTop=i?n-(t/2+r/2):n:this.popupWrapper.scrollTop=0},t.prototype.setScrollTo=function(){var e;if(ko(this.popupWrapper))this.popupWrapper.scrollTop=0;else{var t=this.popupWrapper.querySelectorAll("."+tN);if(t.length){var i=this.timeCollections[0],n=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((n-i)/(6e4*this.step))]}}ko(e)?this.popupWrapper.scrollTop=0:this.findScrollTop(e)},t.prototype.getText=function(){return ko(this.checkDateValue(this.value))?"":this.getValue(this.value)},t.prototype.getValue=function(e){return ko(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.cldrDateFormat=function(){return"en"===this.locale||"en-US"===this.locale?No("dateFormats.short",Ma()):this.getCultureDateObject(fa,""+this.locale)},t.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.formatString)?"en"===this.locale||"en-US"===this.locale?No("timeFormats.short",Ma()):this.getCultureTimeObject(fa,""+this.locale):this.formatString},t.prototype.dateToNumeric=function(){return"en"===this.locale||"en-US"===this.locale?No("timeFormats.medium",Ma()):No("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",fa)},t.prototype.getExactDateTime=function(e){return ko(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.dateToNumeric(),type:"time"})},t.prototype.setValue=function(e){var t=this.checkValue(e);this.strictMode||this.validateState(t)?this.isNullOrEmpty(t)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(t):(null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max)),this.updateInput(!0,this.initValue)},t.prototype.compareFormatChange=function(e){return ko(e)?null:e!==this.getText()?this.getDateObject(e):this.getDateObject(this.value)},t.prototype.updatePlaceHolder=function(){Ou.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)},t.prototype.updateInputValue=function(e){Ou.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnTimeIconClick")},t.prototype.popupHandler=function(e){this.enabled&&(La.isDevice&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.isPopupOpen()?this.closePopup(0,e):(this.inputElement.focus(),this.show(e)))},t.prototype.mouseDownHandler=function(){this.enabled&&(this.readonly||(this.inputElement.setSelectionRange(0,0),Oa.add(this.inputElement,"mouseup",this.mouseUpHandler,this)))},t.prototype.mouseUpHandler=function(e){if(!this.readonly){if(e.preventDefault(),this.enableMask)return e.preventDefault(),void this.notify("setMaskSelection",{module:"MaskedDateTime"});Oa.remove(this.inputElement,"mouseup",this.mouseUpHandler);var t=this.getCursorSelection();0===t.start&&t.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}},t.prototype.focusSelection=function(){var e=new RegExp("^[a-zA-Z0-9]+$"),t=this.inputElement.value.split("");t.push(" ");var i=this.getCursorSelection(),n=0,r=0,s=!1;if(this.isTextSelected)n=i.start,r=i.end,this.isTextSelected=!1;else for(var o=0;o<t.length;o++)if(e.test(t[o])||(r=o,s=!0),s){if(i.start>=n&&i.end<=r){this.isTextSelected=!0;break}n=o+1,s=!1}return{start:n,end:r}},t.prototype.inputHandler=function(e){if(!this.readonly&&this.enabled)switch("right"!=e.action&&"left"!=e.action&&"tab"!=e.action&&("home"!=e.action&&"end"!=e.action&&"up"!=e.action&&"down"!=e.action||this.isPopupOpen()||this.enableMask)&&e.preventDefault(),e.action){case"home":case"end":case"up":case"down":this.isPopupOpen()||(this.popupCreation(),this.popupObj.destroy(),this.popupObj=this.popupWrapper=null),!this.enableMask||this.readonly||this.isPopupOpen()||(e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e:e})),this.isPopupOpen()&&this.keyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,e)):this.updateValue(this.inputElement.value,e),this.hide(),this.isNavigate=!1,this.isPopupOpen()&&e.stopPropagation();break;case"open":this.show(e);break;case"escape":this.updateInputValue(this.objToString(this.value)),this.enableMask&&(this.value||this.updateInputValue(this.maskedDateValue),this.createMask()),this.previousState(this.value),this.hide();break;case"close":this.hide();break;case"right":case"left":case"tab":case"shiftTab":this.isPopupOpen()||!this.enableMask||this.readonly||((0===this.inputElement.selectionStart&&this.inputElement.selectionEnd===this.inputElement.value.length||this.inputElement.selectionEnd!==this.inputElement.value.length&&"tab"===e.action||0!==this.inputElement.selectionStart&&"shiftTab"===e.action||"left"===e.action||"right"===e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e:e}));break;default:this.isNavigate=!1}},t.prototype.onMouseClick=function(e){var t=e.target,i=this.selectedElement=Za(t,"."+tN);this.setSelection(i,e),i&&i.classList.contains(tN)&&this.hide()},t.prototype.closePopup=function(e,t){var i=this;if(this.isPopupOpen()&&this.popupWrapper){var n={popup:this.popupObj,event:t||null,cancel:!1,name:"open"};Ba([document.body],iN),this.trigger("close",n,(function(t){if(!t.cancel){var n={name:"FadeOut",duration:50,delay:e||0};i.popupObj.hide(new _l(n)),Ba([i.inputWrapper.container],["e-icon-anim"]),Ga(i.inputElement,{"aria-expanded":"false"}),i.inputElement.removeAttribute("aria-owns"),i.inputElement.removeAttribute("aria-activedescendant"),Oa.remove(document,"mousedown touchstart",i.documentClickHandler)}La.isDevice&&i.modal&&(i.modal.style.display="none",i.modal.outerHTML="",i.modal=null),La.isDevice&&(ko(i.mobileTimePopupWrap)||(i.mobileTimePopupWrap.remove(),i.mobileTimePopupWrap=null)),La.isDevice&&i.allowEdit&&!i.readonly&&i.inputElement.removeAttribute("readonly")}))}else La.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")},t.prototype.disposeServerPopup=function(){this.popupWrapper&&(this.popupWrapper.style.visibility="hidden",this.popupWrapper.style.top="-9999px",this.popupWrapper.style.left="-9999px",this.popupWrapper.style.width="0px",this.popupWrapper.style.height="0px")},t.prototype.checkValueChange=function(e,t){if(this.strictMode||this.validateState(this.valueWithMinutes))if(t){var i=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!==+i&&this.valueProcess(e,i)}else(this.prevValue!==this.inputElement.value||ko(this.checkDateValue(this.value)))&&this.valueProcess(e,this.compareFormatChange(this.inputElement.value));else null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!==+this.value&&this.changeEvent(e)},t.prototype.onMouseOver=function(e){var t=Za(e.target,"."+tN);this.setHover(t,JI)},t.prototype.setHover=function(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeHover(t),Fa([e],t),t===ZI&&e.setAttribute("aria-selected","true"))},t.prototype.setSelection=function(e,t){this.isValidLI(e)&&(this.checkValue(e.getAttribute("data-value")),this.enableMask&&this.createMask(),this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),Fa([this.selectedElement],XI),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(t,!0))},t.prototype.onMouseLeave=function(){this.removeHover(JI)},t.prototype.scrollHandler=function(){"timepicker"===this.getModuleName()&&La.isDevice||this.hide()},t.prototype.setMinMax=function(e,t){ko(this.checkDateValue(e))&&(this.initMin=this.getDateObject("12:00:00 AM")),ko(this.checkDateValue(t))&&(this.initMax=this.getDateObject("11:59:59 PM"))},t.prototype.validateMinMax=function(e,t,i){var n=e instanceof Date?e:this.getDateObject(e);return ko(this.checkDateValue(n))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():e=this.strictOperation(this.initMin,this.initMax,e,n),this.strictMode&&(e=this.valueIsDisable(e)?e:null),this.checkErrorState(e),e},t.prototype.valueIsDisable=function(e){if(this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;for(var t=e instanceof Date?this.objToString(e):e,i=0;i<this.disableItemCollection.length;i++)if(t===this.disableItemCollection[i])return!1}return!0},t.prototype.validateState=function(e){if(!this.strictMode){if(!this.valueIsDisable(e))return!1;var t=this.setCurrentDate(this.getDateObject(e)),i=this.setCurrentDate(this.getDateObject(this.initMax)),n=this.setCurrentDate(this.getDateObject(this.initMin));if(ko(this.checkDateValue(t))){if(+i<+n||""!==this.inputElement.value)return!1}else if(+t>+i||+t<+n)return!1}return!0},t.prototype.strictOperation=function(e,t,i,n){var r=this.createDateObj(this.getFormattedValue(t)),s=this.createDateObj(this.getFormattedValue(e)),o=this.createDateObj(this.getFormattedValue(n));if(this.strictMode){if(+s>+r)return this.disableTimeIcon(),this.initValue=this.getDateObject(r),this.updateInputValue(this.getValue(this.initValue)),this.enableMask&&this.createMask(),this.inputElement.value;if(+s>=+o)return this.getDateObject(s);if(+o>=+r||+s===+r)return this.getDateObject(r)}else if(+s>+r&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(i))))return i;return i},t.prototype.bindEvents=function(){Oa.add(this.inputWrapper.buttons[0],"mousedown",this.popupHandler,this),Oa.add(this.inputElement,"blur",this.inputBlurHandler,this),Oa.add(this.inputElement,"focus",this.inputFocusHandler,this),Oa.add(this.inputElement,"change",this.inputChangeHandler,this),Oa.add(this.inputElement,"input",this.inputEventHandler,this),this.enableMask&&Oa.add(this.inputElement,"keydown",this.keydownHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&Oa.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this),this.formElement&&Oa.add(this.formElement,"reset",this.formResetHandler,this),La.isDevice||(this.keyConfigure=Eo(this.keyConfigure,this.keyConfigs),this.inputEvent=new hh(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&this.inputElement&&Oa.add(this.inputElement,"mousedown",this.mouseDownHandler,this))},t.prototype.keydownHandler=function(e){if("Delete"===e.code)!this.enableMask||this.popupObj||this.readonly||this.notify("keyDownHandler",{module:"MaskedDateTime",e:e})},t.prototype.formResetHandler=function(){if(this.enabled&&!this.inputElement.disabled){var e=this.inputElement.getAttribute("value"),t=this.checkDateValue(this.inputEleValue);"EJS-TIMEPICKER"===this.element.tagName&&(t=null,e="",this.inputElement.setAttribute("value","")),this.setProperties({value:t},!0),this.prevDate=this.value,this.valueWithMinutes=this.value,this.initValue=this.value,this.inputElement&&(this.updateInputValue(e),this.enableMask&&(e||this.updateInputValue(this.maskedDateValue),this.createMask()),this.checkErrorState(e),this.prevValue=this.inputElement.value)}},t.prototype.inputChangeHandler=function(e){this.enabled&&e.stopPropagation()},t.prototype.inputEventHandler=function(){this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})},t.prototype.unBindEvents=function(){this.inputWrapper&&Oa.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler),Oa.remove(this.inputElement,"blur",this.inputBlurHandler),Oa.remove(this.inputElement,"focus",this.inputFocusHandler),Oa.remove(this.inputElement,"change",this.inputChangeHandler),Oa.remove(this.inputElement,"input",this.inputEventHandler),this.inputEvent&&this.inputEvent.destroy(),Oa.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),!this.showClearButton||ko(this.inputWrapper)||ko(this.inputWrapper.clearButton)||Oa.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler),this.formElement&&Oa.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&Oa.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this)},t.prototype.raiseClearedEvent=function(e){var t={event:e};this.trigger("cleared",t)},t.prototype.clearHandler=function(e){if(this.enabled&&(e.preventDefault(),ko(this.value)?(this.resetState(),this.raiseClearedEvent(e)):this.clear(e),this.popupWrapper&&(this.popupWrapper.scrollTop=0),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}),Za(this.element,"form"))){var t=this.element,i=document.createEvent("KeyboardEvent");i.initEvent("keyup",!1,!0),t.dispatchEvent(i)}},t.prototype.clear=function(e){this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.raiseClearedEvent(e),this.changeEvent(e)},t.prototype.setZIndex=function(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())},t.prototype.checkAttributes=function(e){for(var t,i=0,n=e?ko(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["step","disabled","readonly","style","name","value","min","max","placeholder"];i<n.length;i++){var r=n[i];if(!ko(this.inputElement.getAttribute(r)))switch(r){case"disabled":if(ko(this.timeOptions)||void 0===this.timeOptions.enabled||e){var s="disabled"!==this.inputElement.getAttribute(r)&&""!==this.inputElement.getAttribute(r)&&"true"!==this.inputElement.getAttribute(r);this.setProperties({enabled:s},!e)}break;case"style":this.inputStyle=this.inputElement.getAttribute(r);break;case"readonly":if(ko(this.timeOptions)||void 0===this.timeOptions.readonly||e){var o="readonly"===this.inputElement.getAttribute(r)||""===this.inputElement.getAttribute(r)||"true"===this.inputElement.getAttribute(r);this.setProperties({readonly:o},!e)}break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(r));break;case"step":this.step=parseInt(this.inputElement.getAttribute(r),10);break;case"placeholder":(ko(this.timeOptions)||void 0===this.timeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(r)},!e);break;case"min":(ko(this.timeOptions)||void 0===this.timeOptions.min||e)&&(t=new Date(this.inputElement.getAttribute(r)),ko(this.checkDateValue(t))||this.setProperties({min:t},!e));break;case"max":(ko(this.timeOptions)||void 0===this.timeOptions.max||e)&&(t=new Date(this.inputElement.getAttribute(r)),ko(this.checkDateValue(t))||this.setProperties({max:t},!e));break;case"value":(ko(this.timeOptions)||void 0===this.timeOptions.value||e)&&(t=new Date(this.inputElement.getAttribute(r)),ko(this.checkDateValue(t))||(this.initValue=t,this.updateInput(!1,this.initValue),this.setProperties({value:t},!e)))}}},t.prototype.setCurrentDate=function(e){return ko(this.checkDateValue(e))?null:new Date(GI,qI,QI,e.getHours(),e.getMinutes(),e.getSeconds())},t.prototype.getTextFormat=function(){var e=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))e=1;else if(this.cldrTimeFormat().indexOf("a")<0)for(var t=this.cldrTimeFormat().split(" "),i=0;i<t.length;i++)if(t[i].toLowerCase().indexOf("h")>=0){e=i;break}return e},t.prototype.updateValue=function(e,t){var i;if(this.isNullOrEmpty(e))this.resetState();else if(i=this.checkValue(e),this.strictMode){var n=null===i&&e.trim().length>0?this.previousState(this.prevDate):this.inputElement.value;this.updateInputValue(n),this.enableMask&&(n||this.updateInputValue(this.maskedDateValue),ko(i)&&e!==this.maskedDateValue&&this.createMask(),ko(i)&&e===this.maskedDateValue&&this.updateInputValue(this.maskedDateValue))}this.checkValueChange(t,"string"!==typeof e)},t.prototype.previousState=function(e){for(var t=this.getDateObject(e),i=0;i<this.timeCollections.length;i++)if(+t===this.timeCollections[i]){this.activeIndex=i,this.selectedElement=this.liCollections[i],this.valueWithMinutes=new Date(this.timeCollections[i]);break}return this.prevValue},t.prototype.resetState=function(){this.removeSelection(),Ou.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.checkErrorState(null)},t.prototype.objToString=function(e){return ko(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.checkValue=function(e){if(!this.isNullOrEmpty(e)){var t=e instanceof Date?e:this.getDateObject(e);return this.validateValue(t,e)}return this.resetState(),this.valueWithMinutes=null},t.prototype.validateValue=function(e,t){var i,n=this.validateMinMax(t,this.min,this.max),r=this.createDateObj(n);if(this.getFormattedValue(r)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=ko(r)?null:r,i=this.objToString(this.valueWithMinutes)):(this.strictMode&&(e=r),this.valueWithMinutes=this.checkDateValue(e),i=this.objToString(this.valueWithMinutes)),!this.strictMode&&ko(i)){var s=n.trim().length>0?n:"";this.updateInputValue(s),this.enableMask&&(s||this.updateInputValue(this.maskedDateValue))}else this.updateInputValue(i),this.enableMask&&(""===i&&this.updateInputValue(this.maskedDateValue),ko(i)&&t!==this.maskedDateValue&&this.createMask(),ko(i)&&t===this.maskedDateValue&&this.updateInputValue(this.maskedDateValue));return i},t.prototype.createMask=function(){this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.findNextElement=function(e){var t=this.inputElement.value,i=ko(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),n=null,r=this.liCollections.length,s=this.timeCollections;if(ko(this.checkDateValue(i))&&ko(this.activeIndex))this.selectNextItem(e);else{if("home"===e.action){var o=this.validLiElement(0);n=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o}else if("end"===e.action){o=this.validLiElement(s.length-1,!0);n=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o}else if("down"===e.action)for(var a=0;a<r;a++){if(+i<this.timeCollections[a]){o=this.validLiElement(a);n=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}if(a===r-1){o=this.validLiElement(0);n=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}}else for(a=r-1;a>=0;a--){if(+i>this.timeCollections[a]){o=this.validLiElement(a,!0);n=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}if(0===a){o=this.validLiElement(r-1);n=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(ko(n)?null:new Date(n))}},t.prototype.selectNextItem=function(e){var t=this.validLiElement(0,"down"!==e.action);this.activeIndex=t,this.selectedElement=this.liCollections[t],this.elementValue(new Date(this.timeCollections[t]))},t.prototype.elementValue=function(e){ko(this.checkDateValue(e))||this.checkValue(e)},t.prototype.validLiElement=function(e,t){var i=null,n=ko(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+tN),r=!0;if(n.length)if(t)for(var s=e;s>=0;s--){if(!n[s].classList.contains($I)){i=s;break}0===s&&r&&(e=s=n.length,r=!1)}else for(s=e;s<=n.length-1;s++){if(!n[s].classList.contains($I)){i=s;break}s===n.length-1&&r&&(e=s=-1,r=!1)}return i},t.prototype.keyHandler=function(e){if(!(ko(this.step)||this.step<=0||!ko(this.inputWrapper)&&this.inputWrapper.buttons[0].classList.contains($I))){var t=this.timeCollections.length;if(ko(this.getActiveElement())||0===this.getActiveElement().length)if(this.liCollections.length>0)if(ko(this.value)&&ko(this.activeIndex)){var i=this.validLiElement(0,"down"!==e.action);this.activeIndex=i,this.selectedElement=this.liCollections[i],this.elementValue(new Date(this.timeCollections[i]))}else this.findNextElement(e);else this.findNextElement(e);else{var n=void 0;if(e.keyCode>=37&&e.keyCode<=40){i=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=i=this.activeIndex===t?0:this.activeIndex,this.activeIndex=i=this.activeIndex<0?t-1:this.activeIndex,this.activeIndex=i=this.validLiElement(this.activeIndex,40!==e.keyCode&&39!==e.keyCode),n=ko(this.timeCollections[i])?this.timeCollections[0]:this.timeCollections[i]}else if("home"===e.action){i=this.validLiElement(0);this.activeIndex=i,n=this.timeCollections[i]}else if("end"===e.action){i=this.validLiElement(t-1,!0);this.activeIndex=i,n=this.timeCollections[i]}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(n))}this.isNavigate=!0,this.setHover(this.selectedElement,ZI),this.setActiveDescendant(),this.enableMask&&this.selectInputText(),!this.isPopupOpen()||null===this.selectedElement||e&&"click"===e.type||this.setScrollPosition()}},t.prototype.getCultureTimeObject=function(e,t){return No("main."+t+".dates.calendars.gregorian.timeFormats.short",e)},t.prototype.getCultureDateObject=function(e,t){return No("main."+t+".dates.calendars.gregorian.dateFormats.short",e)},t.prototype.wireListEvents=function(){Oa.add(this.listWrapper,"click",this.onMouseClick,this),La.isDevice||(Oa.add(this.listWrapper,"mouseover",this.onMouseOver,this),Oa.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireListEvents=function(){this.listWrapper&&(Oa.remove(this.listWrapper,"click",this.onMouseClick),La.isDevice||(Oa.remove(this.listWrapper,"mouseover",this.onMouseOver),Oa.remove(this.listWrapper,"mouseout",this.onMouseLeave)))},t.prototype.valueProcess=function(e,t){var i=ko(this.checkDateValue(t))?null:t;+this.prevDate!==+i&&(this.initValue=i,this.changeEvent(e))},t.prototype.changeEvent=function(e){this.addSelection(),this.updateInput(!0,this.initValue);var t={event:e||null,value:this.value,text:this.inputElement.value,isInteracted:!ko(e),element:this.element};t.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",t),this.invalidValueString=null,this.checkErrorState(this.value)},t.prototype.updateInput=function(e,t){e&&(this.prevValue=this.getValue(t)),this.prevDate=this.valueWithMinutes=t,"number"===typeof t&&(this.value&&+new Date(+this.value).setMilliseconds(0))===+t||(this.setProperties({value:t},!0),this.enableMask&&this.value&&this.createMask()),!this.strictMode&&ko(this.value)&&this.invalidValueString&&(this.checkErrorState(this.invalidValueString),this.updateInputValue(this.invalidValueString)),this.clearIconState()},t.prototype.setActiveDescendant=function(){!ko(this.selectedElement)&&this.value?Ga(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")}):this.inputElement.removeAttribute("aria-activedescendant")},t.prototype.removeSelection=function(){if(this.removeHover(JI),!ko(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+XI);e.length&&(Ba(e,XI),e[0].removeAttribute("aria-selected"))}},t.prototype.removeHover=function(e){var t=this.getHoverItem(e);t&&t.length&&(Ba(t,e),e===ZI&&t[0].removeAttribute("aria-selected"))},t.prototype.getHoverItem=function(e){var t;return ko(this.popupWrapper)||(t=this.popupWrapper.querySelectorAll("."+e)),t},t.prototype.setActiveClass=function(){if(!ko(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+tN);if(e.length)for(var t=0;t<e.length;t++)if(this.timeCollections[t]===+this.getDateObject(this.valueWithMinutes)){e[t].setAttribute("aria-selected","true"),this.selectedElement=e[t],this.activeIndex=t;break}}},t.prototype.addSelection=function(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),ko(this.selectedElement)||(Fa([this.selectedElement],XI),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.isValidLI=function(e){return e&&e.classList.contains(tN)&&!e.classList.contains($I)},t.prototype.createDateObj=function(e){var t=this.globalize.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),i=null;return"string"===typeof e?e.toUpperCase().indexOf("AM")>-1||e.toUpperCase().indexOf("PM")>-1?(t=this.defaultCulture.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),ko(i=isNaN(+new Date(t+" "+e))?null:new Date(new Date(t+" "+e).setMilliseconds(0)))&&(i=this.timeParse(t,e))):i=this.timeParse(t,e):e instanceof Date&&(i=e),i},t.prototype.timeParse=function(e,t){var i;return i=ko(i=this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}))?this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):i,i=ko(i)?i:new Date(i.setMilliseconds(0))},t.prototype.createListItems=function(){var e,t=this;this.listWrapper=this.createElement("div",{className:"e-content",attrs:{tabindex:"-1"}});var i=6e4*this.step,n=[];this.timeCollections=[],this.disableItemCollection=[],e=+this.getDateObject(this.initMin).setMilliseconds(0);for(var r=+this.getDateObject(this.initMax).setMilliseconds(0);r>=e;)this.timeCollections.push(e),n.push(this.globalize.formatDate(new Date(e),{format:this.cldrTimeFormat(),type:"time"})),e+=i;var s={itemCreated:function(e){var i={element:e.item,text:e.text,value:t.getDateObject(e.text),isDisabled:!1};t.trigger("itemRender",i,(function(e){e.isDisabled&&e.element.classList.add($I),e.element.classList.contains($I)&&t.disableItemCollection.push(e.element.getAttribute("data-value"))}))}};this.listTag=rp.createList(this.createElement,n,s,!0),Ga(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options",tabindex:"0"}),Wa([this.listTag],this.listWrapper)},t.prototype.documentClickHandler=function(e){var t=e.target;ko(this.popupObj)||ko(this.inputWrapper)||!(this.inputWrapper.container.contains(t)&&"mousedown"!==e.type||this.popupObj.element&&this.popupObj.element.contains(t))||"touchstart"===e.type||e.preventDefault(),Za(t,'[id="'+this.popupObj.element.id+'"]')||t===this.inputElement||t===(this.inputWrapper&&this.inputWrapper.buttons[0])||t===(this.inputWrapper&&this.inputWrapper.clearButton)||t===(this.inputWrapper&&this.inputWrapper.container)||t.classList.contains("e-dlg-overlay")?t!==this.inputElement&&(La.isDevice||(this.isPreventBlur=(La.isIE||"edge"===La.info.name)&&document.activeElement===this.inputElement&&t===this.popupWrapper)):this.isPopupOpen()&&(this.hide(),this.focusOut())},t.prototype.setEnableRtl=function(){Ou.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},t.prototype.setEnable=function(){Ou.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?(Ba([this.inputWrapper.container],$I),Ga(this.inputElement,{"aria-disabled":"false"}),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.hide(),Fa([this.inputWrapper.container],$I),Ga(this.inputElement,{"aria-disabled":"true"}),this.inputElement.tabIndex=-1)},t.prototype.getProperty=function(e,t){"min"===t?(this.initMin=this.checkDateValue(new Date(this.checkInValue(e.min))),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(this.checkInValue(e.max))),this.setProperties({max:this.initMax},!0)),""===this.inputElement.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)},t.prototype.inputBlurHandler=function(e){if(this.enabled)if(this.isPreventBlur&&this.isPopupOpen())this.inputElement.focus();else{this.closePopup(0,e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&(this.inputElement.value!==this.maskedDateValue||this.value||"Auto"!==this.floatLabelType&&"Never"!==this.floatLabelType&&!this.placeholder||this.updateInputValue("")),Ba([this.inputWrapper.container],[eN]);var t={model:this};this.trigger("blur",t),this.getText()!==this.inputElement.value?this.updateValue(this.inputElement.value,e):0===this.inputElement.value.trim().length&&this.resetState(),this.cursorDetails=null,this.isNavigate=!1,""===this.inputElement.value&&(this.invalidValueString=null)}},t.prototype.focusOut=function(){if(document.activeElement===this.inputElement){this.inputElement.blur(),Ba([this.inputWrapper.container],[eN]);var e={model:this};this.trigger("blur",e)}},t.prototype.isPopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+KI))},t.prototype.inputFocusHandler=function(){if(this.enabled){var e={model:this};this.readonly||La.isDevice||this.enableMask||this.selectInputText(),this.enableMask&&!this.inputElement.value&&this.placeholder&&(!this.maskedDateValue||this.value||"Auto"!==this.floatLabelType&&"Never"!==this.floatLabelType&&!this.placeholder||(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length)),this.trigger("focus",e),this.clearIconState(),this.openOnFocus&&this.show()}},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},t.prototype.hide=function(){this.closePopup(100,null),this.clearIconState()},t.prototype.show=function(e){var t=this;if(!(this.enabled&&this.readonly||!this.enabled||this.popupWrapper)){this.popupCreation(),La.isDevice&&this.listWrapper&&(this.modal=this.createElement("div"),this.modal.className=KI+" e-time-modal",document.body.className+=" "+iN,document.body.appendChild(this.modal)),La.isDevice&&(this.mobileTimePopupWrap=this.createElement("div",{className:"e-timepicker-mob-popup-wrap"}),document.body.appendChild(this.mobileTimePopupWrap)),this.openPopupEventArgs={popup:this.popupObj||null,cancel:!1,event:e||null,name:"open",appendTo:La.isDevice?this.mobileTimePopupWrap:document.body};var i=this.openPopupEventArgs;if(this.trigger("open",i,(function(e){if(t.openPopupEventArgs=e,t.openPopupEventArgs.cancel||t.inputWrapper.buttons[0].classList.contains($I))t.popupObj.destroy(),t.popupWrapper=t.listTag=void 0,t.liCollections=t.timeCollections=t.disableItemCollection=[],t.popupObj=null;else{t.openPopupEventArgs.appendTo.appendChild(t.popupWrapper),t.popupAlignment(t.openPopupEventArgs),t.setScrollPosition(),La.isDevice||t.inputElement.focus();var i={name:"FadeIn",duration:50};t.popupObj.refreshPosition(t.anchor),1e3===t.zIndex?t.popupObj.show(new _l(i),t.element):t.popupObj.show(new _l(i),null),t.setActiveDescendant(),Ga(t.inputElement,{"aria-expanded":"true"}),Ga(t.inputElement,{"aria-owns":t.inputElement.id+"_options"}),Fa([t.inputWrapper.container],eN),Oa.add(document,"mousedown touchstart",t.documentClickHandler,t),t.setOverlayIndex(t.mobileTimePopupWrap,t.popupObj.element,t.modal,La.isDevice)}})),La.isDevice){var n=this.createElement("div",{className:"e-dlg-overlay"});n.style.zIndex=(this.zIndex-1).toString(),this.mobileTimePopupWrap.appendChild(n)}}},t.prototype.setOverlayIndex=function(e,t,i,n){if(n&&!ko(t)&&!ko(i)&&!ko(e)){var r=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;i.style.zIndex=(r-1).toString(),e.style.zIndex=r.toString()}},t.prototype.formatValues=function(e){var t;return"number"===typeof e?t=Fo(e):"string"===typeof e&&(t=e.match(/px|%|em/)||isNaN(parseInt(e,10))?e:Fo(e)),t},t.prototype.popupAlignment=function(e){if(e.popup.position.X=this.formatValues(e.popup.position.X),e.popup.position.Y=this.formatValues(e.popup.position.Y),isNaN(parseFloat(e.popup.position.X))&&isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.targetType="container"),isNaN(parseFloat(e.popup.position.X))||(this.popupObj.offsetX=parseFloat(e.popup.position.X)),isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.offsetY=parseFloat(e.popup.position.Y)),La.isDevice)"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.offsetY=0,this.popupObj.targetType="container",this.popupObj.collision={X:"fit",Y:"fit"});else{switch(e.popup.position.X){case"left":break;case"right":e.popup.offsetX=this.containerStyle.width;break;case"center":e.popup.offsetX=-this.containerStyle.width/2}switch(e.popup.position.Y){case"top":case"bottom":break;case"center":e.popup.offsetY=-this.containerStyle.height/2}"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.inputWrapper.container,this.anchor=this.inputElement,this.popupObj.targetType="relative")}},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.getModuleName=function(){return"timepicker"},t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];switch(r){case"placeholder":Ou.setPlaceholder(e.placeholder,this.inputElement);break;case"readonly":Ou.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide(),this.setTimeAllowEdit();break;case"enabled":this.setProperties({enabled:e.enabled},!0),this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"min":case"max":this.getProperty(e,r);break;case"showClearButton":Ou.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new va(this.locale),this.l10n.setLocale(this.locale),this.updatePlaceHolder(),this.setValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"width":$a(this.inputWrapper.container,{width:this.setWidth(e.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),Ou.calculateWidth(this.inputElement,this.inputWrapper.container),ko(this.inputWrapper.buttons[0])||ko(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"format":this.setProperties({format:e.format},!0),this.checkTimeFormat(),this.setValue(this.value),this.enableMask&&(this.createMask(),this.value||this.updateInputValue(this.maskedDateValue));break;case"value":this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.invalidValueString?(this.updateInputValue(this.invalidValueString),this.checkErrorState(this.invalidValueString)):("string"===typeof e.value?(this.setProperties({value:this.checkDateValue(new Date(e.value))},!0),e.value=this.value):(e.value&&+new Date(+e.value).setMilliseconds(0))!==+this.value&&(e.value=this.checkDateValue(new Date(""+e.value))),this.initValue=e.value,e.value=this.compareFormatChange(this.checkValue(e.value))),this.enableMask&&ko(e.value)&&(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.checkValueChange(null,!1),this.isPopupOpen()&&this.setScrollPosition(),this.isAngular&&this.preventChange&&(this.preventChange=!1),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"floatLabelType":this.floatLabelType=e.floatLabelType,Ou.removeFloating(this.inputWrapper),Ou.addFloating(this.inputElement,this.floatLabelType,this.placeholder),ko(this.inputWrapper.buttons[0])||ko(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"strictMode":this.invalidValueString=null,e.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:e.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1);break;case"scrollTo":this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue)):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("")}}},t.prototype.checkInValue=function(e){return e instanceof Date?e.toUTCString():""+e},HI([fl(null)],t.prototype,"width",void 0),HI([fl(null)],t.prototype,"cssClass",void 0),HI([fl(!1)],t.prototype,"strictMode",void 0),HI([fl(null)],t.prototype,"keyConfigs",void 0),HI([fl(null)],t.prototype,"format",void 0),HI([fl(!0)],t.prototype,"enabled",void 0),HI([fl(!1)],t.prototype,"fullScreenMode",void 0),HI([fl(!1)],t.prototype,"readonly",void 0),HI([fl({})],t.prototype,"htmlAttributes",void 0),HI([fl("Never")],t.prototype,"floatLabelType",void 0),HI([fl(null)],t.prototype,"placeholder",void 0),HI([fl(1e3)],t.prototype,"zIndex",void 0),HI([fl(!1)],t.prototype,"enablePersistence",void 0),HI([fl(!0)],t.prototype,"showClearButton",void 0),HI([fl(30)],t.prototype,"step",void 0),HI([fl(null)],t.prototype,"scrollTo",void 0),HI([fl(null)],t.prototype,"value",void 0),HI([fl(null)],t.prototype,"min",void 0),HI([fl(null)],t.prototype,"max",void 0),HI([fl(!0)],t.prototype,"allowEdit",void 0),HI([fl(!1)],t.prototype,"openOnFocus",void 0),HI([fl(!1)],t.prototype,"enableMask",void 0),HI([fl({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),HI([fl(null)],t.prototype,"serverTimezoneOffset",void 0),HI([yl()],t.prototype,"change",void 0),HI([yl()],t.prototype,"created",void 0),HI([yl()],t.prototype,"destroyed",void 0),HI([yl()],t.prototype,"open",void 0),HI([yl()],t.prototype,"itemRender",void 0),HI([yl()],t.prototype,"close",void 0),HI([yl()],t.prototype,"cleared",void 0),HI([yl()],t.prototype,"blur",void 0),HI([yl()],t.prototype,"focus",void 0),t=HI([vl],t)}(Xl);var sN=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),oN=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},aN=(new Date).getDate(),lN=(new Date).getMonth(),hN=(new Date).getFullYear(),cN=(new Date).getHours(),uN=(new Date).getMinutes(),pN=(new Date).getSeconds(),dN=(new Date).getMilliseconds(),fN="e-datetimepicker",gN="e-datetimepopup-wrapper",mN="e-popup",yN="e-input-focus",vN="250px",bN="e-icon-anim",MN="e-disabled",SN="e-error",wN="e-active",_N="e-hover",IN="e-list-item",NN="e-time-overflow",CN=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.valueWithMinutes=null,n.scrollInvoked=!1,n.moduleName=n.getModuleName(),n.dateTimeOptions=t,n}return sN(t,e),t.prototype.focusHandler=function(){this.enabled&&Fa([this.inputWrapper.container],yN)},t.prototype.focusIn=function(){e.prototype.focusIn.call(this)},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),Ba([this.inputWrapper.container],[yN]))},t.prototype.blurHandler=function(e){if(this.enabled)if(this.isTimePopupOpen()&&this.isPreventBlur)this.inputElement.focus();else{Ba([this.inputWrapper.container],yN);var t={model:this};this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",t)}},t.prototype.destroy=function(){this.popupObject&&this.popupObject.element.classList.contains(mN)&&(this.popupObject.destroy(),Qa(this.dateTimeWrapper),this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],ko(this.rippleFn)||this.rippleFn());this.inputElement&&Ou.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-expanded":"false",role:"combobox",autocomplete:"off"},this.inputElement),this.isCalendar()&&(this.popupWrapper&&Qa(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),this.liCollections=null,this.rippleFn=null,this.selectedElement=null,this.listTag=null,this.timeIcon=null,this.popupObject=null,this.preventArgs=null,this.keyboardModule=null,e.prototype.destroy.call(this)},t.prototype.render=function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,"string"===typeof this.min&&(this.min=this.checkDateValue(new Date(this.min))),"string"===typeof this.max&&(this.max=this.checkDateValue(new Date(this.max))),!ko(Za(this.element,"fieldset"))&&Za(this.element,"fieldset").disabled&&(this.enabled=!1),e.prototype.updateHtmlAttributeToElement.call(this),this.checkAttributes(!1);var t={placeholder:this.placeholder};this.l10n=new ch("datetimepicker",t,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),e.prototype.render.call(this),this.createInputElement(),e.prototype.updateHtmlAttributeToWrapper.call(this),this.bindInputEvents(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.setValue(!0),!this.enableMask||this.value||!this.maskedDateValue||"Always"!==this.floatLabelType&&this.floatLabelType&&this.placeholder||Ou.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(this.scrollTo)))},!0),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"===this.element.tagName&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1)),"Auto"===this.floatLabelType&&Ou.calculateWidth(this.inputElement,this.inputWrapper.container),ko(this.inputWrapper.buttons[0])||ko(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon"),this.renderComplete()},t.prototype.setValue=function(t){if(void 0===t&&(t=!1),this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){var i=this.validateMinMaxRange(this.initValue);Ou.setValue(this.getFormattedValue(i),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:i},!0)}else ko(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,e.prototype.updateInput.call(this,t)},t.prototype.validateMinMaxRange=function(e){var t=e;return this.isDateObject(e)?t=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(t),t},t.prototype.checkValidState=function(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()},t.prototype.checkErrorState=function(){this.isValidState?Ba([this.inputWrapper.container],SN):Fa([this.inputWrapper.container],SN),Ga(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})},t.prototype.validateValue=function(e){var t=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),t=this.max):+e<+this.min?t=this.min:+e>+this.max&&(t=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),t=e),t},t.prototype.disablePopupButton=function(e){e?(Fa([this.inputWrapper.buttons[0],this.timeIcon],MN),this.hide()):Ba([this.inputWrapper.buttons[0],this.timeIcon],MN)},t.prototype.getFormattedValue=function(e){var t;return ko(e)?null:(t="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(e,t))},t.prototype.isDateObject=function(e){return!ko(e)&&!isNaN(+e)},t.prototype.createInputElement=function(){Ba([this.inputElement],"e-datepicker"),Ba([this.inputWrapper.container],"e-date-wrapper"),Fa([this.inputWrapper.container],"e-datetime-wrapper"),Fa([this.inputElement],fN),this.renderTimeIcon()},t.prototype.renderTimeIcon=function(){this.timeIcon=Ou.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)},t.prototype.bindInputEvents=function(){Oa.add(this.timeIcon,"mousedown",this.timeHandler,this),Oa.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),Oa.add(this.inputElement,"blur",this.blurHandler,this),Oa.add(this.inputElement,"focus",this.focusHandler,this),this.defaultKeyConfigs=Eo(this.defaultKeyConfigs,this.keyConfigs),this.keyboardHandler=new hh(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.unBindInputEvents=function(){Oa.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),Oa.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(Oa.remove(this.inputElement,"blur",this.blurHandler),Oa.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()},t.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?No("timeFormats.short",Ma()):this.getCultureTimeObject(fa,""+this.locale):this.timeFormat},t.prototype.cldrDateTimeFormat=function(){var e=new va(this.locale).getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?e+" "+this.getCldrFormat("time"):this.formatString},t.prototype.getCldrFormat=function(e){return"en"===this.locale||"en-US"===this.locale?No("timeFormats.short",Ma()):this.getCultureTimeObject(fa,""+this.locale)},t.prototype.isNullOrEmpty=function(e){return!!(ko(e)||"string"===typeof e&&""===e.trim())},t.prototype.getCultureTimeObject=function(e,t){return"Gregorian"===this.calendarMode?No("main."+this.locale+".dates.calendars.gregorian.timeFormats.short",e):No("main."+this.locale+".dates.calendars.islamic.timeFormats.short",e)},t.prototype.timeHandler=function(t){this.enabled&&(this.isIconClicked=!0,La.isDevice&&this.inputElement.setAttribute("readonly",""),t.currentTarget===this.timeIcon&&t.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&e.prototype.hide.call(this,t),this.isTimePopupOpen()?this.closePopup(t):(this.inputElement.focus(),this.popupCreation("time",t),Fa([this.inputWrapper.container],[yN]))),this.isIconClicked=!1)},t.prototype.dateHandler=function(e){this.enabled&&(e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),ko(this.popupWrapper)||this.popupCreation("date",e)))},t.prototype.show=function(t,i){this.enabled&&this.readonly||!this.enabled||("time"!==t||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(i),e.prototype.show.call(this),this.popupCreation("date",i)):(this.isDatePopupOpen()&&this.hide(i),this.popupCreation("time",i)))},t.prototype.toggle=function(t){this.isDatePopupOpen()?(e.prototype.hide.call(this,t),this.show("time",null)):this.isTimePopupOpen()?(this.hide(t),e.prototype.show.call(this,null,t),this.popupCreation("date",null)):this.show(null,t)},t.prototype.listCreation=function(){var e;e="Gregorian"===this.calendarMode?this.globalize.parseDate(this.inputElement.value,{format:this.cldrDateTimeFormat(),type:"datetime"}):this.globalize.parseDate(this.inputElement.value,{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});var t=ko(this.value)?""!==this.inputElement.value?e:new Date:this.value;this.valueWithMinutes=t,this.listWrapper=Ra("div",{className:"e-content",attrs:{tabindex:"0"}});var i=this.startTime(t),n=this.endTime(t),r=U_.createListItems(this.createElement,i,n,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=r.collection,this.listTag=r.list,Ga(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),Wa([r.list],this.listWrapper),this.wireTimeListEvents();var s={duration:300,selector:"."+IN};this.rippleFn=Il(this.listWrapper,s),this.liCollections=this.listWrapper.querySelectorAll("."+IN)},t.prototype.popupCreation=function(e,t){if(La.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===e)!this.readonly&&this.popupWrapper&&(Fa([this.popupWrapper],gN),Ga(this.popupWrapper,{id:this.element.id+"_datepopup"}));else if(!this.readonly&&(this.dateTimeWrapper=Ra("div",{className:fN+" "+mN,attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),ko(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!ko(this.step)&&this.step>0&&(this.listCreation(),Wa([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(t),(!La.isDevice||La.isDevice&&!this.fullScreenMode)&&this.popupObject.refreshPosition(this.inputElement),La.isDevice&&this.fullScreenMode&&(this.dateTimeWrapper.style.left="0px"),La.isDevice)){var i=this.createElement("div",{className:"e-dlg-overlay"});i.style.zIndex=(this.zIndex-1).toString(),this.timeModal.appendChild(i)}},t.prototype.openPopup=function(e){var t=this;this.preventArgs={cancel:!1,popup:this.popupObject,event:e||null};var i=this.preventArgs;this.trigger("open",i,(function(e){if(t.preventArgs=e,!t.preventArgs.cancel&&!t.readonly){var i={name:"FadeIn",duration:100};1e3===t.zIndex?t.popupObject.show(new _l(i),t.element):t.popupObject.show(new _l(i),null),Fa([t.inputWrapper.container],[bN]),Ga(t.inputElement,{"aria-expanded":"true"}),Ga(t.inputElement,{"aria-owns":t.inputElement.id+"_options"}),Oa.add(document,"mousedown touchstart",t.documentClickHandler,t)}}))},t.prototype.documentClickHandler=function(e){var t=e.target;!ko(this.popupObject)&&(this.inputWrapper.container.contains(t)&&"mousedown"!==e.type||this.popupObject.element&&this.popupObject.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),Za(t,'[id="'+(this.popupObject&&this.popupObject.element.id+'"]'))||t===this.inputElement||t===this.timeIcon||ko(this.inputWrapper)||t===this.inputWrapper.container||t.classList.contains("e-dlg-overlay")?t!==this.inputElement&&(La.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(La.isIE||"edge"===La.info.name)&&t===this.popupObject.element)):this.isTimePopupOpen()&&(this.hide(e),this.focusOut())},t.prototype.isTimePopupOpen=function(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains(""+fN))},t.prototype.isDatePopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+gN))},t.prototype.renderPopup=function(){var e=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),La.isDevice&&(this.timeModal=Ra("div"),this.timeModal.className=fN+" e-time-modal",document.body.className+=" "+NN,this.timeModal.style.display="block",document.body.appendChild(this.timeModal));if(this.popupObject=new ku(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:La.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:La.isDevice?document.body:this.inputWrapper.container,position:La.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:function(){e.dateTimeWrapper.style.visibility="visible",Fa([e.timeIcon],wN),La.isDevice||(e.timekeyConfigure=Eo(e.timekeyConfigure,e.keyConfigs),e.inputEvent=new hh(e.inputWrapper.container,{keyAction:e.timeKeyActionHandle.bind(e),keyConfigs:e.timekeyConfigure,eventName:"keydown"}))},close:function(){Ba([e.timeIcon],wN),e.unWireTimeListEvents(),e.inputElement.removeAttribute("aria-activedescendant"),qa(e.popupObject.element),e.popupObject.destroy(),e.dateTimeWrapper.innerHTML="",e.listWrapper=e.dateTimeWrapper=void 0,e.inputEvent&&e.inputEvent.destroy()},targetExitViewport:function(){La.isDevice||e.hide()}}),La.isDevice&&this.fullScreenMode?(this.popupObject.element.style.display="flex",this.popupObject.element.style.maxHeight="100%",this.popupObject.element.style.width="100%"):this.popupObject.element.style.maxHeight=vN,La.isDevice&&this.fullScreenMode){var t=Ra("div",{className:"e-datetime-mob-popup-wrap"}),i=this.createElement("div",{className:"e-model-header"}),n=this.createElement("span",{className:"e-model-title"});n.textContent="Select time";var r=this.createElement("span",{className:"e-popup-close"});Oa.add(r,"mousedown touchstart",this.dateTimeCloseHandler,this);var s=this.dateTimeWrapper.querySelector(".e-content");i.appendChild(r),i.appendChild(n),t.appendChild(i),t.appendChild(s),this.dateTimeWrapper.insertBefore(t,this.dateTimeWrapper.firstElementChild)}},t.prototype.dateTimeCloseHandler=function(e){this.hide()},t.prototype.setDimension=function(e){return"number"===typeof e?e=Fo(e):"string"===typeof e||(e="100%"),e},t.prototype.setPopupWidth=function(){var e=this.setDimension(this.width);e.indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px");return e},t.prototype.wireTimeListEvents=function(){Oa.add(this.listWrapper,"click",this.onMouseClick,this),La.isDevice||(Oa.add(this.listWrapper,"mouseover",this.onMouseOver,this),Oa.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireTimeListEvents=function(){this.listWrapper&&(Oa.remove(this.listWrapper,"click",this.onMouseClick),Oa.remove(document,"mousedown touchstart",this.documentClickHandler),La.isDevice||(Oa.add(this.listWrapper,"mouseover",this.onMouseOver,this),Oa.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))},t.prototype.onMouseOver=function(e){var t=Za(e.target,"."+IN);this.setTimeHover(t,_N)},t.prototype.onMouseLeave=function(){this.removeTimeHover(_N)},t.prototype.setTimeHover=function(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeTimeHover(t),Fa([e],t))},t.prototype.getPopupHeight=function(){var e=parseInt(vN,10),t=this.dateTimeWrapper.getBoundingClientRect().height;return La.isDevice&&this.fullScreenMode?t:t>e?e:t},t.prototype.changeEvent=function(t){e.prototype.changeEvent.call(this,t),(this.value&&this.value.valueOf())!==(this.previousDateTime&&+this.previousDateTime.valueOf())&&(this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))},t.prototype.updateValue=function(e){this.setInputValue("time"),+this.previousDateTime!==+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!ko(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.previousDate=this.value)},t.prototype.setTimeScrollPosition=function(){var e=this.selectedElement;ko(e)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},t.prototype.findScrollTop=function(e){var t=this.getPopupHeight(),i=e.nextElementSibling,n=i?i.offsetTop:e.offsetTop,r=e.getBoundingClientRect().height;n+e.offsetTop>t?La.isDevice&&this.fullScreenMode?this.dateTimeWrapper.querySelector(".e-content").scrollTop=i?n-(t/2+r/2):n:this.dateTimeWrapper.scrollTop=i?n-(t/2+r/2):n:this.dateTimeWrapper.scrollTop=0},t.prototype.setScrollTo=function(){var e,t=this.dateTimeWrapper.querySelectorAll("."+IN);if(t.length>=0){this.scrollInvoked=!0;var i=this.timeCollections[0],n=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((n-i)/(6e4*this.step))]}else this.dateTimeWrapper.scrollTop=0;ko(e)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(e)},t.prototype.setInputValue=function(e){if("date"===e)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{var t=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));Ou.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0),this.enableMask&&this.createMask()}this.updateIconState()},t.prototype.getFullDateTime=function(){var e=null;return e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(e)},t.prototype.createMask=function(){this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.combineDateTime=function(e){if(this.isDateObject(e)){var t=this.previousDate.getDate(),i=this.previousDate.getMonth(),n=this.previousDate.getFullYear(),r=e.getHours(),s=e.getMinutes(),o=e.getSeconds();return new Date(n,i,t,r,s,o)}return this.previousDate},t.prototype.onMouseClick=function(e){var t=e.target,i=this.selectedElement=Za(t,"."+IN);i&&i.classList.contains(IN)&&(this.timeValue=i.getAttribute("data-value"),this.hide(e)),this.setSelection(i,e)},t.prototype.setSelection=function(e,t){if(this.isValidLI(e)&&!e.classList.contains(wN)){this.selectedElement=e;var i=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=i,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),Fa([this.selectedElement],wN),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(t)}},t.prototype.setTimeActiveClass=function(){var e=ko(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!ko(e)){var t=e.querySelectorAll("."+IN);if(t.length)for(var i=0;i<t.length;i++)if(this.timeCollections[i]===+this.valueWithMinutes){t[i].setAttribute("aria-selected","true"),this.selectedElement=t[i],this.activeIndex=i,this.setTimeActiveDescendant();break}}},t.prototype.setTimeActiveDescendant=function(){!ko(this.selectedElement)&&this.value?Ga(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")}):this.inputElement.removeAttribute("aria-activedescendant")},t.prototype.addTimeSelection=function(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),ko(this.selectedElement)||(Fa([this.selectedElement],wN),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.removeTimeSelection=function(){if(this.removeTimeHover(_N),!ko(this.dateTimeWrapper)){var e=this.dateTimeWrapper.querySelectorAll("."+wN);e.length&&(Ba(e,wN),e[0].removeAttribute("aria-selected"))}},t.prototype.removeTimeHover=function(e){var t=this.getTimeHoverItem(e);t&&t.length&&Ba(t,e)},t.prototype.getTimeHoverItem=function(e){var t,i=ko(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;return ko(i)||(t=i.querySelectorAll("."+e)),t},t.prototype.isValidLI=function(e){return e&&e.classList.contains(IN)&&!e.classList.contains(MN)},t.prototype.calculateStartEnd=function(e,t,i){var n=e.getDate(),r=e.getMonth(),s=e.getFullYear(),o=e.getHours(),a=e.getMinutes(),l=e.getSeconds(),h=e.getMilliseconds();return t?"starttime"===i?new Date(s,r,n,0,0,0):new Date(s,r,n,23,59,59):new Date(s,r,n,o,a,l,h)},t.prototype.startTime=function(e){var t,i,n=this.min,r=null===e?new Date:e;return+r.getDate()===+n.getDate()&&+r.getMonth()===+n.getMonth()&&+r.getFullYear()===+n.getFullYear()||+new Date(r.getFullYear(),r.getMonth(),r.getDate())<=+new Date(n.getFullYear(),n.getMonth(),n.getDate())?(i=!1,t=this.min):+r<+this.max&&+r>+this.min?(i=!0,t=r):+r>=+this.max&&(i=!0,t=this.max),this.calculateStartEnd(t,i,"starttime")},t.prototype.endTime=function(e){var t,i,n=this.max,r=null===e?new Date:e;return+r.getDate()===+n.getDate()&&+r.getMonth()===+n.getMonth()&&+r.getFullYear()===+n.getFullYear()||+new Date(r.getUTCFullYear(),r.getMonth(),r.getDate())>=+new Date(n.getFullYear(),n.getMonth(),n.getDate())?(i=!1,t=this.max):+r<+this.max&&+r>+this.min?(i=!0,t=r):+r<=+this.min&&(i=!0,t=this.min),this.calculateStartEnd(t,i,"endtime")},t.prototype.hide=function(e){var t=this;if(this.popupObj||this.dateTimeWrapper){this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:e||null};var i=this.preventArgs;ko(this.popupObj)?this.trigger("close",i,(function(i){t.dateTimeCloseEventCallback(e,i)})):this.dateTimeCloseEventCallback(e,i)}else La.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.dateTimeCloseEventCallback=function(t,i){this.preventArgs=i,this.preventArgs.cancel||(this.isDatePopupOpen()?e.prototype.hide.call(this,t):this.isTimePopupOpen()&&(this.closePopup(t),Ba([document.body],NN),La.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())),La.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.closePopup=function(e){if(this.isTimePopupOpen()&&this.popupObject){var t={name:"FadeOut",duration:100,delay:0};this.popupObject.hide(new _l(t)),this.inputWrapper.container.classList.remove(bN),Ga(this.inputElement,{"aria-expanded":"false"}),this.inputElement.removeAttribute("aria-owns"),Oa.remove(document,"mousedown touchstart",this.documentClickHandler)}},t.prototype.preRender=function(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),e.prototype.preRender.call(this),Ba([this.inputElementCopy],[fN])},t.prototype.getProperty=function(e,t){"min"===t?this.setProperties({min:this.validateValue(e.min)},!0):this.setProperties({max:this.validateValue(e.max)},!0)},t.prototype.checkAttributes=function(e){for(var t,i=0,n=e?ko(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["style","name","step","disabled","readonly","value","min","max","placeholder","type"];i<n.length;i++){var r=n[i];if(!ko(this.inputElement.getAttribute(r)))switch(r){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(r));break;case"step":this.step=parseInt(this.inputElement.getAttribute(r),10);break;case"readonly":if(ko(this.dateTimeOptions)||void 0===this.dateTimeOptions.readonly||e){var s="disabled"===this.inputElement.getAttribute(r)||""===this.inputElement.getAttribute(r)||"true"===this.inputElement.getAttribute(r);this.setProperties({readonly:s},!e)}break;case"placeholder":(ko(this.dateTimeOptions)||void 0===this.dateTimeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(r)},!e);break;case"min":(ko(this.dateTimeOptions)||void 0===this.dateTimeOptions.min||e)&&(t=new Date(this.inputElement.getAttribute(r)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({min:t},!e));break;case"disabled":if(ko(this.dateTimeOptions)||void 0===this.dateTimeOptions.enabled||e){var o="disabled"!==this.inputElement.getAttribute(r)&&"true"!==this.inputElement.getAttribute(r)&&""!==this.inputElement.getAttribute(r);this.setProperties({enabled:o},!e)}break;case"value":(ko(this.dateTimeOptions)||void 0===this.dateTimeOptions.value||e)&&(t=new Date(this.inputElement.getAttribute(r)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({value:t},!e));break;case"max":(ko(this.dateTimeOptions)||void 0===this.dateTimeOptions.max||e)&&(t=new Date(this.inputElement.getAttribute(r)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({max:t},!e))}}},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push(this.maskedDateModule()),e},t.prototype.maskedDateModule=function(){return{args:[this],member:"MaskedDateTime"}},t.prototype.getTimeActiveElement=function(){return ko(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll("."+wN)},t.prototype.createDateObj=function(e){return e instanceof Date?e:null},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var t=this.createDateObj(e),i=this.valueWithMinutes,n=!ko(i);if(this.checkDateValue(t)){var r=n?i.getDate():aN,s=n?i.getMonth():lN,o=n?i.getFullYear():hN,a=n?i.getHours():cN,l=n?i.getMinutes():uN,h=n?i.getSeconds():pN,c=n?i.getMilliseconds():dN;return this.scrollInvoked?(this.scrollInvoked=!1,new Date(o,s,r,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())):new Date(o,s,r,a,l,h,c)}}return null},t.prototype.findNextTimeElement=function(e){var t=this.inputElement.value,i=ko(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),n=null,r=this.liCollections.length;if(!ko(this.activeIndex)||!ko(this.checkDateValue(i))){if("home"===e.action)n=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)n=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(var s=0;s<r;s++)if(+i<this.timeCollections[s]){n=+this.createDateObj(new Date(this.timeCollections[s])),this.activeIndex=s;break}}else for(s=r-1;s>=0;s--)if(+i>this.timeCollections[s]){n=+this.createDateObj(new Date(this.timeCollections[s])),this.activeIndex=s;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(ko(n)?null:new Date(n))}},t.prototype.setTimeValue=function(e,t){var i,n,r=this.validateMinMaxRange(t),s=this.createDateObj(r);return this.getFormattedValue(s)!==(ko(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=ko(s)?null:s,n=new Date(+this.valueWithMinutes)):(this.strictMode&&(e=s),this.valueWithMinutes=this.checkDateValue(e),n=new Date(+this.valueWithMinutes)),i="Gregorian"===this.calendarMode?this.globalize.formatDate(n,{format:ko(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(n,{format:ko(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),!this.strictMode&&ko(n),Ou.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton),n},t.prototype.timeElementValue=function(e){if(!ko(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){var t=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(t,e)}return null},t.prototype.timeKeyHandler=function(e){if(!(ko(this.step)||this.step<=0)){var t=this.timeCollections.length;if(ko(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(ko(this.value)&&ko(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{var i=void 0;if(e.keyCode>=37&&e.keyCode<=40){var n=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=this.activeIndex===t?0:this.activeIndex,this.activeIndex=n=this.activeIndex<0?t-1:this.activeIndex,i=ko(this.timeCollections[n])?this.timeCollections[0]:this.timeCollections[n]}else"home"===e.action?(this.activeIndex=0,i=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=t-1,i=this.timeCollections[t-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(i))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),!this.isTimePopupOpen()||null===this.selectedElement||e&&"click"===e.type||this.setTimeScrollPosition()}},t.prototype.timeKeyActionHandle=function(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!==+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),Fa([this.inputWrapper.container],yN),this.isNavigate=!1,e.stopPropagation();break;case"escape":this.hide(e);break;default:this.isNavigate=!1}},t.prototype.inputKeyAction=function(e){if("altDownArrow"===e.action)this.strictModeUpdate(),this.updateInput(),this.toggle(e)},t.prototype.onPropertyChanged=function(t,i){for(var n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];switch(s){case"value":this.isDynamicValueChanged=!0,this.invalidValueString=null,this.checkInvalidValue(t.value),t.value=this.value,t.value=this.validateValue(t.value),this.enableMask?Ou.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton):Ou.setValue(this.getFormattedValue(t.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=t.value,this.setProperties({value:t.value},!0),this.popupObj&&this.popupUpdate(),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.value&&this.notify("createMask",{module:"MaskedDateTime"});break;case"min":case"max":this.getProperty(t,s),this.updateInput();break;case"enableRtl":Ou.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":ko(i.cssClass)||(i.cssClass=i.cssClass.replace(/\s+/g," ").trim()),ko(t.cssClass)||(t.cssClass=t.cssClass.replace(/\s+/g," ").trim()),Ou.setCssClass(t.cssClass,[this.inputWrapper.container],i.cssClass),this.dateTimeWrapper&&Ou.setCssClass(t.cssClass,[this.dateTimeWrapper],i.cssClass);break;case"locale":this.globalize=new va(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),Ou.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),e.prototype.updateInput.call(this);break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"format":this.setProperties({format:t.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||Ou.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;case"placeholder":Ou.setPlaceholder(t.placeholder,this.inputElement);break;case"enabled":Ou.setEnabled(this.enabled,this.inputElement),this.enabled||(this.inputElement.tabIndex=-1);break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(t.width),Ou.calculateWidth(this.inputElement,this.inputWrapper.container),ko(this.inputWrapper.buttons[0])||ko(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon");break;case"readonly":Ou.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=t.floatLabelType,Ou.removeFloating(this.inputWrapper),Ou.addFloating(this.inputElement,this.floatLabelType,this.placeholder),ko(this.inputWrapper.buttons[0])||ko(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon");break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(t.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(t.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),Ou.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton)):this.inputElement.value===this.maskedDateValue&&(this.maskedDateValue="",Ou.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;default:e.prototype.onPropertyChanged.call(this,t,i)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}},t.prototype.getModuleName=function(){return"datetimepicker"},t.prototype.restoreValue=function(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=ko(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)},oN([fl(null)],t.prototype,"timeFormat",void 0),oN([fl(30)],t.prototype,"step",void 0),oN([fl(null)],t.prototype,"scrollTo",void 0),oN([fl(1e3)],t.prototype,"zIndex",void 0),oN([fl(null)],t.prototype,"value",void 0),oN([fl(null)],t.prototype,"keyConfigs",void 0),oN([fl({})],t.prototype,"htmlAttributes",void 0),oN([fl(!1)],t.prototype,"enablePersistence",void 0),oN([fl(!0)],t.prototype,"allowEdit",void 0),oN([fl(!1)],t.prototype,"isMultiSelection",void 0),oN([fl(null)],t.prototype,"values",void 0),oN([fl(!0)],t.prototype,"showClearButton",void 0),oN([fl(null)],t.prototype,"placeholder",void 0),oN([fl(!1)],t.prototype,"strictMode",void 0),oN([fl(!1)],t.prototype,"fullScreenMode",void 0),oN([fl(null)],t.prototype,"serverTimezoneOffset",void 0),oN([fl(new Date(1900,0,1))],t.prototype,"min",void 0),oN([fl(new Date(2099,11,31))],t.prototype,"max",void 0),oN([fl(null)],t.prototype,"firstDayOfWeek",void 0),oN([fl("Gregorian")],t.prototype,"calendarMode",void 0),oN([fl("Month")],t.prototype,"start",void 0),oN([fl("Month")],t.prototype,"depth",void 0),oN([fl(!1)],t.prototype,"weekNumber",void 0),oN([fl(!0)],t.prototype,"showTodayButton",void 0),oN([fl("Short")],t.prototype,"dayHeaderFormat",void 0),oN([fl(!1)],t.prototype,"openOnFocus",void 0),oN([fl(!1)],t.prototype,"enableMask",void 0),oN([fl({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),oN([yl()],t.prototype,"open",void 0),oN([yl()],t.prototype,"close",void 0),oN([yl()],t.prototype,"cleared",void 0),oN([yl()],t.prototype,"blur",void 0),oN([yl()],t.prototype,"focus",void 0),oN([yl()],t.prototype,"created",void 0),oN([yl()],t.prototype,"destroyed",void 0),t=oN([vl],t)}(VI),xN=function(){function e(e,t,i){this.dpOpen=this.openPopup.bind(this),this.parent=e,this.locator=t,this.fltrSettings=i,this.parent&&(this.parent.on(Nm,this.destroy,this),this.parent.on(sm,this.destroy,this))}return e.prototype.create=function(e){var t=Av(e.column.format,e.column.type);this.dialogObj=e.dialogObj,this.inputElem=this.parent.createElement("input",{className:"e-flmenu-input",id:"dateui-"+e.column.uid}),e.target.appendChild(this.inputElem),"date"===e.column.type||"dateonly"===e.column.type?this.datePickerObj=new VI(Eo({format:t,cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",placeholder:e.localizeText.getConstant("ChooseDate"),width:"100%",locale:this.parent.locale,enableRtl:this.parent.enableRtl},e.column.filter.params)):"datetime"===e.column.type&&(this.datePickerObj=new CN(Eo({format:t,cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",placeholder:e.localizeText.getConstant("ChooseDate"),width:"100%",locale:this.parent.locale,enableRtl:this.parent.enableRtl},e.column.filter.params))),this.datePickerObj.addEventListener(ky,this.dpOpen),this.datePickerObj.appendTo(this.inputElem)},e.prototype.write=function(e){document.querySelector("#dateui-"+e.column.uid).ej2_instances[0].value=ko(e.filteredValue)?null:new Date(e.filteredValue)},e.prototype.read=function(e,t,i,n){var r=document.querySelector("#dateui-"+t.uid).ej2_instances[0].value;r=ko(r)?null:r,n.filterByColumn(t.field,i,r,"and",!0)},e.prototype.openPopup=function(e){e.popup.element.style.zIndex=(this.dialogObj.zIndex+1).toString()},e.prototype.destroy=function(){this.parent.off(Nm,this.destroy),this.parent.off(sm,this.destroy),ko(this.datePickerObj)||this.datePickerObj.isDestroyed||(this.datePickerObj.removeEventListener(ky,this.dpOpen),this.datePickerObj.destroy())},e}(),DN=function(){function e(e,t,i,n,r){this.isDialogOpen=!1,this.maxHeight="350px",this.isMenuCheck=!1,this.colTypes={string:W_,number:nI,date:xN,dateonly:xN,boolean:rI,datetime:xN},this.parent=e,this.filterSettings=t,this.serviceLocator=i,this.customFilterOperators=n,this.filterObj=r,this.flMuiObj=new O_(this.parent,this.customFilterOperators,this.serviceLocator),this.l10n=this.serviceLocator.getService("localization"),this.menuFilterBase=new jM(e)}return e.prototype.clearCustomFilter=function(e){this.clearBtnClick(e)},e.prototype.applyCustomFilter=function(e){this.filterBtnClick(e.col)},e.prototype.openDialog=function(e){this.options=e,this.col=this.parent.getColumnByField(e.field),(ko(this.col.filter)||ko(this.col.filter.type)||"Menu"===this.col.filter.type)&&this.renderDlgContent(e.target,this.col)},e.prototype.closeDialog=function(e){if(this.dlgObj){(this.parent.isReact||this.parent.isVue)&&ib(this.parent,["filterTemplate"]);var t=document.getElementById(this.dlgObj.element.id);if(this.dlgObj&&!this.dlgObj.isDestroyed&&t){var i={cancel:!1,column:this.col,target:e,element:t};if(this.parent.notify(Nm,i),i.cancel)return;this.isDialogOpen=!1,this.isMenuCheck&&(this.menuFilterBase.unWireEvents(),this.parent.off(Vm,this.actionComplete),this.isMenuCheck=!1),this.dlgObj.destroy(),qa(t)}this.parent.notify(Xm,{})}},e.prototype.renderDlgContent=function(e,t){var i={requestType:Fg,columnName:t.field,columnType:t.type};i.filterModel=this,this.parent.trigger(vg,i);var n=this.parent.createElement("div",{className:"e-flmenu-maindiv",id:t.uid+"-flmenu"});(this.dlgDiv=this.parent.createElement("div",{className:"e-flmenu",id:t.uid+"-flmdlg"}),this.dlgDiv.setAttribute("aria-label",this.l10n.getConstant("FilterMenuDialogARIA")),this.parent.enableAdaptiveUI)?document.querySelector(".e-resfilter > .e-dlg-content > .e-mainfilterdiv").appendChild(this.dlgDiv):this.parent.element.appendChild(this.dlgDiv);this.dlgObj=new AM({showCloseIcon:!1,closeOnEscape:!1,locale:this.parent.locale,visible:!1,enableRtl:this.parent.enableRtl,created:this.dialogCreated.bind(this,e,t),position:this.parent.element.classList.contains("e-device")?{X:"center",Y:"center"}:{X:"",Y:""},target:this.parent.element.classList.contains("e-device")?document.body:this.parent.element,buttons:[{click:this.filterBtnClick.bind(this,t),buttonModel:{content:this.l10n.getConstant("FilterButton"),isPrimary:!0,cssClass:this.parent.cssClass?"e-flmenu-okbtn "+this.parent.cssClass:"e-flmenu-okbtn"}},{click:this.clearBtnClick.bind(this,t),buttonModel:{content:this.l10n.getConstant("ClearButton"),cssClass:this.parent.cssClass?"e-flmenu-cancelbtn "+this.parent.cssClass:"e-flmenu-cancelbtn"}}],content:n,width:!ko(Jy(e,"e-bigger"))||this.parent.element.classList.contains("e-device")?260:250,animationSettings:{effect:"None"},cssClass:this.parent.cssClass?"e-filter-popup "+this.parent.cssClass:"e-filter-popup"});this.dlgObj.isStringTemplate=!0,this.renderResponsiveDialog(),this.dlgObj.appendTo(this.dlgDiv)},e.prototype.renderResponsiveDialog=function(){this.parent.enableAdaptiveUI&&(this.dlgObj.position={X:"",Y:""},this.dlgObj.target=document.querySelector(".e-resfilter > .e-dlg-content > .e-mainfilterdiv"),this.dlgObj.width="100%",this.dlgObj.isModal=!1,this.dlgObj.buttons=[{}])},e.prototype.dialogCreated=function(e,t){!La.isDevice&&e&&bv(e,this.dlgObj),this.currentDialogCreatedColumn=t,this.renderFilterUI(e,t),t.isForeignColumn()&&(ko(t.filter)||ko(t.filter.ui)||ko(t.filter.ui.create))||this.afterRenderFilterUI()},e.prototype.afterRenderFilterUI=function(){var e=this.currentDialogCreatedColumn;e.showColumnMenu&&this.parent.notify(Im,{}),this.parent.enableAdaptiveUI?(this.dlgObj.element.style.left="0px",this.dlgObj.element.style.maxHeight="none"):this.dlgObj.element.style.maxHeight=this.maxHeight,this.dlgObj.show();var t=this.dlgObj.element.querySelector(".e-flm_optrdiv").querySelector("input"),i=this.dlgObj.element.querySelector(".e-flmenu-valuediv").querySelector("input");"Empty"===t.value||"Not Empty"===t.value||"Null"===t.value||"Not Null"===t.value?i.ej2_instances[0].enabled=!1:ko(i&&i.getAttribute("disabled"))||(i.ej2_instances[0].enabled=!0),e.filterTemplate||this.writeMethod(e,this.dlgObj.element.querySelector("#"+e.uid+"-flmenu"));var n={requestType:Rg,columnName:e.field,columnType:e.type};n.filterModel=this,this.isDialogOpen=!0,this.isMenuCheck||this.parent.trigger(bg,n)},e.prototype.renderFilterUI=function(e,t){var i=this.dlgObj.element.querySelector(".e-flmenu-maindiv");this.parent.log("column_type_missing",{column:t}),this.renderOperatorUI(i,e,t),this.renderFlValueUI(i,e,t)},e.prototype.renderOperatorUI=function(e,t,i){this.flMuiObj.renderOperatorUI(e,t,i,this.dlgObj,this.filterObj.menuOperator)},e.prototype.renderFlValueUI=function(e,t,i){var n=this.parent.createElement("div",{className:"e-flmenu-valuediv"}),r=this.filterObj;e.appendChild(n);var s=new this.colTypes[i.type](this.parent,this.serviceLocator,this.parent.filterSettings);if(i.filterTemplate){var o={};o[i.field]=o.value=r.values[i.field],i.foreignKeyValue&&(o[i.foreignKeyValue]=r.values[i.field],o[i.field]=void 0);o.column=i;var a=this.parent.isReact&&"string"!==typeof i.filterTemplate,l=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,h=this.parent.element.id+i.uid+"filterTemplate";if(a||l)i.getFilterTemplate()(o,this.parent,"filterTemplate",h,null,null,n),this.parent.renderTemplates();else iv(n,i.getFilterTemplate()(o,this.parent,"filterTemplate",h));this.isMenuCheck&&(this.menuFilterBase.cBox=this.dlgObj.element.querySelector(".e-checkboxlist.e-fields"),this.menuFilterBase.wireEvents(),this.parent.on(Vm,this.actionComplete,this),this.menuFilterBase.getAllData())}else if(ko(i.filter)||ko(i.filter.ui)||ko(i.filter.ui.create))s.create({column:i,target:n,getOptrInstance:this.flMuiObj,localizeText:this.l10n,dialogObj:this.dlgObj});else{var c=i.filter.ui.create;"string"===typeof c&&(c=No(c,window)),c({column:i,target:n,getOptrInstance:this.flMuiObj,dialogObj:this.dlgObj})}},e.prototype.writeMethod=function(e,t){for(var i,n=t.querySelector(".e-flmenu-valinput"),r=new this.colTypes[e.type](this.parent,this.serviceLocator,this.parent.filterSettings),s=0,o=this.filterSettings.columns;s<o.length;s++){var a=o[s];e.uid===a.uid&&(i=a.value)}if(ko(e.filter)||ko(e.filter.ui)||ko(e.filter.ui.write))r.write({column:e,target:n,parent:this.parent,filteredValue:i});else{var l=e.filter.ui.write;"string"===typeof l&&(l=No(l,window)),l({column:e,target:n,parent:this.parent,filteredValue:i})}},e.prototype.filterBtnClick=function(e){var t=this.dlgObj.element.querySelector(".e-flmenu-valuediv input"),i=this.flMuiObj.getFlOperator(),n=new this.colTypes[e.type](this.parent,this.serviceLocator,this.parent.filterSettings);if(e.filterTemplate){var r=this.dlgDiv.querySelector(".e-flmenu-valuediv"),s=void 0;if(r.children[0].value)s=r.children[0].value;else if(ko(r.children[0].ej2_instances)){var o=r.querySelector(".e-control");ko(o)||(s="boolean"===e.type?o.checked:ko(o.ej2_instances)?o.value:o.ej2_instances[0].value)}else s=(this.parent.isAngular?r.children[0]:r.querySelector("input")).ej2_instances[0].value;this.filterObj.filterByColumn(e.field,i,s)}else if(ko(e.filter)||ko(e.filter.ui)||ko(e.filter.ui.read))n.read(t,e,i,this.filterObj);else{var a=e.filter.ui.read;"string"===typeof a&&(a=No(a,window)),a({element:t,column:e,operator:i,fltrObj:this.filterObj})}this.closeDialog(),this.parent.showColumnMenu&&this.parent.notify(ly,{})},e.prototype.closeResponsiveDialog=function(){this.closeDialog()},e.prototype.clearBtnClick=function(e){this.filterObj.removeFilteredColsByField(e.field),this.closeDialog()},e.prototype.destroy=function(){this.closeDialog()},e.prototype.getFilterUIInfo=function(){return{field:this.col.field,operator:this.flMuiObj.getFlOperator()}},e.prototype.renderCheckBoxMenu=function(){return this.isMenuCheck=!0,this.menuFilterBase.updateModel(this.options),this.menuFilterBase.getAndSetChkElem(this.options),this.dlgObj.buttons=[{click:this.menuFilterBase.btnClick.bind(this.menuFilterBase),buttonModel:{content:this.menuFilterBase.getLocalizedLabel("FilterButton"),cssClass:"e-primary",isPrimary:!0}},{click:this.menuFilterBase.btnClick.bind(this.menuFilterBase),buttonModel:{cssClass:"e-flat",content:this.menuFilterBase.getLocalizedLabel("ClearButton")}}],this.menuFilterBase.dialogObj=this.dlgObj,this.menuFilterBase.dlg=this.dlgObj.element,this.menuFilterBase.dlg.classList.add("e-menucheckbox"),this.menuFilterBase.dlg.classList.remove("e-checkboxfilter"),this.maxHeight="800px",this.menuFilterBase.sBox.innerHTML},e.prototype.actionComplete=function(e){this.isMenuCheck&&this.parent.trigger(bg,e)},e}(),TN=function(){function e(e,t,i){this.parent=e,this.isresetFocus=!0,this.checkBoxBase=new jM(e),this.addEventListener()}return e.prototype.destroy=function(){this.removeEventListener(),this.checkBoxBase.closeDialog()},e.prototype.openDialog=function(e){this.checkBoxBase.openDialog(e),this.parent.log("column_type_missing",{column:e.column})},e.prototype.closeDialog=function(){this.destroy(),this.isresetFocus&&this.parent.notify(Hm,{})},e.prototype.closeResponsiveDialog=function(){this.checkBoxBase.closeDialog()},e.prototype.getModuleName=function(){return"checkboxFilter"},e.prototype.actionBegin=function(e){this.parent.trigger(vg,e)},e.prototype.actionComplete=function(e){this.parent.trigger(bg,e)},e.prototype.actionPrevent=function(e){gv(this.parent)&&(this.parent.notify(ym,e),e.cancel=!0)},e.prototype.clearCustomFilter=function(e){this.checkBoxBase.clearFilter(e)},e.prototype.applyCustomFilter=function(){this.checkBoxBase.fltrBtnHandler(),this.checkBoxBase.closeDialog()},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Bm,this.actionBegin,this),this.parent.on(Vm,this.actionComplete,this),this.parent.on(Um,this.actionPrevent,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Bm,this.actionBegin),this.parent.off(Vm,this.actionComplete),this.parent.off(Um,this.actionPrevent))},e}(),AN=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),jN=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},EN="e-label",kN="e-ripple-container",zN="e-rtl",LN="e-radio-wrapper",ON=["title","class","style","disabled","readonly","name","value"],PN=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.isFocused=!1,n}var i;return AN(t,e),i=t,t.prototype.changeHandler=function(e){this.checked=!0,this.dataBind();var t=this.element.getAttribute("value");t=this.isVue&&t?this.element.value:this.value;var i=typeof this.value;this.isVue&&"boolean"===i&&(t="true"===t),this.trigger("change",{value:t,event:e}),this.isAngular&&e.stopPropagation()},t.prototype.updateChange=function(){for(var e,t,n=this.getRadioGroup(),r=0;r<n.length;r++)(e=n[r])!==this.element&&((t=Vo(e,i)).checked=!1,"EJS-RADIOBUTTON"===this.tagName&&(t.angularValue=this.value))},t.prototype.destroy=function(){var t=this,i=this.wrapper;e.prototype.destroy.call(this),i&&(this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(i.parentNode&&i.parentNode.insertBefore(this.element,i),Qa(i),this.element.checked=!1,["name","value","disabled"].forEach((function(e){t.element.removeAttribute(e)}))):(["role","aria-checked","class"].forEach((function(e){i.removeAttribute(e)})),i.innerHTML=""))},t.prototype.focusHandler=function(){this.isFocused=!0},t.prototype.focusOutHandler=function(){var e=this.getLabel();e&&e.classList.remove("e-focus")},t.prototype.getModuleName=function(){return"radio"},t.prototype.getSelectedValue=function(){for(var e,t=this.getRadioGroup(),i=0,n=t.length;i<n;i++)if((e=t[i]).checked)return e.value;return""},t.prototype.getRadioGroup=function(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')},t.prototype.getPersistData=function(){return this.addOnPersist(["checked"])},t.prototype.getWrapper=function(){return this.element?this.element.parentElement:null},t.prototype.getLabel=function(){return this.element?this.element.nextElementSibling:null},t.prototype.initialize=function(){ko(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.updateHtmlAttribute(),this.name&&this.element.setAttribute("name",this.name);var e=this.element.getAttribute("value"),t=typeof this.value;this.isVue&&"boolean"===t&&(e="true"===e),(this.isVue?this.value&&"boolean"!==t&&!e:this.value)&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var e,t=this.element.parentElement;t.classList.contains(LN)||(t=this.createElement("div",{className:LN}),this.element.parentNode.insertBefore(t,this.element));var i=this.createElement("label",{attrs:{for:this.element.id}});t.appendChild(this.element),t.appendChild(i),jl&&(e=this.createElement("span",{className:kN}),i.appendChild(e),Il(e,{duration:400,isCenterRipple:!0})),t.classList.add("e-wrapper"),this.enableRtl&&i.classList.add(zN),this.cssClass&&Fa([t],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.label&&this.setText(this.label)},t.prototype.keyUpHandler=function(){this.isFocused&&this.getLabel().classList.add("e-focus")},t.prototype.labelMouseDownHandler=function(e){ab(e,this.getLabel().getElementsByClassName(kN)[0])},t.prototype.labelMouseLeaveHandler=function(e){var t=this.getLabel().getElementsByClassName(kN)[0];if(t){for(var i=t.querySelectorAll(".e-ripple-element").length-1;i>0;i--)t.removeChild(t.childNodes[i]);ab(e,t)}},t.prototype.labelMouseUpHandler=function(e){var t=this.getLabel().getElementsByClassName(kN)[0];if(t){for(var i=t.querySelectorAll(".e-ripple-element").length-1;i>0;i--)t.removeChild(t.childNodes[i]);ab(e,t)}},t.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&Ga(this.element,{checked:"true"})},t.prototype.onPropertyChanged=function(e,t){for(var i=this.getWrapper(),n=this.getLabel(),r=0,s=Object.keys(e);r<s.length;r++){switch(s[r]){case"checked":e.checked&&this.updateChange(),this.element.checked=e.checked;break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":t.cssClass&&Ba([i],t.cssClass.split(" ")),e.cssClass&&Fa([i],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?n.classList.add(zN):n.classList.remove(zN);break;case"label":this.setText(e.label);break;case"labelPosition":"Before"===e.labelPosition?n.classList.add("e-right"):n.classList.remove("e-right");break;case"name":this.element.setAttribute("name",e.name);break;case"value":var o=typeof this.htmlAttributes.value;if(!ko(this.htmlAttributes)&&(this.htmlAttributes.value||"boolean"===o&&!this.htmlAttributes.value))break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttribute()}}},t.prototype.preRender=function(){var e=this.element;if(this.formElement=Za(this.element,"form"),this.tagName=this.element.tagName,e=rb(this.createElement,"EJS-RADIOBUTTON","radio",e,LN),this.element=e,"radio"!==this.element.getAttribute("type")&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=Lo("e-"+this.getModuleName())),"EJS-RADIOBUTTON"===this.tagName){var t=this.element.getAttribute("formcontrolname");t&&(this.setProperties({name:t},!0),this.element.setAttribute("name",t))}},t.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete(),this.wrapper=this.getWrapper()},t.prototype.setDisabled=function(){this.element.disabled=!0},t.prototype.setText=function(e){var t=this.getLabel(),i=t.getElementsByClassName(EN)[0];i?i.textContent=e:(e=this.enableHtmlSanitizer?$h.sanitize(e):e,i=this.createElement("span",{className:EN,innerHTML:e}),t.appendChild(i)),"Before"===this.labelPosition?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")},t.prototype.updateHtmlAttribute=function(){if(!ko(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e],n=this.element.parentElement;ON.indexOf(i)>-1?"class"===i?Fa([n],this.htmlAttributes[""+i].replace(/\s+/g," ").trim().split(" ")):"title"===i||"style"===i?n.setAttribute(i,this.htmlAttributes[""+i]):this.element.setAttribute(i,this.htmlAttributes[""+i]):n.setAttribute(i,this.htmlAttributes[""+i])}},t.prototype.unWireEvents=function(){var e=this.wrapper;Oa.remove(this.element,"change",this.changeHandler),Oa.remove(this.element,"focus",this.focusHandler),Oa.remove(this.element,"focusout",this.focusOutHandler),Oa.remove(this.element,"keyup",this.keyUpHandler);var t=e.getElementsByTagName("label")[0];t&&(Oa.remove(t,"mousedown",this.labelMouseDownHandler),Oa.remove(t,"mouseup",this.labelMouseUpHandler),Oa.remove(t,"mouseleave",this.labelMouseLeaveHandler)),this.formElement&&Oa.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.wireEvents=function(){var e=this.getLabel();Oa.add(this.element,"change",this.changeHandler,this),Oa.add(this.element,"keyup",this.keyUpHandler,this),Oa.add(this.element,"focus",this.focusHandler,this),Oa.add(this.element,"focusout",this.focusOutHandler,this);var t=e.getElementsByClassName(EN)[0];t&&(Oa.add(t,"mousedown",this.labelMouseDownHandler,this),Oa.add(t,"mouseup",this.labelMouseUpHandler,this),Oa.add(t,"mouseleave",this.labelMouseLeaveHandler,this)),this.formElement&&Oa.add(this.formElement,"reset",this.formResetHandler,this)},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},jN([yl()],t.prototype,"change",void 0),jN([yl()],t.prototype,"created",void 0),jN([fl(!1)],t.prototype,"checked",void 0),jN([fl("")],t.prototype,"cssClass",void 0),jN([fl(!1)],t.prototype,"disabled",void 0),jN([fl("")],t.prototype,"label",void 0),jN([fl("After")],t.prototype,"labelPosition",void 0),jN([fl("")],t.prototype,"name",void 0),jN([fl("")],t.prototype,"value",void 0),jN([fl(!1)],t.prototype,"enableHtmlSanitizer",void 0),jN([fl({})],t.prototype,"htmlAttributes",void 0),t=i=jN([vl],t)}(Xl),RN=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),FN=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},BN="e-check",VN="e-checkbox-disabled",UN="e-frame",HN="e-stop",WN="e-label",YN="e-ripple-container",QN="e-ripple-check",qN="e-ripple-stop",GN="e-rtl",KN="e-checkbox-wrapper",XN=["title","class","style","disabled","readonly","name","value"],JN=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.isFocused=!1,n.isMouseClick=!1,n.clickTriggered=!1,n.validCheck=!0,n}return RN(t,e),t.prototype.changeState=function(e,t){var i,n=this.getWrapper().getElementsByClassName(UN)[0];jl&&(i=this.getWrapper().getElementsByClassName(YN)[0]),"check"===e?(n&&(n.classList.remove(HN),n.classList.add(BN)),i&&(i.classList.remove(qN),i.classList.add(QN)),this.element.checked=!0,(this.element.required||Za(this.element,"form")&&Za(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!t?(this.element.checked=!1,this.validCheck=!1):(this.element.required||Za(this.element,"form")&&Za(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):"uncheck"===e?(n&&Ba([n],[BN,HN]),i&&Ba([i],[QN,qN]),this.element.checked=!1,(this.element.required||Za(this.element,"form")&&Za(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!t?(this.element.checked=!0,this.validCheck=!1):(this.element.required||Za(this.element,"form")&&Za(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):(n&&(n.classList.remove(BN),n.classList.add(HN)),i&&(i.classList.remove(QN),i.classList.add(qN)),this.element.indeterminate=!0,this.indeterminate=!0)},t.prototype.clickHandler=function(e){if("INPUT"===e.target.tagName&&this.clickTriggered)return this.isVue&&this.changeState(this.checked?"check":"uncheck"),void(this.clickTriggered=!1);"SPAN"!==e.target.tagName&&"LABEL"!==e.target.tagName||(this.clickTriggered=!0),this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0);var t={checked:this.updateVueArrayModel(!1),event:e};this.trigger("change",t),e.stopPropagation()},t.prototype.destroy=function(){var t=this,i=this.getWrapper();e.prototype.destroy.call(this),this.wrapper&&(i=this.wrapper,this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(this.getWrapper()&&i.parentNode&&i.parentNode.insertBefore(this.element,i),Qa(i),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach((function(e){t.element.removeAttribute(e)}))):(["class"].forEach((function(e){i.removeAttribute(e)})),i.innerHTML=""))},t.prototype.focusHandler=function(){this.isFocused=!0},t.prototype.focusOutHandler=function(){var e=this.getWrapper();e&&e.classList.remove("e-focus"),this.isFocused=!1},t.prototype.getModuleName=function(){return"checkbox"},t.prototype.getPersistData=function(){return this.addOnPersist(["checked","indeterminate"])},t.prototype.getWrapper=function(){return this.element&&this.element.parentElement?this.element.parentElement.parentElement:null},t.prototype.initialize=function(){ko(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&(this.element.setAttribute("value",this.value),this.isVue&&"boolean"===typeof this.value&&!0===this.value&&this.setProperties({checked:!0},!0)),this.checked&&this.changeState("check",!0),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var e=this.element.parentElement;e.classList.contains(KN)||(e=this.createElement("div",{className:KN}),this.element.parentNode.insertBefore(e,this.element));var t=this.createElement("label",{attrs:{for:this.element.id}}),i=this.createElement("span",{className:"e-icons "+UN});if(e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(GN),this.cssClass&&Fa([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),e.appendChild(t),t.appendChild(this.element),function(e,t){e.element.getAttribute("ejs-for")&&t.appendChild(e.createElement("input",{attrs:{name:e.name||e.element.name,value:"false",type:"hidden"}}))}(this,t),t.appendChild(i),jl){var n=this.createElement("span",{className:YN});"Before"===this.labelPosition?t.appendChild(n):t.insertBefore(n,i),Il(n,{duration:400,isCenterRipple:!0})}this.label&&this.setText(this.label)},t.prototype.keyUpHandler=function(){this.isFocused&&this.getWrapper().classList.add("e-focus")},t.prototype.labelMouseDownHandler=function(e){this.isMouseClick=!0,ab(e,this.getWrapper().getElementsByClassName(YN)[0])},t.prototype.labelMouseUpHandler=function(e){this.isMouseClick=!0;var t=this.getWrapper().getElementsByClassName(YN)[0];if(t){for(var i=t.querySelectorAll(".e-ripple-element"),n=0;n<i.length-1;n++)t.removeChild(t.childNodes[n]);ab(e,t)}},t.prototype.onPropertyChanged=function(e,t){for(var i=this.getWrapper(),n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(e.checked?"check":"uncheck");break;case"indeterminate":e.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":e.disabled?(this.setDisabled(),this.wrapper=this.getWrapper(),this.unWireEvents()):(this.element.disabled=!1,i.classList.remove(VN),i.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":t.cssClass&&Ba([i],t.cssClass.split(" ")),e.cssClass&&Fa([i],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?i.classList.add(GN):i.classList.remove(GN);break;case"label":this.setText(e.label);break;case"labelPosition":var s=i.getElementsByClassName(WN)[0],o=i.getElementsByTagName("label")[0];Qa(s),"After"===e.labelPosition?o.appendChild(s):o.insertBefore(s,i.getElementsByClassName(UN)[0]);break;case"name":this.element.setAttribute("name",e.name);break;case"value":if(this.isVue&&"object"===typeof e.value)break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper()}}},t.prototype.preRender=function(){var e=this.element;this.tagName=this.element.tagName,e=rb(this.createElement,"EJS-CHECKBOX","checkbox",e,KN),this.element=e,"checkbox"!==this.element.getAttribute("type")&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=Lo("e-"+this.getModuleName()))},t.prototype.render=function(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.updateVueArrayModel(!0),this.renderComplete(),this.wrapper=this.getWrapper()},t.prototype.setDisabled=function(){var e=this.getWrapper();this.element.disabled=!0,e.classList.add(VN),e.setAttribute("aria-disabled","true")},t.prototype.setText=function(e){var t=this.getWrapper();if(t){var i=t.getElementsByClassName(WN)[0];if(i)i.textContent=e;else{e=this.enableHtmlSanitizer?$h.sanitize(e):e,i=this.createElement("span",{className:WN,innerHTML:e});var n=t.getElementsByTagName("label")[0];"Before"===this.labelPosition?n.insertBefore(i,t.getElementsByClassName(UN)[0]):n.appendChild(i)}}},t.prototype.changeHandler=function(e){e.stopPropagation()},t.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue},t.prototype.unWireEvents=function(){var e=this.wrapper;Oa.remove(e,"click",this.clickHandler),Oa.remove(this.element,"keyup",this.keyUpHandler),Oa.remove(this.element,"focus",this.focusHandler),Oa.remove(this.element,"focusout",this.focusOutHandler);var t=e.getElementsByTagName("label")[0];Oa.remove(t,"mousedown",this.labelMouseDownHandler),Oa.remove(t,"mouseup",this.labelMouseUpHandler);var i=Za(this.element,"form");i&&Oa.remove(i,"reset",this.formResetHandler),"EJS-CHECKBOX"===this.tagName&&Oa.remove(this.element,"change",this.changeHandler)},t.prototype.wireEvents=function(){var e=this.getWrapper();Oa.add(e,"click",this.clickHandler,this),Oa.add(this.element,"keyup",this.keyUpHandler,this),Oa.add(this.element,"focus",this.focusHandler,this),Oa.add(this.element,"focusout",this.focusOutHandler,this);var t=e.getElementsByTagName("label")[0];Oa.add(t,"mousedown",this.labelMouseDownHandler,this),Oa.add(t,"mouseup",this.labelMouseUpHandler,this);var i=Za(this.element,"form");i&&Oa.add(i,"reset",this.formResetHandler,this),"EJS-CHECKBOX"===this.tagName&&Oa.add(this.element,"change",this.changeHandler,this)},t.prototype.updateVueArrayModel=function(e){if(this.isVue&&"object"===typeof this.value){var t=this.element.value;if(t&&this.value){if(!e){var i=this.value.indexOf(t);return this.checked?i<0&&this.value.push(t):i>-1&&this.value.splice(i,1),this.value}for(var n=0;n<this.value.length;n++)t===this.value[n]&&(this.changeState("check"),this.setProperties({checked:!0},!0))}}return this.validCheck?this.element.checked:!this.element.checked},t.prototype.updateHtmlAttributeToWrapper=function(){if(!ko(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e],n=this.getWrapper();if(XN.indexOf(i)>-1)if("class"===i)Fa([n],this.htmlAttributes[""+i].split(" "));else if("title"===i)n.setAttribute(i,this.htmlAttributes[""+i]);else if("style"===i){this.getWrapper().getElementsByClassName(UN)[0].setAttribute(i,this.htmlAttributes[""+i])}else"disabled"===i?("true"===this.htmlAttributes[""+i]&&this.setDisabled(),this.element.setAttribute(i,this.htmlAttributes[""+i])):this.element.setAttribute(i,this.htmlAttributes[""+i]);else n.setAttribute(i,this.htmlAttributes[""+i])}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},FN([yl()],t.prototype,"change",void 0),FN([yl()],t.prototype,"created",void 0),FN([fl(!1)],t.prototype,"checked",void 0),FN([fl("")],t.prototype,"cssClass",void 0),FN([fl(!1)],t.prototype,"disabled",void 0),FN([fl(!1)],t.prototype,"indeterminate",void 0),FN([fl("")],t.prototype,"label",void 0),FN([fl("After")],t.prototype,"labelPosition",void 0),FN([fl("")],t.prototype,"name",void 0),FN([fl("")],t.prototype,"value",void 0),FN([fl(!1)],t.prototype,"enableHtmlSanitizer",void 0),FN([fl({})],t.prototype,"htmlAttributes",void 0),t=FN([vl],t)}(Xl);function ZN(e,t,i,n,r,s){var o,a,l=t.parentElement;if("vscroll"===n?(o=s||t.getBoundingClientRect().height,a=i.getBoundingClientRect().height):(o=t.getBoundingClientRect().width,a=i.getBoundingClientRect().width),o<a)return $N(e,t,i,n,r,s);if(l){var h=l.getBoundingClientRect().width;return h<o&&"hscroll"===n?(a=h,t.style.maxWidth=h+"px",$N(e,t,i,n,r,s)):i}return i}function $N(e,t,i,n,r,s){var o=e("div",{className:"e-menu-"+n});return t.appendChild(o),o.appendChild(i),s?(o.style.overflow="hidden",o.style.height=s+"px"):(o.style.maxHeight=t.style.maxHeight,t.style.overflow="hidden"),"vscroll"===n?new Kw({enableRtl:r},o).scrollStep=Ka(".e-"+n+"-bar",t).offsetHeight/2:new zw({enableRtl:r},o).scrollStep=Ka(".e-"+n+"-bar",t).offsetWidth,o}function eC(e,t,i){if(e){var n=Ka(".e-menu-parent",t);n?i&&i!==n||(e.destroy(),t.parentElement.appendChild(n),Qa(t)):(e.destroy(),Qa(t))}}var tC=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),iC=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},nC="enter",rC="escape",sC="e-focused",oC="e-menu-header",aC="e-selected",lC="e-separator",hC="uparrow",cC="downarrow",uC="leftarrow",pC="rightarrow",dC="home",fC="end",gC="tab",mC="e-caret",yC="e-menu-item",vC="e-disabled",bC="e-menu-hide",MC="e-icons",SC="e-rtl",wC="e-menu-popup",_C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tC(t,e),iC([fl("id")],t.prototype,"itemId",void 0),iC([fl("parentId")],t.prototype,"parentId",void 0),iC([fl("text")],t.prototype,"text",void 0),iC([fl("iconCss")],t.prototype,"iconCss",void 0),iC([fl("url")],t.prototype,"url",void 0),iC([fl("separator")],t.prototype,"separator",void 0),iC([fl("items")],t.prototype,"children",void 0),t}(zl),IC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tC(t,e),iC([fl(null)],t.prototype,"iconCss",void 0),iC([fl("")],t.prototype,"id",void 0),iC([fl(!1)],t.prototype,"separator",void 0),iC([ml([],t)],t.prototype,"items",void 0),iC([fl("")],t.prototype,"text",void 0),iC([fl("")],t.prototype,"url",void 0),t}(zl),NC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tC(t,e),iC([fl("SlideDown")],t.prototype,"effect",void 0),iC([fl(400)],t.prototype,"duration",void 0),iC([fl("ease")],t.prototype,"easing",void 0),t}(zl),CC=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.navIdx=[],n.animation=new _l({}),n.isTapHold=!1,n.tempItem=[],n.showSubMenuOn="Auto",n}return tC(t,e),t.prototype.preRender=function(){if(!this.isMenu){var e=void 0;if("EJS-CONTEXTMENU"===this.element.tagName){e=this.createElement("ul",{id:Lo(this.getModuleName()),className:"e-control e-lib e-"+this.getModuleName()});var t=No("ej2_instances",this.element);Ba([this.element],["e-control","e-lib","e-"+this.getModuleName()]),this.clonedElement=this.element,this.element=e,Co("ej2_instances",t,this.element)}else{e=this.createElement("ul",{id:Lo(this.getModuleName())}),Wa([].slice.call(this.element.cloneNode(!0).children),e);var i=this.element.nextElementSibling;i?this.element.parentElement.insertBefore(e,i):this.element.parentElement.appendChild(e),this.clonedElement=e}this.clonedElement.style.display="none"}if("EJS-MENU"===this.element.tagName){for(var n=this.element,r=No("ej2_instances",n),s=(e=this.createElement("ul"),this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"})),o=0,a=n.attributes.length;o<a;o++)e.setAttribute(n.attributes[o].nodeName,n.attributes[o].nodeValue);n.parentNode.insertBefore(s,n),Qa(n),n=e,s.appendChild(n),Co("ej2_instances",r,n),this.clonedElement=s,this.element=n,this.element.id||(this.element.id=Lo(this.getModuleName()))}},t.prototype.render=function(){var e=this;this.initialize(),this.renderItems(),this.wireEvents(),this.renderComplete();var t=this.getWrapper();this.template&&this.enableScrolling&&(this.isReact||this.isAngular)&&requestAnimationFrame((function(){ZN(e.createElement,t,e.element,"hscroll",e.enableRtl)}))},t.prototype.initialize=function(){var e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&Fa([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.enableRtl&&e.classList.add(SC),e.appendChild(this.element),this.isMenu&&this.hamburgerMode&&(this.target||this.createHeaderContainer(e)),this.defaultOption=this.showItemOnClick},t.prototype.renderItems=function(){if(!this.items.length){var e=rp.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:e},!0),Bo()&&!this.isMenu?this.element=this.removeChildElement(this.element):this.element.innerHTML=""}var t=this.createItems(this.items);if(Wa(Array.prototype.slice.call(t.children),this.element),this.element.classList.add("e-menu-parent"),this.isMenu&&(!this.hamburgerMode&&this.element.classList.contains("e-vertical")&&this.setBlankIconStyle(this.element),this.enableScrolling)){var i=this.getWrapper();this.element.classList.contains("e-vertical")?ZN(this.createElement,i,this.element,"vscroll",this.enableRtl):ZN(this.createElement,i,this.element,"hscroll",this.enableRtl)}},t.prototype.wireEvents=function(){var e=this.getWrapper();if(this.target){for(var t=void 0,i=Xa(this.target),n=0,r=i.length;n<r;n++)t=i[n],this.isMenu?Oa.add(t,"click",this.menuHeaderClickHandler,this):La.isIos?new gh(t,{tapHold:this.touchHandler.bind(this)}):Oa.add(t,"contextmenu",this.cmenuHandler,this);if(this.targetElement=t,!this.isMenu){Oa.add(this.targetElement,"mousewheel DOMMouseScroll",this.scrollHandler,this);for(var s=0,o=zu(this.targetElement);s<o.length;s++){var a=o[s];Oa.add(a,"mousewheel DOMMouseScroll",this.scrollHandler,this)}}}La.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),Oa.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),Oa.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),Oa.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=Il(e,{selector:"."+yC})},t.prototype.wireKeyboardEvent=function(e){var t={downarrow:cC,uparrow:hC,enter:nC,leftarrow:uC,rightarrow:pC,escape:rC};this.isMenu&&(t.home=dC,t.end=fC,t.tab=gC),new hh(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:t})},t.prototype.mouseDownHandler=function(e){Za(e.target,".e-"+this.getModuleName()+"-wrapper")===this.getWrapper()||Za(e.target,".e-"+this.getModuleName()+"-popup")||this.closeMenu(this.isMenu?null:this.navIdx.length,e)},t.prototype.keyHandler=function(e){38!==e.keyCode&&40!==e.keyCode||e.target&&(e.target.classList.contains("e-contextmenu")||e.target.classList.contains("e-menu-item"))&&e.preventDefault()},t.prototype.keyBoardHandler=function(e){var t="",i=e.target,n=this.isMenu&&!this.hamburgerMode&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&i.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([sC,aC],[Za(i,".e-"+this.getModuleName()+"-wrapper")]),n)switch(e.action){case pC:t=pC,e.action=cC;break;case uC:t=uC,e.action=hC;break;case cC:t=cC,e.action=pC;break;case hC:t=hC,e.action=""}else if(this.enableRtl)switch(e.action){case uC:n=!0,t=uC,e.action=pC;break;case pC:n=!0,t=pC,e.action=uC}switch(e.action){case cC:case hC:case fC:case dC:case gC:this.upDownKeyHandler(e);break;case pC:this.rightEnterKeyHandler(e);break;case uC:this.leftEscKeyHandler(e);break;case nC:this.hamburgerMode&&"SPAN"===i.tagName&&i.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):this.rightEnterKeyHandler(e);break;case rC:this.leftEscKeyHandler(e)}n&&(e.action=t)},t.prototype.upDownKeyHandler=function(e){var t=this.getUlByNavIdx(),i=e.action===cC||e.action===dC||e.action===gC?0:t.childElementCount-1,n=i,r=this.getLIByClass(t,sC);r&&(e.action!==fC&&e.action!==dC&&(n=this.getIdx(t,r)),r.classList.remove(sC),e.action!==fC&&e.action!==dC&&(e.action===cC?n++:n--,n===(e.action===cC?t.childElementCount:-1)&&(n=i)));var s=t.children[n];n=this.isValidLI(s,n,e.action),t.children[n].classList.add(sC),t.children[n].focus()},t.prototype.isValidLI=function(e,t,i){var n=this.getUlByNavIdx(),r=i===cC||i===dC||i===gC?0:n.childElementCount-1;return(e.classList.contains(lC)||e.classList.contains(vC)||e.classList.contains(bC))&&(i===cC&&t===n.childElementCount-1||i===hC&&0===t?t=r:i===cC||i===pC?t++:t--),((e=n.children[t]).classList.contains(lC)||e.classList.contains(vC)||e.classList.contains(bC))&&(t=this.isValidLI(e,t,i)),t},t.prototype.getUlByNavIdx=function(e){var t=this;if(void 0===e&&(e=this.navIdx.length),this.isMenu){var i=[this.getWrapper()].concat([].slice.call(Xa("."+wC)))[e],n=[];return Xa("."+wC).forEach((function(e){(t.element.id===e.id.split("-")[2]||e.id.split("-")[2]+"-"+e.id.split("-")[3])&&n.push(e)})),ko(i=[this.getWrapper()].concat([].slice.call(n))[e])?null:Ka(".e-menu-parent",i)}return this.getWrapper().children[e]},t.prototype.rightEnterKeyHandler=function(e){var t,i=this.getUlByNavIdx(),n=this.getLIByClass(i,sC);if(n){var r=this.getIdx(i,n),s=this.navIdx.concat(r),o=this.getItem(s);o.items.length?(this.navIdx.push(r),this.keyType="right",this.action=e.action,this.openMenu(n,o,-1,-1,e)):e.action===nC&&(this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([aC],[this.getWrapper()]):n.classList.remove(sC),n.classList.add(aC),t={element:n,item:o,event:e},this.trigger("select",t),this.closeMenu(null,e))}},t.prototype.leftEscKeyHandler=function(e){this.navIdx.length?(this.keyType="left",this.closeMenu(this.navIdx.length,e)):e.action===rC&&this.closeMenu(null,e)},t.prototype.scrollHandler=function(e){this.closeMenu(null,e)},t.prototype.touchHandler=function(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)},t.prototype.cmenuHandler=function(e){e.preventDefault(),this.currentTarget=e.target,this.isCMenu=!0,this.pageX=e.changedTouches?e.changedTouches[0].pageX+1:e.pageX+1,this.pageY=e.changedTouches?e.changedTouches[0].pageY+1:e.pageY+1,this.closeMenu(null,e),this.isCMenu&&(this.canOpen(e.target)&&this.openMenu(null,null,this.pageY,this.pageX,e),this.isCMenu=!1)},t.prototype.closeMenu=function(e,t,i){var n=this;if(void 0===e&&(e=0),void 0===t&&(t=null),this.isMenuVisible()){var r,s,o=void 0,a=this.getWrapper(),l=void 0,h=this.getPopups(),c=!1,u=this.isMenu?h.length+1:a.childElementCount,p=this.isMenu&&1!==u?Ka(".e-ul",h[u-2]):Xa(".e-menu-parent",a)[u-1];if(this.isMenu&&p.classList.contains("e-menu")&&((o=this.getLIByClass(p,aC))&&o.classList.remove(aC),c=!0),!c){var d=t&&t.target&&this.getLI(t.target);this.cli=d||p.children[0],r=this.navIdx.length?this.getItem(this.navIdx):null,s=r?r.items:this.items,l={element:p,parentItem:r,items:s,event:t,cancel:!1,isFocused:!0},this.trigger("beforeClose",l,(function(o){var l,h,c,u,f,g,m="",y=!o.cancel;(y||n.isCMenu)&&(n.isMenu?(l=Za(p,"."+wC),n.hamburgerMode&&(l.parentElement.style.minHeight="",Za(p,".e-menu-item").setAttribute("aria-expanded","false")),n.unWireKeyboardEvent(l),eC(Vo(l.children[0],Kw),l.children[0]),(c=Vo(l,ku)).hide(),m=l.id,c.destroy(),Qa(l)):n.toggleAnimation(p,!1),h={element:p,parentItem:r,items:s},n.trigger("onClose",h),n.navIdx.pop(),n.isMenu||(Oa.remove(p,"keydown",n.keyHandler),"right"===n.keyType&&(n.keyType=""))),n.updateReactTemplate();var v=n.getWrapper()&&n.getUlByNavIdx();n.isCMenu&&(n.canOpen(t.target)&&n.openMenu(null,null,n.pageY,n.pageX,t),n.isCMenu=!1),n.isMenu&&v&&m.length?(u=new RegExp("(.*)-ej2menu-"+n.element.id+"-popup").exec(m)[1],f=v.querySelector('[id="'+u+'"]'),g=d&&v.querySelector('[id="'+d.id+'"]')):v&&(f=v.querySelector(".e-menu-item.e-selected"),g=d&&v.querySelector('[id="'+d.id+'"]'));var b=d&&d.querySelectorAll(".e-menu-item");if(y&&n.hamburgerMode&&e&&!b.length)n.afterCloseMenu(t);else if(y&&!n.hamburgerMode&&f&&!g&&"left"!==n.keyType&&(n.navIdx.length||!n.isMenu&&0===n.navIdx.length)){var M=t&&(t.target.classList.contains("e-vscroll")||t.target.classList.contains("e-scroll-nav"))?Za(t.target,".e-menu-wrapper"):null;M?(M=M.querySelector(".e-menu-item"),(n.showItemOnClick||M&&n.getIndex(M.id,!0).length<=n.navIdx.length)&&n.closeMenu(n.navIdx[n.navIdx.length-1],t,!0)):t&&t.target.classList.contains("e-nav-arrow")||n.closeMenu(n.navIdx[n.navIdx.length-1],t)}else if(y&&!i&&!e&&(n.hamburgerMode&&n.navIdx.length||1===n.navIdx.length&&d&&v!==d.parentElement))n.closeMenu(null,t);else if(y&&ko(e)&&n.navIdx.length)n.closeMenu(null,t);else if(!y||n.isMenu||e||0!==n.navIdx.length||n.isMenusClosed)if(y&&n.isMenu&&t&&t.target&&0!==n.navIdx.length&&Za(t.target,".e-menu-parent.e-control"))n.closeMenu(0,t);else if(y&&!n.isMenu&&Xa(".e-menu-parent",a)[e-1]&&3===t.which)n.closeMenu(null,t);else{if(!y||"right"!==n.keyType&&"click"!==n.keyType){var S=n.getUlByNavIdx(),w=n.getLIByClass(S,aC);if(w&&(w.setAttribute("aria-expanded","false"),w.classList.remove(aC),(o.isFocused&&d||"left"===n.keyType)&&(w.classList.add(sC),t.target&&t.target.classList.contains("e-edit-template")||w.focus())),!y&&n.hamburgerMode&&d&&"false"===d.getAttribute("aria-expanded")&&"true"===d.getAttribute("aria-haspopup")){Za(d,".e-menu-parent.e-control")?n.navIdx=[]:n.navIdx.pop(),n.navIdx.push(n.cliIdx);var _=n.getItem(n.navIdx);d.setAttribute("aria-expanded","true"),n.openMenu(d,_,-1,-1,t)}}else n.afterCloseMenu(t);n.navIdx.length<1&&("Hover"!==n.showSubMenuOn&&"Click"!==n.showSubMenuOn||(n.showItemOnClick=n.defaultOption,n.showSubMenuOn="Auto"))}else n.isMenusClosed=!0,n.closeMenu(0,t);n.removeStateWrapper()}))}}},t.prototype.updateReactTemplate=function(){if(this.isReact&&this.template&&0===this.navIdx.length){var e=this.portals.splice(0,this.items.length);this.clearTemplate(["template"]),this.portals=e,this.renderReactTemplates()}},t.prototype.getMenuItemModel=function(e,t){if(ko(e))return null;ko(t)&&(t=0);var i=this.getFields(t);return{text:e[i.text],id:e[i.id],items:e[i.child],separator:e[i.separator],iconCss:e[i.iconCss],url:e[i.url]}},t.prototype.getPopups=function(){var e=this,t=[];return[].slice.call(document.querySelectorAll("."+wC)).forEach((function(i){!ko(i.querySelector("."+yC))&&e.getIndex(i.querySelector("."+yC).id,!0).length&&t.push(i)})),t},t.prototype.isMenuVisible=function(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&Ua(this.element).valueOf()},t.prototype.canOpen=function(e){var t=!0;if(this.filter){t=!1;for(var i=this.filter.split(" "),n=0,r=i.length;n<r;n++)if(Za(e,"."+i[n])){t=!0;break}}return t},t.prototype.openMenu=function(e,t,i,n,r,s){var o=this;void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=null),void 0===s&&(s=this.targetElement);var a=this.getWrapper();this.lItem=e;var l=""!==this.element.id?this.element.id:"menu";if(this.isMenusClosed=!1,ko(i)&&(i=-1),ko(n)&&(n=-1),e){if(this.uList=this.createItems(t[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&La.isDevice){a.lastChild.style.display="none";var h={text:t[this.getField("text")].toString(),iconCss:MC+" e-previous"},c=new IC(this.items[0],"items",h,!0),u=this.createItems([c]).children[0];u.classList.add(oC),this.uList.insertBefore(u,this.uList.children[0])}this.isMenu?(this.popupWrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+wC,id:e.id+"-ej2menu-"+l+"-popup"}),this.hamburgerMode?(i=e.offsetHeight,e.appendChild(this.popupWrapper)):document.body.appendChild(this.popupWrapper),this.isNestedOrVertical=this.element.classList.contains("e-vertical")||1!==this.navIdx.length,this.popupObj=this.generatePopup(this.popupWrapper,this.uList,e,this.isNestedOrVertical),this.template&&this.renderReactTemplates(),this.hamburgerMode?this.calculateIndentSize(this.uList,e):(this.cssClass&&Fa([this.popupWrapper],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.popupObj.hide()),this.hamburgerMode||this.showItemOnClick||!this.hoverDelay?this.triggerBeforeOpen(e,this.uList,t,r,0,0,"menu"):(window.clearInterval(this.timer),this.timer=window.setTimeout((function(){o.triggerBeforeOpen(e,o.uList,t,r,0,0,"menu")}),this.hoverDelay))):(this.uList.style.zIndex=this.element.style.zIndex,a.appendChild(this.uList),!this.showItemOnClick&&this.hoverDelay?(window.clearInterval(this.timer),this.timer=window.setTimeout((function(){o.triggerBeforeOpen(e,o.uList,t,r,i,n,"none")}),this.hoverDelay)):this.triggerBeforeOpen(e,this.uList,t,r,i,n,"none"))}else if(this.uList=this.element,this.uList.style.zIndex=Lu(s||this.element).toString(),ko(r)){var p=document.createEvent("MouseEvents");p.initEvent("click",!0,!1);var d=this.copyObject(p,{});d.target=d.srcElement=s,d.currentTarget=s,this.triggerBeforeOpen(e,this.uList,t,d,i,n,"none")}else this.triggerBeforeOpen(e,this.uList,t,r,i,n,"none")},t.prototype.copyObject=function(e,t){for(var i in e)t[""+i]=e[""+i];return t},t.prototype.calculateIndentSize=function(e,t){var i=getComputedStyle(t),n=parseInt(i.textIndent,10);this.navIdx.length<2&&!t.classList.contains("e-blankicon")?n*=2:n+=n/4,e.style.textIndent=n+"px";var r=e.querySelectorAll(".e-blankicon");if(r&&r.length)for(var s=e.querySelector(".e-menu-icon"),o=getComputedStyle(s),a=parseInt(o.marginRight,10)+s.offsetWidth+n,l=0;l<r.length;l++)r[l].style.textIndent=a+"px"},t.prototype.generatePopup=function(e,t,i,n){var r=this,s=new ku(e,{actionOnScroll:this.hamburgerMode?"none":"reposition",relateTo:i,collision:this.hamburgerMode?{X:"none",Y:"none"}:{X:n||this.enableRtl?"none":"flip",Y:"fit"},position:n&&!this.hamburgerMode?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:t,open:function(){var e=Ka(".e-menu-vscroll",s.element);e&&(e.style.height="inherit",e.style.maxHeight="");var t=Ka(".e-ul",s.element);s.element.style.maxHeight="",t.focus(),r.triggerOpen(t)}});return s},t.prototype.createHeaderContainer=function(e){e=e||this.getWrapper();var t=this.createElement("span",{className:"e-"+this.getModuleName()+"-header"}),i=this.enableHtmlSanitizer?$h.sanitize(this.title):this.title,n=this.createElement("span",{className:"e-"+this.getModuleName()+"-title",innerHTML:i}),r=this.createElement("span",{className:"e-icons e-"+this.getModuleName()+"-icon",attrs:{tabindex:"0"}});t.appendChild(n),t.appendChild(r),e.insertBefore(t,this.element)},t.prototype.openHamburgerMenu=function(e){this.hamburgerMode&&this.triggerBeforeOpen(null,this.element,null,e,0,0,"hamburger")},t.prototype.closeHamburgerMenu=function(e){var t=this,i={element:this.element,parentItem:null,event:e,items:this.items,cancel:!1};this.trigger("beforeClose",i,(function(i){i.cancel||(t.closeMenu(null,e),t.element.classList.add("e-hide-menu"),t.trigger("onClose",{element:t.element,parentItem:null,items:t.items}))}))},t.prototype.callFit=function(e,t,i,n,r){return su(e,null,{X:t,Y:i},{top:n,left:r})},t.prototype.triggerBeforeOpen=function(e,t,i,n,r,s,o){var a=this,l=e?i[this.getField("children",this.navIdx.length-1)]:this.items,h={element:t,items:l,parentItem:i,event:n,cancel:!1,top:r,left:s,showSubMenuOn:"Auto"},c=o;this.trigger("beforeOpen",h,(function(r){switch(c){case"menu":a.hamburgerMode||("Auto"!==r.showSubMenuOn&&(a.showItemOnClick=!a.defaultOption,a.showSubMenuOn=r.showSubMenuOn),a.top=r.top,a.left=r.left),a.popupWrapper.style.display="block",a.hamburgerMode||(a.popupWrapper.style.maxHeight=a.popupWrapper.getBoundingClientRect().height+"px",a.enableScrolling&&ZN(a.createElement,a.popupWrapper,a.uList,"vscroll",a.enableRtl),a.checkScrollOffset(n)),a.hamburgerMode||a.left||a.top?(a.popupObj.collision={X:"none",Y:"none"},a.popupWrapper.style.display=""):(a.popupObj.refreshPosition(a.lItem,!0),a.left=parseInt(a.popupWrapper.style.left,10),a.top=parseInt(a.popupWrapper.style.top,10),a.enableRtl&&(a.left=a.isNestedOrVertical?a.left-a.popupWrapper.offsetWidth-a.lItem.parentElement.offsetWidth+2:a.left-a.popupWrapper.offsetWidth+a.lItem.offsetWidth),a.template&&(a.isReact||a.isAngular)?requestAnimationFrame((function(){a.collision(),a.popupWrapper.style.display=""})):(a.collision(),a.popupWrapper.style.display=""));break;case"none":a.top=r.top,a.left=r.left;break;case"hamburger":r.cancel||(a.element.classList.remove("e-hide-menu"),a.triggerOpen(a.element))}if("hamburger"!==c)if(r.cancel)a.isMenu?(a.popupObj.destroy(),Qa(a.popupWrapper)):t.className.indexOf("e-ul")>-1&&Qa(t),a.navIdx.pop();else if(a.isMenu)if(a.hamburgerMode)a.popupWrapper.style.top=a.top+"px",a.popupWrapper.style.left="0px",a.toggleAnimation(a.popupWrapper);else{a.setBlankIconStyle(a.popupWrapper),a.wireKeyboardEvent(a.popupWrapper),Il(a.popupWrapper,{selector:"."+yC}),a.popupWrapper.style.left=a.left+"px",a.popupWrapper.style.top=a.top+"px";var s="None"!==a.animationSettings.effect?{name:a.animationSettings.effect,duration:a.animationSettings.duration,timingFunction:a.animationSettings.easing}:null;a.popupObj.show(s,a.lItem)}else a.setBlankIconStyle(a.uList),a.setPosition(a.lItem,a.uList,a.top,a.left),a.toggleAnimation(a.uList);if("right"===a.keyType){var o=a.getUlByNavIdx();if(e.classList.remove(sC),a.isMenu&&1===a.navIdx.length&&a.removeLIStateByClass([aC],[a.getWrapper()]),e.classList.add(aC),a.action===nC){var l={element:e,item:i,event:n};a.trigger("select",l)}e.focus(),o=a.getUlByNavIdx();var h=a.isValidLI(o.children[0],0,a.action);o.children[h].classList.add(sC),o.children[h].focus()}}))},t.prototype.collision=function(){var e;if(e=ou(this.popupWrapper,null,this.left,this.top),(this.isNestedOrVertical||this.enableRtl)&&(e.indexOf("right")>-1||e.indexOf("left")>-1)){this.popupObj.collision.X="none";var t=Za(this.lItem,".e-"+this.getModuleName()+"-wrapper").offsetWidth;this.left=this.enableRtl?Gc(this.lItem,this.isNestedOrVertical?"right":"left","top").left:this.left-this.popupWrapper.offsetWidth-t+2}((e=ou(this.popupWrapper,null,this.left,this.top)).indexOf("left")>-1||e.indexOf("right")>-1)&&(this.left=this.callFit(this.popupWrapper,!0,!1,this.top,this.left).left),this.popupWrapper.style.left=this.left+"px"},t.prototype.setBlankIconStyle=function(e){var t=[].slice.call(e.getElementsByClassName("e-blankicon"));if(t.length){var i=e.querySelector(".e-menu-item:not(.e-blankicon):not(.e-separator)");if(i){var n=i.querySelector(".e-menu-icon");if(n){var r=this.enableRtl?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"},s=getComputedStyle(n),o=parseInt(s.fontSize,10);parseInt(s.width,10)&&parseInt(s.width,10)>o&&(o=parseInt(s.width,10));var a=o+parseInt(s[r.margin],10)+parseInt(getComputedStyle(i)[r.padding],10)+"px";t.forEach((function(e){e.style[r.padding]=a}))}}}},t.prototype.checkScrollOffset=function(e){var t=this.getWrapper();if(t.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){var i=ko(e)?this.element:Za(e.target,"."+yC),n=Ka(".e-hscroll-bar",t);n.scrollLeft>i.offsetLeft&&(n.scrollLeft-=n.scrollLeft-i.offsetLeft);var r=n.scrollLeft+n.offsetWidth,s=i.offsetLeft+i.offsetWidth;r<s&&(n.scrollLeft+=s-r)}},t.prototype.setPosition=function(e,t,i,n){var r="px";if(this.toggleVisiblity(t),t===this.element||n>-1&&i>-1){if((a=ou(t,null,n,i)).indexOf("right")>-1&&(n-=t.offsetWidth),a.indexOf("bottom")>-1)if((i=(o=this.callFit(t,!1,!0,i,n)).top-20)<0){var s=pageYOffset+document.documentElement.clientHeight-t.getBoundingClientRect().height;s>-1&&(i=s)}if((a=ou(t,null,n,i)).indexOf("left")>-1)n=(o=this.callFit(t,!0,!1,i,n)).left}else if(La.isDevice)i=Number(this.element.style.top.replace(r,"")),n=Number(this.element.style.left.replace(r,""));else{var o;i=(o=Gc(e,this.enableRtl?"left":"right","top")).top,n=o.left;var a,l=(a=ou(t,null,this.enableRtl?n-t.offsetWidth:n,i)).indexOf("left")>-1||a.indexOf("right")>-1;l&&(n=(o=Gc(e,this.enableRtl?"right":"left","top")).left),(this.enableRtl||l)&&(n=this.enableRtl&&l?n:n-t.offsetWidth),a.indexOf("bottom")>-1&&(i=(o=this.callFit(t,!1,!0,i,n)).top)}this.toggleVisiblity(t,!1),t.style.top=i+r,t.style.left=n+r},t.prototype.toggleVisiblity=function(e,t){void 0===t&&(t=!0),e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"},t.prototype.createItems=function(e){var t=this,i=this.navIdx?this.navIdx.length:0,n=this.getFields(i),r=this.hasField(e,this.getField("iconCss",i)),s={showIcon:r,moduleName:"menu",fields:n,template:this.template,itemNavigable:!0,itemCreating:function(e){e.curData[e.fields[n.id]]||(e.curData[e.fields[n.id]]=Lo("menuitem")),ko(e.curData.htmlAttributes)&&(e.curData.htmlAttributes={}),La.isIE?(e.curData.htmlAttributes.role="menuitem",e.curData.htmlAttributes.tabindex="-1"):Object.assign(e.curData.htmlAttributes,{role:"menuitem",tabindex:"-1"}),t.isMenu&&!e.curData[t.getField("separator",i)]&&(e.curData.htmlAttributes["aria-label"]=e.curData[e.fields.text]?e.curData[e.fields.text]:e.curData[e.fields.id]),""===e.curData[e.fields[n.iconCss]]&&(e.curData[e.fields[n.iconCss]]=null)},itemCreated:function(e){if(e.curData[t.getField("separator",i)]&&(e.item.classList.add(lC),e.item.setAttribute("role","separator")),!r||e.curData[e.fields.iconCss]||e.curData[t.getField("separator",i)]||e.item.classList.add("e-blankicon"),e.curData[e.fields.child]&&e.curData[e.fields.child].length){var n=t.createElement("span",{className:MC+" "+mC});e.item.appendChild(n),e.item.setAttribute("aria-haspopup","true"),e.item.setAttribute("aria-expanded","false"),e.item.classList.add("e-menu-caret-icon")}t.isMenu&&t.template&&(e.item.setAttribute("id",e.curData[e.fields.id].toString()),e.item.removeAttribute("data-uid"),e.item.classList.contains("e-level-1")&&e.item.classList.remove("e-level-1"),e.item.classList.contains("e-has-child")&&e.item.classList.remove("e-has-child"),e.item.removeAttribute("aria-level"));var s={item:e.curData,element:e.item};t.trigger("beforeItemRender",s)}};this.setProperties({items:this.items},!0),this.isMenu&&(s.templateID=this.element.id+"Template");var o=rp.createList(this.createElement,e,s,!this.template,this);return o.setAttribute("tabindex","0"),this.isMenu?o.setAttribute("role","menu"):o.setAttribute("role","menubar"),o},t.prototype.moverHandler=function(e){var t=e.target;this.liTrgt=t;var i=this.getLI(t),n=i?Za(i,".e-"+this.getModuleName()+"-wrapper"):this.getWrapper(),r=this.getWrapper(),s=new RegExp("-ej2menu-(.*)-popup"),o=!1;if(n){if((""!==n.id?s.exec(n.id)[1]:n.querySelector("ul").id)!==this.element.id){if(this.removeLIStateByClass([sC,aC],[this.getWrapper()]),!this.navIdx.length)return;o=!0}i&&Za(i,".e-"+this.getModuleName()+"-wrapper")&&!o?(this.removeLIStateByClass([sC],this.isMenu?[n].concat(this.getPopups()):[n]),this.removeLIStateByClass([sC],this.isMenu?[r].concat(this.getPopups()):[r]),i.classList.add(sC),this.showItemOnClick||this.clickHandler(e)):this.isMenu&&this.showItemOnClick&&!o&&this.removeLIStateByClass([sC],[n].concat(this.getPopups())),this.isMenu&&(this.showItemOnClick||t.parentElement===n||Za(t,".e-"+this.getModuleName()+"-popup")||i&&(!i||this.getIndex(i.id,!0).length)||"Hover"===this.showSubMenuOn?o&&!this.showItemOnClick&&this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e)):(this.removeLIStateByClass([sC],[n]),this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e))),this.isClosed||this.removeStateWrapper(),this.isClosed=!1)}},t.prototype.removeStateWrapper=function(){if(this.liTrgt){var e=Za(this.liTrgt,".e-menu-vscroll");"DIV"===this.liTrgt.tagName&&e&&this.removeLIStateByClass([sC,aC],[e])}},t.prototype.removeLIStateByClass=function(e,t){for(var i,n=function(n){e.forEach((function(e){(i=Ka("."+e,t[n]))&&i.classList.remove(e)}))},r=0;r<t.length;r++)n(r)},t.prototype.getField=function(e,t){void 0===t&&(t=0);var i=this.fields[""+e];return"string"===typeof i?i:i[t]?i[t].toString():i[i.length-1].toString()},t.prototype.getFields=function(e){return void 0===e&&(e=0),{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}},t.prototype.hasField=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i][""+t])return!0;return!1},t.prototype.menuHeaderClickHandler=function(e){Za(e.target,".e-menu-wrapper").querySelector("ul.e-menu-parent").id===this.element.id&&(this.element.className.indexOf("e-hide-menu")>-1?this.openHamburgerMenu(e):this.closeHamburgerMenu(e))},t.prototype.clickHandler=function(e){if(this.isTapHold)this.isTapHold=!1;else{var t=this.getWrapper(),i=e.target,n=this.cli=this.getLI(i),r=new RegExp("-ej2menu-(.*)-popup"),s=n?Za(n,".e-"+this.getModuleName()+"-wrapper"):null,o=n&&s&&(this.isMenu?this.getIndex(n.id,!0).length>0:t.firstElementChild.id===s.firstElementChild.id);if(La.isDevice&&this.isMenu&&(this.removeLIStateByClass([sC],[t].concat(this.getPopups())),this.mouseDownHandler(e)),n&&s&&this.isMenu){var a=s.id?r.exec(s.id)[1]:s.querySelector(".e-menu-parent").id;if(this.element.id!==a)return}if(o&&"click"===e.type&&!n.classList.contains(oC)){this.setLISelected(n);var l=this.getIndex(n.id,!0),h={element:n,item:this.getItem(l),event:e};this.trigger("select",h)}if(o&&("mouseover"===e.type||La.isDevice||this.showItemOnClick)){var c=void 0;if(n.classList.contains(oC))c=t.children[this.navIdx.length-1],this.toggleAnimation(c),(p=this.getLIByClass(c,aC))&&p.classList.remove(aC),Qa(n.parentNode),this.navIdx.pop();else if(!n.classList.contains(lC)){this.showSubMenu=!0;var u=n.parentNode;if(ko(u))return;if(this.cliIdx=this.getIdx(u,n),this.isMenu||!La.isDevice){var p,d=this.isMenu?Array.prototype.indexOf.call([t].concat(this.getPopups()),Za(u,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(t,u);if(this.navIdx[d]===this.cliIdx&&(this.showSubMenu=!1),d!==this.navIdx.length&&("mouseover"!==e.type||this.showSubMenu))(p=this.getLIByClass(u,aC))&&p.classList.remove(aC),this.isClosed=!0,this.keyType="click",this.showItemOnClick&&this.setLISelected(n),this.closeMenu(d+1,e),this.showItemOnClick&&this.setLISelected(n)}this.isClosed||this.afterCloseMenu(e),this.isClosed=!1}}else if(this.isMenu&&"DIV"===i.tagName&&this.navIdx.length&&Za(i,".e-menu-vscroll")){var f=Za(i,"."+wC),g=Array.prototype.indexOf.call(this.getPopups(),f)+1;g<this.navIdx.length&&(this.closeMenu(g+1,e),f&&this.removeLIStateByClass([sC,aC],[f]))}else this.isMenu&&this.hamburgerMode&&"SPAN"===i.tagName&&i.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):"UL"===i.tagName&&(this.isMenu?!i.parentElement.classList.contains("e-menu-wrapper")||this.getIndex(i.querySelector("."+yC).id,!0).length:i.parentElement===t)||(n||this.removeLIStateByClass([aC],[t]),n&&n.querySelector("."+mC)||this.closeMenu(null,e))}},t.prototype.afterCloseMenu=function(e){if(!ko(e)){var t;if(this.showSubMenu){t=this.showItemOnClick&&0===this.navIdx.length?Za(e.target,".e-menu-parent.e-control"):Za(this.element,".e-menu-parent.e-control");var i=this.navIdx.concat(this.cliIdx),n=this.getItem(i);if(n&&n[this.getField("children",i.length-1)]&&n[this.getField("children",i.length-1)].length?(("mouseover"===e.type||La.isDevice&&this.isMenu)&&this.setLISelected(this.cli),(!this.hamburgerMode&&t||this.hamburgerMode&&"false"===this.cli.getAttribute("aria-expanded"))&&(this.cli.setAttribute("aria-expanded","true"),this.navIdx.push(this.cliIdx),this.openMenu(this.cli,n,null,null,e))):"mouseover"!==e.type&&this.closeMenu(null,e),!t){var r=this.getUlByNavIdx(),s=this.getLIByClass(r,aC);s&&(s.setAttribute("aria-expanded","false"),s.classList.remove(aC))}}this.keyType=""}},t.prototype.setLISelected=function(e){var t=this.getLIByClass(e.parentElement,aC);t&&t.classList.remove(aC),this.isMenu||e.classList.remove(sC),e.classList.add(aC)},t.prototype.getLIByClass=function(e,t){for(var i=0,n=e.children.length;i<n;i++)if(e.children[i].classList.contains(t))return e.children[i];return null},t.prototype.getItemIndex=function(e,t){var i;i="string"===typeof e?e:e.id;var n=!1!==t;return this.getIndex(i,n)},t.prototype.setItem=function(e,t,i){var n;n=i?t||e.id:t||e.text;var r=this.getIndex(n,i),s=this.getItem(r);Object.assign(s,e)},t.prototype.getItem=function(e){var t=(e=e.slice()).pop();return this.getItems(e)[t]},t.prototype.getItems=function(e){for(var t=this.items,i=0;i<e.length;i++)t=t[e[i]][this.getField("children",i)];return t},t.prototype.setItems=function(e,t){var i=this.getItems(t);i.splice(0,i.length);for(var n=0;n<e.length;n++)i.splice(n,0,e[n])},t.prototype.getIdx=function(e,t,i){void 0===i&&(i=!0);var n=Array.prototype.indexOf.call(e.children,t);return i&&e.children[0].classList.contains(oC)&&n--,n},t.prototype.getLI=function(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:Za(e,"li.e-menu-item")},t.prototype.updateItemsByNavIdx=function(){for(var e=this.items,t=0,i=0;i<this.navIdx.length&&(e=e[i].items);i++){t++;var n=this.getUlByNavIdx(t);if(!n)break;this.updateItem(n,e)}},t.prototype.removeChildElement=function(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);return e},t.prototype.onPropertyChanged=function(e,t){for(var i=this,n=this.getWrapper(),r=function(r){switch(r){case"cssClass":t.cssClass&&Ba([n],t.cssClass.split(" ")),e.cssClass&&Fa([n],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":s.enableRtl?n.classList.add(SC):n.classList.remove(SC);break;case"showItemOnClick":s.unWireEvents(),s.showItemOnClick=e.showItemOnClick,s.wireEvents();break;case"enableScrolling":if(e.enableScrolling){var o;s.element.classList.contains("e-vertical")?ZN(s.createElement,n,s.element,"vscroll",s.enableRtl):ZN(s.createElement,n,s.element,"hscroll",s.enableRtl),s.getPopups().forEach((function(e){o=Ka(".e-ul",e),ZN(i.createElement,e,o,"vscroll",i.enableRtl)}))}else{var a=n.children[0];s.element.classList.contains("e-vertical")?eC(Vo(a,Kw),a):eC(Vo(a,zw),a),n.style.overflow="",n.appendChild(s.element),s.getPopups().forEach((function(e){eC(Vo(a=e.children[0],Kw),a),e.style.overflow=""}))}break;case"items":var l=void 0,h=void 0,c=void 0;if(s.isReact&&s.template&&s.clearTemplate(["template"]),Object.keys(t.items).length){var u=Object.keys(e.items);for(p=0;p<u.length;p++)(h=s.getChangedItemIndex(e,[],Number(u[p]))).length<=s.getWrapper().children.length&&(l=h.pop(),c=s.getItems(h),s.insertAfter([c[l]],c[l].text),s.removeItem(c,h,l),s.setItems(c,h)),h.length=0}else{if(s.updateItem(s.element,s.items),s.enableScrolling&&s.element.parentElement.classList.contains("e-custom-scroll")&&(s.element.classList.contains("e-vertical")?ZN(s.createElement,n,s.element,"vscroll",s.enableRtl):ZN(s.createElement,n,s.element,"hscroll",s.enableRtl)),!s.hamburgerMode)for(var p=1,d=n.childElementCount;p<d;p++)Qa(n.lastElementChild);s.navIdx=[]}}},s=this,o=0,a=Object.keys(e);o<a.length;o++){r(a[o])}},t.prototype.updateItem=function(e,t){if(Bo()&&!this.isMenu)e=this.removeChildElement(e);else{if(this.enableScrolling){var i=this.getWrapper().children[0];this.element.classList.contains("e-vertical")?eC(Vo(i,Kw),i):eC(Vo(i,zw),i)}e.innerHTML=""}[].slice.call(this.createItems(t).children).forEach((function(t){e.appendChild(t)}))},t.prototype.getChangedItemIndex=function(e,t,i){t.push(i);var n=Object.keys(e.items[i]).pop();if("items"===n){var r=e.items[i],s=Object.keys(r.items).pop();s&&this.getChangedItemIndex(r,t,Number(s))}else"isParentArray"===n&&t.length>1&&t.pop();return t},t.prototype.removeItem=function(e,t,i){e.splice(i,1);var n=this.getWrapper().children;t.length<n.length&&Qa(n[t.length].children[i])},t.prototype.unWireEvents=function(e){void 0===e&&(e=this.target);var t=this.getWrapper();if(e){for(var i=void 0,n=void 0,r=Xa(e),s=0,o=r.length;s<o;s++)i=r[s],this.isMenu?Oa.remove(i,"click",this.menuHeaderClickHandler):La.isIos?(n=Vo(i,gh))&&n.destroy():Oa.remove(i,"contextmenu",this.cmenuHandler);if(!this.isMenu){Oa.remove(this.targetElement,"mousewheel DOMMouseScroll",this.scrollHandler);for(var a=0,l=zu(this.targetElement);a<l.length;a++){var h=l[a];Oa.remove(h,"mousewheel DOMMouseScroll",this.scrollHandler)}}}La.isDevice||(Oa.remove(this.isMenu?document:t,"mouseover",this.delegateMoverHandler),Oa.remove(document,"mousedown",this.delegateMouseDownHandler)),Oa.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(t),this.rippleFn()},t.prototype.unWireKeyboardEvent=function(e){var t=Vo(e,hh);t&&t.destroy()},t.prototype.toggleAnimation=function(e,t){var i,n,r=this;void 0===t&&(t=!0),"None"!==this.animationSettings.effect&&t?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:function(e){r.hamburgerMode?(n=e.element.parentElement,e.element.style.position="absolute",i=n.offsetHeight,e.element.style.maxHeight=e.element.offsetHeight+"px",n.style.maxHeight=""):(e.element.style.display="block",e.element.style.maxHeight=e.element.getBoundingClientRect().height+"px")},progress:function(e){r.hamburgerMode&&(n.style.minHeight=i+e.element.offsetHeight+"px")},end:function(e){r.hamburgerMode?(e.element.style.position="",e.element.style.maxHeight="",n.style.minHeight="",e.element.style.top="0px",e.element.children[0].focus(),r.triggerOpen(e.element.children[0])):r.end(e.element,t)}}):this.end(e,t)},t.prototype.triggerOpen=function(e){var t=this.navIdx.length?this.getItem(this.navIdx):null,i={element:e,parentItem:t,items:t?t.items:this.items};this.trigger("onOpen",i),this.isMenu||Oa.add(e,"keydown",this.keyHandler,this)},t.prototype.end=function(e,t){if(t)if(e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+sC))e.querySelector("."+sC).focus();else{var i=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1];this.currentTarget&&(this.currentTarget.classList.contains("e-numerictextbox")||this.currentTarget.classList.contains("e-textbox")||"INPUT"===this.currentTarget.tagName)||(i?i.querySelector("."+aC).focus():this.element.focus())}else if(e===this.element){var n=this.getLIByClass(this.element,sC);n&&n.classList.remove(sC);var r=this.getLIByClass(this.element,aC);r&&r.classList.remove(aC),e.style.display="none"}else Qa(e)},t.prototype.getPersistData=function(){return""},t.prototype.getWrapper=function(){return Za(this.element,".e-"+this.getModuleName()+"-wrapper")},t.prototype.getIndex=function(e,t,i,n,r,s){var o;void 0===i&&(i=this.items),void 0===n&&(n=[]),void 0===r&&(r=!1),void 0===s&&(s=0),s=r?s+1:0;for(var a=0,l=i.length;a<l;a++){if(o=i[a],(t?o[this.getField("itemId",s)]:o[this.getField("text",s)])===e){n.push(a);break}if(o[this.getField("children",s)]&&o[this.getField("children",s)].length){if(-1!==(n=this.getIndex(e,t,o[this.getField("children",s)],n,!0,s))[n.length-1]){n.unshift(a);break}a!==l-1&&n.pop()}else a===l-1&&n.push(-1)}return r||-1!==n[0]?n:[]},t.prototype.enableItems=function(e,t,i){var n,r,s;void 0===t&&(t=!0);for(var o,a=vC,l=0;l<e.length;l++){if(s=this.getIndex(e[l],i),this.navIdx.length){if(1!==s.length){o=!1;for(var h=0,c=s.length-1;h<c;h++)if(s[h]!==this.navIdx[h]){o=!0;break}if(o)continue}}else if(1!==s.length)continue;r=s.pop(),(n=this.getUlByNavIdx(s.length))&&!ko(r)&&(t?this.isMenu?(n.children[r].classList.remove(a),n.children[r].removeAttribute("aria-disabled")):La.isDevice&&!n.classList.contains("e-contextmenu")?n.children[r+1].classList.remove(a):n.children[r].classList.remove(a):this.isMenu?(n.children[r].classList.add(a),n.children[r].setAttribute("aria-disabled","true")):La.isDevice&&!n.classList.contains("e-contextmenu")?n.children[r+1].classList.add(a):n.children[r].classList.add(a))}},t.prototype.showItems=function(e,t){this.showHideItems(e,!1,t)},t.prototype.hideItems=function(e,t){this.showHideItems(e,!0,t)},t.prototype.showHideItems=function(e,t,i){for(var n,r,s,o=0;o<e.length;o++)if(r=(s=this.getIndex(e[o],i)).pop(),n=this.getUlByNavIdx(s.length)){var a=i?n.children[r].id:n.children[r].textContent;t&&a===e[o]?n.children[r].classList.add(bC):t||a!==e[o]||n.children[r].classList.remove(bC)}},t.prototype.removeItems=function(e,t){for(var i,n,r,s=0;s<e.length;s++)i=(n=this.getIndex(e[s],t)).pop(),r=this.getItems(n),ko(i)||this.removeItem(r,n,i)},t.prototype.insertAfter=function(e,t,i){this.insertItems(e,t,i)},t.prototype.insertBefore=function(e,t,i){this.insertItems(e,t,i,!1)},t.prototype.insertItems=function(e,t,i,n){var r,s,o,a,l;void 0===n&&(n=!0);for(var h=0;h<e.length;h++){s=(o=this.getIndex(t,i)).pop(),a=this.getItems(o),l=new IC(a[0],"items",e[h],!0),a.splice(n?s+1:s,0,l);var c=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(!ko(s)&&o.length<c.length){s=n?s+1:s,r=this.createItems(a).children[s];var u=this.isMenu?Ka(".e-menu-parent",c[o.length]):c[o.length];u.insertBefore(r,u.children[s])}}},t.prototype.removeAttributes=function(){var e=this;["top","left","display","z-index"].forEach((function(t){e.element.style.removeProperty(t)})),["role","tabindex","class","style"].forEach((function(t){"class"===t&&e.element.classList.contains("e-menu-parent")&&e.element.classList.remove("e-menu-parent"),-1!==["class","style"].indexOf(t)&&e.element.getAttribute(t)||e.element.removeAttribute(t),e.isMenu&&"class"===t&&e.element.classList.contains("e-vertical")&&e.element.classList.remove("e-vertical")}))},t.prototype.destroy=function(){var t=this.getWrapper();if(t){if(this.unWireEvents(),this.isMenu)this.closeMenu(),Bo()&&!this.isMenu?this.element=this.removeChildElement(this.element):this.element.innerHTML="",this.removeAttributes(),t.parentNode.insertBefore(this.element,t),this.clonedElement=null;else{if(this.clonedElement.style.display="","EJS-CONTEXTMENU"===this.clonedElement.tagName)Fa([this.clonedElement],["e-control","e-lib","e-"+this.getModuleName()]),this.element=this.clonedElement;else if(this.refreshing&&this.clonedElement.childElementCount&&"LI"===this.clonedElement.children[0].tagName&&this.setProperties({items:[]},!0),document.getElementById(this.clonedElement.id)){var i=this.clonedElement.nextElementSibling;i&&i!==t?this.clonedElement.parentElement.insertBefore(this.element,i):this.clonedElement.parentElement.appendChild(this.element),Bo()&&!this.isMenu?this.element=this.removeChildElement(this.element):this.element.innerHTML="",Wa([].slice.call(this.clonedElement.children),this.element),Qa(this.clonedElement),this.removeAttributes()}this.clonedElement=null}this.isMenu&&this.clonedElement?(Qa(this.element),t.style.display="",t.classList.remove("e-"+this.getModuleName()+"-wrapper"),t.removeAttribute("data-ripple")):Qa(t),e.prototype.destroy.call(this),this.template&&this.clearTemplate(["template"])}this.rippleFn=null},iC([yl()],t.prototype,"beforeItemRender",void 0),iC([yl()],t.prototype,"beforeOpen",void 0),iC([yl()],t.prototype,"onOpen",void 0),iC([yl()],t.prototype,"beforeClose",void 0),iC([yl()],t.prototype,"onClose",void 0),iC([yl()],t.prototype,"select",void 0),iC([yl()],t.prototype,"created",void 0),iC([fl("")],t.prototype,"cssClass",void 0),iC([fl(0)],t.prototype,"hoverDelay",void 0),iC([fl(!1)],t.prototype,"showItemOnClick",void 0),iC([fl("")],t.prototype,"target",void 0),iC([fl("")],t.prototype,"filter",void 0),iC([fl(null)],t.prototype,"template",void 0),iC([fl(!1)],t.prototype,"enableScrolling",void 0),iC([fl(!1)],t.prototype,"enableHtmlSanitizer",void 0),iC([gl({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},_C)],t.prototype,"fields",void 0),iC([ml([],IC)],t.prototype,"items",void 0),iC([gl({duration:400,easing:"ease",effect:"SlideDown"},NC)],t.prototype,"animationSettings",void 0),t=iC([vl],t)}(Xl),xC=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),DC=function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},TC=function(e){function t(t,i){return e.call(this,t,i)||this}return xC(t,e),t.prototype.preRender=function(){this.isMenu=!1,this.element.id=this.element.id||Lo("ej2-contextmenu"),e.prototype.preRender.call(this)},t.prototype.initialize=function(){e.prototype.initialize.call(this),Ga(this.element,{role:"menubar",tabindex:"0"}),this.element.style.zIndex=Lu(this.element).toString()},t.prototype.open=function(t,i,n){e.prototype.openMenu.call(this,null,null,t,i,null,n)},t.prototype.close=function(){e.prototype.closeMenu.call(this)},t.prototype.onPropertyChanged=function(t,i){e.prototype.onPropertyChanged.call(this,t,i);for(var n=0,r=Object.keys(t);n<r.length;n++){switch(r[n]){case"filter":this.close(),this.filter=t.filter;break;case"target":this.unWireEvents(i.target),this.wireEvents()}}},t.prototype.getModuleName=function(){return"contextmenu"},DC([fl("")],t.prototype,"target",void 0),DC([fl("")],t.prototype,"filter",void 0),DC([ml([],IC)],t.prototype,"items",void 0),t=DC([vl],t)}(CC),AC=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),jC=function(e){function t(t,i){var n=e.call(this,t)||this;return n.childRefs=[],n.eventHandlers={},n.isDevice=!1,n.customFilterOperators=i,n.isExcel=!0,n}return AC(t,e),t.prototype.getCMenuDS=function(e,t){var i={number:["Equal","NotEqual","","LessThan","LessThanOrEqual","GreaterThan","GreaterThanOrEqual","Between","","CustomFilter"],string:["Equal","NotEqual","","StartsWith","EndsWith","","Contains","NotContains","","CustomFilter"]};i.date=i.number,i.datetime=i.number,i.dateonly=i.number;for(var n=[],r=0;r<i[""+e].length;r++)i[""+e][parseInt(r.toString(),10)].length?t?n.push({text:this.getLocalizedLabel(i[""+e][parseInt(r.toString(),10)])+"...",iconCss:"e-icons e-icon-check "+(t===i[""+e][parseInt(r.toString(),10)].toLowerCase()?"":"e-emptyicon")}):n.push({text:this.getLocalizedLabel(i[""+e][parseInt(r.toString(),10)])+"..."}):n.push({separator:!0});return n},t.prototype.destroy=function(){if(this.dlg&&(this.unwireExEvents(),e.prototype.closeDialog.call(this)),!this.isDevice&&this.menuObj){var t=this.menuObj.element.querySelector("li.e-focused");t&&Jy(t,"e-excel-menu")||this.destroyCMenu()}this.dlgObj&&!this.dlgObj.isDestroyed&&this.removeDialog()},t.prototype.createMenu=function(e,t,i,n){this.menu=this.parent.createElement("div",{className:"e-contextmenu-wrapper"}),this.parent.enableRtl?this.menu.classList.add("e-rtl"):this.menu.classList.remove("e-rtl"),this.parent.cssClass&&this.menu.classList.add(this.parent.cssClass);var r=this.parent.createElement("ul"),s=t?"e-excl-filter-icon e-filtered":"e-excl-filter-icon";if(this.parent.allowSorting&&"grid"===this.parent.getModuleName()&&!this.options.isResponsiveFilter){var o=this.parent.getColumnHeaderByUid(n.uid).getAttribute("aria-sort"),a=this.parent.getColumnByField(n.field).allowSorting,l=a&&"ascending"!==o?"e-excel-ascending":"e-disabled e-excel-ascending",h=a&&"descending"!==o?"e-excel-descending":"e-disabled e-excel-descending",c="string"===e?this.getLocalizedLabel("SortAtoZ"):"datetime"===e||"date"===e?this.getLocalizedLabel("SortByOldest"):this.getLocalizedLabel("SortSmallestToLargest"),u="string"===e?this.getLocalizedLabel("SortZtoA"):"datetime"===e||"date"===e?this.getLocalizedLabel("SortByNewest"):this.getLocalizedLabel("SortLargestToSmallest");r.appendChild(this.createMenuElem(c,l,"e-sortascending")),r.appendChild(this.createMenuElem(u,h,"e-sortdescending"));var p=this.parent.createElement("li",{className:"e-separator e-menu-item e-excel-separator"});r.appendChild(p)}this.options.isResponsiveFilter||r.appendChild(this.createMenuElem(this.getLocalizedLabel("ClearFilter"),t?"":"e-disabled",s)),"boolean"!==e&&r.appendChild(this.createMenuElem(this.getLocalizedLabel({string:"TextFilter",date:"DateFilter",dateonly:"DateFilter",datetime:"DateTimeFilter",number:"NumberFilter"}[""+e]),"e-submenu",i&&this.ensureTextFilter()?"e-icon-check":s+" e-emptyicon",!0)),this.menu.appendChild(r),this.parent.notify("before-filter-cmenu-open",{element:this.menu}),this.parent.notify(Zm,{isFiltered:t})},t.prototype.createMenuElem=function(e,t,i,n){var r=this.parent.createElement("li",{className:t+" e-menu-item"});return r.innerHTML=e,r.insertBefore(this.parent.createElement("span",{className:"e-menu-icon e-icons "+i,attrs:{"aria-hidden":"true"}}),r.firstChild),n&&r.appendChild(this.parent.createElement("span",{className:"e-icons e-caret"})),r},t.prototype.wireExEvents=function(){Oa.add(this.dlg,"mouseover",this.hoverHandler,this),Oa.add(this.dlg,"click",this.clickExHandler,this)},t.prototype.unwireExEvents=function(){Oa.remove(this.dlg,"mouseover",this.hoverHandler),Oa.remove(this.dlg,"click",this.clickExHandler)},t.prototype.clickExHandler=function(e){var t=Jy(e.target,"e-menu-item");t&&(this.getLocalizedLabel("ClearFilter")===t.innerText.trim()?(this.clearFilter(),this.closeDialog()):this.options.isResponsiveFilter&&this.getLocalizedLabel({string:"TextFilter",date:"DateFilter",datetime:"DateTimeFilter",number:"NumberFilter"}[this.options.type])===t.innerText.trim()&&this.hoverHandler(e))},t.prototype.destroyCMenu=function(){this.isCMenuOpen=!1,this.menuObj&&!this.menuObj.isDestroyed&&(this.menuObj.destroy(),qa(this.cmenu),this.parent.notify($m,{target:null,header:"",isOpen:!1,col:this.options.column}))},t.prototype.hoverHandler=function(e){if(!this.options.isResponsiveFilter||"mouseover"!==e.type){var t,i=e.target.querySelector(".e-contextmenu"),n=Jy(e.target,"e-menu-item"),r=this.menu.querySelector(".e-focused");if(r&&r.classList.remove("e-focused"),n&&(n.classList.add("e-focused"),t=n.classList.contains("e-submenu")),!i){if(!t){var s=this.menu.querySelector(".e-submenu");ko(s)||s.classList.remove("e-selected"),this.destroyCMenu()}var o=this.ensureTextFilter();if(!this.isCMenuOpen&&t){n.classList.add("e-selected"),this.isCMenuOpen=!0;var a={items:this.getCMenuDS(this.options.type,o?o.replace(/\s/g,""):void 0),select:this.selectHandler.bind(this),onClose:this.destroyCMenu.bind(this),enableRtl:this.parent.enableRtl,animationSettings:{effect:"None"},beforeClose:this.preventClose.bind(this),cssClass:this.options.isResponsiveFilter&&this.parent.cssClass?"e-res-contextmenu-wrapper "+this.parent.cssClass:this.options.isResponsiveFilter?"e-res-contextmenu-wrapper":this.parent.cssClass?this.parent.cssClass:""};this.parent.element.appendChild(this.cmenu),this.menuObj=new TC(a,this.cmenu);var l=this.menu.querySelector(".e-submenu").getBoundingClientRect(),h={top:0,left:0};if(this.options.isResponsiveFilter){var c=document.querySelector(".e-responsive-dialog > .e-dlg-header-content").offsetHeight+4;this.menuObj.element.style.height="calc(100% - "+c+"px)",this.menuObj.open(c,0,document.body);var u=this.getLocalizedLabel({string:"TextFilter",date:"DateFilter",datetime:"DateTimeFilter",number:"NumberFilter"}[this.options.type]);this.parent.notify($m,{target:this.menuObj.element.parentElement,header:u,isOpen:!0})}else{if(La.isDevice){this.isDevice=!0;var p=this.getContextBounds();h.top=(window.innerHeight-p.height)/2,h.left=(window.innerWidth-p.width)/2,this.closeDialog(),this.isDevice=!1}else h.top=La.isIE?window.pageYOffset+l.top:window.scrollY+l.top,h.left=this.getCMenuYPosition(this.dlg);this.menuObj.open(h.top,h.left,e.target)}Pv(this.parent.element,this.menuObj.element.parentElement)}}}},t.prototype.ensureTextFilter=function(){var e,t=this.existingPredicate[this.options.field];return t&&2===t.length?e="greaterthanorequal"===t[0].operator&&"lessthanorequal"===t[1].operator?"between":"customfilter":t&&1===t.length&&(this.optrData=this.customFilterOperators[this.options.type+"Operator"],e=t[0].operator),e},t.prototype.preventClose=function(e){if(this.options&&this.options.isResponsiveFilter&&e.event){var t=e.event.target,i=t.classList.contains("e-resfilterback")||t.classList.contains("e-res-back-btn")||t.classList.contains("e-menu-item");e.cancel=!i}else e.event instanceof MouseEvent&&e.event.target.classList.contains("e-submenu")&&(e.cancel=!0)},t.prototype.getContextBounds=function(){return this.menuObj.element.style.display="block",this.menuObj.element.getBoundingClientRect()},t.prototype.getCMenuYPosition=function(e){var t=this.getContextBounds().width,i=e.getBoundingClientRect(),n=i.right+t-this.parent.element.clientWidth,r=e.offsetWidth-e.clientWidth;return r=r?r+1:0,n<1?i.right+1-r:i.left-t-1+r},t.prototype.openDialog=function(e){var t=this;if(this.updateModel(e),this.getAndSetChkElem(e),this.showDialog(e),!e.cancel){this.dialogObj.dataBind();var i=this.existingPredicate[e.field]&&this.existingPredicate[e.field].length||this.options.filteredColumns.filter((function(e){return t.options.field===e.field})).length;this.createMenu(e.type,i>0,1===i||2===i,e),this.dlg.insertBefore(this.menu,this.dlg.firstChild),this.dlg.classList.add("e-excelfilter"),this.parent.enableRtl&&this.dlg.classList.add("e-rtl"),this.dlg.classList.remove("e-checkboxfilter"),this.cmenu=this.parent.createElement("ul",{className:"e-excel-menu"}),e.column.showColumnMenu&&this.parent.notify(Im,{}),this.wireExEvents()}},t.prototype.closeDialog=function(){this.destroy()},t.prototype.selectHandler=function(e){e.item&&(this.parent.notify(ey,{}),this.menuItem=e.item,this.renderDialogue(e))},t.prototype.renderDialogue=function(e){var t=this,i=e?e.element:void 0,n=this.options.field,r=!ko(n)&&dv(n),s=!ko(n)&&fv(n),o=this.parent.createElement("div",{className:"e-xlfl-maindiv",id:r?s+"-xlflmenu":n+"-xlflmenu"});(this.dlgDiv=this.parent.createElement("div",{className:"e-xlflmenu",id:r?s+"-xlfldlg":n+"-xlfldlg"}),this.options.isResponsiveFilter)?document.querySelector(".e-resfilter > .e-dlg-content > .e-xl-customfilterdiv").appendChild(this.dlgDiv):this.parent.element.appendChild(this.dlgDiv);this.dlgObj=new AM({header:this.getLocalizedLabel("CustomFilter"),isModal:!0,overlayClick:this.removeDialog.bind(this),showCloseIcon:!0,locale:this.parent.locale,closeOnEscape:!1,target:document.body,visible:!1,enableRtl:this.parent.enableRtl,open:function(){var e=t.dlgObj.element.querySelector("table.e-xlfl-table>tr");if(t.options.column.filterTemplate){var i=dv(t.options.column.field)?fv(t.options.column.field):t.options.column.field,n=t.parent.isReact&&"string"!==typeof t.options.column.filterTemplate,r=t.parent.parentDetails&&t.parent.parentDetails.parentInstObj&&t.parent.parentDetails.parentInstObj.isReact;n||r?t.parent.renderTemplates((function(){e.querySelector("#"+i+"-xlfl-frstvalue").focus()})):e.querySelector("#"+i+"-xlfl-frstvalue").focus()}},close:this.removeDialog.bind(this),created:this.createdDialog.bind(this,i,n),buttons:[{click:this.filterBtnClick.bind(this,n),buttonModel:{content:this.getLocalizedLabel("OKButton"),isPrimary:!0,cssClass:this.parent.cssClass?"e-xlfl-okbtn "+this.parent.cssClass:"e-xlfl-okbtn"}},{click:this.removeDialog.bind(this),buttonModel:{content:this.getLocalizedLabel("CancelButton"),cssClass:this.parent.cssClass?"e-xlfl-cancelbtn "+this.parent.cssClass:"e-xlfl-cancelbtn"}}],content:o,width:430,animationSettings:{effect:"None"},cssClass:this.parent.cssClass?this.parent.cssClass:""});this.dlgObj.isStringTemplate=!0,this.renderResponsiveDialog(),this.dlgDiv.setAttribute("aria-label",this.getLocalizedLabel("CustomFilterDialogARIA")),this.childRefs.push(this.dlgObj),this.dlgObj.appendTo(this.dlgDiv)},t.prototype.renderResponsiveDialog=function(){if(this.options.isResponsiveFilter){var e=document.querySelector(".e-row-responsive-filter");e&&e.classList.remove("e-row-responsive-filter"),this.dlgObj.buttons=[{}],this.dlgObj.header=void 0,this.dlgObj.position={X:"",Y:""},this.dlgObj.target=document.querySelector(".e-resfilter > .e-dlg-content > .e-xl-customfilterdiv"),this.dlgObj.width="100%",this.dlgObj.isModal=!1,this.dlgObj.showCloseIcon=!1}},t.prototype.removeDialog=function(){this.parent.notify(ty,{}),(this.parent.isReact||this.parent.isVue)&&void 0!==this.parent.destroyTemplate&&ib(this.parent,["filterTemplate"]),this.removeObjects(this.childRefs),qa(this.dlgDiv),this.parent.notify(Xm,{})},t.prototype.createdDialog=function(e,t){if(this.renderCustomFilter(e,t),this.dlgObj.element.style.left="0px",this.options.isResponsiveFilter){var i=document.querySelector(".e-responsive-dialog > .e-dlg-header-content").offsetHeight+4;this.dlgObj.element.style.top=i+"px"}else this.dlgObj.element.style.top="0px";!this.options.isResponsiveFilter&&La.isDevice&&window.innerWidth<440&&(this.dlgObj.element.style.width="90%"),this.parent.notify("beforeCustomFilterOpen",{column:t,dialog:this.dialogObj}),this.dlgObj.show(),Pv(this.parent.element,this.dlgObj.element.parentElement)},t.prototype.renderCustomFilter=function(e,t){var i=this.dlgObj.element.querySelector(".e-xlfl-maindiv"),n=this.parent.createElement("div",{innerHTML:this.getLocalizedLabel("ShowRowsWhere"),className:"e-xlfl-dlgfields"});i.appendChild(n);var r=this.parent.createElement("div",{innerHTML:this.options.displayName,className:"e-xlfl-fieldset"});i.appendChild(r),this.renderFilterUI(t,i)},t.prototype.filterBtnClick=function(e){var t,i=!ko(e)&&dv(e),n=!ko(e)&&fv(e),r=i?n:e,s=this.dlgDiv.querySelector("#"+r+"-xlfl-frstvalue").ej2_instances[0],o=this.dlgDiv.querySelector("#"+r+"-xlfl-frstoptr").ej2_instances[0],a=this.dlgDiv.querySelector("#"+r+"-xlfl-secndvalue").ej2_instances[0],l=this.dlgDiv.querySelector("#"+r+"-xlfl-secndoptr").ej2_instances[0];"string"===this.options.type&&(t=this.dlgDiv.querySelector("#"+r+"-xlflmtcase").ej2_instances[0].checked);var h=this.dlgDiv.querySelector("#"+r+"e-xlfl-frstpredicate").ej2_instances[0].checked?"and":"or";null===a.value&&(h="or"),this.filterByColumn(this.options.field,o.value,s.value,h,t,this.options.ignoreAccent,l.value,a.value),this.removeDialog()},t.prototype.filterByColumn=function(e,t,i,n,r,s,o,a){var l,h=this.parent.getColumnByField?this.parent.getColumnByField(e):this.options.column,c=this.isForeignColumn(h)?h.foreignKeyValue:e,u=[],p={instance:this,handler:this.filterByColumn,arg1:e,arg2:t,arg3:i,arg4:n,arg5:r,arg6:s,arg7:o,arg8:a,cancel:!1};if(this.parent.notify(Um,p),!p.cancel){u.push({field:c,predicate:n,matchCase:r,ignoreAccent:s,operator:t,value:p.arg3,type:this.options.type}),l=new op(c,t.toLowerCase(),p.arg3,!r,s),ko(a)||ko(o)||(u.push({field:c,predicate:n,matchCase:r,ignoreAccent:s,operator:o,value:p.arg8,type:this.options.type}),l=l[""+n](c,o.toLowerCase(),a,!r,s));var d={action:"filtering",filterCollection:u,field:this.options.field,ejpredicate:l,actualPredicate:u};this.isForeignColumn(h)?this.foreignKeyFilter(d,u,l):this.options.handler(d)}},t.prototype.renderOperatorUI=function(e,t,i,n,r){var s=this.parent.createElement("tr",{className:"e-xlfl-fields"});t.appendChild(s);var o=this.parent.createElement("td",{className:"e-xlfl-optr"});s.appendChild(o);var a=this.parent.createElement("div",{className:"e-xlfl-optrdiv"}),l=!ko(e)&&dv(e),h=!ko(e)&&fv(e),c=this.parent.createElement("input",{id:l?h+i:e+i});a.appendChild(c),o.appendChild(a);var u=this.options.type+"Operator",p=this.customFilterOperators[""+u];this.optrData=p;var d=this.dropSelectedVal(this.options.column,n,r),f="";this.menuItem&&((f=this.menuItem.text.slice(0,-3))!==this.getLocalizedLabel("CustomFilter")&&(d=r?f:void 0),f===this.getLocalizedLabel("Between")&&(d=this.getLocalizedLabel(r?"GreaterThanOrEqual":"LessThanOrEqual")));var g=this.options.column,m=new Kp(Qy({dataSource:p,fields:{text:"text",value:"value"},text:d,enableRtl:this.parent.enableRtl,cssClass:this.parent.cssClass?this.parent.cssClass:null},g.filter.params));this.childRefs.push(m);var y={open:this.dropDownOpen.bind(this),change:this.dropDownValueChange.bind(this)};return eb(c.id,[ky,zy],y,this),m.addEventListener(ky,this.eventHandlers[c.id][ky]),m.addEventListener(zy,this.eventHandlers[c.id][zy]),m.appendTo(c),{fieldElement:s,operator:this.getSelectedValue(d)}},t.prototype.removeHandlersFromComponent=function(e){e.element.classList.contains("e-dropdownlist")?tb(e,[ky,zy],this):e.element.classList.contains("e-autocomplete")&&tb(e,[bg,Ly],this)},t.prototype.dropDownOpen=function(e){e.popup.element.style.zIndex=(this.dialogObj.zIndex+1).toString()},t.prototype.dropDownValueChange=function(e){e.element.id.includes("-xlfl-frstoptr")?this.firstOperator=e.value.toString():this.secondOperator=e.value.toString()},t.prototype.getFilterUIInfo=function(){return{firstOperator:this.firstOperator,secondOperator:this.secondOperator,field:this.options.field}},t.prototype.getSelectedValue=function(e){var t=new mp(this.optrData).executeLocal((new sp).where("text","equal",e));return ko(t[0])?"":t[0].value},t.prototype.dropSelectedVal=function(e,t,i){var n;return n=t&&t.length>0?2===t.length?i?t[0].operator:t[1].operator:i?t[0].operator:void 0:i&&"string"===e.type&&!e.filter.operator?"startswith":i?e.filter.operator||"equal":void 0,this.getSelectedText(n)},t.prototype.getSelectedText=function(e){var t=new mp(this.optrData).executeLocal((new sp).where("value","equal",e));return ko(t[0])?"":t[0].text},t.prototype.renderFilterUI=function(e,t){var i=this.existingPredicate[""+e],n=this.parent.createElement("table",{className:"e-xlfl-table",attrs:{role:"grid"}});t.appendChild(n);var r=this.parent.createElement(Ey);r.innerHTML='<col style="width: 50%"></col><col style="width: 50%"></col>',n.appendChild(r);var s=this.renderOperatorUI(e,n,"-xlfl-frstoptr",i,!0);this.firstOperator=s.operator,this.renderFlValueUI(e,s,"-xlfl-frstvalue",i,!0);var o=this.parent.createElement("tr",{className:"e-xlfl-predicate"});n.appendChild(o),this.renderRadioButton(e,o,i),s=this.renderOperatorUI(e,n,"-xlfl-secndoptr",i,!1),this.secondOperator=s.operator,this.renderFlValueUI(e,s,"-xlfl-secndvalue",i,!1)},t.prototype.renderRadioButton=function(e,t,i){var n=this.parent.createElement("td",{className:"e-xlfl-radio",attrs:{colSpan:"2"}});t.appendChild(n);var r=this.parent.createElement("div",{className:"e-xlfl-radiodiv",attrs:{style:"display: inline-block"}}),s=!ko(e)&&dv(e),o=!ko(e)&&fv(e),a=this.parent.createElement("input",{id:s?o+"e-xlfl-frstpredicate":e+"e-xlfl-frstpredicate",attrs:{type:"radio"}}),l=this.parent.createElement("input",{id:s?o+"e-xlfl-secndpredicate":e+"e-xlfl-secndpredicate",attrs:{type:"radio"}});r.appendChild(a),r.appendChild(l),n.appendChild(r),"string"===this.options.type&&this.renderMatchCase(e,t,n,"-xlflmtcase",i);var h=new PN({label:this.getLocalizedLabel("AND"),name:"default",checked:!0,enableRtl:this.parent.enableRtl,cssClass:this.parent.cssClass?this.parent.cssClass:""});this.childRefs.push(h);var c=new PN({label:this.getLocalizedLabel("OR"),name:"default",enableRtl:this.parent.enableRtl,cssClass:this.parent.cssClass?this.parent.cssClass:""});this.childRefs.push(c),"and"===(i&&2===i.length?i[1].predicate:"and")?(h.checked=!0,c.checked=!1):(c.checked=!0,h.checked=!1),h.appendTo(a),c.appendTo(l),h.element.nextElementSibling.classList.add("e-xlfl-radio-and"),c.element.nextElementSibling.classList.add("e-xlfl-radio-or")},t.prototype.removeObjects=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];n&&!n.isDestroyed&&(this.removeHandlersFromComponent(n),n.destroy())}},t.prototype.renderFlValueUI=function(e,t,i,n,r){var s=this.parent.createElement("td",{className:"e-xlfl-value"});t.fieldElement.appendChild(s);var o=!ko(e)&&dv(e),a=!ko(e)&&fv(e),l=this.parent.createElement("div",{className:"e-xlfl-valuediv"}),h=this.options.filteredColumns.some((function(t){return e===t.field})),c=this.options.filteredColumns.filter((function(t){return t.field===e}));if(this.options.column.filterTemplate){var u={},p=this.options.column;h&&i&&(u=this.getExcelFilterData(i,u,p,n,c));var d=this.parent.isReact&&"string"!==typeof this.options.column.filterTemplate,f=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,g=this.parent.element.id+p.uid+"filterTemplate";if(d||f)this.options.column.getFilterTemplate()(u,this.parent,"filterTemplate",g,null,null,l);else{var m=this.options.column.getFilterTemplate()(u,this.parent,"filterTemplate",g);iv(l,m)}d||f?this.parent.renderTemplates((function(){l.querySelector("input").id=o?a+i:e+i,s.appendChild(l)})):((this.parent.isAngular?l.children[0]:l.querySelector("input")).id=o?a+i:e+i,s.appendChild(l))}else{var y=this.parent.createElement("input",{id:o?a+i:e+i});l.appendChild(y),s.appendChild(l);var v=void 0,b=void 0;n&&n.length>0&&ko(v=(b=2===n.length?r?n[0]:n[1]:r?n[0]:void 0)&&b.operator===t.operator?b.value:void 0)&&(v=void 0),{string:this.renderAutoComplete.bind(this),number:this.renderNumericTextBox.bind(this),date:this.renderDate.bind(this),dateonly:this.renderDate.bind(this),datetime:this.renderDateTime.bind(this)}[this.options.type](this.options,e,y,v,this.parent.enableRtl)}},t.prototype.getExcelFilterData=function(e,t,i,n,r){var s="-xlfl-frstvalue"===e?0:1;if("-xlfl-frstvalue"===e||r.length>1){t={column:n instanceof Array?n[parseInt(s.toString(),10)]:n};var o=this.options.column.columnData&&r.length>1?1===this.options.column.columnData.length?0:1:s;t[this.options.field]=i.foreignKeyValue?this.options.column.columnData[parseInt(o.toString(),10)][i.foreignKeyValue]:r[parseInt(o.toString(),10)].value,this.options.foreignKeyValue&&(t[this.options.foreignKeyValue]=this.options.column.columnData[parseInt(o.toString(),10)][i.foreignKeyValue])}return t},t.prototype.renderMatchCase=function(e,t,i,n,r){var s=this.parent.createElement("div",{className:"e-xlfl-matchcasediv",attrs:{style:"display: inline-block"}}),o=!ko(e)&&dv(e),a=!ko(e)&&fv(e),l=this.parent.createElement("input",{id:o?a+n:e+n,attrs:{type:"checkbox"}});s.appendChild(l),i.appendChild(s);var h=!!(r&&r.length>0)&&(r&&2===r.length?r[1].matchCase:r[0].matchCase),c=new JN({label:this.getLocalizedLabel("MatchCase"),enableRtl:this.parent.enableRtl,checked:h,cssClass:this.parent.cssClass?this.parent.cssClass:""});this.childRefs.push(c),c.appendTo(l)},t.prototype.renderDate=function(e,t,i,n,r){var s=Av(e.format,e.type)||e.format,o=new VI(Qy({format:s,cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",placeholder:this.getLocalizedLabel("CustomFilterDatePlaceHolder"),width:"100%",enableRtl:r,value:new Date(n),locale:this.parent.locale},e.column.filter.params));this.childRefs.push(o),o.appendTo(i)},t.prototype.renderDateTime=function(e,t,i,n,r){var s=Av(e.format,e.type),o=new CN(Qy({format:s,cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",placeholder:this.getLocalizedLabel("CustomFilterDatePlaceHolder"),width:"100%",enableRtl:r,value:new Date(n),locale:this.parent.locale},e.column.filter.params));this.childRefs.push(o),o.appendTo(i)},t.prototype.completeAction=function(e){e.result=function(e){for(var t={},i=[],n=0;n<e.length;n++)e[parseInt(n.toString(),10)]in t||(i.push(e[parseInt(n.toString(),10)].toString()),t[e[parseInt(n.toString(),10)]]=1);return i}(e.result)},t.prototype.renderNumericTextBox=function(e,t,i,n,r){var s=new iI(Qy({format:e.format,placeholder:this.getLocalizedLabel("CustomFilterPlaceHolder"),enableRtl:r,value:n,locale:this.parent.locale,cssClass:this.parent.cssClass?this.parent.cssClass:null},e.column.filter.params));this.childRefs.push(s),s.appendTo(i)},t.prototype.renderAutoComplete=function(e,t,i,n,r){var s=this.options.column,o=this.isForeignColumn(s),a=o?s.dataSource:e.dataSource,l={value:o?s.foreignKeyValue:t},h=new H_(Qy({dataSource:a instanceof mp?a:new mp(a),fields:l,query:this.getQuery(),sortOrder:"Ascending",locale:this.parent.locale,cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",autofill:!0,placeholder:this.getLocalizedLabel("CustomFilterPlaceHolder"),enableRtl:r,text:n},s.filter.params));if(a&&"result"in a){var c=Bv({requestType:"stringfilterrequest"},this.getQuery());this.parent.trigger(Am,c.state),c.deffered.promise.then((function(e){h.dataSource=new mp(e)}))}this.childRefs.push(h);var u={actionComplete:this.acActionComplete(h,t),focus:this.acFocus(h,t,e,i)};eb(i.id,[bg,Ly],u,this),h.addEventListener(Ly,this.eventHandlers[i.id][Ly]),h.addEventListener(bg,this.eventHandlers[i.id][bg]),h.appendTo(i)},t.prototype.acActionComplete=function(e,t){return function(i){var n=!ko(t)&&dv(t);i.result=i.result.filter((function(t,i,r){return r.map((function(t){return n?Jv(e.fields.value,t):t[e.fields.value]})).indexOf(n?Jv(e.fields.value,t):t[e.fields.value])===i}))}},t.prototype.acFocus=function(e,t,i,n){var r=this;return function(){var s=!ko(t)&&dv(t),o=!ko(t)&&fv(t),a=s?o:t;e.filterType=r.dlgDiv.querySelector("#"+a+(n.id===a+"-xlfl-frstvalue"?"-xlfl-frstoptr":"-xlfl-secndoptr")).ej2_instances[0].value,e.ignoreCase="string"!==i.type||!r.dlgDiv.querySelector("#"+a+"-xlflmtcase").ej2_instances[0].checked,e.filterType=ko(e.filterType)?"equal":e.filterType}},t}(jM),EC=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),kC=function(e){function t(t,i,n,r){var s=e.call(this,t,i,n)||this;return s.parent=t,s.isresetFocus=!0,s.excelFilterBase=new jC(t,r),s}return EC(t,e),t.prototype.destroy=function(){this.excelFilterBase.closeDialog()},t.prototype.openDialog=function(e){this.excelFilterBase.openDialog(e)},t.prototype.closeDialog=function(){this.excelFilterBase.closeDialog(),this.isresetFocus&&this.parent.notify(Hm,{})},t.prototype.clearCustomFilter=function(e){this.excelFilterBase.clearFilter(e)},t.prototype.closeResponsiveDialog=function(e){e?this.excelFilterBase.removeDialog():this.closeDialog()},t.prototype.applyCustomFilter=function(e){e.isCustomFilter?this.excelFilterBase.filterBtnClick(e.col.field):(this.excelFilterBase.fltrBtnHandler(),this.excelFilterBase.closeDialog())},t.prototype.filterByColumn=function(e,t,i,n,r,s,o,a){this.excelFilterBase.filterByColumn(e,t,i,n,r,s,o,a)},t.prototype.getFilterUIInfo=function(){return this.excelFilterBase.getFilterUIInfo()},t.prototype.getModuleName=function(){return"excelFilter"},t}(TN),zC=function(){function e(e,t,i){this.predicate="and",this.contentRefresh=!0,this.filterByMethod=!0,this.refresh=!0,this.values={},this.operators={},this.cellText={},this.nextFlMenuOpen="",this.type={Menu:DN,CheckBox:TN,Excel:kC},this.filterOperators={contains:"contains",endsWith:"endswith",equal:"equal",greaterThan:"greaterthan",greaterThanOrEqual:"greaterthanorequal",lessThan:"lessthan",lessThanOrEqual:"lessthanorequal",notEqual:"notequal",startsWith:"startswith",wildCard:"wildcard",isNull:"isnull",notNull:"notnull",like:"like"},this.fltrDlgDetails={field:"",isOpen:!1},this.skipNumberInput=["="," ","!"],this.skipStringInput=[">","<","="],this.actualPredicate={},this.parent=e,this.filterSettings=t,this.serviceLocator=i,this.addEventListener(),this.setFullScreenDialog()}return e.prototype.render=function(e){if(!bp.getObject("args.isFrozen",e)){var t=this.parent;if(this.l10n=this.serviceLocator.getService("localization"),this.getLocalizedCustomOperators(),"FilterBar"===this.parent.filterSettings.type&&t.columns.length){var i=this.parent.element.querySelector(".e-filterbar");i&&qa(i);var n=new OM(this.serviceLocator,ov.Filter,t);this.serviceLocator.getService("cellRendererFactory").addCellRenderer(ov.Filter,new L_(this.parent,this.serviceLocator)),this.valueFormatter=this.serviceLocator.getService("valueFormatter"),n.element=this.parent.createElement("tr",{className:"e-filterbar"});var r=this.generateRow();r.data=this.values,this.parent.getHeaderContent().querySelector("thead:not(.e-masked-thead)").appendChild(n.element);var s=this.parent.element.querySelector(".e-rowdragheader");if(this.element=n.render(r,t.getColumns(),null,null,n.element),this.element.querySelectorAll(".e-leftfreeze").length&&(this.element.querySelectorAll(".e-indentcell").length||this.element.querySelectorAll(".e-grouptopleftcell").length))for(var o=this.element.querySelectorAll(".e-indentcell, .e-grouptopleftcell"),a=0;a<o.length;a++)o[parseInt(a.toString(),10)].classList.add("e-leftfreeze"),qv(o[parseInt(a.toString(),10)],30*a,this.parent.enableRtl,"Left");Qv(this.element);var l=this.element.querySelector(".e-detailheadercell");l&&(l.className="e-filterbarcell e-mastercell"),s&&(s.classList.contains("e-leftfreeze")?s.className="e-dragheadercell e-mastercell e-leftfreeze":s.className="e-filterbarcell e-mastercell");var h=[].slice.call(this.element.getElementsByClassName("e-grouptopleftcell"));h.length&&h[h.length-1].classList.add("e-lastgrouptopleftcell"),this.wireEvents(),this.parent.notify(wm,{case:"filter"})}}},e.prototype.showCustomFilter=function(e){this.responsiveDialogRenderer.isCustomDialog=e,this.responsiveDialogRenderer.showResponsiveDialog(this.column)},e.prototype.setFilterModel=function(e){var t=e.filter.type||this.parent.filterSettings.type;this.filterModule=new this.type[""+t](this.parent,this.parent.filterSettings,this.serviceLocator,this.customOperators,this)},e.prototype.destroy=function(){var e=this.parent.element;if(e&&(e.querySelector("."+py)||e.querySelector("."+dy))){if(this.filterModule&&this.filterModule.destroy(),this.parent.refreshing||!this.parent.isDestroyed&&this.parent.allowFiltering||(this.filterSettings.columns=[]),this.updateFilterMsg(),this.removeEventListener(),this.unWireEvents(),"FilterBar"===this.filterSettings.type&&this.filterSettings.showFilterBarOperator)for(var t=[].slice.call(this.element.getElementsByClassName("e-filterbaroperator")),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].ej2_instances[0]&&t[parseInt(i.toString(),10)].ej2_instances[0].destroy();if(this.element){this.element.parentElement&&qa(this.element);var n=this.parent.getHeaderContent().querySelector(".e-filterbar");n&&qa(n)}}},e.prototype.setFullScreenDialog=function(){this.serviceLocator&&this.serviceLocator.registerAdaptiveService(this,this.parent.enableAdaptiveUI,hv.isFilter)},e.prototype.generateRow=function(){var e=new kM({});return e.cells=this.generateCells(),e},e.prototype.generateCells=function(){var e=[];if(this.parent.allowGrouping)for(var t=0,i=this.parent.groupSettings.columns.length;t<i;t++)e.push(this.generateCell({},ov.HeaderIndent));(this.parent.detailTemplate||this.parent.childGrid)&&e.push(this.generateCell({},ov.DetailHeader)),this.parent.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&e.push(this.generateCell({},ov.RowDragHIcon));for(var n=0,r=this.parent.getColumns();n<r.length;n++){var s=r[n];e.push(this.generateCell(s))}return this.parent.isRowDragable()&&"Right"===this.parent.getFrozenMode()&&e.push(this.generateCell({},ov.RowDragHIcon)),e},e.prototype.generateCell=function(e,t){var i={visible:e.visible,isDataCell:!1,rowId:"",column:e,cellType:t||ov.Filter,attributes:{title:this.l10n.getConstant("FilterbarTitle")}};return new zM(i)},e.prototype.updateModel=function(){var e=this.column.isForeignColumn()?this.parent.getColumnByUid(this.column.uid):this.parent.getColumnByField(this.fieldName);this.filterObjIndex=this.getFilteredColsIndexByField(e),this.prevFilterObject=this.filterSettings.columns[this.filterObjIndex];for(var t=Array.isArray(this.value)?this.value:[this.value],i=this.parent.dataSource.adaptor&&this.parent.dataSource.adaptor.getModuleName?this.parent.dataSource.adaptor.getModuleName():void 0,n=0,r=t.length;n<r;n++){var s=e.isForeignColumn()?e.foreignKeyValue:this.fieldName,o="notequal"===this.operator;this.currentFilterObject={field:s,uid:e.uid,isForeignKey:e.isForeignColumn(),operator:this.operator,value:t[parseInt(n.toString(),10)],predicate:this.predicate,matchCase:this.matchCase,ignoreAccent:this.ignoreAccent,actualFilterValue:{},actualOperator:{}};var a=this.getFilteredColsIndexByField(e);if(a>-1&&!Array.isArray(this.value)?this.filterSettings.columns[parseInt(a.toString(),10)]=this.currentFilterObject:this.filterSettings.columns.push(this.currentFilterObject),!this.column.isForeignColumn()&&ko(this.value)&&("equal"===this.operator||"notequal"===this.operator)&&"ODataAdaptor"!==i&&"ODataV4Adaptor"!==i){for(var l=0;l<this.filterSettings.columns.length;l++)this.filterSettings.columns[""+l].field!==s||"equal"!==this.filterSettings.columns[""+l].operator&&"notequal"!==this.filterSettings.columns[""+l].operator||!ko(this.filterSettings.columns[""+l].value)||(this.filterSettings.columns.splice(l,1),l-=1);"string"===e.type&&this.filterSettings.columns.push({field:s,ignoreAccent:this.ignoreAccent,matchCase:this.matchCase,operator:this.operator,predicate:o?"and":"or",value:""}),this.filterSettings.columns.push({field:s,ignoreAccent:this.ignoreAccent,matchCase:this.matchCase,operator:this.operator,predicate:o?"and":"or",value:void 0}),this.filterSettings.columns.push({field:s,ignoreAccent:this.ignoreAccent,matchCase:this.matchCase,operator:this.operator,predicate:o?"and":"or",value:null})}}this.filterSettings.columns=this.filterSettings.columns,this.parent.dataBind()},e.prototype.getFilteredColsIndexByField=function(e){for(var t=this.filterSettings.columns,i=0,n=t.length;i<n;i++)if(t[parseInt(i.toString(),10)].uid===e.uid||e.isForeignColumn()&&this.parent.getColumnByUid(e.uid).field===e.foreignKeyValue)return i;return-1},e.prototype.onActionComplete=function(e){var t=this.isRemove?{requestType:"filtering",type:bg}:{currentFilterObject:this.currentFilterObject,currentFilteringColumn:ko(this.column)?void 0:this.column.field,columns:this.filterSettings.columns,requestType:"filtering",type:bg};this.parent.trigger(bg,Eo(e,t)),this.isRemove=!1},e.prototype.wireEvents=function(){Oa.add(this.parent.getHeaderContent(),"keyup",this.keyUpHandlerImmediate,this)},e.prototype.unWireEvents=function(){Oa.remove(this.parent.getHeaderContent(),"keyup",this.keyUpHandlerImmediate)},e.prototype.enableAfterRender=function(e){e.module===this.getModuleName()&&e.enable&&(this.parent.getHeaderTable().classList.add("e-sortfilter"),this.render())},e.prototype.refreshFilterValue=function(){this.parent.removeEventListener(Lg,this.refreshFilterValueFn),"FilterBar"===this.filterSettings.type&&this.filterSettings.columns.length&&!this.parent.getCurrentViewRecords().length&&this.initialEnd()},e.prototype.initialEnd=function(){if(this.parent.off(Wg,this.initialEnd),this.parent.getColumns().length&&this.filterSettings.columns.length){var e=this.parent;this.contentRefresh=!1,this.initialLoad=!0;for(var t=0,i=e.filterSettings.columns;t<i.length;t++){var n=i[t];this.filterByColumn(n.field,n.operator,n.value,n.predicate,n.matchCase,n.ignoreAccent,n.actualFilterValue,n.actualOperator,n.isForeignKey)}this.initialLoad=!1,this.updateFilterMsg(),this.contentRefresh=!0}},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(iy,this.setFullScreenDialog,this),this.parent.on(Yg,this.enableAfterRender,this),this.parent.on(Jg,this.onActionComplete,this),this.parent.on(qg,this.onPropertyChanged,this),this.parent.on(nm,this.keyUpHandler,this),this.parent.on(hm,this.columnPositionChanged,this),this.parent.on(Xg,this.render,this),this.parent.on(Wg,this.initialEnd,this),this.parent.on(Nm,this.filterMenuClose,this),this.docClickHandler=this.clickHandler.bind(this),Oa.add(document,"click",this.docClickHandler,this),Oa.add(this.parent.element,"mousedown",this.refreshClearIcon,this),this.parent.on(_m,this.columnMenuFilter,this),this.parent.on(rm,this.filterIconClickHandler,this),this.parent.on("persist-data-changed",this.initialEnd,this),this.parent.on(Qm,this.clickHandler,this),this.parent.on(sm,this.destroy,this),this.refreshFilterValueFn=this.refreshFilterValue.bind(this),this.parent.addEventListener(Lg,this.refreshFilterValueFn))},e.prototype.removeEventListener=function(){Oa.remove(document,"click",this.docClickHandler),Oa.remove(this.parent.element,"mousedown",this.refreshClearIcon),this.parent.isDestroyed||(this.parent.off(iy,this.setFullScreenDialog),this.parent.off(Yg,this.enableAfterRender),this.parent.off(Jg,this.onActionComplete),this.parent.off(qg,this.onPropertyChanged),this.parent.off(nm,this.keyUpHandler),this.parent.off(hm,this.columnPositionChanged),this.parent.off(Xg,this.render),this.parent.off(_m,this.columnMenuFilter),this.parent.off(Nm,this.filterMenuClose),this.parent.off(rm,this.filterIconClickHandler),this.parent.off(Qm,this.clickHandler),this.parent.off(sm,this.destroy))},e.prototype.refreshClearIcon=function(e){if(this.parent.allowFiltering&&"FilterBar"===this.parent.filterSettings.type&&e.target.closest("th")&&e.target.closest("th").classList.contains("e-filterbarcell")&&e.target.classList.contains("e-clear-icon")){var t=e.target.previousElementSibling;Ou.setValue(null,t,"Never",!0),"Immediate"===this.filterSettings.mode&&this.removeFilteredColsByField(t.id.slice(0,-14))}},e.prototype.filterMenuClose=function(){this.fltrDlgDetails.isOpen=!1},e.prototype.filterByColumn=function(e,t,i,n,r,s,o,a,l){var h,c=this,u=this.parent;if(this.column=u.grabColumnByFieldFromAllCols(e,l),"FilterBar"===this.filterSettings.type&&this.filterSettings.showFilterBarOperator&&ko(this.column.filterBarTemplate)&&ko(this.column.filterTemplate)&&(t=this.getOperatorName(e)),"like"===t&&-1===i.indexOf("%")&&(i="%"+i+"%"),this.column)if("FilterBar"===this.filterSettings.type&&(h=u.getHeaderContent().querySelector("[id='"+this.column.field+"_filterBarcell']")),ko(this.column.allowFiltering)||this.column.allowFiltering)if(gv(u))u.notify(ym,{instance:this,handler:this.filterByColumn,arg1:e,arg2:t,arg3:i,arg4:n,arg5:r,arg6:s,arg7:o,arg8:a});else{if(this.predicate=n||(Array.isArray(i)?"or":"and"),this.value=i,this.matchCase=r||!1,this.ignoreAccent=this.ignoreAccent=ko(s)?this.parent.filterSettings.ignoreAccent:s,this.fieldName=e,this.operator=t,""===(i=ko(i)?i:i.toString())&&(i=null),"number"!==this.column.type&&"date"!==this.column.type||(this.matchCase=!0),u.getColumnHeaderByField(this.column.isForeignColumn()?this.column.field:e).setAttribute("aria-filtered","true"),h&&"FilterBar"===this.filterSettings.type){if(i&&i.length<1||!this.filterByMethod&&this.checkForSkipInput(this.column,i))return this.filterStatusMsg=i&&i.length<1?"":this.l10n.getConstant("InvalidFilterMessage"),void this.updateFilterMsg();h.value!==i&&(h.value=i)}ko(this.column.format)?this.values[this.column.field]=i:(this.applyColumnFormat(i),this.initialLoad&&"FilterBar"===this.filterSettings.type&&(h.value=this.values[this.column.field]));var p={field:this.fieldName,predicate:n,matchCase:r,ignoreAccent:s,operator:this.operator,value:this.value,type:this.column.type};this.parent.filterSettings.columns.filter((function(e){return e.field===c.fieldName})).length>1&&!ko(this.actualPredicate[this.fieldName])?this.actualPredicate[this.fieldName].push(p):this.actualPredicate[this.fieldName]=[p],this.checkAlreadyColFiltered(this.column.field)||this.updateModel()}else this.parent.log("action_disabled_column",{moduleName:this.getModuleName(),columnName:this.column.headerText})},e.prototype.applyColumnFormat=function(e){var t=this,i="date"===this.column.type||"datetime"===this.column.type||"dateonly"===this.column.type?new Date(e):parseFloat(e);("date"===this.column.type||"datetime"===this.column.type||"dateonly"===this.column.type)&&e&&Array.isArray(this.value)&&e.split(",").length>1?this.values[this.column.field]=e.split(",").map((function(e){return""===e&&(e=null),t.setFormatForFlColumn(new Date(e),t.column)})):this.values[this.column.field]=this.setFormatForFlColumn(i,this.column)},e.prototype.skipUid=function(e){for(var t=!0,i=Object.keys(e),n=0;n<i.length;n++){var r=Object.keys(e[i[parseInt(n.toString(),10)]]);1===r.length&&"uid"===r[0]&&(t=!1)}return t},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName())for(var t=0,i=Object.keys(e.properties);t<i.length;t++){var n=i[t];switch(n){case"columns":var r={currentFilterObject:this.currentFilterObject,currentFilteringColumn:this.column?this.column.field:void 0,action:"filter",columns:this.filterSettings.columns,requestType:"filtering",type:vg,cancel:!1};if(this.contentRefresh&&this.skipUid(e.properties.columns)){if(this.parent.notify(Gg,r),r.cancel){if("CheckBox"===this.filterSettings.type||"Excel"===this.filterSettings.type){this.filterSettings.columns=this.actualData.length<=1?this.checkboxPrevFilterObject:this.checkboxFilterObject,this.actualPredicate[this.column.field]=this.filterSettings.columns;var s=this.parent.getColumnByField(this.column.field),o=this.parent.showColumnMenu&&s.showColumnMenu?".e-columnmenu":".e-icon-filter",a=this.parent.getColumnHeaderByField(this.column.field).querySelector(o);0===this.checkboxPrevFilterObject.length?a.classList.remove("e-filtered"):a.classList.add("e-filtered")}else ko(this.prevFilterObject)?this.filterSettings.columns.splice(this.filterSettings.columns.length-1,1):this.filterSettings.columns[this.filterObjIndex]=this.prevFilterObject;return}this.updateFilterIcon(),this.refreshFilterSettings(),this.updateFilterMsg(),this.updateFilter()}break;case"showFilterBarStatus":e.properties[""+n]?this.updateFilterMsg():this.parent.allowPaging&&this.parent.updateExternalMessage("");break;case"showFilterBarOperator":case"type":this.parent.refreshHeader(),this.refreshFilterSettings()}}},e.prototype.refreshFilterSettings=function(){if("FilterBar"===this.filterSettings.type){for(var e=0;e<this.filterSettings.columns.length;e++){this.column=this.parent.grabColumnByUidFromAllCols(this.filterSettings.columns[parseInt(e.toString(),10)].uid);var t=this.filterSettings.columns[parseInt(e.toString(),10)].value;if(t=!ko(t)&&t.toString(),ko(this.column.format)){var i=this.filterSettings.columns[parseInt(e.toString(),10)].field;this.values[""+i]=this.filterSettings.columns[parseInt(e.toString(),10)].value}else this.applyColumnFormat(t);(r=this.getFilterBarElement(this.column.field))&&(""===this.cellText[this.filterSettings.columns[parseInt(e.toString(),10)].field]||ko(this.cellText[this.filterSettings.columns[parseInt(e.toString(),10)].field])?r.value=this.filterSettings.columns[parseInt(e.toString(),10)].value:r.value=this.cellText[this.column.field])}if(0===this.filterSettings.columns.length){var n=this.parent.getColumns();for(e=0;e<n.length;e++){var r;(r=this.getFilterBarElement(n[parseInt(e.toString(),10)].field))&&""!==r.value&&(r.value="",delete this.values[n[parseInt(e.toString(),10)].field])}}}},e.prototype.updateFilterIcon=function(){if(0===this.filterSettings.columns.length&&this.parent.element.querySelector(".e-filtered"))for(var e=[].slice.call(this.parent.element.getElementsByClassName("e-filtered")),t=0,i=e.length;t<i;t++)e[parseInt(t.toString(),10)].removeAttribute("aria-filtered"),e[parseInt(t.toString(),10)].classList.remove("e-filtered")},e.prototype.getFilterBarElement=function(e){var t,i="[id='"+e+"_filterBarcell']";return i&&!ko(this.element)&&(t=this.element.querySelector(i)),t},e.prototype.refreshFilter=function(){this.refreshFilterSettings(),this.updateFilterMsg()},e.prototype.clearFiltering=function(e){var t=this,i=Zy(this.filterSettings.columns);if(!ko(e))return this.refresh=!1,e.forEach((function(e){t.removeFilteredColsByField(e,!1)})),this.parent.setProperties({filterSettings:{columns:this.filterSettings.columns}},!0),this.parent.renderModule.refresh(),void(this.refresh=!0);if(gv(this.parent))this.parent.notify(ym,{instance:this,handler:this.clearFiltering});else{for(var n=0;n<i.length;n++)i[parseInt(n.toString(),10)].uid=i[parseInt(n.toString(),10)].uid||this.parent.getColumnByField(i[parseInt(n.toString(),10)].field).uid;var r=i.map((function(e){return e.uid})),s=r.filter((function(e,t){return r.indexOf(e)===t}));this.refresh=!1;n=0;for(var o=s.length;n<o;n++)this.removeFilteredColsByField(this.parent.getColumnByUid(s[parseInt(n.toString(),10)]).field,!1);if(this.refresh=!0,s.length&&this.parent.renderModule.refresh(),0===this.parent.filterSettings.columns.length&&this.parent.element.querySelector(".e-filtered")){var a=[].slice.call(this.parent.element.getElementsByClassName("e-filtered"));for(n=0,o=a.length;n<o;n++)a[0].removeAttribute("aria-filtered"),a[0].classList.remove("e-filtered")}this.isRemove=!0,this.filterStatusMsg="",this.updateFilterMsg()}},e.prototype.checkAlreadyColFiltered=function(e){for(var t=0,i=this.filterSettings.columns;t<i.length;t++){var n=i[t];if(n.field===e&&n.value===this.value&&n.operator===this.operator&&n.predicate===this.predicate)return!0}return!1},e.prototype.columnMenuFilter=function(e){this.column=e.col;var t=Za(e.target,"#"+e.id);e.isClose&&!t?this.filterModule.closeDialog():t&&this.filterDialogOpen(this.column,e.target)},e.prototype.filterDialogOpen=function(e,t,i,n){this.filterModule&&(this.filterModule.isresetFocus=!1,this.filterModule.closeDialog()),this.setFilterModel(e),this.filterModule.openDialog(this.createOptions(e,t,i,n))},e.prototype.createOptions=function(e,t,i,n){var r=this.parent,s=e.filter.dataSource||r.dataSource&&"result"in r.dataSource?r.dataSource:r.getDataModule().dataManager,o=e.filter.type||this.parent.filterSettings.type;return{type:e.type,field:e.field,displayName:e.headerText,dataSource:s,format:e.format,height:800,columns:r.getColumns(),filteredColumns:r.filterSettings.columns,target:t,dataManager:r.getDataModule().dataManager,formatFn:e.getFormatter(),ignoreAccent:r.filterSettings.ignoreAccent,parserFn:e.getParser(),query:r.query,template:e.getFilterItemTemplate(),hideSearchbox:!ko(e.filter.hideSearchbox)&&e.filter.hideSearchbox,handler:this.filterHandler.bind(this),localizedStrings:r.getLocaleConstants(),position:{X:i,Y:n},column:e,foreignKeyValue:e.foreignKeyValue,actualPredicate:this.actualPredicate,localeObj:r.localeObj,isRemote:r.getDataModule().isRemote(),allowCaseSensitive:this.filterSettings.enableCaseSensitivity,isResponsiveFilter:this.parent.enableAdaptiveUI,operator:this.actualPredicate[e.field]&&"Menu"===o?this.actualPredicate[e.field][0].operator:"equal"}},e.prototype.removeFilteredColsByField=function(e,t){var i,n=this.filterSettings.columns;if(gv(this.parent)){var r={instance:this,handler:this.removeFilteredColsByField,arg1:e,arg2:t};this.parent.notify(ym,r)}else{var s=n.map((function(e){return e.uid})),o=s.filter((function(e,t){return s.indexOf(e)===t}));if(!ko(this.column)){var a=this.column.isForeignColumn()?this.parent.getColumnByUid(this.column.uid):this.parent.getColumnByField(e);this.filterObjIndex=this.getFilteredColsIndexByField(a),this.prevFilterObject=this.filterSettings.columns[this.filterObjIndex]}for(var l=function(r,s){n[parseInt(r.toString(),10)].uid=n[parseInt(r.toString(),10)].uid||h.parent.getColumnByField(n[parseInt(r.toString(),10)].field).uid;var a=n.length,l=h.parent.grabColumnByUidFromAllCols(o[parseInt(r.toString(),10)]);if(l.field===e||l.field===l.foreignKeyValue&&l.isForeignColumn()){var c=h.filterSettings.columns.filter((function(e){return e.uid===l.uid}))[0];if("FilterBar"===h.filterSettings.type&&!t){var u="[id='"+l.field+"_filterBarcell']";(i=h.parent.getHeaderContent().querySelector(u))&&(i.value="",delete h.values[""+e])}for(;a--;)n[parseInt(a.toString(),10)].uid===l.uid&&n.splice(a,1);var p=h.parent.getColumnHeaderByField(l.field);if(p.removeAttribute("aria-filtered"),"FilterBar"!==h.filterSettings.type||h.parent.showColumnMenu){var d=h.parent.showColumnMenu&&l.showColumnMenu?".e-columnmenu":".e-icon-filter";p.querySelector(d).classList.remove("e-filtered")}return h.isRemove=!0,h.actualPredicate[""+e]&&delete h.actualPredicate[""+e],h.values[""+e]&&delete h.values[""+e],h.refresh&&h.parent.notify(Gg,{requestType:"filtering",type:vg,currentFilterObject:c,currentFilterColumn:l,action:"clearFilter"}),"break"}},h=this,c=0,u=o.length;c<u;c++){if("break"===l(c))break}this.updateFilterMsg()}},e.prototype.getModuleName=function(){return"filter"},e.prototype.keyUpHandlerImmediate=function(e){13!==e.keyCode&&this.keyUpHandler(e)},e.prototype.keyUpHandler=function(e){var t=this.parent,i=e.target;if(i&&tl(i,".e-filterbar input")){var n=Za(i,"th.e-filterbarcell");if(this.column=t.getColumnByUid(n.getAttribute("e-mappinguid")),!this.column)return;if("altDownArrow"===e.action&&this.parent.filterSettings.showFilterBarOperator){var r=Za(i,"span").querySelector(".e-filterbaroperator");r.ej2_instances[0].showPopup(),r.focus()}"Immediate"!==this.filterSettings.mode&&(13!==e.keyCode||e.target.classList.contains("e-filterbaroperator"))||9===e.keyCode||this.column.filterTemplate||(this.value=i.value.trim(),this.processFilter(e))}if("altDownArrow"===e.action&&"FilterBar"!==this.filterSettings.type){var s=t.focusModule.currentInfo.element;if(s&&s.classList.contains("e-headercell")){var o=t.getColumnByUid(s.firstElementChild.getAttribute("e-mappinguid"));this.openMenuByField(o.field),this.parent.focusModule.clearIndicator()}}"escape"===e.action&&"Menu"===this.filterSettings.type&&this.filterModule&&(this.filterModule.closeDialog(),t.notify(Hm,{}))},e.prototype.updateCrossIcon=function(e){e.value.length&&e.nextElementSibling.classList.remove("e-hide")},e.prototype.updateFilterMsg=function(){if("FilterBar"===this.filterSettings.type){var e=this.parent,t=void 0,i=this.filterSettings.columns,n=void 0;if(!this.filterSettings.showFilterBarStatus)return;if(i.length>0&&this.filterStatusMsg!==this.l10n.getConstant("InvalidFilterMessage")){this.filterStatusMsg="";for(var r=0;r<i.length;r++)if(n=e.grabColumnByUidFromAllCols(i[parseInt(r.toString(),10)].uid)||e.grabColumnByFieldFromAllCols(i[parseInt(r.toString(),10)].field,i[parseInt(r.toString(),10)].isForeignKey),r&&(this.filterStatusMsg+=" && "),ko(n.format))this.filterStatusMsg+=n.headerText+": "+this.values[n.field];else{var s="date"===n.type||"datetime"===n.type||"dateonly"===n.type?this.valueFormatter.fromView(this.values[n.field],n.getParser(),"dateonly"===n.type?"date":n.type):this.values[n.field];if("date"!==n.type&&"datetime"!==n.type&&"dateonly"!==n.type)t=this.serviceLocator.getService("valueFormatter").toView(s,n.getParser()).toString();else t=this.setFormatForFlColumn(s,n);this.filterStatusMsg+=n.headerText+": "+t}}e.allowPaging&&e.updateExternalMessage(this.filterStatusMsg),this.filterStatusMsg=""}},e.prototype.setFormatForFlColumn=function(e,t){return this.serviceLocator.getService("valueFormatter").toView(e,t.getFormatter()).toString()},e.prototype.checkForSkipInput=function(e,t){var i;if("number"===e.type)(bp.operatorSymbols[""+t]||this.skipNumberInput.indexOf(t)>-1)&&(i=!0);else if("string"===e.type)for(var n=0,r=t;n<r.length;n++){var s=r[n];this.skipStringInput.indexOf(s)>-1&&(i=!0)}return i},e.prototype.processFilter=function(e){this.stopTimer(),this.startTimer(e)},e.prototype.startTimer=function(e){var t=this;this.timer=window.setInterval((function(){t.onTimerTick()}),13===e.keyCode?0:this.filterSettings.immediateModeDelay)},e.prototype.stopTimer=function(){window.clearInterval(this.timer)},e.prototype.onTimerTick=function(){var e,t="[id='"+this.column.field+"_filterBarcell']",i=this.element.querySelector(t);if(i||(i=this.parent.getHeaderContent().querySelector(t)),this.cellText[this.column.field]=i.value,this.stopTimer(),ko(this.column.filterBarTemplate))e=JSON.parse(JSON.stringify(i.value));else{var n=this.column.filterBarTemplate.read;"string"===typeof n&&(n=No(n,window)),ko(n)||(this.value=n.call(this,i))}ko(this.value)||""===this.value?this.removeFilteredColsByField(this.column.field):(this.validateFilterValue(this.value),this.filterByMethod=!1,this.filterByColumn(this.column.field,this.operator,this.value,this.predicate,this.filterSettings.enableCaseSensitivity,this.ignoreAccent,this.column.isForeignColumn()),this.filterByMethod=!0,i.value=e,this.updateFilterMsg())},e.prototype.validateFilterValue=function(e){var t,i;switch(this.matchCase=this.filterSettings.enableCaseSensitivity,this.column.type){case"number":this.column.filter.operator?this.operator=this.column.filter.operator:this.operator=this.filterOperators.equal,t=[">","<","=","!"];for(var n=0;n<e.length;n++)if(t.indexOf(e[parseInt(n.toString(),10)])>-1){i=n;break}this.getOperator(e.substring(i)),0!==i&&(this.value=e.substring(0,i)),""!==this.value&&e.length>=1&&(this.value=this.valueFormatter.fromView(this.value,this.column.getParser(),this.column.type)),isNaN(this.value)&&(this.filterStatusMsg=this.l10n.getConstant("InvalidFilterMessage"));break;case"date":case"datetime":this.operator=this.filterOperators.equal,""===this.value||this.value instanceof Date||(this.getOperator(e),this.value=this.valueFormatter.fromView(this.value,this.column.getParser(),this.column.type),ko(this.value)&&(this.filterStatusMsg=this.l10n.getConstant("InvalidFilterMessage")));break;case"string":this.matchCase=!1,this.column.filter.operator?this.operator=this.column.filter.operator:-1!==e.indexOf("*")||-1!==e.indexOf("?")||-1!==e.indexOf("%3f")?this.operator=this.filterOperators.wildCard:-1!==e.indexOf("%")?this.operator=this.filterOperators.like:this.operator=this.filterOperators.startsWith;break;case"boolean":"true"===e.toLowerCase()||"1"===e?this.value=!0:"false"===e.toLowerCase()||"0"===e?this.value=!1:e.length&&(this.filterStatusMsg=this.l10n.getConstant("InvalidFilterMessage")),this.operator=this.filterOperators.equal;break;default:this.column.filter.operator?this.operator=this.column.filter.operator:this.operator=this.filterOperators.equal}},e.prototype.getOperator=function(e){var t=e.charAt(0),i=e.slice(0,2),n=Eo({"=":this.filterOperators.equal,"!":this.filterOperators.notEqual},bp.operatorSymbols);(n.hasOwnProperty(t)||n.hasOwnProperty(i))&&(this.operator=n[""+t],this.value=e.substring(1),this.operator||(this.operator=n[""+i],this.value=e.substring(2))),this.operator!==this.filterOperators.lessThan&&this.operator!==this.filterOperators.greaterThan||"="===this.value.charAt(0)&&(this.operator=this.operator+"orequal",this.value=this.value.substring(1))},e.prototype.columnPositionChanged=function(){this.parent.filterSettings.type},e.prototype.getLocalizedCustomOperators=function(){var e=[{value:"equal",text:this.l10n.getConstant("Equal")},{value:"greaterthan",text:this.l10n.getConstant("GreaterThan")},{value:"greaterthanorequal",text:this.l10n.getConstant("GreaterThanOrEqual")},{value:"lessthan",text:this.l10n.getConstant("LessThan")},{value:"lessthanorequal",text:this.l10n.getConstant("LessThanOrEqual")},{value:"notequal",text:this.l10n.getConstant("NotEqual")},{value:"isnull",text:this.l10n.getConstant("IsNull")},{value:"isnotnull",text:this.l10n.getConstant("NotNull")}];this.customOperators={stringOperator:[{value:"startswith",text:this.l10n.getConstant("StartsWith")},{value:"endswith",text:this.l10n.getConstant("EndsWith")},{value:"contains",text:this.l10n.getConstant("Contains")},{value:"equal",text:this.l10n.getConstant("Equal")},{value:"isempty",text:this.l10n.getConstant("IsEmpty")},{value:"doesnotstartwith",text:this.l10n.getConstant("NotStartsWith")},{value:"doesnotendwith",text:this.l10n.getConstant("NotEndsWith")},{value:"doesnotcontain",text:this.l10n.getConstant("NotContains")},{value:"notequal",text:this.l10n.getConstant("NotEqual")},{value:"isnotempty",text:this.l10n.getConstant("IsNotEmpty")},{value:"like",text:this.l10n.getConstant("Like")}],numberOperator:e,dateOperator:e,datetimeOperator:e,dateonlyOperator:e,booleanOperator:[{value:"equal",text:this.l10n.getConstant("Equal")},{value:"notequal",text:this.l10n.getConstant("NotEqual")}]}},e.prototype.openMenuByField=function(e){var t=this.parent;if(t.enableAdaptiveUI)this.showCustomFilter(!1);else{var i=t.getColumnByField(e),n=t.getColumnHeaderByField(e).querySelector(".e-filtermenudiv");if(n){var r=t.element.getBoundingClientRect(),s=n.getBoundingClientRect();this.filterDialogOpen(i,n,s.right-r.left,s.bottom-r.top)}}},e.prototype.filterIconClickHandler=function(e){var t=e.target;if(t.classList.contains("e-filtermenudiv")&&("Menu"===this.parent.filterSettings.type||"CheckBox"===this.parent.filterSettings.type||"Excel"===this.parent.filterSettings.type)){var i=this.parent.getColumnByUid(Jy(t,"e-headercell").firstElementChild.getAttribute("e-mappinguid"));if(this.column=i,this.fltrDlgDetails.field===i.field&&this.fltrDlgDetails.isOpen)return;this.filterModule&&this.filterModule.closeDialog(),this.fltrDlgDetails={field:i.field,isOpen:!0},this.openMenuByField(i.field)}},e.prototype.clickHandler=function(e){if("FilterBar"===this.filterSettings.type&&this.filterSettings.showFilterBarOperator){if(Jy(e.target,"e-filterbarcell")&&e.target.classList.contains("e-input-group-icon")){var t=Za(e.target,"div").querySelector(".e-filterbaroperator");t?t.focus():e.target.focus()}if(e.target.classList.contains("e-list-item")){var i=document.querySelector(".e-popup-open").getAttribute("id").replace("_popup","");-1!==i.indexOf("grid-column")&&Za(document.getElementById(i),"div").querySelector(".e-filtertext").focus()}}if("Immediate"===this.filterSettings.mode||"Menu"===this.parent.filterSettings.type||"CheckBox"===this.parent.filterSettings.type||"Excel"===this.parent.filterSettings.type){var n=e.target,r=n.classList.contains("e-day"),s=Jy(this.parent.element,"e-dialog"),o=!1,a=Jy(n,"e-popup"),l=this.parent.element.classList.contains("e-device")?document.querySelector(".e-filter-popup"):this.parent.element.querySelector(".e-filter-popup");if(s&&a&&(o=s.id===a.id),this.filterModule&&l&&(Jy(n,"e-excel-ascending")||Jy(n,"e-excel-descending"))&&this.filterModule.closeDialog(n),Jy(n,"e-filter-popup")||n.classList.contains("e-filtermenudiv"))return;!this.filterModule||Jy(n,"e-date-overflow")||Jy(n,"e-popup-wrapper")||Za(n,".e-filter-item.e-menu-item")||r||(o&&!Jy(n,"e-filter-popup")&&!Jy(n,"e-popup-flmenu")||!a&&l)&&(this.filterModule.isresetFocus=Jy(n,"e-grid")&&Jy(n,"e-grid").id===this.parent.element.id,this.filterModule.closeDialog(n))}},e.prototype.filterHandler=function(e){this.actualPredicate[e.field]=e.actualPredicate,this.actualData=Object.keys(this.actualPredicate);var t=new mp(this.filterSettings.columns),i=(new sp).where("field",this.filterOperators.equal,e.field);this.checkboxFilterObject=t.dataSource.json,this.checkboxPrevFilterObject=t.executeLocal(i);for(var n=0;n<this.checkboxPrevFilterObject.length;n++){for(var r=-1,s=0;s<this.filterSettings.columns.length;s++)if(this.checkboxPrevFilterObject[parseInt(n.toString(),10)].field===this.filterSettings.columns[parseInt(s.toString(),10)].field){r=s;break}-1!==r&&this.filterSettings.columns.splice(r,1)}this.values[e.field]&&delete this.values[e.field];var o=this.parent.getColumnByField(e.field),a=this.parent.showColumnMenu&&o.showColumnMenu?".e-columnmenu":".e-icon-filter",l=this.parent.getColumnHeaderByField(e.field).querySelector(a);"filtering"===e.action?(this.filterSettings.columns=this.filterSettings.columns.concat(e.filterCollection),this.filterSettings.columns.length&&l&&l.classList.add("e-filtered")):(l&&l.classList.remove("e-filtered"),e.requestType="filtering",this.parent.renderModule.refresh(e)),this.parent.dataBind()},e.prototype.updateFilter=function(){var e=this.filterSettings.columns;this.actualPredicate={};for(var t=0;t<e.length;t++){this.column=this.parent.getColumnByField(e[parseInt(t.toString(),10)].field)||Nv(e[parseInt(t.toString(),10)].field,this.parent.getForeignKeyColumns());var i=e[parseInt(t.toString(),10)].field;this.parent.getColumnByField(e[parseInt(t.toString(),10)].field)||(i=Nv(e[parseInt(t.toString(),10)].field,this.parent.getForeignKeyColumns()).field),this.refreshFilterIcon(i,e[parseInt(t.toString(),10)].operator,e[parseInt(t.toString(),10)].value,e[parseInt(t.toString(),10)].type,e[parseInt(t.toString(),10)].predicate,e[parseInt(t.toString(),10)].matchCase,e[parseInt(t.toString(),10)].ignoreAccent,e[parseInt(t.toString(),10)].uid)}},e.prototype.refreshFilterIcon=function(e,t,i,n,r,s,o,a){var l={field:e,predicate:r,matchCase:s,ignoreAccent:o,operator:t,value:i,type:n};this.actualPredicate[""+e]?this.actualPredicate[""+e].push(l):this.actualPredicate[""+e]=[l];var h=a?this.parent.grabColumnByUidFromAllCols(a).field:e;this.addFilteredClass(h)},e.prototype.addFilteredClass=function(e){var t,i=this.parent.getColumnByField(e);this.parent.showColumnMenu&&i.showColumnMenu?t=this.parent.getColumnHeaderByField(e).querySelector(".e-columnmenu"):i&&(t=this.parent.getColumnHeaderByField(e).querySelector(".e-icon-filter")),t&&t.classList.add("e-filtered")},e.prototype.getFilterUIInfo=function(){return this.filterModule?this.filterModule.getFilterUIInfo():{}},e.prototype.getOperatorName=function(e){return document.getElementById(this.parent.getColumnByField(e).uid).ej2_instances[0].value},e.prototype.renderCheckboxOnFilterMenu=function(){return this.filterModule.renderCheckBoxMenu()},e}(),LC=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),OC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return LC(t,e),t}(Array),PC=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),RC=function(){this.isSummaryRowBelow=!0,this.showGridLines=!0,this.enableRtl=!1},FC=function(){},BC=function(){},VC=function(){},UC=function(){},HC=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.add=function(e){for(var n=!1,r=0,s=0,o=i;s<o.length;s++){var a=o[s];if(t.isIntersecting(a,e)){var l=new UC;l.x=Math.min(a.x,e.x),l.y=Math.min(a.Y,e.y),l.width=Math.max(a.Width+a.X,e.width+e.x),l.height=Math.max(a.Height+a.Y,e.height+e.y),l.ref=i[r].ref.split(":")[0]+":"+e.ref.split(":")[1],i[r]=l,e=l,n=!0}r++}return n||i.push(e),e},i}return PC(t,e),t.isIntersecting=function(e,t){return e.x<=t.x+t.width&&t.x<=e.x+e.width&&e.y<=t.y+t.height&&t.y<=e.y+e.height},t}(Array),WC=function(){this.numFmtId=0,this.backColor="none",this.fontName="Calibri",this.fontSize=10.5,this.fontColor="#000000",this.italic=!1,this.bold=!1,this.underline=!1,this.strikeThrough=!1,this.wrapText=!1,this.hAlign="general",this.vAlign="bottom",this.indent=0,this.rotation=0,this.numberFormat="GENERAL",this.type="datetime",this.borders=new ZC,this.isGlobalStyle=!1},YC=function(){this.sz=10.5,this.name="Calibri",this.u=!1,this.b=!1,this.i=!1,this.color="FF000000",this.strike=!1},QC=function(){},qC=function(){},GC=function(){},KC=function(){this.name="Normal",this.xfId=0},XC=function(e,t){this.numFmtId=e,this.formatCode=t},JC=function(e,t){this.lineStyle=e,this.color=t},ZC=function(){this.left=new JC("none","#FFFFFF"),this.right=new JC("none","#FFFFFF"),this.top=new JC("none","#FFFFFF"),this.bottom=new JC("none","#FFFFFF"),this.all=new JC("none","#FFFFFF")},$C=function(){},ex=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tx=function(){},ix=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.add=function(e){t.push(e)},t}return ex(t,e),t}(Array),nx=function(){},rx=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),sx=function(){},ox=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.add=function(e){for(var i=!1,n=0,r=0,s=t;r<s.length;r++){s[r].index===e.index&&(t[n]=e,i=!0),n++}i||t.push(e)},t}return rx(t,e),t}(Array),ax=function(){function e(){}return e.bitReverse=function(t){return e.reverseBits[15&t]<<12|e.reverseBits[t>>4&15]<<8|e.reverseBits[t>>8&15]<<4|e.reverseBits[t>>12]},e.bitConverterToInt32=function(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24},e.bitConverterToInt16=function(e,t){return e[t]|e[t+1]<<8},e.bitConverterToUInt32=function(e){var t=new Uint32Array(1);return t[0]=e,t[0]},e.bitConverterToUInt16=function(e,t){var i=new Uint16Array(1);return i[0]=e[t]|e[t+1]<<8,i[0]},e.bitConverterUintToInt32=function(e){var t=new Int32Array(1);return t[0]=e,t[0]},e.bitConverterInt32ToUint=function(e){var t=new Uint32Array(1);return t[0]=e,t[0]},e.bitConverterInt32ToInt16=function(e){var t=new Int16Array(1);return t[0]=e,t[0]},e.byteToString=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},e.byteIntToString=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},e.arrayCopy=function(e,t,i,n,r){var s=new Uint8Array(e.buffer,t).subarray(0,r);i.set(s,n)},e.mergeArray=function(e,t){var i=new Uint8Array(e.length+t.length);return i.set(e),i.set(t,e.length),i},e.encodedString=function(e){var t,i,n,r,s,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,h=0,c=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&c--,e.charAt(e.length-2)===a.charAt(64)&&c--,c%1!==0)throw new Error("Invalid base64 input, bad content length.");for(var u=new Uint8Array(0|c);l<e.length;)t=a.indexOf(e.charAt(l++))<<2|(r=a.indexOf(e.charAt(l++)))>>4,i=(15&r)<<4|(s=a.indexOf(e.charAt(l++)))>>2,n=(3&s)<<6|(o=a.indexOf(e.charAt(l++))),u[h++]=t,64!==s&&(u[h++]=i),64!==o&&(u[h++]=n);return u},e.reverseBits=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],e.huffCodeLengthOrders=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],e}(),lx=function(){function e(e){this.buildTree(e)}return e.init=function(){var t,i;for(t=new Uint8Array(288),i=0;i<144;)t[i++]=8;for(;i<256;)t[i++]=9;for(;i<280;)t[i++]=7;for(;i<288;)t[i++]=8;for(e.m_LengthTree=new e(t),t=new Uint8Array(32),i=0;i<32;)t[i++]=5;e.m_DistanceTree=new e(t)},e.prototype.prepareData=function(t,i,n){for(var r=0,s=512,o=0;o<n.length;o++){var a=n[o];a>0&&t[a]++}for(var l=1;l<=e.MAX_BITLEN;l++){if(i[l]=r,r+=t[l]<<16-l,l>=10)s+=(130944&r)-(130944&i[l])>>16-l}return{code:r,treeSize:s}},e.prototype.treeFromData=function(t,i,n,r,s){for(var o=new Int16Array(s),a=512,l=e.MAX_BITLEN;l>=10;l--)for(var h=130944&r,c=130944&(r-=t[l]<<16-l);c<h;c+=128)o[ax.bitReverse(c)]=ax.bitConverterInt32ToInt16(-a<<4|l),a+=1<<l-9;for(c=0;c<n.length;c++){if(0!=(l=n[c])){r=i[l];var u=ax.bitReverse(r);if(l<=9)do{o[u]=ax.bitConverterInt32ToInt16(c<<4|l),u+=1<<l}while(u<512);else{var p=o[511&u],d=1<<(15&p);p=-(p>>4);do{o[p|u>>9]=ax.bitConverterInt32ToInt16(c<<4|l),u+=1<<l}while(u<d)}i[l]=r+(1<<16-l)}}return o},e.prototype.buildTree=function(e){var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=this.prepareData(t,i,e);this.m_Tree=this.treeFromData(t,i,e,n.code,n.treeSize)},e.prototype.unpackSymbol=function(e){var t,i;if((t=e.peekBits(9))>=0){if((i=this.m_Tree[t])>=0)return e.skipBits(15&i),i>>4;var n=-(i>>4),r=15&i;if((t=e.peekBits(r))>=0)return i=this.m_Tree[n|t>>9],e.skipBits(15&i),i>>4;var s=e.availableBits;return t=e.peekBits(s),(15&(i=this.m_Tree[n|t>>9]))<=s?(e.skipBits(15&i),i>>4):-1}s=e.availableBits;return t=e.peekBits(s),(i=this.m_Tree[t])>=0&&(15&i)<=s?(e.skipBits(15&i),i>>4):-1},Object.defineProperty(e,"lengthTree",{get:function(){return this.m_LengthTree},enumerable:!0,configurable:!0}),Object.defineProperty(e,"distanceTree",{get:function(){return this.m_DistanceTree},enumerable:!0,configurable:!0}),e.MAX_BITLEN=15,e}(),hx=function(){function e(){}return e.ChecksumUpdate=function(e,t,i,n){for(var r=e,s=65535&r,o=r>>this.DEF_CHECKSUM_BIT_OFFSET;n>0;){var a=Math.min(n,this.DEF_CHECKSUM_ITERATIONSCOUNT);for(n-=a;--a>=0;)o+=s+=255&t[i++];s%=this.DEF_CHECKSUM_BASE,o%=this.DEF_CHECKSUM_BASE}e=r=o<<this.DEF_CHECKSUM_BIT_OFFSET|s},e.ChecksumGenerate=function(t,i,n){return e.ChecksumUpdate(1,t,i,n),1},e.DEF_CHECKSUM_BIT_OFFSET=16,e.DEF_CHECKSUM_BASE=65521,e.DEF_CHECKSUM_ITERATIONSCOUNT=3800,e}(),cx=function(){function e(e,t){if(this.defaultHuffmanDynamicTree=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],this.DEF_HEADER_METHOD_MASK=3840,this.DEF_HEADER_INFO_MASK=61440,this.DEF_HEADER_FLAGS_FCHECK=31,this.DEF_HEADER_FLAGS_FDICT=32,this.DEF_HEADER_FLAGS_FLEVEL=192,this.DEF_MAX_WINDOW_SIZE=65535,this.DEF_HUFFMAN_REPEATE_MAX=258,this.DEF_HUFFMAN_END_BLOCK=256,this.DEF_HUFFMAN_LENGTH_MINIMUMCODE=257,this.DEF_HUFFMAN_LENGTH_MAXIMUMCODE=285,this.DEF_HUFFMAN_DISTANCE_MAXIMUMCODE=29,this.mCheckSum=1,this.tBuffer=0,this.mBufferedBits=0,this.mTempBuffer=new Uint8Array(4),this.mBlockBuffer=new Uint8Array(this.DEF_MAX_WINDOW_SIZE),this.mbNoWrap=!1,this.mWindowSize=0,this.mCurrentPosition=0,this.mDataLength=0,this.mbCanReadNextBlock=!0,this.mbCanReadMoreData=!0,this.mbCheckSumRead=!1,null==e)throw new DOMException("stream");if(0===e.length)throw new DOMException("stream - string can not be empty");lx.init(),this.mInputStream=new ux(e),this.mbNoWrap=t,this.mbNoWrap||this.readZLibHeader(),this.decodeBlockHeader()}return Object.defineProperty(e.prototype,"mBuffer",{get:function(){return this.tBuffer},set:function(e){this.tBuffer=e},enumerable:!0,configurable:!0}),e.prototype.peekBits=function(e){if(e<0)throw new DOMException("count","Bits count can not be less than zero.");if(e>32)throw new DOMException("count","Count of bits is too large.");if(this.mBufferedBits<e&&this.fillBuffer(),this.mBufferedBits<e)return-1;var t=~(4294967295<<e);return ax.bitConverterUintToInt32(this.mBuffer&t)},e.prototype.fillBuffer=function(){var e=4-(this.mBufferedBits>>3)-(0!==(7&this.mBufferedBits)?1:0);if(0!==e)for(var t=this.mInputStream.read(this.mTempBuffer,0,e),i=0;i<t;i++)this.mBuffer=ax.bitConverterInt32ToUint(this.mBuffer|ax.bitConverterInt32ToUint(this.mTempBuffer[i]<<this.mBufferedBits)),this.mBufferedBits+=8},e.prototype.skipBits=function(e){if(e<0)throw new DOMException("count","Bits count can not be less than zero.");0!==e&&(e>=this.mBufferedBits?(e-=this.mBufferedBits,this.mBufferedBits=0,this.mBuffer=0,e>0&&(this.mInputStream.position+=e>>3,(e&=7)>0&&(this.fillBuffer(),this.mBufferedBits-=e,this.mBuffer=ax.bitConverterInt32ToUint(this.mBuffer>>>e)))):(this.mBufferedBits-=e,this.mBuffer=ax.bitConverterInt32ToUint(this.mBuffer>>>e)))},Object.defineProperty(e.prototype,"availableBits",{get:function(){return this.mBufferedBits},enumerable:!0,configurable:!0}),e.prototype.readZLibHeader=function(){var e=this.readInt16();if(-1===e)throw new DOMException("Header of the stream can not be read.");if(e%31!==0)throw new DOMException("Header checksum illegal");if(2048!==(e&this.DEF_HEADER_METHOD_MASK))throw new DOMException("Unsupported compression method.");if(this.mWindowSize=Math.pow(2,8+((e&this.DEF_HEADER_INFO_MASK)>>12)),this.mWindowSize>65535)throw new DOMException("Unsupported window size for deflate compression method.");if((e&this.DEF_HEADER_FLAGS_FDICT)>>5===1)throw new DOMException("Custom dictionary is not supported at the moment.")},e.prototype.readInt16=function(){var e=this.readBits(8)<<8;return e|=this.readBits(8)},e.prototype.readBits=function(e){var t=this.peekBits(e);return-1===t?-1:(this.mBufferedBits-=e,this.mBuffer=ax.bitConverterInt32ToUint(this.mBuffer>>>e),t)},e.prototype.decodeBlockHeader=function(){if(!this.mbCanReadNextBlock)return!1;var e=this.readBits(1);if(-1===e)return!1;var t=this.readBits(2);if(-1===t)return!1;switch(this.mbCanReadNextBlock=0===e,t){case 0:this.mbReadingUncompressed=!0,this.skipToBoundary();var i=this.readInt16Inverted();if(i!==(65535^this.readInt16Inverted()))throw new DOMException("Wrong block length.");if(i>65535)throw new DOMException("Uncompressed block length can not be more than 65535.");this.mUncompressedDataLength=i,this.mCurrentLengthTree=null,this.mCurrentDistanceTree=null;break;case 1:this.mbReadingUncompressed=!1,this.mUncompressedDataLength=-1,this.mCurrentLengthTree=lx.lengthTree,this.mCurrentDistanceTree=lx.distanceTree;break;case 2:this.mbReadingUncompressed=!1,this.mUncompressedDataLength=-1;var n=this.decodeDynamicHeader(this.mCurrentLengthTree,this.mCurrentDistanceTree);this.mCurrentLengthTree=n.lengthTree,this.mCurrentDistanceTree=n.distanceTree;break;default:throw new DOMException("Wrong block type.")}return!0},e.prototype.skipToBoundary=function(){this.mBuffer=ax.bitConverterInt32ToUint(this.mBuffer>>>(7&this.mBufferedBits)),this.mBufferedBits&=-8},e.prototype.readInt16Inverted=function(){var e=this.readBits(8);return e|=this.readBits(8)<<8},e.prototype.decodeDynamicHeader=function(t,i){var n=0,r=this.readBits(5),s=this.readBits(5),o=this.readBits(4);if(r<0||s<0||o<0)throw new DOMException("Wrong dynamic huffman codes.");var a=(r+=257)+(s+=1),l=new Uint8Array(a),h=new Uint8Array(19);o+=4;for(var c=0;c<o;){var u=this.readBits(3);if(u<0)throw new DOMException("Wrong dynamic huffman codes.");h[this.defaultHuffmanDynamicTree[c++]]=u}var p=new lx(h);for(c=0;;){var d=void 0,f=!1;for(d=p.unpackSymbol(this);0===(-16&d);){if(l[c++]=n=d,c===a){f=!0;break}d=p.unpackSymbol(this)}if(f)break;if(d<0)throw new DOMException("Wrong dynamic huffman codes.");if(d>=17)n=0;else if(0===c)throw new DOMException("Wrong dynamic huffman codes.");var g=d-16,m=e.DEF_HUFFMAN_DYNTREE_REPEAT_BITS[g],y=this.readBits(m);if(y<0)throw new DOMException("Wrong dynamic huffman codes.");if(c+(y+=e.DEF_HUFFMAN_DYNTREE_REPEAT_MINIMUMS[g])>a)throw new DOMException("Wrong dynamic huffman codes.");for(;y-- >0;)l[c++]=n;if(c===a)break}var v=new Uint8Array(r);return v.set(l.subarray(0,r),0),t=new lx(v),v=l.slice(r,r+s),{lengthTree:t,distanceTree:new lx(v)}},e.prototype.readHuffman=function(){for(var t=this.DEF_MAX_WINDOW_SIZE-(this.mDataLength-this.mCurrentPosition),i=!1,n={};t>=this.DEF_HUFFMAN_REPEATE_MAX;){var r=void 0;for(r=this.mCurrentLengthTree.unpackSymbol(this);0===(-256&r);){if(n[(this.mDataLength+1)%this.DEF_MAX_WINDOW_SIZE]=r,this.mBlockBuffer[this.mDataLength++%this.DEF_MAX_WINDOW_SIZE]=r,i=!0,--t<this.DEF_HUFFMAN_REPEATE_MAX)return!0;r=this.mCurrentLengthTree.unpackSymbol(this)}if(r<this.DEF_HUFFMAN_LENGTH_MINIMUMCODE){if(r<this.DEF_HUFFMAN_END_BLOCK)throw new DOMException("Illegal code.");var s=i?1:0;return this.mbCanReadMoreData=this.decodeBlockHeader(),!!(s|(this.mbCanReadMoreData?1:0))}if(r>this.DEF_HUFFMAN_LENGTH_MAXIMUMCODE)throw new DOMException("Illegal repeat code length.");var o=e.DEF_HUFFMAN_REPEAT_LENGTH_BASE[r-this.DEF_HUFFMAN_LENGTH_MINIMUMCODE],a=e.DEF_HUFFMAN_REPEAT_LENGTH_EXTENSION[r-this.DEF_HUFFMAN_LENGTH_MINIMUMCODE];if(a>0){if((h=this.readBits(a))<0)throw new DOMException("Wrong data.");o+=h}if((r=this.mCurrentDistanceTree.unpackSymbol(this))<0||r>e.DEF_HUFFMAN_REPEAT_DISTANCE_BASE.length)throw new DOMException("Wrong distance code.");var l=e.DEF_HUFFMAN_REPEAT_DISTANCE_BASE[r];if((a=e.DEF_HUFFMAN_REPEAT_DISTANCE_EXTENSION[r])>0){var h;if((h=this.readBits(a))<0)throw new DOMException("Wrong data.");l+=h}for(var c=0;c<o;c++)this.mBlockBuffer[this.mDataLength%this.DEF_MAX_WINDOW_SIZE]=this.mBlockBuffer[(this.mDataLength-l)%this.DEF_MAX_WINDOW_SIZE],this.mDataLength++,t--;i=!0}return i},e.prototype.read=function(e,t,i){if(null==e)throw new DOMException("buffer");if(t<0||t>e.length-1)throw new DOMException("offset","Offset does not belong to specified buffer.");if(i<0||i>e.length-t)throw new DOMException("length","Length is illegal.");for(var n=i;i>0;)if(this.mCurrentPosition<this.mDataLength){var r=this.mCurrentPosition%this.DEF_MAX_WINDOW_SIZE,s=Math.min(this.DEF_MAX_WINDOW_SIZE-r,this.mDataLength-this.mCurrentPosition);s=Math.min(s,i),ax.arrayCopy(this.mBlockBuffer,r,e,t,s),this.mCurrentPosition+=s,t+=s,i-=s}else{if(!this.mbCanReadMoreData)break;var o=this.mDataLength;if(this.mbReadingUncompressed)if(0===this.mUncompressedDataLength){if(this.mbCanReadMoreData=this.decodeBlockHeader(),!this.mbCanReadMoreData)break}else{r=this.mDataLength%this.DEF_MAX_WINDOW_SIZE;var a=Math.min(this.mUncompressedDataLength,this.DEF_MAX_WINDOW_SIZE-r),l=this.readPackedBytes(this.mBlockBuffer,r,a);if(a!==l)throw new DOMException("Not enough data in stream.");this.mUncompressedDataLength-=l,this.mDataLength+=l}else if(!this.readHuffman())break;if(o<this.mDataLength){var h=o%this.DEF_MAX_WINDOW_SIZE,c=this.mDataLength%this.DEF_MAX_WINDOW_SIZE;h<c?this.checksumUpdate(this.mBlockBuffer,h,c-h):(this.checksumUpdate(this.mBlockBuffer,h,this.DEF_MAX_WINDOW_SIZE-h),c>0&&this.checksumUpdate(this.mBlockBuffer,0,c))}}if(!this.mbCanReadMoreData&&!this.mbCheckSumRead&&!this.mbNoWrap){if(this.skipToBoundary(),this.readInt32()!==this.mCheckSum)throw new DOMException("Checksum check failed.");this.mbCheckSumRead=!0}return n-i},e.prototype.readPackedBytes=function(e,t,i){if(null==e)throw new DOMException("buffer");if(t<0||t>e.length-1)throw new DOMException('offset", "Offset can not be less than zero or greater than buffer length - 1.');if(i<0)throw new DOMException('length", "Length can not be less than zero.');if(i>e.length-t)throw new DOMException('length", "Length is too large.');if(0!==(7&this.mBufferedBits))throw new DOMException("Reading of unalligned data is not supported.");if(0===i)return 0;for(var n=0;this.mBufferedBits>0&&i>0;)e[t++]=this.mBuffer,this.mBufferedBits-=8,this.mBuffer=ax.bitConverterInt32ToUint(this.mBuffer>>>8),i--,n++;return i>0&&(n+=this.mInputStream.read(e,t,i)),n},e.prototype.readInt32=function(){var e=this.readBits(8)<<24;return e|=this.readBits(8)<<16,e|=this.readBits(8)<<8,e|=this.readBits(8)},e.prototype.checksumUpdate=function(e,t,i){hx.ChecksumUpdate(this.mCheckSum,e,t,i)},e.DEF_REVERSE_BITS=new Uint8Array([0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]),e.DEF_HUFFMAN_DYNTREE_REPEAT_MINIMUMS=[3,3,11],e.DEF_HUFFMAN_DYNTREE_REPEAT_BITS=[2,3,7],e.DEF_HUFFMAN_REPEAT_LENGTH_BASE=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],e.DEF_HUFFMAN_REPEAT_LENGTH_EXTENSION=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],e.DEF_HUFFMAN_REPEAT_DISTANCE_BASE=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],e.DEF_HUFFMAN_REPEAT_DISTANCE_EXTENSION=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],e}(),ux=function(){function e(e){this.position=0,this.inputStream=new Uint8Array(e.buffer)}return Object.defineProperty(e.prototype,"length",{get:function(){return this.inputStream.buffer.byteLength},enumerable:!0,configurable:!0}),e.prototype.read=function(e,t,i){var n=new Uint8Array(this.inputStream.buffer,this.position+t).subarray(0,i);return e.set(n,0),this.position+=n.byteLength,n.byteLength},e.prototype.readByte=function(){return this.inputStream[this.position++]},e.prototype.write=function(e,t,i){ax.arrayCopy(e,0,this.inputStream,this.position+t,i),this.position+=i},e.prototype.toByteArray=function(){return new Uint8Array(this.inputStream.buffer)},e}(),px=i(551),dx=i(864),fx=[],gx=4096,mx=function(){function e(){0===fx.length&&e.initCrc32Table(),this.files=[],this.level="Normal",dx.e.isMicrosoftBrowser=!!navigator.msSaveBlob}return Object.defineProperty(e.prototype,"items",{get:function(){return this.files},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"compressionLevel",{get:function(){return this.level},set:function(e){this.level=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return void 0===this.files?0:this.files.length},enumerable:!0,configurable:!0}),e.prototype.addItem=function(e){if(null===e||void 0===e)throw new Error("ArgumentException: item cannot be null or undefined");for(var t=0;t<this.files.length;t++){var i=this.files[t];if(i instanceof vx&&i.name===e.name)throw new Error("item with same name already exist")}this.files.push(e)},e.prototype.addDirectory=function(e){if(null===e||void 0===e)throw new Error("ArgumentException: string cannot be null or undefined");if(0===e.length)throw new Error("ArgumentException: string cannot be empty");if("/"!==e.slice(-1)&&(e+="/"),-1!==this.files.indexOf(e))throw new Error("item with same name already exist");this.files.push(e)},e.prototype.getItem=function(e){if(e>=0&&e<this.files.length)return this.files[e]},e.prototype.contains=function(e){return-1!==this.files.indexOf(e)},e.prototype.open=function(t){var i=ax.encodedString(t);if(0==i.length)throw new DOMException("stream");var n=new ux(i),r=e.findValueFromEnd(n,101010256,65557);if(r<0)throw new DOMException("Can't locate end of central directory record. Possible wrong file format or archive is corrupt.");n.position=r+12;var s=r-e.ReadInt32(n);n.position=s,this.readCentralDirectoryDataAndExtractItems(n)},e.prototype.readCentralDirectoryDataAndExtractItems=function(t){if(null==t)throw new DOMException("stream");for(var i;33639248==e.ReadInt32(t);)(i=new yx).readCentralDirectoryData(t);i.readData(t,i.checkCrc),i.decompressData(),this.files.push(new vx(i.unCompressedStream.buffer,i.name))},e.prototype.save=function(e){if(null===e||void 0===e||0===e.length)throw new Error("ArgumentException: fileName cannot be null or undefined");if(0===this.files.length)throw new Error("InvalidOperation");var t=this;return new Promise((function(i,n){t.saveInternal(e,!1).then((function(){i(t)}))}))},e.prototype.saveAsBlob=function(){var e=this;return new Promise((function(t,i){e.saveInternal("",!0).then((function(e){t(e)}))}))},e.prototype.saveInternal=function(e,t){var i=this,n=this;return new Promise((function(r,s){for(var o=[],a=0,l=0;l<n.files.length;l++){i.getCompressedData(i.files[l]).then((function(i){if(a=n.constructZippedObject(o,i,a,i.isDirectory),o.length===n.files.length){var s=n.writeZippedContent(e,o,a,t);r(s)}}))}}))},e.prototype.destroy=function(){if(void 0!==this.files&&this.files.length>0){for(var e=0;e<this.files.length;e++){var t=this.files[e];t instanceof vx&&t.destroy(),t=void 0}this.files=[]}this.files=void 0,this.level=void 0},e.prototype.getCompressedData=function(e){var t=this;return new Promise((function(i,n){if(e instanceof vx){var r=new FileReader;r.onload=function(){var n=new Uint8Array(r.result),s={fileName:e.name,crc32Value:0,compressedData:[],compressedSize:void 0,uncompressedDataSize:n.length,compressionType:void 0,isDirectory:!1};if("Normal"===t.level){t.compressData(n,s,fx);for(var o=0,a=0;a<s.compressedData.length;a++)o+=s.compressedData[a].length;s.compressedSize=o,s.compressionType="\b\0"}else s.compressedSize=n.length,s.crc32Value=t.calculateCrc32Value(0,n,fx),s.compressionType="\0\0",s.compressedData.push(n);i(s)},r.readAsArrayBuffer(e.data)}else{i({fileName:e,crc32Value:0,compressedData:"",compressedSize:0,uncompressedDataSize:0,compressionType:"\0\0",isDirectory:!0})}}))},e.prototype.compressData=function(e,t,i){var n=new px.r4(!0),r=0,s=0;do{if(r>=e.length){n.close();break}s=Math.min(e.length,r+16384);var o=e.subarray(r,s);t.crc32Value=this.calculateCrc32Value(t.crc32Value,o,i),n.write(o,0,s-r),r=s}while(r<=e.length);t.compressedData=n.compressedData,n.destroy()},e.prototype.constructZippedObject=function(e,t,i,n){var r=0,s=new Date;n&&(r|=16),r|=0;var o=this.writeHeader(t,s),a="PK\x03\x04"+o+t.fileName,l=this.writeCentralDirectory(t,o,i,r);return e.push({localHeader:a,centralDir:l,compressedData:t}),i+a.length+t.compressedSize},e.prototype.writeHeader=function(e,t){var i="";return i+="\n\0\0\0",i+=e.compressionType,i+=this.getBytes(this.getModifiedTime(t),2),i+=this.getBytes(this.getModifiedDate(t),2),i+=this.getBytes(e.crc32Value,4),i+=this.getBytes(e.compressedSize,4),i+=this.getBytes(e.uncompressedDataSize,4),i+=this.getBytes(e.fileName.length,2),i+=this.getBytes(0,2)},e.prototype.writeZippedContent=function(e,t,i,n){for(var r=0,s=[],o=0;o<t.length;o++){var a=t[o];for(r+=a.centralDir.length,s.push(this.getArrayBuffer(a.localHeader));a.compressedData.compressedData.length;)s.push(a.compressedData.compressedData.shift().buffer)}for(o=0;o<t.length;o++)s.push(this.getArrayBuffer(t[o].centralDir));s.push(this.getArrayBuffer(this.writeFooter(t,r,i)));var l=new Blob(s,{type:"application/zip"});return n||dx.e.save(e,l),l},e.prototype.writeCentralDirectory=function(e,t,i,n){return"PK\x01\x02"+this.getBytes(20,2)+t+this.getBytes(0,2)+"\0\0\0\0"+this.getBytes(n,4)+this.getBytes(i,4)+e.fileName},e.prototype.writeFooter=function(e,t,i){return"PK\x05\x06\0\0\0\0"+this.getBytes(e.length,2)+this.getBytes(e.length,2)+this.getBytes(t,4)+this.getBytes(i,4)+this.getBytes(0,2)},e.prototype.getArrayBuffer=function(e){for(var t=new Uint8Array(e.length),i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t.buffer},e.prototype.getBytes=function(e,t){for(var i="",n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},e.prototype.getModifiedTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),(t<<=5)|e.getSeconds()/2},e.prototype.getModifiedDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,(t<<=5)|e.getDate()},e.prototype.calculateCrc32Value=function(e,t,i){e^=-1;for(var n=0;n<t.length;n++)e=e>>>8^i[255&(e^t[n])];return~e},e.initCrc32Table=function(){for(var e,t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;fx[t]=e}},e.findValueFromEnd=function(e,t,i){if(null==e)throw new DOMException("stream");var n=e.inputStream.buffer.byteLength;if(n<4)return-1;var r=new Uint8Array(4),s=Math.max(0,n-i),o=n-1-4;e.position=o,e.read(r,0,4);var a=r[0],l=a==t;if(!l)for(;o>s;)if(a<<=8,o--,e.position=o,(a+=e.readByte())==t){l=!0;break}return l?o:-1},e.ReadInt32=function(e){var t=new Uint8Array(4);if(4!=e.read(t,0,4))throw new DOMException("Unable to read value at the specified position - end of stream was reached.");return ax.bitConverterToInt32(t,0)},e.ReadInt16=function(e){var t=new Uint8Array(2);if(2!=e.read(t,0,2))throw new DOMException("Unable to read value at the specified position - end of stream was reached.");return ax.bitConverterToInt16(t,0)},e.ReadUInt16=function(e){var t=new Uint8Array(2);if(2!=e.read(t,0,2))throw new DOMException("Unable to read value at the specified position - end of stream was reached.");return ax.bitConverterToInt16(t,0)},e}(),yx=function(){function e(){this.headerSignature=67324752,this.checkCrc=!0,this.crc32=0}return e.prototype.readCentralDirectoryData=function(e){e.position+=4,this.options=mx.ReadInt16(e),this.compressionMethod=mx.ReadInt16(e),this.checkCrc=99!=this.compressionMethod;mx.ReadInt32(e);this.crc32=ax.bitConverterToUInt32(mx.ReadInt32(e)),this.compressedSize=mx.ReadInt32(e),this.originalSize=mx.ReadInt32(e);var t=mx.ReadInt16(e),i=mx.ReadInt16(e),n=mx.ReadInt16(e);e.position+=4,this.externalAttributes=mx.ReadInt32(e),this.localHeaderOffset=mx.ReadInt32(e);var r=new Uint8Array(t);e.read(r,0,t);var s=ax.byteToString(r);s=s.replace("\\","/"),this.name=s,e.position+=i+n,0!=this.options&&(this.options=0)},e.prototype.readData=function(e,t){if(0==e.length)throw new DOMException("stream");e.position=this.localHeaderOffset,this.checkCrc=t,this.readLocalHeader(e),this.readCompressedData(e)},e.prototype.decompressData=function(){8==this.compressionMethod&&this.originalSize>0&&this.decompressDataOld()},e.prototype.decompressDataOld=function(){var e,t=new cx(this.compressedStream,!0);this.originalSize>0&&(e=new ux(new Uint8Array(this.originalSize)));var i,n=new Uint8Array(gx);for(new Uint8Array(0);(i=t.read(n,0,gx))>0;)e.write(n.subarray(0,i),0,i);this.unCompressedStream=e.toByteArray(),this.checkCrc},e.prototype.readLocalHeader=function(e){if(0==e.length)throw new DOMException("stream");if(mx.ReadInt32(e)!=this.headerSignature)throw new DOMException("Can't find local header signature - wrong file format or file is corrupt.");e.position+=22;var t=mx.ReadInt16(e),i=mx.ReadUInt16(e);if(99==this.compressionMethod);else if(i>2){if(e.position+=t,23==mx.ReadInt16(e))throw new DOMException("UnSupported");e.position+=i-2}else e.position+=t+i},e.prototype.readCompressedData=function(e){var t;if(this.compressedSize>0){var i=this.compressedSize;t=new ux(new Uint8Array(i));for(var n=new Uint8Array(gx);i>0;){var r=Math.min(i,gx);if(e.read(n,0,r)!=r)throw new DOMException("End of file reached - wrong file format or file is corrupt.");t.write(n.subarray(0,r),0,r),i-=r}this.compressedStream=new Uint8Array(t.inputStream)}else this.compressedSize<0||this.compressedSize},e}(),vx=function(){function e(e,t){if(null===e||void 0===e)throw new Error("ArgumentException: data cannot be null or undefined");if(null===t||void 0===t)throw new Error("ArgumentException: string cannot be null or undefined");if(0===t.length)throw new Error("string cannot be empty");this.data=e,this.name=t}return Object.defineProperty(e.prototype,"dataStream",{get:function(){return this.decompressedStream},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.fileName},set:function(e){this.fileName=e},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.fileName=void 0,this.data=void 0},e}(),bx=function(){function e(e){this.intl=new va}return e.prototype.getFormatFunction=function(e,t){return e.type?(t&&(e.isServerRendered=!0),this.intl.getDateFormat(e)):this.intl.getNumberFormat(e)},e.prototype.toView=function(e,t){var i=e;return ko(t)||ko(e)||(i=t(e)),i},e.prototype.displayText=function(e,t,i){return this.toView(e,this.getFormatFunction(t,i))},e}(),Mx=function(){function e(e,t){if(this.csvStr="",this.separator=null===t||void 0===t?",":t,this.formatter=new bx,this.isMicrosoftBrowser=!!navigator.msSaveBlob,null!==e.isServerRendered&&void 0!==e.isServerRendered&&(this.isServerRendered=e.isServerRendered),null!==e.styles&&void 0!==e.styles){this.globalStyles=new Map;for(var i=0;i<e.styles.length;i++)void 0!==e.styles[i].name&&void 0!==e.styles[i].numberFormat&&this.globalStyles.set(e.styles[i].name,e.styles[i].numberFormat)}null!==e.worksheets&&void 0!==e.worksheets&&this.parseWorksheet(e.worksheets[0])}return e.prototype.parseWorksheet=function(e){null!==e.rows&&void 0!==e.rows&&this.parseRows(e.rows)},e.prototype.parseRows=function(e){for(var t=1,i=0,n=e;i<n.length;i++){var r=n[i];if(null===r.index||void 0===r.index)throw Error("Row index is missing.");for(;t<r.index;)this.csvStr+="\r\n",t++;this.parseRow(r)}},e.prototype.parseRow=function(e){if(null!==e.cells&&void 0!==e.cells)for(var t=1,i=0,n=e.cells;i<n.length;i++){var r=n[i];if(null===r.index||void 0===r.index)throw Error("Cell index is missing.");for(;t<r.index;)this.csvStr+=this.separator,t++;this.parseCell(r)}},e.prototype.parseCell=function(e){var t=this.csvStr;if(void 0!==e.value)if(e.value instanceof Date)if(void 0!==e.style&&void 0!==e.style.numberFormat)try{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",skeleton:e.style.numberFormat},this.isServerRendered))}catch(i){t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",format:e.style.numberFormat},this.isServerRendered))}else if(void 0!==e.style&&void 0!==e.style.name&&this.globalStyles.has(e.style.name))try{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",skeleton:this.globalStyles.get(e.style.name)},this.isServerRendered))}catch(i){t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",format:this.globalStyles.get(e.style.name)},this.isServerRendered))}else t+=e.value;else"boolean"===typeof e.value?t+=e.value?"TRUE":"FALSE":"number"===typeof e.value?void 0!==e.style&&void 0!==e.style.numberFormat?t+=this.parseCellValue(this.formatter.displayText(e.value,{format:e.style.numberFormat},this.isServerRendered)):void 0!==e.style&&void 0!==e.style.name&&this.globalStyles.has(e.style.name)?t+=this.parseCellValue(this.formatter.displayText(e.value,{format:this.globalStyles.get(e.style.name)},this.isServerRendered)):t+=e.value:t+=this.parseCellValue(e.value);this.csvStr=t},e.prototype.parseCellValue=function(e){for(var t="",i=e.length,n=0;n<i;n++)'"'===e[n]?t+=e[n].replace('"','""'):t+=e[n];return-1!==(e=t).indexOf(this.separator)||-1!==e.indexOf("\n")||-1!==e.indexOf('"')?'"'+e+'"':e},e.prototype.save=function(e){if(this.buffer=new Blob(["\ufeff"+this.csvStr],{type:"text/csv;charset=UTF-8"}),this.isMicrosoftBrowser)navigator.msSaveBlob(this.buffer,e);else{var t=window.URL.createObjectURL(this.buffer),i=document.createElementNS("http://www.w3.org/1999/xhtml","a");i.download=e,i.href=t;var n=document.createEvent("MouseEvent");n.initEvent("click",!0,!0),i.dispatchEvent(n),setTimeout((function(){window.URL.revokeObjectURL(t)}))}},e.prototype.saveAsBlob=function(){return new Blob(["\ufeff"+this.csvStr],{type:"text/csv;charset=UTF-8"})},e}(),Sx=function(){function e(){this.parts=[]}return e.prototype.append=function(e){this.parts.push(e),this.blob=void 0},e.prototype.getBlob=function(){return new Blob(this.parts,{type:"text/plain"})},e}(),wx=function(){},_x=function(){function e(e,t,i,n,r){if(this.sharedStringCount=0,this.unitsProportions=[1.28,.32,96,96/25.4,96/2.54,1,96/72,96/72/12700],this.hyperlinkStyle={fontColor:"#0000FF",underline:!0},this.culture=void 0!==i?i:"en-US",this.currency=void 0!==n?n:"USD",this.intl=new va(this.culture),this.mSaveType=t,"xlsx"===t){if(this.mArchive=new mx,this.sharedString=[],this.mFonts=[],this.mBorders=[],this.mStyles=[],this.printTitles=new Map,this.cellStyles=new Map,this.mNumFmt=new Map,this.mFills=new Map,this.mStyles.push(new WC),this.mFonts.push(new YC),this.cellStyles.set("Normal",new KC),this.mCellXfs=[],this.mCellStyleXfs=[],this.drawingCount=0,this.imageCount=0,null!==e.styles&&void 0!==e.styles){this.globalStyles=new Map;for(var s=0;s<e.styles.length;s++)if(void 0!==e.styles[s].name){if(this.cellStyles.has(e.styles[s].name))throw Error("Style name "+e.styles[s].name+" is already existed");var o=new WC;o.isGlobalStyle=!0,this.parserCellStyle(e.styles[s],o,"none");var a=new KC;a.name=o.name,a.xfId=o.index-1,this.cellStyles.set(a.name,a);var l={};void 0!==e.styles[s].numberFormat&&(l.format=e.styles[s].numberFormat),void 0!==e.styles[s].type?l.type=e.styles[s].type:l.type="datetime",void 0!==l.format&&this.globalStyles.set(e.styles[s].name,l)}}if(null===e.worksheets||void 0===e.worksheets)throw Error("Worksheet is expected.");this.parserWorksheets(e.worksheets),null!==e.builtInProperties&&void 0!==e.builtInProperties&&(this.builtInProperties=new Ix,this.parserBuiltInProperties(e.builtInProperties,this.builtInProperties))}else this.csvHelper=new Mx(e,r)}return e.prototype.parserBuiltInProperties=function(e,t){null!==e.author&&void 0!==e.author&&(t.author=e.author),null!==e.comments&&void 0!==e.comments&&(t.comments=e.comments),null!==e.category&&void 0!==e.category&&(t.category=e.category),null!==e.company&&void 0!==e.company&&(t.company=e.company),null!==e.manager&&void 0!==e.manager&&(t.manager=e.manager),null!==e.subject&&void 0!==e.subject&&(t.subject=e.subject),null!==e.title&&void 0!==e.title&&(t.title=e.title),null!==e.createdDate&&void 0!==e.createdDate&&(t.createdDate=e.createdDate),null!==e.modifiedDate&&void 0!==e.modifiedDate&&(t.modifiedDate=e.modifiedDate),null!==e.tags&&void 0!==e.tags&&(t.tags=e.tags),null!==e.status&&void 0!==e.status&&(t.status=e.status)},e.prototype.parserWorksheets=function(e){this.worksheets=new OC;for(var t=e.length,i=0;i<t;i++){var n=e[i],r=new RC;this.mergeCells=new HC,this.mergedCellsStyle=new Map,this.mHyperLinks=[],null!==n.name&&void 0!==n.name?r.name=n.name:r.name="Sheet"+(i+1).toString(),null!==n.enableRtl&&void 0!==n.enableRtl&&(r.enableRtl=n.enableRtl),r.index=i+1,null!==n.columns&&void 0!==n.columns&&this.parserColumns(n.columns,r),null!==n.rows&&void 0!==n.rows&&this.parserRows(n.rows,r),null!==n.showGridLines&&void 0!==n.showGridLines&&(r.showGridLines=n.showGridLines),null!==n.freeze&&void 0!==n.freeze&&this.parserFreezePanes(n.freeze,r),null!==n.printTitle&&void 0!==n.printTitle&&this.parserPrintTitle(n.printTitle,r),void 0!==n.pageSetup&&void 0!==n.pageSetup.isSummaryRowBelow&&(r.isSummaryRowBelow=n.pageSetup.isSummaryRowBelow),void 0!==n.images&&this.parserImages(n.images,r),null!==n.autoFilters&&void 0!==n.autoFilters&&this.parseFilters(n.autoFilters,r),r.index=i+1,r.mergeCells=this.mergeCells,r.hyperLinks=this.mHyperLinks,this.worksheets.push(r)}},e.prototype.mergeOptions=function(e,t){var i={};return this.applyProperties(e,i),this.applyProperties(t,i),i},e.prototype.applyProperties=function(e,t){for(var i=Object.keys(e),n=0;n<i.length;n++)"name"!==i[n]&&(t[i[n]]=e[i[n]])},e.prototype.getCellName=function(e,t){return this.getColumnName(t)+e.toString()},e.prototype.getColumnName=function(e){e--;var t="";do{var i=e%26;e=e/26-1,t=String.fromCharCode(65+i)+t}while(e>=0);return t},e.prototype.parserPrintTitle=function(e,t){var i,n,r="";if(null!==e.fromRow&&void 0!==e.fromRow){i="$"+e.fromRow+":$"+(null!==e.toRow&&void 0!==e.toRow?e.toRow:e.fromRow)}if(null!==e.fromColumn&&void 0!==e.fromColumn){var s=e.fromColumn,o=void 0;o=null!==e.toColumn&&void 0!==e.toColumn?e.toColumn:e.fromColumn,n="$"+this.getColumnName(s)+":$"+this.getColumnName(o)}void 0!==i&&(r+=t.name+"!"+i),void 0!==n&&void 0!==i?r+=","+t.name+"!"+n:void 0!==n&&(r+=t.name+"!"+n),""!==r&&this.printTitles.set(t.index-1,r)},e.prototype.parserFreezePanes=function(e,t){t.freezePanes=new VC,null!==e.row&&void 0!==e.row?t.freezePanes.row=e.row:t.freezePanes.row=0,null!==e.column&&void 0!==e.column?t.freezePanes.column=e.column:t.freezePanes.column=0,t.freezePanes.leftCell=this.getCellName(t.freezePanes.row+1,t.freezePanes.column+1)},e.prototype.parserColumns=function(e,t){var i=e.length;t.columns=[];for(var n=0;n<i;n++){var r=new $C;if(null===e[n].index||void 0===e[n].index)throw Error("Column index is missing.");r.index=e[n].index,null!==e[n].width&&void 0!==e[n].width&&(r.width=e[n].width),t.columns.push(r)}},e.prototype.parserRows=function(e,t){var i=e.length;t.rows=new ix;for(var n=0,r=0;r<i;r++){var s=this.parserRow(e[r],n);n=s.index,t.rows.add(s)}this.insertMergedCellsStyle(t)},e.prototype.insertMergedCellsStyle=function(e){var t=this;this.mergeCells.length>0&&this.mergedCellsStyle.forEach((function(i,n){var r=e.rows.filter((function(e){return e.index===i.y}))[0];if(ko(r)){var s=e.rows.filter((function(e){return e.index<=i.y})),o=new tx;o.index=i.y,o.cells=new ox,o.cells.add(t.createCell(i,n));h=0;s.length>0&&(h=e.rows.indexOf(s[s.length-1])+1),e.rows.splice(h,0,o)}else{var a=r.cells.filter((function(e){return e.index===i.x}))[0];if(ko(a)){var l=r.cells.filter((function(e){return e.index<=i.x})),h=0;l.length>0&&(h=r.cells.indexOf(l[l.length-1])+1),r.cells.splice(h,0,t.createCell(i,n))}else a.styleIndex=i.styleIndex}}))},e.prototype.createCell=function(e,t){var i=new sx;return i.refName=t,i.index=e.x,i.cellStyle=new WC,i.styleIndex=e.styleIndex,i},e.prototype.parserRow=function(e,t){var i=new tx;if(null!==e.height&&void 0!==e.height&&(i.height=e.height),null===e.index||void 0===e.index)throw Error("Row index is missing.");return i.index=e.index,null!==e.grouping&&void 0!==e.grouping&&this.parseGrouping(e.grouping,i),this.parseCells(e.cells,i),i},e.prototype.parseGrouping=function(e,t){t.grouping=new BC,void 0!==e.outlineLevel&&(t.grouping.outlineLevel=e.outlineLevel),void 0!==e.isCollapsed&&(t.grouping.isCollapsed=e.isCollapsed),void 0!==e.isHidden&&(t.grouping.isHidden=e.isHidden)},e.prototype.parseCells=function(e,t){t.cells=new ox;for(var i=void 0!==e?e.length:0,n=1,r=1,s=0;s<i;s++){var o=e[s],a=new sx;if(null===o.index||void 0===o.index)throw Error("Cell index is missing.");if(a.index=o.index,a.index<n?n=a.index:a.index>r&&(r=a.index),a.refName=this.getCellName(t.index,a.index),null!==o.rowSpan&&void 0!==o.rowSpan?a.rowSpan=o.rowSpan-1:a.rowSpan=0,null!==o.colSpan&&void 0!==o.colSpan?a.colSpan=o.colSpan-1:a.colSpan=0,null!==o.hyperlink&&void 0!==o.hyperlink){var l=new FC;void 0!==o.hyperlink.target&&(l.target=o.hyperlink.target,void 0!==o.hyperlink.displayText?a.value=o.hyperlink.displayText:a.value=o.hyperlink.target,a.type=this.getCellValueType(a.value),l.ref=a.refName,l.rId=this.mHyperLinks.length+1,this.mHyperLinks.push(l),a.cellStyle=new WC,this.parserCellStyle(void 0!==o.style?this.mergeOptions(o.style,this.hyperlinkStyle):this.hyperlinkStyle,a.cellStyle,"string"),a.styleIndex=a.cellStyle.index)}null!==o.formula&&void 0!==o.formula&&(a.formula=o.formula,a.type="formula"),null!==o.value&&void 0!==o.value&&(void 0!==a.formula?a.value=0:(a.value=o.value,a.type=this.getCellValueType(a.value))),null!==o.style&&void 0!==o.style&&void 0===a.styleIndex?(a.cellStyle=new WC,a.value instanceof Date?this.parserCellStyle(o.style,a.cellStyle,a.type,14):this.parserCellStyle(o.style,a.cellStyle,a.type),a.styleIndex=a.cellStyle.index):a.value instanceof Date&&(a.cellStyle=new WC,this.parserCellStyle({},a.cellStyle,a.type,14),a.styleIndex=a.cellStyle.index),this.parseCellType(a),this.mergeCells=this.processMergeCells(a,t.index,this.mergeCells),t.cells.add(a),a.index+1}t.spans=n+":"+r},e.prototype.GetColors=function(){var e;return(e=new Map).set("WHITE","FFFFFFFF"),e.set("SILVER","FFC0C0C0"),e.set("GRAY","FF808080"),e.set("BLACK","FF000000"),e.set("RED","FFFF0000"),e.set("MAROON","FF800000"),e.set("YELLOW","FFFFFF00"),e.set("OLIVE","FF808000"),e.set("LIME","FF00FF00"),e.set("GREEN","FF008000"),e.set("AQUA","FF00FFFF"),e.set("TEAL","FF008080"),e.set("BLUE","FF0000FF"),e.set("NAVY","FF000080"),e.set("FUCHSIA","FFFF00FF"),e.set("PURPLE","FF800080"),e},e.prototype.processColor=function(e){return 0===e.indexOf("#")?e.replace("#","FF"):(e=e.toUpperCase(),this.rgbColors=this.GetColors(),e=this.rgbColors.has(e)?this.rgbColors.get(e):"FF000000")},e.prototype.processCellValue=function(e,t){var i=e;if(-1!==e.indexOf("<font")||-1!==e.indexOf("<a")||-1!==e.indexOf("<b>")||-1!==e.indexOf("<i>")||-1!==e.indexOf("<u>")){var n="",r=e.indexOf("<",0),s=e.indexOf(">",r+1);if(r>=0&&s>=0){for(0!==r&&(n+='<r><t xml:space="preserve">'+this.processString(e.substring(0,r))+"</t></r>");r>=0&&s>=0;)if((s=e.indexOf(">",r+1))>=0){var o=e.substring(r+1,s);(r=e.indexOf("<",s+1))<0&&(r=i.length);var a=i.substring(s+1,r);if(0!==a.length){var l=o.split(" ");if(l.length>0&&(n+="<r><rPr>"),l.length>1)for(var h=0,c=l;h<c.length;h++){var u=c[h];switch(u.trim().substring(0,5)){case"size=":n+='<sz val="'+u.substring(6,u.length-1)+'"/>';break;case"face=":n+='<rFont val="'+u.substring(6,u.length-1)+'"/>';break;case"color":n+='<color rgb="'+this.processColor(u.substring(7,u.length-1))+'"/>';break;case"href=":var p=new FC;p.target=u.substring(6,u.length-1).trim(),p.ref=t.refName,p.rId=this.mHyperLinks.length+1,this.mHyperLinks.push(p),n+='<color rgb="FF0000FF"/><u/><b/>'}}else if(1===l.length){switch(l[0].trim()){case"b":n+="<b/>";break;case"i":n+="<i/>";break;case"u":n+="<u/>"}}n+='</rPr><t xml:space="preserve">'+this.processString(a)+"</t></r>"}}return""===n?i:n}return i}return i},e.prototype.applyGlobalStyle=function(e,t){this.cellStyles.has(e.name)&&(t.index=this.mStyles.filter((function(t){return t.name===e.name}))[0].index,t.name=e.name)},e.prototype.parserCellStyle=function(e,t,i,n){if(null!==e.name&&void 0!==e.name){if(!t.isGlobalStyle)return void this.applyGlobalStyle(e,t);t.name=e.name}null!==e.backColor&&void 0!==e.backColor&&(t.backColor=e.backColor),t.borders=new ZC,null!==e.borders&&void 0!==e.borders&&this.parserBorder(e.borders,t.borders.all),null!==e.leftBorder&&void 0!==e.leftBorder&&this.parserBorder(e.leftBorder,t.borders.left),null!==e.rightBorder&&void 0!==e.rightBorder&&this.parserBorder(e.rightBorder,t.borders.right),null!==e.topBorder&&void 0!==e.topBorder&&this.parserBorder(e.topBorder,t.borders.top),null!==e.bottomBorder&&void 0!==e.bottomBorder&&this.parserBorder(e.bottomBorder,t.borders.bottom),null!==e.fontName&&void 0!==e.fontName&&(t.fontName=e.fontName),null!==e.fontSize&&void 0!==e.fontSize&&(t.fontSize=e.fontSize),null!==e.fontColor&&void 0!==e.fontColor&&(t.fontColor=e.fontColor),null!==e.italic&&void 0!==e.italic&&(t.italic=e.italic),null!==e.bold&&void 0!==e.bold&&(t.bold=e.bold),null!==e.hAlign&&void 0!==e.hAlign&&(t.hAlign=e.hAlign.toLowerCase()),null!==e.indent&&void 0!==e.indent&&(t.indent=e.indent,"left"!==t.hAlign&&"right"!==t.hAlign&&(t.hAlign="left")),null!==e.rotation&&void 0!==e.rotation&&(t.rotation=e.rotation),null!==e.vAlign&&void 0!==e.vAlign&&(t.vAlign=e.vAlign.toLowerCase()),null!==e.underline&&void 0!==e.underline&&(t.underline=e.underline),null!==e.strikeThrough&&void 0!==e.strikeThrough&&(t.strikeThrough=e.strikeThrough),null!==e.wrapText&&void 0!==e.wrapText&&(t.wrapText=e.wrapText),null!==e.numberFormat&&void 0!==e.numberFormat?null!==e.type&&void 0!==e.type?t.numberFormat=this.getNumberFormat(e.numberFormat,e.type):t.numberFormat=this.getNumberFormat(e.numberFormat,i):void 0!==n?(t.numFmtId=14,t.numberFormat="GENERAL"):t.numberFormat="GENERAL",t.index=this.processCellStyle(t)},e.prototype.switchNumberFormat=function(e,t){var i=this.getNumberFormat(e,t);if(i!==e){var n=this.mNumFmt.get(e);if(void 0!==n&&(n.formatCode=i,this.mNumFmt.has(i))){for(var r=0,s=this.mCellStyleXfs;r<s.length;r++){var o=s[r];o.numFmtId===n.numFmtId&&(o.numFmtId=this.mNumFmt.get(i).numFmtId)}for(var a=0,l=this.mCellXfs;a<l.length;a++){var h=l[a];h.numFmtId===n.numFmtId&&(h.numFmtId=this.mNumFmt.get(i).numFmtId)}}}},e.prototype.changeNumberFormats=function(e){if("string"==typeof e){var t=new RegExp(this.currency,"g");e=e.replace(t,"[$"+this.currency+"]")}else if("object"==typeof e)for(var i=0;i<e.length;i++)e[i]=e[i].replace(this.currency,"[$"+this.currency+"]");return e},e.prototype.getNumberFormat=function(e,t){var i;switch(t){case"number":try{i=this.intl.getNumberPattern({format:e,currency:this.currency,useGrouping:!0},!0),this.currency.length>1&&(i=this.changeNumberFormats(i))}catch(n){i=e}break;case"datetime":try{i=this.intl.getDatePattern({skeleton:e,type:"dateTime"},!0)}catch(n){try{i=this.intl.getDatePattern({format:e,type:"dateTime"},!0)}catch(n){i=e}}break;case"date":try{i=this.intl.getDatePattern({skeleton:e,type:"date"},!0)}catch(n){try{i=this.intl.getDatePattern({format:e,type:"date"},!0)}catch(n){i=e}}break;case"time":try{i=this.intl.getDatePattern({skeleton:e,type:"time"},!0)}catch(n){try{i=this.intl.getDatePattern({format:e,type:"time"},!0)}catch(n){i=e}}break;default:i=e}return i},e.prototype.parserBorder=function(e,t){null!==e.color&&void 0!==e.color?t.color=e.color:t.color="#000000",null!==e.lineStyle&&void 0!==e.lineStyle?t.lineStyle=e.lineStyle:t.lineStyle="thin"},e.prototype.processCellStyle=function(e){if(e.isGlobalStyle)return this.processNumFormatId(e),this.mStyles.push(e),this.mStyles.length;var t=this.compareStyle(e);return t.result?t.index:(this.processNumFormatId(e),this.mStyles.push(e),this.mStyles.length)},e.prototype.processNumFormatId=function(e){if("GENERAL"!==e.numberFormat&&!this.mNumFmt.has(e.numberFormat)){var t=this.mNumFmt.size+164;this.mNumFmt.set(e.numberFormat,new XC(t,e.numberFormat))}},e.prototype.isNewFont=function(e){for(var t=!1,i=0,n=0,r=this.mFonts;n<r.length;n++){var s=r[n];i++;var o=void 0;if(void 0!==e.fontColor&&(o="FF"+e.fontColor.replace("#","")),t=s.color===o&&s.b===e.bold&&s.i===e.italic&&s.u===e.underline&&s.strike===e.strikeThrough&&s.name===e.fontName&&s.sz===e.fontSize)break}return{index:i-=1,result:t}},e.prototype.isNewBorder=function(e){var t=new WC;return this.isAllBorder(e.borders)?t.borders.all.color===e.borders.all.color&&t.borders.all.lineStyle===e.borders.all.lineStyle:t.borders.left.color===e.borders.left.color&&t.borders.left.lineStyle===e.borders.left.lineStyle&&t.borders.right.color===e.borders.right.color&&t.borders.right.lineStyle===e.borders.right.lineStyle&&t.borders.top.color===e.borders.top.color&&t.borders.top.lineStyle===e.borders.top.lineStyle&&t.borders.bottom.color===e.borders.bottom.color&&t.borders.bottom.lineStyle===e.borders.bottom.lineStyle},e.prototype.isAllBorder=function(e){var t=new WC;return t.borders.all.color!==e.all.color&&t.borders.all.lineStyle!==e.all.lineStyle},e.prototype.compareStyle=function(e){for(var t=!0,i=0,n=0,r=this.mStyles;n<r.length;n++){var s=r[n];if(t=!s.isGlobalStyle&&(s.backColor===e.backColor&&s.bold===e.bold&&s.numFmtId===e.numFmtId&&s.numberFormat===e.numberFormat&&s.type===e.type&&s.fontColor===e.fontColor&&s.fontName===e.fontName&&s.fontSize===e.fontSize&&s.hAlign===e.hAlign&&s.italic===e.italic&&s.underline===e.underline&&s.strikeThrough===e.strikeThrough&&s.vAlign===e.vAlign&&s.indent===e.indent&&s.rotation===e.rotation&&s.wrapText===e.wrapText&&s.borders.all.color===e.borders.all.color&&s.borders.all.lineStyle===e.borders.all.lineStyle&&s.borders.left.color===e.borders.left.color&&s.borders.left.lineStyle===e.borders.left.lineStyle&&s.borders.right.color===e.borders.right.color&&s.borders.right.lineStyle===e.borders.right.lineStyle&&s.borders.top.color===e.borders.top.color&&s.borders.top.lineStyle===e.borders.top.lineStyle&&s.borders.bottom.color===e.borders.bottom.color&&s.borders.bottom.lineStyle===e.borders.bottom.lineStyle)){i=s.index;break}}return{index:i,result:t}},e.prototype.contains=function(e,t){var i=e.indexOf(t);return i>-1&&i<e.length},e.prototype.getCellValueType=function(e){return e instanceof Date?"datetime":"boolean"===typeof e?"boolean":"number"===typeof e?"number":"string"},e.prototype.parseCellType=function(e){var t,i=e.type,n=e.value;switch(i){case"datetime":if(n=this.toOADate(n),void 0!==e.cellStyle&&void 0!==e.cellStyle.name&&this.globalStyles.has(e.cellStyle.name)){var r=this.globalStyles.get(e.cellStyle.name);this.switchNumberFormat(r.format,r.type)}t="n";break;case"boolean":n=n?1:0,t="b";break;case"number":t="n",void 0!==e.cellStyle&&void 0!==e.cellStyle.name&&this.globalStyles.has(e.cellStyle.name)&&this.switchNumberFormat(this.globalStyles.get(e.cellStyle.name).format,"number");break;case"string":this.sharedStringCount++,t="s";var s=this.processCellValue(n,e);this.contains(this.sharedString,s)||this.sharedString.push(s),n=this.sharedString.indexOf(s)}e.saveType=t,e.value=n},e.prototype.parserImages=function(e,t){var i=e.length;t.images=[];for(var n=0;n<i;n++){var r=this.parserImage(e[n]);t.images.push(r)}},e.prototype.parseFilters=function(e,t){if(t.autoFilters=new wx,null===e.row||void 0===e.row)throw new Error("Argument Null Exception: row null or empty");if(t.autoFilters.row=e.row,null===e.lastRow||void 0===e.lastRow)throw new Error("Argument Null Exception: lastRow cannot be null or empty");if(t.autoFilters.lastRow=e.lastRow,null===e.column||void 0===e.column)throw new Error("Argument Null Exception: column cannot be null or empty");if(t.autoFilters.column=e.column,null===e.lastColumn||void 0===e.row)throw new Error("Argument Null Exception: lastColumn cannot be null or empty");t.autoFilters.lastColumn=e.lastColumn},e.prototype.parserImage=function(e){var t=new nx;return null!==e.image&&void 0!==e.image&&(t.image=e.image),null!==e.row&&void 0!==e.row&&(t.row=e.row),null!==e.column&&void 0!==e.column&&(t.column=e.column),null!==e.lastRow&&void 0!==e.lastRow&&(t.lastRow=e.lastRow),null!==e.lastColumn&&void 0!==e.lastColumn&&(t.lastColumn=e.lastColumn),null!==e.width&&void 0!==e.width&&(t.width=e.width),null!==e.height&&void 0!==e.height&&(t.height=e.height),null!==e.horizontalFlip&&void 0!==e.horizontalFlip&&(t.horizontalFlip=e.horizontalFlip),null!==e.verticalFlip&&void 0!==e.verticalFlip&&(t.verticalFlip=e.verticalFlip),null!==e.rotation&&void 0!==e.rotation&&(t.rotation=e.rotation),t},e.prototype.saveAsBlob=function(e){var t=this;return new Promise("text/csv"===e?function(e,i){var n={};n.blobData=t.csvHelper.saveAsBlob(),e(n)}:function(e,i){t.saveInternal(),t.mArchive.saveAsBlob().then((function(t){var i={};i.blobData=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),e(i)}))})},e.prototype.save=function(e,t){var i=this;if(null===e||void 0===e||""===e)throw new Error("Argument Null Exception: fileName cannot be null or empty");var n=e.match(".xlsx$"),r=e.match(".csv$");if(null!==n&&n[0]==="."+this.mSaveType)this.saveInternal(),this.mArchive.save(e).then((function(){i.mArchive.destroy()}));else{if(null===r||r[0]!=="."+this.mSaveType)throw Error("Save type and file extension is different.");this.csvHelper.save(e)}},e.prototype.saveInternal=function(){this.saveWorkbook(),this.saveWorksheets(),this.saveSharedString(),this.saveStyles(),this.saveApp(this.builtInProperties),this.saveCore(this.builtInProperties),this.saveContentType(),this.saveTopLevelRelation(),this.saveWorkbookRelation()},e.prototype.saveWorkbook=function(){for(var e='<?xml version="1.0" encoding="utf-8"?><workbook xmlns:r = "http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns= "http://schemas.openxmlformats.org/spreadsheetml/2006/main"><workbookPr codeName="ThisWorkbook" defaultThemeVersion= "153222"/><bookViews><workbookView activeTab="0"/></bookViews>',t="<sheets>",i=this.worksheets.length,n=0;n<i;n++){var r=this.worksheets[n].name;t+='<sheet name="'+(r=(r=(r=(r=r.replace("&","&amp;")).replace("<","&lt;")).replace(">","&gt;")).replace('"',"&quot;"))+'" sheetId="'+(n+1).toString()+'" r:id ="rId'+(n+1).toString()+'" />'}if(e+=t+="</sheets>",this.printTitles.size>0){var s="<definedNames>";this.printTitles.forEach((function(e,t){s+='<definedName name="_xlnm.Print_Titles" localSheetId="'+t+'">'+e+"</definedName>"})),e+=s+="</definedNames>"}this.addToArchive(e+"</workbook>","xl/workbook.xml")},e.prototype.saveWorksheets=function(){for(var e=this.worksheets.length,t=0;t<e;t++)this.saveWorksheet(this.worksheets[t],t)},e.prototype.saveWorksheet=function(e,t){var i=new Sx,n='<?xml version="1.0" encoding="utf-8" standalone="yes"?><worksheet xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';if(e.isSummaryRowBelow?n+="<sheetPr />":n+='<sheetPr><outlinePr summaryBelow="0" ></outlinePr></sheetPr>',n+=this.saveSheetView(e),void 0!==e.columns){for(var r="<cols>",s=0,o=e.columns;s<o.length;s++){var a=o[s];void 0!==a.width?r+='<col min="'+a.index+'" max="'+a.index+'" width="'+this.pixelsToColumnWidth(a.width)+'" customWidth="1" />':r+='<col min="'+a.index+'" max="'+a.index+'" width="8.43" customWidth="1" />'}n+=r+"</cols>"}if(n+="<sheetData>",i.append(n),n="",void 0!==e.rows)for(var l=0,h=e.rows;l<h.length;l++){var c=h[l],u='<row r="'+c.index+'" ';ko(c.spans)||(u+='spans="'+c.spans+'" '),void 0!==c.height&&(u+='ht="'+this.pixelsToRowHeight(c.height)+'" customHeight="1" '),void 0!==c.grouping&&(c.grouping.isHidden&&(u+='hidden="1" '),void 0!==c.grouping.outlineLevel&&(u+='outlineLevel="'+c.grouping.outlineLevel+'" '),c.grouping.isCollapsed&&(u+='collapsed="1" ')),u+=">";for(var p=0,d=c.cells;p<d.length;p++){var f=d[p];void 0===f||void 0===f.value&&void 0===f.cellStyle||(u+='<c r="'+f.refName+'" ',void 0!==f.saveType&&(u+='t="'+f.saveType+'" '),void 0!==f.styleIndex&&(u+='s="'+f.styleIndex+'" '),u+=" >",void 0!==f.formula&&(u+="<f>"+f.formula+"</f>"),void 0!==f.value?u+="<v>"+f.value+"</v></c>":u+="</c>")}u+="</row>",i.append(u)}if(n+="</sheetData>",null!==e.autoFilters&&void 0!==e.autoFilters&&(n+='<autoFilter ref="'+this.getCellName(e.autoFilters.row,e.autoFilters.column)+":"+this.getCellName(e.autoFilters.lastRow,e.autoFilters.lastColumn)+'"/>'),e.mergeCells.length>0){n+='<mergeCells count="'+e.mergeCells.length+'">';for(var g=0,m=e.mergeCells;g<m.length;g++){n+='<mergeCell ref="'+m[g].ref+'" />'}n+="</mergeCells>"}if(e.hyperLinks.length>0){n+="<hyperlinks>";for(var y=0,v=e.hyperLinks;y<v.length;y++){var b=v[y];n+='<hyperlink ref="'+b.ref+'" r:id="rId'+b.rId+'" />'}n+="</hyperlinks>"}n+='<pageMargins left="0.75" right="0.75" top="1" bottom="1" header="0.5" footer="0.5" /><headerFooter scaleWithDoc="1" alignWithMargins="0" differentFirst="0" differentOddEven="0" />',void 0!=e.images&&e.images.length>0&&(this.drawingCount++,this.saveDrawings(e,e.index),n+='<drawing r:id="rId'+(e.hyperLinks.length+1)+'"/>'),this.addToArchive(this.saveSheetRelations(e),"xl/worksheets/_rels/sheet"+e.index+".xml.rels"),i.append(n+"</worksheet>"),this.addToArchive(i.getBlob(),"xl/worksheets/sheet"+(t+1)+".xml")},e.prototype.saveDrawings=function(e,t){var i=new Sx,n='<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">';if(void 0!==e.images){for(var r=0,s=0,o=e.images;s<o.length;s++){var a=o[s];void 0!==a.height&&void 0!==a.width?(this.updatelastRowOffset(e,a),this.updatelastColumnOffSet(e,a),a.lastRow-=1,a.lastColumn-=1):void 0!==a.lastRow&&void 0!==a.lastColumn&&(a.lastRowOffset=0,a.lastColOffset=0),r++,n+='<xdr:twoCellAnchor editAs="oneCell">',n+="<xdr:from><xdr:col>",n+=a.column-1,n+="</xdr:col><xdr:colOff>",n+=0,n+="</xdr:colOff><xdr:row>",n+=a.row-1,n+="</xdr:row><xdr:rowOff>",n+=0,n+="</xdr:rowOff></xdr:from>",n+="<xdr:to><xdr:col>",n+=a.lastColumn,n+="</xdr:col><xdr:colOff>",n+=a.lastColOffset,n+="</xdr:colOff><xdr:row>",n+=a.lastRow,n+="</xdr:row><xdr:rowOff>",n+=a.lastRowOffset,n+="</xdr:rowOff></xdr:to>",n+="<xdr:pic>",n+="<xdr:nvPicPr>",n+='<xdr:cNvPr id="'+r+'" name="Picture '+r+'"> </xdr:cNvPr>',n+='<xdr:cNvPicPr><a:picLocks noChangeAspect="1"/></xdr:cNvPicPr> </xdr:nvPicPr>',n+="<xdr:blipFill>",n+='<a:blip xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" r:embed="rId'+r+'" cstate="print">',n+="</a:blip><a:stretch><a:fillRect /></a:stretch></xdr:blipFill>",n+="<xdr:spPr>",n+="<a:xfrm",void 0!=a.rotation&&a.rotation<=3600&&a.rotation>=-3600&&(n+=' rot="'+6e4*a.rotation+'"'),void 0!=a.verticalFlip&&0!=a.verticalFlip&&(n+=' flipV="1"'),void 0!=a.horizontalFlip&&0!=a.horizontalFlip&&(n+=' flipH="1"'),n+="/>",n+='<a:prstGeom prst="rect"><a:avLst /></a:prstGeom></xdr:spPr>',n+="</xdr:pic><xdr:clientData /></xdr:twoCellAnchor>";new Sx;var l=this.convertBase64toImage(a.image);this.imageCount+=1,this.addToArchive(l,"xl/media/image"+this.imageCount+".png")}i.append(n),i.append("</xdr:wsDr>"),this.saveDrawingRelations(e),this.addToArchive(i.getBlob(),"xl/drawings/drawing"+this.drawingCount+".xml")}},e.prototype.updatelastRowOffset=function(e,t){for(var i=t.height,n=t.row,r=0;i>=0;){var s=0,o=(s=void 0!==e.rows&&void 0!==e.rows[n-1]?this.convertToPixels(void 0===e.rows[n-1].height?15:e.rows[n-1].height):this.convertToPixels(15))-r*s/256;if(o>i){t.lastRow=n,t.lastRowOffset=r+256*i/s;var a=0;a=void 0!==e.rows&&void 0!==e.rows[n-1]?this.convertToPixels(void 0===e.rows[n-1].height?15:e.rows[n-1].height):this.convertToPixels(15),t.lastRowOffset=a*t.lastRowOffset/256,t.lastRowOffset=Math.round(t.lastRowOffset/this.unitsProportions[7]);break}i-=o,n++,r=0}},e.prototype.updatelastColumnOffSet=function(e,t){for(var i=t.width,n=t.column,r=0;i>=0;){var s=0,o=(s=void 0!==e.columns&&void 0!==e.columns[n-1]?this.ColumnWidthToPixels(void 0===e.columns[n-1].width?8.43:e.columns[n-1].width):this.ColumnWidthToPixels(8.43))-r*s/1024;if(o>i){t.lastColumn=n,t.lastColOffset=r+1024*i/s;var a=0;a=void 0!==e.columns&&void 0!==e.columns[n-1]?this.ColumnWidthToPixels(void 0===e.columns[n-1].width?8.43:e.columns[n-1].width):this.ColumnWidthToPixels(8.43),t.lastColOffset=a*t.lastColOffset/1024,t.lastColOffset=Math.round(t.lastColOffset/this.unitsProportions[7]);break}i-=o,n++,r=0}},e.prototype.convertToPixels=function(e){return e*this.unitsProportions[6]},e.prototype.convertBase64toImage=function(e){for(var t=window.atob(e),i=new ArrayBuffer(t.length),n=new Uint8Array(i),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new Blob([n],{type:"image/png"})},e.prototype.saveDrawingRelations=function(e){for(var t='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',i=e.images.length,n=this.imageCount-e.images.length,r=1;r<=i;r++)t+='<Relationship Id="rId'+r+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="../media/image'+ ++n+'.png" />';this.addToArchive(t+"</Relationships>","xl/drawings/_rels/drawing"+this.drawingCount+".xml.rels")},e.prototype.pixelsToColumnWidth=function(e){var t=e>12?this.trunc((e-5)/7*100+.5)/100:e/12;return t>1?(7*t+5)/7*256/256:12*t/7*256/256},e.prototype.ColumnWidthToPixels=function(e){var t=e>1?(7*e+5)/7*256/256:12*e/7*256/256;return this.trunc((256*t+this.trunc(128/7))/256*7)},e.prototype.trunc=function(e){var t=e-e%1;return 0===t&&(e<0||0===e&&1/e!==1/0)?-0:t},e.prototype.pixelsToRowHeight=function(e){return e*this.unitsProportions[5]/this.unitsProportions[6]},e.prototype.saveSheetRelations=function(e){for(var t='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',i=0,n=e.hyperLinks;i<n.length;i++){var r=n[i];t+='<Relationship Id="rId'+r.rId+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="'+this.processString(r.target)+'" TargetMode="External" />'}return void 0!=e.images&&e.images.length>0&&(t+='<Relationship Id="rId'+(e.hyperLinks.length+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing'+this.drawingCount+'.xml" />'),t+="</Relationships>"},e.prototype.saveSheetView=function(e){var t='<sheetViews><sheetView workbookViewId="0" ';return!0===e.enableRtl&&(t+='rightToLeft="1"'),!1===e.showGridLines?t+='showGridLines="0" >':t+=">",void 0!==e.freezePanes&&(t+='<pane state="frozen" topLeftCell="'+e.freezePanes.leftCell+'" ',0!==e.freezePanes.row&&(t+='ySplit="'+e.freezePanes.row+'" '),0!==e.freezePanes.column&&(t+='xSplit="'+e.freezePanes.column+'" '),t+="/>"),t+="</sheetView></sheetViews > "},e.prototype.saveSharedString=function(){var e=this.sharedString.length;if(e>0){for(var t='<?xml version="1.0" encoding="utf-8"?><sst uniqueCount="'+e+'" count="'+this.sharedStringCount+'" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">',i="",n=0;n<e;n++)0!==this.sharedString[n].indexOf("<r>")?(i+="<si><t>",i+=this.processString(this.sharedString[n]),i+="</t></si>"):(i+="<si>",i+=this.sharedString[n],i+="</si>");i+="</sst>",this.addToArchive(t+i,"xl/sharedStrings.xml")}},e.prototype.processString=function(e){if("string"==typeof e)-1!==e.indexOf("&")&&(e=e.replace(/&/g,"&amp;")),-1!==e.indexOf("<")&&(e=e.replace(/</g,"&lt;")),-1!==e.indexOf(">")&&(e=e.replace(/>/g,"&gt;")),-1!==e.indexOf("\v")&&(e=e.replace(/\v/g,"_x000B_"));else if("object"==typeof e)for(var t=0;t<e.length;t++)-1!==e[t].indexOf("&")&&(e[t]=e[t].replace(/&/g,"&amp;")),-1!==e[t].indexOf("<")&&(e[t]=e[t].replace(/</g,"&lt;")),-1!==e[t].indexOf(">")&&(e[t]=e[t].replace(/>/g,"&gt;")),-1!==e[t].indexOf("\v")&&(e[t]=e[t].replace(/\v/g,"_x000B_"));return e},e.prototype.saveStyles=function(){this.updateCellXfsStyleXfs();var e='<?xml version="1.0" encoding="utf-8"?><styleSheet xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';e+=this.saveNumberFormats(),e+=this.saveFonts(),e+=this.saveFills(),e+=this.saveBorders(),e+=this.saveCellStyleXfs(),e+=this.saveCellXfs(),e+=this.saveCellStyles(),this.addToArchive(e+"</styleSheet>","xl/styles.xml")},e.prototype.updateCellXfsStyleXfs=function(){for(var e=0,t=this.mStyles;e<t.length;e++){var i=t[e],n=void 0;i.isGlobalStyle?(n=new GC).xfId=i.index-1:(n=new QC).xfId=0;var r=this.isNewFont(i);if(r.result)n.fontId=r.index;else{var s=new YC;s.b=i.bold,s.i=i.italic,s.name=i.fontName,s.sz=i.fontSize,s.u=i.underline,s.strike=i.strikeThrough,s.color="FF"+i.fontColor.replace("#",""),this.mFonts.push(s),n.fontId=this.mFonts.length-1}if("none"!==i.backColor){var o="FF"+i.backColor.replace("#","");if(this.mFills.has(o)){var a=this.mFills.get(o);n.fillId=a}else{a=this.mFills.size+2;this.mFills.set(o,a),n.fillId=a}}else n.fillId=0;if(this.isNewBorder(i)?n.borderId=0:(this.mBorders.push(i.borders),n.borderId=this.mBorders.length),"GENERAL"!==i.numberFormat)if(this.mNumFmt.has(i.numberFormat)){var l=this.mNumFmt.get(i.numberFormat);n.numFmtId=l.numFmtId}else{var h=this.mNumFmt.size+164;this.mNumFmt.set(i.numberFormat,new XC(h,i.numberFormat)),n.numFmtId=h}else"GENERAL"===i.numberFormat&&14===i.numFmtId?n.numFmtId=14:n.numFmtId=0;i.isGlobalStyle||(n.applyAlignment=1),n.alignment=new qC,n.alignment.indent=i.indent,n.alignment.horizontal=i.hAlign,n.alignment.vertical=i.vAlign,n.alignment.wrapText=i.wrapText?1:0,n.alignment.rotation=i.rotation,i.isGlobalStyle?(this.mCellStyleXfs.push(n),this.mCellXfs.push(n)):this.mCellXfs.push(n)}},e.prototype.saveNumberFormats=function(){if(this.mNumFmt.size>=1){var e='<numFmts count="'+this.mNumFmt.size+'">';return this.mNumFmt.forEach((function(t,i){e+='<numFmt numFmtId="'+t.numFmtId+'" formatCode="'+t.formatCode.replace(/"/g,"&quot;")+'" />'})),e+="</numFmts>"}return""},e.prototype.saveFonts=function(){var e='<fonts count="'+this.mFonts.length+'">';if(this.mFonts.length>=1)for(var t=0,i=this.mFonts;t<i.length;t++){var n=i[t];e+="<font>",n.b&&(e+="<b />"),n.i&&(e+="<i />"),n.u&&(e+="<u />"),n.strike&&(e+="<strike />"),e+='<sz val="'+n.sz+'" />',e+='<color rgb="'+n.color+'" />',e+='<name val="'+n.name+'" /></font>'}return e+"</fonts>"},e.prototype.saveFills=function(){var e='<fills count="'+(this.mFills.size+2)+'"><fill><patternFill patternType="none"></patternFill></fill><fill><patternFill patternType="gray125"></patternFill></fill>';return this.mFills.size>=1&&this.mFills.forEach((function(t,i){e+='<fill><patternFill patternType="solid"><fgColor rgb="'+i+'" /><bgColor rgb="FFFFFFFF" /></patternFill></fill>'})),e+"</fills>"},e.prototype.saveBorders=function(){var e='<borders count="'+(this.mBorders.length+1)+'"><border><left /><right /><top /><bottom /><diagonal /></border>';if(this.mBorders.length>=1)for(var t=0,i=this.mBorders;t<i.length;t++){var n=i[t];if(this.isAllBorder(n)){var r=n.all.color.replace("#",""),s=n.all.lineStyle;e+='<border><left style="'+s+'"><color rgb="FF'+r+'" /></left><right style="'+s+'"><color rgb="FF'+r+'" /></right><top style="'+s+'"><color rgb="FF'+r+'" /></top><bottom style="'+s+'"><color rgb="FF'+r+'" /></bottom></border>'}else e+='<border><left style="'+n.left.lineStyle+'"><color rgb="FF'+n.left.color.replace("#","")+'" /></left><right style="'+n.right.lineStyle+'"><color rgb="FF'+n.right.color.replace("#","")+'" /></right><top style="'+n.top.lineStyle+'"><color rgb="FF'+n.top.color.replace("#","")+'" /></top><bottom style="'+n.bottom.lineStyle+'"><color rgb="FF'+n.bottom.color.replace("#","")+'" /></bottom></border>'}return e+"</borders>"},e.prototype.saveCellStyles=function(){var e=this,t='<cellStyles  count="'+this.cellStyles.size+'">';return this.cellStyles.forEach((function(i,n){t+='<cellStyle name="'+n+'" xfId="'+e.cellStyles.get(n).xfId+'"',"Normal"===n&&(t+=' builtinId="0"'),t+=" />"})),t+="</cellStyles>"},e.prototype.saveCellStyleXfs=function(){var e='<cellStyleXfs count="'+(this.mCellStyleXfs.length+1)+'"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" />';if(this.mCellStyleXfs.length>=1)for(var t=0,i=this.mCellStyleXfs;t<i.length;t++){var n=i[t];e+='<xf numFmtId="'+n.numFmtId+'" fontId="'+n.fontId+'" fillId="'+n.fillId+'" borderId="'+n.borderId+'" ',void 0!==n.alignment?e+=">"+this.saveAlignment(n)+"</xf>":e+=" />"}return e+"</cellStyleXfs>"},e.prototype.saveCellXfs=function(){var e='<cellXfs count="'+(this.mCellXfs.length+1)+'"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />';if(this.mCellXfs.length>=1)for(var t=0,i=this.mCellXfs;t<i.length;t++){var n=i[t];e+='<xf numFmtId="'+n.numFmtId+'" fontId="'+n.fontId+'" fillId="'+n.fillId+'" borderId="'+n.borderId+'" xfId="'+n.xfId+'" ',1===n.applyAlignment&&(e+='applyAlignment="1"'),e+=">"+this.saveAlignment(n)+"</xf>"}return e+"</cellXfs>"},e.prototype.saveAlignment=function(e){var t="<alignment ";return void 0!==e.alignment.horizontal&&(t+='horizontal="'+e.alignment.horizontal+'" '),void 0!==e.alignment.indent&&0!==e.alignment.indent?t+='indent="'+e.alignment.indent+'" ':void 0!==e.alignment.rotation&&0!==e.alignment.rotation&&(t+='textRotation="'+e.alignment.rotation+'" '),void 0!==e.alignment.vertical&&(t+='vertical="'+e.alignment.vertical+'" '),t+='wrapText="'+e.alignment.wrapText+'" />'},e.prototype.saveApp=function(e){var t='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties"><Application>Essential XlsIO</Application>';void 0!==e&&(void 0!==e.manager&&(t+="<Manager>"+e.manager+"</Manager>"),void 0!==e.company&&(t+="<Company>"+e.company+"</Company>")),this.addToArchive(t+"</Properties>","docProps/app.xml")},e.prototype.saveCore=function(e){var t=new Date,i='<?xml version="1.0" encoding="utf-8" standalone="yes"?><cp:coreProperties xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties">';void 0!==this.builtInProperties?(void 0!==e.author&&(i+="<dc:creator>"+e.author+"</dc:creator>"),void 0!==e.subject&&(i+="<dc:subject>"+e.subject+"</dc:subject>"),void 0!==e.category&&(i+="<cp:category>"+e.category+"</cp:category>"),void 0!==e.comments&&(i+="<dc:description>"+e.comments+"</dc:description>"),void 0!==e.title&&(i+="<dc:title>"+e.title+"</dc:title>"),void 0!==e.tags&&(i+="<cp:keywords>"+e.tags+"</cp:keywords>"),void 0!==e.status&&(i+="<cp:contentStatus>"+e.status+"</cp:contentStatus>"),void 0!==e.createdDate?i+='<dcterms:created xsi:type="dcterms:W3CDTF">'+e.createdDate.toISOString()+"</dcterms:created>":i+='<dcterms:created xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:created>",void 0!==e.modifiedDate?i+='<dcterms:modified xsi:type="dcterms:W3CDTF">'+e.modifiedDate.toISOString()+"</dcterms:modified>":i+='<dcterms:modified xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:modified>"):(i+='<dcterms:created xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:created>",i+='<dcterms:modified xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:modified>"),i+="</cp:coreProperties>",this.addToArchive(i,"docProps/core.xml")},e.prototype.saveTopLevelRelation=function(){this.addToArchive('<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml" /><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml" /><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml" /></Relationships>',"_rels/.rels")},e.prototype.saveWorkbookRelation=function(){for(var e='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',t=this.worksheets.length,i=0,n=0;n<t;n++,i++)e+='<Relationship Id="rId'+(n+1).toString()+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+(n+1).toString()+'.xml" />';e+='<Relationship Id="rId'+(++i).toString()+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />',this.sharedStringCount>0&&(e+='<Relationship Id="rId'+(++i).toString()+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />'),this.addToArchive(e+"</Relationships>","xl/_rels/workbook.xml.rels")},e.prototype.saveContentType=function(){for(var e='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />',t="",i=this.worksheets.length,n=0,r=0;r<i;r++)t+='<Override PartName="/xl/worksheets/sheet'+(r+1).toString()+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />',void 0!=this.worksheets[r].images&&this.worksheets[r].images.length>0&&(t+='<Override PartName="/xl/drawings/drawing'+(++n).toString()+'.xml" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml" />');this.imageCount>0&&(t+='<Default Extension="png" ContentType="image/png" />'),this.sharedStringCount>0&&(e+='<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" />'),this.addToArchive(e+t+"</Types>","[Content_Types].xml")},e.prototype.addToArchive=function(e,t){if("string"===typeof e){var i=new Blob([e],{type:"text/plain"}),n=new vx(i,t);this.mArchive.addItem(n)}else{n=new vx(e,t);this.mArchive.addItem(n)}},e.prototype.processMergeCells=function(e,t,i){if(0!==e.rowSpan||0!==e.colSpan){var n=new UC;n.x=e.index,n.width=e.colSpan,n.y=t,n.height=e.rowSpan;var r=this.getCellName(n.y,n.x),s=this.getCellName(t+n.height,e.index+n.width);n.ref=r+":"+s;i.add(n);var o={x:n.x,y:n.y},a={x:e.index+n.width,y:t+n.height};this.updatedMergedCellStyles(o,a,e)}return i},e.prototype.updatedMergedCellStyles=function(e,t,i){for(var n=e.x;n<=t.x;n++)for(var r=e.y;r<=t.y;r++)this.mergedCellsStyle.set(this.getCellName(r,n),{x:n,y:r,styleIndex:i.styleIndex})},e.prototype.dateToTicks=function(e,t,i){if(e>=1&&e<=9999&&t>=1&&t<=12){var n=e-1;return 864e9*(365*n+(n/4|0)-(n/100|0)+(n/400|0)+(this.isLeapYear(e)?[0,31,60,91,121,152,182,213,244,274,305,335,366]:[0,31,59,90,120,151,181,212,243,273,304,334,365])[t-1]+i-1)}throw new Error("Not a valid date")},e.prototype.timeToTicks=function(e,t,i){if(e>=0&&e<24&&t>=0&&t<60&&i>=0&&i<60)return 1e4*(3600*e+60*t+i)*1e3;throw new Error("Not valid time")},e.prototype.isLeapYear=function(e){return e%4===0&&(e%100!==0||e%400===0)},e.prototype.toOADate=function(e){var t;if(0===(t=this.dateToTicks(e.getFullYear(),e.getMonth()+1,e.getDate())+this.timeToTicks(e.getHours(),e.getMinutes(),e.getSeconds())))return 0;if(t<31241376e9)throw new Error("Arg_OleAutDateInvalid");return(t-599264352e9)/1e4/864e5},e}(),Ix=function(){},Nx=function(){function e(e,t){this.hideColumnInclude=!1,this.foreignKeyData={},this.parent=e,!e.parentDetails&&t&&(this.foreignKeyData=t)}return e.getQuery=function(e,t){var i=t.generateQuery(!0).requiresCount();return t.isRemote()&&(e.groupSettings.enableLazyLoading&&e.groupSettings.columns.length?i.lazyLoad=[]:i.take(e.pageSettings.totalRecordsCount)),i},e.prototype.getFData=function(e,t){return Iv(t,{},e,this.foreignKeyData[t.field])[0]},e.prototype.getGridRowModel=function(e,t,i,n){void 0===n&&(n=0);var r=[],s=t.length;if(s){for(var o=0;o<s;o++,n++){var a={isExpand:!1};a.data=t[parseInt(o.toString(),10)],a.index=n,(i.childGrid||i.detailTemplate)&&("All"===i.hierarchyPrintMode?a.isExpand=!0:"Expanded"===i.hierarchyPrintMode&&this.parent.expandedRows&&this.parent.expandedRows[parseInt(n.toString(),10)]&&(a.isExpand=i.expandedRows[parseInt(n.toString(),10)].isExpand));var l=new kM(a);l.cells=this.generateCells(e,i),r.push(l)}this.processColumns(r)}return r},e.prototype.generateCells=function(e,t){var i=[];if(t.childGridLevel)for(var n=t.childGridLevel,r=0;n>r;r++)i.push(this.generateCell({},ov.Indent));for(var s=0,o=e;s<o.length;s++){var a=o[s];i.push(this.generateCell(a,ov.Data))}return i},e.prototype.getColumnData=function(e){var t,i=this,n=[],r=e.getForeignKeyColumns();if(r.length){for(var s=0;s<r.length;s++){var o="result"in r[parseInt(s.toString(),10)].dataSource?new mp(r[parseInt(s.toString(),10)].dataSource.result):r[parseInt(s.toString(),10)].dataSource;n.push(o.executeQuery(new sp))}t=Promise.all(n).then((function(e){for(var t=0;t<r.length;t++)i.foreignKeyData[r[parseInt(t.toString(),10)].field]=e[parseInt(t.toString(),10)].result}))}return t},e.prototype.getHeaders=function(e,t){this.hideColumnInclude=!!t,this.colDepth=zv(e);for(var i=[],n=0;n<this.colDepth;n++)i[parseInt(n.toString(),10)]=new kM({}),i[parseInt(n.toString(),10)].cells=[];return i=this.processColumns(i),{rows:i=this.processHeaderCells(i,e),columns:this.generateActualColumns(e)}},e.prototype.getConvertedWidth=function(e){var t=parseFloat(e);return-1!==e.indexOf("%")?this.parent.element.getBoundingClientRect().width*t/100:t},e.prototype.generateActualColumns=function(e,t){void 0===t&&(t=[]);for(var i=0,n=e;i<n.length;i++){var r=n[i];if(!r.commands)if(r.columns){if(r.visible||this.hideColumnInclude)0!==this.getCellCount(r,0)&&this.generateActualColumns(r.columns,t)}else(r.visible||this.hideColumnInclude)&&t.push(r)}return t},e.prototype.processHeaderCells=function(e,t){for(var i=t,n=0;n<i.length;n++)i[parseInt(n.toString(),10)].commands||(e=this.appendGridCells(i[parseInt(n.toString(),10)],e,0));return e},e.prototype.appendGridCells=function(e,t,i){if(e.columns||!1===e.visible&&!this.hideColumnInclude||e.commands){if(e.columns){var n=this.getCellCount(e,0);n&&t[parseInt(i.toString(),10)].cells.push(new zM({cellType:ov.StackedHeader,column:e,colSpan:n}));for(var r=void 0,s=0,o=e.columns.length;s<o;s++)e.columns[parseInt(s.toString(),10)].visible&&!r&&(r=!0),t=this.appendGridCells(e.columns[parseInt(s.toString(),10)],t,i+1)}}else t[parseInt(i.toString(),10)].cells.push(this.generateCell(e,ov.Header,this.colDepth-i,i));return t},e.prototype.generateCell=function(e,t,i,n){var r={visible:e.visible,isDataCell:t===ov.Data,column:e,cellType:t,rowSpan:i,index:n};return(!r.rowSpan||r.rowSpan<2)&&delete r.rowSpan,new zM(r)},e.prototype.processColumns=function(e){var t=this.parent,i=[];t.enableColumnVirtualization&&(i=t.getColumnIndexesInView());for(var n=0,r=e.length;n<r;n++)if(t.allowGrouping)for(var s=0,o=t.groupSettings.columns.length-1;s<o;s++)t.enableColumnVirtualization&&-1===i.indexOf(s)||e[parseInt(n.toString(),10)].cells.splice(0,0,this.generateCell({},ov.HeaderIndent));return e},e.prototype.getCellCount=function(e,t){if(e.columns)for(var i=0;i<e.columns.length;i++)t=this.getCellCount(e.columns[parseInt(i.toString(),10)],t);else(e.visible||this.hideColumnInclude)&&t++;return t},e.prototype.checkAndExport=function(e,t){Object.keys(e).some((function(t){return!e[""+t]}))||t()},e.prototype.failureHandler=function(e,t,i){var n=this;return function(){e[t.id]=!0,n.checkAndExport(e,i)}},e.prototype.createChildGrid=function(e,t,i,n){var r=new sw(this.parent.detailRowModule.getGridModel(e,t,i));e.isPrinting=!1;r.parentDetails={parentID:e.element.id,parentPrimaryKeys:e.getPrimaryKeyFieldNames(),parentKeyField:e.childGrid.queryString,parentKeyFieldValue:No(r.queryString,t.data),parentRowData:t.data};var s=tv("child-grid"),o=Ra("div",{id:s,styles:"display: none"});return document.body.appendChild(o),r.id=s,n[""+s]=!1,r.isExportGrid=!0,{childGrid:r,element:o}},e.prototype.getGridExportColumns=function(e){for(var t=[],i=0,n=e;i<n.length;i++)"checkbox"!==n[parseInt(i.toString(),10)].type&&t.push(n[parseInt(i.toString(),10)]);return t},e.prototype.getForeignKeyData=function(){return this.foreignKeyData},e}(),Cx=function(){function e(e){this.valueFormatter=new hg(e),this.internationalization=new va(e)}return e.prototype.returnFormattedValue=function(e,t){return!ko(e.value)&&e.value?this.valueFormatter.getFormatFunction(t)(e.value):""},e.prototype.formatCellValue=function(e){if(e.isForeignKey&&(e.value=No(e.column.foreignKeyValue,Iv(e.column,{},e.value)[0])),"number"===e.column.type&&void 0!==e.column.format&&""!==e.column.format)return"string"===typeof e.column.format&&(e.column.format={format:e.column.format}),e.value||0===e.value?this.internationalization.getNumberFormat(e.column.format)(e.value):"";if("boolean"===e.column.type&&""!==e.value)return e.value?"true":"false";if("date"!==e.column.type&&"dateonly"!==e.column.type&&"datetime"!==e.column.type&&"time"!==e.column.type||void 0===e.column.format)return(ko(e.column.type)||ko(e.value))&&ko(e.value)?"":e.value.toString();if("string"===typeof e.value&&(e.value=new Date(e.value)),"string"===typeof e.column.format){var t=void 0,i=e.column.format;return t="date"===e.column.type||"dateonly"===e.column.type?{type:"date",skeleton:i}:"time"===e.column.type?{type:"time",skeleton:i}:{type:"dateTime",skeleton:i},this.returnFormattedValue(e,t)}if(e.column.format instanceof Object&&void 0===e.column.format.type)return e.value.toString();var n=void 0;return n="date"===e.column.type||"dateonly"===e.column.type?{type:e.column.format.type,format:e.column.format.format,skeleton:e.column.format.skeleton}:"time"===e.column.type?{type:"time",format:e.column.format.format,skeleton:e.column.format.skeleton}:{type:"dateTime",format:e.column.format.format,skeleton:e.column.format.skeleton},this.returnFormattedValue(e,n)},e}(),xx=function(){function e(e,t){this.book={},this.workSheet=[],this.rows=[],this.columns=[],this.styles=[],this.rowLength=1,this.expType="AppendToSheet",this.includeHiddenColumn=!1,this.isCsvExport=!1,this.isChild=!1,this.isElementIdChanged=!1,this.gridPool={},this.sheet={},this.grpFooterTemplates=[],this.footerTemplates=[],this.aggIndex=0,this.totalAggregates=0,this.parent=e,this.helper=new Nx(e),this.locator=t,this.l10n=this.locator.getService("localization")}return e.prototype.getModuleName=function(){return"ExcelExport"},e.prototype.init=function(e){null!==e.element&&""===e.element.id&&(e.element.id=(new Date).toISOString(),this.isElementIdChanged=!0),this.parent=e,this.parent.isDestroyed||(this.isExporting=void 0,this.book={},this.workSheet=[],this.rows=[],this.columns=[],this.styles=[],this.rowLength=1,this.footer=void 0,this.expType="AppendToSheet",this.includeHiddenColumn=!1,this.exportValueFormatter=new Cx(e.locale),e.id=tv("main-grid"),this.gridPool[e.id]=!1)},e.prototype.Map=function(e,t,i,n,r,s){var o=e,a="isCsv";this.gridPool={},!e.childGrid&&!e.detailTemplate||!ko(t)&&"None"===t.hierarchyExportMode||(e.expandedRows=jv(e).expandedRows);var l={requestType:"beforeExcelExport",gridObject:o,cancel:!1,isMultipleExport:i,workbook:n,isCsv:r,isBlob:s,isChild:this.isChild,grpFooterTemplates:this.grpFooterTemplates};return o.trigger("beforeExcelExport",l),l.cancel?new Promise((function(e){return e()})):(this.parent.log("exporting_begin",this.getModuleName()),this.data=new EM(o),this.isExporting=!0,this.isBlob=l.isBlob,this.isChild=l.isChild,this.grpFooterTemplates=l.grpFooterTemplates,this.isCsvExport=!!l[""+a]&&l[""+a],By(t)&&Vy(t,o),this.processRecords(o,t,l.isMultipleExport,l.workbook))},e.prototype.exportingSuccess=function(e){this.isExporting=!1,this.parent.trigger("excelExportComplete",this.isBlob?{promise:this.blobPromise}:{gridInstance:this.parent}),this.parent.log("exporting_complete",this.getModuleName()),e(this.book)},e.prototype.processRecords=function(e,t,i,n){var r=this;if(e.allowGrouping&&e.groupSettings.enableLazyLoading&&e.groupSettings.columns.length&&(ko(t)?t={hierarchyExportMode:"All"}:t.hierarchyExportMode=t.hierarchyExportMode||"All"),ko(t)||ko(t.dataSource)){if(ko(t)||"CurrentPage"!==t.exportType){var s=[];return s.push(this.data.getData({},Nx.getQuery(e,this.data))),s.push(this.helper.getColumnData(e)),new Promise((function(o,a){Promise.all(s).then((function(s){r.init(e),r.processInnerRecords(e,t,i,n,s[0]).then((function(){r.exportingSuccess(o)}))})).catch((function(e){a(r.book),r.parent.trigger(Mg,e)}))}))}return new Promise((function(s){r.init(e),r.processInnerRecords(e,t,i,n,r.parent.getCurrentViewRecords()),r.exportingSuccess(s)}))}t.dataSource=t.dataSource instanceof mp?t.dataSource:new mp(t.dataSource);var o=t.query?t.query:new sp;return(ko(o.isCountRequired)||e.aggregates)&&(o.isCountRequired=!0),new Promise((function(s){t.dataSource.executeQuery(o).then((function(o){r.init(e),r.processInnerRecords(e,t,i,n,o).then((function(){r.exportingSuccess(s)}))}))}))},e.prototype.processInnerRecords=function(e,t,i,n,r){var s=this;this.groupedColLength=e.groupSettings.columns.length;var o,a=5,l=[],h=zv(e.columns),c=!ko(t);return c&&!ko(t.multipleExport)&&(this.expType=ko(t.multipleExport.type)?"AppendToSheet":t.multipleExport.type,ko(t.multipleExport.blankRows)||(a=t.multipleExport.blankRows)),ko(n)?(this.workSheet=[],this.rows=[],this.columns=[],this.styles=[],this.sheet.images=[]):"NewSheet"===this.expType?(this.workSheet=n.worksheets,this.rows=[],this.columns=[],this.sheet.images=[],this.styles=n.styles):(this.workSheet=[],this.rows=n.worksheets[0].rows,this.columns=n.worksheets[0].columns,this.styles=n.styles,this.sheet.images=n.worksheets[0].images,this.rowLength=this.rows[this.rows.length-1].index+a,this.rowLength++),c&&(ko(i)?(ko(t.header)||this.processExcelHeader(JSON.parse(JSON.stringify(t.header))),ko(t.footer)||(this.footer=JSON.parse(JSON.stringify(t.footer)))):(ko(t.header)||!i&&"NewSheet"!==this.expType||this.processExcelHeader(JSON.parse(JSON.stringify(t.header))),ko(t.footer)||"AppendToSheet"===this.expType&&i||(this.footer=JSON.parse(JSON.stringify(t.footer))))),this.includeHiddenColumn=!!c&&t.includeHiddenColumn,new Promise((function(i,n){e.childGridLevel=0,l=s.processGridExport(e,t,r),s.globalResolve=i,s.gridPool[e.id]=!0,s.helper.checkAndExport(s.gridPool,s.globalResolve)})).then((function(){var r=[];if(s.organiseRows(l,l[0].index,r),s.rows=s.rows.concat(r),ko(s.footer)||("AppendToSheet"===s.expType&&!i||"NewSheet"===s.expType)&&s.processExcelFooter(s.footer),s.columns.length>0&&(s.sheet.columns=s.columns),s.sheet.rows=s.rows,s.sheet.enableRtl=s.parent.enableRtl,s.parent.allowFiltering&&e.getVisibleColumns().length&&c&&t.enableFilter){var a=t.header?t.header.headerRows||t.header.rows.length:0,u={row:h+a,column:s.groupedColLength?s.groupedColLength+1:s.sheet.columns[0].index,lastRow:s.sheet.rows.length,lastColumn:s.sheet.columns.length};s.sheet.autoFilters=u}if(s.workSheet.push(s.sheet),s.book.worksheets=s.workSheet,s.book.styles=s.styles,e.notify("finalPageSetup",s.book),!i){if(s.isCsvExport){c&&!ko(t.separator)&&","!==t.separator&&(o=t.separator);var p=new _x(s.book,"csv",e.locale,ma,o);s.isBlob?s.blobPromise=p.saveAsBlob("text/csv"):c&&t.fileName?p.save(t.fileName):p.save("Export.csv")}else{p=new _x(s.book,"xlsx",e.locale,ma);s.isBlob?s.blobPromise=p.saveAsBlob("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"):c&&t.fileName?p.save(t.fileName):p.save("Export.xlsx")}s.isElementIdChanged&&(e.element.id=""),delete e.expandedRows}return n}))},e.prototype.organiseRows=function(e,t,i){if(!e.length)return t;for(var n=0;n<e.length;n++){var r=e[parseInt(n.toString(),10)],s=r.childRows;s?(r.index=t++,delete r.childRows,i.push(r),t=this.organiseRows(s,t,i)):(r.index=t++,i.push(r))}return t},e.prototype.processGridExport=function(e,t,i){var n=[];ko(t)||ko(t.theme)||(this.theme=t.theme),!e.childGrid&&!e.detailTemplate||ko(t)||(e.hierarchyPrintMode=t.hierarchyExportMode||"Expanded");var r=new Nx(e,this.helper.getForeignKeyData()),s=By(t)?Gy(t.columns,e.enableColumnVirtualization):r.getGridExportColumns(e.columns),o=r.getHeaders(s,this.includeHiddenColumn),a=e.groupSettings.columns.length?e.groupSettings.columns.length-1:0;if(n=this.processHeaderContent(e,o,a,n),!ko(t)&&Object.keys(t).length&&ko(t.dataSource))if("CurrentPage"!==t.exportType||e.groupSettings.enableLazyLoading&&!e.getDataModule().isRemote())if(e.groupSettings.enableLazyLoading&&!e.getDataModule().isRemote()){var l=void 0;if(!ko(t)&&Object.keys(t).length){var h="CurrentPage"!==t.exportType,c=e.getDataModule().generateQuery(h),u=e.getDataModule().dataManager.executeLocal(c);c.lazyLoad=[];if(!h)for(var p=0;p<c.queries.length;p++)"onPage"===c.queries[parseInt(p.toString(),10)].fn&&(c.queries[parseInt(p.toString(),10)].e.pageSize=u.reduce((function(e,t){return e+t.count}),0));if("All"===t.hierarchyExportMode)l=e.getDataModule().dataManager.executeLocal(c);else if("Expanded"===t.hierarchyExportMode||"None"===t.hierarchyExportMode||ko(t.hierarchyExportMode)){l=e.getDataModule().dataManager.executeLocal(c);var d=this.parent.contentModule.lazyLoadQuery;for(p=0;p<d.length;p++)for(var f=d[parseInt(p.toString(),10)][0],g=0;g<l.length;g++){l[parseInt(g.toString(),10)].key===f.value&&(u[parseInt(p.toString(),10)]=l[parseInt(g.toString(),10)])}l=u}}else l=e.currentViewData;n=this.processRecordContent(e,i,o,t,l,n,r)}else n=this.processRecordContent(e,i,o,t,void 0,n,r);else n=this.processRecordContent(e,i,o,t,e.currentViewData,n,r);else n=this.processRecordContent(e,i,o,t,void 0,n,r);return e.notify("export-DataBound",{excelRows:n,type:"excel"}),this.capTemplate=void 0,this.footerTemplates=[],this.grpFooterTemplates=[],this.aggIndex=0,this.totalAggregates=0,n},e.prototype.processRecordContent=function(e,t,i,n,r,s,o){var a;if(a=!ko(r)&&r.length?r:t.result,ko(a.level)?this.processRecordRows(e,a,i,0,0,n,s,o):this.processGroupedRows(e,a,i,a.level,0,n,s,o),!ko(t.aggregates)&&Object.keys(t.aggregates).length>0)if(ko(r)||this.parent.groupSettings.enableLazyLoading){var l=t.result.GroupGuid?t.result.records:t.result;this.processAggregates(e,l,s)}else this.processAggregates(e,t.result,s,r);return s},e.prototype.processGroupedRows=function(e,t,i,n,r,s,o,a){for(var l=0,h=t;l<h.length;l++){var c=h[l],u=[],p={};p.index=1+n-1;var d=e.getColumnByField(c.field),f={value:c.key,column:d,style:void 0,isForeignKey:d.isForeignColumn()},g=e.getColumnByField(c.field).headerText+": "+(d.enableGroupByFormat?c.key:this.exportValueFormatter.formatCellValue(f))+" - ";c.count>1?g+=c.count+" items":g+=c.count+" item";var m={captionText:g,type:this.isCsvExport?"CSV":"Excel",data:c};this.parent.trigger(Bg,m),p.value=m.captionText,p.style=this.getCaptionThemeStyle(this.theme),ko(m.style)||(p.style=this.mergeOptions(p.style,m.style));var y=new VM(e).generateRows(c);if(this.fillAggregates(e,y,t.level+t.childLevels-1,o,this.rowLength),u.push(p),o[o.length-1].cells.length>0){for(var v=t.level+t.childLevels+y[0].cells.length,b=0,M=0,S=o[o.length-1].cells;M<S.length;M++){var w=S[M];w.index<v&&(v=w.index),w.index>b&&(b=w.index),u[u.length-1].index!==w.index&&u.push(w)}for(v-p.index>1&&(p.colSpan=v-p.index);b<i.columns.length+n+t.childLevels;){var _={};_.index=b+1,_.style=this.getCaptionThemeStyle(this.theme),u.push(_),b++}}else{for(var I=0,N=0,C=i.columns;N<C.length;N++){C[N].visible&&I++}p.colSpan=t.childLevels+I}if(o[o.length-1].cells=u,this.rowLength++,this.groupedColLength<8&&n>1){var x={outlineLevel:n-1,isCollapsed:!0};o[o.length-1].grouping=x}!ko(t.childLevels)&&t.childLevels>0?(this.processGroupedRows(e,c.items,i,c.items.level,r,s,o,a),this.processAggregates(e,c,o,void 0,n-1+t.childLevels,!0)):(r=this.processRecordRows(e,c.items,i,n-1,r,s,o,a),this.processAggregates(e,c,o,void 0,n-1,!0))}},e.prototype.processRecordRows=function(e,t,i,n,r,s,o,a){for(var l=1,h=[],c=i.columns,u=0,p=a.getGridRowModel(c,t,e,r);u<p.length;u++){var d=p[u];h=[],r++,l=1;for(var f=void 0,g=0,m=d.cells.length;g<m;g++){var y=d.cells[parseInt(g.toString(),10)];if(y.cellType===ov.Data){var v=y.column,b=v.field,M=ko(b)?"":v.valueAccessor(b,d.data,v),S=ko(M)?"":M,w=void 0;if(v.isForeignColumn&&v.isForeignColumn()&&(w=a.getFData(S,v),S=No(v.foreignKeyValue,w)),!ko(S)){var _={},I=l+n+e.childGridLevel,N={data:d.data,column:v,foreignKeyData:w,value:S,style:void 0,colSpan:1,cell:_};if(e.trigger("excelQueryCellInfo",N),ko(N.image)||ko(N.image.base64)||(f=this.setImage(N,I),N.image.height&&""!==N.value&&(f+=30)),ko(N.hyperLink)||(N.cell.hyperlink={target:N.hyperLink.target},N.value=N.hyperLink.displayText||N.value),(_=N.cell).index=I,_.value=N.value,""===N.data&&e.childGridLevel&&1===l){var C={hAlign:"left"};N={style:C},_.colSpan=e.getVisibleColumns().length,_.value=this.l10n.getConstant("EmptyRecord")}if(N.colSpan>1&&(_.colSpan=N.colSpan),ko(N.style))_.style={name:e.element.id+"column"+(l+n)};else{var x=this.getColumnStyle(e,l+n);_.style=this.mergeOptions(this.styles[parseInt(x.toString(),10)],N.style)}h.push(_)}l++}}var D={index:this.rowLength++,cells:h};if(ko(f)||(D.height=f),this.groupedColLength&&this.groupedColLength<8&&n+1>0?(D.grouping={outlineLevel:n+1,isCollapsed:!0},o.push(D)):o.push(D),(d.isExpand||this.isChild)&&(!ko(e.childGrid)||!ko(e.detailTemplate)))if(ko(e.childGrid)){k={parentRow:d,row:D,value:{},action:"excelexport",gridInstance:e};this.parent.trigger(Mm,k),D.childRows=this.processDetailTemplate(k)}else{e.isPrinting=!0;var T=!ko(s)&&s.exportType?s.exportType:"AllPages",A=this.helper.createChildGrid(e,d,T,this.gridPool),j=A.childGrid,E=A.element;j.actionFailure=a.failureHandler(this.gridPool,j,this.globalResolve),j.childGridLevel=e.childGridLevel+1;var k={childGrid:j,row:d,exportProperties:s};this.parent.trigger(bm,k),j.beforeDataBound=this.childGridCell(D,j,s,d),j.appendTo(E)}e.notify(Pm,{rowObj:d,type:"excel",excelRows:o})}return r},e.prototype.processDetailTemplate=function(e){var t,i,n=this,r=[];if(e.value.columnHeader||e.value.rows){var s=function(e,r){var s={};if(ko(e.index)&&(e.index=i,i++),s.index=e.index+2,ko(e.value)||(s.value=e.value),ko(e.colSpan)||(s.colSpan=e.colSpan),ko(e.rowSpan)||(s.rowSpan=e.rowSpan),s.style=r?n.getHeaderThemeStyle(n.theme):n.getRecordThemeStyle(n.theme),!ko(e.style)){var o={fontColor:e.style.fontColor,fontName:e.style.fontName,fontSize:e.style.fontSize,hAlign:e.style.excelHAlign,vAlign:e.style.excelVAlign,rotation:e.style.excelRotation,bold:e.style.bold,indent:e.style.indent,italic:e.style.italic,underline:e.style.underline,backColor:e.style.backColor,wrapText:e.style.wrapText,borders:e.style.excelBorders,numberFormat:e.style.excelNumberFormat,type:e.style.excelType,strikeThrough:e.style.strikeThrough};s.style=n.mergeOptions(o,s.style)}return ko(e.image)||ko(e.image.base64)||(e.rowSpan>1?n.setImage(e,s.index):(t=n.setImage(e,s.index),e.image.height&&""!==e.value&&(t+=30))),ko(e.hyperLink)||(s.hyperlink={target:e.hyperLink.target},s.value=e.hyperLink.displayText),s},o=function(e,o){var a=[];i=0;for(var l=0;l<e.cells.length;l++){var h=e.cells[parseInt(l.toString(),10)],c=s(h,o);a.push(c)}var u={index:n.rowLength++,cells:a};ko(t)||(u.height=t,t=null),r.push(u)};if(e.value.columnHeader)for(var a=0;a<e.value.columnHeader.length;a++)o(e.value.columnHeader[parseInt(a.toString(),10)],!0);if(e.value.rows)for(a=0;a<e.value.rows.length;a++)o(e.value.rows[parseInt(a.toString(),10)])}else if(e.value.image){t=this.setImage(e.value,2);var l={index:this.rowLength++,cells:[{index:2,style:this.getRecordThemeStyle(this.theme)}]};ko(t)||(l.height=t,t=null),r.push(l)}else if(e.value.text){l={index:this.rowLength++,cells:[{index:2,value:e.value.text,style:this.getRecordThemeStyle(this.theme)}]};r.push(l)}else if(e.value.hyperLink){l={index:this.rowLength++,cells:[{index:2,hyperlink:{target:e.value.hyperLink.target},value:e.value.hyperLink.displayText,style:this.getRecordThemeStyle(this.theme)}]};r.push(l)}for(a=0;a<r.length;a++)r[parseInt(a.toString(),10)].grouping={outlineLevel:1,isCollapsed:!e.parentRow.isExpand,isHidden:!e.parentRow.isExpand};return r},e.prototype.setImage=function(e,t){ko(this.sheet.images)&&(this.sheet.images=[]);var i={image:e.image.base64,row:this.rowLength,column:t,lastRow:this.rowLength,lastColumn:t};return e.image.width&&e.image.height&&(i.width=e.image.width,i.height=e.image.height),this.sheet.images.push(i),this.columns[t-1].width=e.image.width||this.columns[t-1].width,e.image.height||50},e.prototype.childGridCell=function(e,t,i,n){var r=this;return function(s){t.beforeDataBound=null,s.cancel=!0,0===s.result.length&&(s.result=[""]),e.childRows=r.processGridExport(t,i,s);for(var o=r.parent.groupSettings.columns.length,a=e.childRows,l=0;l<a.length;l++)a[parseInt(l.toString(),10)].grouping={outlineLevel:o+t.childGridLevel,isCollapsed:!n.isExpand,isHidden:!n.isExpand};return t.destroy(),Qa(t.element),r.gridPool[t.id]=!0,r.helper.checkAndExport(r.gridPool,r.globalResolve),e}},e.prototype.processAggregates=function(e,t,i,n,r,s){var o=new FM(e),a=o.getColumns();a=a.filter((function(e){return ko(e.commands)&&"checkbox"!==e.type})),e.aggregates.length&&this.parent!==e&&e.aggregateModule.prepareSummaryInfo();var l=void 0;if(l=ko(n)?t:n,void 0===r&&(r=0),e.groupSettings.columns.length>0&&s){var h=new BM(e).generateRows(l,{level:l.level});h.length>0&&(i=this.fillAggregates(e,h,r,i))}else{r=e.groupSettings.columns.length>0&&!s?e.groupSettings.columns.length:r;var c=o.generateRows(l,t.aggregates,null,null,a);c.length>0&&!s&&(r=e.groupSettings.columns.length?r-1:r,i=this.fillAggregates(e,c,r,i))}return i},e.prototype.fillAggregates=function(e,t,i,n,r){for(var s=0,o=t;s<o.length;s++){for(var a=o[s],l=[],h=!0,c=0,u=0,p=a.cells;u<p.length;u++){var d=p[u],f={},g={};if(ko(d.attributes.index)||(g=this.parent.getColumnByIndex(d.attributes.index)),d.cellType!==ov.DetailFooterIntent&&"checkbox"!==g.type&&(d.visible||this.includeHiddenColumn))if(c++,d.isDataCell){h=!1;var m=!ko(d.column.footerTemplate),y=!ko(d.column.groupFooterTemplate),v=!ko(d.column.groupCaptionTemplate);if(f.index=c+i+e.childGridLevel,m)f.value=this.getAggreateValue(e,ov.Summary,d.column.footerTemplate,d,a);else if(y)f.value=this.getAggreateValue(e,ov.GroupSummary,d.column.groupFooterTemplate,d,a);else if(v)f.value=this.getAggreateValue(e,ov.CaptionSummary,d.column.groupCaptionTemplate,d,a);else for(var b=0,M=Object.keys(a.data[d.column.field]);b<M.length;b++){M[b]===d.column.type&&(ko(a.data[d.column.field].Sum)?ko(a.data[d.column.field].Average)?ko(a.data[d.column.field].Max)?ko(a.data[d.column.field].Min)?ko(a.data[d.column.field].Count)?ko(a.data[d.column.field].TrueCount)?ko(a.data[d.column.field].FalseCount)?ko(a.data[d.column.field].Custom)||(f.value=a.data[d.column.field].Custom):f.value=a.data[d.column.field][d.column.field+" - falsecount"]:f.value=a.data[d.column.field][d.column.field+" - truecount"]:f.value=a.data[d.column.field][d.column.field+" - count"]:f.value=a.data[d.column.field][d.column.field+" - min"]:f.value=a.data[d.column.field][d.column.field+" - max"]:f.value=a.data[d.column.field][d.column.field+" - average"]:f.value=a.data[d.column.field][d.column.field+" - sum"])}f.style=this.getCaptionThemeStyle(this.theme),this.aggregateStyle(d.column,f.style,d.column.field);var S=d.attributes.style;S.textAlign&&(f.style.hAlign=S.textAlign.toLowerCase());var w={row:a,type:m?"Footer":y?"GroupFooter":"GroupCaption",style:f,cell:d};this.parent.trigger("excelAggregateQueryCellInfo",w),l.push(f)}else void 0===r&&(f.index=c+i+e.childGridLevel,f.style=this.getCaptionThemeStyle(this.theme),l.push(f))}if(ko(r)){var _={},I="grouping";if(!(this.groupedColLength<8&&this.groupedColLength>0)||e.groupSettings.enableLazyLoading&&ko(n[n.length-1][""+I]))_={index:this.rowLength++,cells:l};else{var N={outlineLevel:n[n.length-1][""+I].outlineLevel,isCollapsed:!0};_={index:this.rowLength++,cells:l,grouping:N}}h||n.push(_)}else n.push({index:r,cells:l})}return n},e.prototype.aggregateStyle=function(e,t,i){var n=this.parent.getColumnByField(i);if("object"===typeof e.format){var r=e.format;t.numberFormat=ko(r.format)?r.skeleton:r.format,ko(r.type)||(t.type=r.type.toLowerCase())}else t.numberFormat=e.format;!ko(n)&&ko(t.type)&&(t.type=n.type.toLowerCase())},e.prototype.getAggreateValue=function(e,t,i,n,r){var s,o={};o[Ao(ov,n.cellType)]=Uh(i);var a=r.data[n.column.field?n.column.field:n.column.columnName];return(this.parent.isReact||this.parent.isVue||this.parent.isVue3||this.parent.isAngular)&&"string"!==typeof n.column.footerTemplate&&"string"!==typeof n.column.groupFooterTemplate&&"string"!==typeof n.column.groupCaptionTemplate?ko(s=a[n.column.type])?"":s:ko((s=o[Ao(ov,n.cellType)](a))[0])?"":s[0].textContent},e.prototype.mergeOptions=function(e,t){for(var i={},n=Object.keys(e),r=0;r<n.length;r++)"name"!==n[parseInt(r.toString(),10)]&&(i[n[parseInt(r.toString(),10)]]=e[n[parseInt(r.toString(),10)]]);n=Object.keys(t);for(r=0;r<n.length;r++)"name"!==n[parseInt(r.toString(),10)]&&(i[n[parseInt(r.toString(),10)]]=t[n[parseInt(r.toString(),10)]]);return i},e.prototype.getColumnStyle=function(e,t){for(var i=0,n=0,r=this.styles;n<r.length;n++){if(r[n].name===e.element.id+"column"+t)return i;i++}},e.prototype.headerRotation=function(e){var t=e.style.rotation;t<=90&&t>=0?e.style.hAlign="Left":(t>90&&t<=180||(t=180),e.style.hAlign="Right"),e.style.rotation=t},e.prototype.processHeaderContent=function(e,t,i,n){var r,s=t.rows,o=t.columns,a=[];if(i>0)for(var l=0;l!==i;)this.columns.push({index:l+1,width:30}),l++;for(var h=0;h<o.length;h++)this.parseStyles(e,o[parseInt(h.toString(),10)],this.getRecordThemeStyle(this.theme),i+h+1);for(var c=0;c<s.length;c++){for(var u=1+i,p=[],d=0;d<s[parseInt(c.toString(),10)].cells.length;d++){var f={},g={},m=s[parseInt(c.toString(),10)].cells[parseInt(d.toString(),10)];if(m.cellType!==ov.HeaderIndent&&m.cellType!==ov.DetailHeader){for(var y={contains:!0,index:1};y.contains;)if(u=(y=this.getIndex(a,1,u)).index,!y.contains){g.index=y.index+e.childGridLevel;break}if(!ko(m.rowSpan)&&1!==m.rowSpan){g.rowSpan=m.rowSpan;for(var v=1;v<m.rowSpan+1;v++){var b={rowIndex:0,columnIndex:0};b.rowIndex=v,b.columnIndex=u,a.push(b)}}ko(m.colSpan)||1===m.colSpan||(g.colSpan=m.colSpan,u=u+g.colSpan-1),g.value=m.column.headerText,f=this.getHeaderThemeStyle(this.theme),ko(m.column.textAlign)||(f.hAlign=m.column.textAlign.toLowerCase()),ko(m.column.headerTextAlign)||(f.hAlign=m.column.headerTextAlign.toLowerCase());var M={cell:g,gridCell:m,style:f};e.trigger("excelHeaderQueryCellInfo",M),M.style.rotation&&this.headerRotation(M),ko(M.image)||ko(M.image.base64)||(r=this.setImage(M,u)),ko(M.hyperLink)||(M.cell.hyperlink={target:M.hyperLink.target},g.value=M.hyperLink.displayText||g.value),g.style=M.style,p.push(g),u++}}var S={index:this.rowLength++,cells:p};ko(r)||(S.height=r),n.push(S)}return n},e.prototype.getHeaderThemeStyle=function(e){var t={fontSize:12,borders:{color:"#E0E0E0"},bold:!0};return ko(e)||ko(e.header)||(t=this.updateThemeStyle(e.header,t)),t},e.prototype.updateThemeStyle=function(e,t){return Eo(t,e)},e.prototype.getCaptionThemeStyle=function(e){var t={fontSize:13,backColor:"#F6F6F6"};return ko(e)||ko(e.caption)||(t=this.updateThemeStyle(e.caption,t)),t},e.prototype.getRecordThemeStyle=function(e){var t={fontSize:13,borders:{color:"#E0E0E0"}};return ko(e)||ko(e.record)||(t=this.updateThemeStyle(e.record,t)),t},e.prototype.processExcelHeader=function(e){if(!ko(e.rows)&&("NewSheet"===this.expType||1===this.rowLength)){var t=void 0;void 0===e.headerRows?this.rowLength=e.rows.length:this.rowLength=e.headerRows,t=this.rowLength<e.rows.length?this.rowLength:e.rows.length,this.rowLength++;for(var i=0;i<t;i++){var n=e.rows[parseInt(i.toString(),10)];(null===n.index||ko(n.index))&&(n.index=i+1),this.updatedCellIndex(n)}}},e.prototype.updatedCellIndex=function(e){for(var t=e.cells.length,i=0;i<t;i++){var n=e.cells[parseInt(i.toString(),10)];(null===n.index||ko(n.index))&&(n.index=i+1)}this.rows.push(e)},e.prototype.processExcelFooter=function(e){if(!ko(e.rows)){var t=void 0;void 0===e.footerRows?this.rowLength+=e.rows.length:e.footerRows>e.rows.length?(this.rowLength+=e.footerRows-e.rows.length,t=e.rows.length):t=e.footerRows;for(var i=0;i<t;i++){var n=e.rows[parseInt(i.toString(),10)];null===n.index||void 0===n.index?n.index=this.rowLength++:n.index+=this.rowLength,this.updatedCellIndex(n)}}},e.prototype.getIndex=function(e,t,i){for(var n=0,r=e;n<r.length;n++){var s=r[n];if(s.rowIndex===t&&s.columnIndex===i)return{contains:!0,index:i+=1}}return{contains:!1,index:i}},e.prototype.parseStyles=function(e,t,i,n){if(!ko(t.format))if("object"===typeof t.format){var r=t.format;i.numberFormat=ko(r.format)?r.skeleton:r.format,ko(r.type)||(i.type=r.type.toLowerCase())}else i.numberFormat=t.format,i.type=t.type;ko(t.textAlign)||(i.hAlign=t.textAlign.toLowerCase()),Object.keys(i).length>0&&(i.name=e.element.id+"column"+n,this.styles.push(i)),ko(t.width)||"auto"===t.width||e.childGridLevel||this.columns.push({index:n+e.childGridLevel,width:"number"===typeof t.width?t.width:this.helper.getConvertedWidth(t.width)})},e.prototype.destroy=function(){},e}(),Dx=function(){function e(e){this.streamWriter=e}return Object.defineProperty(e.prototype,"document",{get:function(){return this.pdfDocument},set:function(e){this.pdfDocument=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.streamWriter.buffer.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.streamWriter.buffer.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stream",{get:function(){return this.streamWriter},enumerable:!0,configurable:!0}),e.prototype.write=function(e){var t=e;this.streamWriter.write(t)},e}();function Tx(e){return"[object String]"===Object.prototype.toString.call(e)?"$s"+e:"$o"+e.toString()}var Ax,jx=function(){function e(e){this.table={},this.nElements=0,this.toStr=e||Tx}return e.prototype.getValue=function(e){var t=this.table["$"+this.toStr(e)];if("undefined"!==typeof t)return t.value},e.prototype.setValue=function(e,t){var i="$"+this.toStr(e);this.table[i];this.nElements++,this.table[i]={key:e,value:t}},e.prototype.remove=function(e){var t="$"+this.toStr(e),i=this.table[t];return delete this.table[t],this.nElements--,i.value},e.prototype.keys=function(){for(var e=[],t=Object.keys(this.table),i=0;i<t.length;i++){var n=this.table[t[i]];e.push(n.key)}return e},e.prototype.values=function(){for(var e=[],t=Object.keys(this.table),i=0;i<t.length;i++){var n=this.table[t[i]];e.push(n.value)}return e},e.prototype.containsKey=function(e){return!("undefined"===typeof this.getValue(e))},e.prototype.clear=function(){this.table={},this.nElements=0},e.prototype.size=function(){return this.nElements},e}();!function(e){e[e.None=0]="None",e[e.Registered=1]="Registered"}(Ax||(Ax={}));var Ex,kx=function(){function e(){this.objectCollections=[],this.mainObjectCollection=new jx,this.primitiveObjectCollection=new jx}return Object.defineProperty(e.prototype,"count",{get:function(){return this.objectCollections.length},enumerable:!0,configurable:!0}),e.prototype.items=function(e){return this.objectCollections[e]},Object.defineProperty(e.prototype,"outIsNew",{get:function(){return this.isNew},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=new zx(e);this.objectCollections.push(t),this.primitiveObjectCollection.containsKey(e)||this.primitiveObjectCollection.setValue(e,this.objectCollections.length-1),e.position=this.index=this.objectCollections.length-1,e.status=Ax.Registered},e.prototype.lookFor=function(e){var t=-1;if(-1!==e.position)return e.position;if(this.primitiveObjectCollection.containsKey(e)&&this.count===this.primitiveObjectCollection.size())t=this.primitiveObjectCollection.getValue(e);else for(var i=this.count-1;i>=0;i--){if(this.objectCollections[i].object===e){t=i;break}}return t},e.prototype.getReference=function(e,t){return this.index=this.lookFor(e),this.isNew=!1,{reference:this.objectCollections[this.index].reference,wasNew:t}},e.prototype.trySetReference=function(e,t,i){return this.index=this.lookFor(e),this.objectCollections[this.index].setReference(t),!0},e.prototype.destroy=function(){for(var e=0,t=this.objectCollections;e<t.length;e++){var i=t[e];void 0!==i&&(i.pdfObject.position=-1,i.pdfObject.isSaving=void 0,i.pdfObject.objectCollectionIndex=void 0,i.pdfObject.position=void 0)}this.objectCollections=[],this.mainObjectCollection=new jx,this.primitiveObjectCollection=new jx},e}(),zx=function(){function e(e,t){this.pdfObject=e,this.pdfReference=t}return Object.defineProperty(e.prototype,"object",{get:function(){return this.pdfObject},set:function(e){this.pdfObject=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reference",{get:function(){return this.pdfReference},enumerable:!0,configurable:!0}),e.prototype.setReference=function(e){this.pdfReference=e},e}(),Lx=i(612),Ox=function(){function e(e){this.bufferBlob=new Blob([""]),this.bufferText="",this.init(e),dx.e.isMicrosoftBrowser=!!navigator.msSaveBlob}return Object.defineProperty(e.prototype,"buffer",{get:function(){return this.flush(),this.bufferBlob},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encoding",{get:function(){return this.enc},enumerable:!0,configurable:!0}),e.prototype.init=function(e){null===e||void 0===e?(this.enc=new Lx.W(!1),this.enc.type="Utf8"):(this.enc=e,this.setBomByte())},e.prototype.setBomByte=function(){if(this.encoding.includeBom)switch(this.encoding.type){case"Unicode":var e=new ArrayBuffer(2),t=new Uint8Array(e);t[0]=255,t[1]=254,this.bufferBlob=new Blob([e]);break;case"Utf8":var i=new ArrayBuffer(3),n=new Uint8Array(i);n[0]=239,n[1]=187,n[2]=191,this.bufferBlob=new Blob([i]);break;default:this.bufferBlob=new Blob([""])}},e.prototype.save=function(e){""!==this.bufferText&&this.flush(),dx.e.save(e,this.buffer)},e.prototype.write=function(e){if(void 0===this.encoding)throw new Error("Object Disposed Exception: current writer is disposed");(0,Lx.d)(e,"string"),this.bufferText+=e,this.bufferText.length>=10240&&this.flush()},e.prototype.flush=function(){if(void 0!==this.bufferText&&null!==this.bufferText&&0!==this.bufferText.length){var e=this.encoding.getBytes(this.bufferText,0,this.bufferText.length);this.bufferText="",this.bufferBlob=new Blob([this.bufferBlob,e])}},e.prototype.writeLine=function(e){if(void 0===this.encoding)throw new Error("Object Disposed Exception: current writer is disposed");(0,Lx.d)(e,"string"),this.bufferText=this.bufferText+e+"\r\n",this.bufferText.length>=10240&&this.flush()},e.prototype.destroy=function(){this.bufferBlob=void 0,this.bufferText=void 0,this.enc instanceof Lx.W&&this.enc.destroy(),this.enc=void 0},e}(),Px=function(){function e(e){this.isStreamCopied=!1,e instanceof UA&&(this.document=e)}return Object.defineProperty(e.prototype,"pdfObjects",{get:function(){return this.objects},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crossTable",{get:function(){return this.pdfCrossTable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSavingObj",{get:function(){return this.currentSavingObject},set:function(e){this.currentSavingObject=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"catalog",{get:function(){return this.pdfCatalog},set:function(e){this.pdfCatalog=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewerPreferences",{get:function(){return this.pdfCatalog.viewerPreferences},enumerable:!0,configurable:!0}),e.prototype.setMainObjectCollection=function(e){this.objects=e},e.prototype.setCrossTable=function(e){this.pdfCrossTable=e},e.prototype.setCatalog=function(e){this.pdfCatalog=e},e.prototype.save=function(e){var t=this,i=new Lx.W(!0),n=new Ox(i);if("undefined"===typeof e){var r=new Lx.W(!0),s=new Ox(r);return new Promise((function(e,i){var n={};n.blobData=new Blob([t.document.docSave(s,!0)],{type:"application/pdf"}),e(n)}))}this.document.docSave(n,e,!0)},e.prototype.clone=function(){return this.document},e}(),Rx=function(){function e(e){this.stringStartMark="/",this.internalValue="",this.isSaving6=!1,this.position6=-1,this.internalValue=this.normalizeValue(e)}return Object.defineProperty(e.prototype,"status",{get:function(){return this.status6},set:function(e){this.status6=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving6},set:function(e){this.isSaving6=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index6},set:function(e){this.index6=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position6},set:function(e){this.position6=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.internalValue},set:function(e){var t=e;null!==e&&e.length>0?(t=e,this.internalValue=this.normalizeValue(t)):this.internalValue=t},enumerable:!0,configurable:!0}),e.prototype.save=function(e){e.write(this.toString())},e.prototype.toString=function(){return this.stringStartMark+this.escapeString(this.value)},e.prototype.clone=function(t){var i=new e;return i.value=this.internalValue,i},e.prototype.escapeString=function(t){for(var i="",n=0,r=t.length;n<r;n++){var s=t[n];e.delimiters.indexOf(s);i+=s}return i},e.prototype.normalizeValue=function(e,t){return e},e.delimiters="()<>[]{}/%}",e.replacements=[" ","\t","\n","\r"],e}(),Fx=function(){function e(){this.forTest="test",this.forTest=e.obj}return e.obj="obj",e.endObj="endobj",e.r="R",e.whiteSpace=" ",e.slash="/",e.newLine="\r\n",e.stream="stream",e.endStream="endstream",e.xref="xref",e.f="f",e.n="n",e.trailer="trailer",e.startxref="startxref",e.eof="%%EOF",e.header="%PDF-1.5",e.beginText="BT",e.endText="ET",e.beginPath="m",e.appendLineSegment="l",e.stroke="S",e.fill="f",e.fillEvenOdd="f*",e.fillStroke="B",e.fillStrokeEvenOdd="B*",e.appendbeziercurve="c",e.appendRectangle="re",e.saveState="q",e.restoreState="Q",e.paintXObject="Do",e.modifyCtm="cm",e.modifyTM="Tm",e.setLineWidth="w",e.setLineCapStyle="J",e.setLineJoinStyle="j",e.setDashPattern="d",e.setFlatnessTolerance="i",e.closePath="h",e.closeStrokePath="s",e.closeFillStrokePath="b",e.setCharacterSpace="Tc",e.setWordSpace="Tw",e.setHorizontalScaling="Tz",e.setTextLeading="TL",e.setFont="Tf",e.setRenderingMode="Tr",e.setTextRise="Ts",e.setTextScaling="Tz",e.setCoords="Td",e.goToNextLine="T*",e.setText="Tj",e.setTextWithFormatting="TJ",e.setTextOnNewLine="'",e.selectcolorspaceforstroking="CS",e.selectcolorspacefornonstroking="cs",e.setrbgcolorforstroking="RG",e.setrbgcolorfornonstroking="rg",e.setcmykcolorforstroking="K",e.setcmykcolorfornonstroking="k",e.setgraycolorforstroking="G",e.setgraycolorfornonstroking="g",e.clipPath="W",e.clipPathEvenOdd="W*",e.endPath="n",e.setGraphicsState="gs",e.comment="%",e.evenOdd="*",e.setMiterLimit="M",e.setColorAndPattern="scn",e.setColorAndPatternStroking="SCN",e}(),Bx=function(){this.pages="Pages",this.kids="Kids",this.count="Count",this.resources="Resources",this.type="Type",this.size="Size",this.mediaBox="MediaBox",this.parent="Parent",this.root="Root",this.decodeParms="DecodeParms",this.filter="Filter",this.font="Font",this.type1="Type1",this.baseFont="BaseFont",this.encoding="Encoding",this.subtype="Subtype",this.contents="Contents",this.procset="ProcSet",this.colorSpace="ColorSpace",this.extGState="ExtGState",this.pattern="Pattern",this.xObject="XObject",this.length="Length",this.width="Width",this.height="Height",this.bitsPerComponent="BitsPerComponent",this.image="Image",this.dctdecode="DCTDecode",this.columns="Columns",this.blackIs1="BlackIs1",this.k="K",this.s="S",this.predictor="Predictor",this.deviceRgb="DeviceRGB",this.next="Next",this.action="Action",this.link="Link",this.a="A",this.annot="Annot",this.p="P",this.c="C",this.rect="Rect",this.uri="URI",this.annots="Annots",this.ca="ca",this.CA="CA",this.xyz="XYZ",this.fit="Fit",this.dest="Dest",this.BM="BM",this.flatedecode="FlateDecode",this.rotate="Rotate",this.bBox="BBox",this.form="Form",this.w="W",this.cIDFontType2="CIDFontType2",this.cIDToGIDMap="CIDToGIDMap",this.identity="Identity",this.dw="DW",this.fontDescriptor="FontDescriptor",this.cIDSystemInfo="CIDSystemInfo",this.fontName="FontName",this.flags="Flags",this.fontBBox="FontBBox",this.missingWidth="MissingWidth",this.stemV="StemV",this.italicAngle="ItalicAngle",this.capHeight="CapHeight",this.ascent="Ascent",this.descent="Descent",this.leading="Leading",this.avgWidth="AvgWidth",this.fontFile2="FontFile2",this.maxWidth="MaxWidth",this.xHeight="XHeight",this.stemH="StemH",this.registry="Registry",this.ordering="Ordering",this.supplement="Supplement",this.type0="Type0",this.identityH="Identity-H",this.toUnicode="ToUnicode",this.descendantFonts="DescendantFonts",this.background="Background",this.shading="Shading",this.matrix="Matrix",this.antiAlias="AntiAlias",this.function="Function",this.extend="Extend",this.shadingType="ShadingType",this.coords="Coords",this.domain="Domain",this.range="Range",this.functionType="FunctionType",this.bitsPerSample="BitsPerSample",this.patternType="PatternType",this.paintType="PaintType",this.tilingType="TilingType",this.xStep="XStep",this.yStep="YStep",this.viewerPreferences="ViewerPreferences",this.centerWindow="CenterWindow",this.displayTitle="DisplayTitle",this.fitWindow="FitWindow",this.hideMenuBar="HideMenubar",this.hideToolBar="HideToolbar",this.hideWindowUI="HideWindowUI",this.pageMode="PageMode",this.pageLayout="PageLayout",this.duplex="Duplex",this.printScaling="PrintScaling"},Vx=function(){function e(e){if(this.position7=-1,this.primitiveItems=new jx,this.prefix="<<",this.suffix=">>",this.resources=[],this.object=null,this.archive=!0,this.isResource=!1,"undefined"===typeof e)this.primitiveItems=new jx,this.encrypt=!0,this.dictionaryProperties=new Bx;else{this.primitiveItems=new jx;for(var t=e.items.keys(),i=e.items.values(),n=0;n<e.items.size();n++)this.primitiveItems.setValue(t[n],i[n]);this.status=e.status,this.freezeChanges(this),this.encrypt=!0,this.dictionaryProperties=new Bx}}return Object.defineProperty(e.prototype,"items",{get:function(){return this.primitiveItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.status7},set:function(e){this.status7=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving7},set:function(e){this.isSaving7=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index7},set:function(e){this.index7=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return this.object},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position7},set:function(e){this.position7=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Count",{get:function(){return this.primitiveItems.size()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dictionary",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.getArchive=function(){return this.archive},e.prototype.setArchive=function(e){this.archive=e},e.prototype.setEncrypt=function(e){this.encrypt=e,this.modify()},e.prototype.getEncrypt=function(){return this.encrypt},e.prototype.freezeChanges=function(e){this.bChanged=!1},e.prototype.clone=function(t){return new e},e.prototype.modify=function(){this.bChanged=!0},e.prototype.remove=function(e){"string"!==typeof e?(this.primitiveItems.remove(e.value),this.modify()):this.remove(new Rx(e))},e.prototype.containsKey=function(e){return this.primitiveItems.containsKey(e.toString())},e.prototype.onBeginSave=function(){this.beginSave.sender.beginSave()},e.prototype.onFontDictionaryBeginSave=function(){this.fontDictionaryBeginSave.sender.fontDictionaryBeginSave()},e.prototype.onDescendantFontBeginSave=function(){this.descendantFontBeginSave.sender.descendantFontBeginSave()},e.prototype.onTemplateBeginSave=function(){this.pageBeginDrawTemplate.sender.pageBeginSave()},e.prototype.onBeginAnnotationSave=function(){this.annotationBeginSave.sender.beginSave()},e.prototype.onSectionBeginSave=function(e){var t=this.sectionBeginSave;t.sender.beginSave(t.state,e)},e.prototype.save=function(e,t){"undefined"===typeof t?this.save(e,!0):(e.write(this.prefix),"undefined"!==typeof this.beginSave&&this.onBeginSave(),"undefined"!==typeof this.descendantFontBeginSave&&this.onDescendantFontBeginSave(),"undefined"!==typeof this.fontDictionaryBeginSave&&this.onFontDictionaryBeginSave(),"undefined"!==typeof this.annotationBeginSave&&this.onBeginAnnotationSave(),"undefined"!==typeof this.sectionBeginSave&&this.onSectionBeginSave(e),"undefined"!==typeof this.pageBeginDrawTemplate&&this.onTemplateBeginSave(),this.Count>0&&this.saveItems(e),e.write(this.suffix),e.write(Fx.newLine))},e.prototype.saveItems=function(e){e.write(Fx.newLine);for(var t=this.primitiveItems.keys(),i=this.primitiveItems.values(),n=0;n<t.length;n++){var r=t[n];new Rx(r).save(e),e.write(Fx.whiteSpace),i[n].save(e),e.write(Fx.newLine)}},e}(),Ux=function(e){this.sender=e},Hx=function(e){this.sender=e},Wx=function(e){this.sender=e},Yx=function(e){this.sender=e},Qx=function(e,t){this.sender=e,this.state=t},qx=function(e){this.sender=e},Gx=function(){function e(e){this.position5=-1,this.value=e}return Object.defineProperty(e.prototype,"intValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInteger",{get:function(){return this.integer},set:function(e){this.integer=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.status5},set:function(e){this.status5=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving5},set:function(e){this.isSaving5=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index5},set:function(e){this.index5=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position5},set:function(e){this.position5=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.save=function(e){e.write(this.intValue.toString())},e.prototype.clone=function(t){return new e(this.value)},e.floatToString=function(e){var t=e.toFixed(2);return"0.00"===t&&(t=".00"),t},e.min=function(e,t,i){var n=Math.min(e,t);return Math.min(i,n)},e}(),Kx=function(){function e(t){if(this.startMark="[",this.endMark="]",this.position9=-1,this.clonedObject9=null,this.isFont=!1,"undefined"===typeof t)this.internalElements=[];else if("undefined"===typeof t||t instanceof e){var i=t;this.internalElements=[];for(r=0;r<i.elements.length;r++)this.internalElements.push(i.elements[r])}else for(var n=t,r=0;r<n.length;r++){var s=new Gx(n[r]);this.add(s)}}return e.prototype.items=function(e){return this.internalElements[e]},Object.defineProperty(e.prototype,"count",{get:function(){return this.internalElements.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.status9},set:function(e){this.status9=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving9},set:function(e){this.isSaving9=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return this.clonedObject9},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position9},set:function(e){this.position9=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index9},set:function(e){this.index9=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CrossTable",{get:function(){return this.pdfCrossTable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elements",{get:function(){return this.internalElements},enumerable:!0,configurable:!0}),e.prototype.add=function(e){"undefined"===typeof this.internalElements&&(this.internalElements=[]),this.internalElements.push(e),this.markedChange()},e.prototype.markedChange=function(){this.bChanged=!0},e.prototype.contains=function(e){for(var t=0;t<this.internalElements.length;t++){var i=this.internalElements[t],n=e;if(null!=i&&"undefined"!==typeof i&&null!=n&&"undefined"!==typeof n&&i.value===n.value)return!0}return!1},e.prototype.getItems=function(e){return this.internalElements[e]},e.prototype.save=function(e){e.write(this.startMark);for(var t=0,i=this.count;t<i;t++)this.getItems(t).save(e),t+1!==i&&e.write(Fx.whiteSpace);e.write(this.endMark)},e.prototype.clone=function(t){this.clonedObject9=null;for(var i=new e,n=0;n<this.internalElements.length;n++){var r=this.internalElements[n];i.add(r.clone(t))}return i.pdfCrossTable=t,this.clonedObject9=i,i},e.fromRectangle=function(t){return new e([t.x,t.y,t.width,t.height])},e.prototype.insert=function(e,t){if(e<this.internalElements.length&&e>0){for(var i=[],n=0;n<e;n++)i.push(this.internalElements[n]);i.push(t);for(n=e;n<this.internalElements.length;n++)i.push(this.internalElements[n]);this.internalElements=i}else this.internalElements.push(t);this.markChanged()},e.prototype.indexOf=function(e){return this.internalElements.indexOf(e)},e.prototype.remove=function(e){var t=this.internalElements.indexOf(e);this.internalElements[t]=null,this.markChanged()},e.prototype.removeAt=function(e){if(this.internalElements.length>e){for(var t=[],i=0;i<e;i++)t.push(this.internalElements[i]);for(i=e+1;i<this.internalElements.length;i++)t.push(this.internalElements[i]);this.internalElements=t}this.markChanged()},e.prototype.clear=function(){this.internalElements=[],this.markChanged()},e.prototype.markChanged=function(){this.bChanged=!0},e}(),Xx=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jx=function(e){function t(t,i){var n=e.call(this,t)||this;return n.dicPrefix="stream",n.dicSuffix="endstream",n.clonedObject2=null,n.bCompress=!0,"undefined"!==typeof t||"undefined"!==typeof i?(n.dataStream2=[],n.dataStream2=i,n.bCompress2=!1):(n.dataStream2=[],n.bCompress2=!0),n}return Xx(t,e),Object.defineProperty(t.prototype,"internalStream",{get:function(){return this.dataStream2},set:function(e){this.dataStream2=[],this.dataStream2=e,this.modify()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"compress",{get:function(){return this.bCompress},set:function(e){this.bCompress=e,this.modify()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.dataStream2},set:function(e){this.dataStream2=[],this.dataStream2=e,this.modify()},enumerable:!0,configurable:!0}),t.prototype.clearStream=function(){this.internalStream=[],this.items.containsKey(this.dictionaryProperties.filter)&&this.remove(this.dictionaryProperties.filter),this.bCompress=!0,this.modify()},t.prototype.write=function(e){if(null==e)throw new Error("ArgumentNullException:text");if(e.length<=0)throw new Error("ArgumentException: Can not write an empty string, text");this.dataStream2.push(e),this.modify()},t.prototype.writeBytes=function(e){if(null===e)throw new Error("ArgumentNullException:data");if(e.length<=0)throw new Error("ArgumentException: Can not write an empty bytes, data");for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);this.dataStream2.push(t),this.modify()},t.prototype.onCmapBeginSave=function(){this.cmapBeginSave.sender.cmapBeginSave()},t.prototype.onFontProgramBeginSave=function(){this.fontProgramBeginSave.sender.fontProgramBeginSave()},t.prototype.compressContent=function(e,t){if(this.bCompress){for(var i=[],n=0;n<e.length;n++)i.push(e.charCodeAt(n));var r=new Uint8Array(i),s=new px.r4;s.write(r,0,r.length),s.close(),e=s.getCompressedString,this.addFilter(this.dictionaryProperties.flatedecode)}return e},t.prototype.addFilter=function(e){var t=this.items.getValue(this.dictionaryProperties.filter);t instanceof nD&&(t=t.object);var i=t,n=t;null!=n&&((i=new Kx).insert(0,n),this.items.setValue(this.dictionaryProperties.filter,i)),n=new Rx(e),null==i?this.items.setValue(this.dictionaryProperties.filter,n):i.insert(0,n)},t.prototype.save=function(t){"undefined"!==typeof this.cmapBeginSave&&this.onCmapBeginSave(),"undefined"!==typeof this.fontProgramBeginSave&&this.onFontProgramBeginSave();for(var i="",n=0;n<this.data.length;n++)i+=this.data[n];i.length>1&&!this.isResource&&(i="q\r\n"+i+"Q\r\n");var r=(i=this.compressContent(i,t)).length;this.items.setValue(this.dictionaryProperties.length,new Gx(r)),e.prototype.save.call(this,t,!1),t.write(this.dicPrefix),t.write(Fx.newLine),i.length>0&&t.write(i),t.write(Fx.newLine),t.write(this.dicSuffix),t.write(Fx.newLine)},t.bytesToString=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},t}(Vx),Zx=function(e){this.sender=e},$x=function(e){this.sender=e};!function(e){var t;!function(e){e[e.None=0]="None",e[e.Ascii=1]="Ascii",e[e.Unicode=2]="Unicode"}(e.ForceEncoding||(e.ForceEncoding={})),function(e){e[e.StringValue=0]="StringValue",e[e.ByteBuffer=1]="ByteBuffer"}(t||(t={}))}(Ex||(Ex={}));var eD,tD=function(){function e(e){if(this.bHex=!1,this.position1=-1,this.clonedObject1=null,this.bDecrypted=!1,this.isParentDecrypted=!1,this.isPacked=!1,this.isFormField=!1,this.isColorSpace=!1,this.isHexString=!0,"undefined"===typeof e)this.bHex=!1;else if(!(e.length>0&&"0xfeff"===e[0])){this.stringValue=e,this.data=[];for(var t=0;t<e.length;++t)this.data.push(e.charCodeAt(t))}}return Object.defineProperty(e.prototype,"hex",{get:function(){return this.bHex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.stringValue},set:function(e){this.stringValue=e,this.data=null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.status1},set:function(e){this.status1=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving1},set:function(e){this.isSaving1=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index1},set:function(e){this.index1=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return this.clonedObject1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position1},set:function(e){this.position1=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CrossTable",{get:function(){return this.crossTable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"converted",{get:function(){return this.bConverted},set:function(e){this.bConverted=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encode",{get:function(){return this.bForceEncoding},set:function(e){this.bForceEncoding=e},enumerable:!0,configurable:!0}),e.bytesToHex=function(e){if(null==e)return"";return""},e.prototype.save=function(t){if(null===t)throw new Error("ArgumentNullException : writer");void 0!==this.encode&&this.encode===Ex.ForceEncoding.Ascii?t.write(this.pdfEncode()):t.write(e.stringMark[0]+this.value+e.stringMark[1])},e.prototype.pdfEncode=function(){var t="";if(void 0!==this.encode&&this.encode===Ex.ForceEncoding.Ascii){for(var i=this.escapeSymbols(this.value),n=0;n<i.length;n++)t+=String.fromCharCode(i[n]);t=e.stringMark[0]+t+e.stringMark[1]}else t=this.value;return t},e.prototype.escapeSymbols=function(e){for(var t=[],i=0;i<e.length;i++){var n=e.charCodeAt(i);switch(n){case 40:case 41:case 92:t.push(92),t.push(n);break;case 13:t.push(92),t.push(114);break;default:t.push(n)}}return t},e.prototype.clone=function(t){if(null!==this.clonedObject1&&this.clonedObject1.CrossTable===t)return this.clonedObject1;this.clonedObject1=null;var i=new e(this.stringValue);return i.bHex=this.bHex,i.crossTable=t,i.isColorSpace=this.isColorSpace,this.clonedObject1=i,i},e.toUnicodeArray=function(e,t){if(null==e)throw new Error("Argument Null Exception : value");for(var i=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);i.push(r/256>>>0),i.push(255&r)}return i},e.byteToString=function(e){if(null==e)throw new Error("Argument Null Exception : stream");for(var t="",i=0;i<e.length;++i)t+=String.fromCharCode(e[i]);return t},e.stringMark="()",e.hexStringMark="<>",e.hexFormatPattern="{0:X2}",e}(),iD=function(){function e(e,t){this.index3=-1,this.position3=-1,this.objNumber=0,this.genNumber=0,"number"===typeof e&&"number"===typeof t?(this.objNumber=e,this.genNumber=t):(this.objNumber=Number(e),this.genNumber=Number(t))}return Object.defineProperty(e.prototype,"status",{get:function(){return this.status3},set:function(e){this.status3=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving3},set:function(e){this.isSaving3=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index3},set:function(e){this.index3=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position3},set:function(e){this.position3=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.save=function(e){e.write(this.toString())},e.prototype.toString=function(){return this.objNumber.toString()+" "+this.genNumber.toString()+" R"},e.prototype.clone=function(e){return null},e}(),nD=function(){function e(e,t){this.index4=-1,this.position4=-1,this.objectIndex=-1,this.dictionaryProperties=new Bx,this.initialize(e)}return Object.defineProperty(e.prototype,"status",{get:function(){return this.status4},set:function(e){this.status4=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving4},set:function(e){this.isSaving4=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index4},set:function(e){this.index4=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position4},set:function(e){this.position4=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"object",{get:function(){return this.primitiveObject},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reference",{get:function(){return this.pdfReference},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.objectIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.primitiveObject},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){if(e instanceof Kx||e instanceof Vx||e instanceof Rx||e instanceof Gx||e instanceof Jx||e instanceof iD||e instanceof tD)this.primitiveObject=e;else{var t=e;this.initialize(t.element)}},e.prototype.save=function(e){e.position;var t=e.document.crossTable;this.object.isSaving=!0;t.getReference(this.object).save(e)},e.prototype.clone=function(e){return null},e}();!function(e){e[e.Free=0]="Free",e[e.Normal=1]="Normal",e[e.Packed=2]="Packed"}(eD||(eD={}));var rD,sD,oD,aD,lD=function(){function e(e){this.currentPosition=-1,this.value=e}return Object.defineProperty(e.prototype,"status",{get:function(){return this.objectStatus},set:function(e){this.objectStatus=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.saving},set:function(e){this.saving=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.currentPosition},set:function(e){this.currentPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.save=function(e){e.write(this.boolToStr(this.value))},e.prototype.clone=function(t){return new e(this.value)},e.prototype.boolToStr=function(e){return e?"true":"false"},e}(),hD=function(){function e(e){this._dictionaryProperties=new Bx,this._centerWindow=!1,this._fitWindow=!1,this._displayTitle=!1,this._splitWindow=!1,this._hideMenuBar=!1,this._hideToolBar=!1,this._hideWindowUI=!1,this._pageMode=rD.UseNone,this._pageLayout=sD.SinglePage,this._dictionary=new Vx,this._duplex=oD.None,this._catalog=e}return Object.defineProperty(e.prototype,"centerWindow",{get:function(){return this._centerWindow},set:function(e){this._centerWindow=e,this._dictionary.items.setValue(this._dictionaryProperties.centerWindow,new lD(this._centerWindow))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayTitle",{get:function(){return this._displayTitle},set:function(e){this._displayTitle=e,this._dictionary.items.setValue(this._dictionaryProperties.displayTitle,new lD(this._displayTitle))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitWindow",{get:function(){return this._fitWindow},set:function(e){this._fitWindow=e,this._dictionary.items.setValue(this._dictionaryProperties.fitWindow,new lD(this._fitWindow))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideMenuBar",{get:function(){return this._hideMenuBar},set:function(e){this._hideMenuBar=e,this._dictionary.items.setValue(this._dictionaryProperties.hideMenuBar,new lD(this._hideMenuBar))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideToolBar",{get:function(){return this._hideToolBar},set:function(e){this._hideToolBar=e,this._dictionary.items.setValue(this._dictionaryProperties.hideToolBar,new lD(this._hideToolBar))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideWindowUI",{get:function(){return this._hideWindowUI},set:function(e){this._hideWindowUI=e,this._dictionary.items.setValue(this._dictionaryProperties.hideWindowUI,new lD(this._hideWindowUI))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageMode",{get:function(){return this._pageMode},set:function(e){this._pageMode=e,this._catalog.items.setValue(this._dictionaryProperties.pageMode,new Rx(this._mapPageMode(this._pageMode)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duplex",{get:function(){return this._duplex},set:function(e){this._duplex=e,this._catalog.items.setValue(this._dictionaryProperties.duplex,new Rx(this._mapDuplexMode(this._duplex)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageLayout",{get:function(){return this._pageLayout},set:function(e){this._pageLayout=e,this._catalog.items.setValue(this._dictionaryProperties.pageLayout,new Rx(this._mapPageLayout(this._pageLayout)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageScaling",{get:function(){return this._pageScaling},set:function(e){this._pageScaling=e,this._pageScaling===aD.AppDefault&&this._dictionary.items.containsKey(this._dictionaryProperties.printScaling)?this._dictionary.items.remove(this._dictionaryProperties.printScaling):this._pageScaling===aD.None&&this._dictionary.items.setValue(this._dictionaryProperties.printScaling,new Rx("None"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._dictionary},enumerable:!0,configurable:!0}),e.prototype._mapDuplexMode=function(e){switch(e){case oD.Simplex:return"Simplex";case oD.DuplexFlipShortEdge:return"DuplexFlipShortEdge";case oD.DuplexFlipLongEdge:return"DuplexFlipLongEdge";case oD.None:return"None"}},e.prototype._mapPageMode=function(e){switch(e){case rD.UseNone:return"UseNone";case rD.UseOutlines:return"UseOutlines";case rD.UseThumbs:return"UseThumbs";case rD.FullScreen:return"FullScreen";case rD.UseOC:return"UseOC";case rD.UseAttachments:return"UseAttachments"}},e.prototype._mapPageLayout=function(e){switch(e){case sD.SinglePage:return"SinglePage";case sD.OneColumn:return"OneColumn";case sD.TwoColumnLeft:return"TwoColumnLeft";case sD.TwoColumnRight:return"TwoColumnRight";case sD.TwoPageLeft:return"TwoPageLeft";case sD.TwoPageRight:return"TwoPageRight"}},e}();!function(e){e[e.UseNone=0]="UseNone",e[e.UseOutlines=1]="UseOutlines",e[e.UseThumbs=2]="UseThumbs",e[e.FullScreen=3]="FullScreen",e[e.UseOC=4]="UseOC",e[e.UseAttachments=5]="UseAttachments"}(rD||(rD={})),function(e){e[e.SinglePage=0]="SinglePage",e[e.OneColumn=1]="OneColumn",e[e.TwoColumnLeft=2]="TwoColumnLeft",e[e.TwoColumnRight=3]="TwoColumnRight",e[e.TwoPageLeft=4]="TwoPageLeft",e[e.TwoPageRight=5]="TwoPageRight"}(sD||(sD={})),function(e){e[e.Simplex=0]="Simplex",e[e.DuplexFlipShortEdge=1]="DuplexFlipShortEdge",e[e.DuplexFlipLongEdge=2]="DuplexFlipLongEdge",e[e.None=3]="None"}(oD||(oD={})),function(e){e[e.AppDefault=0]="AppDefault",e[e.None=1]="None"}(aD||(aD={}));var cD,uD,pD,dD,fD,gD,mD=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),yD=function(e){function t(){var t=e.call(this)||this;return t.sections=null,t.tempDictionaryProperties=new Bx,t.items.setValue((new Bx).type,new Rx("Catalog")),t}return mD(t,e),Object.defineProperty(t.prototype,"pages",{get:function(){return this.sections},set:function(e){e.element;this.sections=e,this.items.setValue(this.tempDictionaryProperties.pages,new nD(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewerPreferences",{get:function(){return null!==this._viewerPreferences&&"undefined"!==typeof this._viewerPreferences||(this._viewerPreferences=new hD(this),this.items.setValue(this.tempDictionaryProperties.viewerPreferences,new nD(this._viewerPreferences.element))),this._viewerPreferences},enumerable:!0,configurable:!0}),t}(Vx),vD=function(){function e(){this.objects=new jx,this.maxGenNumIndex=0,this.objectCount=0,this.dictionaryProperties=new Bx}return Object.defineProperty(e.prototype,"isMerging",{get:function(){return this.merging},set:function(e){this.merging=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trailer",{get:function(){return null==this.internalTrailer&&(this.internalTrailer=new Jx),this.internalTrailer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.pdfDocument},set:function(e){this.pdfDocument=e,this.items=this.pdfDocument.pdfObjects},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pdfObjects",{get:function(){return this.items},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollection",{get:function(){return this.pdfDocument.pdfObjects},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.objectCount},set:function(e){this.objectCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextObjNumber",{get:function(){return this.count=this.count+1,this.count},enumerable:!0,configurable:!0}),e.prototype.save=function(e,t){this.saveHead(e);this.mappedReferences=null,this.objects.clear(),this.markTrailerReferences(),this.saveObjects(e);var i=this.count,n=e.position;this.registerObject(0,new iD(0,-1),!0);e.write(Fx.xref),e.write(Fx.newLine),this.saveSections(e),this.saveTrailer(e,this.count,0),this.saveTheEndess(e,n),this.count=i;for(var r=0;r<this.objectCollection.count;++r){this.objectCollection.items(r).object.isSaving=!1}if("undefined"===typeof t)return e.stream.buffer;e.stream.save(t)},e.prototype.saveTheEndess=function(e,t){e.write(Fx.newLine+Fx.startxref+Fx.newLine),e.write(t.toString()+Fx.newLine),e.write(Fx.eof+Fx.newLine)},e.prototype.saveTrailer=function(e,t,i){e.write(Fx.trailer+Fx.newLine);var n=this.trailer;n.items.setValue(this.dictionaryProperties.size,new Gx(this.objectCount+1)),(n=new Vx(n)).setEncrypt(!1),n.save(e)},e.prototype.saveSections=function(e){var t=0,i=0;do{i=this.prepareSubsection(t),this.saveSubsection(e,t,i),t+=i}while(0!==i)},e.prototype.saveSubsection=function(e,t,i){if(!(i<=0||t>=this.count)){e.write(t+" "+(i+1)+Fx.newLine);for(var n=t;n<=t+i;++n){var r=this.objects.getValue(n),s="";s=r.type===eD.Free?this.getItem(r.offset,65535,!0):this.getItem(r.offset,r.generation,!1),e.write(s)}}},e.prototype.getItem=function(e,t,i){var n="",r=10-e.toString().length;t<=0&&(t=0);for(var s=5-t.toString().length<=0?0:5-t.toString().length,o=0;o<r;o++)n+="0";n=n+e.toString()+" ";for(o=0;o<s;o++)n+="0";return n=(n=n+t.toString()+" ")+(i?Fx.f:Fx.n)+Fx.newLine},e.prototype.prepareSubsection=function(e){for(var t,i=0,n=this.count,r=0;r<this.document.pdfObjects.count;r++)this.document.pdfObjects.items(r).reference.toString().split(" ");if(e>=n)return i;for(e=t=e;t<n;++t)++i;return i},e.prototype.markTrailerReferences=function(){this.trailer.items.keys(),this.trailer.items.values()},e.prototype.saveHead=function(e){var t=this.generateFileVersion(e.document);e.write("%PDF-"+t),e.write(Fx.newLine)},e.prototype.generateFileVersion=function(e){return"1."+4..toString()},e.prototype.getReference=function(e,t){if("undefined"===typeof t){return this.getReference(e,!1)}return this.getSubReference(e,t)},e.prototype.getSubReference=function(e,t){var i,n=!1,r=null;if(this.items.count>0&&e.objectCollectionIndex>0&&this.items.count>e.objectCollectionIndex-1){var s=this.document.pdfObjects.getReference(e,i);r=s.reference,i=s.wasNew}if(i=null==r&&e.status!==Ax.Registered,null==r){var o=this.nextObjNumber;r=new iD(o,0);var a=void 0;if(i){this.document.pdfObjects.add(e),this.document.pdfObjects.trySetReference(e,r,a);var l=this.document.pdfObjects.count-1,h=this.document.pdfObjects.objectCollections[l].reference.objNumber,c=this.document.pdfObjects.objectCollections[this.document.pdfObjects.count-1];this.document.pdfObjects.mainObjectCollection.setValue(h,c),e.position=-1}else this.document.pdfObjects.trySetReference(e,r,a);e.objectCollectionIndex=r.objNumber,e.status=Ax.None,n=!0}return n||this.bForceNew,r},e.prototype.saveObjects=function(e){for(var t=this.objectCollection,i=0;i<t.count;++i){var n=t.items(i).object;n.isSaving=!0,this.saveIndirectObject(n,e)}},e.prototype.saveIndirectObject=function(e,t){var i=this.getReference(e);e instanceof yD&&this.trailer.items.setValue(this.dictionaryProperties.root,i),this.pdfDocument.currentSavingObj=i;e.getArchive();this.registerObject(t.position,i),this.doSaveObject(e,i,t)},e.prototype.doSaveObject=function(e,t,i){i.length;i.write(t.objNumber.toString()),i.write(Fx.whiteSpace),i.write(t.genNumber.toString()),i.write(Fx.whiteSpace),i.write(Fx.obj),i.write(Fx.newLine),e.save(i);i.stream;i.write(Fx.endObj),i.write(Fx.newLine)},e.prototype.registerObject=function(e,t,i){"boolean"===typeof i?(this.objects.setValue(t.objNumber,new bD(e,t,i)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber)):"undefined"===typeof i&&(this.objects.setValue(t.objNumber,new bD(e,t)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber))},e.dereference=function(e){return null!=e&&(e=e.object),e},e}(),bD=function(){function e(e,t,i){var n=e;this.offsetNumber=n;var r=t;this.generation=r.genNumber,this.object=r.objNumber,this.type="undefined"===typeof i?eD.Normal:eD.Free}return Object.defineProperty(e.prototype,"objectNumber",{get:function(){return this.object},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.offsetNumber},enumerable:!0,configurable:!0}),e}(),MD=function(e,t){"undefined"===typeof e?(this.x=0,this.y=0):(this.x=null!==e?e:0,this.y=null!==t?t:0)},SD=function(e,t){"undefined"===typeof t?(this.height=0,this.width=0):(this.height=null!==t?t:0,this.width=null!==e?e:0)},wD=function(e,t,i,n){if(typeof e===typeof e&&"undefined"===typeof e)this.x=0,this.y=0,this.height=0,this.width=0;else if(e instanceof MD&&t instanceof SD&&"undefined"===typeof i){var r=e;this.x=r.x,this.y=r.y;var s=t;this.height=s.height,this.width=s.width}else{var o=e,a=t,l=i,h=n;this.x=o,this.y=a,this.height=h,this.width=l}},_D=function(){function e(e,t,i,n){this.left=e,this.top=t,this.right=i,this.bottom=n}return Object.defineProperty(e.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new MD(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return new SD(this.width,this.height)},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.topLeft+"x"+this.size},e}(),ID=function(){function e(){}return e.letter=new SD(612,792),e.note=new SD(540,720),e.legal=new SD(612,1008),e.a0=new SD(2380,3368),e.a1=new SD(1684,2380),e.a2=new SD(1190,1684),e.a3=new SD(842,1190),e.a4=new SD(595,842),e.a5=new SD(421,595),e.a6=new SD(297,421),e.a7=new SD(210,297),e.a8=new SD(148,210),e.a9=new SD(105,148),e.a10=new SD(74,105),e.b0=new SD(2836,4008),e.b1=new SD(2004,2836),e.b2=new SD(1418,2004),e.b3=new SD(1002,1418),e.b4=new SD(709,1002),e.b5=new SD(501,709),e.archE=new SD(2592,3456),e.archD=new SD(1728,2592),e.archC=new SD(1296,1728),e.archB=new SD(864,1296),e.archA=new SD(648,864),e.flsa=new SD(612,936),e.halfLetter=new SD(396,612),e.letter11x17=new SD(792,1224),e.ledger=new SD(1224,792),e}();!function(e){e[e.Portrait=0]="Portrait",e[e.Landscape=1]="Landscape"}(cD||(cD={})),function(e){e[e.RotateAngle0=0]="RotateAngle0",e[e.RotateAngle90=1]="RotateAngle90",e[e.RotateAngle180=2]="RotateAngle180",e[e.RotateAngle270=3]="RotateAngle270"}(uD||(uD={})),function(e){e[e.None=0]="None",e[e.Numeric=1]="Numeric",e[e.LowerLatin=2]="LowerLatin",e[e.LowerRoman=3]="LowerRoman",e[e.UpperLatin=4]="UpperLatin",e[e.UpperRoman=5]="UpperRoman"}(pD||(pD={})),function(e){e[e.None=0]="None",e[e.Bottom=1]="Bottom",e[e.Top=2]="Top",e[e.Left=3]="Left",e[e.Right=4]="Right",e[e.Fill=5]="Fill"}(dD||(dD={})),function(e){e[e.None=0]="None",e[e.TopLeft=1]="TopLeft",e[e.TopCenter=2]="TopCenter",e[e.TopRight=3]="TopRight",e[e.MiddleLeft=4]="MiddleLeft",e[e.MiddleCenter=5]="MiddleCenter",e[e.MiddleRight=6]="MiddleRight",e[e.BottomLeft=7]="BottomLeft",e[e.BottomCenter=8]="BottomCenter",e[e.BottomRight=9]="BottomRight"}(fD||(fD={})),function(e){e[e.None=0]="None",e[e.Top=1]="Top",e[e.Bottom=2]="Bottom",e[e.Left=3]="Left",e[e.Right=4]="Right"}(gD||(gD={}));var ND,CD,xD,DD,TD,AD,jD,ED,kD,zD,LD,OD,PD,RD,FD,BD,VD,UD,HD,WD,YD,QD,qD,GD,KD,XD,JD=function(){function e(){this.pdfMargin=40,this.setMargins(this.pdfMargin)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.leftMargin},set:function(e){this.leftMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.topMargin},set:function(e){this.topMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.rightMargin},set:function(e){this.rightMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.bottomMargin},set:function(e){this.bottomMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"all",{set:function(e){this.setMargins(e)},enumerable:!0,configurable:!0}),e.prototype.setMargins=function(e,t,i,n){"undefined"===typeof t?this.leftMargin=this.topMargin=this.rightMargin=this.bottomMargin=e:"undefined"===typeof i?(this.leftMargin=this.rightMargin=e,this.bottomMargin=this.topMargin=t):(this.leftMargin=e,this.topMargin=t,this.rightMargin=i,this.bottomMargin=n)},e.prototype.clone=function(){return this},e}(),ZD=function(){function e(e){this.pageMargins=new JD,this.pageSize=ID.a4,this.rotateAngle=uD.RotateAngle0,this.pageOrientation=cD.Portrait,this.pageOrigin=new MD(0,0),this.isRotation=!1,"number"===typeof e&&this.pageMargins.setMargins(e)}return Object.defineProperty(e.prototype,"size",{get:function(){return this.pageSize},set:function(e){this.setSize(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.pageOrientation},set:function(e){this.pageOrientation!==e&&(this.pageOrientation=e,this.updateSize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"margins",{get:function(){return this.pageMargins},set:function(e){this.pageMargins=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.pageSize.width},set:function(e){this.pageSize.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.pageSize.height},set:function(e){this.pageSize.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.pageOrigin},set:function(e){this.pageOrigin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this.rotateAngle},set:function(e){this.rotateAngle=e,this.isRotation=!0},enumerable:!0,configurable:!0}),e.prototype.updateSize=function(e){var t=Math.min(this.pageSize.width,this.pageSize.height),i=Math.max(this.pageSize.width,this.pageSize.height);switch(e){case cD.Portrait:this.pageSize=new SD(t,i);break;case cD.Landscape:this.pageSize=new SD(i,t)}},e.prototype.clone=function(){return this.pageMargins=this.pageMargins.clone(),this},e.prototype.getActualSize=function(){var e=this.width-(this.margins.left+this.margins.right),t=this.height-(this.margins.top+this.margins.bottom);return new SD(e,t)},e.prototype.setSize=function(e){var t=Math.min(e.width,e.height),i=Math.max(e.width,e.height);this.orientation===cD.Portrait?this.pageSize=new SD(t,i):this.pageSize=new SD(i,t)},e}();!function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(ND||(ND={})),function(e){e[e.Top=0]="Top",e[e.Middle=1]="Middle",e[e.Bottom=2]="Bottom"}(CD||(CD={})),function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right",e[e.Justify=3]="Justify"}(xD||(xD={})),function(e){e[e.Fill=0]="Fill",e[e.Stroke=1]="Stroke",e[e.FillStroke=2]="FillStroke",e[e.None=3]="None",e[e.ClipFlag=4]="ClipFlag",e[e.ClipFill=4]="ClipFill",e[e.ClipStroke=5]="ClipStroke",e[e.ClipFillStroke=6]="ClipFillStroke",e[e.Clip=7]="Clip"}(DD||(DD={})),function(e){e[e.Miter=0]="Miter",e[e.Round=1]="Round",e[e.Bevel=2]="Bevel"}(TD||(TD={})),function(e){e[e.Flat=0]="Flat",e[e.Round=1]="Round",e[e.Square=2]="Square"}(AD||(AD={})),function(e){e[e.Solid=0]="Solid",e[e.Dash=1]="Dash",e[e.Dot=2]="Dot",e[e.DashDot=3]="DashDot",e[e.DashDotDot=4]="DashDotDot",e[e.Custom=5]="Custom"}(jD||(jD={})),function(e){e[e.Winding=0]="Winding",e[e.Alternate=1]="Alternate"}(ED||(ED={})),function(e){e[e.Rgb=0]="Rgb",e[e.Cmyk=1]="Cmyk",e[e.GrayScale=2]="GrayScale",e[e.Indexed=3]="Indexed"}(kD||(kD={})),function(e){e[e.Normal=0]="Normal",e[e.Multiply=1]="Multiply",e[e.Screen=2]="Screen",e[e.Overlay=3]="Overlay",e[e.Darken=4]="Darken",e[e.Lighten=5]="Lighten",e[e.ColorDodge=6]="ColorDodge",e[e.ColorBurn=7]="ColorBurn",e[e.HardLight=8]="HardLight",e[e.SoftLight=9]="SoftLight",e[e.Difference=10]="Difference",e[e.Exclusion=11]="Exclusion",e[e.Hue=12]="Hue",e[e.Saturation=13]="Saturation",e[e.Color=14]="Color",e[e.Luminosity=15]="Luminosity"}(zD||(zD={})),function(e){e[e.Centimeter=0]="Centimeter",e[e.Pica=1]="Pica",e[e.Pixel=2]="Pixel",e[e.Point=3]="Point",e[e.Inch=4]="Inch",e[e.Document=5]="Document",e[e.Millimeter=6]="Millimeter"}(LD||(LD={})),function(e){e[e.Fit=0]="Fit",e[e.Center=1]="Center",e[e.Stretch=2]="Stretch",e[e.Tile=3]="Tile"}(OD||(OD={})),function(e){e[e.None=0]="None",e[e.LeftToRight=1]="LeftToRight",e[e.RightToLeft=2]="RightToLeft"}(PD||(PD={})),function(e){e[e.Regular=0]="Regular",e[e.Bold=1]="Bold",e[e.Italic=2]="Italic",e[e.Underline=4]="Underline",e[e.Strikeout=8]="Strikeout"}(RD||(RD={})),function(e){e[e.Helvetica=0]="Helvetica",e[e.Courier=1]="Courier",e[e.TimesRoman=2]="TimesRoman",e[e.Symbol=3]="Symbol",e[e.ZapfDingbats=4]="ZapfDingbats"}(FD||(FD={})),function(e){e[e.Standard=0]="Standard",e[e.TrueType=1]="TrueType",e[e.TrueTypeEmbedded=2]="TrueTypeEmbedded"}(BD||(BD={})),function(e){e[e.None=0]="None",e[e.Word=1]="Word",e[e.WordOnly=2]="WordOnly",e[e.Character=3]="Character"}(VD||(VD={})),function(e){e[e.None=0]="None",e[e.SuperScript=1]="SuperScript",e[e.SubScript=2]="SubScript"}(UD||(UD={})),function(e){e[e.Unknown=0]="Unknown",e[e.StandardEncoding=1]="StandardEncoding",e[e.MacRomanEncoding=2]="MacRomanEncoding",e[e.MacExpertEncoding=3]="MacExpertEncoding",e[e.WinAnsiEncoding=4]="WinAnsiEncoding",e[e.PdfDocEncoding=5]="PdfDocEncoding",e[e.IdentityH=6]="IdentityH"}(HD||(HD={})),function(e){e[e.Apple=0]="Apple",e[e.Microsoft=4]="Microsoft",e[e.Trimmed=6]="Trimmed"}(WD||(WD={})),function(e){e[e.Unknown=0]="Unknown",e[e.Symbol=1]="Symbol",e[e.Unicode=2]="Unicode",e[e.Macintosh=3]="Macintosh"}(YD||(YD={})),function(e){e[e.AppleUnicode=0]="AppleUnicode",e[e.Macintosh=1]="Macintosh",e[e.Iso=2]="Iso",e[e.Microsoft=3]="Microsoft"}(QD||(QD={})),function(e){e[e.Undefined=0]="Undefined",e[e.Unicode=1]="Unicode"}(qD||(qD={})),function(e){e[e.Roman=0]="Roman",e[e.Japanese=1]="Japanese",e[e.Chinese=2]="Chinese"}(GD||(GD={})),function(e){e[e.FixedPitch=1]="FixedPitch",e[e.Serif=2]="Serif",e[e.Symbolic=4]="Symbolic",e[e.Script=8]="Script",e[e.Nonsymbolic=32]="Nonsymbolic",e[e.Italic=64]="Italic",e[e.ForceBold=262144]="ForceBold"}(KD||(KD={})),function(e){e[e.Arg1And2AreWords=1]="Arg1And2AreWords",e[e.ArgsAreXyValues=2]="ArgsAreXyValues",e[e.RoundXyToGrid=4]="RoundXyToGrid",e[e.WeHaveScale=8]="WeHaveScale",e[e.Reserved=16]="Reserved",e[e.MoreComponents=32]="MoreComponents",e[e.WeHaveAnXyScale=64]="WeHaveAnXyScale",e[e.WeHaveTwoByTwo=128]="WeHaveTwoByTwo",e[e.WeHaveInstructions=256]="WeHaveInstructions",e[e.UseMyMetrics=512]="UseMyMetrics"}(XD||(XD={}));var $D,eT=function(){function e(e){if(null==e)throw new Error("ArgumentNullException:stream");this.stream=e}return e.prototype.clear=function(){this.stream.clearStream()},e.prototype.setGraphicsState=function(e){e instanceof Rx?(this.stream.write(e.toString()),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.setGraphicsState)):(this.stream.write(Fx.slash),this.stream.write(e),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.setGraphicsState))},e.prototype.executeObject=function(e){this.stream.write(e.toString()),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.paintXObject),this.stream.write(Fx.newLine)},e.prototype.closePath=function(){this.writeOperator(Fx.closePath)},e.prototype.clipPath=function(e){this.stream.write(Fx.clipPath),e&&this.stream.write(Fx.evenOdd),this.stream.write(Fx.whiteSpace),this.stream.write(Fx.endPath),this.stream.write(Fx.newLine)},e.prototype.closeFillStrokePath=function(e){this.stream.write(Fx.closeFillStrokePath),e?(this.stream.write(Fx.evenOdd),this.stream.write(Fx.newLine)):this.stream.write(Fx.newLine)},e.prototype.fillStrokePath=function(e){this.stream.write(Fx.fillStroke),e?(this.stream.write(Fx.evenOdd),this.stream.write(Fx.newLine)):this.stream.write(Fx.newLine)},e.prototype.fillPath=function(e){this.stream.write(Fx.fill),e?(this.stream.write(Fx.evenOdd),this.stream.write(Fx.newLine)):this.stream.write(Fx.newLine)},e.prototype.endPath=function(){this.writeOperator(Fx.n)},e.prototype.closeFillPath=function(e){this.writeOperator(Fx.closePath),this.stream.write(Fx.fill),e?(this.stream.write(Fx.evenOdd),this.stream.write(Fx.newLine)):this.stream.write(Fx.newLine)},e.prototype.closeStrokePath=function(){this.writeOperator(Fx.closeStrokePath)},e.prototype.setTextScaling=function(e){this.stream.write(Gx.floatToString(e)),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.setTextScaling)},e.prototype.strokePath=function(){this.writeOperator(Fx.stroke)},e.prototype.restoreGraphicsState=function(){this.writeOperator(Fx.restoreState)},e.prototype.saveGraphicsState=function(){this.writeOperator(Fx.saveState)},e.prototype.startNextLine=function(e,t){"undefined"===typeof e?this.writeOperator(Fx.goToNextLine):e instanceof MD?(this.writePoint(e),this.writeOperator(Fx.setCoords)):(this.writePoint(e,t),this.writeOperator(Fx.setCoords))},e.prototype.showText=function(e){this.checkTextParam(e),this.writeText(e),this.writeOperator(Fx.setText)},e.prototype.setLeading=function(e){this.stream.write(Gx.floatToString(e)),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.setTextLeading)},e.prototype.beginPath=function(e,t){this.writePoint(e,t),this.writeOperator(Fx.beginPath)},e.prototype.beginText=function(){this.writeOperator(Fx.beginText)},e.prototype.endText=function(){this.writeOperator(Fx.endText)},e.prototype.appendRectangle=function(e,t,i,n){e instanceof wD?this.appendRectangle(e.x,e.y,e.width,e.height):(this.writePoint(e,t),this.writePoint(i,n),this.writeOperator(Fx.appendRectangle))},e.prototype.appendLineSegment=function(e,t){e instanceof MD?this.appendLineSegment(e.x,e.y):(this.writePoint(e,t),this.writeOperator(Fx.appendLineSegment))},e.prototype.setTextRenderingMode=function(e){this.stream.write(e.toString()),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.setRenderingMode)},e.prototype.setCharacterSpacing=function(e){this.stream.write(Gx.floatToString(e)),this.stream.write(Fx.whiteSpace),this.stream.write(Fx.setCharacterSpace),this.stream.write(Fx.newLine)},e.prototype.setWordSpacing=function(e){this.stream.write(Gx.floatToString(e)),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.setWordSpace)},e.prototype.showNextLineText=function(e,t){e instanceof tD?(this.checkTextParam(e),this.writeText(e),this.writeOperator(Fx.setTextOnNewLine)):(this.checkTextParam(e),this.writeText(e,t),this.writeOperator(Fx.setTextOnNewLine))},e.prototype.setColorSpace=function(e,t){if(e instanceof Rx&&"boolean"===typeof t){var i=e,n=(r=t)?Fx.selectcolorspaceforstroking:Fx.selectcolorspacefornonstroking;this.stream.write(i.toString()),this.stream.write(Fx.whiteSpace),this.stream.write(n),this.stream.write(Fx.newLine)}else{i=e;var r=t;this.setColorSpace(new Rx(i),r)}},e.prototype.modifyCtm=function(e){if(null==e)throw new Error("ArgumentNullException:matrix");this.stream.write(e.toString()),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.modifyCtm)},e.prototype.setFont=function(e,t,i){if("string"===typeof t)this.setFont(e,new Rx(t),i);else{if(null==e)throw new Error("ArgumentNullException:font");this.stream.write(t.toString()),this.stream.write(Fx.whiteSpace),this.stream.write(Gx.floatToString(i)),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.setFont)}},e.prototype.writeOperator=function(e){this.stream.write(e),this.stream.write(Fx.newLine)},e.prototype.checkTextParam=function(e){if(null==e)throw new Error("ArgumentNullException:text");if("string"===typeof e&&""===e)throw new Error("ArgumentException:The text can not be an empty string, text")},e.prototype.writeText=function(e,t){if(e instanceof tD&&"undefined"===typeof t)this.stream.write(e.pdfEncode());else{var i=void 0,n=void 0;t?(i=tD.hexStringMark[0],n=tD.hexStringMark[1]):(i=tD.stringMark[0],n=tD.stringMark[1]),this.stream.write(i),this.stream.write(e),this.stream.write(n)}},e.prototype.writePoint=function(e,t){if(e instanceof MD&&"undefined"===typeof t)this.writePoint(e.x,e.y);else{var i=e;this.stream.write(Gx.floatToString(i)),this.stream.write(Fx.whiteSpace),t=this.updateY(t),this.stream.write(Gx.floatToString(t)),this.stream.write(Fx.whiteSpace)}},e.prototype.updateY=function(e){return-e},e.prototype.write=function(e){var t="";t+=e,t+=Fx.newLine,this.writeOperator(t)},e.prototype.writeComment=function(e){if(!(null!=e&&e.length>0))throw new Error("Invalid comment");var t="";t+=Fx.comment,t+=Fx.whiteSpace,t+=e,this.writeOperator(t)},e.prototype.setColorAndSpace=function(e,t,i){e.isEmpty||(this.stream.write(e.toString(t,i)),this.stream.write(Fx.newLine))},e.prototype.setLineDashPattern=function(e,t){this.setLineDashPatternHelper(e,t)},e.prototype.setLineDashPatternHelper=function(e,t){var i="[";if(e.length>1)for(var n=0;n<e.length;n++)n===e.length-1?i+=e[n].toString():i+=e[n].toString()+" ";i+="] ",i+=t.toString(),i+=" "+Fx.setDashPattern,this.stream.write(i),this.stream.write(Fx.newLine)},e.prototype.setMiterLimit=function(e){this.stream.write(Gx.floatToString(e)),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.setMiterLimit)},e.prototype.setLineWidth=function(e){this.stream.write(Gx.floatToString(e)),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.setLineWidth)},e.prototype.setLineCap=function(e){this.stream.write(e.toString()),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.setLineCapStyle)},e.prototype.setLineJoin=function(e){this.stream.write(e.toString()),this.stream.write(Fx.whiteSpace),this.writeOperator(Fx.setLineJoinStyle)},Object.defineProperty(e.prototype,"position",{get:function(){return this.stream.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){var e=0;if(0!==this.stream.data.length&&-1!==this.stream.data.length)for(var t=0;t<this.stream.data.length;t++)e+=this.stream.data[t].length;return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.appendBezierSegment=function(e,t,i,n,r,s){e instanceof MD&&t instanceof MD&&i instanceof MD?(this.writePoint(e.x,e.y),this.writePoint(t.x,t.y),this.writePoint(i.x,i.y)):(this.writePoint(e,t),this.writePoint(i,n),this.writePoint(r,s)),this.writeOperator(Fx.appendbeziercurve)},e.prototype.setColourWithPattern=function(e,t,i){if(null!=e){var n=e.length,r=0;for(r=0;r<n;++r)this.stream.write(e[r].toString()),this.stream.write(Fx.whiteSpace)}null!=t&&(this.stream.write(t.toString()),this.stream.write(Fx.whiteSpace)),i?this.writeOperator(Fx.setColorAndPatternStroking):this.writeOperator(Fx.setColorAndPattern)},e}(),tT=function(){function e(t,i,n,r){"undefined"===typeof t?"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof r?this.assignRGB(i,n,r):this.filled=!1:t instanceof e?(this.redColor=t.r,this.greenColor=t.g,this.blueColor=t.b,this.grayColor=t.gray,this.alpha=t.alpha,this.filled=0!==this.alpha):"number"===typeof t&&"undefined"===typeof i&&"undefined"===typeof n&&"undefined"===typeof r?(t<0&&(t=0),t>1&&(t=1),this.redColor=t*e.maxColourChannelValue,this.greenColor=t*e.maxColourChannelValue,this.blueColor=t*e.maxColourChannelValue,this.cyanColor=t,this.magentaColor=t,this.yellowColor=t,this.blackColor=t,this.grayColor=t,this.alpha=e.maxColourChannelValue,this.filled=!0):"undefined"===typeof r?this.assignRGB(t,i,n):this.assignRGB(i,n,r,t)}return e.prototype.assignRGB=function(t,i,n,r){"undefined"===typeof t||"undefined"===typeof i||"undefined"===typeof n?this.filled=!1:(this.cyanColor=0,this.magentaColor=0,this.yellowColor=0,this.blackColor=0,this.grayColor=0,this.redColor=t,this.greenColor=i,this.blueColor=n,this.alpha="undefined"===typeof r?e.maxColourChannelValue:r,this.filled=!0,this.assignCMYK(t,i,n))},e.prototype.assignCMYK=function(t,i,n){var r=t/e.maxColourChannelValue,s=i/e.maxColourChannelValue,o=n/e.maxColourChannelValue,a=Gx.min(1-r,1-s,1-o),l=1===a?0:(1-r-a)/(1-a),h=1===a?0:(1-s-a)/(1-a),c=1===a?0:(1-o-a)/(1-a);this.blackColor=a,this.cyanColor=l,this.magentaColor=h,this.yellowColor=c},Object.defineProperty(e.prototype,"r",{get:function(){return this.redColor},set:function(e){this.redColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.r/e.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.blueColor},set:function(e){this.blueColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.b/e.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c",{get:function(){return this.cyanColor},set:function(e){this.cyanColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.blackColor},set:function(e){this.blackColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"m",{get:function(){return this.magentaColor},set:function(e){this.magentaColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.yellowColor},set:function(e){this.yellowColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this.greenColor},set:function(e){this.greenColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.g/e.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gray",{get:function(){return(this.redColor+this.greenColor+this.blueColor)/(3*e.maxColourChannelValue)},set:function(t){this.grayColor=t<0?0:t>1?1:t,this.r=this.grayColor*e.maxColourChannelValue,this.g=this.grayColor*e.maxColourChannelValue,this.b=this.grayColor*e.maxColourChannelValue,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this.filled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.alpha},set:function(e){this.alpha=e<0?0:e,this.filled=!0},enumerable:!0,configurable:!0}),e.prototype.toString=function(e,t){if(this.isEmpty)return"";var i="";switch(e){case kD.Rgb:i=this.rgbToString(t);break;case kD.GrayScale:i=this.grayScaleToString(t);break;case kD.Cmyk:i=this.cmykToString(t)}return i},e.prototype.grayScaleToString=function(t){var i=this.gray,n="",r=null;return null==(r=t?e.grayStringsSroke.containsKey(i)?e.grayStringsSroke.getValue(i):null:e.grayStringsFill.containsKey(i)?e.grayStringsFill.getValue(i):null)?t&&(n=i.toString()+" G",e.grayStringsSroke.setValue(i,n)):n=r.toString(),n+Fx.newLine},e.prototype.rgbToString=function(t){var i=this.r,n=this.g,r=this.b,s=(i<<16)+(n<<8)+r;t&&(s+=1<<24);var o="",a=null;if(e.rgbStrings.containsKey(s)&&(a=e.rgbStrings.getValue(s)),null==a){var l=i/e.maxColourChannelValue,h=n/e.maxColourChannelValue,c=r/e.maxColourChannelValue;o=t?l.toString()+" "+h.toString()+" "+c.toString()+" RG":l.toString()+" "+h.toString()+" "+c.toString()+" rg",e.rgbStrings.setValue(s,o)}else o=a.toString();return o+Fx.newLine},e.prototype.cmykToString=function(e){var t=this.c,i=this.m,n=this.y,r=this.b;return t.toString()+" "+i.toString()+" "+n.toString()+" "+r.toString()+" K"+Fx.newLine},e.prototype.toArray=function(e){var t=new Kx;if(e===kD.Rgb)t.add(new Gx(this.red)),t.add(new Gx(this.green)),t.add(new Gx(this.blue));return t},e.rgbStrings=new jx,e.grayStringsSroke=new jx,e.grayStringsFill=new jx,e.maxColourChannelValue=255,e}(),iT=function(){function e(){}return e.prototype.clone=function(){return this},e}(),nT=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),rT=function(e){function t(t){var i=e.call(this)||this;return i.pdfColor=t,i}return nT(t,e),Object.defineProperty(t.prototype,"color",{get:function(){return this.pdfColor},set:function(e){this.pdfColor=e},enumerable:!0,configurable:!0}),t.prototype.monitorChanges=function(e,t,i,n,r){if(null==t)throw new Error("ArgumentNullException:streamWriter");var s=!1;if(null==e)return s=!0,t.setColorAndSpace(this.pdfColor,r,!1),s;return s=!0,t.setColorAndSpace(this.pdfColor,r,!1),s},t.prototype.resetChanges=function(e){e.setColorAndSpace(new tT(0,0,0),kD.Rgb,!1)},t}(iT),sT=function(){function e(e,t){this.pdfColor=new tT(0,0,0),this.dashOffsetValue=0,this.penDashPattern=[0],this.pdfDashStyle=jD.Solid,this.pdfLineCap=0,this.pdfLineJoin=0,this.penWidth=1,this.internalMiterLimit=0,this.colorSpace=kD.Rgb,e instanceof iT?this.setBrush(e):e instanceof tT&&(this.color=e),"number"===typeof t&&(this.width=t)}return Object.defineProperty(e.prototype,"color",{get:function(){return this.pdfColor},set:function(e){this.pdfColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dashOffset",{get:function(){return"undefined"===typeof this.dashOffsetValue||null==this.dashOffsetValue?0:this.dashOffsetValue},set:function(e){this.dashOffsetValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dashPattern",{get:function(){return this.penDashPattern},set:function(e){this.penDashPattern=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dashStyle",{get:function(){return this.pdfDashStyle},set:function(e){if(this.pdfDashStyle!==e)switch(this.pdfDashStyle=e,this.pdfDashStyle){case jD.Custom:break;case jD.Dash:this.penDashPattern=[3,1];break;case jD.Dot:this.penDashPattern=[1,1];break;case jD.DashDot:this.penDashPattern=[3,1,1,1];break;case jD.DashDotDot:this.penDashPattern=[3,1,1,1,1,1];break;case jD.Solid:break;default:this.pdfDashStyle=jD.Solid,this.penDashPattern=[0]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineCap",{get:function(){return this.pdfLineCap},set:function(e){this.pdfLineCap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this.pdfLineJoin},set:function(e){this.pdfLineJoin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this.internalMiterLimit},set:function(e){this.internalMiterLimit=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.penWidth},set:function(e){this.penWidth=e},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return this},e.prototype.setBrush=function(e){var t=e;null!=t&&t instanceof rT&&(this.color=t.color,this.pdfBrush=t),this.color=t.color,this.pdfBrush=t},e.prototype.monitorChanges=function(e,t,i,n,r,s){this.dashControl(e,true,t),t.setLineWidth(this.width),t.setLineJoin(this.lineJoin),t.setLineCap(this.lineCap);var o=this.miterLimit;o>0&&t.setMiterLimit(o);this.pdfBrush;return t.setColorAndSpace(this.color,r,!0),!0},e.prototype.dashControl=function(e,t,i){var n=this.width,r=this.getPattern();return i.setLineDashPattern(r,this.dashOffset*n),true},e.prototype.getPattern=function(){for(var e=this.dashPattern,t=0;t<e.length;++t)e[t]*=this.width;return e},e}(),oT=function(){function e(e,t){this.scalingFactor=100,this.wordWrapType=VD.Word,this.internalLineLimit=!0,this.wordWrapType=VD.Word,"undefined"!==typeof e&&"string"!==typeof e&&(this.textAlignment=e),"undefined"!==typeof t&&(this.verticalAlignment=t)}return Object.defineProperty(e.prototype,"alignment",{get:function(){return this.textAlignment},set:function(e){this.textAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textDirection",{get:function(){return this.direction},set:function(e){this.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineAlignment",{get:function(){return"undefined"===typeof this.verticalAlignment||null==this.verticalAlignment?CD.Top:this.verticalAlignment},set:function(e){this.verticalAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightToLeft",{get:function(){return"undefined"!==typeof this.isRightToLeft&&null!=this.isRightToLeft&&this.isRightToLeft},set:function(e){this.isRightToLeft=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"characterSpacing",{get:function(){return"undefined"===typeof this.internalCharacterSpacing||null==this.internalCharacterSpacing?0:this.internalCharacterSpacing},set:function(e){this.internalCharacterSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordSpacing",{get:function(){return"undefined"===typeof this.internalWordSpacing||null==this.internalWordSpacing?0:this.internalWordSpacing},set:function(e){this.internalWordSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineSpacing",{get:function(){return"undefined"===typeof this.leading||null==this.leading?0:this.leading},set:function(e){this.leading=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clipPath",{get:function(){return"undefined"!==typeof this.clip&&null!=this.clip&&this.clip},set:function(e){this.clip=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subSuperScript",{get:function(){return"undefined"===typeof this.pdfSubSuperScript||null==this.pdfSubSuperScript?UD.None:this.pdfSubSuperScript},set:function(e){this.pdfSubSuperScript=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paragraphIndent",{get:function(){return"undefined"===typeof this.internalParagraphIndent||null==this.internalParagraphIndent?0:this.internalParagraphIndent},set:function(e){this.internalParagraphIndent=e,this.firstLineIndent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineLimit",{get:function(){return this.internalLineLimit},set:function(e){this.internalLineLimit=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measureTrailingSpaces",{get:function(){return"undefined"!==typeof this.trailingSpaces&&null!=this.trailingSpaces&&this.trailingSpaces},set:function(e){this.trailingSpaces=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noClip",{get:function(){return"undefined"!==typeof this.isNoClip&&null!=this.isNoClip&&this.isNoClip},set:function(e){this.isNoClip=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this.wordWrapType},set:function(e){this.wordWrapType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalScalingFactor",{get:function(){return this.scalingFactor},set:function(e){if(e<=0)throw new Error("ArgumentOutOfRangeException:The scaling factor cant be less of equal to zero, ScalingFactor");this.scalingFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstLineIndent",{get:function(){return"undefined"===typeof this.initialLineIndent||null==this.initialLineIndent?0:this.initialLineIndent},set:function(e){this.initialLineIndent=e},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return this},e}(),aT=function(){function e(e){if(this.currentPosition=0,null==e)throw new Error("ArgumentNullException:text");this.text=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.currentPosition===this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.currentPosition},set:function(e){this.currentPosition=e},enumerable:!0,configurable:!0}),e.getCharsCount=function(e,t){if("string"===typeof t){if(null==e)throw new Error("ArgumentNullException:wholeText");for(var i=0,n=0;-1!==(n=e.indexOf(t,n));)i++,n++;return i}if(null==e)throw new Error("ArgumentNullException:text");if(null==t)throw new Error("ArgumentNullException:symbols");for(var r=0,s=0,o=e.length;s<o;s++){var a=e[s];this.contains(t,a)&&r++}return r},e.prototype.readLine=function(){for(var e=this.currentPosition;e<this.length;){var t=this.text[e];switch(t){case"\r":case"\n":var i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,"\r"===t&&this.currentPosition<this.length&&"\n"===this.text[this.currentPosition]&&this.currentPosition++,i}e++}if(e>this.currentPosition){var n=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,n}return null},e.prototype.peekLine=function(){var e=this.currentPosition,t=this.readLine();return this.currentPosition=e,t},e.prototype.readWord=function(){for(var e=this.currentPosition;e<this.length;){var t=this.text[e];switch(t){case"\r":case"\n":var i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,"\r"===t&&this.currentPosition<this.length&&"\n"===this.text[this.currentPosition]&&this.currentPosition++,i;case" ":case"\t":e===this.currentPosition&&e++;var n=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,n}e++}if(e>this.currentPosition){var r=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,r}return null},e.prototype.peekWord=function(){var e=this.currentPosition,t=this.readWord();return this.currentPosition=e,t},e.prototype.read=function(e){if("undefined"===typeof e){var t="0";return this.end||(t=this.text[this.currentPosition],this.currentPosition++),t}for(var i=0,n="";!this.end&&i<e;){n+=t=this.read(),i++}return n},e.prototype.peek=function(){var e="0";return this.end||(e=this.text[this.currentPosition]),e},e.prototype.close=function(){this.text=null},e.prototype.readToEnd=function(){var e;return e=0===this.currentPosition?this.text:this.text.substr(this.currentPosition,this.length-this.currentPosition),this.currentPosition=this.length,e},e.contains=function(e,t){for(var i=!1,n=0;n<e.length;n++)if(e[n]===t){i=!0;break}return i},e.whiteSpace=" ",e.tab="\t",e.spaces=[e.whiteSpace,e.tab],e.whiteSpacePattern="^[ \t]+$",e}(),lT=function(){function e(){this.isOverloadWithPosition=!1}return e.prototype.layout=function(e,t,i,n,r,s,o){if(n instanceof wD){this.initialize(e,t,i,n,r),this.isOverloadWithPosition=s,this.clientSize=o;var a=this.doLayout();return this.clear(),a}this.initialize(e,t,i,n),this.isOverloadWithPosition=r,this.clientSize=s;a=this.doLayout();return this.clear(),a},e.prototype.initialize=function(e,t,i,n,r){if("number"===typeof r){if(null==e)throw new Error("ArgumentNullException:text");if(null==t)throw new Error("ArgumentNullException:font");this.text=e,this.font=t,this.format=i,this.size=new SD(n.width,n.height),this.rectangle=n,this.pageHeight=r,this.reader=new aT(e)}else this.initialize(e,t,i,new wD(new MD(0,0),n),0)},e.prototype.clear=function(){this.font=null,this.format=null,this.reader.close(),this.reader=null,this.text=null},e.prototype.doLayout=function(){for(var e=new hT,t=new hT,i=[],n=this.reader.peekLine(),r=this.getLineIndent(!0);null!=n;){if(null!==(t=this.layoutLine(n,r))||"undefined"!==typeof t){var s=0,o=this.copyToResult(e,t,i,s),a=o.success;if(s=o.numInserted,!a){this.reader.read(s);break}}this.reader.readLine(),n=this.reader.peekLine(),r=this.getLineIndent(!1)}return this.finalizeResult(e,i),e},e.prototype.getLineIndent=function(e){var t=0;return null!=this.format&&(t=e?this.format.firstLineIndent:this.format.paragraphIndent,t=this.size.width>0?Math.min(this.size.width,t):t),t},e.prototype.getLineHeight=function(){var e=this.font.height;return null!=this.format&&0!==this.format.lineSpacing&&(e=this.format.lineSpacing+this.font.height),e},e.prototype.getLineWidth=function(e){return this.font.getLineWidth(e,this.format)},e.prototype.layoutLine=function(e,t){var i=new hT;i.layoutLineHeight=this.getLineHeight();var n=[],r=this.size.width,s=this.getLineWidth(e)+t,o=$D.FirstParagraphLine,a=!0;if(r<=0||Math.round(s)<=Math.round(r))this.addToLineResult(i,n,e,s,$D.NewLineBreak|o);else{var l="",h="";s=t;var c=t,u=new aT(e),p=u.peekWord();for(p.length!==u.length&&" "===p&&(h+=p,l+=p,u.position+=1,p=u.peekWord());null!=p;){h+=p;var d=this.getLineWidth(h.toString())+c;if(" "===h.toString()&&(h="",d=0),d>r){if(this.getWrapType()===VD.None)break;if(h.length===p.length){if(this.getWrapType()===VD.WordOnly){i.textRemainder=e.substring(u.position);break}if(1===h.length){l+=p;break}a=!1,h="",p=u.peek().toString();continue}this.getLineWidth(p.toString())>r?this.format.wordWrap=VD.Character:"undefined"!==typeof this.format&&null!==this.format&&(this.format.wordWrap=VD.Word),this.getWrapType()===VD.Character&&a?(a=!1,h="",h+=l.toString(),p=u.peek().toString()):(" "!==(f=l.toString())&&this.addToLineResult(i,n,f,s,$D.LayoutBreak|o),this.isOverloadWithPosition&&(r=this.clientSize.width),h="",l="",s=0,c=0,d=0,o=$D.None,p=a?p:u.peekWord(),a=!0)}else l+=p,s=d,a?(u.readWord(),p=u.peekWord()):(u.read(),p=u.peek().toString())}if(l.length>0){var f=l.toString();this.addToLineResult(i,n,f,s,$D.NewLineBreak|$D.LastParagraphLine)}u.close()}i.layoutLines=[];for(var g=0;g<n.length;g++)i.layoutLines.push(n[g]);return n=[],i},e.prototype.addToLineResult=function(e,t,i,n,r){var s=new cT;s.text=i,s.width=n,s.lineType=r,t.push(s);var o=e.actualSize;o.height+=this.getLineHeight(),o.width=Math.max(o.width,n),e.size=o},e.prototype.copyToResult=function(e,t,i,n){var r=!0,s=null!=this.format&&!this.format.lineLimit,o=e.actualSize.height,a=this.size.height;if(this.pageHeight>0&&a+this.rectangle.y>this.pageHeight&&(a=this.rectangle.y-this.pageHeight,a=Math.max(a,-a)),n=0,null!=t.lines)for(var l=0,h=t.lines.length;l<h;l++){var c=o+t.lineHeight;if(!(c<=a||a<=0||s)){r=!1;break}var u=t.lines[l];n+=u.text.length,u=this.trimLine(u,0===i.length),i.push(u);var p=e.actualSize;p.width=Math.max(p.width,u.width),e.size=p,o=c}if(o!=e.size.height){var d=e.actualSize;d.height=o,e.size=d}return{success:r,numInserted:n}},e.prototype.finalizeResult=function(e,t){e.layoutLines=[];for(var i=0;i<t.length;i++)e.layoutLines.push(t[i]);e.layoutLineHeight=this.getLineHeight(),this.reader.end||(e.textRemainder=this.reader.readToEnd()),t=[]},e.prototype.trimLine=function(e,t){var i=e.text,n=e.width;e.lineType,$D.FirstParagraphLine,null==this.format||this.format.rightToLeft,aT.spaces;return(i=i.trim()).length!==e.text.length&&(n=this.getLineWidth(i),(e.lineType&$D.FirstParagraphLine)>0&&(n+=this.getLineIndent(t))),e.text=i,e.width=n,e},e.prototype.getWrapType=function(){return null!=this.format?this.format.wordWrap:VD.Word},e}(),hT=function(){function e(){}return Object.defineProperty(e.prototype,"remainder",{get:function(){return this.textRemainder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualSize",{get:function(){return"undefined"===typeof this.size&&(this.size=new SD(0,0)),this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lines",{get:function(){return this.layoutLines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this.layoutLineHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return null==this.layoutLines||0===this.layoutLines.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.empty?0:this.layoutLines.length},enumerable:!0,configurable:!0}),e}(),cT=function(){function e(){}return Object.defineProperty(e.prototype,"lineType",{get:function(){return this.type},set:function(e){this.type=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.content},set:function(e){this.content=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.lineWidth},set:function(e){this.lineWidth=e},enumerable:!0,configurable:!0}),e}();!function(e){e[e.None=0]="None",e[e.NewLineBreak=1]="NewLineBreak",e[e.LayoutBreak=2]="LayoutBreak",e[e.FirstParagraphLine=4]="FirstParagraphLine",e[e.LastParagraphLine=8]="LastParagraphLine"}($D||($D={}));var uT,pT,dT,fT=function(){function e(e,t){this.fontStyle=RD.Regular,"number"===typeof e&&"undefined"===typeof t?this.fontSize=e:(this.fontSize=e,this.setStyle(t))}return Object.defineProperty(e.prototype,"name",{get:function(){return this.metrics.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.metrics.getHeight(null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this.fontStyle},set:function(e){this.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return(this.style&RD.Bold)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return(this.style&RD.Italic)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strikeout",{get:function(){return(this.style&RD.Strikeout)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"underline",{get:function(){return(this.style&RD.Underline)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metrics",{get:function(){return this.fontMetrics},set:function(e){this.fontMetrics=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.pdfFontInternals},enumerable:!0,configurable:!0}),e.prototype.measureString=function(e,t,i,n,r){if("string"===typeof e&&"undefined"===typeof t)return this.measureString(e,null);if("string"===typeof e&&(t instanceof oT||null==t)&&"undefined"===typeof i&&"undefined"===typeof n){var s=t;return this.measureString(e,s,0,0)}if("string"===typeof e&&(t instanceof oT||null==t)&&"number"===typeof i&&"number"===typeof n){s=t;return this.measureString(e,0,s,i,n)}if("string"===typeof e&&"number"===typeof t&&(i instanceof oT||null==i)&&"number"===typeof n&&"number"===typeof r){var o=new SD(t,0),a=i;return this.measureString(e,o,a,n,r)}if(null==e)throw Error('ArgumentNullException("text")');s=t,a=i;var l=(new lT).layout(e,this,a,s,!1,new SD(0,0));return n=e.length,r=l.empty?0:l.lines.length,l.actualSize},e.prototype.equalsTo=function(e){return this.equalsToFont(e)},e.prototype.getInternals=function(){return this.pdfFontInternals},e.prototype.setInternals=function(e){if(null==e)throw new Error("ArgumentNullException:internals");this.pdfFontInternals=e},e.prototype.setStyle=function(e){this.fontStyle=e},e.prototype.applyFormatSettings=function(e,t,i){var n=i;if(null!=t&&i>0&&(0!==t.characterSpacing&&(n+=(e.length-1)*t.characterSpacing),0!==t.wordSpacing)){var r=aT.spaces;n+=aT.getCharsCount(e,r)*t.wordSpacing}return n},e.charSizeMultiplier=.001,e.syncObject=new Object,e}(),gT=function(){function e(e){this.radDegFactor=180/Math.PI,this.transformationMatrix=new mT(1,0,0,"undefined"===typeof e?1:-1,0,0)}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.transformationMatrix},set:function(e){this.transformationMatrix=e},enumerable:!0,configurable:!0}),e.prototype.translate=function(e,t){this.transformationMatrix.translate(e,t)},e.prototype.scale=function(e,t){this.transformationMatrix.elements[0]=e,this.transformationMatrix.elements[3]=t},e.prototype.rotate=function(e){e=e*Math.PI/180,this.transformationMatrix.elements[0]=Math.cos(e),this.transformationMatrix.elements[1]=Math.sin(e),this.transformationMatrix.elements[2]=-Math.sin(e),this.transformationMatrix.elements[3]=Math.cos(e)},e.prototype.toString=function(){for(var e="",t=0,i=this.transformationMatrix.elements.length;t<i;t++){this.matrix.elements[t];e+=Gx.floatToString(this.transformationMatrix.elements[t]),e+=" "}return e},e.prototype.multiply=function(e){this.transformationMatrix.multiply(e.matrix)},e.degreesToRadians=function(e){return this.degRadFactor*e},e.prototype.radiansToDegrees=function(e){return this.radDegFactor*e},e.prototype.clone=function(){return this},e.degRadFactor=Math.PI/180,e}(),mT=function(){function e(e,t,i,n,r,s){"undefined"===typeof e?this.metrixElements=[]:"number"===typeof e?(this.metrixElements=[],this.metrixElements.push(e),this.metrixElements.push(t),this.metrixElements.push(i),this.metrixElements.push(n),this.metrixElements.push(r),this.metrixElements.push(s)):this.metrixElements=e}return Object.defineProperty(e.prototype,"elements",{get:function(){return this.metrixElements},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){return this.metrixElements[4]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return this.metrixElements[5]},enumerable:!0,configurable:!0}),e.prototype.translate=function(e,t){this.metrixElements[4]=e,this.metrixElements[5]=t},e.prototype.transform=function(e){var t=e.x,i=e.y,n=t*this.elements[0]+i*this.elements[2]+this.offsetX,r=t*this.elements[1]+i*this.elements[3]+this.offsetY;return new MD(n,r)},e.prototype.multiply=function(e){var t=[];t.push(this.elements[0]*e.elements[0]+this.elements[1]*e.elements[2]),t[1]=this.elements[0]*e.elements[1]+this.elements[1]*e.elements[3],t[2]=this.elements[2]*e.elements[0]+this.elements[3]*e.elements[2],t[3]=this.elements[2]*e.elements[1]+this.elements[3]*e.elements[3],t[4]=this.offsetX*e.elements[0]+this.offsetY*e.elements[2]+e.offsetX,t[5]=this.offsetX*e.elements[1]+this.offsetY*e.elements[3]+e.offsetY;for(var i=0;i<t.length;i++)this.elements[i]=t[i]},e.prototype.dispose=function(){this.metrixElements=null},e.prototype.clone=function(){return new e(this.metrixElements)},e}(),yT=function(){this.pdf="PDF",this.text="Text",this.imageB="ImageB",this.imageC="ImageC",this.imageI="ImageI"},vT=function(){function e(){this.mKeys=[],this.mValues=[]}return e.prototype.size=function(){return this.mKeys.length},e.prototype.add=function(e,t){if(void 0===e||null===e||void 0===t||null===t)throw new ReferenceError("Provided key or value is not valid.");if(this.mKeys.indexOf(e)<0)return this.mKeys.push(e),this.mValues.push(t),1;throw new RangeError("An item with the same key has already been added.")},e.prototype.keys=function(){return this.mKeys},e.prototype.values=function(){return this.mValues},e.prototype.getValue=function(e){if(void 0===e||null===e)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mValues[t]},e.prototype.setValue=function(e,t){if(void 0===e||null===e)throw new ReferenceError("Provided key is not valid.");var i=this.mKeys.indexOf(e);i<0?(this.mKeys.push(e),this.mValues.push(t)):this.mValues[i]=t},e.prototype.remove=function(e){if(void 0===e||null===e)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mKeys.splice(t,1),this.mValues.splice(t,1),!0},e.prototype.containsKey=function(e){if(void 0===e||null===e)throw new ReferenceError("Provided key is not valid.");return!(this.mKeys.indexOf(e)<0)},e.prototype.clear=function(){this.mKeys=[],this.mValues=[]},e}(),bT=function(){function e(e,t,i){this.dictionary=new Vx,this.dictionaryProperties=new Bx,this.dictionary.items.setValue(this.dictionaryProperties.CA,new Gx(e)),this.dictionary.items.setValue(this.dictionaryProperties.ca,new Gx(t)),this.dictionary.items.setValue(this.dictionaryProperties.BM,new Rx(i.toString()))}return Object.defineProperty(e.prototype,"element",{get:function(){return this.dictionary},enumerable:!0,configurable:!0}),e}(),MT=function(){function e(){this.automaticFieldsInformation=[]}return Object.defineProperty(e.prototype,"automaticFields",{get:function(){return this.automaticFieldsInformation},enumerable:!0,configurable:!0}),e.prototype.add=function(e){return this.automaticFields.push(e)},e}(),ST=function(){function e(){}return e.prototype.drawHelper=function(e,t,i){var n=0!==t||0!==i,r=null;n&&(r=e.save(),e.translateTransform(t,i)),this.drawInternal(e),n&&e.restore(r)},e}(),wT=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_T=function(e){function t(){var t=e.call(this)||this;return t.internalBounds=new wD(0,0,0,0),t.internalTemplateSize=new SD(0,0),t}return wT(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.internalBounds},set:function(e){this.internalBounds=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return new SD(this.bounds.width,this.bounds.height)},set:function(e){this.bounds.width=e.width,this.bounds.height=e.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"location",{get:function(){return new MD(this.bounds.x,this.bounds.y)},set:function(e){this.bounds.x=e.x,this.bounds.y=e.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.internalFont},set:function(e){this.internalFont=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brush",{get:function(){return this.internalBrush},set:function(e){this.internalBrush=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pen",{get:function(){return this.internalPen},set:function(e){this.internalPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stringFormat",{get:function(){return this.internalStringFormat},set:function(e){this.internalStringFormat=e},enumerable:!0,configurable:!0}),t.prototype.performDrawHelper=function(e,t,i,n){if(0===this.bounds.height||0===this.bounds.width){var r=this.getValue(e);this.internalTemplateSize=this.getFont().measureString(r,this.size,this.stringFormat)}},t.prototype.draw=function(e,t,i){if("undefined"===typeof t){var n=new MD(0,0);this.draw(e,n)}else if(t instanceof MD)this.draw(e,t.x,t.y);else{this.drawHelper(e,t,i);var r=new IT(this,new MD(t,i));e.automaticFields.add(r)}},t.prototype.getSize=function(){return 0===this.bounds.height||0===this.bounds.width?this.internalTemplateSize:this.size},t.prototype.drawInternal=function(e){},t.prototype.getBrush=function(){return"undefined"===typeof this.internalBrush||null==this.internalBrush?new rT(new tT(0,0,0)):this.internalBrush},t.prototype.getFont=function(){return"undefined"===typeof this.internalFont||null==this.internalFont?UA.defaultFont:this.internalFont},t.prototype.getPageFromGraphics=function(e){return"undefined"!==typeof e.page&&null!==e.page?e.page:e.currentPage},t}(ST),IT=function(){function e(t,i,n,r){this.pageNumberFieldLocation=new MD,this.pageNumberField=null,this.scaleX=1,this.scaleY=1,"undefined"===typeof i&&t instanceof e?(this.pageNumberField=t.field,this.pageNumberFieldLocation=t.location,this.scaleX=t.scalingX,this.scaleY=t.scalingY):"undefined"===typeof n&&i instanceof MD&&t instanceof _T?(this.pageNumberField=t,this.pageNumberFieldLocation=i):(this.pageNumberField=t,this.pageNumberFieldLocation=i,this.scaleX=n,this.scaleY=r)}return Object.defineProperty(e.prototype,"location",{get:function(){return this.pageNumberFieldLocation},set:function(e){this.pageNumberFieldLocation=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"field",{get:function(){return this.pageNumberField},set:function(e){this.pageNumberField=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingX",{get:function(){return this.scaleX},set:function(e){this.scaleX=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingY",{get:function(){return this.scaleY},set:function(e){this.scaleY=e},enumerable:!0,configurable:!0}),e}(),NT=function(){function e(e){this.mPosition=0,this.buffer=new Uint8Array(e),this.dataView=new DataView(this.buffer.buffer)}return Object.defineProperty(e.prototype,"position",{get:function(){return this.mPosition},set:function(e){this.mPosition=e},enumerable:!0,configurable:!0}),e.prototype.read=function(e,t,i){for(var n=t;n<i;n++){var r=this.position;e.buffer[n]=this.readByte(r),this.position++}},e.prototype.getBuffer=function(e){return this.buffer[e]},e.prototype.writeFromBase64String=function(e){var t=this.encodedString(e);this.buffer=t},e.prototype.encodedString=function(e){var t,i,n,r,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,l=0,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;e.charAt(e.length-1)===o.charAt(64)&&h--;for(var c=new Uint8Array(0|h);a<e.length;)t=o.indexOf(e.charAt(a++))<<2|(r=o.indexOf(e.charAt(a++)))>>4,i=(15&r)<<4|(s=o.indexOf(e.charAt(a++)))>>2,n=(3&s)<<6|o.indexOf(e.charAt(a++)),c[l++]=t,c[l++]=i,c[l++]=n;return c},e.prototype.readByte=function(e){return this.buffer[e]},Object.defineProperty(e.prototype,"internalBuffer",{get:function(){return this.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.buffer.byteLength},enumerable:!0,configurable:!0}),e.prototype.readNextTwoBytes=function(e){var t=e.readByte(this.position);return this.position++,t<<=8,t|=e.readByte(this.position),this.position++,t},e}(),CT=function(){function e(){}return Object.defineProperty(e.prototype,"empty",{get:function(){return this.offset===this.length&&this.length===this.checksum&&0===this.checksum},enumerable:!0,configurable:!0}),e}(),xT=function(){},DT=function(){},TT=function(){},AT=function(){function e(){}return Object.defineProperty(e.prototype,"isItalic",{get:function(){return 0!==(2&this.macStyle)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBold",{get:function(){return 0!==(1&this.macStyle)},enumerable:!0,configurable:!0}),e}(),jT=function(){},ET=function(){},kT=function(){},zT=function(){},LT=function(){},OT=function(){},PT=function(){function e(){}return Object.defineProperty(e.prototype,"empty",{get:function(){return this.index===this.width&&this.width===this.charCode&&0===this.charCode},enumerable:!0,configurable:!0}),e.prototype.compareTo=function(e){var t=e;return this.index-t.index},e}(),RT=function(){},FT=function(){},BT=function(){},VT=function(){},UT=function(){},HT=function(){function e(e){this.int32Size=4,this.int16Size=2,this.int64Size=8,this.bufferLength=e,this.buffer=[]}return Object.defineProperty(e.prototype,"data",{get:function(){if(this.buffer.length<this.bufferLength)for(var e=this.bufferLength-this.buffer.length,t=0;t<e;t++)this.buffer.push(0);return this.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return void 0!==this.internalPosition&&null!==this.internalPosition||(this.internalPosition=0),this.internalPosition},enumerable:!0,configurable:!0}),e.prototype.writeShort=function(e){var t=[(65280&e)>>8,255&e];this.flush(t)},e.prototype.writeInt=function(e){var t=(4278190080&e)>>24;t=t<0?256+t:t;var i=(16711680&e)>>16;i=i<0?256+i:i;var n=(65280&e)>>8;n=n<0?256+n:n;var r=255&e;r=r<0?256+r:r;var s=[(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e];this.flush(s)},e.prototype.writeUInt=function(e){var t=[(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e];this.flush(t)},e.prototype.writeString=function(e){if(null==e)throw new Error("Argument Null Exception : value");for(var t=[],i=0;i<e.length;i++)t.push(e.charCodeAt(i));this.flush(t)},e.prototype.writeBytes=function(e){this.flush(e)},e.prototype.flush=function(e){if(null===e)throw new Error("Argument Null Exception : buff");for(var t=this.position,i=0;i<e.length;i++)this.buffer[t]=e[i],t++;this.internalPosition+=e.length},e}(),WT=function(){function e(e){this.int32Size=4,this.isTtcFont=!1,this.isMacTtf=!1,this.metricsName="",this.isMacTTF=!1,this.missedGlyphs=0,this.tableNames=["cvt ","fpgm","glyf","head","hhea","hmtx","loca","maxp","prep"],this.entrySelectors=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4],this.fontData=e,this.initialize()}return Object.defineProperty(e.prototype,"macintosh",{get:function(){return null!==this.macintoshDictionary&&void 0!==this.macintoshDictionary||(this.macintoshDictionary=new jx),this.macintoshDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"microsoft",{get:function(){return null!==this.microsoftDictionary&&void 0!==this.microsoftDictionary||(this.microsoftDictionary=new jx),this.microsoftDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"macintoshGlyphs",{get:function(){return null!==this.internalMacintoshGlyphs&&void 0!==this.internalMacintoshGlyphs||(this.internalMacintoshGlyphs=new jx),this.internalMacintoshGlyphs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"microsoftGlyphs",{get:function(){return null!==this.internalMicrosoftGlyphs&&void 0!==this.internalMicrosoftGlyphs||(this.internalMicrosoftGlyphs=new jx),this.internalMicrosoftGlyphs},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){void 0===this.metrics&&(this.metrics=new AT),this.readFontDictionary();var e=this.readNameTable(),t=this.readHeadTable();this.initializeFontName(e),this.metrics.macStyle=t.macStyle},e.prototype.readFontDictionary=function(){this.offset=0;this.checkPreambula();var e=this.readInt16(this.offset);this.readInt16(this.offset),this.readInt16(this.offset),this.readInt16(this.offset);void 0===this.tableDirectory&&(this.tableDirectory=new jx);for(var t=0;t<e;++t){var i=new CT,n=this.readString(this.int32Size);i.checksum=this.readInt32(this.offset),i.offset=this.readInt32(this.offset),i.length=this.readInt32(this.offset),this.tableDirectory.setValue(n,i)}this.lowestPosition=this.offset,this.isTtcFont||this.fixOffsets()},e.prototype.fixOffsets=function(){for(var e=Number.MAX_VALUE,t=this.tableDirectory.keys(),i=0;i<t.length;i++){var n=(o=this.tableDirectory.getValue(t[i])).offset;if(e>n&&(e=n)<=this.lowestPosition)break}var r=e-this.lowestPosition;if(0!==r){var s=new jx;for(i=0;i<t.length;i++){var o;(o=this.tableDirectory.getValue(t[i])).offset-=r,s.setValue(t[i],o)}this.tableDirectory=s}},e.prototype.checkPreambula=function(){var e=this.readInt32(this.offset);if(this.isMacTtf=1953658213===e,65536!==e&&1953658213!==e&&1330926671!==e){if(this.isTtcFont=!0,this.offset=0,"ttcf"!==this.readString(4))throw new Error("Can not read TTF font data");if(this.offset+=4,this.readInt32(this.offset)<0)throw new Error("Can not read TTF font data");this.offset=this.readInt32(this.offset),e=this.readInt32(this.offset)}return e},e.prototype.readNameTable=function(){var e=this.getTable("name");this.offset=e.offset;var t=new xT;t.formatSelector=this.readUInt16(this.offset),t.recordsCount=this.readUInt16(this.offset),t.offset=this.readUInt16(this.offset),t.nameRecords=[];for(var i=this.offset,n=0;n<t.recordsCount;n++){this.offset=i;var r=new DT;r.platformID=this.readUInt16(this.offset),r.encodingID=this.readUInt16(this.offset),r.languageID=this.readUInt16(this.offset),r.nameID=this.readUInt16(this.offset),r.length=this.readUInt16(this.offset),r.offset=this.readUInt16(this.offset),this.offset=e.offset+t.offset+r.offset;var s=0===r.platformID||3===r.platformID;r.name=this.readString(r.length,s),t.nameRecords[n]=r,i+=12}return t},e.prototype.readHeadTable=function(){var e=this.getTable("head");this.offset=e.offset;var t=new TT;return t.version=this.readFixed(this.offset),t.fontRevision=this.readFixed(this.offset),t.checkSumAdjustment=this.readUInt32(this.offset),t.magicNumber=this.readUInt32(this.offset),t.flags=this.readUInt16(this.offset),t.unitsPerEm=this.readUInt16(this.offset),t.created=this.readInt64(this.offset),t.modified=this.readInt64(this.offset),t.xMin=this.readInt16(this.offset),t.yMin=this.readInt16(this.offset),t.xMax=this.readInt16(this.offset),t.yMax=this.readInt16(this.offset),t.macStyle=this.readUInt16(this.offset),t.lowestReadableSize=this.readUInt16(this.offset),t.fontDirectionHint=this.readInt16(this.offset),t.indexToLocalFormat=this.readInt16(this.offset),t.glyphDataFormat=this.readInt16(this.offset),t},e.prototype.readHorizontalHeaderTable=function(){var e=this.getTable("hhea");this.offset=e.offset;var t=new jT;return t.version=this.readFixed(this.offset),t.ascender=this.readInt16(this.offset),t.descender=this.readInt16(this.offset),t.lineGap=this.readInt16(this.offset),t.advanceWidthMax=this.readUInt16(this.offset),t.minLeftSideBearing=this.readInt16(this.offset),t.minRightSideBearing=this.readInt16(this.offset),t.xMaxExtent=this.readInt16(this.offset),t.caretSlopeRise=this.readInt16(this.offset),t.caretSlopeRun=this.readInt16(this.offset),this.offset+=10,t.metricDataFormat=this.readInt16(this.offset),t.numberOfHMetrics=this.readUInt16(this.offset),t},e.prototype.readOS2Table=function(){var e=this.getTable("OS/2");this.offset=e.offset;var t=new ET;return t.version=this.readUInt16(this.offset),t.xAvgCharWidth=this.readInt16(this.offset),t.usWeightClass=this.readUInt16(this.offset),t.usWidthClass=this.readUInt16(this.offset),t.fsType=this.readInt16(this.offset),t.ySubscriptXSize=this.readInt16(this.offset),t.ySubscriptYSize=this.readInt16(this.offset),t.ySubscriptXOffset=this.readInt16(this.offset),t.ySubscriptYOffset=this.readInt16(this.offset),t.ySuperscriptXSize=this.readInt16(this.offset),t.ySuperscriptYSize=this.readInt16(this.offset),t.ySuperscriptXOffset=this.readInt16(this.offset),t.ySuperscriptYOffset=this.readInt16(this.offset),t.yStrikeoutSize=this.readInt16(this.offset),t.yStrikeoutPosition=this.readInt16(this.offset),t.sFamilyClass=this.readInt16(this.offset),t.panose=this.readBytes(10),t.ulUnicodeRange1=this.readUInt32(this.offset),t.ulUnicodeRange2=this.readUInt32(this.offset),t.ulUnicodeRange3=this.readUInt32(this.offset),t.ulUnicodeRange4=this.readUInt32(this.offset),t.vendorIdentifier=this.readBytes(4),t.fsSelection=this.readUInt16(this.offset),t.usFirstCharIndex=this.readUInt16(this.offset),t.usLastCharIndex=this.readUInt16(this.offset),t.sTypoAscender=this.readInt16(this.offset),t.sTypoDescender=this.readInt16(this.offset),t.sTypoLineGap=this.readInt16(this.offset),t.usWinAscent=this.readUInt16(this.offset),t.usWinDescent=this.readUInt16(this.offset),t.ulCodePageRange1=this.readUInt32(this.offset),t.ulCodePageRange2=this.readUInt32(this.offset),t.version>1?(t.sxHeight=this.readInt16(this.offset),t.sCapHeight=this.readInt16(this.offset),t.usDefaultChar=this.readUInt16(this.offset),t.usBreakChar=this.readUInt16(this.offset),t.usMaxContext=this.readUInt16(this.offset)):(t.sxHeight=0,t.sCapHeight=0,t.usDefaultChar=0,t.usBreakChar=0,t.usMaxContext=0),t},e.prototype.readPostTable=function(){var e=this.getTable("post");this.offset=e.offset;var t=new kT;return t.formatType=this.readFixed(this.offset),t.italicAngle=this.readFixed(this.offset),t.underlinePosition=this.readInt16(this.offset),t.underlineThickness=this.readInt16(this.offset),t.isFixedPitch=this.readUInt32(this.offset),t.minType42=this.readUInt32(this.offset),t.maxType42=this.readUInt32(this.offset),t.minType1=this.readUInt32(this.offset),t.maxType1=this.readUInt32(this.offset),t},e.prototype.readWidthTable=function(e,t){var i=this.getTable("hmtx");this.offset=i.offset;for(var n=[],r=0;r<e;r++){var s=new zT;s.advanceWidth=this.readUInt16(this.offset),s.lsb=this.readInt16(this.offset);var o=1e3*s.advanceWidth/t;n.push(Math.floor(o))}return n},e.prototype.readCmapTable=function(){var e=this.getTable("cmap");this.offset=e.offset;var t=new OT;t.version=this.readUInt16(this.offset),t.tablesCount=this.readUInt16(this.offset);for(var i=this.offset,n=[],r=0;r<t.tablesCount;r++){this.offset=i;var s=new LT;s.platformID=this.readUInt16(this.offset),s.encodingID=this.readUInt16(this.offset),s.offset=this.readUInt32(this.offset),i=this.offset,this.readCmapSubTable(s),n[r]=s}return n},e.prototype.readCmapSubTable=function(e){var t=this.getTable("cmap");this.offset=t.offset+e.offset;var i=this.readUInt16(this.offset),n=this.getCmapEncoding(e.platformID,e.encodingID);n===YD.Macintosh?QD.Macintosh:QD.Microsoft;if(n!==YD.Unknown)switch(i){case WD.Apple:this.readAppleCmapTable(e,n);break;case WD.Microsoft:this.readMicrosoftCmapTable(e,n);break;case WD.Trimmed:this.readTrimmedCmapTable(e,n)}},e.prototype.readAppleCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var n=new FT;n.format=this.readUInt16(this.offset),n.length=this.readUInt16(this.offset),n.version=this.readUInt16(this.offset),null!==this.maxMacIndex&&void 0!==this.maxMacIndex||(this.maxMacIndex=0);for(var r=0;r<256;++r){var s=new PT;s.index=this.readByte(this.offset),s.width=this.getWidth(s.index),s.charCode=r,this.macintosh.setValue(r,s),this.addGlyph(s,t),this.maxMacIndex=Math.max(r,this.maxMacIndex)}},e.prototype.readMicrosoftCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var n=t===YD.Unicode?this.microsoft:this.macintosh,r=new BT;r.format=this.readUInt16(this.offset),r.length=this.readUInt16(this.offset),r.version=this.readUInt16(this.offset),r.segCountX2=this.readUInt16(this.offset),r.searchRange=this.readUInt16(this.offset),r.entrySelector=this.readUInt16(this.offset),r.rangeShift=this.readUInt16(this.offset);var s=r.segCountX2/2;r.endCount=this.readUshortArray(s),r.reservedPad=this.readUInt16(this.offset),r.startCount=this.readUshortArray(s),r.idDelta=this.readUshortArray(s),r.idRangeOffset=this.readUshortArray(s);var o=r.length/2-8-4*s;r.glyphID=this.readUshortArray(o);for(var a=0,l=0,h=0;h<s;h++)for(var c=r.startCount[h];c<=r.endCount[h]&&65535!==c;c++){if(0===r.idRangeOffset[h])a=c+r.idDelta[h]&65535;else{if((l=h+r.idRangeOffset[h]/2-s+c-r.startCount[h])>=r.glyphID.length)continue;a=r.glyphID[l]+r.idDelta[h]&65535}var u=new PT;u.index=a,u.width=this.getWidth(u.index);var p=t===YD.Symbol&&61440===(65280&c)?255&c:c;u.charCode=p,n.setValue(p,u),this.addGlyph(u,t)}},e.prototype.readTrimmedCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var n=new VT;n.format=this.readUInt16(this.offset),n.length=this.readUInt16(this.offset),n.version=this.readUInt16(this.offset),n.firstCode=this.readUInt16(this.offset),n.entryCount=this.readUInt16(this.offset);for(var r=0;r<n.entryCount;++r){var s=new PT;s.index=this.readUInt16(this.offset),s.width=this.getWidth(s.index),s.charCode=r+n.firstCode,this.macintosh.setValue(r,s),this.addGlyph(s,t),this.maxMacIndex=Math.max(r,this.maxMacIndex)}},e.prototype.initializeFontName=function(e){for(var t=0;t<e.recordsCount;t++){var i=e.nameRecords[t];if(1===i.nameID?this.metrics.fontFamily=i.name:6===i.nameID&&(this.metrics.postScriptName=i.name),null!==this.metrics.fontFamily&&void 0!==this.metrics.fontFamily&&null!==this.metrics.postScriptName&&void 0!==this.metrics.postScriptName)break}},e.prototype.getTable=function(e){var t,i=new CT;return this.tableDirectory.containsKey(e)&&(t=this.tableDirectory.getValue(e)),null!==t&&void 0!==t&&(i=t),i},e.prototype.getWidth=function(e){return e=e<this.width.length?e:this.width.length-1,this.width[e]},e.prototype.getCmapEncoding=function(e,t){var i=YD.Unknown;return e==QD.Microsoft&&t==qD.Undefined?i=YD.Symbol:e==QD.Microsoft&&t==qD.Unicode?i=YD.Unicode:e==QD.Macintosh&&t==GD.Roman&&(i=YD.Macintosh),i},e.prototype.addGlyph=function(e,t){var i=null;switch(t){case YD.Unicode:i=this.microsoftGlyphs;break;case YD.Macintosh:case YD.Symbol:i=this.macintoshGlyphs}i.setValue(e.index,e)},e.prototype.initializeMetrics=function(e,t,i,n,r,s){this.initializeFontName(e);for(var o=!1,a=0;a<s.length;a++){var l=s[a];if(this.getCmapEncoding(l.platformID,l.encodingID)===YD.Symbol){o=!0;break}}this.metrics.isSymbol=o,this.metrics.macStyle=t.macStyle,this.metrics.isFixedPitch=0!==r.isFixedPitch,this.metrics.italicAngle=r.italicAngle;var h=1e3/t.unitsPerEm;this.metrics.winAscent=n.sTypoAscender*h,this.metrics.macAscent=i.ascender*h,this.metrics.capHeight=0!==n.sCapHeight?n.sCapHeight:.7*t.unitsPerEm*h,this.metrics.winDescent=n.sTypoDescender*h,this.metrics.macDescent=i.descender*h,this.metrics.leading=(n.sTypoAscender-n.sTypoDescender+n.sTypoLineGap)*h,this.metrics.lineGap=Math.ceil(i.lineGap*h);var c=t.xMin*h,u=Math.ceil(this.metrics.macAscent+this.metrics.lineGap),p=t.xMax*h,d=this.metrics.macDescent;this.metrics.fontBox=new _D(c,u,p,d),this.metrics.stemV=80,this.metrics.widthTable=this.updateWidth(),this.metrics.contains=this.tableDirectory.containsKey("CFF"),this.metrics.subScriptSizeFactor=t.unitsPerEm/n.ySubscriptYSize,this.metrics.superscriptSizeFactor=t.unitsPerEm/n.ySuperscriptYSize},e.prototype.updateWidth=function(){var e=[];if(this.metrics.isSymbol)for(var t=0;t<256;t++){var i=this.getGlyph(String.fromCharCode(t));e[t]=i.empty?0:i.width}else{var n=[],r=String.fromCharCode(32);for(t=0;t<256;t++){n[0]=t;var s=this.getString(n,0,n.length),o=s.length>0?s[0]:"?";(i=this.getGlyph(o)).empty?(i=this.getGlyph(r),e[t]=i.empty?0:i.width):e[t]=i.width}}return e},e.prototype.getDefaultGlyph=function(){return this.getGlyph(aT.whiteSpace)},e.prototype.getString=function(e,t,i){for(var n="",r=0;r<i;r++)n+=String.fromCharCode(e[r+t]);return n},e.prototype.readLocaTable=function(e){var t=this.getTable("loca");this.offset=t.offset;var i=new RT,n=null;if(e){var r=t.length/2;n=[];for(var s=0;s<r;s++)n[s]=2*this.readUInt16(this.offset)}else{r=t.length/4;n=[];for(s=0;s<r;s++)n[s]=this.readUInt32(this.offset)}return i.offsets=n,i},e.prototype.updateGlyphChars=function(e,t){e.containsKey(0)||e.setValue(0,0);for(var i=new jx,n=e.keys(),r=0;r<n.length;r++)i.setValue(n[r],e.getValue(n[r]));for(r=0;r<n.length;r++){var s=n[r];this.processCompositeGlyph(e,s,t)}},e.prototype.processCompositeGlyph=function(e,t,i){if(t<i.offsets.length-1){var n=i.offsets[t];if(n!==i.offsets[t+1]){var r=this.getTable("glyf");this.offset=r.offset+n;var s=new UT;if(s.numberOfContours=this.readInt16(this.offset),s.xMin=this.readInt16(this.offset),s.yMin=this.readInt16(this.offset),s.xMax=this.readInt16(this.offset),s.yMax=this.readInt16(this.offset),s.numberOfContours<0)for(var o=0;;){var a=this.readUInt16(this.offset),l=this.readUInt16(this.offset);if(e.containsKey(l)||e.setValue(l,0),0===(a&XD.MoreComponents))break;o=0!==(a&XD.Arg1And2AreWords)?4:2,0!==(a&XD.WeHaveScale)?o+=2:0!==(a&XD.WeHaveAnXyScale)?o+=4:0!==(a&XD.WeHaveTwoByTwo)&&(o+=8),this.offset+=o}}}},e.prototype.generateGlyphTable=function(e,t,i,n){i=[];var r=e.keys();r.sort((function(e,t){return e-t}));for(var s=0,o=0;o<r.length;o++){var a=r[o];t.offsets.length>0&&(s+=t.offsets[a+1]-t.offsets[a])}var l=this.align(s);n=[];for(o=0;o<l;o++)n.push(0);var h=0,c=0,u=this.getTable("glyf");for(o=0;o<t.offsets.length;o++)if(i.push(h),c<r.length&&r[c]===o){++c,i[o]=h;var p=t.offsets[o],d=t.offsets[o+1]-p;if(d>0)this.offset=u.offset+p,n=this.read(n,h,d).buffer,h+=d}return{glyphTableSize:s,newLocaTable:i,newGlyphTable:n}},e.prototype.updateLocaTable=function(e,t,i){if(null===e)throw new Error("Argument Null Exception : newLocaTable");for(var n=t?2*e.length:4*e.length,r=this.align(n),s=new HT(r),o=0;o<e.length;o++){var a=e[o];t?(a/=2,s.writeShort(a)):s.writeInt(a)}return{newLocaUpdated:s.data,newLocaSize:n}},e.prototype.align=function(e){return e+3&-4},e.prototype.getFontProgram=function(e,t,i,n){if(null===e)throw new Error("Argument Null Exception : newLocaTableOut");if(null===t)throw new Error("Argument Null Exception : newGlyphTable");this.tableNames;var r=this.getFontProgramLength(e,t,0),s=r.fontProgramLength,o=r.numTables,a=new HT(s);a.writeInt(65536),a.writeShort(o);var l=this.entrySelectors[o];return a.writeShort(16*(1<<(31&l))),a.writeShort(l),a.writeShort(16*(o-(1<<(31&l)))),this.writeCheckSums(a,o,e,t,i,n),this.writeGlyphs(a,e,t),a.data},e.prototype.getFontProgramLength=function(e,t,i){if(null===e)throw new Error("Argument Null Exception : newLocaTableOut");if(null===t)throw new Error("Argument Null Exception : newGlyphTable");i=2;for(var n=this.tableNames,r=0,s=0;s<n.length;s++){var o=n[s];if("glyf"!==o&&"loca"!==o){var a=this.getTable(o);a.empty||(++i,r+=this.align(a.length))}}return r+=e.length,r+=t.length,{fontProgramLength:r+=16*i+12,numTables:i}},e.prototype.writeCheckSums=function(e,t,i,n,r,s){if(null===e)throw new Error("Argument Null Exception : writer");if(null===i)throw new Error("Argument Null Exception : newLocaTableOut");if(null===n)throw new Error("Argument Null Exception : newGlyphTable");for(var o=this.tableNames,a=16*t+12,l=0,h=0;h<o.length;h++){var c=o[h],u=this.getTable(c);if(!u.empty){if(e.writeString(c),"glyf"===c){var p=this.calculateCheckSum(n);e.writeInt(p),l=r}else if("loca"===c){p=this.calculateCheckSum(i);e.writeInt(p),l=s}else e.writeInt(u.checksum),l=u.length;e.writeUInt(a),e.writeUInt(l),a+=this.align(l)}}},e.prototype.calculateCheckSum=function(e){if(null===e)throw new Error("Argument Null Exception : bytes");for(var t=0,i=0,n=0,r=0,s=0,o=0;o<(e.length+1)/4;o++)s+=255&e[t++],r+=255&e[t++],n+=255&e[t++],i+=255&e[t++];var a=i;return a+=n<<8,a+=r<<16,a+=s<<24},e.prototype.writeGlyphs=function(e,t,i){if(null===e)throw new Error("Argument Null Exception : writer");if(null===t)throw new Error("Argument Null Exception : newLocaTableOut");if(null===i)throw new Error("Argument Null Exception : newGlyphTable");for(var n=this.tableNames,r=0;r<n.length;r++){var s=n[r],o=this.getTable(s);if(!o.empty)if("glyf"===s)e.writeBytes(i);else if("loca"===s)e.writeBytes(t);else{for(var a=this.align(o.length),l=[],h=0;h<a;h++)l.push(0);this.offset=o.offset;var c=this.read(l,0,o.length);e.writeBytes(c.buffer)}}},e.prototype.setOffset=function(e){this.offset=e},e.prototype.createInternals=function(){this.metrics=new AT;var e=this.readNameTable(),t=this.readHeadTable();this.bIsLocaShort=0===t.indexToLocalFormat;var i=this.readHorizontalHeaderTable(),n=this.readOS2Table(),r=this.readPostTable();this.width=this.readWidthTable(i.numberOfHMetrics,t.unitsPerEm);var s=this.readCmapTable();this.initializeMetrics(e,t,i,n,r,s)},e.prototype.getGlyph=function(e){if("number"===typeof e){var t=null;return this.metrics.isSymbol||null==this.microsoftGlyphs?this.metrics.isSymbol&&null!=this.macintoshGlyphs&&this.macintoshGlyphs.containsKey(e)&&(t=this.macintoshGlyphs.getValue(e)):this.microsoftGlyphs.containsKey(e)&&(t=this.microsoftGlyphs.getValue(e)),null!=t?t:this.getDefaultGlyph()}var i=null,n=e.charCodeAt(0);return this.metrics.isSymbol||null===this.microsoft?(this.metrics.isSymbol&&null!==this.macintosh||this.isMacTTF)&&(0!==this.maxMacIndex?n%=this.maxMacIndex+1:n=61440===(65280&n)?255&n:n,this.macintosh.containsKey(n)&&(i=this.macintosh.getValue(n),this.isFontPresent=!0)):this.microsoft.containsKey(n)?(i=this.microsoft.getValue(n),n!==aT.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!0)):n!==aT.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!1),e===aT.whiteSpace&&null===i&&(i=new PT),null!==i?i:this.getDefaultGlyph()},e.prototype.getGlyphChars=function(e){if(null===e||void 0===e)throw new Error("Argument Null Exception : chars");for(var t=new jx,i=e.keys(),n=0;n<i.length;n++){var r=i[n],s=this.getGlyph(r);s.empty||t.setValue(s.index,r.charCodeAt(0))}return t},e.prototype.getAllGlyphs=function(){for(var e=[],t=new PT,i=0,n=0;n<this.width.length;n++){var r=this.width[n];t.index=i,t.width=r,e.push(t),i++}return e},e.prototype.readFontProgram=function(e){var t=this.getGlyphChars(e),i=this.readLocaTable(this.bIsLocaShort);t.size()<e.size()&&(this.missedGlyphs=e.size()-t.size()),this.updateGlyphChars(t,i);var n=this.generateGlyphTable(t,i,null,null),r=n.glyphTableSize,s=n.newLocaTable,o=n.newGlyphTable,a=this.updateLocaTable(s,this.bIsLocaShort,null),l=a.newLocaSize,h=a.newLocaUpdated;return this.getFontProgram(h,o,r,l)},e.prototype.convertString=function(e){if(null===e)throw new Error("Argument Null Exception : text");for(var t="",i=0;i<e.length;i++){var n=e[i],r=this.getGlyph(n);r.empty||(t+=String.fromCharCode(r.index))}return t},e.prototype.getCharWidth=function(e){var t=this.getGlyph(e);return(t=t.empty?this.getDefaultGlyph():t).empty?0:t.width},e.prototype.readString=function(e,t){if(void 0===t)return this.readString(e,!1);var i="";if(t)for(var n=0;n<e;n++)n%2!==0&&(i+=String.fromCharCode(this.fontData[this.offset])),this.offset+=1;else for(n=0;n<e;n++)i+=String.fromCharCode(this.fontData[this.offset]),this.offset+=1;return i},e.prototype.readFixed=function(e){return this.readInt16(e)+this.readInt16(e+2)/16384},e.prototype.readInt32=function(e){var t=this.fontData[e+3],i=this.fontData[e+2],n=this.fontData[e+1],r=this.fontData[e];return this.offset+=4,t+(i<<8)+(n<<16)+(r<<24)},e.prototype.readUInt32=function(e){var t=this.fontData[e+3],i=this.fontData[e+2],n=this.fontData[e+1],r=this.fontData[e];return this.offset+=4,t|i<<8|n<<16|r<<24},e.prototype.readInt16=function(e){var t=(this.fontData[e]<<8)+this.fontData[e+1];return t=32768&t?t-65536:t,this.offset+=2,t},e.prototype.readInt64=function(e){var t=this.readInt32(e+4),i=4294967296*this.readInt32(e)+t;return t<0&&(i+=4294967296),i},e.prototype.readUInt16=function(e){var t=this.fontData[e]<<8|this.fontData[e+1];return this.offset+=2,t},e.prototype.readUshortArray=function(e){for(var t=[],i=0;i<e;i++)t[i]=this.readUInt16(this.offset);return t},e.prototype.readBytes=function(e){for(var t=[],i=0;i<e;i++)t.push(this.fontData[this.offset]),this.offset+=1;return t},e.prototype.readByte=function(e){var t=this.fontData[e];return this.offset+=1,t},e.prototype.read=function(e,t,i){if(null===e)throw new Error("Argument Null Exception : buffer");var n=0,r=0;do{for(var s=0;s<i-n&&this.offset+s<this.fontData.length;s++)e[t+s]=this.fontData[this.offset+s];r=i-n,this.offset+=r,n+=r}while(n<i);return{buffer:e,written:n}},e}(),YT=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),QT=function(){function e(){this.lineGap=0}return e.prototype.getAscent=function(e){return this.ascent*fT.charSizeMultiplier*this.getSize(e)},e.prototype.getDescent=function(e){return this.descent*fT.charSizeMultiplier*this.getSize(e)},e.prototype.getLineGap=function(e){return this.lineGap*fT.charSizeMultiplier*this.getSize(e)},e.prototype.getHeight=function(e){for(var t=["cambria","candara","constantia","corbel","cariadings"],i=[],n=0;n<t.length;n++){var r=t[n];i.push(r)}return this.getDescent(e)<0?this.getAscent(e)-this.getDescent(e)+this.getLineGap(e):this.getAscent(e)+this.getDescent(e)+this.getLineGap(e)},e.prototype.getSize=function(e){var t=this.size;if(null!=e)switch(e.subSuperScript){case UD.SubScript:t/=this.subScriptSizeFactor;break;case UD.SuperScript:t/=this.superscriptSizeFactor}return t},e.prototype.clone=function(){return this.widthTable=qT.clone(),this},Object.defineProperty(e.prototype,"widthTable",{get:function(){return this.internalWidthTable},set:function(e){this.internalWidthTable=e},enumerable:!0,configurable:!0}),e}(),qT=function(){function e(){}return e.clone=function(){return null},e}(),GT=function(e){function t(t){var i=e.call(this)||this;if(null==t)throw new Error("ArgumentNullException:widths");return i.widths=t,i}return YT(t,e),t.prototype.items=function(e){if(e<0||e>=this.widths.length)throw new Error("ArgumentOutOfRangeException:index, The character is not supported by the font.");return this.widths[e]},Object.defineProperty(t.prototype,"length",{get:function(){return this.widths.length},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return this.widths=this.widths,this},t.prototype.toArray=function(){return new Kx(this.widths)},t}(qT),KT=function(){function e(e,t){if(this.nameString="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.dictionaryProperties=new Bx,this.isCompress=!1,this.isEmbedFont=!1,this.cmapPrefix="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap"+Fx.newLine+"/CIDSystemInfo << /Registry (Adobe)/Ordering (UCS)/Supplement 0>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange"+Fx.newLine,this.cmapEndCodespaceRange="endcodespacerange"+Fx.newLine,this.cmapBeginRange="beginbfrange"+Fx.newLine,this.cmapEndRange="endbfrange"+Fx.newLine,this.cmapSuffix="endbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend end"+Fx.newLine,null===e||void 0===e)throw new Error("ArgumentNullException:base64String");this.fontSize=t,this.fontString=e,this.Initialize()}return e.prototype.getCharWidth=function(e){return this.ttfReader.getCharWidth(e)},e.prototype.getLineWidth=function(e){for(var t=0,i=0,n=e.length;i<n;i++){var r=e[i];t+=this.getCharWidth(r)}return t},e.prototype.Initialize=function(){var e=new NT(this.fontString.length);e.writeFromBase64String(this.fontString),this.fontData=e.internalBuffer,this.ttfReader=new WT(this.fontData),this.ttfMetrics=this.ttfReader.metrics},e.prototype.createInternals=function(){this.fontDictionary=new Vx,this.fontProgram=new Jx,this.cmap=new Jx,this.descendantFont=new Vx,this.metrics=new QT,this.ttfReader.createInternals(),this.ttfMetrics=this.ttfReader.metrics,this.initializeMetrics(),this.subsetName=this.getFontName(),this.createDescendantFont(),this.createCmap(),this.createFontDictionary(),this.createFontProgram()},e.prototype.getInternals=function(){return this.fontDictionary},e.prototype.initializeMetrics=function(){var e=this.ttfReader.metrics;this.metrics.ascent=e.macAscent,this.metrics.descent=e.macDescent,this.metrics.height=e.macAscent-e.macDescent+e.lineGap,this.metrics.name=e.fontFamily,this.metrics.postScriptName=e.postScriptName,this.metrics.size=this.fontSize,this.metrics.widthTable=new GT(e.widthTable),this.metrics.lineGap=e.lineGap,this.metrics.subScriptSizeFactor=e.subScriptSizeFactor,this.metrics.superscriptSizeFactor=e.superscriptSizeFactor,this.metrics.isBold=e.isBold},e.prototype.getFontName=function(){for(var e,t="",i=0;i<6;i++){var n=Math.floor(26*Math.random())+0;t+=this.nameString[n]}return t+="+",e=(t+=this.ttfReader.metrics.postScriptName).toString(),e=this.formatName(e)},e.prototype.formatName=function(e){var t=e.replace("(","#28");return(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(")","#29")).replace("[","#5B")).replace("]","#5D")).replace("<","#3C")).replace(">","#3E")).replace("{","#7B")).replace("}","#7D")).replace("/","#2F")).replace("%","#25")).replace(" ","#20")},e.prototype.createDescendantFont=function(){this.descendantFont.isResource=!0,this.descendantFont.descendantFontBeginSave=new Hx(this),this.descendantFont.items.setValue(this.dictionaryProperties.type,new Rx(this.dictionaryProperties.font)),this.descendantFont.items.setValue(this.dictionaryProperties.subtype,new Rx(this.dictionaryProperties.cIDFontType2)),this.descendantFont.items.setValue(this.dictionaryProperties.baseFont,new Rx(this.subsetName)),this.descendantFont.items.setValue(this.dictionaryProperties.cIDToGIDMap,new Rx(this.dictionaryProperties.identity)),this.descendantFont.items.setValue(this.dictionaryProperties.dw,new Gx(1e3)),this.fontDescriptor=this.createFontDescriptor(),this.descendantFont.items.setValue(this.dictionaryProperties.fontDescriptor,new nD(this.fontDescriptor));var e=this.createSystemInfo();this.descendantFont.items.setValue(this.dictionaryProperties.cIDSystemInfo,e)},e.prototype.createFontDescriptor=function(){var e=new Vx,t=this.ttfReader.metrics;return e.isResource=!0,e.items.setValue(this.dictionaryProperties.type,new Rx(this.dictionaryProperties.fontDescriptor)),e.items.setValue(this.dictionaryProperties.fontName,new Rx(this.subsetName)),e.items.setValue(this.dictionaryProperties.flags,new Gx(this.getDescriptorFlags())),e.items.setValue(this.dictionaryProperties.fontBBox,Kx.fromRectangle(this.getBoundBox())),e.items.setValue(this.dictionaryProperties.missingWidth,new Gx(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.stemV,new Gx(t.stemV)),e.items.setValue(this.dictionaryProperties.italicAngle,new Gx(t.italicAngle)),e.items.setValue(this.dictionaryProperties.capHeight,new Gx(t.capHeight)),e.items.setValue(this.dictionaryProperties.ascent,new Gx(t.winAscent)),e.items.setValue(this.dictionaryProperties.descent,new Gx(t.winDescent)),e.items.setValue(this.dictionaryProperties.leading,new Gx(t.leading)),e.items.setValue(this.dictionaryProperties.avgWidth,new Gx(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.fontFile2,new nD(this.fontProgram)),e.items.setValue(this.dictionaryProperties.maxWidth,new Gx(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.xHeight,new Gx(0)),e.items.setValue(this.dictionaryProperties.stemH,new Gx(0)),e},e.prototype.createCmap=function(){this.cmap.cmapBeginSave=new Zx(this)},e.prototype.createFontDictionary=function(){this.fontDictionary.isResource=!0,this.fontDictionary.fontDictionaryBeginSave=new Wx(this),this.fontDictionary.items.setValue(this.dictionaryProperties.type,new Rx(this.dictionaryProperties.font)),this.fontDictionary.items.setValue(this.dictionaryProperties.baseFont,new Rx(this.subsetName)),this.fontDictionary.items.setValue(this.dictionaryProperties.subtype,new Rx(this.dictionaryProperties.type0)),this.fontDictionary.items.setValue(this.dictionaryProperties.encoding,new Rx(this.dictionaryProperties.identityH));var e=new Kx,t=new nD(this.descendantFont);e.isFont=!0,e.add(t),this.fontDictionary.items.setValue(this.dictionaryProperties.descendantFonts,e)},e.prototype.createFontProgram=function(){this.fontProgram.fontProgramBeginSave=new $x(this)},e.prototype.createSystemInfo=function(){var e=new Vx;return e.items.setValue(this.dictionaryProperties.registry,new tD("Adobe")),e.items.setValue(this.dictionaryProperties.ordering,new tD(this.dictionaryProperties.identity)),e.items.setValue(this.dictionaryProperties.supplement,new Gx(0)),e},e.prototype.descendantFontBeginSave=function(){if(null!==this.usedChars&&void 0!==this.usedChars&&this.usedChars.size()>0){var e=this.getDescendantWidth();null!==e&&this.descendantFont.items.setValue(this.dictionaryProperties.w,e)}},e.prototype.cmapBeginSave=function(){this.generateCmap()},e.prototype.fontDictionaryBeginSave=function(){null!==this.usedChars&&void 0!==this.usedChars&&this.usedChars.size()>0&&!this.fontDictionary.containsKey(this.dictionaryProperties.toUnicode)&&this.fontDictionary.items.setValue(this.dictionaryProperties.toUnicode,new nD(this.cmap))},e.prototype.fontProgramBeginSave=function(){this.isCompress=!0,this.generateFontProgram()},e.prototype.getDescendantWidth=function(){var e=new Kx;if(null!==this.usedChars&&void 0!==this.usedChars&&this.usedChars.size()>0){for(var t=[],i=this.usedChars.keys(),n=0;n<i.length;n++){var r=i[n];(h=this.ttfReader.getGlyph(r)).empty||t.push(h)}t.sort((function(e,t){return e.index-t.index}));var s=0,o=0,a=!1,l=new Kx;for(n=0;n<t.length;n++){var h=t[n];a||(a=!0,s=h.index,o=h.index-1),(o+1!==h.index||n+1===t.length)&&t.length>1&&(e.add(new Gx(s)),0!==n&&e.add(l),s=h.index,l=new Kx),l.add(new Gx(h.width)),n+1===t.length&&(e.add(new Gx(s)),e.add(l)),o=h.index}}return e},e.prototype.generateCmap=function(){if(null!==this.usedChars&&void 0!==this.usedChars&&this.usedChars.size()>0){var e=this.ttfReader.getGlyphChars(this.usedChars);if(e.size()>0){var t=e.keys().sort(),i=t[0],n=t[t.length-1],r=this.toHexString(i,!1)+this.toHexString(n,!1)+Fx.newLine,s="";s+=this.cmapPrefix,s+=r,s+=this.cmapEndCodespaceRange;for(var o=0,a=0;a<t.length;a++){0===o&&(0!==a&&(s+=this.cmapEndRange),s+=o=Math.min(100,t.length-a),s+=Fx.whiteSpace,s+=this.cmapBeginRange),o-=1;var l=t[a];s+=this.toHexString(l,!0)+this.toHexString(l,!0)+this.toHexString(e.getValue(l),!0)+"\n"}s+=this.cmapSuffix,this.cmap.clearStream(),this.cmap.isResource=!0,this.cmap.write(s)}}},e.prototype.generateFontProgram=function(){var e;this.usedChars=null===this.usedChars||void 0===this.usedChars?new jx:this.usedChars,this.ttfReader.setOffset(0),e=this.ttfReader.readFontProgram(this.usedChars),this.fontProgram.clearStream(),this.fontProgram.isResource=!0,this.fontProgram.writeBytes(e)},e.prototype.getDescriptorFlags=function(){var e=0,t=this.ttfReader.metrics;return t.isFixedPitch&&(e|=KD.FixedPitch),t.isSymbol?e|=KD.Symbolic:e|=KD.Nonsymbolic,t.isItalic&&(e|=KD.Italic),t.isBold&&(e|=KD.ForceBold),e},e.prototype.getBoundBox=function(){var e=this.ttfReader.metrics.fontBox,t=Math.abs(e.right-e.left),i=Math.abs(e.top-e.bottom);return new wD(e.left,e.bottom,t,i)},e.prototype.toHexString=function(e,t){var i=e.toString(16);return t&&(i=i.toUpperCase()),"<0000".substring(0,5-i.length)+i+">"},e.prototype.setSymbols=function(e){if(null===e)throw new Error("Argument Null Exception : text");null!==this.usedChars&&void 0!==this.usedChars||(this.usedChars=new jx);for(var t=0;t<e.length;t++){var i=e[t];this.usedChars.setValue(i,String.fromCharCode(0))}!1===this.isEmbedFont&&this.getDescendantWidth()},e}(),XT=function(){function e(){this.arabicCharTable=[["\u0621","\ufe80"],["\u0622","\ufe81","\ufe82"],["\u0623","\ufe83","\ufe84"],["\u0624","\ufe85","\ufe86"],["\u0625","\ufe87","\ufe88"],["\u0626","\ufe89","\ufe8a","\ufe8b","\ufe8c"],["\u0627","\ufe8d","\ufe8e"],["\u0628","\ufe8f","\ufe90","\ufe91","\ufe92"],["\u0629","\ufe93","\ufe94"],["\u062a","\ufe95","\ufe96","\ufe97","\ufe98"],["\u062b","\ufe99","\ufe9a","\ufe9b","\ufe9c"],["\u062c","\ufe9d","\ufe9e","\ufe9f","\ufea0"],["\u062d","\ufea1","\ufea2","\ufea3","\ufea4"],["\u062e","\ufea5","\ufea6","\ufea7","\ufea8"],["\u062f","\ufea9","\ufeaa"],["\u0630","\ufeab","\ufeac"],["\u0631","\ufead","\ufeae"],["\u0632","\ufeaf","\ufeb0"],["\u0633","\ufeb1","\ufeb2","\ufeb3","\ufeb4"],["\u0634","\ufeb5","\ufeb6","\ufeb7","\ufeb8"],["\u0635","\ufeb9","\ufeba","\ufebb","\ufebc"],["\u0636","\ufebd","\ufebe","\ufebf","\ufec0"],["\u0637","\ufec1","\ufec2","\ufec3","\ufec4"],["\u0638","\ufec5","\ufec6","\ufec7","\ufec8"],["\u0639","\ufec9","\ufeca","\ufecb","\ufecc"],["\u063a","\ufecd","\ufece","\ufecf","\ufed0"],["\u0640","\u0640","\u0640","\u0640","\u0640"],["\u0641","\ufed1","\ufed2","\ufed3","\ufed4"],["\u0642","\ufed5","\ufed6","\ufed7","\ufed8"],["\u0643","\ufed9","\ufeda","\ufedb","\ufedc"],["\u0644","\ufedd","\ufede","\ufedf","\ufee0"],["\u0645","\ufee1","\ufee2","\ufee3","\ufee4"],["\u0646","\ufee5","\ufee6","\ufee7","\ufee8"],["\u0647","\ufee9","\ufeea","\ufeeb","\ufeec"],["\u0648","\ufeed","\ufeee"],["\u0649","\ufeef","\ufef0","\ufbe8","\ufbe9"],["\u064a","\ufef1","\ufef2","\ufef3","\ufef4"],["\u0671","\ufb50","\ufb51"],["\u0679","\ufb66","\ufb67","\ufb68","\ufb69"],["\u067a","\ufb5e","\ufb5f","\ufb60","\ufb61"],["\u067b","\ufb52","\ufb53","\ufb54","\ufb55"],["\u067e","\ufb56","\ufb57","\ufb58","\ufb59"],["\u067f","\ufb62","\ufb63","\ufb64","\ufb65"],["\u0680","\ufb5a","\ufb5b","\ufb5c","\ufb5d"],["\u0683","\ufb76","\ufb77","\ufb78","\ufb79"],["\u0684","\ufb72","\ufb73","\ufb74","\ufb75"],["\u0686","\ufb7a","\ufb7b","\ufb7c","\ufb7d"],["\u0687","\ufb7e","\ufb7f","\ufb80","\ufb81"],["\u0688","\ufb88","\ufb89"],["\u068c","\ufb84","\ufb85"],["\u068d","\ufb82","\ufb83"],["\u068e","\ufb86","\ufb87"],["\u0691","\ufb8c","\ufb8d"],["\u0698","\ufb8a","\ufb8b"],["\u06a4","\ufb6a","\ufb6b","\ufb6c","\ufb6d"],["\u06a6","\ufb6e","\ufb6f","\ufb70","\ufb71"],["\u06a9","\ufb8e","\ufb8f","\ufb90","\ufb91"],["\u06ad","\ufbd3","\ufbd4","\ufbd5","\ufbd6"],["\u06af","\ufb92","\ufb93","\ufb94","\ufb95"],["\u06b1","\ufb9a","\ufb9b","\ufb9c","\ufb9d"],["\u06b3","\ufb96","\ufb97","\ufb98","\ufb99"],["\u06ba","\ufb9e","\ufb9f"],["\u06bb","\ufba0","\ufba1","\ufba2","\ufba3"],["\u06be","\ufbaa","\ufbab","\ufbac","\ufbad"],["\u06c0","\ufba4","\ufba5"],["\u06c1","\ufba6","\ufba7","\ufba8","\ufba9"],["\u06c5","\ufbe0","\ufbe1"],["\u06c6","\ufbd9","\ufbda"],["\u06c7","\ufbd7","\ufbd8"],["\u06c8","\ufbdb","\ufbdc"],["\u06c9","\ufbe2","\ufbe3"],["\u06cb","\ufbde","\ufbdf"],["\u06cc","\ufbfc","\ufbfd","\ufbfe","\ufbff"],["\u06d0","\ufbe4","\ufbe5","\ufbe6","\ufbe7"],["\u06d2","\ufbae","\ufbaf"],["\u06d3","\ufbb0","\ufbb1"]],this.alef="\u0627",this.alefHamza="\u0623",this.alefHamzaBelow="\u0625",this.alefMadda="\u0622",this.lam="\u0644",this.hamza="\u0621",this.zeroWidthJoiner="\u200d",this.hamzaAbove="\u0654",this.hamzaBelow="\u0655",this.wawHamza="\u0624",this.yehHamza="\u0626",this.waw="\u0648",this.alefMaksura="\u0649",this.yeh="\u064a",this.farsiYeh="\u06cc",this.shadda="\u0651",this.madda="\u0653",this.lwa="\ufefb",this.lwawh="\ufef7",this.lwawhb="\ufef9",this.lwawm="\ufef5",this.bwhb="\u06d3",this.fathatan="\u064b",this.superScriptalef="\u0670",this.vowel=1,this.arabicMapTable=new jx;for(var e=0;e<this.arabicCharTable.length;e++)this.arabicMapTable.setValue(this.arabicCharTable[e][0],this.arabicCharTable[e])}return e.prototype.getCharacterShape=function(e,t){if(e>=this.hamza&&e<=this.bwhb){if(this.arabicMapTable.getValue(e))return this.arabicMapTable.getValue(e)[t+1]}else if(e>=this.lwawm&&e<=this.lwa)return e;return e},e.prototype.shape=function(e,t){for(var i="",n="",r=0;r<e.length;r++){var s=e[r];if(s>="\u0600"&&s<="\u06ff")n+=s;else{if(n.length>0)i+=this.doShape(n.toString(),0),n="";i+=s}}n.length>0&&(i+=this.doShape(n.toString(),0));return i.toString()},e.prototype.doShape=function(e,t){for(var i="",n=0,r=0,s="",o=new JT,a=new JT;r<e.length;)if(s=e[r++],0===this.ligature(s,a)){var l=this.getShapeCount(s);n=1===l?0:2,o.Shapes>2&&(n+=1),n%=a.Shapes,a.Value=this.getCharacterShape(a.Value,n),i=this.append(i,o,t),o=a,(a=new JT).Value=s,a.Shapes=l,a.Ligature++}return n=o.Shapes>2?1:0,n%=a.Shapes,a.Value=this.getCharacterShape(a.Value,n),i=this.append(i,o,t),(i=this.append(i,a,t)).toString()},e.prototype.append=function(e,t,i){return""!==t.Value&&(e+=t.Value,t.Ligature-=1,""!==t.Type&&(0===(i&this.vowel)?(e+=t.Type,t.Ligature-=1):t.Ligature-=1),""!==t.vowel&&(0===(i&this.vowel)?(e+=t.vowel,t.Ligature-=1):t.Ligature-=1)),e},e.prototype.ligature=function(e,t){if(""!==t.Value){var i=0;if(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef){if(i=1,""!==t.vowel&&e!==this.shadda&&(i=2),e===this.shadda){if(null!=t.Type)return 0;t.Type=this.shadda}else e===this.hamzaBelow?t.Value===this.alef?(t.Value=this.alefHamzaBelow,i=2):e===this.lwa?(t.Value=this.lwawhb,i=2):t.Type=this.hamzaBelow:e===this.hamzaAbove?t.Value===this.alef?(t.Value=this.alefHamza,i=2):t.Value===this.lwa?(t.Value=this.lwawh,i=2):t.Value===this.waw?(t.Value=this.wawHamza,i=2):t.Value===this.yeh||t.Value===this.alefMaksura||t.Value===this.farsiYeh?(t.Value=this.yehHamza,i=2):t.Type=this.hamzaAbove:e===this.madda?t.Value===this.alef&&(t.Value=this.alefMadda,i=2):t.vowel=e;return 1===i&&t.Ligature++,i}return""!==t.vowel?0:(t.Value===this.lam&&(e===this.alef?(t.Value=this.lwa,t.Shapes=2,i=3):e===this.alefHamza?(t.Value=this.lwawh,t.Shapes=2,i=3):e===this.alefHamzaBelow?(t.Value=this.lwawhb,t.Shapes=2,i=3):e===this.alefMadda&&(t.Value=this.lwawm,t.Shapes=2,i=3)),i)}return 0},e.prototype.getShapeCount=function(e){if(e>=this.hamza&&e<=this.bwhb&&!(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef)){if(this.arabicMapTable.getValue(e))return this.arabicMapTable.getValue(e).length-1}else if(e===this.zeroWidthJoiner)return 4;return 1},e}(),JT=function(){function e(){this.shapeValue="",this.shapeType="",this.shapeVowel="",this.shapeLigature=0,this.shapeShapes=1}return Object.defineProperty(e.prototype,"Value",{get:function(){return this.shapeValue},set:function(e){this.shapeValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Type",{get:function(){return this.shapeType},set:function(e){this.shapeType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vowel",{get:function(){return this.shapeVowel},set:function(e){this.shapeVowel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Ligature",{get:function(){return this.shapeLigature},set:function(e){this.shapeLigature=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Shapes",{get:function(){return this.shapeShapes},set:function(e){this.shapeShapes=e},enumerable:!0,configurable:!0}),e}(),ZT=function(){function e(){this.indexes=[],this.indexLevels=[],this.mirroringShapeCharacters=new jx,this.update()}return e.prototype.doMirrorShaping=function(e){for(var t=[],i=0;i<e.length;i++)1===(1&this.indexLevels[i])&&this.mirroringShapeCharacters.containsKey(e[i].charCodeAt(0))?t[i]=String.fromCharCode(this.mirroringShapeCharacters.getValue(e[i].charCodeAt(0))):t[i]=e[i].toString();for(var n="",r=0;r<t.length;r++)n+=t[r];return n},e.prototype.getLogicalToVisualString=function(e,t){var i=new $T;this.indexLevels=i.getVisualOrder(e,t),this.setDefaultIndexLevel(),this.doOrder(0,this.indexLevels.length-1);for(var n=this.doMirrorShaping(e),r="",s=0;s<this.indexes.length;s++){r+=n[this.indexes[s]]}return r.toString()},e.prototype.setDefaultIndexLevel=function(){for(var e=0;e<this.indexLevels.length;e++)this.indexes[e]=e},e.prototype.doOrder=function(e,t){for(var i=this.indexLevels[e],n=i,r=i,s=i,o=e+1;o<=t;++o){var a=this.indexLevels[o];a>i?i=a:a<n&&(n=a),r&=a,s|=a}if(0!==(1&s))if(1!==(1&r))for(n|=1;i>=n;){for(var l=e;;){for(;l<=t&&!(this.indexLevels[l]>=i);)l+=1;if(l>t)break;for(var h=l+1;h<=t&&!(this.indexLevels[h]<i);)h+=1;this.reArrange(l,h),l=h+1}i-=1}else this.reArrange(e,t+1)},e.prototype.reArrange=function(e,t){var i=(e+t)/2;for(--t;e<i;++e,--t){var n=this.indexes[e];this.indexes[e]=this.indexes[t],this.indexes[t]=n}},e.prototype.update=function(){this.mirroringShapeCharacters.setValue(40,41),this.mirroringShapeCharacters.setValue(41,40),this.mirroringShapeCharacters.setValue(60,62),this.mirroringShapeCharacters.setValue(62,60),this.mirroringShapeCharacters.setValue(91,93),this.mirroringShapeCharacters.setValue(93,91),this.mirroringShapeCharacters.setValue(123,125),this.mirroringShapeCharacters.setValue(125,123),this.mirroringShapeCharacters.setValue(171,187),this.mirroringShapeCharacters.setValue(187,171),this.mirroringShapeCharacters.setValue(8249,8250),this.mirroringShapeCharacters.setValue(8250,8249),this.mirroringShapeCharacters.setValue(8261,8262),this.mirroringShapeCharacters.setValue(8262,8261),this.mirroringShapeCharacters.setValue(8317,8318),this.mirroringShapeCharacters.setValue(8318,8317),this.mirroringShapeCharacters.setValue(8333,8334),this.mirroringShapeCharacters.setValue(8334,8333),this.mirroringShapeCharacters.setValue(8712,8715),this.mirroringShapeCharacters.setValue(8713,8716),this.mirroringShapeCharacters.setValue(8714,8717),this.mirroringShapeCharacters.setValue(8715,8712),this.mirroringShapeCharacters.setValue(8716,8713),this.mirroringShapeCharacters.setValue(8717,8714),this.mirroringShapeCharacters.setValue(8725,10741),this.mirroringShapeCharacters.setValue(8764,8765),this.mirroringShapeCharacters.setValue(8765,8764),this.mirroringShapeCharacters.setValue(8771,8909),this.mirroringShapeCharacters.setValue(8786,8787),this.mirroringShapeCharacters.setValue(8787,8786),this.mirroringShapeCharacters.setValue(8788,8789),this.mirroringShapeCharacters.setValue(8789,8788),this.mirroringShapeCharacters.setValue(8804,8805),this.mirroringShapeCharacters.setValue(8805,8804),this.mirroringShapeCharacters.setValue(8806,8807),this.mirroringShapeCharacters.setValue(8807,8806),this.mirroringShapeCharacters.setValue(8808,8809),this.mirroringShapeCharacters.setValue(8809,8808),this.mirroringShapeCharacters.setValue(8810,8811),this.mirroringShapeCharacters.setValue(8811,8810),this.mirroringShapeCharacters.setValue(8814,8815),this.mirroringShapeCharacters.setValue(8815,8814),this.mirroringShapeCharacters.setValue(8816,8817),this.mirroringShapeCharacters.setValue(8817,8816),this.mirroringShapeCharacters.setValue(8818,8819),this.mirroringShapeCharacters.setValue(8819,8818),this.mirroringShapeCharacters.setValue(8820,8821),this.mirroringShapeCharacters.setValue(8821,8820),this.mirroringShapeCharacters.setValue(8822,8823),this.mirroringShapeCharacters.setValue(8823,8822),this.mirroringShapeCharacters.setValue(8824,8825),this.mirroringShapeCharacters.setValue(8825,8824),this.mirroringShapeCharacters.setValue(8826,8827),this.mirroringShapeCharacters.setValue(8827,8826),this.mirroringShapeCharacters.setValue(8828,8829),this.mirroringShapeCharacters.setValue(8829,8828),this.mirroringShapeCharacters.setValue(8830,8831),this.mirroringShapeCharacters.setValue(8831,8830),this.mirroringShapeCharacters.setValue(8832,8833),this.mirroringShapeCharacters.setValue(8833,8832),this.mirroringShapeCharacters.setValue(8834,8835),this.mirroringShapeCharacters.setValue(8835,8834),this.mirroringShapeCharacters.setValue(8836,8837),this.mirroringShapeCharacters.setValue(8837,8836),this.mirroringShapeCharacters.setValue(8838,8839),this.mirroringShapeCharacters.setValue(8839,8838),this.mirroringShapeCharacters.setValue(8840,8841),this.mirroringShapeCharacters.setValue(8841,8840),this.mirroringShapeCharacters.setValue(8842,8843),this.mirroringShapeCharacters.setValue(8843,8842),this.mirroringShapeCharacters.setValue(8847,8848),this.mirroringShapeCharacters.setValue(8848,8847),this.mirroringShapeCharacters.setValue(8849,8850),this.mirroringShapeCharacters.setValue(8850,8849),this.mirroringShapeCharacters.setValue(8856,10680),this.mirroringShapeCharacters.setValue(8866,8867),this.mirroringShapeCharacters.setValue(8867,8866),this.mirroringShapeCharacters.setValue(8870,10974),this.mirroringShapeCharacters.setValue(8872,10980),this.mirroringShapeCharacters.setValue(8873,10979),this.mirroringShapeCharacters.setValue(8875,10981),this.mirroringShapeCharacters.setValue(8880,8881),this.mirroringShapeCharacters.setValue(8881,8880),this.mirroringShapeCharacters.setValue(8882,8883),this.mirroringShapeCharacters.setValue(8883,8882),this.mirroringShapeCharacters.setValue(8884,8885),this.mirroringShapeCharacters.setValue(8885,8884),this.mirroringShapeCharacters.setValue(8886,8887),this.mirroringShapeCharacters.setValue(8887,8886),this.mirroringShapeCharacters.setValue(8905,8906),this.mirroringShapeCharacters.setValue(8906,8905),this.mirroringShapeCharacters.setValue(8907,8908),this.mirroringShapeCharacters.setValue(8908,8907),this.mirroringShapeCharacters.setValue(8909,8771),this.mirroringShapeCharacters.setValue(8912,8913),this.mirroringShapeCharacters.setValue(8913,8912),this.mirroringShapeCharacters.setValue(8918,8919),this.mirroringShapeCharacters.setValue(8919,8918),this.mirroringShapeCharacters.setValue(8920,8921),this.mirroringShapeCharacters.setValue(8921,8920),this.mirroringShapeCharacters.setValue(8922,8923),this.mirroringShapeCharacters.setValue(8923,8922),this.mirroringShapeCharacters.setValue(8924,8925),this.mirroringShapeCharacters.setValue(8925,8924),this.mirroringShapeCharacters.setValue(8926,8927),this.mirroringShapeCharacters.setValue(8927,8926),this.mirroringShapeCharacters.setValue(8928,8929),this.mirroringShapeCharacters.setValue(8929,8928),this.mirroringShapeCharacters.setValue(8930,8931),this.mirroringShapeCharacters.setValue(8931,8930),this.mirroringShapeCharacters.setValue(8932,8933),this.mirroringShapeCharacters.setValue(8933,8932),this.mirroringShapeCharacters.setValue(8934,8935),this.mirroringShapeCharacters.setValue(8935,8934),this.mirroringShapeCharacters.setValue(8936,8937),this.mirroringShapeCharacters.setValue(8937,8936),this.mirroringShapeCharacters.setValue(8938,8939),this.mirroringShapeCharacters.setValue(8939,8938),this.mirroringShapeCharacters.setValue(8940,8941),this.mirroringShapeCharacters.setValue(8941,8940),this.mirroringShapeCharacters.setValue(8944,8945),this.mirroringShapeCharacters.setValue(8945,8944),this.mirroringShapeCharacters.setValue(8946,8954),this.mirroringShapeCharacters.setValue(8947,8955),this.mirroringShapeCharacters.setValue(8948,8956),this.mirroringShapeCharacters.setValue(8950,8957),this.mirroringShapeCharacters.setValue(8951,8958),this.mirroringShapeCharacters.setValue(8954,8946),this.mirroringShapeCharacters.setValue(8955,8947),this.mirroringShapeCharacters.setValue(8956,8948),this.mirroringShapeCharacters.setValue(8957,8950),this.mirroringShapeCharacters.setValue(8958,8951),this.mirroringShapeCharacters.setValue(8968,8969),this.mirroringShapeCharacters.setValue(8969,8968),this.mirroringShapeCharacters.setValue(8970,8971),this.mirroringShapeCharacters.setValue(8971,8970),this.mirroringShapeCharacters.setValue(9001,9002),this.mirroringShapeCharacters.setValue(9002,9001),this.mirroringShapeCharacters.setValue(10088,10089),this.mirroringShapeCharacters.setValue(10089,10088),this.mirroringShapeCharacters.setValue(10090,10091),this.mirroringShapeCharacters.setValue(10091,10090),this.mirroringShapeCharacters.setValue(10092,10093),this.mirroringShapeCharacters.setValue(10093,10092),this.mirroringShapeCharacters.setValue(10094,10095),this.mirroringShapeCharacters.setValue(10095,10094),this.mirroringShapeCharacters.setValue(10096,10097),this.mirroringShapeCharacters.setValue(10097,10096),this.mirroringShapeCharacters.setValue(10098,10099),this.mirroringShapeCharacters.setValue(10099,10098),this.mirroringShapeCharacters.setValue(10100,10101),this.mirroringShapeCharacters.setValue(10101,10100),this.mirroringShapeCharacters.setValue(10197,10198),this.mirroringShapeCharacters.setValue(10198,10197),this.mirroringShapeCharacters.setValue(10205,10206),this.mirroringShapeCharacters.setValue(10206,10205),this.mirroringShapeCharacters.setValue(10210,10211),this.mirroringShapeCharacters.setValue(10211,10210),this.mirroringShapeCharacters.setValue(10212,10213),this.mirroringShapeCharacters.setValue(10213,10212),this.mirroringShapeCharacters.setValue(10214,10215),this.mirroringShapeCharacters.setValue(10215,10214),this.mirroringShapeCharacters.setValue(10216,10217),this.mirroringShapeCharacters.setValue(10217,10216),this.mirroringShapeCharacters.setValue(10218,10219),this.mirroringShapeCharacters.setValue(10219,10218),this.mirroringShapeCharacters.setValue(10627,10628),this.mirroringShapeCharacters.setValue(10628,10627),this.mirroringShapeCharacters.setValue(10629,10630),this.mirroringShapeCharacters.setValue(10630,10629),this.mirroringShapeCharacters.setValue(10631,10632),this.mirroringShapeCharacters.setValue(10632,10631),this.mirroringShapeCharacters.setValue(10633,10634),this.mirroringShapeCharacters.setValue(10634,10633),this.mirroringShapeCharacters.setValue(10635,10636),this.mirroringShapeCharacters.setValue(10636,10635),this.mirroringShapeCharacters.setValue(10637,10640),this.mirroringShapeCharacters.setValue(10638,10639),this.mirroringShapeCharacters.setValue(10639,10638),this.mirroringShapeCharacters.setValue(10640,10637),this.mirroringShapeCharacters.setValue(10641,10642),this.mirroringShapeCharacters.setValue(10642,10641),this.mirroringShapeCharacters.setValue(10643,10644),this.mirroringShapeCharacters.setValue(10644,10643),this.mirroringShapeCharacters.setValue(10645,10646),this.mirroringShapeCharacters.setValue(10646,10645),this.mirroringShapeCharacters.setValue(10647,10648),this.mirroringShapeCharacters.setValue(10648,10647),this.mirroringShapeCharacters.setValue(10680,8856),this.mirroringShapeCharacters.setValue(10688,10689),this.mirroringShapeCharacters.setValue(10689,10688),this.mirroringShapeCharacters.setValue(10692,10693),this.mirroringShapeCharacters.setValue(10693,10692),this.mirroringShapeCharacters.setValue(10703,10704),this.mirroringShapeCharacters.setValue(10704,10703),this.mirroringShapeCharacters.setValue(10705,10706),this.mirroringShapeCharacters.setValue(10706,10705),this.mirroringShapeCharacters.setValue(10708,10709),this.mirroringShapeCharacters.setValue(10709,10708),this.mirroringShapeCharacters.setValue(10712,10713),this.mirroringShapeCharacters.setValue(10713,10712),this.mirroringShapeCharacters.setValue(10714,10715),this.mirroringShapeCharacters.setValue(10715,10714),this.mirroringShapeCharacters.setValue(10741,8725),this.mirroringShapeCharacters.setValue(10744,10745),this.mirroringShapeCharacters.setValue(10745,10744),this.mirroringShapeCharacters.setValue(10748,10749),this.mirroringShapeCharacters.setValue(10749,10748),this.mirroringShapeCharacters.setValue(10795,10796),this.mirroringShapeCharacters.setValue(10796,10795),this.mirroringShapeCharacters.setValue(10797,10796),this.mirroringShapeCharacters.setValue(10798,10797),this.mirroringShapeCharacters.setValue(10804,10805),this.mirroringShapeCharacters.setValue(10805,10804),this.mirroringShapeCharacters.setValue(10812,10813),this.mirroringShapeCharacters.setValue(10813,10812),this.mirroringShapeCharacters.setValue(10852,10853),this.mirroringShapeCharacters.setValue(10853,10852),this.mirroringShapeCharacters.setValue(10873,10874),this.mirroringShapeCharacters.setValue(10874,10873),this.mirroringShapeCharacters.setValue(10877,10878),this.mirroringShapeCharacters.setValue(10878,10877),this.mirroringShapeCharacters.setValue(10879,10880),this.mirroringShapeCharacters.setValue(10880,10879),this.mirroringShapeCharacters.setValue(10881,10882),this.mirroringShapeCharacters.setValue(10882,10881),this.mirroringShapeCharacters.setValue(10883,10884),this.mirroringShapeCharacters.setValue(10884,10883),this.mirroringShapeCharacters.setValue(10891,10892),this.mirroringShapeCharacters.setValue(10892,10891),this.mirroringShapeCharacters.setValue(10897,10898),this.mirroringShapeCharacters.setValue(10898,10897),this.mirroringShapeCharacters.setValue(10899,10900),this.mirroringShapeCharacters.setValue(10900,10899),this.mirroringShapeCharacters.setValue(10901,10902),this.mirroringShapeCharacters.setValue(10902,10901),this.mirroringShapeCharacters.setValue(10903,10904),this.mirroringShapeCharacters.setValue(10904,10903),this.mirroringShapeCharacters.setValue(10905,10906),this.mirroringShapeCharacters.setValue(10906,10905),this.mirroringShapeCharacters.setValue(10907,10908),this.mirroringShapeCharacters.setValue(10908,10907),this.mirroringShapeCharacters.setValue(10913,10914),this.mirroringShapeCharacters.setValue(10914,10913),this.mirroringShapeCharacters.setValue(10918,10919),this.mirroringShapeCharacters.setValue(10919,10918),this.mirroringShapeCharacters.setValue(10920,10921),this.mirroringShapeCharacters.setValue(10921,10920),this.mirroringShapeCharacters.setValue(10922,10923),this.mirroringShapeCharacters.setValue(10923,10922),this.mirroringShapeCharacters.setValue(10924,10925),this.mirroringShapeCharacters.setValue(10925,10924),this.mirroringShapeCharacters.setValue(10927,10928),this.mirroringShapeCharacters.setValue(10928,10927),this.mirroringShapeCharacters.setValue(10931,10932),this.mirroringShapeCharacters.setValue(10932,10931),this.mirroringShapeCharacters.setValue(10939,10940),this.mirroringShapeCharacters.setValue(10940,10939),this.mirroringShapeCharacters.setValue(10941,10942),this.mirroringShapeCharacters.setValue(10942,10941),this.mirroringShapeCharacters.setValue(10943,10944),this.mirroringShapeCharacters.setValue(10944,10943),this.mirroringShapeCharacters.setValue(10945,10946),this.mirroringShapeCharacters.setValue(10946,10945),this.mirroringShapeCharacters.setValue(10947,10948),this.mirroringShapeCharacters.setValue(10948,10947),this.mirroringShapeCharacters.setValue(10949,10950),this.mirroringShapeCharacters.setValue(10950,10949),this.mirroringShapeCharacters.setValue(10957,10958),this.mirroringShapeCharacters.setValue(10958,10957),this.mirroringShapeCharacters.setValue(10959,10960),this.mirroringShapeCharacters.setValue(10960,10959),this.mirroringShapeCharacters.setValue(10961,10962),this.mirroringShapeCharacters.setValue(10962,10961),this.mirroringShapeCharacters.setValue(10963,10964),this.mirroringShapeCharacters.setValue(10964,10963),this.mirroringShapeCharacters.setValue(10965,10966),this.mirroringShapeCharacters.setValue(10966,10965),this.mirroringShapeCharacters.setValue(10974,8870),this.mirroringShapeCharacters.setValue(10979,8873),this.mirroringShapeCharacters.setValue(10980,8872),this.mirroringShapeCharacters.setValue(10981,8875),this.mirroringShapeCharacters.setValue(10988,10989),this.mirroringShapeCharacters.setValue(10989,10988),this.mirroringShapeCharacters.setValue(10999,11e3),this.mirroringShapeCharacters.setValue(11e3,10999),this.mirroringShapeCharacters.setValue(11001,11002),this.mirroringShapeCharacters.setValue(11002,11001),this.mirroringShapeCharacters.setValue(12296,12297),this.mirroringShapeCharacters.setValue(12297,12296),this.mirroringShapeCharacters.setValue(12298,12299),this.mirroringShapeCharacters.setValue(12299,12298),this.mirroringShapeCharacters.setValue(12300,12301),this.mirroringShapeCharacters.setValue(12301,12300),this.mirroringShapeCharacters.setValue(12302,12303),this.mirroringShapeCharacters.setValue(12303,12302),this.mirroringShapeCharacters.setValue(12304,12305),this.mirroringShapeCharacters.setValue(12305,12304),this.mirroringShapeCharacters.setValue(12308,12309),this.mirroringShapeCharacters.setValue(12309,12308),this.mirroringShapeCharacters.setValue(12310,12311),this.mirroringShapeCharacters.setValue(12311,12310),this.mirroringShapeCharacters.setValue(12312,12313),this.mirroringShapeCharacters.setValue(12313,12312),this.mirroringShapeCharacters.setValue(12314,12315),this.mirroringShapeCharacters.setValue(12315,12314),this.mirroringShapeCharacters.setValue(65288,65289),this.mirroringShapeCharacters.setValue(65289,65288),this.mirroringShapeCharacters.setValue(65308,65310),this.mirroringShapeCharacters.setValue(65310,65308),this.mirroringShapeCharacters.setValue(65339,65341),this.mirroringShapeCharacters.setValue(65341,65339),this.mirroringShapeCharacters.setValue(65371,65373),this.mirroringShapeCharacters.setValue(65373,65371),this.mirroringShapeCharacters.setValue(65375,65376),this.mirroringShapeCharacters.setValue(65376,65375),this.mirroringShapeCharacters.setValue(65378,65379),this.mirroringShapeCharacters.setValue(65379,65378)},e}(),$T=function(){function e(){this.types=[],this.textOrder=-1,this.rtlCharacterTypes=new Array(65536),this.L=0,this.LRE=1,this.LRO=2,this.R=3,this.AL=4,this.RLE=5,this.RLO=6,this.PDF=7,this.EN=8,this.ES=9,this.ET=10,this.AN=11,this.CS=12,this.NSM=13,this.BN=14,this.B=15,this.S=16,this.WS=17,this.ON=18,this.charTypes=[this.L,this.EN,this.BN,this.ES,this.ES,this.S,this.ET,this.ET,this.B,this.AN,this.AN,this.S,this.CS,this.CS,this.WS,this.NSM,this.NSM,this.B,this.BN,27,this.BN,28,30,this.B,31,31,this.S,32,32,this.WS,33,34,this.ON,35,37,this.ET,38,42,this.ON,43,43,this.ET,44,44,this.CS,45,45,this.ET,46,46,this.CS,47,47,this.CS,48,57,this.EN,58,58,this.CS,59,64,this.ON,65,90,this.L,91,96,this.ON,97,122,this.L,123,126,this.ON,127,132,this.BN,133,133,this.B,134,159,this.BN,160,160,this.CS,161,161,this.ON,162,165,this.ET,166,169,this.ON,170,170,this.L,171,175,this.ON,176,177,this.ET,178,179,this.EN,180,180,this.ON,181,181,this.L,182,184,this.ON,185,185,this.EN,186,186,this.L,187,191,this.ON,192,214,this.L,215,215,this.ON,216,246,this.L,247,247,this.ON,248,696,this.L,697,698,this.ON,699,705,this.L,706,719,this.ON,720,721,this.L,722,735,this.ON,736,740,this.L,741,749,this.ON,750,750,this.L,751,767,this.ON,768,855,this.NSM,856,860,this.L,861,879,this.NSM,880,883,this.L,884,885,this.ON,886,893,this.L,894,894,this.ON,895,899,this.L,900,901,this.ON,902,902,this.L,903,903,this.ON,904,1013,this.L,1014,1014,this.ON,1015,1154,this.L,1155,1158,this.NSM,1159,1159,this.L,1160,1161,this.NSM,1162,1417,this.L,1418,1418,this.ON,1419,1424,this.L,1425,1441,this.NSM,1442,1442,this.L,1443,1465,this.NSM,1466,1466,this.L,1467,1469,this.NSM,1470,1470,this.R,1471,1471,this.NSM,1472,1472,this.R,1473,1474,this.NSM,1475,1475,this.R,1476,1476,this.NSM,1477,1487,this.L,1488,1514,this.R,1515,1519,this.L,1520,1524,this.R,1525,1535,this.L,1536,1539,this.AL,1540,1547,this.L,1548,1548,this.CS,1549,1549,this.AL,1550,1551,this.ON,1552,1557,this.NSM,1558,1562,this.L,1563,1563,this.AL,1564,1566,this.L,1567,1567,this.AL,1568,1568,this.L,1569,1594,this.AL,1595,1599,this.L,1600,1610,this.AL,1611,1624,this.NSM,1625,1631,this.L,1632,1641,this.AN,1642,1642,this.ET,1643,1644,this.AN,1645,1647,this.AL,1648,1648,this.NSM,1649,1749,this.AL,1750,1756,this.NSM,1757,1757,this.AL,1758,1764,this.NSM,1765,1766,this.AL,1767,1768,this.NSM,1769,1769,this.ON,1770,1773,this.NSM,1774,1775,this.AL,1776,1785,this.EN,1786,1805,this.AL,1806,1806,this.L,1807,1807,this.BN,1808,1808,this.AL,1809,1809,this.NSM,1810,1839,this.AL,1840,1866,this.NSM,1867,1868,this.L,1869,1871,this.AL,1872,1919,this.L,1920,1957,this.AL,1958,1968,this.NSM,1969,1969,this.AL,1970,2304,this.L,2305,2306,this.NSM,2307,2363,this.L,2364,2364,this.NSM,2365,2368,this.L,2369,2376,this.NSM,2377,2380,this.L,2381,2381,this.NSM,2382,2384,this.L,2385,2388,this.NSM,2389,2401,this.L,2402,2403,this.NSM,2404,2432,this.L,2433,2433,this.NSM,2434,2491,this.L,2492,2492,this.NSM,2493,2496,this.L,2497,2500,this.NSM,2501,2508,this.L,2509,2509,this.NSM,2510,2529,this.L,2530,2531,this.NSM,2532,2545,this.L,2546,2547,this.ET,2548,2560,this.L,2561,2562,this.NSM,2563,2619,this.L,2620,2620,this.NSM,2621,2624,this.L,2625,2626,this.NSM,2627,2630,this.L,2631,2632,this.NSM,2633,2634,this.L,2635,2637,this.NSM,2638,2671,this.L,2672,2673,this.NSM,2674,2688,this.L,2689,2690,this.NSM,2691,2747,this.L,2748,2748,this.NSM,2749,2752,this.L,2753,2757,this.NSM,2758,2758,this.L,2759,2760,this.NSM,2761,2764,this.L,2765,2765,this.NSM,2766,2785,this.L,2786,2787,this.NSM,2788,2800,this.L,2801,2801,this.ET,2802,2816,this.L,2817,2817,this.NSM,2818,2875,this.L,2876,2876,this.NSM,2877,2878,this.L,2879,2879,this.NSM,2880,2880,this.L,2881,2883,this.NSM,2884,2892,this.L,2893,2893,this.NSM,2894,2901,this.L,2902,2902,this.NSM,2903,2945,this.L,2946,2946,this.NSM,2947,3007,this.L,3008,3008,this.NSM,3009,3020,this.L,3021,3021,this.NSM,3022,3058,this.L,3059,3064,this.ON,3065,3065,this.ET,3066,3066,this.ON,3067,3133,this.L,3134,3136,this.NSM,3137,3141,this.L,3142,3144,this.NSM,3145,3145,this.L,3146,3149,this.NSM,3150,3156,this.L,3157,3158,this.NSM,3159,3259,this.L,3260,3260,this.NSM,3261,3275,this.L,3276,3277,this.NSM,3278,3392,this.L,3393,3395,this.NSM,3396,3404,this.L,3405,3405,this.NSM,3406,3529,this.L,3530,3530,this.NSM,3531,3537,this.L,3538,3540,this.NSM,3541,3541,this.L,3542,3542,this.NSM,3543,3632,this.L,3633,3633,this.NSM,3634,3635,this.L,3636,3642,this.NSM,3643,3646,this.L,3647,3647,this.ET,3648,3654,this.L,3655,3662,this.NSM,3663,3760,this.L,3761,3761,this.NSM,3762,3763,this.L,3764,3769,this.NSM,3770,3770,this.L,3771,3772,this.NSM,3773,3783,this.L,3784,3789,this.NSM,3790,3863,this.L,3864,3865,this.NSM,3866,3892,this.L,3893,3893,this.NSM,3894,3894,this.L,3895,3895,this.NSM,3896,3896,this.L,3897,3897,this.NSM,3898,3901,this.ON,3902,3952,this.L,3953,3966,this.NSM,3967,3967,this.L,3968,3972,this.NSM,3973,3973,this.L,3974,3975,this.NSM,3976,3983,this.L,3984,3991,this.NSM,3992,3992,this.L,3993,4028,this.NSM,4029,4037,this.L,4038,4038,this.NSM,4039,4140,this.L,4141,4144,this.NSM,4145,4145,this.L,4146,4146,this.NSM,4147,4149,this.L,4150,4151,this.NSM,4152,4152,this.L,4153,4153,this.NSM,4154,4183,this.L,4184,4185,this.NSM,4186,5759,this.L,5760,5760,this.WS,5761,5786,this.L,5787,5788,this.ON,5789,5905,this.L,5906,5908,this.NSM,5909,5937,this.L,5938,5940,this.NSM,5941,5969,this.L,5970,5971,this.NSM,5972,6001,this.L,6002,6003,this.NSM,6004,6070,this.L,6071,6077,this.NSM,6078,6085,this.L,6086,6086,this.NSM,6087,6088,this.L,6089,6099,this.NSM,6100,6106,this.L,6107,6107,this.ET,6108,6108,this.L,6109,6109,this.NSM,6110,6127,this.L,6128,6137,this.ON,6138,6143,this.L,6144,6154,this.ON,6155,6157,this.NSM,6158,6158,this.WS,6159,6312,this.L,6313,6313,this.NSM,6314,6431,this.L,6432,6434,this.NSM,6435,6438,this.L,6439,6443,this.NSM,6444,6449,this.L,6450,6450,this.NSM,6451,6456,this.L,6457,6459,this.NSM,6460,6463,this.L,6464,6464,this.ON,6465,6467,this.L,6468,6469,this.ON,6470,6623,this.L,6624,6655,this.ON,6656,8124,this.L,8125,8125,this.ON,8126,8126,this.L,8127,8129,this.ON,8130,8140,this.L,8141,8143,this.ON,8144,8156,this.L,8157,8159,this.ON,8160,8172,this.L,8173,8175,this.ON,8176,8188,this.L,8189,8190,this.ON,8191,8191,this.L,8192,8202,this.WS,8203,8205,this.BN,8206,8206,this.L,8207,8207,this.R,8208,8231,this.ON,8232,8232,this.WS,8233,8233,this.B,8234,8234,this.LRE,8235,8235,this.RLE,8236,8236,this.PDF,8237,8237,this.LRO,8238,8238,this.RLO,8239,8239,this.WS,8240,8244,this.ET,8245,8276,this.ON,8277,8278,this.L,8279,8279,this.ON,8280,8286,this.L,8287,8287,this.WS,8288,8291,this.BN,8292,8297,this.L,8298,8303,this.BN,8304,8304,this.EN,8305,8307,this.L,8308,8313,this.EN,8314,8315,this.ET,8316,8318,this.ON,8319,8319,this.L,8320,8329,this.EN,8330,8331,this.ET,8332,8334,this.ON,8335,8351,this.L,8352,8369,this.ET,8370,8399,this.L,8400,8426,this.NSM,8427,8447,this.L,8448,8449,this.ON,8450,8450,this.L,8451,8454,this.ON,8455,8455,this.L,8456,8457,this.ON,8458,8467,this.L,8468,8468,this.ON,8469,8469,this.L,8470,8472,this.ON,8473,8477,this.L,8478,8483,this.ON,8484,8484,this.L,8485,8485,this.ON,8486,8486,this.L,8487,8487,this.ON,8488,8488,this.L,8489,8489,this.ON,8490,8493,this.L,8494,8494,this.ET,8495,8497,this.L,8498,8498,this.ON,8499,8505,this.L,8506,8507,this.ON,8508,8511,this.L,8512,8516,this.ON,8517,8521,this.L,8522,8523,this.ON,8524,8530,this.L,8531,8543,this.ON,8544,8591,this.L,8592,8721,this.ON,8722,8723,this.ET,8724,9013,this.ON,9014,9082,this.L,9083,9108,this.ON,9109,9109,this.L,9110,9168,this.ON,9169,9215,this.L,9216,9254,this.ON,9255,9279,this.L,9280,9290,this.ON,9291,9311,this.L,9312,9371,this.EN,9372,9449,this.L,9450,9450,this.EN,9451,9751,this.ON,9752,9752,this.L,9753,9853,this.ON,9854,9855,this.L,9856,9873,this.ON,9874,9887,this.L,9888,9889,this.ON,9890,9984,this.L,9985,9988,this.ON,9989,9989,this.L,9990,9993,this.ON,9994,9995,this.L,9996,10023,this.ON,10024,10024,this.L,10025,10059,this.ON,10060,10060,this.L,10061,10061,this.ON,10062,10062,this.L,10063,10066,this.ON,10067,10069,this.L,10070,10070,this.ON,10071,10071,this.L,10072,10078,this.ON,10079,10080,this.L,10081,10132,this.ON,10133,10135,this.L,10136,10159,this.ON,10160,10160,this.L,10161,10174,this.ON,10175,10191,this.L,10192,10219,this.ON,10220,10223,this.L,10224,11021,this.ON,11022,11903,this.L,11904,11929,this.ON,11930,11930,this.L,11931,12019,this.ON,12020,12031,this.L,12032,12245,this.ON,12246,12271,this.L,12272,12283,this.ON,12284,12287,this.L,12288,12288,this.WS,12289,12292,this.ON,12293,12295,this.L,12296,12320,this.ON,12321,12329,this.L,12330,12335,this.NSM,12336,12336,this.ON,12337,12341,this.L,12342,12343,this.ON,12344,12348,this.L,12349,12351,this.ON,12352,12440,this.L,12441,12442,this.NSM,12443,12444,this.ON,12445,12447,this.L,12448,12448,this.ON,12449,12538,this.L,12539,12539,this.ON,12540,12828,this.L,12829,12830,this.ON,12831,12879,this.L,12880,12895,this.ON,12896,12923,this.L,12924,12925,this.ON,12926,12976,this.L,12977,12991,this.ON,12992,13003,this.L,13004,13007,this.ON,13008,13174,this.L,13175,13178,this.ON,13179,13277,this.L,13278,13279,this.ON,13280,13310,this.L,13311,13311,this.ON,13312,19903,this.L,19904,19967,this.ON,19968,42127,this.L,42128,42182,this.ON,42183,64284,this.L,64285,64285,this.R,64286,64286,this.NSM,64287,64296,this.R,64297,64297,this.ET,64298,64310,this.R,64311,64311,this.L,64312,64316,this.R,64317,64317,this.L,64318,64318,this.R,64319,64319,this.L,64320,64321,this.R,64322,64322,this.L,64323,64324,this.R,64325,64325,this.L,64326,64335,this.R,64336,64433,this.AL,64434,64466,this.L,64467,64829,this.AL,64830,64831,this.ON,64832,64847,this.L,64848,64911,this.AL,64912,64913,this.L,64914,64967,this.AL,64968,65007,this.L,65008,65020,this.AL,65021,65021,this.ON,65022,65023,this.L,65024,65039,this.NSM,65040,65055,this.L,65056,65059,this.NSM,65060,65071,this.L,65072,65103,this.ON,65104,65104,this.CS,65105,65105,this.ON,65106,65106,this.CS,65107,65107,this.L,65108,65108,this.ON,65109,65109,this.CS,65110,65118,this.ON,65119,65119,this.ET,65120,65121,this.ON,65122,65123,this.ET,65124,65126,this.ON,65127,65127,this.L,65128,65128,this.ON,65129,65130,this.ET,65131,65131,this.ON,65132,65135,this.L,65136,65140,this.AL,65141,65141,this.L,65142,65276,this.AL,65277,65278,this.L,65279,65279,this.BN,65280,65280,this.L,65281,65282,this.ON,65283,65285,this.ET,65286,65290,this.ON,65291,65291,this.ET,65292,65292,this.CS,65293,65293,this.ET,65294,65294,this.CS,65295,65295,this.ES,65296,65305,this.EN,65306,65306,this.CS,65307,65312,this.ON,65313,65338,this.L,65339,65344,this.ON,65345,65370,this.L,65371,65381,this.ON,65382,65503,this.L,65504,65505,this.ET,65506,65508,this.ON,65509,65510,this.ET,65511,65511,this.L,65512,65518,this.ON,65519,65528,this.L,65529,65531,this.BN,65532,65533,this.ON,65534,65535,this.L];for(var e=0;e<this.charTypes.length;++e)for(var t=this.charTypes[e],i=this.charTypes[++e],n=this.charTypes[++e];t<=i;)this.rtlCharacterTypes[t++]=n}return e.prototype.getVisualOrder=function(e,t){this.types=this.getCharacterCode(e),this.textOrder=t?this.LRE:this.L,this.doVisualOrder();for(var i=[],n=0;n<this.levels.length;n++)i[n]=this.levels[n];return i},e.prototype.getCharacterCode=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=this.rtlCharacterTypes[e[i].charCodeAt(0)];return t},e.prototype.setDefaultLevels=function(){for(var e=0;e<this.length;e++)this.levels[e]=this.textOrder},e.prototype.setLevels=function(){this.setDefaultLevels();for(var e=0;e<this.length;++e){var t=this.levels[e];0!==(128&t)&&(t&=127,this.result[e]=0===(1&t)?this.L:this.R),this.levels[e]=t}},e.prototype.updateLevels=function(e,t,i){if(0===(1&t))for(var n=e;n<i;++n)this.result[n]===this.R?this.levels[n]+=1:this.result[n]!==this.L&&(this.levels[n]+=2);else for(n=e;n<i;++n)this.result[n]!==this.R&&(this.levels[n]+=1)},e.prototype.doVisualOrder=function(){this.length=this.types.length,this.result=this.types,this.levels=[],this.setLevels(),this.length=this.getEmbeddedCharactersLength();for(var e=this.textOrder,t=0;t<this.length;){for(var i=this.levels[t],n=0===(1&Math.max(e,i))?this.L:this.R,r=t+1;r<this.length&&this.levels[r]===i;)++r;var s=r<this.length?this.levels[r]:this.textOrder,o=0===(1&Math.max(s,i))?this.L:this.R;this.checkNSM(t,r,i,n,o),this.updateLevels(t,i,r),e=i,t=r}this.checkEmbeddedCharacters(this.length)},e.prototype.getEmbeddedCharactersLength=function(){for(var e=0,t=0;t<this.length;++t)this.types[t]!==this.LRE&&this.types[t]!==this.RLE&&this.types[t]!==this.LRO&&this.types[t]!==this.RLO&&this.types[t]!==this.PDF&&this.types[t]!==this.BN&&(this.result[e]=this.result[t],this.levels[e]=this.levels[t],e++);return e},e.prototype.checkEmbeddedCharacters=function(e){for(var t=this.types.length-1;t>=0;--t)this.types[t]===this.LRE||this.types[t]===this.RLE||this.types[t]===this.LRO||this.types[t]===this.RLO||this.types[t]===this.PDF||this.types[t]===this.BN?(this.result[t]=this.types[t],this.levels[t]=-1):(e-=1,this.result[t]=this.result[e],this.levels[t]=this.levels[e]);for(t=0;t<this.types.length;t++)-1===this.levels[t]&&(this.levels[t]=0===t?this.textOrder:this.levels[t-1])},e.prototype.checkNSM=function(e,t,i,n,r){for(var s=n,o=e;o<t;++o)this.result[o]===this.NSM?this.result[o]=s:s=this.result[o];this.checkEuropeanDigits(e,t,i,n,r)},e.prototype.checkEuropeanDigits=function(e,t,i,n,r){for(var s=e;s<t;++s)if(this.result[s]===this.EN)for(var o=s-1;o>=e;--o)if(this.result[o]===this.L||this.result[o]===this.R||this.result[o]===this.AL){this.result[o]===this.AL&&(this.result[s]=this.AN);break}this.checkArabicCharacters(e,t,i,n,r)},e.prototype.checkArabicCharacters=function(e,t,i,n,r){for(var s=e;s<t;++s)this.result[s]===this.AL&&(this.result[s]=this.R);this.checkEuropeanNumberSeparator(e,t,i,n,r)},e.prototype.checkEuropeanNumberSeparator=function(e,t,i,n,r){for(var s=e+1;s<t-1;++s)if(this.result[s]===this.ES||this.result[s]===this.CS){var o=this.result[s-1],a=this.result[s+1];o===this.EN&&a===this.EN?this.result[s]=this.EN:this.result[s]===this.CS&&o===this.AN&&a===this.AN&&(this.result[s]=this.AN)}this.checkEuropeanNumberTerminator(e,t,i,n,r)},e.prototype.checkEuropeanNumberTerminator=function(e,t,i,n,r){for(var s=e;s<t;++s)if(this.result[s]===this.ET){var o=s,a=[];a.push(this.ET);var l=this.getLength(o,t,a),h=o===e?n:this.result[o-1];if(h!==this.EN&&(h=l===t?r:this.result[l]),h===this.EN)for(var c=o;c<l;++c)this.result[c]=this.EN;s=l}this.checkOtherNeutrals(e,t,i,n,r)},e.prototype.checkOtherNeutrals=function(e,t,i,n,r){for(var s=e;s<t;++s)this.result[s]!==this.ES&&this.result[s]!==this.ET&&this.result[s]!==this.CS||(this.result[s]=this.ON);this.checkOtherCharacters(e,t,i,n,r)},e.prototype.checkOtherCharacters=function(e,t,i,n,r){for(var s=e;s<t;++s)if(this.result[s]===this.EN){for(var o=n,a=s-1;a>=e;--a)if(this.result[a]===this.L||this.result[a]===this.R){o=this.result[a];break}o===this.L&&(this.result[s]=this.L)}this.checkCommanCharacters(e,t,i,n,r)},e.prototype.getLength=function(e,t,i){for(--e;++e<t;){for(var n=this.result[e],r=0;r<i.length;++r)n===i[r]&&(e=this.getLength(++e,t,i));return e}return t},e.prototype.checkCommanCharacters=function(e,t,i,n,r){for(var s=e;s<t;++s)if(this.result[s]===this.WS||this.result[s]===this.ON||this.result[s]===this.B||this.result[s]===this.S){var o=s,a=[this.B,this.S,this.WS,this.ON],l=this.getLength(o,t,a),h=0,c=0,u=0;o===e?h=n:((h=this.result[o-1])===this.AN||h===this.EN)&&(h=this.R),l===t?c=r:((c=this.result[l])===this.AN||c===this.EN)&&(c=this.R),u=h===c?h:0===(1&i)?this.L:this.R;for(var p=o;p<l;++p)this.result[p]=u;s=l}},e}(),eA=function(){function e(){this.openBracket="(",this.closeBracket=")"}return e.prototype.layout=function(e,t,i,n,r){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");var s=[];return t.Unicode?s=this.customLayout(e,i,r,t,n):(s=[])[0]=e,s},e.prototype.splitLayout=function(e,t,i,n,r){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");return this.customSplitLayout(e,t,i,n,r)},e.prototype.getGlyphIndex=function(e,t,i,n,r){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");if(n=null,0===e.length)return{success:!1,glyphs:n};var s=(new XT).shape(e,0),o=t.fontInternal.ttfReader;n=new Uint16Array(s.length);for(var a=0,l=0,h=s.length;l<h;l++){var c=s[l],u=o.getGlyph(c);null!==u&&"undefined"!==typeof u&&(n[a++]=u.index)}return{success:!0,glyphs:n}},e.prototype.customLayout=function(e,t,i,n,r){if(null===r||"undefined"===typeof r){if(null==e)throw new Error("ArgumentNullException : line");var s=null;if(null!==i&&"undefined"!==typeof i&&i.textDirection!==PD.None)s=(new ZT).getLogicalToVisualString(e,t);return s}if(null==e)throw new Error("ArgumentNullException : line");if(null==n)throw new Error("ArgumentNullException : font");var o=null;if(null!==i&&"undefined"!==typeof i&&i.textDirection!==PD.None){var a=(new XT).shape(e,0);o=this.customLayout(a,t,i)}s=[];if(r){for(var l=o.split(""),h=l.length,c=0;c<h;c++)l[c]=this.addChars(n,l[c]);s=l}else(s=[])[0]=this.addChars(n,o);return s},e.prototype.addChars=function(e,t){var i=t;if(null==e)throw new Error("ArgumentNullException : font");if(null==i)throw new Error("ArgumentNullException : line");var n=i,r=e.fontInternal.ttfReader;e.setSymbols(n),n=r.convertString(n);var s=tD.toUnicodeArray(n,!1);return n=tD.byteToString(s)},e.prototype.customSplitLayout=function(e,t,i,n,r){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");return this.customLayout(e,i,r).split("")},e}();!function(e){e[e.Paginate=0]="Paginate",e[e.OnePage=1]="OnePage"}(uT||(uT={})),function(e){e[e.FitPage=0]="FitPage",e[e.FitElement=1]="FitElement",e[e.FitColumnsToPage=2]="FitColumnsToPage"}(pT||(pT={})),function(e){e[e.Start=0]="Start",e[e.Line=1]="Line",e[e.Bezier3=3]="Bezier3",e[e.Bezier=3]="Bezier",e[e.PathTypeMask=7]="PathTypeMask",e[e.DashMode=16]="DashMode",e[e.PathMarker=32]="PathMarker",e[e.CloseSubpath=128]="CloseSubpath"}(dT||(dT={}));var tA,iA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),nA=function(e){function t(t){var i=e.call(this)||this;return i.mbackground=new tT(255,255,255),i.mbStroking=!1,i.mfunction=null,i.dictionaryProperties=new Bx,i.mpatternDictionary=new Vx,i.mpatternDictionary.items.setValue(i.dictionaryProperties.type,new Rx(i.dictionaryProperties.pattern)),i.mpatternDictionary.items.setValue(i.dictionaryProperties.patternType,new Gx(2)),i.shading=t,i.colorSpace=kD.Rgb,i}return iA(t,e),Object.defineProperty(t.prototype,"background",{get:function(){return this.mbackground},set:function(e){this.mbackground=e;var t=this.shading;e.isEmpty?t.remove(this.dictionaryProperties.background):t.items.setValue(this.dictionaryProperties.background,e.toArray(this.colorSpace))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"antiAlias",{get:function(){return this.shading.items.getValue(this.dictionaryProperties.antiAlias).value},set:function(e){var t=this.shading,i=t.items.getValue(this.dictionaryProperties.antiAlias);null==i&&"undefined"===typeof i?(i=new lD(e),t.items.setValue(this.dictionaryProperties.antiAlias,i)):i.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"function",{get:function(){return this.mfunction},set:function(e){this.mfunction=e,null!=e&&"undefined"!==typeof e?this.shading.items.setValue(this.dictionaryProperties.function,new nD(this.mfunction)):this.shading.remove(this.dictionaryProperties.function)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bBox",{get:function(){return this.shading.items.getValue(this.dictionaryProperties.bBox)},set:function(e){var t=this.shading;null==e&&"undefined"===typeof e?t.remove(this.dictionaryProperties.bBox):t.items.setValue(this.dictionaryProperties.bBox,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorSpace",{get:function(){return this.mcolorSpace},set:function(e){var t=this.shading.items.getValue(this.dictionaryProperties.colorSpace);if(e!==this.mcolorSpace||null==t){this.mcolorSpace=e;var i=this.colorSpaceToDeviceName(e);this.shading.items.setValue(this.dictionaryProperties.colorSpace,new Rx(i))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroking",{get:function(){return this.mbStroking},set:function(e){this.mbStroking=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patternDictionary",{get:function(){return null==this.mpatternDictionary&&(this.mpatternDictionary=new Vx),this.mpatternDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shading",{get:function(){return this.mshading},set:function(e){if(null==e)throw new Error("ArgumentNullException : Shading");e!==this.mshading&&(this.mshading=e,this.patternDictionary.items.setValue(this.dictionaryProperties.shading,new nD(this.mshading)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matrix",{get:function(){return this.mmatrix},set:function(e){if(null==e)throw new Error("ArgumentNullException : Matrix");if(e!==this.mmatrix){this.mmatrix=e.clone();var t=new Kx(this.mmatrix.matrix.elements);this.mpatternDictionary.items.setValue(this.dictionaryProperties.matrix,t)}},enumerable:!0,configurable:!0}),t.prototype.monitorChanges=function(e,i,n,r,s){var o=!1;if(e instanceof t){this.colorSpace!==s&&(this.colorSpace=s,this.resetFunction()),i.setColorSpace("Pattern",this.mbStroking);var a=n.getResources().getName(this);i.setColourWithPattern(null,a,this.mbStroking),o=!0}return o},t.prototype.resetChanges=function(e){},t.prototype.colorSpaceToDeviceName=function(e){var t;if(e===kD.Rgb)t="DeviceRGB";return t},t.prototype.resetPatternDictionary=function(e){this.mpatternDictionary=e},t.prototype.cloneAntiAliasingValue=function(e){if(null==e)throw new Error("ArgumentNullException : brush");var t=this.shading.items.getValue(this.dictionaryProperties.antiAlias);null!=t&&e.shading.items.setValue(this.dictionaryProperties.antiAlias,new lD(t.value))},t.prototype.cloneBackgroundValue=function(e){var t=this.background;t.isEmpty||(e.background=t)},Object.defineProperty(t.prototype,"element",{get:function(){return this.patternDictionary},enumerable:!0,configurable:!0}),t}(iT),rA=function(){function e(e,t){if(this.dictionaryProperties=new Bx,this.writeTransformation=!0,"undefined"===typeof e);else if(e instanceof SD&&"undefined"===typeof t){this.content=new Jx;var i=new SD(e.width,e.height);this.setSize(i),this.initialize()}else this.content=new Jx,this.setSize(new SD(e,t)),this.initialize()}return Object.defineProperty(e.prototype,"size",{get:function(){return this.templateSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){if(null==this.pdfGraphics||"undefined"===typeof this.pdfGraphics){var e=new yA(this),t=new mA(this.size,e,this.content);this.pdfGraphics=t,this.pdfGraphics.initializeCoordinates()}return this.pdfGraphics},enumerable:!0,configurable:!0}),e.prototype.getResources=function(){return null==this.resources&&(this.resources=new pA,this.content.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources},e.prototype.initialize=function(){this.addType(),this.addSubType()},e.prototype.addType=function(){var e=new Rx(this.dictionaryProperties.xObject);this.content.items.setValue(this.dictionaryProperties.type,e)},e.prototype.addSubType=function(){var e=new Rx(this.dictionaryProperties.form);this.content.items.setValue(this.dictionaryProperties.subtype,e)},e.prototype.reset=function(e){"undefined"===typeof e?(null!=this.resources&&(this.resources=null,this.content.remove(this.dictionaryProperties.resources)),null!=this.graphics&&this.graphics.reset(this.size)):(this.setSize(e),this.reset())},e.prototype.setSize=function(e){var t=new wD(new MD(0,0),e),i=Kx.fromRectangle(t);this.content.items.setValue(this.dictionaryProperties.bBox,i),this.templateSize=e},Object.defineProperty(e.prototype,"element",{get:function(){return this.content},enumerable:!0,configurable:!0}),e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Bmp=1]="Bmp",e[e.Emf=2]="Emf",e[e.Gif=3]="Gif",e[e.Jpeg=4]="Jpeg",e[e.Png=5]="Png",e[e.Wmf=6]="Wmf",e[e.Icon=7]="Icon"}(tA||(tA={}));var sA,oA=function(){function e(e){this.sof1Marker=193,this.sof2Marker=194,this.sof3Marker=195,this.sof5Marker=197,this.sof6Marker=198,this.sof7Marker=199,this.sof9Marker=201,this.sof10Marker=202,this.sof11Marker=203,this.sof13Marker=205,this.sof14Marker=206,this.sof15Marker=207,this.mFormat=tA.Unknown,this.mbitsPerComponent=8,this.dictionaryProperties=new Bx,this.mStream=e,this.initialize()}return Object.defineProperty(e.prototype,"height",{get:function(){return this.mHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.mWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bitsPerComponent",{get:function(){return this.mbitsPerComponent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.mImageData.count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageData",{get:function(){return this.mImageData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDataAsNumberArray",{get:function(){return this.mImageData.internalBuffer.buffer},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){if(this.mFormat!==tA.Unknown||!this.checkIfJpeg())throw new TypeError("Only the JPEG format is supported");this.mFormat=tA.Jpeg,this.parseJpegImage(),this.reset(),this.mImageData=new NT(this.mStream.count),this.mStream.read(this.mImageData,0,this.mImageData.count)},e.prototype.reset=function(){this.mStream.position=0},e.prototype.parseJpegImage=function(){this.reset();var e=new NT(this.mStream.count);this.mStream.read(e,0,e.count);for(var t=4,i=!1,n=256*e.getBuffer(t)+e.getBuffer(t+1);t<e.count;){if(!((t+=n)<e.count)){i=!0;break}if(192===e.getBuffer(t+1))return this.mHeight=256*e.getBuffer(t+5)+e.getBuffer(t+6),void(this.mWidth=256*e.getBuffer(t+7)+e.getBuffer(t+8));t+=2,n=256*e.getBuffer(t)+e.getBuffer(t+1)}i&&(this.mStream.position=0,this.skip(this.mStream,2),this.readExceededJPGImage(this.mStream))},Object.defineProperty(e.prototype,"format",{get:function(){return this.mFormat},enumerable:!0,configurable:!0}),e.prototype.checkIfJpeg=function(){this.reset();for(var t=0;t<e.mJpegHeader.length;t++){if(e.mJpegHeader[t]!==this.mStream.readByte(t))return!1;this.mStream.position++}return!0},e.prototype.getImageDictionary=function(){if(this.mFormat===tA.Jpeg){this.imageData.internalBuffer.length;this.imageStream=new Jx,this.imageStream.isResource=!0;for(var e="",t="",i=0;i<this.imageDataAsNumberArray.byteLength;i++)e+=String.fromCharCode(null,this.mStream.readByte(i));for(i=0;i<e.length;i++)i%2!==0&&(t+=e[i]);return this.imageStream.data=[t],this.imageStream.compress=!1,this.imageStream.items.setValue(this.dictionaryProperties.type,new Rx(this.dictionaryProperties.xObject)),this.imageStream.items.setValue(this.dictionaryProperties.subtype,new Rx(this.dictionaryProperties.image)),this.imageStream.items.setValue(this.dictionaryProperties.width,new Gx(this.width)),this.imageStream.items.setValue(this.dictionaryProperties.height,new Gx(this.height)),this.imageStream.items.setValue(this.dictionaryProperties.bitsPerComponent,new Gx(this.bitsPerComponent)),this.imageStream.items.setValue(this.dictionaryProperties.filter,new Rx(this.dictionaryProperties.dctdecode)),this.imageStream.items.setValue(this.dictionaryProperties.colorSpace,new Rx(this.getColorSpace())),this.imageStream.items.setValue(this.dictionaryProperties.decodeParms,this.getDecodeParams()),this.imageStream}return this.imageStream},e.prototype.getColorSpace=function(){return this.dictionaryProperties.deviceRgb},e.prototype.getDecodeParams=function(){var e=new Vx;return e.items.setValue(this.dictionaryProperties.columns,new Gx(this.width)),e.items.setValue(this.dictionaryProperties.blackIs1,new lD(!0)),e.items.setValue(this.dictionaryProperties.k,new Gx(-1)),e.items.setValue(this.dictionaryProperties.predictor,new Gx(15)),e.items.setValue(this.dictionaryProperties.bitsPerComponent,new Gx(this.bitsPerComponent)),e},e.prototype.readExceededJPGImage=function(e){this.mStream=e;for(var t=!0;t;){switch(this.getMarker(e)){case this.sof1Marker:case this.sof2Marker:case this.sof3Marker:case this.sof5Marker:case this.sof6Marker:case this.sof7Marker:case this.sof9Marker:case this.sof10Marker:case this.sof11Marker:case this.sof13Marker:case this.sof14Marker:case this.sof15Marker:e.position+=3,this.mHeight=this.mStream.readNextTwoBytes(e),this.mWidth=this.mStream.readNextTwoBytes(e),t=!1;break;default:this.skipStream(e)}}},e.prototype.skip=function(e,t){this.mStream=e;var i=new NT(t);this.mStream.read(i,0,i.count)},e.prototype.getMarker=function(e){var t=32;for(t=e.readByte(this.mStream.position),e.position++;255!==t;)t=e.readByte(this.mStream.position),e.position++;do{t=e.readByte(this.mStream.position),e.position++}while(255===t);return t},e.prototype.skipStream=function(e){var t=this.mStream.readNextTwoBytes(e)-2;t>0&&(e.position+=t)},e.mPngHeader=[137,80,78,71,13,10,26,10],e.mJpegHeader=[255,216],e.GIF_HEADER="G,I,F,8",e.BMP_HEADER="B,M",e}(),aA=function(){function e(e){this.updateProportionsHelper(e)}return e.prototype.convertUnits=function(e,t,i){return this.convertFromPixels(this.convertToPixels(e,t),i)},e.prototype.convertToPixels=function(e,t){var i=t;return e*this.proportions[i]},e.prototype.convertFromPixels=function(e,t){var i=t;return e/this.proportions[i]},e.prototype.updateProportionsHelper=function(e){this.proportions=[e/2.54,e/6,1,e/72,e,e/300,e/25.4]},e.horizontalResolution=96,e.verticalResolution=96,e}(),lA=function(){function e(){}return Object.defineProperty(e.prototype,"width",{get:function(){return this.imageWidth},set:function(e){this.imageWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.imageHeight},set:function(e){this.imageHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{set:function(e){this.width=e.width,this.height=e.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"physicalDimension",{get:function(){return this.imagePhysicalDimension=this.getPointSize(this.width,this.height,this.horizontalResolution,this.verticalResolution),new SD(this.width,this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.imageStream},enumerable:!0,configurable:!0}),e.prototype.getPointSize=function(e,t,i,n){if("undefined"===typeof i){var r=aA.horizontalResolution,s=aA.verticalResolution;return this.getPointSize(e,t,r,s)}var o=new aA(i),a=new aA(n),l=o.convertUnits(e,LD.Pixel,LD.Point),h=a.convertUnits(t,LD.Pixel,LD.Point);return new SD(l,h)},e}(),hA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),cA=function(e){function t(t){var i=e.call(this)||this;return i.imageStatus=!0,i.dictionaryProperties=new Bx,i.loadImage(t),i}return hA(t,e),t.prototype.loadImage=function(e){this.initializeAsync(e)},t.prototype.initializeAsync=function(e){var t=new NT(e.length);t.writeFromBase64String(e),this.decoder=new oA(t),this.height=this.decoder.height,this.width=this.decoder.width,this.bitsPerComponent=this.decoder.bitsPerComponent},t.prototype.save=function(){this.imageStatus=!0,this.imageStream=this.decoder.getImageDictionary()},t}(lA),uA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),pA=function(e){function t(t){var i=e.call(this,t)||this;return i.properties=new Vx,i}return uA(t,e),Object.defineProperty(t.prototype,"names",{get:function(){return this.getNames()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this.pdfDocument},set:function(e){this.pdfDocument=e},enumerable:!0,configurable:!0}),t.prototype.getName=function(e){var t=e.element,i=null;if(this.names.containsKey(t)&&(i=this.names.getValue(t)),null==i){var n=this.generateName();i=new Rx(n),this.names.setValue(t,i),(e instanceof fT||e instanceof rA||e instanceof nA||e instanceof gA||e instanceof bT||e instanceof lA||e instanceof cA)&&this.add(e,i)}return i},t.prototype.getNames=function(){null==this.pdfNames&&(this.pdfNames=new vT);var e=this.items.getValue(this.dictionaryProperties.font);if(null!=e){vD.dereference(e)}return this.pdfNames},t.prototype.requireProcedureSet=function(e){if(null==e)throw new Error("ArgumentNullException:procedureSetName");var t=this.items.getValue(this.dictionaryProperties.procset);null==t&&(t=new Kx,this.items.setValue(this.dictionaryProperties.procset,t));var i=new Rx(e);t.contains(i)||t.add(i)},t.prototype.removeFont=function(e){for(var t=null,i=this.pdfNames.keys(),n=0;n<this.pdfNames.size();n++)if(this.pdfNames.getValue(i[n])===new Rx(e)){t=i[n];break}null!=t&&this.pdfNames.remove(t)},t.prototype.generateName=function(){return dA.getNewGuidString()},t.prototype.add=function(e,t){if(e instanceof fT){var i=null,n=this.items.getValue(this.dictionaryProperties.font);if(null!=n){var r=n;i=n,i=n}else i=new Vx,this.items.setValue(this.dictionaryProperties.font,i);i.items.setValue(t.value,new nD(e.element))}else if(e instanceof rA){var s=void 0;null==(s=this.items.getValue(this.dictionaryProperties.xObject))&&(s=new Vx,this.items.setValue(this.dictionaryProperties.xObject,s)),s.items.setValue(t.value,new nD(e.element))}else if(e instanceof iT){if(e instanceof nA||e instanceof gA)if(null!=(a=e.element)){var o=this.items.getValue(this.dictionaryProperties.pattern);null==o&&(o=new Vx,this.items.setValue(this.dictionaryProperties.pattern,o)),o.items.setValue(t.value,new nD(a))}}else if(e instanceof bT){var a=e.element,l=null;null==(l=this.items.getValue(this.dictionaryProperties.extGState))&&(l=new Vx,this.items.setValue(this.dictionaryProperties.extGState,l)),l.items.setValue(t.value,new nD(a))}else{s=this.Dictionary.items.getValue(this.dictionaryProperties.xObject);var h=void 0;"undefined"!==typeof this.pdfDocument&&(h=this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject));this.Dictionary.items.values();var c=!1,u=void 0;if("undefined"===typeof this.pdfDocument||void 0!==typeof h&&null!=h){if("undefined"!==typeof this.pdfDocument)for(var p=h.items.values(),d=0;d<p.length;d++)"undefined"!==typeof p[d]&&"undefined"!==typeof p[d].element&&p[d].element.data[0]===e.element.data[0]&&(u=p[d],c=!0)}else h=new Vx,this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject,h);if(null==s&&(s=new Vx,this.Dictionary.items.setValue(this.dictionaryProperties.xObject,s)),c&&"undefined"!==typeof u)s.items.setValue(t.value,u);else{r=new nD(e.element);s.items.setValue(t.value,r),"undefined"!==typeof this.pdfDocument&&h.items.setValue(t.value,r)}}},t}(Vx),dA=function(){function e(){}return e.getNewGuidString=function(){return"aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa".replace(/[ab]/g,(function(e){var t=16*Math.random()|0;return("a"===e?t:3&t|8).toString(16)}))},e}(),fA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),gA=function(e){function t(t,i){var n=e.call(this)||this;n.mStroking=!1,n.mLocation=new MD(0,0),n.mDictionaryProperties=new Bx;var r=null;return t instanceof _D?r=t:t instanceof SD&&(r=new _D(0,0,t.width,t.height)),null!==i&&i instanceof xA&&(n.mPage=i),n.brushStream=new Jx,n.mResources=new pA,n.brushStream.items.setValue(n.mDictionaryProperties.resources,n.mResources),n.setBox(r),n.setObligatoryFields(),null!==i&&i instanceof xA&&(n.mPage=i,n.graphics.colorSpace=i.document.colorSpace),n}return fA(t,e),t.prototype.initialize=function(e,t,i,n){this.mPage=t,this.mLocation=i,this.mTransformationMatrix=n,this.tempBrushStream=this.brushStream,this.brushStream=new Jx;var r=new pA;return this.brushStream.items.setValue(this.mDictionaryProperties.resources,r),this.setBox(e),this.setObligatoryFields(),this},Object.defineProperty(t.prototype,"location",{get:function(){return this.mLocation},set:function(e){this.mLocation=e},enumerable:!0,configurable:!0}),t.prototype.setObligatoryFields=function(){if(this.brushStream.items.setValue(this.mDictionaryProperties.patternType,new Gx(1)),this.brushStream.items.setValue(this.mDictionaryProperties.paintType,new Gx(1)),this.brushStream.items.setValue(this.mDictionaryProperties.tilingType,new Gx(1)),this.brushStream.items.setValue(this.mDictionaryProperties.xStep,new Gx(this.mBox.right-this.mBox.left)),this.brushStream.items.setValue(this.mDictionaryProperties.yStep,new Gx(this.mBox.bottom-this.mBox.top)),null!=this.mPage&&null!=this.mLocation)if(null==this.mTransformationMatrix&&"undefined"===typeof this.mTransformationMatrix){var e=this.mPage.size.height%this.rectangle.size.height-this.mLocation.y;this.brushStream.items.setValue(this.mDictionaryProperties.matrix,new Kx([1,0,0,1,this.mLocation.x,e]))}else{e=0;var t=this.mTransformationMatrix.matrix.elements;e=this.mPage.size.height>this.rectangle.size.height?this.mTransformationMatrix.matrix.offsetY-this.mPage.size.height%this.rectangle.size.height:this.mPage.size.height%this.rectangle.size.height+this.mTransformationMatrix.matrix.offsetY,this.brushStream.items.setValue(this.mDictionaryProperties.matrix,new Kx([t[0],t[1],t[2],t[3],t[4],e]))}},t.prototype.setBox=function(e){this.mBox=e;var t=new wD(this.mBox.left,this.mBox.top,this.mBox.right,this.mBox.bottom);this.brushStream.items.setValue(this.mDictionaryProperties.bBox,Kx.fromRectangle(t))},Object.defineProperty(t.prototype,"rectangle",{get:function(){return this.mBox},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.mBox.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"graphics",{get:function(){if(null==this.mGraphics&&"undefined"===typeof this.mGraphics){var e=new yA(this),t=new mA(this.size,e,this.brushStream);this.mGraphics=t,this.mResources=this.getResources(),this.mGraphics.initializeCoordinates()}return this.mGraphics},enumerable:!0,configurable:!0}),t.prototype.getResources=function(){return this.mResources},Object.defineProperty(t.prototype,"stroking",{get:function(){return this.mStroking},set:function(e){this.mStroking=e},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=this.initialize(this.rectangle,this.mPage,this.location,this.mTransformationMatrix);return null!=this.mTransformationMatrix&&null!=this.mTransformationMatrix.matrix&&e.brushStream.items.setValue(this.mDictionaryProperties.matrix,new Kx(this.mTransformationMatrix.matrix.elements)),e.brushStream.data=this.tempBrushStream.data,e.mResources=new pA(this.mResources),e.brushStream.items.setValue(this.mDictionaryProperties.resources,e.mResources),e},t.prototype.monitorChanges=function(e,i,n,r,s){var o=!1;if(e!==this){i.setColorSpace("Pattern",this.mStroking);var a=n.getResources().getName(this);i.setColourWithPattern(null,a,this.mStroking),o=!0}else if(e instanceof t){i.setColorSpace("Pattern",this.mStroking);var l=n.getResources().getName(this);i.setColourWithPattern(null,l,this.mStroking),o=!0}return o},t.prototype.resetChanges=function(e){},Object.defineProperty(t.prototype,"element",{get:function(){return this.brushStream},enumerable:!0,configurable:!0}),t}(iT),mA=function(){function e(e,t,i){this.currentColorSpace=kD.Rgb,this.previousTextRenderingMode=DD.Fill,this.previousCharacterSpacing=0,this.previousWordSpacing=0,this.previousTextScaling=100,this.procedureSets=new yT,this.isNormalRender=!0,this.isUseFontSize=!1,this.isItalic=!1,this.isEmfTextScaled=!1,this.isEmf=!1,this.isEmfPlus=!1,this.isBaselineFormat=!0,this.emfScalingFactor=new SD(0,0),this.colorSpaceChanged=!1,this.dictionaryProperties=new Bx,this.isOverloadWithPosition=!1,this.isPointOverload=!1,this.currentColorSpaces=["RGB","CMYK","GrayScale","Indexed"],this.isImageOptimized=!1,this.graphicsState=[],this.istransparencySet=!1,this.internalAutomaticFields=null,this.startCutIndex=-1,this.getResources=t,this.canvasSize=e,this.pdfStreamWriter=i instanceof eT?i:new eT(i),this.initialize()}return Object.defineProperty(e.prototype,"stringLayoutResult",{get:function(){return this.pdfStringLayoutResult},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.canvasSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaBoxUpperRightBound",{get:function(){return"undefined"===typeof this.internalMediaBoxUpperRightBound&&(this.internalMediaBoxUpperRightBound=0),this.internalMediaBoxUpperRightBound},set:function(e){this.internalMediaBoxUpperRightBound=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientSize",{get:function(){return new SD(this.clipBounds.width,this.clipBounds.height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.currentColorSpace},set:function(e){this.currentColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"streamWriter",{get:function(){return this.pdfStreamWriter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return null==this.transformationMatrix&&(this.transformationMatrix=new gT),this.transformationMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return this.pageLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this.pageLayer.page},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"automaticFields",{get:function(){return null!=this.internalAutomaticFields&&"undefined"!==typeof this.internalAutomaticFields||(this.internalAutomaticFields=new MT),this.internalAutomaticFields},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.bStateSaved=!1,this.currentPen=null,this.currentBrush=null,this.currentFont=null,this.currentColorSpace=kD.Rgb,this.bCSInitialized=!1,this.transformationMatrix=null,this.previousTextRenderingMode=-1,this.previousCharacterSpacing=-1,this.previousWordSpacing=-1,this.previousTextScaling=-100,this.currentStringFormat=null,this.clipBounds=new wD(new MD(0,0),this.size),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)},e.prototype.drawPdfTemplate=function(e,t,i){if("undefined"===typeof i){if(null==e)throw Error("ArgumentNullException-template");this.drawPdfTemplate(e,t,e.size)}else{if(null==e)throw Error("ArgumentNullException-template");var n=e.width>0?i.width/e.width:1,r=e.height>0?i.height/e.height:1,s=!(1===n&&1===r),o=this.save(),a=new gT;null!=this.pageLayer&&this.getTranslateTransform(t.x,t.y+i.height,a),s&&this.getScaleTransform(n,r,a),this.pdfStreamWriter.modifyCtm(a);var l=this.getResources.getResources().getName(e);this.pdfStreamWriter.executeObject(l),this.restore(o);var h=e.graphics;if(null!=h)for(var c=0;c<h.automaticFields.automaticFields.length;c++){var u=h.automaticFields.automaticFields[c],p=new MD(u.location.x+t.x,u.location.y+t.y),d=0==e.size.width?0:i.width/e.size.width,f=0==e.size.height?0:i.height/e.size.height;this.automaticFields.add(new IT(u.field,p,d,f)),this.page.dictionary.modify()}this.getResources.getResources().requireProcedureSet(this.procedureSets.imageB),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageC),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageI),this.getResources.getResources().requireProcedureSet(this.procedureSets.text)}},e.prototype.drawString=function(e,t,i,n,r,s,o,a,l){if("string"===typeof e&&t instanceof fT&&(i instanceof sT||null===i)&&(n instanceof iT||null===n)&&"number"===typeof r&&"number"===typeof s&&(o instanceof oT||null===o)&&"undefined"===typeof a)this.isOverloadWithPosition=!0,this.drawString(e,t,i,n,r,s,this.clientSize.width-r,0,o);else{var h=i,c=n,u=r,p=s,d=o,f=a,g=l,m=(new lT).layout(e,t,g,new SD(d,f),this.isOverloadWithPosition,this.clientSize);if(!m.empty){var y=this.checkCorrectLayoutRectangle(m.actualSize,u,p,g);d<=0&&(u=y.x,d=y.width),f<=0&&(p=y.y,f=y.height),this.drawStringLayoutResult(m,t,h,c,new wD(u,p,d,f),g),this.isEmfTextScaled=!1,this.emfScalingFactor=new SD(0,0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),this.isNormalRender=!0,this.pdfStringLayoutResult=m,this.isUseFontSize=!1}},e.prototype.drawLine=function(e,t,i,n,r){if(t instanceof MD){var s=t,o=i;this.drawLine(e,s.x,s.y,o.x,o.y)}else{s=t,o=i;var a=n,l=r;this.stateControl(e,null,null);var h=this.streamWriter;h.beginPath(s,o),h.appendLineSegment(a,l),h.strokePath(),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)}},e.prototype.drawRectangle=function(e,t,i,n,r,s){if(e instanceof sT&&"number"===typeof t){var o=i;this.drawRectangle(e,null,t,o,n,r)}else if(e instanceof iT&&"number"===typeof t){o=i;this.drawRectangle(null,e,t,o,n,r)}else{o=i;var a=n,l=r,h=s;if(t instanceof gA){this.bCSInitialized=!1;var c=this.matrix.matrix.offsetX+o,u=void 0;u=null!=this.layer&&null!=this.layer.page?this.layer.page.size.height-this.matrix.matrix.offsetY+a:this.clientSize.height-this.matrix.matrix.offsetY+a,t.location=new MD(c,u),t.graphics.colorSpace=this.colorSpace}else t instanceof nA&&(t.colorSpace=this.colorSpace);t instanceof rT&&t.color.isEmpty&&(t=null);var p=e,d=t;this.stateControl(p,d,null),this.streamWriter.appendRectangle(o,a,l,h),this.drawPathHelper(p,d,!1)}},e.prototype.drawPathHelper=function(e,t,i,n){if("boolean"===typeof i){var r=i;this.drawPathHelper(e,t,ED.Winding,r)}else{var s=null!=e,o=null!=t,a=(r=i)===ED.Alternate;s&&o?this.streamWriter.fillStrokePath(a):s||o?s?this.streamWriter.strokePath():this.streamWriter.fillPath(a):this.streamWriter.endPath()}},e.prototype.drawImage=function(e,t,i,n,r){if("number"===typeof t&&"number"===typeof i&&"undefined"===typeof n){var s=e.physicalDimension;this.drawImage(e,t,i,s.width,s.height)}else{var o=t,a=i,l=r;e.save();var h=new gT;this.getTranslateTransform(o,a+l,h),this.getScaleTransform(n,r,h),this.pdfStreamWriter.write("q"),this.pdfStreamWriter.modifyCtm(h);var c=this.getResources.getResources();"undefined"!==typeof this.pageLayer&&null!=this.page&&(c.document=this.page.document);var u=c.getName(e);"undefined"!==typeof this.pageLayer&&this.page.setResources(c),this.pdfStreamWriter.executeObject(u),this.pdfStreamWriter.write(Fx.restoreState),this.pdfStreamWriter.write(Fx.newLine);var p=this.getResources.getResources();p.requireProcedureSet(this.procedureSets.imageB),p.requireProcedureSet(this.procedureSets.imageC),p.requireProcedureSet(this.procedureSets.imageI),p.requireProcedureSet(this.procedureSets.text)}},e.prototype.getLineBounds=function(e,t,i,n,r){var s;if(!t.empty&&e<t.lineCount&&e>=0){var o=t.lines[e],a=this.getTextVerticalAlignShift(t.actualSize.height,n.height,r)+n.y+t.lineHeight*e,l=o.width,h=this.getHorizontalAlignShift(l,n.width,r),c=this.getLineIndent(o,r,n,0===e);h+=this.rightToLeft(r)?0:c;var u=n.x+h,p=this.shouldJustify(o,n.width,r)?n.width-c:l-c,d=t.lineHeight;s=new wD(u,a,p,d)}else s=new wD(0,0,0,0);return s},e.prototype.checkCorrectLayoutRectangle=function(e,t,i,n){var r=new wD(t,i,e.width,e.width);if(null!=n){switch(n.alignment){case xD.Center:r.x-=r.width/2;break;case xD.Right:r.x-=r.width}switch(n.lineAlignment){case CD.Middle:r.y-=r.height/2;break;case CD.Bottom:r.y-=r.height}}return r},e.prototype.setLayer=function(e){this.pageLayer=e;var t=e.page;null!=t&&"undefined"!==typeof t&&(t.beginSave=this.pageSave)},e.prototype.pageSave=function(e){if(null!=e.graphics.automaticFields)for(var t=0;t<e.graphics.automaticFields.automaticFields.length;t++){var i=e.graphics.automaticFields.automaticFields[t];i.field.performDraw(e.graphics,i.location,i.scalingX,i.scalingY)}},e.prototype.drawStringLayoutResult=function(e,t,i,n,r,s){if(e.empty)throw new Error("ArgumentNullException:result");this.applyStringSettings(t,i,n,s,r);var o=null!=s?s.horizontalScalingFactor:100;o===this.previousTextScaling||this.isEmfTextScaled||(this.pdfStreamWriter.setTextScaling(o),this.previousTextScaling=o);var a,l=null==s||0===s.lineSpacing?t.height:s.lineSpacing+t.height;a=null!=s&&s.subSuperScript===UD.SubScript?l-(t.height+t.metrics.getDescent(s)):l-t.metrics.getAscent(s),this.shift=a,this.pdfStreamWriter.startNextLine(r.x,r.y-a),this.pdfStreamWriter.setLeading(+l);for(var h=0,c="",u=0;u<e.lines.length;u++)if(h+=e.lineHeight,r.y+h>this.clientSize.height){this.startCutIndex=u;break}for(var p=this.startCutIndex;p<e.lines.length&&p>=0;p++)c+=e.lines[p].text;var d=new wD(r.x,r.y,r.width,r.height);this.drawLayoutResult(e,t,s,r),this.underlineStrikeoutText(i,n,e,t,d,s),this.isEmfPlus=!1,this.isUseFontSize=!1,-1!==this.startCutIndex&&this.getNextPage().graphics.drawString(c,t,i,n,r.x,0,r.width,0,s)},e.prototype.getNextPage=function(){var e=this.currentPage.section,t=e.indexOf(this.currentPage);return t===e.count-1?e.add():e.getPages()[t+1]},e.prototype.setClip=function(e,t){"undefined"===typeof t?this.setClip(e,ED.Winding):(this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.clipPath(t===ED.Alternate))},e.prototype.applyStringSettings=function(e,t,i,n,r){i instanceof gA?(this.bCSInitialized=!1,i.graphics.colorSpace=this.colorSpace):i instanceof nA&&(this.bCSInitialized=!1,i.colorSpace=this.colorSpace);var s=this.getTextRenderingMode(t,i,n);this.stateControl(t,i,e,n),this.pdfStreamWriter.beginText(),s!==this.previousTextRenderingMode&&(this.pdfStreamWriter.setTextRenderingMode(s),this.previousTextRenderingMode=s);var o=null!=n?n.characterSpacing:0;o===this.previousCharacterSpacing||this.isEmfTextScaled||(this.pdfStreamWriter.setCharacterSpacing(o),this.previousCharacterSpacing=o);var a=null!=n?n.wordSpacing:0;a!==this.previousWordSpacing&&(this.pdfStreamWriter.setWordSpacing(a),this.previousWordSpacing=a)},e.prototype.getTextVerticalAlignShift=function(e,t,i){var n=0;if(t>=0&&null!=i&&i.lineAlignment!==CD.Top)switch(i.lineAlignment){case CD.Middle:n=(t-e)/2;break;case CD.Bottom:n=t-e}return n},e.prototype.drawLayoutResult=function(e,t,i,n){var r=this.getTextVerticalAlignShift(e.actualSize.height,n.height,i);0!==r&&this.pdfStreamWriter.startNextLine(0,r);for(var s=t,o=null!=s&&s.isUnicode,a=(null!=s&&s.isEmbedFont,e.lines),l=0,h=a.length;l<h&&l!==this.startCutIndex;l++){var c=a[l],u=(c.text,c.width),p=this.getHorizontalAlignShift(u,n.width,i),d=this.getLineIndent(c,i,n,0===l);0===(p+=this.rightToLeft(i)?0:d)||this.isEmfTextScaled||this.pdfStreamWriter.startNextLine(p,0),o?this.drawUnicodeLine(c,n,t,i):this.drawAsciiLine(c,n,t,i),0===p||this.isEmfTextScaled||this.pdfStreamWriter.startNextLine(-p,0),this.isOverloadWithPosition&&a.length>1&&(this.pdfStreamWriter.startNextLine(-n.x,0),n.x=0,n.width=this.clientSize.width,this.isOverloadWithPosition=!1,this.isPointOverload=!0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),0!==r&&this.pdfStreamWriter.startNextLine(0,-(r-e.lineHeight)),this.pdfStreamWriter.endText()},e.prototype.drawAsciiLine=function(e,t,i,n){this.justifyLine(e,t.width,n);var r="";if(-1!==e.text.indexOf("(")||-1!==e.text.indexOf(")"))for(var s=0;s<e.text.length;s++)"("===e.text[s]?r+="\\(":")"===e.text[s]?r+="\\)":r+=e.text[s];""===r&&(r=e.text);var o="("+r+")";this.pdfStreamWriter.showNextLineText(new tD(o))},e.prototype.drawUnicodeLine=function(e,t,i,n){var r=e.text,s=(e.width,null!==n&&"undefined"!==typeof n&&n.rightToLeft),o=null!==n&&"undefined"!==typeof n&&(0!==n.wordSpacing||n.alignment===xD.Justify),a=i,l=this.justifyLine(e,t.width,n),h=new eA;if(s||null!==n&&"undefined"!==typeof n&&n.textDirection!==PD.None){var c=null,u=null!==n&&"undefined"!==typeof n&&n.alignment===xD.Right,p=null;p=(c=null!==n&&"undefined"!==typeof n&&n.textDirection!==PD.None?h.layout(r,a,n.textDirection===PD.RightToLeft,o,n):h.layout(r,a,u,o,n)).length>1?null!==n&&"undefined"!==typeof n&&n.textDirection!==PD.None?h.splitLayout(r,a,n.textDirection===PD.RightToLeft,o,n):h.splitLayout(r,a,u,o,n):[r],this.drawUnicodeBlocks(c,p,a,n,l)}else if(o){var d=this.breakUnicodeLine(r,a,null);c=d.tokens,p=d.words;this.drawUnicodeBlocks(c,p,a,n,l)}else{var f=this.convertToUnicode(r,a),g=this.getUnicodeString(f);this.streamWriter.showNextLineText(g)}},e.prototype.drawUnicodeBlocks=function(e,t,i,n,r){if(null==e)throw new Error("Argument Null Exception : blocks");if(null==t)throw new Error("Argument Null Exception : words");if(null==i)throw new Error("Argument Null Exception : font");this.streamWriter.startNextLine();var s=0,o=0,a=0,l=0;try{null!==n&&"undefined"!==typeof n&&(a=n.firstLineIndent,l=n.paragraphIndent,n.firstLineIndent=0,n.paragraphIndent=0);var h=i.getCharWidth(aT.whiteSpace,n)+r,c=null!=n?n.characterSpacing:0;h+=c+(null!==n&&"undefined"!==typeof n&&0===r?n.wordSpacing:0);for(var u=0;u<e.length;u++){var p=e[u],d=t[u],f=0;if(0!==s&&this.streamWriter.startNextLine(s,0),d.length>0){f+=i.measureString(d,n).width,f+=c;var g=this.getUnicodeString(p);this.streamWriter.showText(g)}u!==e.length-1&&(o+=s=f+h)}o>0&&this.streamWriter.startNextLine(-o,0)}finally{null!==n&&"undefined"!==typeof n&&(n.firstLineIndent=a,n.paragraphIndent=l)}},e.prototype.breakUnicodeLine=function(e,t,i){if(null===e)throw new Error("Argument Null Exception : line");i=e.split(null);for(var n=[],r=0;r<i.length;r++){var s=i[r],o=this.convertToUnicode(s,t);n[r]=o}return{tokens:n,words:i}},e.prototype.getUnicodeString=function(e){if(null===e)throw new Error("Argument Null Exception : token");var t=new tD(e);return t.converted=!0,t.encode=Ex.ForceEncoding.Ascii,t},e.prototype.convertToUnicode=function(e,t){var i=null;if(null==e)throw new Error("Argument Null Exception : text");if(null==t)throw new Error("Argument Null Exception : ttfFont");if(t.fontInternal instanceof KT){var n=t.fontInternal.ttfReader;t.setSymbols(e),i=n.convertString(e);var r=tD.toUnicodeArray(i,!1);i=tD.byteToString(r)}return i},e.prototype.justifyLine=function(e,t,i){var n=e.text,r=e.width,s=this.shouldJustify(e,t,i),o=null!=i&&0!==i.wordSpacing,a=aT.spaces,l=aT.getCharsCount(n,a),h=0;s?(o&&(r-=l*i.wordSpacing),h=(t-r)/l,this.pdfStreamWriter.setWordSpacing(h)):o?this.pdfStreamWriter.setWordSpacing(i.wordSpacing):this.pdfStreamWriter.setWordSpacing(0);return h},e.prototype.reset=function(e){this.canvasSize=e,this.streamWriter.clear(),this.initialize(),this.initializeCoordinates()},e.prototype.shouldJustify=function(e,t,i){var n=e.text,r=e.width,s=null!=i&&i.alignment===xD.Justify,o=t>=0&&r<t,a=aT.spaces,l=aT.getCharsCount(n,a)>0&&n[0]!==aT.whiteSpace,h=(e.lineType&$D.LayoutBreak)>0;return s&&o&&l&&(h||i.alignment===xD.Justify)},e.prototype.underlineStrikeoutText=function(e,t,i,n,r,s){if(n.underline||n.strikeout){var o=this.createUnderlineStikeoutPen(e,t,n,s);if(null!=o){var a=this.getTextVerticalAlignShift(i.actualSize.height,r.height,s),l=0;l=r.y+a+n.metrics.getAscent(s)+1.5*o.width;for(var h=r.y+a+n.metrics.getHeight(s)/2+1.5*o.width,c=i.lines,u=0,p=i.lineCount;u<p;u++){var d=c[u],f=(d.text,d.width),g=this.getHorizontalAlignShift(f,r.width,s),m=this.getLineIndent(d,s,r,0===u);g+=this.rightToLeft(s)?0:m;var y=r.x+g,v=this.shouldJustify(d,r.width,s)?y+r.width-m:y+f-m;if(n.underline){var b=l;this.drawLine(o,y,b,v,b),l+=i.lineHeight}if(n.strikeout){b=h;this.drawLine(o,y,b,v,b),h+=i.lineHeight}this.isPointOverload&&c.length>1&&(r.x=0,r.width=this.clientSize.width)}this.isPointOverload=!1}}},e.prototype.createUnderlineStikeoutPen=function(e,t,i,n){var r=i.metrics.getSize(n)/20,s=null;return null!=e?s=new sT(e.color,r):null!=t&&(s=new sT(t,r)),s},e.prototype.getTextRenderingMode=function(e,t,i){var n=DD.None;return n=null!=e&&null!=t?DD.FillStroke:null!=e?DD.Stroke:DD.Fill,null!=i&&i.clipPath&&(n|=DD.ClipFlag),n},e.prototype.getLineIndent=function(e,t,i,n){var r=0,s=(e.lineType&$D.FirstParagraphLine)>0;return null!=t&&s&&(r=n?t.firstLineIndent:t.paragraphIndent,r=i.width>0?Math.min(i.width,r):r),r},e.prototype.getHorizontalAlignShift=function(e,t,i){var n=0;if(t>=0&&null!=i&&i.alignment!==xD.Left)switch(i.alignment){case xD.Center:n=(t-e)/2;break;case xD.Right:n=t-e}return n},e.prototype.rightToLeft=function(e){var t=null!==e&&"undefined"!==typeof e&&e.rightToLeft;return null!==e&&"undefined"!==typeof e&&e.textDirection!==PD.None&&"undefined"!==typeof e.textDirection&&(t=!0),t},e.prototype.stateControl=function(e,t,i,n){if("undefined"===typeof n)this.stateControl(e,t,i,null);else{t instanceof nA&&(this.bCSInitialized=!1,t.colorSpace=this.colorSpace),t instanceof gA&&(this.bCSInitialized=!1,t.graphics.colorSpace=this.colorSpace);var r=!1;if(null!==t){"undefined"!==typeof this.pageLayer&&null!=this.pageLayer&&!1===this.colorSpaceChanged&&(this.lastDocumentCS=this.pageLayer.page.document.colorSpace,this.lastGraphicsCS=this.pageLayer.page.graphics.colorSpace,this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace,this.colorSpaceChanged=!0),this.initCurrentColorSpace(this.currentColorSpace)}else if(null!=e){"undefined"!==typeof this.pageLayer&&null!=this.pageLayer&&(this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace),this.initCurrentColorSpace(this.currentColorSpace)}this.penControl(e,r),this.brushControl(t,r),this.fontControl(i,n,r)}},e.prototype.initCurrentColorSpace=function(e){this.getResources.getResources();this.bCSInitialized||(this.currentColorSpace!=kD.GrayScale?(this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!0),this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!1),this.bCSInitialized=!0):(this.pdfStreamWriter.setColorSpace("DeviceGray",!0),this.pdfStreamWriter.setColorSpace("DeviceGray",!1),this.bCSInitialized=!0))},e.prototype.penControl=function(e,t){null!=e&&(this.currentPen=e,e.monitorChanges(this.currentPen,this.pdfStreamWriter,this.getResources,t,this.colorSpace,this.matrix.clone()),this.currentPen=e.clone())},e.prototype.brushControl=function(e,t){if(null!=e&&"undefined"!==typeof e){var i=e.clone(),n=i;if(null!==n&&"undefined"!==typeof n&&!(e instanceof rT)&&!(e instanceof gA)){var r=n.matrix,s=this.matrix.clone();null!=r&&(r.multiply(s),s=r),n.matrix=s}this.currentBrush=n;i.monitorChanges(this.currentBrush,this.pdfStreamWriter,this.getResources,t,this.colorSpace),this.currentBrush=e,e=null}},e.prototype.fontControl=function(e,t,i){if(null!=e){var n=null!=t?t.subSuperScript:UD.None,r=null!=this.currentStringFormat?this.currentStringFormat.subSuperScript:UD.None;if(i||e!==this.currentFont||n!==r){var s=this.getResources.getResources();this.currentFont=e,this.currentStringFormat=t;var o=e.metrics.getSize(t);this.isEmfTextScaled=!1;var a=s.getName(e);this.pdfStreamWriter.setFont(e,a,o)}}},e.prototype.setTransparency=function(e,t,i){if("undefined"===typeof t)this.istransparencySet=!0,this.setTransparency(e,e,zD.Normal);else if("number"===typeof t&&"undefined"===typeof i)this.setTransparency(e,t,zD.Normal);else{null==this.trasparencies&&(this.trasparencies=new vT);var n=null,r=new bA(e,t,i);this.trasparencies.containsKey(r)&&(n=this.trasparencies.getValue(r)),null==n&&(n=new bT(e,t,i),this.trasparencies.setValue(r,n));var s=this.getResources.getResources().getName(n);this.streamWriter.setGraphicsState(s)}},e.prototype.clipTranslateMargins=function(e,t,i,n,r,s){if(e instanceof wD&&"undefined"===typeof t)this.clipBounds=e,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(e.x,e.y);else if("number"===typeof e){var o=new wD(i,n,this.size.width-i-r,this.size.height-n-s);this.clipBounds=o,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(o),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(e,t)}},e.prototype.updateY=function(e){return-e},e.prototype.translateTransform=function(e,t){var i=new gT;this.getTranslateTransform(e,t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)},e.prototype.getTranslateTransform=function(e,t,i){return i.translate(e,this.updateY(t)),i},e.prototype.scaleTransform=function(e,t){var i=new gT;this.getScaleTransform(e,t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)},e.prototype.getScaleTransform=function(e,t,i){return null==i&&(i=new gT),i.scale(e,t),i},e.prototype.rotateTransform=function(e){var t=new gT;this.getRotateTransform(e,t),this.pdfStreamWriter.modifyCtm(t),this.matrix.multiply(t)},e.prototype.initializeCoordinates=function(){this.pdfStreamWriter.writeComment("Change co-ordinate system to left/top."),this.mediaBoxUpperRightBound!==-this.size.height&&null==this.cropBox&&(this.mediaBoxUpperRightBound===this.size.height||0===this.mediaBoxUpperRightBound?this.translateTransform(0,this.updateY(this.size.height)):this.translateTransform(0,this.updateY(this.mediaBoxUpperRightBound)))},e.prototype.getRotateTransform=function(e,t){return null!=t&&"undefined"!==typeof t||(t=new gT),t.rotate(this.updateY(e)),t},e.prototype.save=function(){var e=new vA(this,this.matrix.clone());return e.brush=this.currentBrush,e.pen=this.currentPen,e.font=this.currentFont,e.colorSpace=this.currentColorSpace,e.characterSpacing=this.previousCharacterSpacing,e.wordSpacing=this.previousWordSpacing,e.textScaling=this.previousTextScaling,e.textRenderingMode=this.previousTextRenderingMode,this.graphicsState.push(e),this.pdfStreamWriter.saveGraphicsState(),e},e.prototype.restore=function(e){if("undefined"===typeof e)this.graphicsState.length>0&&this.doRestoreState();else if(-1!==this.graphicsState.indexOf(e))for(;0!==this.graphicsState.length;){if(this.doRestoreState()===e)break}},e.prototype.doRestoreState=function(){var e=this.graphicsState.pop();return this.transformationMatrix=e.matrix,this.currentBrush=e.brush,this.currentPen=e.pen,this.currentFont=e.font,this.currentColorSpace=e.colorSpace,this.previousCharacterSpacing=e.characterSpacing,this.previousWordSpacing=e.wordSpacing,this.previousTextScaling=e.textScaling,this.previousTextRenderingMode=e.textRenderingMode,this.pdfStreamWriter.restoreGraphicsState(),e},e.prototype.drawPath=function(e,t,i){t instanceof gA?(this.bCSInitialized=!1,t.graphics.colorSpace=this.colorSpace):t instanceof nA&&(this.bCSInitialized=!1,t.colorSpace=this.colorSpace),this.stateControl(e,t,null),this.buildUpPath(i.pathPoints,i.pathTypes),this.drawPathHelper(e,t,i.fillMode,!1)},e.prototype.drawArc=function(e,t,i,n,r,s,o){t instanceof wD?this.drawArc(e,t.x,t.y,t.width,t.height,i,n):0!==o&&(this.stateControl(e,null,null),this.constructArcPath(t,i,t+n,i+r,s,o),this.drawPathHelper(e,null,!1))},e.prototype.buildUpPath=function(t,i){for(var n=t.length,r=0;r<n;++r){var s,o=t[r];switch(i[r]&e.pathTypesValuesMask){case dT.Start:this.pdfStreamWriter.beginPath(o.x,o.y);break;case dT.Bezier3:var a=new MD(0,0),l=new MD(0,0),h=this.getBezierPoints(t,i,r,a,l);this.pdfStreamWriter.appendBezierSegment(o,h.p2,h.p3),r=h.i;break;case dT.Line:this.pdfStreamWriter.appendLineSegment(o);break;default:throw new Error("ArithmeticException - Incorrect path formation.")}s=i[r],this.checkFlags(s)}},e.prototype.getBezierPoints=function(t,i,n,r,s){if((i[++n]&e.pathTypesValuesMask)!==dT.Bezier3)throw new Error("ArgumentException : errorMsg");if(r=t[n],(i[++n]&e.pathTypesValuesMask)!==dT.Bezier3)throw new Error("ArgumentException : errorMsg");return{i:n,p2:r,p3:t[n]}},e.prototype.checkFlags=function(e){(e&dT.CloseSubpath)===dT.CloseSubpath&&this.pdfStreamWriter.closePath()},e.prototype.constructArcPath=function(e,t,i,n,r,s){var o=this.getBezierArc(e,t,i,n,r,s);if(0!==o.length){var a=[o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7]];this.pdfStreamWriter.beginPath(a[0],a[1]);var l=0;for(l=0;l<o.length;l+=8)a=[o[l],o[l+1],o[l+2],o[l+3],o[l+4],o[l+5],o[l+6],o[l+7]],this.pdfStreamWriter.appendBezierSegment(a[2],a[3],a[4],a[5],a[6],a[7])}},e.prototype.getBezierArc=function(e,t,i,n,r,s){if(e>i){var o=void 0;o=e,e=i,i=o}if(n>t){o=void 0;o=t,t=n,n=o}var a,l;Math.abs(s)<=90?(a=s,l=1):a=s/(l=Math.ceil(Math.abs(s)/90));for(var h=(e+i)/2,c=(t+n)/2,u=(i-e)/2,p=(n-t)/2,d=a*(Math.PI/360),f=Math.abs(4/3*(1-Math.cos(d))/Math.sin(d)),g=[],m=0;m<l;m++){var y=(r+m*a)*(Math.PI/180),v=(r+(m+1)*a)*(Math.PI/180),b=Math.cos(y),M=Math.cos(v),S=Math.sin(y),w=Math.sin(v);a>0?g.push(h+u*b,c-p*S,h+u*(b-f*S),c-p*(S+f*b),h+u*(M+f*w),c-p*(w-f*M),h+u*M,c-p*w):g.push(h+u*b,c-p*S,h+u*(b+f*S),c-p*(S-f*b),h+u*(M-f*w),c-p*(w+f*M),h+u*M,c-p*w)}return g},e.pathTypesValuesMask=15,e.transparencyObject=!1,e}(),yA=function(){function e(e){this.sender=e}return e.prototype.getResources=function(){return this.sender.getResources()},e}(),vA=function(){function e(e,t){this.internalTextRenderingMode=DD.Fill,this.internalCharacterSpacing=0,this.internalWordSpacing=0,this.internalTextScaling=100,this.pdfColorSpace=kD.Rgb,"undefined"!==typeof e&&(this.pdfGraphics=e,this.transformationMatrix=t)}return Object.defineProperty(e.prototype,"graphics",{get:function(){return this.pdfGraphics},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return this.transformationMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"characterSpacing",{get:function(){return this.internalCharacterSpacing},set:function(e){this.internalCharacterSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordSpacing",{get:function(){return this.internalWordSpacing},set:function(e){this.internalWordSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textScaling",{get:function(){return this.internalTextScaling},set:function(e){this.internalTextScaling=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pen",{get:function(){return this.pdfPen},set:function(e){this.pdfPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brush",{get:function(){return this.pdfBrush},set:function(e){this.pdfBrush=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.pdfFont},set:function(e){this.pdfFont=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.pdfColorSpace},set:function(e){this.pdfColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textRenderingMode",{get:function(){return this.internalTextRenderingMode},set:function(e){this.internalTextRenderingMode=e},enumerable:!0,configurable:!0}),e}(),bA=function(e,t,i){this.alphaPen=e,this.alphaBrush=t,this.blendMode=i},MA=function(){function e(e,t){if(this.pdfColorSpace=kD.Rgb,this.isVisible=!0,this.sublayer=!1,this.contentLength=0,this.dictionaryProperties=new Bx,null===e)throw new Error("ArgumentNullException:page");if(this.pdfPage=e,this.clipPageTemplates=!0,"undefined"===typeof t)this.content=new Jx;else if(t instanceof Jx||null===t){if(null===t)throw new Error("ArgumentNullException:stream");this.content=t}else this.content=new Jx,this.clipPageTemplates=t}return Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.pdfColorSpace},set:function(e){this.pdfColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layerId",{get:function(){return this.layerid},set:function(e){this.layerid=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.layerName},set:function(e){this.layerName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.isVisible},set:function(e){this.isVisible=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){return null==this.pdfGraphics&&this.initializeGraphics(this.page),this.pdfGraphics},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layers",{get:function(){return null==this.layer?(this.layer=new _A(this.page),this.layer.sublayer=!0,this.layer):this.layer},enumerable:!0,configurable:!0}),e.prototype.add=function(){var t=new e(this.pdfPage);return t.name="",t},e.prototype.sign=function(e){return 0===e?0:e>0?1:-1},e.prototype.initializeGraphics=function(e){var t=e,i=new yA(this.page);if(this.pdfGraphics=new mA(e.size,i,this.content),this.pdfGraphics.mediaBoxUpperRightBound=0,null!=t){var n=t.section.parent;null!=n&&(this.pdfGraphics.colorSpace=n.document.colorSpace,this.colorSpace=n.document.colorSpace)}var r=this.sign(e.origin.y)===this.sign(e.origin.x);(e.origin.x>=0&&e.origin.y>=0||!r)&&this.pdfGraphics.initializeCoordinates();var s=t.section.getActualBounds(t,!0),o=t.section.pageSettings.margins;this.clipPageTemplates?e.origin.x>=0&&e.origin.y>=0&&this.pdfGraphics.clipTranslateMargins(s):this.graphics.clipTranslateMargins(s.x,s.y,o.left,o.top,o.right,o.bottom),this.pdfGraphics.setLayer(this)},Object.defineProperty(e.prototype,"element",{get:function(){return this.content},enumerable:!0,configurable:!0}),e}(),SA=function(){function e(){}return Object.defineProperty(e.prototype,"count",{get:function(){return"undefined"===typeof this.collection&&(this.collection=[]),this.collection.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"list",{get:function(){return"undefined"===typeof this.collection&&(this.collection=[]),this.collection},enumerable:!0,configurable:!0}),e}(),wA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_A=function(e){function t(t){var i=e.call(this)||this;if(i.parentLayerCount=0,i.sublayer=!1,i.optionalContent=new Vx,t instanceof IA){i.page=t;var n=t;i.parseLayers(n)}return i}return wA(t,e),t.prototype.items=function(e,t){if("number"===typeof e&&"undefined"===typeof t)return this.list[e];if(null==t)throw new Error("ArgumentNullException: layer");if(t.page!==this.page)throw new Error("ArgumentException: The layer belongs to another page")},t.prototype.add=function(e,t){if("undefined"===typeof e){var i=new MA(this.page);return i.name="",this.add(i),i}if(e instanceof MA){var n=this.list.push(e);return this.addLayer(n,e),n}return 0},t.prototype.addLayer=function(e,t){var i=new nD(t);this.page.contents.add(i)},t.prototype.insert=function(e,t){for(var i=[],n=this.list.length,r=e;r<n;r++)i.push(this.list.pop());this.list.push(t);for(r=0;r<i.length;r++)this.list.push(i[r]);this.insertLayer(e,t)},t.prototype.insertLayer=function(e,t){if(null==t)throw new Error("ArgumentNullException:layer");var i=new nD(t);this.page.contents.insert(e,i)},t.prototype.parseLayers=function(e){var t=this.page.contents;this.page.getResources();e.crossTable;var i=new Jx,n=new Jx,r=[];r.push("q"),i.data=r,t.insert(0,new nD(i)),(r=[]).push("Q"),n.data=r,t.insert(t.count,new nD(n))},t.prototype.indexOf=function(e){if(null==e)throw new Error("ArgumentNullException: layer");return this.list.indexOf(e)},t}(SA),IA=function(){function e(e){this.defLayerIndex=-1,this.modified=!1,this.dictionaryProperties=new Bx,this.pageDictionary=e}return Object.defineProperty(e.prototype,"section",{get:function(){return this.pdfSection},set:function(e){this.pdfSection=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dictionary",{get:function(){return this.pageDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.pageDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultLayer",{get:function(){var e=this.layers,t=this.defaultLayerIndex;return e.items(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultLayerIndex",{get:function(){if(0===this.layerCollection.count||-1===this.defLayerIndex){var e=this.layerCollection.add();this.defLayerIndex=this.layerCollection.indexOf(e)}return this.defLayerIndex},set:function(e){if(e<0||e>this.layers.count-1)throw new Error("ArgumentOutOfRangeException : value, Index can not be less 0 and greater Layers.Count - 1");this.defLayerIndex=e,this.modified=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layers",{get:function(){return null!=this.layerCollection&&"undefined"!==typeof this.layerCollection||(this.layerCollection=new _A(this)),this.layerCollection},enumerable:!0,configurable:!0}),e.prototype.getResources=function(){return null==this.resources&&(this.resources=new pA,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources},Object.defineProperty(e.prototype,"contents",{get:function(){var e=this.pageDictionary.items.getValue(this.dictionaryProperties.contents),t=e;return null==t&&(t=new Kx,this.pageDictionary.items.setValue(this.dictionaryProperties.contents,t)),t},enumerable:!0,configurable:!0}),e.prototype.setResources=function(e){this.resources=e,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources),this.modified=!0},e}(),NA=function(){function e(e){this.alreadyExistsAnnotationError="This annotatation had been already added to page",this.missingAnnotationException="Annotation is not contained in collection.",this.dictionaryProperties=new Bx,this.internalAnnotations=new Kx,this.lists=[],"undefined"!==typeof e&&(this.page=e)}return Object.defineProperty(e.prototype,"annotations",{get:function(){return this.internalAnnotations},set:function(e){this.internalAnnotations=e},enumerable:!0,configurable:!0}),e.prototype.add=function(e){this.doAdd(e)},e.prototype.doAdd=function(e){if("undefined"===typeof e.destination)return e.setPage(this.page),this.internalAnnotations.add(new nD(e)),this.lists.push(e);var t=(new lT).layout(e.text,e.font,e.stringFormat,new SD(e.bounds.width,0),!1,new SD(0,0)),i=e.bounds.y;if(1===t.lines.length){var n=e.font.measureString(t.lines[0].text);e.bounds=new wD(new MD(e.bounds.x,i),n),e.text=t.lines[0].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,e.bounds.y,e.bounds.width,e.bounds.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new nD(e)),this.lists.push(e)}else for(var r=0;r<t.lines.length;r++){n=e.font.measureString(t.lines[r].text);if(0===r)e.bounds=new wD(e.bounds.x,i,n.width,n.height),e.text=t.lines[r].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,i,n.width,n.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new nD(e)),this.lists.push(e),i+=e.bounds.height;else{var s=e.clone();s.bounds=new wD(new MD(e.bounds.x,i),n),s.text=t.lines[r].text,this.page.graphics.drawString(s.text,s.font,null,s.brush,s.bounds.x,s.bounds.y,s.bounds.width,s.bounds.height,null),s.setPage(this.page),this.setColor(s),this.internalAnnotations.add(new nD(s)),this.lists.push(s),i+=s.bounds.height}}},e.prototype.setColor=function(e){var t=kD.Rgb,i=e.color.toArray(t);e.dictionary.items.setValue(this.dictionaryProperties.c,i)},Object.defineProperty(e.prototype,"element",{get:function(){return this.internalAnnotations},enumerable:!0,configurable:!0}),e}(),CA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),xA=function(e){function t(){var t=e.call(this,new Vx)||this;return t.annotationCollection=null,t.beginSave=null,t.initialize(),t}return CA(t,e),Object.defineProperty(t.prototype,"document",{get:function(){return null!==this.section&&null!==this.section.parent?this.section.parent.document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"graphics",{get:function(){var e=this.defaultLayer.graphics;return e.currentPage=this,e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crossTable",{get:function(){if(null===this.section)throw new Error("PdfDocumentException : Page is not created");return null===this.section.parent?this.section.parentDocument.crossTable:this.section.parent.document.crossTable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.section.pageSettings.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this.section.pageSettings.origin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"annotations",{get:function(){return null==this.annotationCollection&&(this.annotationCollection=new NA(this),this.dictionary.items.setValue(this.dictionaryProperties.annots,this.annotationCollection.element),this.annotationCollection.annotations=this.dictionary.items.getValue(this.dictionaryProperties.annots)),this.annotationCollection},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){this.dictionary.items.setValue(this.dictionaryProperties.type,new Rx("Page")),this.dictionary.pageBeginDrawTemplate=new qx(this)},t.prototype.setSection=function(e){this.section=e,this.dictionary.items.setValue(this.dictionaryProperties.parent,new nD(e))},t.prototype.resetProgress=function(){this.isProgressOn=!1},t.prototype.getClientSize=function(){var e=this.section.getActualBounds(this,!0);return new SD(e.width,e.height)},t.prototype.pageBeginSave=function(){var e=this.document;void 0!==typeof e&&null!=e&&this.drawPageTemplates(e),null!=this.beginSave&&"undefined"!==typeof this.beginSave&&this.beginSave(this)},t.prototype.drawPageTemplates=function(e){if(this.section.containsTemplates(e,this,!1)){var t=new MA(this,!1);if(this.layers.insert(0,t),this.section.drawTemplates(this,t,e,!1),null!==t.graphics&&"undefined"!==typeof t.graphics)for(var i=0;i<t.graphics.automaticFields.automaticFields.length;i++){var n=t.graphics.automaticFields.automaticFields[i];n.field.performDraw(t.graphics,n.location,n.scalingX,n.scalingY)}}if(this.section.containsTemplates(e,this,!0)){var r=new MA(this,!1);this.layers.add(r),this.section.drawTemplates(this,r,e,!0)}},t}(IA),DA=function(){function e(e){this.pdfPage="undefined"!==typeof e?e:null}return Object.defineProperty(e.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),e}(),TA=function(){function e(e){if(this.pdfSection=null,null==e)throw Error('ArgumentNullException("section")');this.section=e}return Object.defineProperty(e.prototype,"section",{get:function(){return this.pdfSection},set:function(e){this.pdfSection=e},enumerable:!0,configurable:!0}),e.prototype.contains=function(e){return this.section.contains(e)},e.prototype.remove=function(e){this.section.remove(e)},e.prototype.add=function(){return this.section.add()},e}(),AA=function(){function e(){}return Object.defineProperty(e.prototype,"left",{get:function(){return this.leftTemplate},set:function(e){this.leftTemplate=this.checkElement(e,gD.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.topTemplate},set:function(e){this.topTemplate=this.checkElement(e,gD.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.rightTemplate},set:function(e){this.rightTemplate=this.checkElement(e,gD.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.bottomTemplate},set:function(e){this.bottomTemplate=this.checkElement(e,gD.Bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EvenLeft",{get:function(){return this.evenLeft},set:function(e){this.evenLeft=this.checkElement(e,gD.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EvenTop",{get:function(){return this.evenTop},set:function(e){this.evenTop=this.checkElement(e,gD.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EvenRight",{get:function(){return this.evenRight},set:function(e){this.evenRight=this.checkElement(e,gD.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EvenBottom",{get:function(){return this.evenBottom},set:function(e){this.evenBottom=this.checkElement(e,gD.Bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OddLeft",{get:function(){return this.oddLeft},set:function(e){this.oddLeft=this.checkElement(e,gD.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OddTop",{get:function(){return this.oddTop},set:function(e){this.oddTop=this.checkElement(e,gD.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OddRight",{get:function(){return this.oddRight},set:function(e){this.oddRight=this.checkElement(e,gD.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OddBottom",{get:function(){return this.oddBottom},set:function(e){this.oddBottom=this.checkElement(e,gD.Bottom)},enumerable:!0,configurable:!0}),e.prototype.getLeft=function(e){if(null==e)throw new Error("ArgumentNullException:page");return this.isEven(e)?null!=this.EvenLeft?this.EvenLeft:this.left:null!=this.OddLeft?this.OddLeft:this.left},e.prototype.getTop=function(e){if(null==e)throw new Error("ArgumentNullException:page");return this.isEven(e)?null!=this.EvenTop?this.EvenTop:this.top:null!=this.OddTop?this.OddTop:this.top},e.prototype.getRight=function(e){if(null==e)throw new Error("ArgumentNullException:page");return this.isEven(e)?null!=this.EvenRight?this.EvenRight:this.right:null!=this.OddRight?this.OddRight:this.right},e.prototype.getBottom=function(e){if(null==e)throw new Error("ArgumentNullException:page");return this.isEven(e)?null!=this.EvenBottom?this.EvenBottom:this.bottom:null!=this.OddBottom?this.OddBottom:this.bottom},e.prototype.isEven=function(e){var t=e.section.document.pages;return(t.pageCollectionIndex.containsKey(e)?t.pageCollectionIndex.getValue(e)+1:t.indexOf(e)+1)%2===0},e.prototype.checkElement=function(e,t){if(null!=e){if("undefined"!==typeof e.type&&e.type!==gD.None)throw new Error("NotSupportedException:Can not reassign the template element. Please, create new one.");e.type=t}return e},e}(),jA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),EA=function(e){function t(){var t=e.call(this)||this;return t.leftValue=t.topValue=t.rightValue=t.bottomValue=t.stampValue=!0,t}return jA(t,e),Object.defineProperty(t.prototype,"applyDocumentLeftTemplate",{get:function(){return this.leftValue},set:function(e){this.leftValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"applyDocumentTopTemplate",{get:function(){return this.topValue},set:function(e){this.topValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"applyDocumentRightTemplate",{get:function(){return this.rightValue},set:function(e){this.rightValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"applyDocumentBottomTemplate",{get:function(){return this.bottomValue},set:function(e){this.bottomValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"applyDocumentStamps",{get:function(){return this.stampValue},set:function(e){this.stampValue=e},enumerable:!0,configurable:!0}),t}(AA),kA=function(){function e(e,t){this.pageAdded=new DA,this.pdfPages=[],this.dictionaryProperties=new Bx,this.pdfDocument=e,"undefined"===typeof t?(this.settings=e.pageSettings.clone(),this.initialSettings=this.settings.clone()):(this.settings=t.clone(),this.initialSettings=this.settings.clone()),this.initialize()}return Object.defineProperty(e.prototype,"parent",{get:function(){return this.sectionCollection},set:function(e){this.sectionCollection=e,this.section.items.setValue(this.dictionaryProperties.parent,new nD(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentDocument",{get:function(){return this.pdfDocument},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSettings",{get:function(){return this.settings},set:function(e){if(null==e)throw Error("Value can not be null.");this.settings=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.section},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.pagesReferences.count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return null==this.pageTemplate&&(this.pageTemplate=new EA),this.pageTemplate},set:function(e){this.pageTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.sectionCollection.document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pages",{get:function(){return null!=this.pagesCollection&&"undefined"!==typeof this.pagesCollection||(this.pagesCollection=new TA(this)),this.pagesCollection},enumerable:!0,configurable:!0}),e.prototype.getPages=function(){return this.pdfPages},e.prototype.pointToNativePdf=function(e,t){var i=this.getActualBounds(e,!0);return t.x+=i.x,t.y=this.pageSettings.height-t.y,t},e.prototype.setPageSettings=function(e){this.settings=e,this.state.orientation=e.orientation,this.state.rotate=e.rotate,this.state.size=e.size,this.state.origin=e.origin},e.prototype.initialize=function(){this.pagesReferences=new Kx,this.section=new Vx,this.state=new zA(this.pdfDocument),this.section.sectionBeginSave=new Qx(this,this.state),this.pageCount=new Gx(0),this.section.items.setValue(this.dictionaryProperties.count,this.pageCount),this.section.items.setValue(this.dictionaryProperties.type,new Rx(this.dictionaryProperties.pages)),this.section.items.setValue(this.dictionaryProperties.kids,this.pagesReferences)},e.prototype.containsTemplates=function(e,t,i){var n=this.getDocumentTemplates(e,t,i),r=this.getSectionTemplates(t,i);return n.length>0||r.length>0},e.prototype.getDocumentTemplates=function(e,t,i){var n=[];return this.template.applyDocumentTopTemplate&&null!=e.template.getTop(t)&&(!e.template.getTop(t).foreground&&!i||e.template.getTop(t).foreground&&i)&&n.push(e.template.getTop(t)),this.template.applyDocumentBottomTemplate&&null!=e.template.getBottom(t)&&(!e.template.getBottom(t).foreground&&!i||e.template.getBottom(t).foreground&&i)&&n.push(e.template.getBottom(t)),this.template.applyDocumentLeftTemplate&&null!=e.template.getLeft(t)&&(!e.template.getLeft(t).foreground&&!i||e.template.getLeft(t).foreground&&i)&&n.push(e.template.getLeft(t)),this.template.applyDocumentRightTemplate&&null!=e.template.getRight(t)&&(!e.template.getRight(t).foreground&&!i||e.template.getRight(t).foreground&&i)&&n.push(e.template.getRight(t)),n},e.prototype.getSectionTemplates=function(e,t){var i,n=[];null!=this.template.getTop(e)&&((!(i=this.template.getTop(e)).foreground&&!t||i.foreground&&t)&&n.push(i));null!=this.template.getBottom(e)&&((!(i=this.template.getBottom(e)).foreground&&!t||i.foreground&&t)&&n.push(i));null!=this.template.getLeft(e)&&((!(i=this.template.getLeft(e)).foreground&&!t||i.foreground&&t)&&n.push(i));null!=this.template.getRight(e)&&((!(i=this.template.getRight(e)).foreground&&!t||i.foreground&&t)&&n.push(i));return n},e.prototype.add=function(e){if("undefined"===typeof e){var t=new xA;return this.add(t),t}var i=this.checkPresence(e);this.pdfPages.push(e),this.pagesReferences.add(i),e.setSection(this),e.resetProgress(),this.pageAddedMethod(e)},e.prototype.checkPresence=function(e){for(var t=new nD(e),i=!1,n=this.parent,r=0;r<n.section.length;r++){var s=n.section[r];i=i||s.contains(e)}return t},e.prototype.contains=function(e){return 0<=this.indexOf(e)},e.prototype.indexOf=function(e){for(var t=0;t<this.pdfPages.length;t++)if(this.pdfPages[t]===e)return this.pdfPages.indexOf(e);var i=new nD(e);return this.pagesReferences.indexOf(i)},e.prototype.pageAddedMethod=function(e){var t=new DA(e);this.onPageAdded(t),this.parent.document.pages.onPageAdded(t),this.pageCount.intValue=this.count},e.prototype.onPageAdded=function(e){},e.prototype.getActualBounds=function(e,t,i){if(e instanceof xA&&"boolean"===typeof t){var n=this.parent.document;return this.getActualBounds(n,e,t)}var r=new wD(0,0,0,0);r.height=i?this.pageSettings.size.height:this.pageSettings.getActualSize().height,r.width=i?this.pageSettings.size.width:this.pageSettings.getActualSize().width;var s=this.getLeftIndentWidth(e,t,i),o=this.getTopIndentHeight(e,t,i),a=this.getRightIndentWidth(e,t,i),l=this.getBottomIndentHeight(e,t,i);return r.x+=s,r.y+=o,r.width-=s+a,r.height-=o+l,r},e.prototype.getLeftIndentWidth=function(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");var n=i?this.pageSettings.margins.left:0,r=null!=this.template.getLeft(t)?this.template.getLeft(t).width:0,s=null!=e.template.getLeft(t)?e.template.getLeft(t).width:0;return n+=this.template.applyDocumentLeftTemplate?Math.max(r,s):r},e.prototype.getTopIndentHeight=function(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");var n=i?this.pageSettings.margins.top:0,r=null!=this.template.getTop(t)?this.template.getTop(t).height:0,s=null!=e.template.getTop(t)?e.template.getTop(t).height:0;return n+=this.template.applyDocumentTopTemplate?Math.max(r,s):r},e.prototype.getRightIndentWidth=function(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");var n=i?this.pageSettings.margins.right:0,r=null!=this.template.getRight(t)?this.template.getRight(t).width:0,s=null!=e.template.getRight(t)?e.template.getRight(t).width:0;return n+=this.template.applyDocumentRightTemplate?Math.max(r,s):r},e.prototype.getBottomIndentHeight=function(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");var n=i?this.pageSettings.margins.bottom:0,r=null!=this.template.getBottom(t)?this.template.getBottom(t).height:0,s=null!=e.template.getBottom(t)?e.template.getBottom(t).height:0;return n+=this.template.applyDocumentBottomTemplate?Math.max(r,s):r},e.prototype.remove=function(e){if(null==e)throw Error('ArgumentNullException("page")');var t=this.pdfPages.indexOf(e);this.pagesReferences.removeAt(t);for(var i=[],n=0;n<t;n++)i.push(this.pdfPages[n]);for(n=t+1;n<this.pdfPages.length;n++)i.push(this.pdfPages[n]);this.pdfPages=i},e.prototype.applyPageSettings=function(e,t,i){var n=new wD(i.origin,i.size);e.items.setValue(this.dictionaryProperties.mediaBox,Kx.fromRectangle(n));var r;r=LA.rotateFactor*i.rotate;var s=new Gx(r);e.items.setValue(this.dictionaryProperties.rotate,s)},e.prototype.beginSave=function(e,t){var i=t.document;this.applyPageSettings(this.section,i.pageSettings,e)},e.prototype.drawTemplates=function(e,t,i,n){var r=this.getDocumentTemplates(i,e,n),s=this.getSectionTemplates(e,n);this.drawTemplatesHelper(t,i,r),this.drawTemplatesHelper(t,i,s)},e.prototype.drawTemplatesHelper=function(e,t,i){if(null!=i&&i.length>0)for(var n=i.length,r=0;r<n;r++){i[r].draw(e,t)}},e}(),zA=function(){function e(e){this.pageOrientation=e.pageSettings.orientation,this.pageRotate=e.pageSettings.rotate,this.pageSize=e.pageSettings.size,this.pageOrigin=e.pageSettings.origin}return Object.defineProperty(e.prototype,"orientation",{get:function(){return this.pageOrientation},set:function(e){this.pageOrientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this.pageRotate},set:function(e){this.pageRotate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.pageSize},set:function(e){this.pageSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.pageOrigin},set:function(e){this.pageOrigin=e},enumerable:!0,configurable:!0}),e}(),LA=function(){function e(e){this.sections=[],this.dictionaryProperties=new Bx,this.pdfDocument=e.clone(),this.initialize()}return Object.defineProperty(e.prototype,"section",{get:function(){return this.sections},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.pdfDocument},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.sections.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.pages},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.sectionCount=new Gx(0),this.sectionCollection=new Kx,this.pages=new Vx,this.pages.beginSave=new Ux(this),this.pages.items.setValue(this.dictionaryProperties.type,new Rx("Pages")),this.pages.items.setValue(this.dictionaryProperties.kids,this.sectionCollection),this.pages.items.setValue(this.dictionaryProperties.count,this.sectionCount),this.pages.items.setValue(this.dictionaryProperties.resources,new Vx),this.setPageSettings(this.pages,this.pdfDocument.pageSettings)},e.prototype.pdfSectionCollection=function(e){if(e<0||e>=this.count)throw new Error("IndexOutOfRangeException()");return this.sections[e]},e.prototype.setPageSettings=function(e,t){var i=new wD(new MD,t.size);e.items.setValue(this.dictionaryProperties.mediaBox,Kx.fromRectangle(i))},e.prototype.add=function(e){if("undefined"===typeof e){var t=new kA(this.pdfDocument);return this.add(t),t}var i=this.checkSection(e);return this.sections.push(e),e.parent=this,this.sectionCollection.add(i),this.sections.indexOf(e)},e.prototype.checkSection=function(e){var t=new nD(e);this.sectionCollection.contains(t);return t},e.prototype.countPages=function(){var e=0;return this.sections.forEach((function(t){return e+=t.count})),e},e.prototype.beginSave=function(){this.sectionCount.intValue=this.countPages()},e.rotateFactor=90,e}(),OA=function(){function e(e){this.pdfPageCollectionIndex=new jx,this.document=e}return Object.defineProperty(e.prototype,"count",{get:function(){return this.countPages()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCollectionIndex",{get:function(){return this.pdfPageCollectionIndex},enumerable:!0,configurable:!0}),e.prototype.add=function(e){if("undefined"===typeof e){var t=new xA;return this.add(t),t}this.getLastSection().add(e)},e.prototype.getLastSection=function(){var e=this.document.sections;return 0===e.section.length&&e.add(),e.section[e.section.length-1]},e.prototype.onPageAdded=function(e){},e.prototype.countPages=function(){for(var e=this.document.sections,t=0,i=0;i<e.section.length;i++)t+=e.section[i].count;return t},e.prototype.getPageByIndex=function(e){return this.getPage(e)},e.prototype.getPage=function(e){if(e<0||e>=this.count)throw Error('ArgumentOutOfRangeException("index", "Value can not be less 0")');for(var t=null,i=0,n=0,r=0,s=this.document.sections.count,o=0;o<s;o++){var a=this.document.sections.section[o];if(n=a.count,r=e-i,e>=i&&r<n){t=a.getPages()[r];break}i+=n}return t},e.prototype.indexOf=function(e){var t=-1;if(null==e)throw new Error("ArgumentNullException: page");for(var i=0,n=0,r=this.document.sections.count;n<r;n++){var s=this.document.sections.pdfSectionCollection(n);if((t=s.indexOf(e))>=0){t+=i;break}t=-1,i+=s.count}return t},e.prototype.remove=function(e){if(null==e)throw Error('ArgumentNullException("page")');for(var t=null,i=0,n=this.document.sections.count;i<n;i++)if((t=this.document.sections.pdfSectionCollection(i)).pages.contains(e)){t.pages.remove(e);break}return t},e}(),PA=function(){function e(){this.referenceObjects=[],this.pdfFontCollection=new jx}return e.prototype.search=function(e){var t=null,i=this.getGroup(e);return null==i?i=this.createNewGroup():i.length>0&&(t=i[0]),i.push(e),t},e.prototype.createNewGroup=function(){var e=[];return this.referenceObjects.push(e),e},e.prototype.getGroup=function(e){var t=null;if(null!==e)for(var i=this.referenceObjects.length,n=0;n<i;n++){if(this.referenceObjects.length>0){var r=this.referenceObjects[n];if(r.length>0){var s=r[0];if(e.equalsTo(s)){t=r;break}}else this.removeGroup(r)}i=this.referenceObjects.length}return t},e.prototype.removeGroup=function(e){if(null!==e){var t=this.referenceObjects.indexOf(e);this.referenceObjects.slice(t,t+1)}},e.prototype.destroy=function(){this.pdfFontCollection=void 0,this.referenceObjects=void 0},e}(),RA=function(){function e(){}return e.getMetrics=function(e,t,i){var n=null;switch(e){case FD.Helvetica:n=this.getHelveticaMetrics(e,t,i);break;case FD.Courier:n=this.getCourierMetrics(e,t,i);break;case FD.TimesRoman:n=this.getTimesMetrics(e,t,i);break;case FD.Symbol:n=this.getSymbolMetrics(e,t,i);break;case FD.ZapfDingbats:n=this.getZapfDingbatsMetrics(e,t,i);break;default:n=this.getHelveticaMetrics(FD.Helvetica,t,i)}return n.name=e.toString(),n.subScriptSizeFactor=this.subSuperScriptFactor,n.superscriptSizeFactor=this.subSuperScriptFactor,n},e.getHelveticaMetrics=function(e,t,i){var n=new QT;return(t&RD.Bold)>0&&(t&RD.Italic)>0?(n.ascent=this.helveticaBoldItalicAscent,n.descent=this.helveticaBoldItalicDescent,n.postScriptName=this.helveticaBoldItalicName,n.size=i,n.widthTable=new GT(this.arialBoldWidth),n.height=n.ascent-n.descent):(t&RD.Bold)>0?(n.ascent=this.helveticaBoldAscent,n.descent=this.helveticaBoldDescent,n.postScriptName=this.helveticaBoldName,n.size=i,n.widthTable=new GT(this.arialBoldWidth),n.height=n.ascent-n.descent):(t&RD.Italic)>0?(n.ascent=this.helveticaItalicAscent,n.descent=this.helveticaItalicDescent,n.postScriptName=this.helveticaItalicName,n.size=i,n.widthTable=new GT(this.arialWidth),n.height=n.ascent-n.descent):(n.ascent=this.helveticaAscent,n.descent=this.helveticaDescent,n.postScriptName=this.helveticaName,n.size=i,n.widthTable=new GT(this.arialWidth),n.height=n.ascent-n.descent),n},e.getCourierMetrics=function(e,t,i){var n=new QT;return(t&RD.Bold)>0&&(t&RD.Italic)>0?(n.ascent=this.courierBoldItalicAscent,n.descent=this.courierBoldItalicDescent,n.postScriptName=this.courierBoldItalicName,n.size=i,n.widthTable=new GT(this.fixedWidth),n.height=n.ascent-n.descent):(t&RD.Bold)>0?(n.ascent=this.courierBoldAscent,n.descent=this.courierBoldDescent,n.postScriptName=this.courierBoldName,n.size=i,n.widthTable=new GT(this.fixedWidth),n.height=n.ascent-n.descent):(t&RD.Italic)>0?(n.ascent=this.courierItalicAscent,n.descent=this.courierItalicDescent,n.postScriptName=this.courierItalicName,n.size=i,n.widthTable=new GT(this.fixedWidth),n.height=n.ascent-n.descent):(n.ascent=this.courierAscent,n.descent=this.courierDescent,n.postScriptName=this.courierName,n.size=i,n.widthTable=new GT(this.fixedWidth),n.height=n.ascent-n.descent),n},e.getTimesMetrics=function(e,t,i){var n=new QT;return(t&RD.Bold)>0&&(t&RD.Italic)>0?(n.ascent=this.timesBoldItalicAscent,n.descent=this.timesBoldItalicDescent,n.postScriptName=this.timesBoldItalicName,n.size=i,n.widthTable=new GT(this.timesRomanBoldItalicWidths),n.height=n.ascent-n.descent):(t&RD.Bold)>0?(n.ascent=this.timesBoldAscent,n.descent=this.timesBoldDescent,n.postScriptName=this.timesBoldName,n.size=i,n.widthTable=new GT(this.timesRomanBoldWidth),n.height=n.ascent-n.descent):(t&RD.Italic)>0?(n.ascent=this.timesItalicAscent,n.descent=this.timesItalicDescent,n.postScriptName=this.timesItalicName,n.size=i,n.widthTable=new GT(this.timesRomanItalicWidth),n.height=n.ascent-n.descent):(n.ascent=this.timesAscent,n.descent=this.timesDescent,n.postScriptName=this.timesName,n.size=i,n.widthTable=new GT(this.timesRomanWidth),n.height=n.ascent-n.descent),n},e.getSymbolMetrics=function(e,t,i){var n=new QT;return n.ascent=this.symbolAscent,n.descent=this.symbolDescent,n.postScriptName=this.symbolName,n.size=i,n.widthTable=new GT(this.symbolWidth),n.height=n.ascent-n.descent,n},e.getZapfDingbatsMetrics=function(e,t,i){var n=new QT;return n.ascent=this.zapfDingbatsAscent,n.descent=this.zapfDingbatsDescent,n.postScriptName=this.zapfDingbatsName,n.size=i,n.widthTable=new GT(this.zapfDingbatsWidth),n.height=n.ascent-n.descent,n},e.subSuperScriptFactor=1.52,e.helveticaAscent=931,e.helveticaDescent=-225,e.helveticaName="Helvetica",e.helveticaBoldAscent=962,e.helveticaBoldDescent=-228,e.helveticaBoldName="Helvetica-Bold",e.helveticaItalicAscent=931,e.helveticaItalicDescent=-225,e.helveticaItalicName="Helvetica-Oblique",e.helveticaBoldItalicAscent=962,e.helveticaBoldItalicDescent=-228,e.helveticaBoldItalicName="Helvetica-BoldOblique",e.courierAscent=805,e.courierDescent=-250,e.courierName="Courier",e.courierBoldAscent=801,e.courierBoldDescent=-250,e.courierBoldName="Courier-Bold",e.courierItalicAscent=805,e.courierItalicDescent=-250,e.courierItalicName="Courier-Oblique",e.courierBoldItalicAscent=801,e.courierBoldItalicDescent=-250,e.courierBoldItalicName="Courier-BoldOblique",e.timesAscent=898,e.timesDescent=-218,e.timesName="Times-Roman",e.timesBoldAscent=935,e.timesBoldDescent=-218,e.timesBoldName="Times-Bold",e.timesItalicAscent=883,e.timesItalicDescent=-217,e.timesItalicName="Times-Italic",e.timesBoldItalicAscent=921,e.timesBoldItalicDescent=-218,e.timesBoldItalicName="Times-BoldItalic",e.symbolAscent=1010,e.symbolDescent=-293,e.symbolName="Symbol",e.zapfDingbatsAscent=820,e.zapfDingbatsDescent=-143,e.zapfDingbatsName="ZapfDingbats",e.arialWidth=[278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,0,556,0,222,556,333,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,222,222,333,333,350,556,1e3,333,1e3,500,333,944,0,500,667,0,333,556,556,556,556,260,556,333,737,370,556,584,0,737,333,400,584,333,333,333,556,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,584,611,556,556,556,556,500,556,500],e.arialBoldWidth=[278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,0,556,0,278,556,500,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,278,278,500,500,350,556,1e3,333,1e3,556,333,944,0,500,667,0,333,556,556,556,556,280,556,333,737,370,556,584,0,737,333,400,584,333,333,333,611,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,584,611,611,611,611,611,556,611,556],e.fixedWidth=[600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600],e.timesRomanWidth=[250,333,408,500,500,833,778,180,333,333,500,564,250,333,250,278,500,500,500,500,500,500,500,500,500,500,278,278,564,564,564,444,921,722,667,667,722,611,556,722,722,333,389,722,611,889,722,722,556,722,667,556,611,722,722,944,722,722,611,333,278,333,469,500,333,444,500,444,500,444,333,500,500,278,278,500,278,778,500,500,500,500,333,389,278,500,500,722,500,500,444,480,200,480,541,0,500,0,333,500,444,1e3,500,500,333,1e3,556,333,889,0,611,0,0,333,333,444,444,350,500,1e3,333,980,389,333,722,0,444,722,0,333,500,500,500,500,200,500,333,760,276,500,564,0,760,333,400,564,300,300,333,500,453,250,333,300,310,500,750,750,750,444,722,722,722,722,722,722,889,667,611,611,611,611,333,333,333,333,722,722,722,722,722,722,722,564,722,722,722,722,722,722,556,500,444,444,444,444,444,444,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,564,500,500,500,500,500,500,500,500],e.timesRomanBoldWidth=[250,333,555,500,500,1e3,833,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,930,722,667,722,722,667,611,778,778,389,500,778,667,944,722,778,611,778,722,556,667,722,722,1e3,722,722,667,333,278,333,581,500,333,500,556,444,556,444,333,500,556,278,333,556,278,833,556,500,556,556,444,389,333,556,500,722,500,500,444,394,220,394,520,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,1e3,0,667,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,444,722,0,333,500,500,500,500,220,500,333,747,300,500,570,0,747,333,400,570,300,300,333,556,540,250,333,300,330,500,750,750,750,500,722,722,722,722,722,722,1e3,722,667,667,667,667,389,389,389,389,722,722,778,778,778,778,778,570,778,722,722,722,722,722,611,556,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,500,556,500],e.timesRomanItalicWidth=[250,333,420,500,500,833,778,214,333,333,500,675,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,675,675,675,500,920,611,611,667,722,611,611,722,722,333,444,667,556,833,667,722,611,722,611,500,556,722,611,833,611,556,556,389,278,389,422,500,333,500,500,444,500,444,278,500,500,278,278,444,278,722,500,500,500,500,389,389,278,500,444,667,444,444,389,400,275,400,541,0,500,0,333,500,556,889,500,500,333,1e3,500,333,944,0,556,0,0,333,333,556,556,350,500,889,333,980,389,333,667,0,389,556,0,389,500,500,500,500,275,500,333,760,276,500,675,0,760,333,400,675,300,300,333,500,523,250,333,300,310,500,750,750,750,500,611,611,611,611,611,611,889,667,611,611,611,611,333,333,333,333,722,667,722,722,722,722,722,675,722,722,722,722,722,556,611,500,500,500,500,500,500,500,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,675,500,500,500,500,500,444,500,444],e.timesRomanBoldItalicWidths=[250,389,555,500,500,833,778,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,832,667,667,667,722,667,667,722,778,389,500,667,611,889,722,722,611,722,667,556,611,722,667,889,667,611,611,333,278,333,570,500,333,500,500,444,500,444,333,500,556,278,278,500,278,778,556,500,500,500,389,389,278,556,444,667,500,444,389,348,220,348,570,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,944,0,611,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,389,611,0,389,500,500,500,500,220,500,333,747,266,500,606,0,747,333,400,570,300,300,333,576,500,250,333,300,300,500,750,750,750,500,667,667,667,667,667,667,944,667,667,667,667,667,389,389,389,389,722,722,722,722,722,722,722,570,722,722,722,722,722,611,611,500,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,444,500,444],e.symbolWidth=[250,333,713,500,549,833,778,439,333,333,500,549,250,549,250,278,500,500,500,500,500,500,500,500,500,500,278,278,549,549,549,444,549,722,667,722,612,611,763,603,722,333,631,722,686,889,722,722,768,741,556,592,611,690,439,768,645,795,611,333,863,333,658,500,500,631,549,549,494,439,521,411,603,329,603,549,549,576,521,549,549,521,549,603,439,576,713,686,493,686,494,480,200,480,549,750,620,247,549,167,713,500,753,753,753,753,1042,987,603,987,603,400,549,411,549,549,713,494,460,549,549,549,549,1e3,603,1e3,658,823,686,795,987,768,768,823,768,768,713,713,713,713,713,713,713,768,713,790,790,890,823,549,250,713,603,603,1042,987,603,987,603,494,329,790,790,786,713,384,384,384,384,384,384,494,494,494,494,329,274,686,686,686,384,384,384,384,384,384,494,494,494,-1],e.zapfDingbatsWidth=[278,974,961,974,980,719,789,790,791,690,960,939,549,855,911,933,911,945,974,755,846,762,761,571,677,763,760,759,754,494,552,537,577,692,786,788,788,790,793,794,816,823,789,841,823,833,816,831,923,744,723,749,790,792,695,776,768,792,759,707,708,682,701,826,815,789,789,707,687,696,689,786,787,713,791,785,791,873,761,762,762,759,759,892,892,788,784,438,138,277,415,392,392,668,668,390,390,317,317,276,276,509,509,410,410,234,234,334,334,732,544,544,910,667,760,760,776,595,694,626,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,894,838,1016,458,748,924,748,918,927,928,928,834,873,828,924,924,917,930,931,463,883,836,836,867,867,696,696,874,874,760,946,771,865,771,888,967,888,831,873,927,970,918],e}(),FA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),BA=function(e){function t(i,n,r){var s=e.call(this,n,"undefined"===typeof r?i instanceof t?i.style:RD.Regular:r)||this;return s.dictionaryProperties=new Bx,s.encodings=["Unknown","StandardEncoding","MacRomanEncoding","MacExpertEncoding","WinAnsiEncoding","PDFDocEncoding","IdentityH"],s.pdfFontFamily="undefined"===typeof i?FD.Helvetica:i instanceof t?i.fontFamily:i,s.checkStyle(),s.initializeInternals(),s}return FA(t,e),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.pdfFontFamily},enumerable:!0,configurable:!0}),t.prototype.checkStyle=function(){if(this.fontFamily===FD.Symbol||this.fontFamily===FD.ZapfDingbats){var e=this.style;e&=~(RD.Bold|RD.Italic),this.setStyle(e)}},t.prototype.getLineWidth=function(e,i){if(null==e)throw new Error("ArgumentNullException:line");for(var n=0,r=(this.name,0),s=(e=t.convert(e)).length;r<s;r++){var o=e[r];n+=this.getCharWidthInternal(o,i)}var a=this.metrics.getSize(i);return n*=fT.charSizeMultiplier*a,n=this.applyFormatSettings(e,i,n)},t.prototype.equalsToFont=function(e){var t=!1,i=e;if(null!=i){var n=this.fontFamily===i.fontFamily,r=~(RD.Underline|RD.Strikeout),s=(this.style&r)===(i.style&r);t=n&&s}return t},t.prototype.initializeInternals=function(){UA.cache.search(this);var e,t=RA.getMetrics(this.pdfFontFamily,this.style,this.size);this.metrics=t,e=this.createInternals(),this.setInternals(e)},t.prototype.createInternals=function(){var e=new Vx;if(e.items.setValue(this.dictionaryProperties.type,new Rx(this.dictionaryProperties.font)),e.items.setValue(this.dictionaryProperties.subtype,new Rx(this.dictionaryProperties.type1)),e.items.setValue(this.dictionaryProperties.baseFont,new Rx(this.metrics.postScriptName)),this.fontFamily!==FD.Symbol&&this.fontFamily!==FD.ZapfDingbats){var t=this.encodings[HD.WinAnsiEncoding];e.items.setValue(this.dictionaryProperties.encoding,new Rx(t))}return e},t.prototype.getCharWidthInternal=function(e,i){var n=0;return n=e.charCodeAt(0),"0"!==this.name&&"1"!==this.name&&"2"!==this.name&&"3"!==this.name&&"4"!==this.name||(n-=t.charOffset),n=n>=0&&128!==n?n:0,this.metrics.widthTable.items(n)},t.convert=function(e){return e},t.charOffset=32,t}(fT),VA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),UA=function(e){function t(i){var n=e.call(this)||this;n.defaultMargin=40,n.streamWriter=null,n.document=n;var r=!1;"undefined"===typeof i?(t.cacheCollection=new PA,r=!1):r=i;var s=new kx;n.setMainObjectCollection(s);var o=new vD;o.isMerging=r,o.document=n,n.setCrossTable(o);var a=new yD;return n.setCatalog(a),s.add(a),a.position=-1,n.sectionCollection=new LA(n),n.documentPageCollection=new OA(n),a.pages=n.sectionCollection,n}return VA(t,e),Object.defineProperty(t,"defaultFont",{get:function(){return null==this.defaultStandardFont&&(this.defaultStandardFont=new BA(FD.Helvetica,8)),this.defaultStandardFont},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sections",{get:function(){return this.sectionCollection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSettings",{get:function(){return null==this.settings&&(this.settings=new ZD(this.defaultMargin)),this.settings},set:function(e){this.settings=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pages",{get:function(){return this.documentPageCollection},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cache",{get:function(){return"undefined"===typeof t.cacheCollection||null==t.cacheCollection?new PA:t.cacheCollection},set:function(e){this.cacheCollection=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"enableCache",{get:function(){return this.isCacheEnabled},set:function(e){this.isCacheEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorSpace",{get:function(){return this.pdfColorSpace===kD.Rgb||this.pdfColorSpace===kD.Cmyk||this.pdfColorSpace===kD.GrayScale?this.pdfColorSpace:kD.Rgb},set:function(e){e===kD.Rgb||e===kD.Cmyk||e===kD.GrayScale?this.pdfColorSpace=e:this.pdfColorSpace=kD.Rgb},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return null==this.pageTemplate&&(this.pageTemplate=new AA),this.pageTemplate},set:function(e){this.pageTemplate=e},enumerable:!0,configurable:!0}),t.prototype.docSave=function(e,t,i){if(this.checkPagesPresence(),null===e)throw new Error("ArgumentNullException : stream");this.streamWriter=e;var n=new Dx(e);if(n.document=this,"boolean"===typeof t&&"undefined"===typeof i)return this.crossTable.save(n);this.crossTable.save(n,t)},t.prototype.checkPagesPresence=function(){0===this.pages.count&&this.pages.add()},t.prototype.destroy=function(){this.catalog=void 0,this.colorSpace=void 0,this.currentSavingObj=void 0,this.documentPageCollection=void 0,this.isStreamCopied=void 0,this.pageSettings=void 0,this.pageTemplate=void 0,this.pdfColorSpace=void 0,this.sectionCollection=void 0,t.cache.destroy(),this.crossTable.pdfObjects.destroy(),t.cache=void 0,this.streamWriter.destroy()},t.defaultStandardFont=null,t.isCacheEnabled=!0,t}(Px),HA=function(){function e(){var e=new sT(new tT(0,0,0));e.dashStyle=jD.Solid;var t=new sT(new tT(0,0,0));t.dashStyle=jD.Solid;var i=new sT(new tT(0,0,0));i.dashStyle=jD.Solid;var n=new sT(new tT(0,0,0));n.dashStyle=jD.Solid,this.leftPen=e,this.rightPen=t,this.topPen=i,this.bottomPen=n}return Object.defineProperty(e.prototype,"left",{get:function(){return this.leftPen},set:function(e){this.leftPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.rightPen},set:function(e){this.rightPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.topPen},set:function(e){this.topPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.bottomPen},set:function(e){this.bottomPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"all",{set:function(e){this.leftPen=this.rightPen=this.topPen=this.bottomPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAll",{get:function(){return this.leftPen===this.rightPen&&this.leftPen===this.topPen&&this.leftPen===this.bottomPen},enumerable:!0,configurable:!0}),Object.defineProperty(e,"default",{get:function(){return new e},enumerable:!0,configurable:!0}),e}(),WA=function(){function e(e,t,i,n){this.hasLeftPad=!1,this.hasRightPad=!1,this.hasTopPad=!1,this.hasBottomPad=!1,"undefined"===typeof e?(this.leftPad=this.rightPad=5.76,this.bottomPad=this.topPad=.5):(this.leftPad=e,this.rightPad=t,this.topPad=i,this.bottomPad=n,this.hasLeftPad=!0,this.hasRightPad=!0,this.hasTopPad=!0,this.hasBottomPad=!0)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.leftPad},set:function(e){this.leftPad=e,this.hasLeftPad=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.rightPad},set:function(e){this.rightPad=e,this.hasRightPad=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.topPad},set:function(e){this.topPad=e,this.hasTopPad=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.bottomPad},set:function(e){this.bottomPad=e,this.hasBottomPad=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"all",{set:function(e){this.leftPad=this.rightPad=this.topPad=this.bottomPad=e,this.hasLeftPad=!0,this.hasRightPad=!0,this.hasTopPad=!0,this.hasBottomPad=!0},enumerable:!0,configurable:!0}),e}();!function(e){e[e.Overlap=0]="Overlap",e[e.Inside=1]="Inside"}(sA||(sA={}));var YA,QA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),qA=function(){function e(){}return Object.defineProperty(e.prototype,"backgroundBrush",{get:function(){return this.gridBackgroundBrush},set:function(e){this.gridBackgroundBrush=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textBrush",{get:function(){return this.gridTextBrush},set:function(e){this.gridTextBrush=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textPen",{get:function(){return this.gridTextPen},set:function(e){this.gridTextPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.gridFont},set:function(e){this.gridFont=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundImage",{get:function(){return this.gridBackgroundImage},set:function(e){this.gridBackgroundImage=e},enumerable:!0,configurable:!0}),e}(),GA=function(e){function t(){var t=e.call(this)||this;return t.gridBorderOverlapStyle=sA.Overlap,t.bAllowHorizontalOverflow=!1,t.gridHorizontalOverflowType=YA.LastPage,t}return QA(t,e),Object.defineProperty(t.prototype,"cellSpacing",{get:function(){return"undefined"===typeof this.gridCellSpacing&&(this.gridCellSpacing=0),this.gridCellSpacing},set:function(e){this.gridCellSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalOverflowType",{get:function(){return this.gridHorizontalOverflowType},set:function(e){this.gridHorizontalOverflowType=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowHorizontalOverflow",{get:function(){return this.bAllowHorizontalOverflow},set:function(e){this.bAllowHorizontalOverflow=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellPadding",{get:function(){return"undefined"===typeof this.gridCellPadding&&(this.gridCellPadding=new WA),this.gridCellPadding},set:function(e){"undefined"===typeof this.gridCellPadding?(this.gridCellPadding=new WA,this.gridCellPadding=e):this.gridCellPadding=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderOverlapStyle",{get:function(){return this.gridBorderOverlapStyle},set:function(e){this.gridBorderOverlapStyle=e},enumerable:!0,configurable:!0}),t}(qA),KA=function(e){function t(){var t=e.call(this)||this;return t.gridCellBorders=HA.default,t}return QA(t,e),Object.defineProperty(t.prototype,"stringFormat",{get:function(){return this.format},set:function(e){this.format=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borders",{get:function(){return this.gridCellBorders},set:function(e){this.gridCellBorders=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellPadding",{get:function(){return this.gridCellPadding},set:function(e){null!=this.gridCellPadding&&"undefined"!==typeof this.gridCellPadding||(this.gridCellPadding=new WA),this.gridCellPadding=e},enumerable:!0,configurable:!0}),t}(qA),XA=function(){function e(){}return Object.defineProperty(e.prototype,"backgroundBrush",{get:function(){return this.gridRowBackgroundBrush},enumerable:!0,configurable:!0}),e.prototype.setBackgroundBrush=function(e){if(this.gridRowBackgroundBrush=e,"undefined"!==typeof this.parent)for(var t=0;t<this.parent.cells.count;t++)this.parent.cells.getCell(t).style.backgroundBrush=e},Object.defineProperty(e.prototype,"textBrush",{get:function(){return this.gridRowTextBrush},enumerable:!0,configurable:!0}),e.prototype.setTextBrush=function(e){if(this.gridRowTextBrush=e,"undefined"!==typeof this.parent)for(var t=0;t<this.parent.cells.count;t++)this.parent.cells.getCell(t).style.textBrush=e},Object.defineProperty(e.prototype,"textPen",{get:function(){return this.gridRowTextPen},enumerable:!0,configurable:!0}),e.prototype.setTextPen=function(e){if(this.gridRowTextPen=e,"undefined"!==typeof this.parent)for(var t=0;t<this.parent.cells.count;t++)this.parent.cells.getCell(t).style.textPen=e},Object.defineProperty(e.prototype,"font",{get:function(){return this.gridRowFont},enumerable:!0,configurable:!0}),e.prototype.setFont=function(e){if(this.gridRowFont=e,"undefined"!==typeof this.parent)for(var t=0;t<this.parent.cells.count;t++)this.parent.cells.getCell(t).style.font=e},Object.defineProperty(e.prototype,"border",{get:function(){return"undefined"===typeof this.gridRowBorder&&this.setBorder(new HA),this.gridRowBorder},enumerable:!0,configurable:!0}),e.prototype.setBorder=function(e){if(this.gridRowBorder=e,"undefined"!==typeof this.parent)for(var t=0;t<this.parent.cells.count;t++)this.parent.cells.getCell(t).style.borders=e},e.prototype.setParent=function(e){this.parent=e},Object.defineProperty(e.prototype,"backgroundImage",{get:function(){return this.gridRowBackgroundImage},enumerable:!0,configurable:!0}),e.prototype.setBackgroundImage=function(e){this.gridRowBackgroundImage=e},e}();!function(e){e[e.NextPage=0]="NextPage",e[e.LastPage=1]="LastPage"}(YA||(YA={}));var JA=function(){function e(e){this.layoutElement=e}return Object.defineProperty(e.prototype,"elements",{get:function(){return this.layoutElement},enumerable:!0,configurable:!0}),e.prototype.getElement=function(){return this.layoutElement},e.prototype.layout=function(e){return this.layoutInternal(e)},e.prototype.Layouter=function(e){return this.layoutInternal(e)},e.prototype.getNextPage=function(e){return e.section.add()},e.prototype.getPaginateBounds=function(e){if(null==e)throw new Error("ArgumentNullException : param");return e.format.usePaginateBounds?e.format.paginateBounds:new wD(e.bounds.x,0,e.bounds.width,e.bounds.height)},e}(),ZA=function(){function e(e){"undefined"===typeof e||(this.break=e.break,this.layout=e.layout,this.paginateBounds=e.paginateBounds,this.boundsSet=e.usePaginateBounds)}return Object.defineProperty(e.prototype,"layout",{get:function(){return this.layoutType},set:function(e){this.layoutType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"break",{get:function(){return this.breakType},set:function(e){this.breakType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paginateBounds",{get:function(){return"undefined"===typeof this.layoutPaginateBounds&&null==this.layoutPaginateBounds&&(this.layoutPaginateBounds=new wD(0,0,0,0)),this.layoutPaginateBounds},set:function(e){this.layoutPaginateBounds=e,this.boundsSet=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"usePaginateBounds",{get:function(){return this.boundsSet},enumerable:!0,configurable:!0}),e}(),$A=function(){function e(){}return Object.defineProperty(e.prototype,"page",{get:function(){return this.pdfPage},set:function(e){this.pdfPage=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return new wD(this.layoutBounds.x,this.layoutBounds.y,this.layoutBounds.width,this.layoutBounds.height)},set:function(e){this.layoutBounds=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this.layoutFormat},set:function(e){this.layoutFormat=e},enumerable:!0,configurable:!0}),e}(),ej=function(){function e(e,t){this.pdfPage=e,this.layoutBounds=t}return Object.defineProperty(e.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.layoutBounds},enumerable:!0,configurable:!0}),e}(),tj=function(){function e(){}return Object.defineProperty(e.prototype,"raiseBeginPageLayout",{get:function(){return"undefined"!==typeof this.beginPageLayout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raiseEndPageLayout",{get:function(){return"undefined"!==typeof this.endPageLayout},enumerable:!0,configurable:!0}),e.prototype.onBeginPageLayout=function(e){this.beginPageLayout&&this.beginPageLayout(this,e)},e.prototype.onEndPageLayout=function(e){this.endPageLayout&&this.endPageLayout(this,e)},e.prototype.drawHelper=function(e,t,i,n){if(t instanceof MD&&"undefined"===typeof t.width&&"undefined"===typeof i)return this.drawHelper(e,t.x,t.y);if("number"===typeof t&&"number"===typeof i&&"undefined"===typeof n)return this.drawHelper(e,t,i,null);if(t instanceof wD&&"undefined"!==typeof t.width&&"undefined"===typeof i)return this.drawHelper(e,t,null);if(t instanceof MD&&"undefined"===typeof t.width&&i instanceof ZA)return this.drawHelper(e,t.x,t.y,i);if("number"===typeof t&&"number"===typeof i&&(n instanceof ZA||null==n)){var r=e.graphics.clientSize.width-t,s=new wD(t,i,r,0);return this.drawHelper(e,s,n)}if(t instanceof wD&&"undefined"!==typeof t.width&&"boolean"===typeof i)return this.bEmbedFonts=i,this.drawHelper(e,t,null);var o=new $A,a=t,l=i;if(o.page=e,o.bounds=a,null!=o){var h=o.bounds.x,c=o.bounds.y;0===o.bounds.x&&(h=HA.default.right.width/2),0===o.bounds.y&&(c=HA.default.top.width/2);var u=new wD(h,c,o.bounds.width,o.bounds.height);o.bounds=u}return o.format=null!=l?l:new ZA,this.layout(o)},e}(),ij=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),nj=function(e){function t(t){return e.call(this,t)||this}return ij(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return e.prototype.getElement.call(this)},enumerable:!0,configurable:!0}),t.prototype.layoutInternal=function(e){this.format=null!==this.element.stringFormat&&"undefined"!==typeof this.element.stringFormat?this.element.stringFormat:null;var t=e.page,i=e.bounds,n=this.element.value,r=null,s=new rj;for(s.page=t,s.remainder=n;;){s=this.layoutOnPage(n,t,i,e),r=this.getLayoutResult(s);break}return r},t.prototype.getLayoutResult=function(e){return new sj(e.page,e.bounds,e.remainder,e.lastLineBounds)},t.prototype.layoutOnPage=function(e,t,i,n){var r=new rj;r.remainder=e,r.page=t,i=this.checkCorrectBounds(t,i);var s=(new lT).layout(e,this.element.font,this.format,i,t.getClientSize().height,!1,new SD(0,0)),o=null==s.remainder,a=(n.format.break===pT.FitElement||s.empty,t.graphics),l=this.element.getBrush();this.element instanceof bj&&(l.color=new tT(0,0,255)),a.drawStringLayoutResult(s,this.element.font,this.element.pen,l,i,this.format);s.lines[s.lineCount-1];return r.lastLineBounds=a.getLineBounds(s.lineCount-1,s,this.element.font,i,this.format),r.bounds=this.getTextPageBounds(t,i,s),r.remainder=s.remainder,r.end=o,r},t.prototype.checkCorrectBounds=function(e,t){var i=e.graphics.clientSize;return t.height=t.height>0?t.height:i.height-t.y,t},t.prototype.getTextPageBounds=function(e,t,i){var n=i.actualSize,r=t.x,s=t.y,o=t.width>0?t.width:n.width,a=n.height;r=e.graphics.checkCorrectLayoutRectangle(n,t.x,t.y,this.format).x;var l=e.graphics.getTextVerticalAlignShift(n.height,t.height,this.format);return new wD(r,s+=l,o,a)},t}(JA),rj=function(){},sj=function(e){function t(t,i,n,r){var s=e.call(this,t,i)||this;return s.remainderText=n,s.lastLineTextBounds=r,s}return ij(t,e),Object.defineProperty(t.prototype,"remainder",{get:function(){return this.remainderText},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastLineBounds",{get:function(){return this.lastLineTextBounds},enumerable:!0,configurable:!0}),t}(ej),oj=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),aj=function(e){function t(t,i,n,r,s){var o=e.call(this)||this;return o.content="",o.elementValue="",o.hasPointOverload=!1,o.isPdfTextElement=!1,"undefined"===typeof t||("string"===typeof t&&"undefined"===typeof i?(o.content=t,o.elementValue=t):"string"===typeof t&&i instanceof fT&&"undefined"===typeof n?(o.content=t,o.elementValue=t,o.pdfFont=i):"string"===typeof t&&i instanceof fT&&n instanceof sT&&"undefined"===typeof r?(o.content=t,o.elementValue=t,o.pdfFont=i,o.pdfPen=n):"string"===typeof t&&i instanceof fT&&n instanceof iT&&"undefined"===typeof r?(o.content=t,o.elementValue=t,o.pdfFont=i,o.pdfBrush=n):(o.content=t,o.elementValue=t,o.pdfFont=i,o.pdfPen=n,o.pdfBrush=r,o.format=s)),o}return oj(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.content},set:function(e){this.elementValue=e,this.content=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.elementValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pen",{get:function(){return this.pdfPen},set:function(e){this.pdfPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brush",{get:function(){return this.pdfBrush},set:function(e){this.pdfBrush=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.pdfFont},set:function(e){this.pdfFont=e,this.pdfFont instanceof BA&&null!=this.content?this.elementValue=BA.convert(this.content):this.elementValue=this.content},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stringFormat",{get:function(){return this.format},set:function(e){this.format=e},enumerable:!0,configurable:!0}),t.prototype.getBrush=function(){return null==this.pdfBrush||"undefined"===typeof this.pdfBrush?new rT(new tT(0,0,0)):this.pdfBrush},t.prototype.layout=function(e){return new nj(this).layout(e)},t.prototype.drawText=function(e,t,i,n){if(t instanceof MD&&"undefined"===typeof t.width&&"undefined"===typeof i)return this.hasPointOverload=!0,this.drawText(e,t.x,t.y);if("number"===typeof t&&"number"===typeof i&&"undefined"===typeof n)return this.hasPointOverload=!0,this.drawText(e,t,i,null);if(t instanceof wD&&"undefined"!==typeof t.width&&"undefined"===typeof i)return this.drawText(e,t,null);if(t instanceof MD&&"undefined"===typeof t.width&&i instanceof ZA)return this.hasPointOverload=!0,this.drawText(e,t.x,t.y,i);if("number"===typeof t&&"number"===typeof i&&(n instanceof ZA||null==n)){this.hasPointOverload=!0;var r=e.graphics.clientSize.width-t,s=new wD(t,i,r,0);return this.drawText(e,s,n)}if(t instanceof wD&&"undefined"!==typeof t.width&&"boolean"===typeof i)return this.drawText(e,t,null);var o=new lT;if(this.hasPointOverload){var a=o.layout(this.value,this.font,this.stringFormat,new SD(e.graphics.clientSize.width-t.x,0),!0,e.graphics.clientSize),l=void 0,h=t,c=i;(m=new $A).page=e;if(m.bounds=h,m.format=null!=c?c:new ZA,a.lines.length>1){if(this.text=a.layoutLines[0].text,m.bounds.y<=m.page.graphics.clientSize.height){var u=new MD(m.bounds.x,m.bounds.y);l=this.layout(m);for(var p=new wD(0,l.bounds.y+a.lineHeight,e.graphics.clientSize.width,a.lineHeight),d=1;d<a.lines.length;d++)if(m.page=l.page,m.bounds=new wD(new MD(p.x,p.y),new SD(p.width,p.height)),this.text=a.layoutLines[d].text,p.y+a.lineHeight>l.page.graphics.clientSize.height&&(m.page=m.page.graphics.getNextPage(),p=u.y>l.page.graphics.clientSize.height-l.bounds.height?new wD(0,l.bounds.height,l.page.graphics.clientSize.width,a.lineHeight):new wD(0,0,l.page.graphics.clientSize.width,a.lineHeight),m.bounds=p),l=this.layout(m),d!==a.lines.length-1)p=new wD(0,l.bounds.y+a.lineHeight,l.page.graphics.clientSize.width,a.lineHeight);else{var f=this.font.measureString(this.text,this.format).width;l=this.calculateResultBounds(l,f,l.page.graphics.clientSize.width,0)}}return l}var g=this.font.measureString(this.text,this.format);return m.bounds.y<=m.page.graphics.clientSize.height&&(l=this.layout(m),l=this.calculateResultBounds(l,g.width,l.page.graphics.clientSize.width,0)),l}l=o.layout(this.value,this.font,this.stringFormat,new SD(t.width,0),!1,e.graphics.clientSize);var m,y=void 0;h=t,c=i;if((m=new $A).page=e,m.bounds=h,m.format=null!=c?c:new ZA,l.lines.length>1){if(this.text=l.layoutLines[0].text,m.bounds.y<=m.page.graphics.clientSize.height){u=new MD(m.bounds.x,m.bounds.y);y=this.layout(m);for(p=new wD(h.x,y.bounds.y+l.lineHeight,h.width,l.lineHeight),d=1;d<l.lines.length;d++)if(m.page=y.page,m.bounds=new wD(p.x,p.y,p.width,p.height),this.text=l.layoutLines[d].text,p.y+l.lineHeight>y.page.graphics.clientSize.height&&(m.page=m.page.graphics.getNextPage(),p=u.y>y.page.graphics.clientSize.height-y.bounds.height?new wD(h.x,l.lineHeight,h.width,l.lineHeight):new wD(h.x,0,h.width,l.lineHeight),m.bounds=p),y=this.layout(m),d!==l.lines.length-1)p=new wD(h.x,y.bounds.y+l.lineHeight,h.width,l.lineHeight);else{f=this.font.measureString(this.text,this.format).width;y=this.calculateResultBounds(y,f,h.width,h.x)}}return y}g=this.font.measureString(this.text,this.format);return m.bounds.y<=m.page.graphics.clientSize.height&&(y=this.layout(m),y=this.calculateResultBounds(y,g.width,h.width,h.x)),y},t.prototype.calculateResultBounds=function(e,t,i,n){return null!=this.stringFormat&&"undefined"!==typeof this.stringFormat&&this.stringFormat.alignment===xD.Center?(e.bounds.x=n+(i-t)/2,e.bounds.width=t):null!=this.stringFormat&&"undefined"!==typeof this.stringFormat&&this.stringFormat.alignment===xD.Right?(e.bounds.x=n+(i-t),e.bounds.width=t):null!=this.stringFormat&&"undefined"!==typeof this.stringFormat&&this.stringFormat.alignment===xD.Justify?(e.bounds.x=n,e.bounds.width=i):(e.bounds.width=n,e.bounds.width=t),e},t}(tj),lj=function(){function e(e){this.dictionaryProperties=new Bx,this.pdfColor=new tT(255,255,255),this.rectangle=new wD(0,0,0,0),this.pdfPage=null,this.textBrush=new rT(new tT(0,0,0)),this.textFont=new BA(FD.TimesRoman,10),this.format=new oT(xD.Left),this.content="",this.pdfDictionary=new Vx,this.internalColor=new tT,this.darkness=1,"undefined"===typeof e?this.initialize():(this.initialize(),this.bounds=e)}return Object.defineProperty(e.prototype,"color",{get:function(){return this.pdfColor},set:function(e){this.pdfColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerColor",{get:function(){return this.internalColor},set:function(e){this.internalColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.rectangle},set:function(e){this.rectangle=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.textFont},set:function(e){this.textFont=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stringFormat",{get:function(){return this.format},set:function(e){this.format=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brush",{get:function(){return this.textBrush},set:function(e){this.textBrush=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.content},set:function(e){this.content=e,this.dictionary.items.setValue(this.dictionaryProperties.contents,new tD(this.content))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dictionary",{get:function(){return this.pdfDictionary},set:function(e){this.pdfDictionary=e},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.pdfDictionary.annotationBeginSave=new Yx(this),this.pdfDictionary.items.setValue(this.dictionaryProperties.type,new Rx(this.dictionaryProperties.annot))},e.prototype.setPage=function(e){this.pdfPage=e,this.pdfDictionary.items.setValue(this.dictionaryProperties.p,new nD(this.pdfPage))},e.prototype.beginSave=function(){this.save()},e.prototype.save=function(){var e=new wD(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),t=this.pdfPage.section,i=e.height,n=t.pointToNativePdf(this.page,new MD(e.x,e.y));e.x=n.x,e.width=n.x+e.width,e.y=n.y-this.page.document.pageSettings.margins.top,e.height=e.y-i,this.pdfDictionary.items.setValue(this.dictionaryProperties.rect,Kx.fromRectangle(e)),this.dictionary.items.setValue(this.dictionaryProperties.ca,new Gx(this.darkness))},Object.defineProperty(e.prototype,"element",{get:function(){return this.pdfDictionary},enumerable:!0,configurable:!0}),e}(),hj=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),cj=function(e){function t(t){return e.call(this,t)||this}return hj(t,e),t.prototype.initialize=function(){e.prototype.initialize.call(this),this.dictionary.items.setValue(this.dictionaryProperties.subtype,new Rx(this.dictionaryProperties.link))},t}(lj),uj=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),pj=function(e){function t(t){var i=e.call(this,t)||this;return i.pdfAction=null,i}return uj(t,e),t.prototype.getSetAction=function(e){if("undefined"===typeof e)return this.pdfAction;this.pdfAction=e},t}(cj),dj=function(){function e(){this.action=null,this.dictionaryProperties=new Bx,this.initialize()}return Object.defineProperty(e.prototype,"next",{get:function(){return this.action},set:function(e){this.action=e,this.dictionary.items.setValue(this.dictionaryProperties.next,new nD(this.action))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dictionary",{get:function(){return"undefined"===typeof this.pdfDictionary&&(this.pdfDictionary=new Vx),this.pdfDictionary},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.dictionary.items.setValue(this.dictionaryProperties.type,new Rx(this.dictionaryProperties.action))},Object.defineProperty(e.prototype,"element",{get:function(){return this.dictionary},enumerable:!0,configurable:!0}),e}(),fj=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),gj=function(e){function t(t){var i=e.call(this)||this;return i.uniformResourceIdentifier="",i}return fj(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this.uniformResourceIdentifier},set:function(e){this.uniformResourceIdentifier=e,this.dictionary.items.setValue(this.dictionaryProperties.uri,new tD(this.uniformResourceIdentifier))},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){e.prototype.initialize.call(this),this.dictionary.items.setValue(this.dictionaryProperties.s,new Rx(this.dictionaryProperties.uri))},t}(dj),mj=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),yj=function(e){function t(t,i){var n=e.call(this,t)||this;return"undefined"!==typeof i&&(n.uri=i),n}return mj(t,e),Object.defineProperty(t.prototype,"uriAction",{get:function(){return"undefined"===typeof this.pdfUriAction&&(this.pdfUriAction=new gj),this.pdfUriAction},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uri",{get:function(){return this.uriAction.uri},set:function(e){this.uriAction.uri!==e&&(this.uriAction.uri=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"action",{get:function(){return this.getSetAction()},set:function(e){this.getSetAction(e),this.uriAction.next=e},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){e.prototype.initialize.call(this),this.dictionary.items.setValue(this.dictionaryProperties.subtype,new Rx(this.dictionaryProperties.link));this.uriAction.element;this.dictionary.items.setValue(this.dictionaryProperties.a,this.uriAction.element)},t}(pj),vj=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),bj=function(e){function t(){var t=e.call(this)||this;t.uniformResourceLocator="",t.uriAnnotation=null,t.recalculateBounds=!1,t.defaultBorder=new Kx;for(var i=0;i<3;i++)t.defaultBorder.add(new Gx(0));return t}return vj(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this.uniformResourceLocator},set:function(e){if(0===e.length)throw new Error("ArgumentException : Url - string can not be empty");this.uniformResourceLocator=e},enumerable:!0,configurable:!0}),t.prototype.draw=function(e,t){if(e instanceof xA){var i=new lT,n=this.font.style;if(t instanceof MD){if(this.recalculateBounds=!0,this.font.style=RD.Underline,1===(a=i.layout(this.value,this.font,this.stringFormat,new SD(e.graphics.clientSize.width-t.x,0),!0,e.graphics.clientSize)).lines.length){var r=this.font.measureString(this.value),s=new wD(t,r);s=this.calculateBounds(s,r.width,e.graphics.clientSize.width,t.x),this.uriAnnotation=new yj(s,this.url),this.uriAnnotation.dictionary.items.setValue("Border",this.defaultBorder),e.annotations.add(this.uriAnnotation);var o=this.drawText(e,t);return this.font.style=n,o}o=this.drawMultipleLineWithPoint(a,e,t);return this.font.style=n,o}var a=i.layout(this.value,this.font,this.stringFormat,new SD(t.width,0),!1,new SD(0,0));if(this.font.style=RD.Underline,1===a.lines.length){r=this.font.measureString(this.value),s=new wD(new MD(t.x,t.y),r);s=this.calculateBounds(s,r.width,t.width,t.x),this.uriAnnotation=new yj(s,this.url),this.uriAnnotation.dictionary.items.setValue("Border",this.defaultBorder),e.annotations.add(this.uriAnnotation);var l=this.drawText(e,t);return this.font.style=n,l}l=this.drawMultipleLineWithBounds(a,e,t);return this.font.style=n,l}var h=new xA;return h=e.page,this.draw(h,t)},t.prototype.drawMultipleLineWithPoint=function(e,t,i){for(var n,r=0;r<e.layoutLines.length;r++){var s=this.font.measureString(e.lines[r].text),o=new wD(i,s);if(0!==r&&(o.x=0),this.text=e.lines[r].text,o.y+s.height>t.graphics.clientSize.height){if(0===r)break;t=t.graphics.getNextPage(),o=new wD(0,0,t.graphics.clientSize.width,s.height),i.y=0}o=this.calculateBounds(o,s.width,t.graphics.clientSize.width,o.x),this.uriAnnotation=new yj(o,this.url),this.uriAnnotation.dictionary.items.setValue("Border",this.defaultBorder),t.annotations.add(this.uriAnnotation),n=0!==r?this.drawText(t,new MD(0,o.y)):this.drawText(t,o.x,o.y),i.y+=s.height}return n},t.prototype.drawMultipleLineWithBounds=function(e,t,i){for(var n,r=0;r<e.layoutLines.length;r++){var s=this.font.measureString(e.lines[r].text),o=new wD(new MD(i.x,i.y),s);if(o=this.calculateBounds(o,s.width,i.width,i.x),this.text=e.lines[r].text,i.y+s.height>t.graphics.clientSize.height){if(0===r)break;t=t.graphics.getNextPage(),i=new wD(i.x,0,i.width,s.height),o.y=0}this.uriAnnotation=new yj(o,this.url),this.uriAnnotation.dictionary.items.setValue("Border",this.defaultBorder),t.annotations.add(this.uriAnnotation),n=this.drawText(t,i),i.y+=s.height}return n},t.prototype.calculateBounds=function(e,t,i,n){return null!=this.stringFormat&&"undefined"!==typeof this.stringFormat&&this.stringFormat.alignment===xD.Center?(e.x=n+(i-t)/2,e.width=t):null!=this.stringFormat&&"undefined"!==typeof this.stringFormat&&this.stringFormat.alignment===xD.Right?(e.x=n+(i-t),e.width=t):null!=this.stringFormat&&"undefined"!==typeof this.stringFormat&&this.stringFormat.alignment===xD.Justify?(e.x=n,e.width=i):(e.width=n,e.width=t),e},t}(aj),Mj=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Sj=function(e){function t(t){var i=e.call(this,t)||this;return i.gridInitialWidth=0,i.gridSize=new SD(0,0),i.parentCellIndex=0,i.tempWidth=0,i.childheight=0,i.isChildGrid=!1,i.hasRowSpanSpan=!1,i.isRearranged=!1,i.pageBounds=new wD,i.listOfNavigatePages=[],i.flag=!0,i.columnRanges=[],i.currentLocation=new MD(0,0),i.breakRow=!0,i.slr=null,i.remainderText=null,i.isPaginate=!1,i.isOverloadWithPosition=!1,i}return Mj(t,e),Object.defineProperty(t.prototype,"Grid",{get:function(){return this.elements},enumerable:!0,configurable:!0}),t.prototype.getFormat=function(e){return e},t.prototype.layoutInternal=function(e){var t=this.getFormat(e.format);if(this.gridLayoutFormat=this.getFormat(e.format),this.currentPage=e.page,null===this.currentPage)throw Error("Can not set page as null");this.currentPage.getClientSize().height,this.currentPage.getClientSize().width;this.currentPageBounds=this.currentPage.getClientSize(),this.currentGraphics=this.currentPage.graphics;var i;if(i=this.currentGraphics.page.section.indexOf(this.currentGraphics.page),this.listOfNavigatePages.push(i),null!=t&&t.break===pT.FitColumnsToPage?this.currentBounds=new wD(new MD(e.bounds.x,e.bounds.y),new SD(this.Grid.columns.width,this.currentGraphics.clientSize.height)):this.currentBounds=new wD(new MD(e.bounds.x,e.bounds.y),this.currentGraphics.clientSize),0!==this.Grid.rows.count)this.currentBounds.width=e.bounds.width>0?e.bounds.width:this.currentBounds.width-this.Grid.rows.getRow(0).cells.getCell(0).style.borders.left.width/2;else{if(0===this.Grid.headers.count)throw Error("Please add row or header into grid");this.currentBounds.width=e.bounds.width}if(this.startLocation=new MD(e.bounds.x,e.bounds.y),e.bounds.height>0&&!this.Grid.isChildGrid&&(this.currentBounds.height=e.bounds.height),this.Grid.isChildGrid||(this.hType=this.Grid.style.horizontalOverflowType),this.Grid.style.allowHorizontalOverflow?(this.Grid.measureColumnsWidth(),this.determineColumnDrawRanges()):(this.columnRanges=[],"undefined"!==typeof this.Grid.isChildGrid&&(this.Grid.isChildGrid,1)?this.Grid.measureColumnsWidth(this.currentBounds):this.Grid.measureColumnsWidth(new wD(this.currentBounds.x,this.currentBounds.y,this.currentBounds.x+this.currentBounds.width,this.currentBounds.height)),this.columnRanges.push([0,this.Grid.columns.count-1])),this.Grid.hasRowSpanSpan)for(var n=0;n<this.Grid.rows.count;n++)-1===this.Grid.rows.getRow(n).height||this.Grid.rows.getRow(n).isRowHeightSet||(this.Grid.rows.getRow(n).isRowHeightSet=!0);return this.layoutOnPage(e)},t.prototype.determineColumnDrawRanges=function(){for(var e=0,t=0,i=0,n=this.currentGraphics.clientSize.width-this.currentBounds.x,r=0;r<this.Grid.columns.count;r++)if((i+=this.Grid.columns.getColumn(r).width)>=n){for(var s=0,o=e;o<=r&&!((s+=this.Grid.columns.getColumn(o).width)>n);o++)t=o;this.columnRanges.push([e,t]),i=(t=e=t+1)<=r?this.Grid.columns.getColumn(r).width:0}this.columnRanges.push([e,this.Grid.columns.count-1])},t.prototype.layoutOnPage=function(e){this.pageBounds.x=e.bounds.x,this.pageBounds.y=e.bounds.y,this.pageBounds.height=e.bounds.height;for(var i,n=this.getFormat(e.format),r=new vT,s=e.page,o=[],a=0;a<this.columnRanges.length;a++){var l=this.columnRanges[a];this.cellStartIndex=l[0],this.cellEndIndex=l[1];var h=this.raiseBeforePageLayout(this.currentPage,this.currentBounds,this.currentRowIndex);this.currentBounds=h.currentBounds,this.currentRowIndex=h.currentRowIndex;for(var c=void 0,u=0;u<this.Grid.headers.count;u++){var p=this.Grid.headers.getHeader(u),d=this.currentBounds.y;if(this.isHeader=!0,s!=this.currentPage)for(var f=this.cellStartIndex;f<=this.cellEndIndex;f++)p.cells.getCell(f).isCellMergeContinue&&(p.cells.getCell(f).isCellMergeContinue=!1,p.cells.getCell(f).value="");var g=this.drawRow(p);d===this.currentBounds.y?(c=!0,-1===t.repeatRowIndex&&(t.repeatRowIndex=u)):c=!1,!g.isFinish&&null!==s&&n.layout!==uT.OnePage&&c&&(this.startLocation.x=this.currentBounds.x,this.currentPage=this.getNextPageformat(n),this.startLocation.y=this.currentBounds.y,"undefined"!==typeof n.paginateBounds&&0===n.paginateBounds.x&&0===n.paginateBounds.y&&0===n.paginateBounds.width&&0===n.paginateBounds.height&&(this.currentBounds.x+=this.startLocation.x),this.drawRow(p)),this.isHeader=!1}var m=0,y=(this.Grid.rows.count,void 0),v=!0;o=[];for(var b=0;b<this.Grid.rows.count;b++){p=this.Grid.rows.getRow(b);m++,this.currentRowIndex=m-1;var M=this.currentBounds.y;s=this.currentPage,t.repeatRowIndex=-1,v&&p.grid.isChildGrid&&(v=!1);var S=null;if(-1==this.Grid.splitChildRowIndex)S=this.drawRow(p),p.isrowFinish=!0;else{if(!(p.grid.ParentCell.row.grid.isGridSplit&&this.Grid.splitChildRowIndex<=p.rowIndex)){if(p.isrowFinish)continue;break}S=this.drawRow(p),p.isrowFinish=!0}for(o.push(S.bounds.width),M===this.currentBounds.y?(y=!0,t.repeatRowIndex=this.Grid.rows.rowCollection.indexOf(p)):(y=!1,t.repeatRowIndex=-1);!S.isFinish&&null!=s;){var w=this.getLayoutResult();if(this.raisePageLayouted(w).cancel||y)break;if(this.Grid.allowRowBreakAcrossPages){this.currentPage=this.getNextPageformat(n),M=this.currentBounds.y;var _=new MD(HA.default.right.width/2,HA.default.top.width/2);if(0===n.paginateBounds.x&&0===n.paginateBounds.y&&0===n.paginateBounds.width&&0===n.paginateBounds.height&&this.startLocation.x===_.x&&this.startLocation.y===_.y&&(this.currentBounds.x+=this.startLocation.x,this.currentBounds.y+=this.startLocation.y),this.isPaginate&&(this.startLocation.y=this.currentBounds.y,this.isPaginate=!1),this.Grid.isChildGrid&&null!=p.grid.ParentCell&&null!=this.Grid.ParentCell.row.grid.style.cellPadding&&p.rowBreakHeight+this.Grid.ParentCell.row.grid.style.cellPadding.top<this.currentBounds.height&&(this.currentBounds.y=this.Grid.ParentCell.row.grid.style.cellPadding.top),null!=p.grid.ParentCell){p.grid.ParentCell.row.isRowBreaksNextPage=!0,p.grid.ParentCell.row.rowBreakHeightValue=p.rowBreakHeight+this.Grid.ParentCell.row.grid.style.cellPadding.top+this.Grid.ParentCell.row.grid.style.cellPadding.bottom;for(var I=p.rowIndex+1;I<p.grid.rows.count;I++)p.grid.ParentCell.row.rowBreakHeightValue+=p.grid.rows.getRow(I).height}if(p.grid.isChildGrid){p.isrowFinish=!1,p.grid.splitChildRowIndex=p.rowIndex,p.grid.ParentCell.row.grid.splitChildRowIndex=p.grid.ParentCell.row.rowIndex,p.grid.ParentCell.row.grid.isGridSplit&&(p.grid.ParentCell.row.noOfPageCount+=1,p.grid.ParentCell.row.grid.isGridSplit=!1);break}if(p.noOfPageCount<1){if(-1!=p.grid.splitChildRowIndex&&(p.grid.isGridSplit=!0),null!=p.style.border&&(null!=p.style.border.left&&1!==p.style.border.left.width||null!=p.style.border.top&&1!==p.style.border.top.width)){var N=p.style.border.left.width/2,C=p.style.border.top.width/2;if(this.currentBounds.x===HA.default.right.width/2&&this.currentBounds.y===HA.default.right.width/2){var x=new wD(N,C,this.currentBounds.width,this.currentBounds.height);this.currentBounds=x}}if(this.Grid.repeatHeader)for(var D=0;D<this.Grid.headers.count;D++){var T=this.Grid.headers.getHeader(D);this.drawRow(T)}if(S=this.drawRow(p),p.noOfPageCount>=1){p.rowBreakHeightValue;for(var A=0;A<p.noOfPageCount;A++){var j=this.getLayoutResult();if(this.raisePageLayouted(j),this.currentPage=this.getNextPageformat(n),M=this.currentBounds.y,-1!=p.grid.splitChildRowIndex&&(p.grid.isGridSplit=!0),this.currentBounds.y=.5,this.Grid.repeatHeader)for(var E=0;E<this.Grid.headers.count;E++){var k=this.Grid.headers.getHeader(E);this.drawRow(k)}this.drawRow(p)}}p.grid.splitChildRowIndex=-1,p.grid.isGridSplit=!1,S.isFinish=this.checkIsFisished(p);for(var z=0;z<p.cells.count;z++)p.cells.getCell(z).value instanceof Vj&&(p.cells.getCell(z).value.splitChildRowIndex=-1)}}}if(!S.isFinish&&null!==s&&n.layout!==uT.OnePage&&y){this.startLocation.x=this.currentBounds.x;if(this.currentPage=this.getNextPageformat(n),this.raiseBeforePageLayout(this.currentPage,this.currentBounds,this.currentRowIndex).returnValue)break;if(null!==e.format&&!e.format.usePaginateBounds&&null!==e.bounds&&e.bounds.height>0&&!this.Grid.isChildGrid&&(this.currentBounds.height=e.bounds.height),"undefined"===typeof e.format||null==e.format||"undefined"===typeof e.format.usePaginateBounds||e.format.usePaginateBounds||0===e.format.paginateBounds.x&&0===e.format.paginateBounds.y&&0===e.format.paginateBounds.width&&0===e.format.paginateBounds.height||0!==e.format.paginateBounds.y?(this.currentBounds.y=null==n?0:n.paginateBounds.y,null==n||0===n.paginateBounds.x&&0===n.paginateBounds.y&&0===n.paginateBounds.height&&0===n.paginateBounds.width||(this.currentBounds.x=n.paginateBounds.x,this.currentBounds.width=n.paginateBounds.width,this.currentBounds.height=n.paginateBounds.height)):this.currentBounds.y=HA.default.top.width/2,"undefined"!==typeof e.format&&null!==e.format&&"undefined"!==typeof e.format.usePaginateBounds&&!e.format.usePaginateBounds&&null!==e.bounds&&e.bounds.y>0&&!this.Grid.isChildGrid&&(this.currentBounds.y=e.bounds.y),this.startLocation.y=this.currentBounds.y,n.paginateBounds.x===n.paginateBounds.y&&n.paginateBounds.y===n.paginateBounds.height&&n.paginateBounds.height===n.paginateBounds.width&&0===n.paginateBounds.width&&(this.currentBounds.x+=this.startLocation.x),this.currentBounds.x===HA.default.left.width/2&&(this.currentBounds.y+=this.startLocation.x),this.Grid.repeatHeader)for(var L=0;L<this.Grid.headers.count;L++){k=this.Grid.headers.getHeader(L);this.drawRow(k)}this.drawRow(p),null===this.currentPage||r.containsKey(this.currentPage)||r.add(this.currentPage,l)}if(null!=p.NestedGridLayoutResult){this.currentPage=p.NestedGridLayoutResult.page,this.currentGraphics=this.currentPage.graphics,this.startLocation=new MD(p.NestedGridLayoutResult.bounds.x,p.NestedGridLayoutResult.bounds.y);var O=this.ReCalculateHeight(p,p.NestedGridLayoutResult.bounds.height);if(this.currentBounds.y=O,s!=this.currentPage){for(var P=this.currentPage.section,R=P.indexOf(s)+1,F=P.indexOf(this.currentPage),B=R;B<F+1;B++){var V=this.currentPage.graphics,U=new MD(n.paginateBounds.x,n.paginateBounds.y),H=B==F?p.NestedGridLayoutResult.bounds.height-e.bounds.y:this.currentBounds.height-U.y;H<=V.clientSize.height&&(H+=e.bounds.y),U.y=null==n?.5:n.paginateBounds.y;for(var W=0;W<p.cells.count;W++){var Y,Q=p.cells.getCell(W),q=0;if(Q.value instanceof Vj)for(var G=0;G<Q.value.columns.count;G++)q+=Q.value.columns.getColumn(G).columnWidth;else q=Q.width;Y=Math.max(q,p.grid.columns.getColumn(W).width),Q.drawCellBorders(V,new wD(U,new SD(Y,H))),U.x+=Y,W+=Q.columnSpan-1}}s=this.currentPage}}}var K=!1,X=0;o.length>0&&(X=o[0]);var J=[[1,2]];for(W=0;W<this.Grid.rows.count;W++)if(-1!=this.cellEndIndex&&this.Grid.rows.getRow(W).cells.getCell(this.cellEndIndex).value instanceof Vj){var Z=this.Grid.rows.getRow(W).cells.getCell(this.cellEndIndex).value;this.rowLayoutBoundsWidth=Z.rowLayoutBoundsWidth,K=!0}if(!K&&o.length>0){for(W=0;W<m-1;W++)X<o[W]&&(X=o[W]);this.rowLayoutBoundsWidth=X}else this.rowLayoutBoundsWidth=J[0][1];if(this.columnRanges.indexOf(l)<this.columnRanges.length-1&&null!=s&&n.layout!=uT.OnePage)if(this.Grid.isChildGrid,0!=J[0][0]){this.currentPage.section.indexOf(this.currentPage);this.currentGraphics=this.currentPage.graphics,this.currentBounds=new wD(new MD(0,0),this.currentPage.getClientSize());this.currentGraphics.page.section.indexOf(this.currentGraphics.page)}else this.currentPage=this.getNextPageformat(n);this.columnRanges.length-1!==a&&this.columnRanges.length>1&&n.layout!==uT.OnePage&&(this.currentPage=this.getNextPageformat(n),n.paginateBounds.x===n.paginateBounds.y&&n.paginateBounds.y===n.paginateBounds.height&&n.paginateBounds.height===n.paginateBounds.width&&0===n.paginateBounds.width&&(this.currentBounds.x+=this.startLocation.x,this.currentBounds.y+=this.startLocation.y))}return i=this.getLayoutResult(),this.Grid.style.allowHorizontalOverflow&&this.Grid.style.horizontalOverflowType==YA.NextPage&&this.reArrangePages(r),this.raisePageLayouted(i),i},t.prototype.checkIsFisished=function(e){for(var t=!0,i=0;i<e.cells.count;i++)e.cells.getCell(i).FinishedDrawingCell||(t=!1);return t},t.prototype.getNextPageformat=function(e){var t=this.currentPage.section,i=null,n=t.indexOf(this.currentPage);this.flag=!1,i=n===t.count-1?t.add():t.getPages()[n+1],this.currentGraphics=i.graphics;var r=this.currentGraphics.page.section.indexOf(this.currentGraphics.page);return-1===this.listOfNavigatePages.indexOf(r)&&this.listOfNavigatePages.push(r),this.currentBounds=new wD(new MD(0,0),i.getClientSize()),"undefined"!==typeof e&&null!=e&&e.usePaginateBounds&&"undefined"!==typeof e.paginateBounds&&null!=e.paginateBounds&&e.paginateBounds.x!==e.paginateBounds.y&&e.paginateBounds.y!==e.paginateBounds.height&&e.paginateBounds.height!==e.paginateBounds.width&&0!==e.paginateBounds.width&&(this.currentBounds.x=e.paginateBounds.x,this.currentBounds.y=e.paginateBounds.y,this.currentBounds.height=e.paginateBounds.height),i},t.prototype.CheckIfDefaultFormat=function(e){var t=new oT;return e.alignment===t.alignment&&e.characterSpacing===t.characterSpacing&&e.clipPath===t.clipPath&&e.firstLineIndent===t.firstLineIndent&&e.horizontalScalingFactor===t.horizontalScalingFactor&&e.lineAlignment===t.lineAlignment&&e.lineLimit===t.lineLimit&&e.lineSpacing===t.lineSpacing&&e.measureTrailingSpaces===t.measureTrailingSpaces&&e.noClip===t.noClip&&e.paragraphIndent===t.paragraphIndent&&e.rightToLeft===t.rightToLeft&&e.subSuperScript===t.subSuperScript&&e.wordSpacing===t.wordSpacing&&e.wordWrap===t.wordWrap},t.prototype.RaiseBeforeCellDraw=function(e,t,i,n,r,s){var o=null;return this.Grid.raiseBeginCellDraw&&(o=new Nj(e,t,i,n,r,s),this.Grid.onBeginCellDraw(o),s=o.style),s},t.prototype.raiseAfterCellDraw=function(e,t,i,n,r,s){var o=null;this.Grid.raiseEndCellDraw&&(o=new Cj(e,t,i,n,r,s),this.Grid.onEndCellDraw(o))},t.prototype.reArrangePages=function(e){for(var t=this.currentPage.document,i=[],n=e.keys(),r=(e.values(),0);r<n.length;r++){(a=n[r]).section=null,i.push(a),t.pages.remove(a)}for(r=0;r<e.size();r++)for(var s=r,o=e.size()/this.columnRanges.length;s<e.size();s+=o){var a;"undefined"!==typeof(a=i[s])&&-1===t.pages.indexOf(a)&&t.pages.add(a)}},t.prototype.getLayoutResult=function(){if(this.Grid.isChildGrid&&this.Grid.allowRowBreakAcrossPages)for(var e=0;e<this.Grid.rows.count;e++){var t=this.Grid.rows.getRow(e);t.rowBreakHeight>0&&t.repeatFlag&&(this.startLocation.y=this.currentPage.origin.y)}var i;return this.isChanged||(i=new wD(this.startLocation,new SD(this.currentBounds.width,this.currentBounds.y-this.startLocation.y))),new wj(this.currentPage,i)},t.prototype.ReCalculateHeight=function(e,t){for(var i=0,n=this.cellStartIndex;n<=this.cellEndIndex;n++)null!==e.cells.getCell(n).remainingString&&""!==e.cells.getCell(n).remainingString&&"undefined"!==typeof e.cells.getCell(n).remainingString&&(i=Math.max(i,e.cells.getCell(n).measureHeight()));return Math.max(t,i)},t.prototype.raiseBeforePageLayout=function(e,t,i){var n=!1;if(this.Grid.raiseBeginPageLayout){var r=new Aj(t,e,i);this.Grid.onBeginPageLayout(r),n="undefined"!==typeof r.cancel&&r.cancel,t=r.bounds,i=r.startRowIndex}return{returnValue:n,currentBounds:t,currentRowIndex:i}},t.prototype.raisePageLayouted=function(e){var t=new jj(e);return this.Grid.raiseEndPageLayout&&this.Grid.onEndPageLayout(t),t},t.prototype.drawRow=function(e,i,n){if("undefined"===typeof i){var r=new Ej,s=0,o=(new MD(0,0),new SD(0,0)),a=!1;if(e.rowSpanExists){var l=0,h=this.Grid.rows.rowCollection.indexOf(e);-1===h&&-1!==(h=this.Grid.headers.indexOf(e))&&(a=!0);for(var c=0;c<e.cells.count;c++){var u=e.cells.getCell(c);l=Math.max(l,u.rowSpan)}for(c=h;c<h+l;c++)s+=a?this.Grid.headers.getHeader(c).height:this.Grid.rows.getRow(c).height}var p=e.rowBreakHeight>0?e.rowBreakHeight:e.height;if("undefined"!==typeof this.Grid.isChildGrid&&this.Grid.isChildGrid&&"undefined"!==typeof this.Grid.ParentCell&&null!=this.Grid.ParentCell)this.currentBounds.y+this.Grid.ParentCell.row.grid.style.cellPadding.bottom+p>this.currentPageBounds.height||this.currentBounds.y+this.Grid.ParentCell.row.grid.style.cellPadding.bottom+p>this.currentBounds.height||this.currentBounds.y+this.Grid.ParentCell.row.grid.style.cellPadding.bottom+s>this.currentPageBounds.height?("undefined"!==typeof this.Grid.ParentCell.row.grid.LayoutFormat&&this.Grid.ParentCell.row.grid.LayoutFormat.break===pT.FitPage&&(t.repeatRowIndex=this.Grid.rows.rowCollection.indexOf(e),this.Grid.splitChildRowIndex=this.Grid.rows.rowCollection.indexOf(e)),t.repeatRowIndex>-1&&t.repeatRowIndex===e.rowIndex&&this.Grid.allowRowBreakAcrossPages&&(r.isFinish=!0,r.bounds=this.currentBounds,this.drawRowWithBreak(r,e,p),e.repeatFlag=!0,e.repeatRowNumber=t.repeatRowIndex)):(r.isFinish=!0,e.grid.ParentCell.row.rowBreakHeightValue>0?e.repeatFlag=!0:(e.repeatFlag=!1,p=e.height),this.Grid.isChildGrid&&e.rowBreakHeight>0&&null!=this.Grid.ParentCell.row.grid.style.cellPadding&&(p+=this.Grid.ParentCell.row.grid.style.cellPadding.bottom),this.drawRow(e,r,p));else if(p>this.currentPageBounds.height)this.Grid.allowRowBreakAcrossPages&&(r.isFinish=!0,this.drawRowWithBreak(r,e,p),e.isrowFinish=!0,e.repeatFlag=!0,-1!==e.grid.splitChildRowIndex&&(r.isFinish=!1));else if(this.currentBounds.y+p>this.currentPageBounds.height||this.currentBounds.y+p>this.currentBounds.height+this.startLocation.y||this.currentBounds.y+s>this.currentPageBounds.height){var d=!1;!this.Grid.allowRowBreakAcrossPages||this.Grid.repeatHeader||e.isRowHeightSet||e.rowMergeComplete?this.Grid.allowRowBreakAcrossPages&&null!=this.Grid.LayoutFormat&&this.Grid.LayoutFormat.layout==uT.Paginate&&this.Grid.LayoutFormat.break!=pT.FitElement&&e.isRowHeightSet&&this.currentBounds.y+n>this.currentPageBounds.height&&((d=this.isFitToCell(this.currentPageBounds.height-this.currentBounds.y,this.Grid,e))||(d=!(null!==this.slr&&0==this.slr.actualSize.height&&null!=this.slr.remainder&&this.slr.remainder.length>0&&this.remainderText==this.slr.remainder)),d&&null!=this.slr&&this.slr.lineCount>1&&(d=!1),this.remainderText=null):(d=null!==this.Grid.LayoutFormat&&this.Grid.LayoutFormat.paginateBounds.height>0?this.isFitToCell(this.currentBounds.height+this.startLocation.y-this.currentBounds.y,this.Grid,e):this.isFitToCell(this.currentPageBounds.height-this.currentBounds.y,this.Grid,e))&&(this.isPaginate=!0),t.repeatRowIndex>-1&&t.repeatRowIndex===e.rowIndex||d?this.Grid.allowRowBreakAcrossPages?(r.isFinish=!0,this.drawRowWithBreak(r,e,p),e.repeatFlag=!0,e.repeatRowNumber=t.repeatRowIndex,-1!==e.grid.splitChildRowIndex&&(r.isFinish=!1)):(r.isFinish=!1,this.drawRow(e,r,p)):r.isFinish=!1}else r.isFinish=!0,this.drawRow(e,r,p),e.repeatFlag=!1;return r}var f=new MD(this.currentBounds.x,this.currentBounds.y);i.bounds=new wD(f,new SD(0,0)),n=this.ReCalculateHeight(e,n);for(c=this.cellStartIndex;c<=this.cellEndIndex;c++){var g=c>this.cellEndIndex+1&&e.cells.getCell(c).columnSpan>1;if(!g)for(var m=1;m<e.cells.getCell(c).columnSpan;m++)e.cells.getCell(c+m).isCellMergeContinue=!0;o=new SD(this.Grid.columns.getColumn(c).width,n);!this.CheckIfDefaultFormat(this.Grid.columns.getColumn(c).format)&&this.CheckIfDefaultFormat(e.cells.getCell(c).stringFormat)&&(e.cells.getCell(c).stringFormat=this.Grid.columns.getColumn(c).format);var y=e.cells.getCell(c).style,v="string"===typeof e.cells.getCell(c).value&&null!==e.cells.getCell(c).value?e.cells.getCell(c).value:"";e.cells.getCell(c).style=this.RaiseBeforeCellDraw(this.currentGraphics,this.currentRowIndex,c,new wD(f,o),v,y),e.cells.getCell(c).value instanceof Vj&&((M=e.cells.getCell(c).value).parentCellIndex=c);var b=e.cells.getCell(c).draw(this.currentGraphics,new wD(f,o),g);if(e.grid.style.allowHorizontalOverflow&&(e.cells.getCell(c).columnSpan>this.cellEndIndex||c+e.cells.getCell(c).columnSpan>this.cellEndIndex+1)&&this.cellEndIndex<e.cells.count-1&&(e.rowOverflowIndex=this.cellEndIndex),e.grid.style.allowHorizontalOverflow&&e.rowOverflowIndex>0&&(e.cells.getCell(c).columnSpan>this.cellEndIndex||c+e.cells.getCell(c).columnSpan>this.cellEndIndex+1)&&e.cells.getCell(c).columnSpan-this.cellEndIndex+c-1>0&&(e.cells.getCell(e.rowOverflowIndex+1).value=null!==b&&void 0!==b.remainder?b.remainder:"",e.cells.getCell(e.rowOverflowIndex+1).stringFormat=e.cells.getCell(c).stringFormat,e.cells.getCell(e.rowOverflowIndex+1).style=e.cells.getCell(c).style,e.cells.getCell(e.rowOverflowIndex+1).columnSpan=e.cells.getCell(c).columnSpan-this.cellEndIndex+c-1),v="string"===typeof e.cells.getCell(c).value&&null!==e.cells.getCell(c).value?e.cells.getCell(c).value:"",g||this.raiseAfterCellDraw(this.currentGraphics,this.currentRowIndex,c,new wD(f,o),v,e.cells.getCell(c).style),e.cells.getCell(c).value instanceof Vj){var M=e.cells.getCell(c).value;this.Grid.columns.getColumn(c).width>=this.currentGraphics.clientSize.width?(f.x=M.rowLayoutBoundsWidth,f.x+=M.style.cellSpacing):f.x+=this.Grid.columns.getColumn(c).width}else f.x+=this.Grid.columns.getColumn(c).width}e.rowMergeComplete&&!e.isRowHeightSet||(this.currentBounds.y+=n),i.bounds=new wD(new MD(i.bounds.x,i.bounds.y),new SD(f.x,f.y))},t.prototype.isFitToCell=function(e,t,i){for(var n=!1,r=new lT,s=0;s<i.cells.count;s++){var o=i.cells.getCell(s);if("undefined"!==typeof o.value&&null!==o.value&&"string"===typeof o.value){var a=null;a="undefined"!==typeof o.style.font&&null!=o.style.font?o.style.font:"undefined"!==typeof o.row.style.font&&null!=o.row.style.font?o.row.style.font:"undefined"!==typeof o.row.grid.style.font&&null!=o.row.grid.style.font?o.row.grid.style.font:UA.defaultFont,this.remainderText=o.value;var l=o.width,h=t.columns.getColumn(s);h.isCustomWidth&&o.width>h.width&&(l=h.width),this.slr=r.layout(o.value,a,o.stringFormat,new SD(l,e),!1,this.currentPageBounds);var c=this.slr.actualSize.height;if(""!==o.value&&0===c){n=!1;break}if(null!==o.style&&null!==o.style.borders&&null!==o.style.borders.top&&null!==o.style.borders.bottom&&(c+=2*(o.style.borders.top.width+o.style.borders.bottom.width)),this.slr.lineCount>1&&null!=o.stringFormat&&0!=o.stringFormat.lineSpacing&&(c+=(this.slr.lineCount-1)*o.style.stringFormat.lineSpacing),o.style.cellPadding,c+=t.style.cellPadding.top+t.style.cellPadding.bottom,e>(c+=t.style.cellSpacing)||"undefined"!==typeof this.slr.remainder&&null!==this.slr.remainder){n=!0;break}}}return n},t.prototype.drawRowWithBreak=function(e,t,i){var n=new MD(this.currentBounds.x,this.currentBounds.y);t.grid.isChildGrid&&t.grid.allowRowBreakAcrossPages&&this.startLocation.x!==this.currentBounds.x&&(n.x=this.startLocation.x),e.bounds=new wD(n,new SD(0,0)),this.gridHeight=t.rowBreakHeight>0?this.currentPageBounds.height:0,t.grid.style.cellPadding.top+this.currentBounds.y+t.grid.style.cellPadding.bottom<this.currentPageBounds.height&&(t.rowBreakHeight=this.currentBounds.y+i-this.currentPageBounds.height);for(var r=0;r<t.cells.count;r++){var s=t.cells.getCell(r);s.measureHeight()===i&&s.value instanceof Vj&&(t.rowBreakHeight=0)}for(r=this.cellStartIndex;r<=this.cellEndIndex;r++){var o=t.cells.getCell(r).columnSpan+r>this.cellEndIndex+1&&t.cells.getCell(r).columnSpan>1,a=new SD(this.Grid.columns.getColumn(r).width,this.gridHeight>0?this.gridHeight:this.currentPageBounds.height),l=t.cells.getCell(r).style;t.cells.getCell(r).style=l;var h=null;if(t.cells.getCell(r)._rowHeight=t.height,h=t.cells.getCell(r).draw(this.currentGraphics,new wD(n,a),o),t.rowBreakHeight>0&&null!=h&&"undefined"!==typeof h.remainder&&(t.cells.getCell(r).FinishedDrawingCell=!1,t.cells.getCell(r).remainingString=null==h.remainder?" ":h.remainder,t.rowBreakHeight=i-h.actualSize.height),e.isFinish=e.isFinish?t.cells.getCell(r).FinishedDrawingCell:e.isFinish,t.cells.getCell(r).value instanceof Vj){var c=t.cells.getCell(r).value;this.rowBreakPageHeightCellIndex=r,this.Grid.columns.getColumn(r).width>=this.currentGraphics.clientSize.width?(n.x=this.rowLayoutBoundsWidth,n.x+=c.style.cellSpacing):n.x+=this.Grid.columns.getColumn(r).width}else n.x+=this.Grid.columns.getColumn(r).width}this.currentBounds.y+=this.gridHeight>0?this.gridHeight:i,e.bounds=new wD(new MD(e.bounds.x,e.bounds.y),new SD(n.x,n.y))},t.repeatRowIndex=-1,t}(JA),wj=function(e){function t(t,i){return e.call(this,t,i)||this}return Mj(t,e),t}(ej),_j=function(e){function t(t){return e.call(this,t)||this}return Mj(t,e),t}(ZA),Ij=function(){function e(e,t,i,n,r){this.gridRowIndex=t,this.gridCellIndex=i,this.internalValue=r,this.gridBounds=n,this.pdfGraphics=e}return Object.defineProperty(e.prototype,"rowIndex",{get:function(){return this.gridRowIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellIndex",{get:function(){return this.gridCellIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.internalValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.gridBounds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){return this.pdfGraphics},enumerable:!0,configurable:!0}),e}(),Nj=function(e){function t(t,i,n,r,s,o){var a=e.call(this,t,i,n,r,s)||this;return a.style=o,a}return Mj(t,e),Object.defineProperty(t.prototype,"skip",{get:function(){return this.bSkip},set:function(e){this.bSkip=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this.cellStyle},set:function(e){this.cellStyle=e},enumerable:!0,configurable:!0}),t}(Ij),Cj=function(e){function t(t,i,n,r,s,o){var a=e.call(this,t,i,n,r,s)||this;return a.cellStyle=o,a}return Mj(t,e),Object.defineProperty(t.prototype,"style",{get:function(){return this.cellStyle},enumerable:!0,configurable:!0}),t}(Ij),xj=function(){function e(){}return Object.defineProperty(e.prototype,"cancel",{get:function(){return this.isCancel},set:function(e){this.isCancel=e},enumerable:!0,configurable:!0}),e}(),Dj=function(e){function t(t,i){var n=e.call(this)||this;return n.bounds=t,n.pdfPage=i,n}return Mj(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.cellBounds},set:function(e){this.cellBounds=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),t}(xj),Tj=function(e){function t(t){var i=e.call(this)||this;return i.layoutResult=t,i}return Mj(t,e),Object.defineProperty(t.prototype,"result",{get:function(){return this.layoutResult},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextPage",{get:function(){return this.nextPdfPage},set:function(e){this.nextPdfPage=e},enumerable:!0,configurable:!0}),t}(xj),Aj=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.startRow=n,r}return Mj(t,e),Object.defineProperty(t.prototype,"startRowIndex",{get:function(){return this.startRow},enumerable:!0,configurable:!0}),t}(Dj),jj=function(e){function t(t){return e.call(this,t)||this}return Mj(t,e),t}(Tj),Ej=function(){function e(){this.layoutedBounds=new wD(0,0,0,0)}return Object.defineProperty(e.prototype,"isFinish",{get:function(){return this.bIsFinished},set:function(e){this.bIsFinished=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.layoutedBounds},set:function(e){this.layoutedBounds=e},enumerable:!0,configurable:!0}),e}(),kj=function(){function e(e){this.cellWidth=0,this.cellHeight=0,this.tempval=0,this.fontSpilt=!1,this.finsh=!0,this.rowSpanRemainingHeight=0,this.hasRowSpan=!1,this.hasColSpan=!1,this.isFinish=!0,this.present=!1,this.gridRowSpan=1,this.colSpan=1,"undefined"!==typeof e&&(this.gridRow=e)}return Object.defineProperty(e.prototype,"isCellMergeContinue",{get:function(){return this.internalIsCellMergeContinue},set:function(e){this.internalIsCellMergeContinue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRowMergeContinue",{get:function(){return this.internalIsRowMergeContinue},set:function(e){this.internalIsRowMergeContinue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCellMergeStart",{get:function(){return this.internalIsCellMergeStart},set:function(e){this.internalIsCellMergeStart=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRowMergeStart",{get:function(){return this.internalIsRowMergeStart},set:function(e){this.internalIsRowMergeStart=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remainingString",{get:function(){return this.remaining},set:function(e){this.remaining=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FinishedDrawingCell",{get:function(){return this.isFinish},set:function(e){this.isFinish=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stringFormat",{get:function(){return null==this.format&&(this.format=new oT),this.format},set:function(e){this.format=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row",{get:function(){return this.gridRow},set:function(e){this.gridRow=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.objectValue},set:function(e){if(this.objectValue=e,this.objectValue instanceof Vj){this.row.grid.isSingleGrid=!1,this.objectValue.ParentCell=this,this.objectValue.isChildGrid=!0;for(var t=this.row.grid.rows.count,i=0;i<t;i++)for(var n=this.row.grid.rows.getRow(i),r=n.cells.count,s=0;s<r;s++){n.cells.getCell(s).parent=this}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowSpan",{get:function(){return this.gridRowSpan},set:function(e){if(e<1)throw new Error("ArgumentException : Invalid span specified, must be greater than or equal to 1");this.gridRowSpan=e,this.row.rowSpanExists=!0,this.row.grid.hasRowSpanSpan=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return null==this.cellStyle&&(this.cellStyle=new KA),this.cellStyle},set:function(e){this.cellStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 0===this.cellHeight&&(this.cellHeight=this.measureHeight()),this.cellHeight},set:function(e){this.cellHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpan",{get:function(){return this.colSpan},set:function(e){if(e<1)throw Error("Invalid span specified, must be greater than or equal to 1");this.colSpan=e,this.row.columnSpanExists=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return(0===this.cellWidth||this.row.grid.isComplete)&&(this.cellWidth=this.measureWidth()),Math.round(this.cellWidth)},set:function(e){this.cellWidth=e},enumerable:!0,configurable:!0}),e.prototype.measureWidth=function(){var e=0,t=new lT;if("string"===typeof this.objectValue)e+=t.layout(this.objectValue,this.getTextFont(),this.stringFormat,new SD(Number.MAX_VALUE,Number.MAX_VALUE),!1,new SD(0,0)).actualSize.width,e+=2*(this.style.borders.left.width+this.style.borders.right.width);else if(this.objectValue instanceof Vj)e=this.objectValue.size.width;else if(this.objectValue instanceof lA||this.objectValue instanceof cA)e+=this.objectValue.width;else if(this.objectValue instanceof bj){var i=this.objectValue;e+=t.layout(i.text,i.font,i.stringFormat,new SD(0,0),!1,new SD(0,0)).actualSize.width,e+=2*(this.style.borders.left.width+this.style.borders.right.width)}return this.objectValue instanceof Vj?null!=this.style.cellPadding||"undefined"!==typeof this.style.cellPadding?("undefined"!==typeof this.style.cellPadding.left&&this.style.cellPadding.hasLeftPad&&(e+=this.style.cellPadding.left),"undefined"!==typeof this.style.cellPadding.right&&this.style.cellPadding.hasRightPad&&(e+=this.style.cellPadding.right)):("undefined"!==typeof this.row.grid.style.cellPadding.left&&this.row.grid.style.cellPadding.hasLeftPad&&(e+=this.row.grid.style.cellPadding.left),"undefined"!==typeof this.row.grid.style.cellPadding.right&&this.row.grid.style.cellPadding.hasRightPad&&(e+=this.row.grid.style.cellPadding.right)):null!=this.style.cellPadding?e+=this.style.cellPadding.left+this.style.cellPadding.right:e+=this.row.grid.style.cellPadding.left+this.row.grid.style.cellPadding.right,e+=this.row.grid.style.cellSpacing},e.prototype.drawCellBackground=function(e,t){var i=this.getBackgroundBrush();if(null!=i&&(e.save(),e.drawRectangle(i,t.x,t.y,t.width,t.height),e.restore()),null!=this.style.backgroundImage){this.getBackgroundImage();e.drawImage(this.style.backgroundImage,t.x,t.y,t.width,t.height)}},e.prototype.adjustContentLayoutArea=function(e){var t=new wD(e.x,e.y,e.width,e.height);return this.objectValue instanceof Vj?(null==this.style.cellPadding||"undefined"===typeof this.style.cellPadding?("undefined"!==typeof this.gridRow.grid.style.cellPadding.left&&this.gridRow.grid.style.cellPadding.hasLeftPad&&(t.x+=this.gridRow.grid.style.cellPadding.left+this.cellStyle.borders.left.width,t.width-=this.gridRow.grid.style.cellPadding.left),"undefined"!==typeof this.gridRow.grid.style.cellPadding.top&&this.gridRow.grid.style.cellPadding.hasTopPad&&(t.y+=this.gridRow.grid.style.cellPadding.top+this.cellStyle.borders.top.width,t.height-=this.gridRow.grid.style.cellPadding.top),"undefined"!==typeof this.gridRow.grid.style.cellPadding.right&&this.gridRow.grid.style.cellPadding.hasRightPad&&(t.width-=this.gridRow.grid.style.cellPadding.right),"undefined"!==typeof this.gridRow.grid.style.cellPadding.bottom&&this.gridRow.grid.style.cellPadding.hasBottomPad&&(t.height-=this.gridRow.grid.style.cellPadding.bottom)):("undefined"!==typeof this.style.cellPadding.left&&this.style.cellPadding.hasLeftPad&&(t.x+=this.style.cellPadding.left+this.cellStyle.borders.left.width,t.width-=this.style.cellPadding.left),"undefined"!==typeof this.style.cellPadding.top&&this.style.cellPadding.hasTopPad&&(t.y+=this.style.cellPadding.top+this.cellStyle.borders.top.width,t.height-=this.style.cellPadding.top),"undefined"!==typeof this.style.cellPadding.right&&this.style.cellPadding.hasRightPad&&(t.width-=this.style.cellPadding.right),"undefined"!==typeof this.style.cellPadding.bottom&&this.style.cellPadding.hasBottomPad&&(t.height-=this.style.cellPadding.bottom)),t.width-=this.cellStyle.borders.left.width+this.cellStyle.borders.right.width,t.height-=this.cellStyle.borders.top.width+this.cellStyle.borders.bottom.width):"undefined"===typeof this.style.cellPadding||null==this.style.cellPadding?(t.x+=this.gridRow.grid.style.cellPadding.left+this.cellStyle.borders.left.width,t.y+=this.gridRow.grid.style.cellPadding.top+this.cellStyle.borders.top.width,t.width-=this.gridRow.grid.style.cellPadding.right+this.gridRow.grid.style.cellPadding.left,t.height-=this.gridRow.grid.style.cellPadding.bottom+this.gridRow.grid.style.cellPadding.top,t.height-=this.cellStyle.borders.top.width+this.cellStyle.borders.bottom.width):(t.x+=this.style.cellPadding.left+this.cellStyle.borders.left.width,t.y+=this.style.cellPadding.top+this.cellStyle.borders.top.width,t.width-=this.style.cellPadding.right+this.style.cellPadding.left,t.width-=this.cellStyle.borders.left.width+this.cellStyle.borders.right.width,t.height-=this.style.cellPadding.bottom+this.style.cellPadding.top,t.height-=this.cellStyle.borders.top.width+this.cellStyle.borders.bottom.width,1===this.rowSpan&&(t.width-=this.style.borders.left.width)),t},e.prototype.draw=function(e,t,i){var n=null;if(this.internalIsCellMergeContinue||this.internalIsRowMergeContinue){if(!this.internalIsCellMergeContinue||!this.row.grid.style.allowHorizontalOverflow)return n;if(this.row.rowOverflowIndex>0&&this.row.cells.indexOf(this)!=this.row.rowOverflowIndex+1||0==this.row.rowOverflowIndex&&this.internalIsCellMergeContinue)return n}t=this.adjustOuterLayoutArea(t,e),this.drawCellBackground(e,t);var r=this.getTextPen(),s=this.getTextBrush();"undefined"===typeof r&&"undefined"===typeof s&&(s=new rT(new tT(0,0,0)));var o=this.getTextFont(),a=this.getStringFormat(),l=t;if(l.height>=e.clientSize.height&&this.row.grid.allowRowBreakAcrossPages&&(l.height-=l.y,"undefined"!==typeof this._rowHeight&&null!==this._rowHeight&&l.height>this._rowHeight&&(l.height=this._rowHeight)),l=this.adjustContentLayoutArea(l),"string"===typeof this.objectValue||"string"===typeof this.remaining){var h=void 0,c=void 0;if(c=l.height<o.height?new wD(l.x,l.y,l.width,o.height):l,l.height<o.height&&this.row.grid.isChildGrid&&null!=this.row.grid.ParentCell){var u=c.height-this.row.grid.ParentCell.row.grid.style.cellPadding.bottom-this.row.grid.style.cellPadding.bottom;-1!=this.row.grid.splitChildRowIndex&&(this.fontSpilt=!0,this.row.rowFontSplit=!0),u>0&&u<o.height&&(c.height=u)}0!=this.gridRow.grid.style.cellSpacing&&(c.width-=this.gridRow.grid.style.cellSpacing,t.width-=this.gridRow.grid.style.cellSpacing),this.isFinish?(h=""===this.remaining?this.remaining:this.objectValue,e.drawString(h,o,r,s,c.x,c.y,c.width,c.height,a),-1==this.row.grid.splitChildRowIndex||this.row.grid.isChildGrid||"undefined"!==typeof this.remaining||(this.remaining="")):("undefined"!=typeof this.remaining&&null!==this.remaining||(this.remaining=""),this.row.repeatFlag&&e.drawString(this.remaining,o,r,s,c.x,c.y,c.width,c.height,a),this.isFinish=!0),n=e.stringLayoutResult}else if(this.objectValue instanceof Vj){var p=this.objectValue;p.isChildGrid=!0,p.ParentCell=this;var d;d=l,0!=this.gridRow.grid.style.cellSpacing&&(t.width-=this.gridRow.grid.style.cellSpacing);var f=new Sj(p),g=new _j;null!=this.row.grid.LayoutFormat?g=this.row.grid.LayoutFormat:g.layout=uT.Paginate;var m=new $A;if(null!=e.layer){m.page=e.page,m.bounds=d,m.format=g,p.setSpan(),p.checkSpan();var y=f.Layouter(m);this.value=p,-1!==this.row.grid.splitChildRowIndex&&(this.height=this.row.rowBreakHeightValue),m.page!=y.page&&(y.bounds.height=this.row.rowBreakHeightValue,0==this.row.rowBreakHeight?this.row.NestedGridLayoutResult=y:this.row.rowBreakHeight=this.row.rowBreakHeightValue)}}else if(this.objectValue instanceof lA||this.objectValue instanceof cA){var v=void 0;v=this.objectValue.width<=l.width?new wD(l.x,l.y,this.objectValue.width,l.height):l,e.drawImage(this.objectValue,v.x,v.y,v.width,v.height)}else this.objectValue instanceof bj?this.objectValue.draw(e.currentPage,l):"undefined"===typeof this.objectValue&&(this.objectValue="",e.drawString(this.objectValue,o,r,s,l.x,l.y,l.width,l.height,a),null!=this.style.cellPadding&&0==this.style.cellPadding.bottom&&0==this.style.cellPadding.left&&0==this.style.cellPadding.right&&0==this.style.cellPadding.top&&(t.width-=this.style.borders.left.width+this.style.borders.right.width),0!=this.gridRow.grid.style.cellSpacing&&(t.width-=this.gridRow.grid.style.cellSpacing));return null!=this.style.borders&&(this.fontSpilt?-1!=this.row.grid.ParentCell.row.grid.splitChildRowIndex&&(this.row.rowFontSplit=!1,this.drawCellBorders(e,t)):this.drawCellBorders(e,t)),n},e.prototype.drawCellBorders=function(e,t){this.row.grid.style.borderOverlapStyle===sA.Inside&&(t.x+=this.style.borders.left.width,t.y+=this.style.borders.top.width,t.width-=this.style.borders.right.width,t.height-=this.style.borders.bottom.width);var i=new MD(t.x,t.y+t.height),n=new MD(t.x,t.y),r=this.cellStyle.borders.left;this.cellStyle.borders.left.dashStyle===jD.Solid&&(r.lineCap=AD.Square),0!==r.width&&e.drawLine(r,i,n),i=new MD(t.x+t.width,t.y),n=new MD(t.x+t.width,t.y+t.height),r=this.cellStyle.borders.right,t.x+t.width>e.clientSize.width-r.width/2&&(i=new MD(e.clientSize.width-r.width/2,t.y),n=new MD(e.clientSize.width-r.width/2,t.y+t.height)),this.cellStyle.borders.right.dashStyle===jD.Solid&&(r.lineCap=AD.Square),0!==r.width&&e.drawLine(r,i,n),i=new MD(t.x,t.y),n=new MD(t.x+t.width,t.y),r=this.cellStyle.borders.top,this.cellStyle.borders.top.dashStyle===jD.Solid&&(r.lineCap=AD.Square),0!==r.width&&e.drawLine(r,i,n),i=new MD(t.x+t.width,t.y+t.height),n=new MD(t.x,t.y+t.height),r=this.cellStyle.borders.bottom,t.y+t.height>e.clientSize.height-r.width/2&&(i=new MD(t.x+t.width,e.clientSize.height-r.width/2),n=new MD(t.x,e.clientSize.height-r.width/2)),this.cellStyle.borders.bottom.dashStyle===jD.Solid&&(r.lineCap=AD.Square),0!==r.width&&e.drawLine(r,i,n)},e.prototype.adjustOuterLayoutArea=function(e,t){var i=!1,n=this.row.grid.style.cellSpacing;n>0&&(e=new wD(e.x+n,e.y+n,e.width-n,e.height-n));var r=this.row.cells.indexOf(this);if(this.columnSpan>1||this.row.rowOverflowIndex>0&&r==this.row.rowOverflowIndex+1&&this.isCellMergeContinue){if(1==(h=this.columnSpan)&&this.isCellMergeContinue)for(var s=r+1;s<this.row.grid.columns.count&&this.row.cells.getCell(s).isCellMergeContinue;s++)h++;for(var o=0,a=r;a<r+h;a++){if(this.row.grid.style.allowHorizontalOverflow){var l=this.row.grid.size.width<t.clientSize.width?this.row.grid.size.width:t.clientSize.width;if((this.row.grid.size.width>t.clientSize.width?e.x+o+this.row.grid.columns.getColumn(a).width:o+this.row.grid.columns.getColumn(a).width)>l)break}o+=this.row.grid.columns.getColumn(a).width}o-=this.row.grid.style.cellSpacing,e.width=o}if(this.rowSpan>1||this.row.rowSpanExists){var h=this.rowSpan,c=this.row.grid.rows.rowCollection.indexOf(this.row);-1==c&&-1!=(c=this.row.grid.headers.indexOf(this.row))&&(i=!0);var u=0;for(a=c;a<c+h;a++){u+=i?this.row.grid.headers.getHeader(a).height:this.row.grid.rows.getRow(a).height;var p=this.row.grid.rows.getRow(a);this.row.grid.rows.rowCollection.indexOf(p)}this.row.cells.indexOf(this);u-=this.row.grid.style.cellSpacing,e.height=u,this.row.rowMergeComplete||(e.height=u)}return e},e.prototype.getTextFont=function(){return"undefined"!==typeof this.style.font&&null!=this.style.font?this.style.font:"undefined"!==typeof this.row.style.font&&null!=this.row.style.font?this.row.style.font:"undefined"!==typeof this.row.grid.style.font&&null!=this.row.grid.style.font?this.row.grid.style.font:UA.defaultFont},e.prototype.getTextBrush=function(){return"undefined"!==typeof this.style.textBrush&&null!=this.style.textBrush?this.style.textBrush:"undefined"!==typeof this.row.style.textBrush&&null!=this.row.style.textBrush?this.row.style.textBrush:this.row.grid.style.textBrush},e.prototype.getTextPen=function(){return"undefined"!==typeof this.style.textPen&&null!=this.style.textPen?this.style.textPen:"undefined"!==typeof this.row.style.textPen&&null!=this.row.style.textPen?this.row.style.textPen:this.row.grid.style.textPen},e.prototype.getBackgroundBrush=function(){return"undefined"!==typeof this.style.backgroundBrush&&null!=this.style.backgroundBrush?this.style.backgroundBrush:"undefined"!==typeof this.row.style.backgroundBrush&&null!=this.row.style.backgroundBrush?this.row.style.backgroundBrush:this.row.grid.style.backgroundBrush},e.prototype.getBackgroundImage=function(){return"undefined"!==typeof this.style.backgroundImage&&null!=this.style.backgroundImage?this.style.backgroundImage:"undefined"!==typeof this.row.style.backgroundImage&&null!=this.row.style.backgroundImage?this.row.style.backgroundImage:this.row.grid.style.backgroundImage},e.prototype.getStringFormat=function(){return"undefined"!==typeof this.style.stringFormat&&null!=this.style.stringFormat?this.style.stringFormat:this.stringFormat},e.prototype.measureHeight=function(){var e=this.calculateWidth();null==this.style.cellPadding||"undefined"===typeof this.style.cellPadding?e-=this.gridRow.grid.style.cellPadding.right+this.gridRow.grid.style.cellPadding.left:(e-=this.style.cellPadding.right+this.style.cellPadding.left,e-=this.style.borders.left.width+this.style.borders.right.width);var t=0,i=new lT;if("string"===typeof this.objectValue||"string"===typeof this.remaining){var n=this.objectValue;this.isFinish||(n=null!==this.remaining&&""!==this.remaining&&"undefined"!==typeof this.remaining?this.remaining:this.objectValue);var r=this.row.cells.indexOf(this);0!=this.gridRow.grid.style.cellSpacing&&(e-=2*this.gridRow.grid.style.cellSpacing),this.row.cells.getCell(r).hasColSpan||this.row.cells.getCell(r).hasRowSpan||(this.gridRow.grid.isChildGrid?(e<0?(this.tempval=e,null==this.style.cellPadding||"undefined"===typeof this.style.cellPadding?this.tempval+=this.gridRow.grid.style.cellPadding.right+this.gridRow.grid.style.cellPadding.left:(this.tempval+=this.style.cellPadding.right+this.style.cellPadding.left,this.tempval+=this.style.borders.left.width+this.style.borders.right.width)):this.tempval=e,t+=i.layout(n,this.getTextFont(),this.stringFormat,new SD(this.tempval,0),!1,new SD(0,0)).actualSize.height):t+=i.layout(n,this.getTextFont(),this.stringFormat,new SD(e,0),!1,new SD(0,0)).actualSize.height),t+=2*(this.style.borders.top.width+this.style.borders.bottom.width)}else if(this.objectValue instanceof Vj){r=this.row.cells.indexOf(this);var s=0;null!=this.style.cellPadding||"undefined"!==typeof this.style.cellPadding?(s=this.calculateWidth(),"undefined"!==typeof this.style.cellPadding.left&&this.style.cellPadding.hasLeftPad&&(s-=this.style.cellPadding.left),"undefined"!==typeof this.style.cellPadding.right&&this.style.cellPadding.hasRightPad&&(s-=this.style.cellPadding.right)):null!=this.row.grid.style.cellPadding||"undefined"!==typeof this.row.grid.style.cellPadding?(s=this.calculateWidth(),"undefined"!==typeof this.row.grid.style.cellPadding.left&&this.row.grid.style.cellPadding.hasLeftPad&&(s-=this.row.grid.style.cellPadding.left),"undefined"!==typeof this.row.grid.style.cellPadding.right&&this.row.grid.style.cellPadding.hasRightPad&&(s-=this.row.grid.style.cellPadding.right)):s=this.calculateWidth(),this.objectValue.tempWidth=s,this.row.cells.getCell(r).hasColSpan||this.row.cells.getCell(r).hasRowSpan?t+=2*(this.style.borders.top.width+this.style.borders.bottom.width):t=this.objectValue.size.height,0!==this.gridRow.grid.style.cellSpacing&&(e-=2*this.gridRow.grid.style.cellSpacing),null==this.style.cellPadding&&"undefined"===typeof this.style.cellPadding||("undefined"!==typeof this.row.grid.style.cellPadding.top&&this.row.grid.style.cellPadding.hasTopPad&&(t+=this.row.grid.style.cellPadding.top),this.row.grid.style.cellPadding.hasBottomPad&&"undefined"!==typeof this.row.grid.style.cellPadding.bottom&&(t+=this.row.grid.style.cellPadding.bottom)),t+=this.objectValue.style.cellSpacing}else if(this.objectValue instanceof lA||this.objectValue instanceof cA)t+=this.objectValue.height;else if(this.objectValue instanceof bj){var o=this.objectValue;t+=i.layout(o.text,o.font,o.stringFormat,new SD(e,0),!1,new SD(0,0)).actualSize.height,t+=2*(this.style.borders.top.width+this.style.borders.bottom.width)}else"undefined"===typeof this.objectValue&&(null==this.style.cellPadding||"undefined"===typeof this.style.cellPadding?e-=this.gridRow.grid.style.cellPadding.right+this.gridRow.grid.style.cellPadding.left:(e-=this.style.cellPadding.right+this.style.cellPadding.left,e-=this.style.borders.left.width+this.style.borders.right.width),t+=2*(this.style.borders.top.width+this.style.borders.bottom.width));return this.objectValue instanceof Vj?null==this.style.cellPadding||"undefined"===typeof this.style.cellPadding?("undefined"!==typeof this.row.grid.style.cellPadding.top&&this.row.grid.style.cellPadding.hasTopPad&&(t+=this.row.grid.style.cellPadding.top),"undefined"!==typeof this.row.grid.style.cellPadding.bottom&&this.row.grid.style.cellPadding.hasBottomPad&&(t+=this.row.grid.style.cellPadding.bottom)):("undefined"!==typeof this.style.cellPadding.top&&this.style.cellPadding.hasTopPad&&(t+=this.style.cellPadding.top),"undefined"!==typeof this.style.cellPadding.bottom&&this.style.cellPadding.hasBottomPad&&(t+=this.style.cellPadding.bottom)):null==this.style.cellPadding||"undefined"===typeof this.style.cellPadding?t+=this.row.grid.style.cellPadding.top+this.row.grid.style.cellPadding.bottom:t+=this.style.cellPadding.top+this.style.cellPadding.bottom,t+=this.row.grid.style.cellSpacing},e.prototype.calculateWidth=function(){var e=this.row.cells.indexOf(this),t=(this.row.grid.rows.rowCollection.indexOf(this.row),this.columnSpan),i=0;if(1===t)for(var n=0;n<t;n++)i+=this.row.grid.columns.getColumn(e+n).width;else if(t>1)for(n=0;n<t;n++)i+=this.row.grid.columns.getColumn(e+n).width,n+1<t&&(this.row.cells.getCell(e+n+1).hasColSpan=!0);if(null!=this.parent&&this.parent.row.width>0&&this.row.grid.isChildGrid&&null!=this.parent&&this.row.width>this.parent.row.width){i=0;for(var r=0;r<this.parent.columnSpan;r++)i+=this.parent.row.grid.columns.getColumn(r).width;i/=this.row.cells.count}return i},e}(),zj=function(){function e(e){this.cells=[],this.gridRow=e}return e.prototype.getCell=function(e){if(e<0||e>=this.count)throw new Error("IndexOutOfRangeException");return this.cells[e]},Object.defineProperty(e.prototype,"count",{get:function(){return this.cells.length},enumerable:!0,configurable:!0}),e.prototype.add=function(e){if("undefined"===typeof e){var t=new kj;return this.add(t),e}e.row=this.gridRow,this.cells.push(e)},e.prototype.indexOf=function(e){return this.cells.indexOf(e)},e}(),Lj=function(){function e(e){this.columnWidth=0,this.grid=e}return Object.defineProperty(e.prototype,"width",{get:function(){return this.columnWidth},set:function(e){this.isCustomWidth=!0,this.columnWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return null==this.stringFormat&&(this.stringFormat=new oT),this.stringFormat},set:function(e){this.stringFormat=e},enumerable:!0,configurable:!0}),e}(),Oj=function(){function e(e){this.internalColumns=[],this.columnWidth=0,this.grid=e,this.internalColumns=[]}return e.prototype.add=function(e){for(var t=0;t<e;t++){this.internalColumns.push(new Lj(this.grid));for(var i=0;i<this.grid.rows.count;i++){var n=this.grid.rows.getRow(i),r=new kj;r.value="",n.cells.add(r)}}},Object.defineProperty(e.prototype,"count",{get:function(){return this.internalColumns.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 0===this.columnWidth&&(this.columnWidth=this.measureColumnsWidth()),0===this.grid.initialWidth||this.columnWidth===this.grid.initialWidth||this.grid.style.allowHorizontalOverflow||(this.columnWidth=this.grid.initialWidth,this.grid.isPageWidth=!0),this.columnWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this.internalColumns},enumerable:!0,configurable:!0}),e.prototype.getColumn=function(e){if(e>=0&&e<=this.columns.length)return this.columns[e];throw Error("can not get the column from the index: "+e)},e.prototype.measureColumnsWidth=function(){var e=0;this.grid.measureColumnsWidth();for(var t=0,i=this.internalColumns.length;t<i;t++)e+=this.internalColumns[t].width;return e},e.prototype.getDefaultWidths=function(e){for(var t=[],i=this.count,n=0;n<this.count;n++)this.grid.isPageWidth&&e>=0&&!this.internalColumns[n].isCustomWidth?this.internalColumns[n].width=0:(t[n]=this.internalColumns[n].width,this.internalColumns[n].width>0&&this.internalColumns[n].isCustomWidth?(e-=this.internalColumns[n].width,i--):t[n]=0);for(n=0;n<this.count;n++){var r=e/i;t[n]<=0&&(t[n]=r)}return t},e}(),Pj=function(){function e(e){this.gridRowOverflowIndex=0,this.rowHeight=0,this.rowWidth=0,this.isrowFinish=!1,this.isRowSpanRowHeightSet=!1,this.noOfPageCount=0,this.isRowHeightSet=!1,this.isPageBreakRowSpanApplied=!1,this.isRowMergeComplete=!0,this.repeatFlag=!1,this.rowFontSplit=!1,this.isHeaderRow=!1,this.pdfGrid=e}return Object.defineProperty(e.prototype,"rowSpanExists",{get:function(){return this.bRowSpanExists},set:function(e){this.bRowSpanExists=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cells",{get:function(){return null==this.gridCells&&(this.gridCells=new zj(this)),this.gridCells},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.pdfGrid},set:function(e){this.pdfGrid=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return"undefined"===typeof this.rowStyle&&(this.rowStyle=new XA,this.rowStyle.setParent(this)),this.rowStyle},set:function(e){this.rowStyle=e;for(var t=0;t<this.cells.count;t++)this.cells.getCell(t).style.borders=e.border,"undefined"!==typeof e.font&&(this.cells.getCell(t).style.font=e.font),"undefined"!==typeof e.backgroundBrush&&(this.cells.getCell(t).style.backgroundBrush=e.backgroundBrush),"undefined"!==typeof e.backgroundImage&&(this.cells.getCell(t).style.backgroundImage=e.backgroundImage),"undefined"!==typeof e.textBrush&&(this.cells.getCell(t).style.textBrush=e.textBrush),"undefined"!==typeof e.textPen&&(this.cells.getCell(t).style.textPen=e.textPen)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowBreakHeight",{get:function(){return"undefined"===typeof this.gridRowBreakHeight&&(this.gridRowBreakHeight=0),this.gridRowBreakHeight},set:function(e){this.gridRowBreakHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowOverflowIndex",{get:function(){return this.gridRowOverflowIndex},set:function(e){this.gridRowOverflowIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.isRowHeightSet||(this.rowHeight=this.measureHeight()),this.rowHeight},set:function(e){this.rowHeight=e,this.isRowHeightSet=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 0!==this.rowWidth&&"undefined"!==typeof this.rowWidth||(this.rowWidth=this.measureWidth()),this.rowWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NestedGridLayoutResult",{get:function(){return this.gridResult},set:function(e){this.gridResult=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpanExists",{get:function(){return this.bColumnSpanExists},set:function(e){this.bColumnSpanExists=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowMergeComplete",{get:function(){return this.isRowMergeComplete},set:function(e){this.isRowMergeComplete=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowIndex",{get:function(){return this.grid.rows.rowCollection.indexOf(this)},enumerable:!0,configurable:!0}),e.prototype.measureHeight=function(){var e,t=0,i=0;e=this.cells.getCell(0).rowSpan>1?0:this.cells.getCell(0).height;for(var n=0;n<this.cells.count;n++){var r=this.cells.getCell(n);if(r.rowSpanRemainingHeight>t&&(t=r.rowSpanRemainingHeight),this.rowMergeComplete=!1,r.rowSpan>1){for(var s=n,o=this.isHeaderRow?this.grid.headers.indexOf(this):this.grid.rows.rowCollection.indexOf(this),a=0;a<r.rowSpan;a++)a+1<r.rowSpan&&((this.isHeaderRow?this.grid.headers.getHeader(o+a+1):this.grid.rows.getRow(o+a+1)).cells.getCell(s).hasRowSpan=!0);i<r.height&&(i=r.height)}else e=Math.max(e,r.height)}return i>e&&(e=i),0===e?e=i:t>0&&(e+=t),e},e.prototype.measureWidth=function(){for(var e=0,t=0;t<this.grid.columns.count;t++){e+=this.grid.columns.getColumn(t).width}return e},e}(),Rj=function(){function e(e){this.rows=[],this.grid=e}return Object.defineProperty(e.prototype,"count",{get:function(){return this.rows.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowCollection",{get:function(){return this.rows},enumerable:!0,configurable:!0}),e.prototype.addRow=function(e){if("undefined"===typeof e){var t=new Pj(this.grid);return this.addRow(t),t}if(e.style.setBackgroundBrush(this.grid.style.backgroundBrush),e.style.setFont(this.grid.style.font),e.style.setTextBrush(this.grid.style.textBrush),e.style.setTextPen(this.grid.style.textPen),0===e.cells.count)for(var i=0;i<this.grid.columns.count;i++)e.cells.add(new kj);this.rows.push(e)},e.prototype.getRow=function(e){return this.rows[e]},e}(),Fj=function(){function e(e){this.rows=[],this.grid=e,this.rows=[]}return e.prototype.getHeader=function(e){return this.rows[e]},Object.defineProperty(e.prototype,"count",{get:function(){return this.rows.length},enumerable:!0,configurable:!0}),e.prototype.add=function(e){if("number"===typeof e){for(var t=void 0,i=0;i<e;i++){(t=new Pj(this.grid)).isHeaderRow=!0;for(var n=0;n<this.grid.columns.count;n++)t.cells.add(new kj);this.rows.push(t)}return this.rows}this.rows.push(e)},e.prototype.indexOf=function(e){return this.rows.indexOf(e)},e}(),Bj=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Vj=function(e){function t(){var t=e.call(this)||this;return t.gridSize=new SD(0,0),t.isGridSplit=!1,t.isRearranged=!1,t.pageBounds=new wD,t.listOfNavigatePages=[],t.parentCellIndex=0,t.tempWidth=0,t.breakRow=!0,t.splitChildRowIndex=-1,t.hasRowSpanSpan=!1,t.hasColumnSpan=!1,t.isSingleGrid=!0,t}return Bj(t,e),Object.defineProperty(t.prototype,"raiseBeginCellDraw",{get:function(){return"undefined"!==typeof this.beginCellDraw&&null!==typeof this.beginCellDraw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raiseEndCellDraw",{get:function(){return"undefined"!==typeof this.endCellDraw&&null!==typeof this.endCellDraw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatHeader",{get:function(){return null!=this.bRepeatHeader&&"undefined"!==typeof this.bRepeatHeader||(this.bRepeatHeader=!1),this.bRepeatHeader},set:function(e){this.bRepeatHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowRowBreakAcrossPages",{get:function(){return this.breakRow},set:function(e){this.breakRow=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return null!=this.gridColumns&&"undefined"!==typeof this.gridColumns||(this.gridColumns=new Oj(this)),this.gridColumns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return null==this.gridRows&&(this.gridRows=new Rj(this)),this.gridRows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headers",{get:function(){return null!=this.gridHeaders&&"undefined"!==typeof this.gridHeaders||(this.gridHeaders=new Fj(this)),this.gridHeaders},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialWidth",{get:function(){return this.gridInitialWidth},set:function(e){this.gridInitialWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return null==this.gridStyle&&(this.gridStyle=new GA),this.gridStyle},set:function(e){null==this.gridStyle&&(this.gridStyle=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPageWidth",{get:function(){return this.ispageWidth},set:function(e){this.ispageWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isChildGrid",{get:function(){return this.ischildGrid},set:function(e){this.ischildGrid=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return 0!==this.gridSize.width&&"undefined"!==typeof this.gridSize.width||0!==this.gridSize.height||(this.gridSize=this.measure()),this.gridSize},set:function(e){this.gridSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentCell",{get:function(){return this.parentCell},set:function(e){this.parentCell=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LayoutFormat",{get:function(){return this.layoutFormat},enumerable:!0,configurable:!0}),t.prototype.draw=function(e,t,i,n){if(t instanceof MD&&"undefined"===typeof t.width&&"undefined"===typeof i)return this.drawHelper(e,t.x,t.y);if("number"===typeof t&&"number"===typeof i&&"undefined"===typeof n)return this.drawHelper(e,t,i,null);if(t instanceof wD&&"undefined"!==typeof t.width&&"undefined"===typeof i)return this.drawHelper(e,t,null);if(t instanceof MD&&"undefined"===typeof t.width&&i instanceof ZA)return this.drawHelper(e,t.x,t.y,i);if("number"===typeof t&&"number"===typeof i&&(n instanceof ZA||null==n)){var r=e.graphics.clientSize.width-t,s=new wD(t,i,r,0);return this.drawHelper(e,s,n)}return t instanceof wD&&"undefined"!==typeof t.width&&"boolean"===typeof i?this.drawHelper(e,t,null):this.drawHelper(e,t,i)},t.prototype.measure=function(){for(var e=0,t=this.columns.width,i=0;i<this.headers.count;i++){e+=this.headers.getHeader(i).height}for(i=0;i<this.rows.count;i++){e+=this.rows.getRow(i).height}return new SD(t,e)},t.prototype.onBeginCellDraw=function(e){this.raiseBeginCellDraw&&this.beginCellDraw(this,e)},t.prototype.onEndCellDraw=function(e){this.raiseEndCellDraw&&this.endCellDraw(this,e)},t.prototype.layout=function(e){var t=e.bounds.width,i=e.bounds.height,n=!1;if("undefined"!==typeof e.bounds.width&&0!==e.bounds.width||(t=e.page.getClientSize().width-e.bounds.x,n=!0),"undefined"!==typeof e.bounds.height&&0!==e.bounds.height||(i=e.page.getClientSize().height-e.bounds.y,n=!0),n&&(e.bounds=new wD(e.bounds.x,e.bounds.y,t,i)),0!==this.rows.count){var r=this.rows.getRow(0).cells.getCell(0).style;if(null!=r.borders&&(null!=r.borders.left&&1!==r.borders.left.width||null!=r.borders.top&&1!==r.borders.top.width)){var s=r.borders.left.width/2,o=r.borders.top.width/2;if(e.bounds.x===HA.default.right.width/2&&e.bounds.y===HA.default.right.width/2){var a=new wD(s,o,this.gridSize.width,this.gridSize.height);e.bounds=a}}}return this.setSpan(),this.checkSpan(),this.layoutFormat=e.format,this.gridLocation=e.bounds,new Sj(this).Layouter(e)},t.prototype.setSpan=function(){for(var e=1,t=1,i=0,n=0,r=0,s=this.headers.count,o=0;o<s;o++){var a=this.headers.getHeader(o);r=0;for(var l=a.cells.count,h=0;h<l;h++){var c=a.cells.getCell(h);if(r=Math.max(r,c.rowSpan),!c.isCellMergeContinue&&!c.isRowMergeContinue&&(c.columnSpan>1||c.rowSpan>1)){if(c.columnSpan+h>a.cells.count)throw new Error("Invalid span specified at row "+h.toString()+" column "+o.toString());if(c.rowSpan+o>this.headers.count)throw new Error("Invalid span specified at Header "+h.toString()+" column "+o.toString());if(c.columnSpan>1&&c.rowSpan>1){for(e=c.columnSpan,t=c.rowSpan,i=h,n=o,c.isCellMergeStart=!0,c.isRowMergeStart=!0;e>1;)i++,a.cells.getCell(i).isCellMergeContinue=!0,a.cells.getCell(i).isRowMergeContinue=!0,a.cells.getCell(i).rowSpan=t,e--;for(i=h,e=c.columnSpan;t>1;){for(n++,this.headers.getHeader(n).cells.getCell(h).isRowMergeContinue=!0,this.headers.getHeader(n).cells.getCell(i).isRowMergeContinue=!0,t--;e>1;)i++,this.headers.getHeader(n).cells.getCell(i).isCellMergeContinue=!0,this.headers.getHeader(n).cells.getCell(i).isRowMergeContinue=!0,e--;e=c.columnSpan,i=h}}else if(c.columnSpan>1&&1===c.rowSpan)for(e=c.columnSpan,i=h,c.isCellMergeStart=!0;e>1;)i++,a.cells.getCell(i).isCellMergeContinue=!0,e--;else if(1===c.columnSpan&&c.rowSpan>1)for(t=c.rowSpan,n=o;t>1;)n++,this.headers.getHeader(n).cells.getCell(h).isRowMergeContinue=!0,t--}}a.maximumRowSpan=r}},t.prototype.checkSpan=function(){var e,t,i=1,n=0,r=0;if(e=i=1,t=r=0,this.hasRowSpanSpan||this.hasColumnSpan)for(var s=this.rows.count,o=0;o<s;o++){var a=this.rows.getRow(o);n=0;for(var l=a.cells.count,h=0;h<l;h++){var c=a.cells.getCell(h);if(n=Math.max(n,c.rowSpan),!c.isCellMergeContinue&&!c.isRowMergeContinue&&(c.columnSpan>1||c.rowSpan>1)){if(c.columnSpan+h>a.cells.count)throw new Error("Invalid span specified at row  "+h.toString()+" column "+o.toString());if(c.rowSpan+o>this.rows.count)throw new Error("Invalid span specified at row  "+h.toString()+" column "+o.toString());if(c.columnSpan>1&&c.rowSpan>1){for(e=c.columnSpan,i=c.rowSpan,t=h,r=o,c.isCellMergeStart=!0,c.isRowMergeStart=!0;e>1;)t++,a.cells.getCell(t).isCellMergeContinue=!0,a.cells.getCell(t).isRowMergeContinue=!0,e--;for(t=h,e=c.columnSpan;i>1;){for(r++,this.rows.getRow(r).cells.getCell(h).isRowMergeContinue=!0,this.rows.getRow(r).cells.getCell(t).isRowMergeContinue=!0,i--;e>1;)t++,this.rows.getRow(r).cells.getCell(t).isCellMergeContinue=!0,this.rows.getRow(r).cells.getCell(t).isRowMergeContinue=!0,e--;e=c.columnSpan,t=h}}else if(c.columnSpan>1&&1===c.rowSpan)for(e=c.columnSpan,t=h,c.isCellMergeStart=!0;e>1;)t++,a.cells.getCell(t).isCellMergeContinue=!0,e--;else if(1===c.columnSpan&&c.rowSpan>1)for(i=c.rowSpan,r=o;i>1;)r++,this.rows.getRow(r).cells.getCell(h).isRowMergeContinue=!0,i--}}a.maximumRowSpan=n}},t.prototype.measureColumnsWidth=function(e){if("undefined"!==typeof e){this.isPageWidth=!1;for(var t=this.columns.getDefaultWidths(e.width-e.x),i=0,n=this.columns.count;i<n;i++)this.columns.getColumn(i).columnWidth=t[i],this.tempWidth=t[i];if(null!=this.ParentCell&&0==this.style.allowHorizontalOverflow&&0==this.ParentCell.row.grid.style.allowHorizontalOverflow){var r=0,s=0,o=this.columns.count,a=0;null==this.ParentCell.style.cellPadding&&"undefined"===typeof this.ParentCell.style.cellPadding||("undefined"!=typeof this.ParentCell.style.cellPadding.left&&this.ParentCell.style.cellPadding.hasLeftPad&&(r+=this.ParentCell.style.cellPadding.left),"undefined"!=typeof this.ParentCell.style.cellPadding.right&&this.ParentCell.style.cellPadding.hasRightPad&&(r+=this.ParentCell.style.cellPadding.right));for(i=0;i<this.ParentCell.columnSpan;i++)s+=this.ParentCell.row.grid.columns.getColumn(this.parentCellIndex+i).width;for(var l=0;l<this.columns.count;l++)this.gridColumns.getColumn(l).width>0&&this.gridColumns.getColumn(l).isCustomWidth&&(s-=this.gridColumns.getColumn(l).width,o--);if(null==this.ParentCell.row.grid.style.cellPadding&&"undefined"==typeof this.ParentCell.row.grid.style.cellPadding||("undefined"!=typeof this.ParentCell.row.grid.style.cellPadding.top&&this.ParentCell.row.grid.style.cellPadding.hasTopPad&&(r+=this.ParentCell.row.grid.style.cellPadding.top),"undefined"!=typeof this.ParentCell.row.grid.style.cellPadding.bottom&&this.ParentCell.row.grid.style.cellPadding.hasBottomPad&&(r+=this.ParentCell.row.grid.style.cellPadding.bottom)),0!=this.ParentCell.row.grid.style.cellSpacing&&(s-=2*this.ParentCell.row.grid.style.cellSpacing),s>r&&(a=(s-r)/o,this.tempWidth=a,null!=this.ParentCell))for(l=0;l<this.columns.count;l++)this.columns.getColumn(l).isCustomWidth||(this.columns.getColumn(l).columnWidth=a)}}else{t=[this.columns.count];for(var h=0;h<this.columns.count;h++)t[h]=0;var c=0;if(("undefined"===typeof this.isChildGrid&&"undefined"!==typeof this.gridLocation||null===this.isChildGrid&&"undefined"!==typeof this.gridLocation)&&(this.initialWidth=this.gridLocation.width),this.headers.count>0){var u=this.headers.getHeader(0).cells.count,p=this.headers.count;for(i=0;i<u;i++){c=0;for(l=0;l<p;l++){var d=Math.min(this.initialWidth,this.headers.getHeader(l).cells.getCell(i).width);c=Math.max(c,d)}t[i]=c}}c=0;i=0;for(var f=this.columns.count;i<f;i++){for(l=0,p=this.rows.count;l<p;l++)if(1==this.rows.getRow(l).cells.getCell(i).columnSpan&&!this.rows.getRow(l).cells.getCell(i).isCellMergeContinue||null!=this.rows.getRow(l).cells.getCell(i).value){if(null!=this.rows.getRow(l).cells.getCell(i).value&&!this.rows.getRow(l).grid.style.allowHorizontalOverflow)this.rows.getRow(l).grid.style.cellPadding.right,this.rows.getRow(l).grid.style.cellPadding.left,this.rows.getRow(l).cells.getCell(i).style.borders.left.width;d=0;d=this.initialWidth>0?Math.min(this.initialWidth,this.rows.getRow(l).cells.getCell(i).width):this.rows.getRow(l).cells.getCell(i).width,c=Math.max(t[i],Math.max(c,d)),c=Math.max(this.columns.getColumn(i).width,c)}0!=this.rows.count&&(t[i]=c),c=0}i=0;for(var g=this.rows.count;i<g;i++){l=0;for(var m=this.columns.count;l<m;l++)if(this.rows.getRow(i).cells.getCell(l).columnSpan>1){t[l];for(var y=1;y<this.rows.getRow(i).cells.getCell(l).columnSpan;y++)t[l+y]}}for(i=0,n=this.columns.count;i<n;i++)(this.columns.getColumn(i).width<=0||this.columns.getColumn(i).width>0&&!this.columns.getColumn(i).isCustomWidth)&&(this.columns.getColumn(i).columnWidth=t[i]);r=0;var v=0,b=this.columns.count,M=0;v=this.tempWidth;for(l=0;l<this.columns.count;l++)this.gridColumns.getColumn(l).width>0&&this.gridColumns.getColumn(l).isCustomWidth&&(v-=this.gridColumns.getColumn(l).width,b--);if(v>0&&0!=this.ParentCell.row.grid.style.cellSpacing&&(v-=2*this.ParentCell.row.grid.style.cellSpacing),v>r&&(M=v/b,null!=this.ParentCell))for(l=0;l<this.columns.count;l++)this.columns.getColumn(l).isCustomWidth||(this.columns.getColumn(l).columnWidth=M)}},t}(tj),Uj=function(){function e(e,t,i,n,r){e instanceof wD&&"undefined"===typeof t?this.InitiateBounds(e.x,e.y,e.width,e.height,null):e instanceof wD&&t instanceof xA&&"undefined"===typeof i?this.InitiateBounds(e.x,e.y,e.width,e.height,t):e instanceof MD&&t instanceof SD&&"undefined"===typeof i?this.InitiateBounds(e.x,e.y,t.width,t.height,null):e instanceof MD&&t instanceof SD&&i instanceof xA&&"undefined"===typeof n?this.InitiateBounds(e.x,e.y,t.width,t.height,i):e instanceof SD&&"undefined"===typeof t?this.InitiateBounds(0,0,e.width,e.height,null):"number"===typeof e&&"number"===typeof t&&"undefined"===typeof i?this.InitiateBounds(0,0,e,t,null):"number"===typeof e&&"number"===typeof t&&i instanceof xA&&"undefined"===typeof n?this.InitiateBounds(0,0,e,t,i):this.InitiateBounds(e,t,i,n,null)}return Object.defineProperty(e.prototype,"dock",{get:function(){return this.dockStyle},set:function(e){this.dockStyle=e,this.resetAlignment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.alignmentStyle},set:function(e){this.setAlignment(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"foreground",{get:function(){return this.isForeground},set:function(e){this.isForeground=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"background",{get:function(){return!this.isForeground},set:function(e){this.isForeground=!e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this.currentLocation},set:function(e){this.type===gD.None&&(this.currentLocation=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return"undefined"!==typeof this.currentLocation?this.currentLocation.x:0},set:function(e){this.type===gD.None&&(this.currentLocation.x=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return"undefined"!==typeof this.currentLocation?this.currentLocation.y:0},set:function(e){this.type===gD.None&&(this.currentLocation.y=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.template.size},set:function(e){this.type===gD.None&&this.template.reset(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.template.width},set:function(e){if(this.template.width!==e&&this.type===gD.None){var t=this.template.size;t.width=e,this.template.reset(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.template.height},set:function(e){if(this.template.height!==e&&this.type===gD.None){var t=this.template.size;t.height=e,this.template.reset(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){return this.template.graphics},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.pdfTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.templateType},set:function(e){this.updateDocking(e),this.templateType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return new wD(new MD(this.x,this.y),this.size)},set:function(e){this.type===gD.None&&(this.location=new MD(e.x,e.y),this.size=new SD(e.width,e.height))},enumerable:!0,configurable:!0}),e.prototype.InitiateBounds=function(e,t,i,n,r){this.x=e,this.y=t,this.pdfTemplate=new rA(i,n)},e.prototype.updateDocking=function(e){if(e!==gD.None){switch(e){case gD.Top:this.dock=dD.Top;break;case gD.Bottom:this.dock=dD.Bottom;break;case gD.Left:this.dock=dD.Left;break;case gD.Right:this.dock=dD.Right}this.resetAlignment()}},e.prototype.resetAlignment=function(){this.alignment=fD.None},e.prototype.setAlignment=function(e){if(this.dock===dD.None)this.alignmentStyle=e;else{var t=!1;switch(this.dock){case dD.Left:t=e===fD.TopLeft||e===fD.MiddleLeft||e===fD.BottomLeft||e===fD.None;break;case dD.Top:t=e===fD.TopLeft||e===fD.TopCenter||e===fD.TopRight||e===fD.None;break;case dD.Right:t=e===fD.TopRight||e===fD.MiddleRight||e===fD.BottomRight||e===fD.None;break;case dD.Bottom:t=e===fD.BottomLeft||e===fD.BottomCenter||e===fD.BottomRight||e===fD.None;break;case dD.Fill:t=e===fD.MiddleCenter||e===fD.None}t&&(this.alignmentStyle=e)}},e.prototype.draw=function(e,t){var i=e.page,n=this.calculateBounds(i,t);-0===n.x&&(n.x=0),e.graphics.drawPdfTemplate(this.template,new MD(n.x,n.y),new SD(n.width,n.height))},e.prototype.calculateBounds=function(e,t){var i=this.bounds;return this.alignmentStyle!==fD.None?i=this.getAlignmentBounds(e,t):this.dockStyle!==dD.None&&(i=this.getDockBounds(e,t)),i},e.prototype.getAlignmentBounds=function(e,t){this.bounds;return this.type===gD.None?this.getSimpleAlignmentBounds(e,t):this.getTemplateAlignmentBounds(e,t)},e.prototype.getSimpleAlignmentBounds=function(e,t){var i=this.bounds,n=e.section.getActualBounds(t,e,!1),r=this.x,s=this.y;switch(this.alignmentStyle){case fD.TopLeft:r=0,s=0;break;case fD.TopCenter:r=(n.width-this.width)/2,s=0;break;case fD.TopRight:r=n.width-this.width,s=0;break;case fD.MiddleLeft:r=0,s=(n.height-this.height)/2;break;case fD.MiddleCenter:r=(n.width-this.width)/2,s=(n.height-this.height)/2;break;case fD.MiddleRight:r=n.width-this.width,s=(n.height-this.height)/2;break;case fD.BottomLeft:r=0,s=n.height-this.height;break;case fD.BottomCenter:r=(n.width-this.width)/2,s=n.height-this.height;break;case fD.BottomRight:r=n.width-this.width,s=n.height-this.height}return i.x=r,i.y=s,i},e.prototype.getTemplateAlignmentBounds=function(e,t){var i=this.bounds,n=e.section,r=n.getActualBounds(t,e,!1),s=this.x,o=this.y;switch(this.alignmentStyle){case fD.TopLeft:this.type===gD.Left?(s=-r.x,o=0):this.type===gD.Top&&(s=-r.x,o=-r.y);break;case fD.TopCenter:s=(r.width-this.width)/2,o=-r.y;break;case fD.TopRight:this.type===gD.Right?(s=r.width+n.getRightIndentWidth(t,e,!1)-this.width,o=0):this.type===gD.Top&&(s=r.width+n.getRightIndentWidth(t,e,!1)-this.width,o=-r.y);break;case fD.MiddleLeft:s=-r.x,o=(r.height-this.height)/2;break;case fD.MiddleCenter:s=(r.width-this.width)/2,o=(r.height-this.height)/2;break;case fD.MiddleRight:s=r.width+n.getRightIndentWidth(t,e,!1)-this.width,o=(r.height-this.height)/2;break;case fD.BottomLeft:this.type===gD.Left?(s=-r.x,o=r.height-this.height):this.type===gD.Bottom&&(s=-r.x,o=r.height+n.getBottomIndentHeight(t,e,!1)-this.height);break;case fD.BottomCenter:s=(r.width-this.width)/2,o=r.height+n.getBottomIndentHeight(t,e,!1)-this.height;break;case fD.BottomRight:this.type===gD.Right?(s=r.width+n.getRightIndentWidth(t,e,!1)-this.width,o=r.height-this.height):this.type===gD.Bottom&&(s=r.width+n.getRightIndentWidth(t,e,!1)-this.width,o=r.height+n.getBottomIndentHeight(t,e,!1)-this.height)}return i.x=s,i.y=o,i},e.prototype.getDockBounds=function(e,t){this.bounds;return this.type===gD.None?this.getSimpleDockBounds(e,t):this.getTemplateDockBounds(e,t)},e.prototype.getSimpleDockBounds=function(e,t){this.bounds;var i=e.section.getActualBounds(t,e,!1),n=this.x,r=this.y,s=this.width,o=this.height;switch(this.dockStyle){case dD.Left:n=0,r=0,s=this.width,o=i.height;break;case dD.Top:n=0,r=0,s=i.width,o=this.height;break;case dD.Right:n=i.width-this.width,r=0,s=this.width,o=i.height;break;case dD.Bottom:n=0,r=i.height-this.height,s=i.width,o=this.height;break;case dD.Fill:n=0,n=0,s=i.width,o=i.height}return new wD(n,r,s,o)},e.prototype.getTemplateDockBounds=function(e,t){this.bounds;var i=e.section,n=i.getActualBounds(t,e,!1),r=i.pageSettings.getActualSize(),s=this.x,o=this.y,a=this.width,l=this.height;switch(this.dockStyle){case dD.Left:s=-n.x,o=0,a=this.width,l=n.height;break;case dD.Top:s=-n.x,o=-n.y,a=r.width,l=this.height,n.height<0&&(o=-n.y+r.height);break;case dD.Right:s=n.width+i.getRightIndentWidth(t,e,!1)-this.width,o=0,a=this.width,l=n.height;break;case dD.Bottom:s=-n.x,o=n.height+i.getBottomIndentHeight(t,e,!1)-this.height,a=r.width,l=this.height,n.height<0&&(o-=r.height);break;case dD.Fill:s=0,s=0,a=n.width,l=n.height}return new wD(s,o,a,l)},e}(),Hj=function(){function e(){}return e.convert=function(e,t){var i="";switch(t){case pD.None:i="";break;case pD.Numeric:i=e.toString();break;case pD.LowerLatin:i=this.arabicToLetter(e).toLowerCase();break;case pD.LowerRoman:i=this.arabicToRoman(e).toLowerCase();break;case pD.UpperLatin:i=this.arabicToLetter(e);break;case pD.UpperRoman:i=this.arabicToRoman(e)}return i},e.arabicToRoman=function(e){var t="",i=this.generateNumber(e,1e3,"M");t+=i.returnValue,e=i.intArabic;var n=this.generateNumber(e,900,"CM");t+=n.returnValue,e=n.intArabic;var r=this.generateNumber(e,500,"D");t+=r.returnValue,e=r.intArabic;var s=this.generateNumber(e,400,"CD");t+=s.returnValue,e=s.intArabic;var o=this.generateNumber(e,100,"C");t+=o.returnValue,e=o.intArabic;var a=this.generateNumber(e,90,"XC");t+=a.returnValue,e=a.intArabic;var l=this.generateNumber(e,50,"L");t+=l.returnValue,e=l.intArabic;var h=this.generateNumber(e,40,"XL");t+=h.returnValue,e=h.intArabic;var c=this.generateNumber(e,10,"X");t+=c.returnValue,e=c.intArabic;var u=this.generateNumber(e,9,"IX");t+=u.returnValue,e=u.intArabic;var p=this.generateNumber(e,5,"V");t+=p.returnValue,e=p.intArabic;var d=this.generateNumber(e,4,"IV");t+=d.returnValue,e=d.intArabic;var f=this.generateNumber(e,1,"I");return t+=f.returnValue,e=f.intArabic,t.toString()},e.arabicToLetter=function(e){for(var t=this.convertToLetter(e),i="";t.length>0;){var n=t.pop();i=this.appendChar(i,n)}return i.toString()},e.generateNumber=function(e,t,i){for(var n="";e>=t;)e-=t,n+=i;return{returnValue:n.toString(),intArabic:e}},e.convertToLetter=function(e){if(e<=0)throw Error("ArgumentOutOfRangeException-arabic, Value can not be less 0");for(var t=[];e>this.letterLimit;){var i=e%this.letterLimit;0===i?(e=e/this.letterLimit-1,i=this.letterLimit):e/=this.letterLimit,t.push(i)}return t.push(e),t},e.appendChar=function(t,i){return t+=String.fromCharCode(e.acsiiStartIndex+i)},e.letterLimit=26,e.acsiiStartIndex=64,e}(),Wj=function(){function e(e,t){this.pdfTemplate=null,this.content="","undefined"===typeof e||(this.template=e,this.value=t)}return Object.defineProperty(e.prototype,"template",{get:function(){return this.pdfTemplate},set:function(e){this.pdfTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.content},set:function(e){this.content=e},enumerable:!0,configurable:!0}),e}(),Yj=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qj=function(e){function t(){var t=e.call(this)||this;return t.list=new vT,t}return Yj(t,e),t.prototype.performDraw=function(t,i,n,r){e.prototype.performDrawHelper.call(this,t,i,n,r);var s=this.getValue(t),o=new rA(this.getSize());this.list.setValue(t,new Wj(o,s));o.graphics;var a=this.getSize();o.graphics.drawString(s,this.getFont(),this.pen,this.getBrush(),0,0,a.width,a.height,this.stringFormat);var l=new MD(i.x+this.location.x,i.y+this.location.y);t.drawPdfTemplate(o,l,new SD(o.width*n,o.height*r))},t}(_T),qj=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Gj=function(e){function t(t,i){var n=e.call(this)||this;return n.internalNumberStyle=pD.Numeric,"undefined"===typeof i?n.font=t:i instanceof iT?(n.font=t,n.brush=i):(n.font=t,n.bounds=i),n}return qj(t,e),Object.defineProperty(t.prototype,"numberStyle",{get:function(){return this.internalNumberStyle},set:function(e){this.internalNumberStyle=e},enumerable:!0,configurable:!0}),t.prototype.getValue=function(e){var t=this.getPageFromGraphics(e);return this.internalGetValue(t)},t.prototype.internalGetValue=function(e){var t=e.document.pages.indexOf(e)+1;return Hj.convert(t,this.numberStyle)},t}(Qj),Kj=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Xj=function(e){function t(t,i,n){for(var r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];var o=e.call(this)||this;return o.internalAutomaticFields=null,o.internalText="",o.font=t,o.brush=i,o.text=n,o.automaticFields=r,o}return Kj(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.internalText},set:function(e){this.internalText=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"automaticFields",{get:function(){return this.internalAutomaticFields},set:function(e){this.internalAutomaticFields=e},enumerable:!0,configurable:!0}),t.prototype.getValue=function(e){var t=this.text.toString();if("undefined"!==typeof this.automaticFields&&null!=this.automaticFields&&this.automaticFields.length>0)for(var i=0;i<this.automaticFields.length;i++){var n=this.automaticFields[i];t=t.replace("{"+i+"}",n.getValue(e))}return t},t}(Qj),Jj=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Zj=function(e){function t(){var t=e.call(this)||this;return t.list=new vT,t.painterGraphics=[],t}return Jj(t,e),t.prototype.performDraw=function(t,i,n,r){e.prototype.performDrawHelper.call(this,t,i,n,r);var s=this.getPageFromGraphics(t).document,o=this.getValue(t);if(this.list.containsKey(s)){var a=this.list.getValue(s),l=new MD(i.x+this.location.x,i.y+this.location.y);t.drawPdfTemplate(a.template,l,new SD(a.template.width*n,a.template.height*r)),this.painterGraphics.push(t)}else{var h=this.getSize(),c=new rA(h);this.list.setValue(s,new Wj(c,o)),c.graphics.drawString(o,this.getFont(),this.pen,this.getBrush(),0,0,h.width,h.height,this.stringFormat);l=new MD(i.x+this.location.x,i.y+this.location.y);t.drawPdfTemplate(c,l,new SD(c.width*n,c.height*r)),this.painterGraphics.push(t)}},t}(_T),$j=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),eE=function(e){function t(t,i){var n=e.call(this)||this;return n.internalNumberStyle=pD.Numeric,"undefined"===typeof i?n.font=t:i instanceof iT?(n.font=t,n.brush=i):(n.font=t,n.bounds=i),n}return $j(t,e),Object.defineProperty(t.prototype,"numberStyle",{get:function(){return this.internalNumberStyle},set:function(e){this.internalNumberStyle=e},enumerable:!0,configurable:!0}),t.prototype.getValue=function(e){var t=this.getPageFromGraphics(e).section.parent.document.pages.count;return Hj.convert(t,this.numberStyle)},t}(Zj),tE=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),iE=function(e){function t(t,i,n){var r=e.call(this,i)||this;return r.isEmbedFont=!1,r.isUnicode=!0,void 0!==n?r.createFontInternal(t,n):r.createFontInternal(t,RD.Regular),r}return tE(t,e),t.prototype.equalsToFont=function(e){return!1},t.prototype.getLineWidth=function(e,t){var i=0;null!==t&&"undefined"!==typeof t&&t.textDirection!==PD.None?i=this.getUnicodeLineWidth(e,i,t).width:i=this.fontInternal.getLineWidth(e);var n=this.metrics.getSize(t);return i*=fT.charSizeMultiplier*n,i=this.applyFormatSettings(e,t,i)},t.prototype.getCharWidth=function(e,t){var i=this.fontInternal.getCharWidth(e);return i*=.001*this.metrics.getSize(t)},t.prototype.createFontInternal=function(e,t){this.fontInternal=new KT(e,this.size),this.calculateStyle(t),this.initializeInternals()},t.prototype.calculateStyle=function(e){var t=this.fontInternal.ttfMetrics.macStyle;0!==(e&RD.Underline)&&(t|=RD.Underline),0!==(e&RD.Strikeout)&&(t|=RD.Strikeout),this.setStyle(t)},t.prototype.initializeInternals=function(){var e=null;UA.enableCache&&(e=UA.cache.search(this));var t=null;if(null!==e&&void 0!==e){t=e.getInternals();var i=e.metrics;(i=i.clone()).size=this.size,this.metrics=i,this.fontInternal=e.fontInternal}else null==e&&(this.fontInternal instanceof KT&&(this.fontInternal.isEmbed=this.isEmbedFont),this.fontInternal.createInternals(),t=this.fontInternal.getInternals(),this.metrics=this.fontInternal.metrics);this.metrics.isUnicodeFont=!0,this.setInternals(t)},t.prototype.setSymbols=function(e){var t=this.fontInternal;null!=t&&t.setSymbols(e)},Object.defineProperty(t.prototype,"Unicode",{get:function(){return this.isUnicode},enumerable:!0,configurable:!0}),t.prototype.getUnicodeLineWidth=function(e,t,i){t=0;var n=null,r=(new eA).getGlyphIndex(e,this,i.textDirection===PD.RightToLeft,n,!0),s=r.success;if(n=r.glyphs,s&&null!==n)for(var o=this.fontInternal.ttfReader,a=0,l=n.length;a<l;a++){var h=n[a],c=o.getGlyph(h);null!==c&&"undefined"!==typeof c&&(t+=c.width)}return{success:s,width:t}},t}(fT),nE=function(){function e(e){this.hideColumnInclude=!1,this.currentViewData=!1,this.customDataSource=!1,this.isGrouping=!1,this.headerOnPages=[],this.drawPosition={xPosition:0,yPosition:0},this.parent=e,this.helper=new Nx(e),this.gridPool={}}return e.prototype.getModuleName=function(){return"PdfExport"},e.prototype.init=function(e){this.exportValueFormatter=new Cx(e.locale),this.pdfDocument=void 0,this.hideColumnInclude=!1,this.currentViewData=!1,this.parent=e,this.isGrouping=!1,this.isExporting=!0,e.id=tv("main-grid"),this.gridPool[e.id]=!1,this.pdfPageSettings=new ZD},e.prototype.exportWithData=function(e,t,i,n,r,s,o){var a=this;this.init(e),ko(t)?this.pdfDocument=new UA:this.pdfDocument=t,this.processExport(e,n,r,s).then((function(){a.isExporting=!1,e.trigger(Sm,a.isBlob?{promise:a.blobPromise}:{gridInstance:a.parent}),a.parent.log("exporting_complete",a.getModuleName()),i(a.pdfDocument)})).catch((function(e){o(a.pdfDocument),a.parent.trigger(Mg,e)}))},e.prototype.Map=function(e,t,i,n,r){var s=this;this.data=new EM(this.parent),this.isBlob=r,this.gridPool={};var o=t&&t.query?t.query:new sp;!e.childGrid&&!e.detailTemplate||!ko(t)&&"None"===t.hierarchyExportMode||(e.expandedRows=jv(e).expandedRows);var a={requestType:"beforePdfExport",cancel:!1,headerPageNumbers:[],gridDrawPosition:{xPosition:0,yPosition:0},generateQuery:!1};a.gridObject=e;if(e.trigger("beforePdfExport",a),!0===a.cancel)return new Promise((function(e,t){return e()}));if(By(t)&&Vy(t,e),a.generateQuery&&(o=Nx.getQuery(e,this.data)),this.headerOnPages=a.headerPageNumbers,this.drawPosition=a.gridDrawPosition,this.parent.log("exporting_begin",this.getModuleName()),ko(t)||ko(t.dataSource)){if(ko(t)||"CurrentPage"!==t.exportType){var l=[];return l.push(this.data.getData({},Nx.getQuery(e,this.data))),l.push(this.helper.getColumnData(e)),new Promise((function(r,o){Promise.all(l).then((function(a){s.init(e),ko(n)?s.pdfDocument=new UA:s.pdfDocument=n.document,s.processExport(e,a[0],t,i,n).then((function(i){s.isExporting=!1,e.trigger(Sm,s.isBlob?{promise:s.blobPromise}:{gridInstance:s.parent}),s.parent.log("exporting_complete",s.getModuleName()),t&&t.multipleExport&&"AppendToPage"===t.multipleExport.type?r(i):r(s.pdfDocument)})).catch((function(e){o(s.pdfDocument),s.parent.trigger(Mg,e)}))}))}))}return new Promise((function(r,o){s.exportWithData(e,n,r,s.parent.getCurrentViewRecords(),t,i,o)}))}return t.dataSource=t.dataSource instanceof mp?t.dataSource:new mp(t.dataSource),new Promise((function(r,a){t.dataSource.executeQuery(o).then((function(o){s.exportWithData(e,n,r,o,t,i,a)}))}))},e.prototype.processExport=function(e,t,i,n,r){var s,o=this,a=r&&i&&i.multipleExport&&"AppendToPage"===i.multipleExport.type?null:this.pdfDocument.sections.add();this.processSectionExportProperties(a,i);var l=r&&i&&i.multipleExport&&"AppendToPage"===i.multipleExport.type?r.result.page:a.pages.add();return new Promise((function(n,r){s=o.processGridExport(e,t,i),o.globalResolve=n,o.gridPool[e.id]=!0,o.helper.checkAndExport(o.gridPool,o.globalResolve)})).then((function(){var t,a=o.drawPosition.xPosition;r&&i&&i.multipleExport&&"AppendToPage"===i.multipleExport.type?(t=r.result.bounds.height,i.multipleExport.blankSpace&&(t=r.result.bounds.height+r.result.bounds.height)):t=o.drawPosition.yPosition;var h=s.draw(l,a,t);return o.drawHeader(i),n||(o.isBlob?o.blobPromise=o.pdfDocument.save():!ko(i)&&i.fileName?o.pdfDocument.save(i.fileName):o.pdfDocument.save("Export.pdf"),o.pdfDocument.destroy(),delete e.expandedRows),i&&i.multipleExport&&"AppendToPage"===i.multipleExport.type?{document:o.pdfDocument,result:h}:o.pdfDocument}))},e.prototype.processSectionExportProperties=function(e,t){return ko(t)||ko(t.pageOrientation)&&ko(t.pageSize)||(this.pdfPageSettings.orientation="Landscape"===t.pageOrientation?cD.Landscape:cD.Portrait,this.pdfPageSettings.size=this.getPageSize(t.pageSize),e.setPageSettings(this.pdfPageSettings)),e},e.prototype.processGridExport=function(e,t,i){var n=!0;ko(i)||(this.gridTheme=i.theme,n=!!ko(i.allowHorizontalOverflow)||i.allowHorizontalOverflow);var r=new Nx(e,this.helper.getForeignKeyData()),s=this.processExportProperties(i,t.result),o=By(i)?Gy(i.columns,e.enableColumnVirtualization):r.getGridExportColumns(e.columns);o=o.filter((function(e){return ko(e.commands)}));var a=!1;e.groupSettings.columns.length&&(a=!0),!e.childGrid&&!e.detailTemplate||ko(i)||(e.hierarchyPrintMode=i.hierarchyExportMode||"Expanded");var l=new Vj,h=this.getHeaderThemeStyle(),c=h.border,u=h.font,p=h.brush,d=r.getHeaders(o,this.hideColumnInclude),f=d.columns;l=this.processGridHeaders(e.groupSettings.columns.length,l,d.rows,f,c,u,p,e,n,o),this.setColumnProperties(f,l,r,e,n);var g=this.getSummaryCaptionThemeStyle();if(!ko(s)&&s.length){if(a?(ko(g.border)||(c=g.border),this.processGroupedRecords(l,s,f,e,c,0,g.font,g.brush,g.backgroundBrush,t,i,r,0)):this.processRecord(c,f,e,s,l,0,i,r,0),!ko(t.aggregates)){var m=new FM(e),y=void 0,v=m.getColumns();v=v.filter((function(e){return ko(e.commands)&&"checkbox"!==e.type})),e.aggregates.length&&this.parent!==e&&e.aggregateModule.prepareSummaryInfo(),y=this.customDataSource?m.generateRows(s,t.aggregates):this.currentViewData?m.generateRows(this.parent.getCurrentViewRecords(),t.aggregates):a?m.generateRows(s.records,t.aggregates):m.generateRows(t.result,t.aggregates,null,null,v),this.processAggregates(y,l,c,g.font,g.brush,g.backgroundBrush,!1,null,null,null,!a)}}else l.rows.addRow().style.setBorder(c);return l},e.prototype.getSummaryCaptionThemeStyle=function(){if(ko(this.gridTheme)||ko(this.gridTheme.caption))return{font:new BA(FD.Helvetica,9.75),brush:new rT(new tT(0,0,0)),backgroundBrush:new rT(new tT(246,246,246))};var e=ko(this.gridTheme.caption.fontSize)?9.75:this.gridTheme.caption.fontSize,t=ko(this.gridTheme.caption.fontName)?FD.Helvetica:this.getFontFamily(this.gridTheme.caption.fontName),i=this.getFontStyle(this.gridTheme.caption),n=new tT(0,0,0);if(!ko(this.gridTheme.caption.fontColor)){var r=this.hexToRgb(this.gridTheme.caption.fontColor);n=new tT(r.r,r.g,r.b)}var s=this.gridTheme.caption.border?this.getBorderStyle(this.gridTheme.caption.border):null,o=new BA(t,e,i);return ko(this.gridTheme.caption.font)||(o=this.gridTheme.caption.font),{font:o,brush:new rT(n),backgroundBrush:new rT(new tT(246,246,246)),border:s}},e.prototype.getGridPdfFont=function(e){var t="fontFamily",i="fontSize",n="fontStyle",r="isTrueType",s=0;if(e.header&&e.header.font){var o=e.header.font[""+t],a=e.header.font[""+i],l=e.header.font[""+n];if(s=ko(RD[""+l])?0:RD[""+l],e.header.font[""+r])e.header.font=new iE(o,a,s);else{var h=ko(o)?FD.Helvetica:this.getFontFamily(o);e.header.font=new BA(h,a,s)}}if(e.caption&&e.caption.font){var c=e.caption.font[""+t],u=e.caption.font[""+i],p=e.caption.font[""+n];if(s=ko(RD[""+p])?0:RD[""+p],e.caption.font[""+r])e.caption.font=new iE(c,u,s);else{var d=ko(c)?FD.Helvetica:this.getFontFamily(c);e.caption.font=new BA(d,u,s)}}if(e.record&&e.record.font){var f=e.record.font[""+t],g=e.record.font[""+i],m=e.record.font[""+n];if(s=ko(RD[""+m])?0:RD[""+m],e.record.font[""+r])e.record.font=new iE(f,g,s);else{var y=ko(f)?FD.Helvetica:this.getFontFamily(f);e.record.font=new BA(y,g,s)}}},e.prototype.getHeaderThemeStyle=function(){var e=new HA;if(ko(this.gridTheme)||ko(this.gridTheme.header))return e.all=new sT(new tT(234,234,234)),{border:e,font:new BA(FD.Helvetica,10.5),brush:new rT(new tT(102,102,102))};var t=ko(this.gridTheme.header.fontName)?FD.Helvetica:this.getFontFamily(this.gridTheme.header.fontName),i=this.getFontStyle(this.gridTheme.header),n=ko(this.gridTheme.header.fontSize)?10.5:this.gridTheme.header.fontSize,r=new tT;if(!ko(this.gridTheme.header.fontColor)){var s=this.hexToRgb(this.gridTheme.header.fontColor);r=new tT(s.r,s.g,s.b)}var o=new BA(t,n,i);return ko(this.gridTheme.header.font)||(o=this.gridTheme.header.font),{border:this.getBorderStyle(this.gridTheme.header.border),font:o,brush:new rT(r)}},e.prototype.processGroupedRecords=function(e,t,i,n,r,s,o,a,l,h,c,u,p){for(var d=this,f=s,g=function(s){var g=e.rows.addRow(),y=n.getColumnByField(s.field),v={value:s.key,column:y,style:void 0,isForeignKey:y.isForeignColumn()},b={captionText:n.getColumnByField(s.field).headerText+": "+(y.enableGroupByFormat?s.key:m.exportValueFormatter.formatCellValue(v))+" - "+s.count+(t.count>1?" items":" item"),type:"PDF",data:s,style:void 0};m.parent.trigger(Bg,b,(function(m){var y;g.cells.getCell(f).value=m.captionText,g.cells.getCell(f).style.stringFormat=new oT(xD.Left),g.style.setBorder(r),g.style.setFont(o),g.style.setTextBrush(a),g.style.setBackgroundBrush(l),ko(m.style)||d.processCellStyle(g.cells.getCell(f),m);var v=new VM(n);if(y=ko(s.items.records)?v.generateRows(s.items,s):v.generateRows(s.items.records,s),ko(y)||0!==y.length||(g.cells.getCell(f+1).columnSpan=e.columns.count-(f+1)),!ko(t.childLevels)&&t.childLevels>0){d.processAggregates(y,e,r,o,a,l,!0,g,f,null,null,n),d.processGroupedRecords(e,s.items,i,n,r,f+1,o,a,l,h,c,u,p),p=d.rowIndex,y=new BM(n).generateRows(s.items.records,s),d.processAggregates(y,e,r,o,a,l,!1)}else{d.processAggregates(y,e,r,o,a,l,!0,g,f,null,null,n),p=d.processRecord(r,i,n,s.items,e,f+1,c,u,p),y=new BM(n).generateRows(s.items,s);d.processAggregates(y,e,r,o,a,l,!1,null,null,!0,null,n)}}))},m=this,y=0,v=t;y<v.length;y++){g(v[y])}},e.prototype.processGridHeaders=function(e,t,i,n,r,s,o,a,l,h){for(var c=this,u=n.length+e,p=zv(h),d=h,f=0,g=[],m=0;m<i.length;m++)g[parseInt(m.toString(),10)]=0;a.groupSettings.columns.length&&(f=a.groupSettings.columns.length-1,u-=1),t.columns.add(u),t.headers.add(i.length);var y=function(e,n,l,h,u){var p=t.headers.getHeader(e),d=p.cells.getCell(n),f=i[parseInt(e.toString(),10)].cells[a.groupSettings.columns.length?n:g[parseInt(e.toString(),10)]];g[parseInt(e.toString(),10)]=g[parseInt(e.toString(),10)]+1,ko(l.headerTextAlign)||(d.style.stringFormat=c.getHorizontalAlignment(l.headerTextAlign)),h>0&&(d.rowSpan=h,d.style.stringFormat=c.getVerticalAlignment("Bottom",d.style.stringFormat,l.textAlign)),u>0&&(d.columnSpan=u),p.style.setBorder(r),p.style.setFont(s),p.style.setTextBrush(o),d.value=l.headerText,ko(f)||f.cellType!==ov.HeaderIndent&&f.cellType!==ov.DetailHeader||(d.value="",d.width=20);var m={cell:d,gridCell:f,style:d.style};c.parent.trigger("pdfHeaderQueryCellInfo",m);var y=m,v=m.style.borders,b=m.style.font,M=m.style.textBrush;ko(v)||p.style.setBorder(v),ko(b)||p.style.setFont(b),ko(M)||p.style.setTextBrush(M),ko(y.style.verticalAlignment)||(d.style.stringFormat=c.getVerticalAlignment(y.style.verticalAlignment,d.style.stringFormat)),ko(y.image)||(d.value=new cA(y.image.base64)),ko(y.hyperLink)||(d.value=c.setHyperLink(y))},v=function(e,t,i,n,r,s){for(var o=0,a=0;a<e.length;a++)if(s&&(n=o=o+i+(0===a?0:-1),i=0),s||e[parseInt(a.toString(),10)].visible||(n-=1),e[parseInt(a.toString(),10)].columns&&e[parseInt(a.toString(),10)].columns.length){var l=v(e[parseInt(a.toString(),10)].columns,t-1,0,a+n,r+1,!1);y(r,a+n+f,e[parseInt(a.toString(),10)],0,l),i+=l,n=n+l-1}else(e[parseInt(a.toString(),10)].visible||c.hideColumnInclude)&&(i++,y(r,a+n+f,e[parseInt(a.toString(),10)],t,0));return i};return v(d,p,0,0,0,!0),t.columns.count>=6&&l&&(t.style.allowHorizontalOverflow=!0),t},e.prototype.processExportProperties=function(e,t){if(ko(e))this.currentViewData=!1,this.customDataSource=!1;else{ko(e.theme)||(this.gridTheme=e.theme);var i=this.pdfPageSettings.size;if(this.drawHeader(e),!ko(e.footer)){var n=e.footer,r=new MD(0,i.width-80-.75*n.fromBottom),s=new SD(i.width-80,.75*n.height),o=new wD(r,s);this.pdfDocument.template.bottom=this.drawPageTemplate(new Uj(o),n)}ko(e.includeHiddenColumn)||this.isGrouping||(this.hideColumnInclude=e.includeHiddenColumn),ko(e.dataSource)?ko(e.exportType)?(this.currentViewData=!1,this.customDataSource=!1):"CurrentPage"===e.exportType?(t=this.parent.currentViewData,this.currentViewData=!0,this.customDataSource=!1):(this.currentViewData=!1,this.customDataSource=!1):(this.customDataSource=!0,this.currentViewData=!1)}return t},e.prototype.drawHeader=function(e){var t=this,i=this.pdfPageSettings.size;if(!ko(e)&&!ko(e.header)){var n=e.header,r=new MD(0,n.fromTop),s=new SD(i.width-80,.75*n.height),o=new wD(r,s);if(this.headerOnPages.length){var a=this.drawPageTemplate(new Uj(o),n);this.headerOnPages.filter((function(e){e-1>=0&&e-1<=t.pdfDocument.pages.count-1&&t.pdfDocument.pages.getPageByIndex(e-1).graphics.drawPdfTemplate(a.template,new MD(0,0))}))}else this.pdfDocument.template.top=this.drawPageTemplate(new Uj(o),n)}},e.prototype.drawPageTemplate=function(e,t){for(var i=0,n=t.contents;i<n.length;i++){var r=n[i];switch(this.processContentValidation(r),r.type){case"Text":if(""===r.value||void 0===r.value||null===r.value||"string"!==typeof r.value)throw new Error("please enter the valid input value in text content...");this.drawText(e,r);break;case"PageNumber":this.drawPageNumber(e,r);break;case"Image":if(void 0===r.src||null===r.src||""===r.src)throw new Error("please enter the valid base64 string in image content...");this.drawImage(e,r);break;case"Line":this.drawLine(e,r);break;default:throw new Error("Please set valid content type...")}}return e},e.prototype.processContentValidation=function(e){if(void 0===e.type||null===e.type)throw new Error("please set valid content type...");if("Line"===e.type){if(void 0===e.points||null===e.points)throw new Error("please enter valid points in "+e.type+" content...");if(void 0===e.points.x1||null===e.points.x1||"number"!==typeof e.points.x1)throw new Error("please enter valid x1 co-ordinate in "+e.type+" points...");if(void 0===e.points.y1||null===e.points.y1||"number"!==typeof e.points.y1)throw new Error("please enter valid y1 co-ordinate in "+e.type+" points...");if(void 0===e.points.x2||null===e.points.x2||"number"!==typeof e.points.x2)throw new Error("please enter valid x2 co-ordinate in "+e.type+" points...");if(void 0===e.points.y2||null===e.points.y2||"number"!==typeof e.points.y2)throw new Error("please enter valid y2 co-ordinate in "+e.type+" points...")}else{if(void 0===e.position||null===e.position)throw new Error("please enter valid position in "+e.type+" content...");if(void 0===e.position.x||null===e.position.x||"number"!==typeof e.position.x)throw new Error("please enter valid x co-ordinate in "+e.type+" position...");if(void 0===e.position.y||null===e.position.y||"number"!==typeof e.position.y)throw new Error("please enter valid y co-ordinate in "+e.type+" position...")}},e.prototype.drawText=function(e,t){var i=this.getFont(t),n=this.getBrushFromContent(t),r=null;if(!ko(t.style.textPenColor)){var s=this.hexToRgb(t.style.textPenColor);r=new sT(new tT(s.r,s.g,s.b))}null==n&&null==r&&(n=new rT(new tT(0,0,0)));var o=t.value.toString(),a=.75*t.position.x,l=.75*t.position.y,h=new oT;ko(t.style.stringFormat)||(h.alignment=t.style.stringFormat.alignment);var c=this.setContentFormat(t,h);null===c||ko(c.format)||ko(c.size)?e.graphics.drawString(o,i,r,n,a,l,h):e.graphics.drawString(o,i,r,n,a,l,c.size.width,c.size.height,c.format)},e.prototype.drawPageNumber=function(e,t){var i=this.getFont(t),n=null;if(ko(t.style.textBrushColor))n=new rT(new tT(0,0,0));else{var r=this.hexToRgb(t.style.textBrushColor);n=new rT(new tT(r.r,r.g,r.b))}var s,o,a=new Gj(i,n);if(a.numberStyle=this.getPageNumberStyle(t.pageNumberType),ko(t.format))s=new Xj(i,n,o="{0}",a);else{var l="$total",h="$current";if(-1!==t.format.indexOf(l)&&-1!==t.format.indexOf(h))(c=new eE(i)).numberStyle=this.getPageNumberStyle(t.pageNumberType),o=t.format.indexOf(l)>t.format.indexOf(h)?(o=t.format.replace(h,"0")).replace(l,"1"):(o=t.format.replace(h,"1")).replace(l,"0"),s=new Xj(i,n,o,a,c);else if(-1!==t.format.indexOf(h)&&-1===t.format.indexOf(l))o=t.format.replace(h,"0"),s=new Xj(i,n,o,a);else{var c=new eE(i);o=t.format.replace(l,"0"),s=new Xj(i,n,o,c)}}var u=.75*t.position.x,p=.75*t.position.y,d=this.setContentFormat(t,s.stringFormat);null===d||ko(d.format)||ko(d.size)||(s.stringFormat=d.format,s.bounds=new wD(u,p,d.size.width,d.size.height)),s.draw(e.graphics,u,p)},e.prototype.drawImage=function(e,t){var i=.75*t.position.x,n=.75*t.position.y,r=ko(t.size)?void 0:.75*t.size.width,s=ko(t.size)?void 0:.75*t.size.height,o=new cA(t.src);ko(r)?e.graphics.drawImage(o,i,n):e.graphics.drawImage(o,i,n,r,s)},e.prototype.drawLine=function(e,t){var i=.75*t.points.x1,n=.75*t.points.y1,r=.75*t.points.x2,s=.75*t.points.y2,o=this.getPenFromContent(t);ko(t.style)||null===t.style||(ko(t.style.penSize)||null===t.style.penSize||"number"!==typeof t.style.penSize||(o.width=.75*t.style.penSize),o.dashStyle=this.getDashStyle(t.style.dashStyle)),e.graphics.drawLine(o,i,n,r,s)},e.prototype.processAggregates=function(e,t,i,n,r,s,o,a,l,h,c,u){for(var p=0,d=e;p<d.length;p++){var f=d[p],g=-1,m=0,y=!0,v=[],b=c?0:1,M=void 0;ko(a)&&((M=t.rows.addRow()).style.setBorder(i),M.style.setFont(n),M.style.setTextBrush(r),M.style.setBackgroundBrush(s));for(var S=0;S<t.columns.count+b;S++){var w=f.cells[parseInt(m.toString(),10)];if(w.cellType!==ov.DetailFooterIntent){if(!this.hideColumnInclude){for(;void 0===w.visible;)w.cellType!==ov.DetailFooterIntent&&(ko(a)||ko(a.cells.getCell(S).value)?v.push(""):(v.push(a.cells.getCell(S).value),y=!1,o||(S+=1)),S+=1,m+=1,w=f.cells[parseInt(m.toString(),10)]);for(;!ko(w.visible)&&!w.visible;)m+=1,w=f.cells[parseInt(m.toString(),10)]}if(w.isDataCell){var _={},I=!ko(w.column.footerTemplate),N=!ko(w.column.groupFooterTemplate),C=!ko(w.column.groupCaptionTemplate);if(I||C||N){_=(A=this.getTemplateFunction(_,S,g,w)).templateFunction,g=A.leastCaptionSummaryIndex;var x=void 0,D=f.data[w.column.field?w.column.field:w.column.columnName];x=(this.parent.isReact||this.parent.isVue||this.parent.isVue3||this.parent.isAngular)&&"string"!==typeof w.column.footerTemplate&&"string"!==typeof w.column.groupFooterTemplate&&"string"!==typeof w.column.groupCaptionTemplate?ko(x=D[w.column.type])?"":x:ko((x=_[Ao(ov,w.cellType)](D,this.parent))[0])?"":x[0].textContent,y=!1;var T={row:f,type:I?"Footer":N?"GroupFooter":"GroupCaption",style:ko(a)?M.cells:a.cells,cell:w,value:x};this.parent.trigger("pdfAggregateQueryCellInfo",T),v.push(T.value)}else{var A;ko(A=this.getSummaryWithoutTemplate(f.data[w.column.field]))||v.push(A)}}else v.push("");y&&""!==v[parseInt(S.toString(),10)]&&!ko(v[parseInt(S.toString(),10)])&&null!==v[parseInt(S.toString(),10)]&&(y=!1),m+=1}else S--,m++}if(!c)if(o)for(S=u.groupSettings.columns.length;S<v.length-1;S++)v[parseInt(S.toString(),10)]=v[S+1],v[S+1]=v[S+2]?v[S+2]:"";else v.splice(0,1);if(!y)if(o)for(S=0;S<t.columns.count;S++)a.cells.getCell(S).value=v[parseInt(S.toString(),10)].toString(),S===l&&-1!==g&&1!==g?a.cells.getCell(S).columnSpan=g-1-l:S===l&&-1===g&&(a.cells.getCell(S).columnSpan=t.columns.count-l);else for(var S=0;S<t.columns.count;S++)M.cells.getCell(S).value=v[parseInt(S.toString(),10)].toString()}},e.prototype.getTemplateFunction=function(e,t,i,n){return ko(n.column.footerTemplate)||n.cellType!==ov.Summary?ko(n.column.groupCaptionTemplate)?e[Ao(ov,ov.GroupSummary)]=Uh(n.column.groupFooterTemplate):(-1===i&&(i=t),e[Ao(ov,ov.CaptionSummary)]=Uh(n.column.groupCaptionTemplate)):e[Ao(ov,ov.Summary)]=Uh(n.column.footerTemplate),{templateFunction:e,leastCaptionSummaryIndex:i}},e.prototype.getSummaryWithoutTemplate=function(e){return ko(e.Sum)?ko(e.Average)?ko(e.Max)?ko(e.Min)?ko(e.Count)?ko(e.TrueCount)?ko(e.FalseCount)?ko(e.Custom)?void 0:e.Custom:e.FalseCount:e.TrueCount:e.Count:e.Min:e.Max:e.Average:e.Sum},e.prototype.setColumnProperties=function(e,t,i,n,r){for(var s=n.groupSettings.columns.length?n.groupSettings.columns.length-1:0,o=0;o<s;o++)t.columns.getColumn(o).width=20;for(o=0;o<e.length;o++)ko(e[parseInt(o.toString(),10)].textAlign)||(t.columns.getColumn(o+s).format=this.getHorizontalAlignment(e[parseInt(o.toString(),10)].textAlign)),t.style.allowHorizontalOverflow&&!ko(e[parseInt(o.toString(),10)].width)&&r&&(t.columns.getColumn(o+s).width="number"===typeof e[parseInt(o.toString(),10)].width?.75*e[parseInt(o.toString(),10)].width:.75*i.getConvertedWidth(e[parseInt(o.toString(),10)].width))},e.prototype.setRecordThemeStyle=function(e,t){if(ko(this.gridTheme)||ko(this.gridTheme.record))e.style.setTextBrush(new rT(new tT(0,0,0)));else{var i=ko(this.gridTheme.record.fontName)?FD.Helvetica:this.getFontFamily(this.gridTheme.record.fontName),n=ko(this.gridTheme.record.fontSize)?9.75:this.gridTheme.record.fontSize,r=this.getFontStyle(this.gridTheme.record),s=new BA(i,n,r);ko(this.gridTheme.record.font)||(s=this.gridTheme.record.font),e.style.setFont(s);var o=new tT;if(!ko(this.gridTheme.record.fontColor)){var a=this.hexToRgb(this.gridTheme.record.fontColor);o=new tT(a.r,a.g,a.b)}e.style.setTextBrush(new rT(o))}var l=this.gridTheme&&this.gridTheme.record&&this.gridTheme.record.border?this.getBorderStyle(this.gridTheme.record.border):t;return e.style.setBorder(l),e},e.prototype.processRecord=function(e,t,i,n,r,s,o,a,l){for(var h=0,c=a.getGridRowModel(t,n,i,l);h<c.length;h++){var u=c[h];l++,this.rowIndex=l;for(var p=this.setRecordThemeStyle(r.rows.addRow(),e),d=u.cells.length,f=0;f<d;f++){var g=u.cells[parseInt(f.toString(),10)];if(g.cellType===ov.Data){var m=g.column,y=m.field,v=ko(y)?"":m.valueAccessor(y,u.data,m),b=ko(v)?"":v,M=void 0;if(m.isForeignColumn&&m.isForeignColumn()&&(M=a.getFData(b,m),b=No(m.foreignKeyValue,M)),(T={data:u.data,value:b,column:m,style:void 0,colSpan:1,cell:w=p.cells.getCell(f)}).value="boolean"===T.column.type&&"string"===typeof T.value?T.value:this.exportValueFormatter.formatCellValue(T),this.parent.trigger("pdfQueryCellInfo",T),ko(T.image)||(T.value=new cA(T.image.base64),T.value.height=T.image.height||T.value.height,T.value.width=T.image.width||T.value.width),w.value=T.value,ko(T.hyperLink)||(w.value=this.setHyperLink(T)),ko(T.style)||this.processCellStyle(w,T),T.colSpan>1){f+1+T.colSpan>p.cells.count&&(T.colSpan=p.cells.count-(f+1)),w.columnSpan=T.colSpan;for(var S=1;S<w.columnSpan;S++){p.cells.getCell(f+S).value=""}f+=T.colSpan-1}}}if(u.isExpand){var w,_=this.setRecordThemeStyle(r.rows.addRow(),e),I=this.parent.childGrid||this.parent.detailTemplate?0:s;if((w=_.cells.getCell(I)).columnSpan=_.cells.count-I,w.style.cellPadding=new WA(10,10,10,10),this.parent.childGrid){i.isPrinting=!0;var N=!ko(o)&&o.exportType?o.exportType:"AllPages",C=this.helper.createChildGrid(i,u,N,this.gridPool),x=C.childGrid,D=C.element;x.actionFailure=a.failureHandler(this.gridPool,x,this.globalResolve);var T={childGrid:x,row:u,cell:w,exportProperties:o};this.parent.trigger(bm,T),x.beforeDataBound=this.childGridCell(w,x,o),x.appendTo(D)}else if(this.parent.detailTemplate){T={parentRow:u,row:_,value:{},action:"pdfexport",gridInstance:i};this.parent.trigger(Mm,T),w.value=this.processDetailTemplate(T)}}this.parent.notify(Pm,{type:"pdf",rowObj:u})}return l},e.prototype.processDetailTemplate=function(e){var t=this;if(e.value.columnHeader||e.value.rows){var i=new Vj,n=this.getHeaderThemeStyle(),r=n.border,s=n.font,o=n.brush,a=function(e,i,n){n&&(i.style.setBorder(r),i.style.setFont(s),i.style.setTextBrush(o));for(var a=0;a<e.cells.length;a++){var l=e.cells[parseInt(a.toString(),10)],h=i.cells.getCell(l.index?l.index:a);if(l.rowSpan>0&&(h.rowSpan=l.rowSpan),l.colSpan>0&&(h.columnSpan=l.colSpan),h.value=l.value,ko(l.image)||(h.value=new cA(l.image.base64),h.value.height=l.image.height,h.value.width=l.image.width),ko(l.hyperLink)||(h.value=t.setHyperLink(l)),!ko(l.style)){var c={style:{backgroundColor:l.style.backColor,textAlignment:l.style.pdfTextAlignment,verticalAlignment:l.style.pdfVerticalAlignment,textBrushColor:l.style.fontColor,textPenColor:l.style.pdfTextPenColor,fontFamily:l.style.pdfFontFamily,fontSize:l.style.fontSize,bold:l.style.bold,italic:l.style.italic,underline:l.style.underline,strikeout:l.style.strikeThrough,border:l.style.pdfBorder,paragraphIndent:l.style.pdfParagraphIndent,cellPadding:l.style.pdfCellPadding}};t.processCellStyle(h,c)}}};if(e.value.columnCount?i.columns.add(e.value.columnCount):e.value.columnHeader&&e.value.columnHeader.length?i.columns.add(e.value.columnHeader[0].cells.length):e.value.rows&&e.value.rows.length&&i.columns.add(e.value.rows[0].cells.length),e.value.columnHeader){i.headers.add(e.value.columnHeader.length);for(var l=0;l<e.value.columnHeader.length;l++){var h=i.headers.getHeader(parseInt(l.toString(),10));a(e.value.columnHeader[parseInt(l.toString(),10)],h,!0)}}if(e.value.rows)for(var c=0,u=e.value.rows;c<u.length;c++){a(u[c],this.setRecordThemeStyle(i.rows.addRow(),r),!1)}return i}return e.value.image?new cA(e.value.image.base64):e.value.text?e.value.text:e.value.hyperLink?this.setHyperLink(e.value):""},e.prototype.setHyperLink=function(e){var t=new bj;return t.url=e.hyperLink.target,t.text=e.hyperLink.displayText||e.hyperLink.target,t.font=new BA(FD.Helvetica,9.75),t.brush=new rT(new tT(51,102,187)),t},e.prototype.childGridCell=function(e,t,i){var n=this;return function(r){return t.beforeDataBound=null,r.cancel=!0,e.value=n.processGridExport(t,r,i),t.destroy(),Qa(t.element),n.gridPool[t.id]=!0,n.helper.checkAndExport(n.gridPool,n.globalResolve),e}},e.prototype.processCellStyle=function(e,t){if(!ko(t.style.backgroundColor)){var i=this.hexToRgb(t.style.backgroundColor);e.style.backgroundBrush=new rT(new tT(i.r,i.g,i.b))}if(ko(t.style.textAlignment)||(e.style.stringFormat=this.getHorizontalAlignment(t.style.textAlignment)),ko(t.style.cellPadding)||(e.style.cellPadding=t.style.cellPadding),ko(t.style.verticalAlignment)||(e.style.stringFormat=this.getVerticalAlignment(t.style.verticalAlignment,e.style.stringFormat)),!ko(t.style.textBrushColor)){var n=this.hexToRgb(t.style.textBrushColor);e.style.textBrush=new rT(new tT(n.r,n.g,n.b))}if(!ko(t.style.textPenColor)){var r=this.hexToRgb(t.style.textPenColor);e.style.textPen=new sT(new tT(r.r,r.g,r.b))}if(ko(t.style.fontFamily)&&ko(t.style.fontSize)&&ko(t.style.bold)&&ko(t.style.italic)&&ko(t.style.underline)&&ko(t.style.strikeout)||(e.style.font=this.getFont(t)),!ko(t.style.border)){var s=new HA,o=t.style.border.width,a=ko(o)||"number"!==typeof o?void 0:.75*o,l=new tT(196,196,196);if(!ko(t.style.border.color)){var h=this.hexToRgb(t.style.border.color);l=new tT(h.r,h.g,h.b)}var c=new sT(l,a);ko(t.style.border.dashStyle)||(c.dashStyle=this.getDashStyle(t.style.border.dashStyle)),s.all=c,e.style.borders=s}ko(t.style.paragraphIndent)||(e.style.stringFormat=new oT,e.style.stringFormat.paragraphIndent=t.style.paragraphIndent)},e.prototype.getHorizontalAlignment=function(e,t){switch(void 0===t&&(t=new oT),e){case"Right":t.alignment=xD.Right;break;case"Center":t.alignment=xD.Center;break;case"Justify":t.alignment=xD.Justify;break;case"Left":t.alignment=xD.Left}return t},e.prototype.getVerticalAlignment=function(e,t,i){switch(void 0===t&&(t=new oT,t=this.getHorizontalAlignment(i,t)),e){case"Bottom":t.lineAlignment=CD.Bottom;break;case"Middle":t.lineAlignment=CD.Middle;break;case"Top":t.lineAlignment=CD.Top}return t},e.prototype.getFontFamily=function(e){switch(e){case"TimesRoman":return 2;case"Courier":return 1;case"Symbol":return 3;case"ZapfDingbats":return 4;default:return 0}},e.prototype.getFont=function(e){if(e.font)return e.font;var t=ko(e.style.fontSize)?9.75:.75*e.style.fontSize,i=ko(e.style.fontFamily)?FD.TimesRoman:this.getFontFamily(e.style.fontFamily),n=RD.Regular;return!ko(e.style.bold)&&e.style.bold&&(n|=RD.Bold),!ko(e.style.italic)&&e.style.italic&&(n|=RD.Italic),!ko(e.style.underline)&&e.style.underline&&(n|=RD.Underline),!ko(e.style.strikeout)&&e.style.strikeout&&(n|=RD.Strikeout),new BA(i,t,n)},e.prototype.getPageNumberStyle=function(e){switch(e){case"LowerLatin":return 2;case"LowerRoman":return 3;case"UpperLatin":return 4;case"UpperRoman":return 5;default:return 1}},e.prototype.setContentFormat=function(e,t){if(!ko(e.size)){var i=.75*e.size.width,n=.75*e.size.height;if(t=new oT(xD.Left,CD.Middle),!ko(e.style.hAlign))switch(e.style.hAlign){case"Right":t.alignment=xD.Right;break;case"Center":t.alignment=xD.Center;break;case"Justify":t.alignment=xD.Justify;break;default:t.alignment=xD.Left}return ko(e.style.vAlign)||(t=this.getVerticalAlignment(e.style.vAlign,t)),{format:t,size:new SD(i,n)}}return null},e.prototype.getPageSize=function(e){switch(e){case"Letter":return new SD(612,792);case"Note":return new SD(540,720);case"Legal":return new SD(612,1008);case"A0":return new SD(2380,3368);case"A1":return new SD(1684,2380);case"A2":return new SD(1190,1684);case"A3":return new SD(842,1190);case"A5":return new SD(421,595);case"A6":return new SD(297,421);case"A7":return new SD(210,297);case"A8":return new SD(148,210);case"A9":return new SD(105,148);case"B0":return new SD(2836,4008);case"B1":return new SD(2004,2836);case"B2":return new SD(1418,2004);case"B3":return new SD(1002,1418);case"B4":return new SD(709,1002);case"B5":return new SD(501,709);case"Archa":return new SD(648,864);case"Archb":return new SD(864,1296);case"Archc":return new SD(1296,1728);case"Archd":return new SD(1728,2592);case"Arche":return new SD(2592,3456);case"Flsa":return new SD(612,936);case"HalfLetter":return new SD(396,612);case"Letter11x17":return new SD(792,1224);case"Ledger":return new SD(1224,792);default:return new SD(595,842)}},e.prototype.getDashStyle=function(e){switch(e){case"Dash":return 1;case"Dot":return 2;case"DashDot":return 3;case"DashDotDot":return 4;default:return 0}},e.prototype.getPenFromContent=function(e){var t=new sT(new tT(0,0,0));if(!ko(e.style)&&null!==e.style&&!ko(e.style.penColor)){var i=this.hexToRgb(e.style.penColor);t=new sT(new tT(i.r,i.g,i.b))}return t},e.prototype.getBrushFromContent=function(e){var t=null;if(!ko(e.style.textBrushColor)){var i=this.hexToRgb(e.style.textBrushColor);t=new rT(new tT(i.r,i.g,i.b))}return t},e.prototype.hexToRgb=function(e){if(null===e||""===e||7!==e.length)throw new Error("please set valid hex value for color...");e=e.substring(1);var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},e.prototype.getFontStyle=function(e){var t=RD.Regular;return!ko(e)&&e.bold&&(t|=RD.Bold),!ko(e)&&e.italic&&(t|=RD.Italic),!ko(e)&&e.underline&&(t|=RD.Underline),!ko(e)&&e.strikeout&&(t|=RD.Strikeout),t},e.prototype.getBorderStyle=function(e){var t=new HA;if(ko(e))t.all=new sT(new tT(234,234,234));else{var i=e.width,n=ko(i)||"number"!==typeof i?void 0:.75*i,r=new tT(196,196,196);if(!ko(e.color)){var s=this.hexToRgb(e.color);r=new tT(s.r,s.g,s.b)}var o=new sT(r,n);ko(e.dashStyle)||(o.dashStyle=this.getDashStyle(e.dashStyle)),t.all=o}return t},e.prototype.destroy=function(){},e}();const rE=()=>{const[e,t]=(0,n.useState)([]),i=te(),r=(0,n.useRef)(null);(0,n.useEffect)((()=>{(async()=>{try{const e=await Vi.get("https://api.benzosoft.com/nschapi/api/StudentView?LoginUserID=1&LoginRoleID=1");e.data.isSuccess&&t(e.data.result)}catch(e){console.error("Error fetching student data:",e)}})()}),[]);return(0,Hi.jsxs)("div",{className:"container mt-5",children:[(0,Hi.jsx)("h2",{children:"Student View"}),(0,Hi.jsxs)("div",{className:"d-flex justify-content-end mb-2",children:[(0,Hi.jsx)("button",{className:"btn btn-primary me-2",onClick:()=>i("/StudentDetail/0"),children:"Add New"}),(0,Hi.jsx)("button",{className:"btn btn-secondary",onClick:()=>i("/dashboard"),children:"Go Back"})]}),(0,Hi.jsxs)(aw,{dataSource:e,allowPaging:!0,allowExcelExport:!0,allowPdfExport:!0,allowSorting:!0,gridLines:"Both",toolbar:["Search","ExcelExport","PdfExport"],toolbarClick:e=>{e.item.id.includes("excelexport")?(console.log("1.Toolbar clicked:",e.item.id),r.current&&(r.current.excelExport(),console.log("2.Toolbar clicked:",e.item.id))):e.item.id.includes("pdfexport")&&r.current&&r.current.pdfExport()},ref:r,pageSettings:{pageCount:5},children:[(0,Hi.jsxs)(cw,{children:[(0,Hi.jsx)(hw,{field:"studentID",headerText:"Student ID",width:"100",textAlign:"Right"}),(0,Hi.jsx)(hw,{field:"studentName",headerText:"Name",width:"200"}),(0,Hi.jsx)(hw,{field:"grade",headerText:"Grade",width:"100"}),(0,Hi.jsx)(hw,{field:"sec",headerText:"Section",width:"100"}),(0,Hi.jsx)(hw,{field:"religion",headerText:"Religion",width:"100"}),(0,Hi.jsx)(hw,{field:"community",headerText:"Community",width:"100"}),(0,Hi.jsx)(hw,{headerText:"Actions",width:"100",textAlign:"Center",template:e=>(0,Hi.jsx)("button",{className:"btn btn-link p-0",onClick:()=>{return t=e.studentID,void i("/StudentDetail/".concat(t));var t},children:(0,Hi.jsx)("i",{className:"fas fa-pencil-alt"})})})]}),(0,Hi.jsx)(cd,{services:[vw,OS,E_,k_,zC,xx,nE]})]})]})};const sE=function(){return(0,Hi.jsx)(_e,{children:(0,Hi.jsxs)(ye,{children:[(0,Hi.jsx)(ge,{path:"/",element:(0,Hi.jsx)(Wi,{})}),(0,Hi.jsx)(ge,{path:"/dashboard",element:(0,Hi.jsx)(Yi,{})}),(0,Hi.jsx)(ge,{path:"/StudentDetail/:studentID",element:(0,Hi.jsx)(Bf,{})}),(0,Hi.jsx)(ge,{path:"/StudentView",element:(0,Hi.jsx)(rE,{})})]})})},oE=e=>{e&&e instanceof Function&&i.e(453).then(i.bind(i,453)).then((t=>{let{getCLS:i,getFID:n,getFCP:r,getLCP:s,getTTFB:o}=t;i(e),n(e),r(e),s(e),o(e)}))},aE="ORg4AjUWIQA/Gnt2VlhhQlJCfV5AQmBIYVp/TGpJfl96cVxMZVVBJAtUQF1hTX5VdEZjW3tecHdTRGRY";Bl(aE),console.log("Syncfusion License Key:",aE);s.createRoot(document.getElementById("root")).render((0,Hi.jsx)(n.StrictMode,{children:(0,Hi.jsx)(sE,{})})),oE()})()})();
//# sourceMappingURL=main.0ee30c0f.js.map